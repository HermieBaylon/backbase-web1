import { AccountBalanceHistory, AccountsHttpService } from '@backbase/data-ang/arrangements';
import { BehaviorSubject, Observable } from 'rxjs';
import { BalanceHistoryDataSeries, BalanceHistoryExportData, BalanceHistoryExportFormat, BalanceHistoryPaginated, GetBalanceHistoryRequestPaginatedObjectType, GetBalanceHistoryRequestSeriesObjectType } from '../../model/types';
import { BalanceHistoryError } from '../../errors/balance-history-service-errors';
import * as i0 from "@angular/core";
export declare class BalanceHistoryCommonService {
    private readonly accountDataService;
    private readonly reportDefaultFileName;
    private readonly requestObjectSeries;
    private readonly requestObjectPaginated;
    constructor(accountDataService: AccountsHttpService);
    readonly errorSeries: BehaviorSubject<BalanceHistoryError | undefined>;
    readonly errorPaginated: BehaviorSubject<BalanceHistoryError | undefined>;
    readonly loadingPaginated: BehaviorSubject<boolean>;
    readonly loadingSeries: BehaviorSubject<boolean>;
    readonly balanceHistorySeries: Observable<AccountBalanceHistory | undefined>;
    readonly balanceHistoryPaginated: Observable<BalanceHistoryPaginated | undefined>;
    getBalanceHistorySeries(request: GetBalanceHistoryRequestSeriesObjectType): Observable<AccountBalanceHistory>;
    getBalanceHistoryPaginated(request: GetBalanceHistoryRequestPaginatedObjectType): Observable<BalanceHistoryPaginated>;
    loadBalanceHistorySeries(requestObjectSeries: Observable<GetBalanceHistoryRequestSeriesObjectType>): void;
    loadBalanceHistoryPaginated(requestObjectPaginated: Observable<GetBalanceHistoryRequestPaginatedObjectType>): void;
    /**
     * Returns URL for fetching balance history data
     *
     * @param format
     * @param exportParameters
     */
    exportBalanceHistory(format: BalanceHistoryExportFormat, exportParameters: GetBalanceHistoryRequestSeriesObjectType): string;
    /**
     * Fetches balance history data in one of the available formats
     *
     * @param format
     * @param exportParameters
     */
    getBalanceHistory(format: BalanceHistoryExportFormat, exportParameters: GetBalanceHistoryRequestSeriesObjectType): Observable<BalanceHistoryExportData>;
    private responsesMerge;
    processBalanceHistory(balanceHistory: AccountBalanceHistory): BalanceHistoryDataSeries[];
    private mapResponseWithCount;
    private getBalanceHistoryRequestParameters;
    private getBalanceHistoryForArrangementRequestParameters;
    private toRequestParameters;
    private getFileNameFromHeaders;
    static ɵfac: i0.ɵɵFactoryDeclaration<BalanceHistoryCommonService, never>;
    static ɵprov: i0.ɵɵInjectableDeclaration<BalanceHistoryCommonService>;
}
