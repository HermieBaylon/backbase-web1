{"version":3,"file":"backbase-income-spending-analysis-widget-ang.umd.js","sources":["../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/constants.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/pie/pie-label.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/services/injection-registery.service.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/model/position.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/tooltip/tooltip.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/services/injection.service.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/tooltip/tooltip.service.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/tooltip/tooltip.directive.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/pie/pie-series.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/pie/pie-chart.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/donut-chart.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/donut-chart.component.html","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/tooltip/tooltip.module.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/ngx/pie/pie-chart.module.ts","../../../../libs/income-spending-analysis-widget/src/bb-donut-chart-ui/donut-chart.module.ts","../../../../libs/income-spending-analysis-widget/src/constants.ts","../../../../libs/income-spending-analysis-widget/src/bb-month-selector-ui/month-selector.component.ts","../../../../libs/income-spending-analysis-widget/src/bb-month-selector-ui/month-selector.component.html","../../../../libs/income-spending-analysis-widget/src/income-spending-analysis.service.ts","../../../../libs/income-spending-analysis-widget/src/income-spending-analysis.component.ts","../../../../libs/income-spending-analysis-widget/src/income-spending-analysis.component.html","../../../../libs/income-spending-analysis-widget/src/income-spending-analysis.module.ts","../../../../libs/income-spending-analysis-widget/backbase-income-spending-analysis-widget-ang.ts"],"sourcesContent":["export const CARET_SIZE_CSS_VAR = '--chart-tooltip-caret-size';\nexport enum ArrowClasses {\n  LEFT = 'bb-arrow-left',\n  RIGHT = 'bb-arrow-right',\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\nimport { trimLabel } from '@swimlane/ngx-charts';\nimport { Arc } from '../../model/types';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'g[bb-charts-pie-label]',\n  template: `\n    <ng-container *ngIf=\"template; else defaultTemplate\">\n      <ng-template\n        [ngTemplateOutlet]=\"template\"\n        [ngTemplateOutletContext]=\"{ data: data, color: color, icon: icon, label: labelText }\"\n      >\n      </ng-template>\n    </ng-container>\n\n    <ng-template #defaultTemplate>\n      <svg:g [attr.transform]=\"attrTransform\" [style.transform]=\"styleTransform\" [style.transition]=\"textTransition\">\n        <svg:text\n          class=\"pie-label\"\n          [class.animation]=\"animations\"\n          dy=\".35em\"\n          [style.textAnchor]=\"'middle'\"\n          [style.shapeRendering]=\"'crispEdges'\"\n        >\n          {{ labelText }}\n        </svg:text>\n      </svg:g>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PieLabelComponent implements OnInit {\n  /**\n   * Information about the chart slice.\n   */\n  @Input() data: Arc | undefined;\n  /**\n   * Radius of the circle.\n   */\n  @Input() radius = 0;\n  /**\n   * Text for the label.\n   */\n  @Input() label: string | undefined;\n  /**\n   * Color hex for the label.\n   */\n  @Input() color: string | undefined;\n  /**\n   * Icon name for the label.\n   */\n  @Input() icon: string | undefined;\n  /**\n   * The maximum number of labels displayed.\n   */\n  @Input() max = 1;\n  /**\n   * Value of the label.\n   */\n  @Input() value = 0;\n  /**\n   * Make the radius of each slice proportional to it's value.\n   */\n  @Input() explodeSlices = false;\n  /**\n   * Enable/Disable animations.\n   */\n  @Input() animations = true;\n  /**\n   * Enable/Disable label trimming.\n   */\n  @Input() labelTrim = true;\n  /**\n   * Set the label trimming size.\n   */\n  @Input() labelTrimSize = 10;\n  /**\n   * Template for the label.\n   */\n  @Input() template: any;\n\n  trimLabel: (label: string, max?: number) => string;\n\n  private readonly isIE = /(edge|msie|trident)/i.test(navigator.userAgent);\n\n  constructor() {\n    this.trimLabel = trimLabel;\n  }\n\n  get labelText() {\n    return this.labelTrim ? trimLabel(this.label || '', this.labelTrimSize) : this.label;\n  }\n\n  get textX(): number {\n    return this.data ? this.data.pos[0] : 0;\n  }\n\n  get textY(): number {\n    return this.data ? this.data.pos[1] : 0;\n  }\n\n  get textTransition(): string {\n    return this.isIE || !this.animations ? '' : 'transform 0.75s';\n  }\n\n  get styleTransform(): string {\n    return this.isIE ? '' : `translate3d(${this.textX}px, ${this.textY}px, 0)`;\n  }\n\n  get attrTransform(): string {\n    return !this.isIE ? '' : `translate(${this.textX}, ${this.textY})`;\n  }\n\n  ngOnInit() {\n    if (typeof this.data === 'undefined') {\n      throw new Error(`\"data\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n}\n","import { ComponentRef, Type } from '@angular/core';\nimport { InjectionService } from './injection.service';\n\nexport interface PartialBindings {\n  inputs?: object;\n  outputs?: object;\n}\n\nexport abstract class InjectionRegisteryService<T = any> {\n  protected abstract type: Type<T>;\n\n  protected defaults: PartialBindings = {};\n  protected components: Map<any, Array<ComponentRef<T>>> = new Map();\n\n  constructor(public injectionService: InjectionService) {}\n\n  getByType(type: Type<T> = this.type) {\n    return this.components.get(type);\n  }\n\n  create(bindings: object): ComponentRef<T> {\n    return this.createByType(this.type, bindings);\n  }\n\n  createByType(type: Type<T>, bindings: PartialBindings): ComponentRef<T> {\n    bindings = this.assignDefaults(bindings);\n\n    const component = this.injectComponent(type, bindings);\n    this.register(type, component);\n\n    return component;\n  }\n\n  destroy(instance: ComponentRef<T>): void {\n    const compsByType = this.components.get(instance.componentType);\n\n    if (compsByType && compsByType.length) {\n      const idx = compsByType.indexOf(instance);\n\n      if (idx > -1) {\n        const component = compsByType[idx];\n        component.destroy();\n        compsByType.splice(idx, 1);\n      }\n    }\n  }\n\n  destroyAll(): void {\n    this.destroyByType(this.type);\n  }\n\n  destroyByType(type: Type<T>): void {\n    const comps = this.components.get(type);\n\n    if (comps && comps.length) {\n      let i = comps.length - 1;\n      while (i >= 0) {\n        this.destroy(comps[i--]);\n      }\n    }\n  }\n\n  protected injectComponent(type: Type<T>, bindings: PartialBindings): ComponentRef<T> {\n    return this.injectionService.appendComponent(type, bindings);\n  }\n\n  protected assignDefaults(bindings: PartialBindings): PartialBindings {\n    const inputs = { ...this.defaults.inputs };\n    const outputs = { ...this.defaults.outputs };\n\n    if (!bindings.inputs && !bindings.outputs) {\n      bindings = { inputs: bindings };\n    }\n\n    if (inputs) {\n      bindings.inputs = { ...inputs, ...bindings.inputs };\n    }\n\n    if (outputs) {\n      bindings.outputs = { ...outputs, ...bindings.outputs };\n    }\n\n    return bindings;\n  }\n\n  protected register(type: Type<T>, component: ComponentRef<T>): void {\n    if (!this.components.has(type)) {\n      this.components.set(type, []);\n    }\n\n    const types = this.components.get(type) || [];\n    types.push(component);\n  }\n}\n","import { PlacementTypes } from '@swimlane/ngx-charts';\n\nconst caretOffset = 7;\n\nfunction verticalPosition(elDimensions: any, popoverDimensions: any, alignment: any) {\n  if (alignment === 'top') {\n    return elDimensions.top - caretOffset;\n  }\n\n  if (alignment === 'bottom') {\n    return elDimensions.top + elDimensions.height - popoverDimensions.height + caretOffset;\n  }\n\n  if (alignment === 'center') {\n    return elDimensions.top + elDimensions.height / 2 - popoverDimensions.height / 2;\n  }\n\n  return undefined;\n}\n\nfunction horizontalPosition(elDimensions: any, popoverDimensions: any, alignment: any) {\n  if (alignment === 'left') {\n    return elDimensions.left - caretOffset;\n  }\n\n  if (alignment === 'right') {\n    return elDimensions.left + elDimensions.width - popoverDimensions.width + caretOffset;\n  }\n\n  if (alignment === 'center') {\n    return elDimensions.left + elDimensions.width / 2 - popoverDimensions.width / 2;\n  }\n\n  return undefined;\n}\n\n/**\n * Position helper for the popover directive.\n *\n * @export\n */\nexport class PositionHelper {\n  /**\n   * Calculate vertical alignment position\n   *\n   * @memberOf PositionHelper\n   */\n  static calculateVerticalAlignment(elDimensions: any, popoverDimensions: any, alignment: any): number {\n    let result = verticalPosition(elDimensions, popoverDimensions, alignment);\n\n    if (result + popoverDimensions.height > window.innerHeight) {\n      result = window.innerHeight - popoverDimensions.height;\n    }\n\n    return result || 0;\n  }\n\n  /**\n   * Calculate vertical caret position\n   *\n   * @memberOf PositionHelper\n   */\n  static calculateVerticalCaret(\n    elDimensions: any,\n    popoverDimensions: any,\n    caretDimensions: any,\n    alignment: any,\n  ): number {\n    let result = 0;\n\n    if (alignment === 'top') {\n      result = elDimensions.height / 2 - caretDimensions.height / 2 + caretOffset;\n    }\n\n    if (alignment === 'bottom') {\n      result = popoverDimensions.height - elDimensions.height / 2 - caretDimensions.height / 2 - caretOffset;\n    }\n\n    if (alignment === 'center') {\n      result = popoverDimensions.height / 2 - caretDimensions.height / 2;\n    }\n\n    const popoverPosition = verticalPosition(elDimensions, popoverDimensions, alignment);\n    if (popoverPosition + popoverDimensions.height > window.innerHeight) {\n      result += popoverPosition + popoverDimensions.height - window.innerHeight;\n    }\n\n    return result;\n  }\n\n  /**\n   * Calculate horz alignment position\n   *\n   * @memberOf PositionHelper\n   */\n  static calculateHorizontalAlignment(elDimensions: any, popoverDimensions: any, alignment: any): number {\n    let result = horizontalPosition(elDimensions, popoverDimensions, alignment);\n\n    if (result + popoverDimensions.width > window.innerWidth) {\n      result = window.innerWidth - popoverDimensions.width;\n    }\n\n    return result || 0;\n  }\n\n  /**\n   * Calculate horz caret position\n   *\n   * @memberOf PositionHelper\n   */\n  static calculateHorizontalCaret(\n    elDimensions: any,\n    popoverDimensions: any,\n    caretDimensions: any,\n    alignment: any,\n  ): number {\n    let result = 0;\n\n    if (alignment === 'left') {\n      result = elDimensions.width / 2 - caretDimensions.width / 2 + caretOffset;\n    }\n\n    if (alignment === 'right') {\n      result = popoverDimensions.width - elDimensions.width / 2 - caretDimensions.width / 2 - caretOffset;\n    }\n\n    if (alignment === 'center') {\n      result = popoverDimensions.width / 2 - caretDimensions.width / 2;\n    }\n\n    const popoverPosition = horizontalPosition(elDimensions, popoverDimensions, alignment);\n    if (popoverPosition + popoverDimensions.width > window.innerWidth) {\n      result += popoverPosition + popoverDimensions.width - window.innerWidth;\n    }\n\n    return result;\n  }\n\n  /**\n   * Checks if the element's position should be flipped\n   *\n   * @memberOf PositionHelper\n   */\n  static shouldFlip(elDimensions: any, popoverDimensions: any, placement: any, spacing: any): boolean {\n    let flip = false;\n\n    if (placement === 'right') {\n      if (elDimensions.left + elDimensions.width + popoverDimensions.width + spacing > window.innerWidth) {\n        flip = true;\n      }\n    }\n\n    if (placement === 'left') {\n      if (elDimensions.left - popoverDimensions.width - spacing < 0) {\n        flip = true;\n      }\n    }\n\n    if (placement === 'top') {\n      if (elDimensions.top - popoverDimensions.height - spacing < 0) {\n        flip = true;\n      }\n    }\n\n    if (placement === 'bottom') {\n      if (elDimensions.top + elDimensions.height + popoverDimensions.height + spacing > window.innerHeight) {\n        flip = true;\n      }\n    }\n\n    return flip;\n  }\n\n  /**\n   * Position caret\n   *\n   * @memberOf PositionHelper\n   */\n  static positionCaret(placement: any, elmDim: any, hostDim: any, caretDimensions: any, alignment: any): any {\n    let top = 0;\n    let left = 0;\n\n    if (placement === PlacementTypes.Right) {\n      left = -7;\n      top = PositionHelper.calculateVerticalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.Left) {\n      left = elmDim.width;\n      top = PositionHelper.calculateVerticalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.Top) {\n      top = elmDim.height;\n      left = PositionHelper.calculateHorizontalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.Bottom) {\n      top = -7;\n      left = PositionHelper.calculateHorizontalCaret(hostDim, elmDim, caretDimensions, alignment);\n    }\n\n    return { top, left };\n  }\n\n  /**\n   * Position content\n   *\n   * @memberOf PositionHelper\n   */\n  static positionContent(placement: any, elmDim: any, hostDim: any, spacing: any, alignment: any): any {\n    let top = 0;\n    let left = 0;\n\n    if (placement === PlacementTypes.Right) {\n      left = hostDim.left + hostDim.width + spacing;\n      top = PositionHelper.calculateVerticalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.Left) {\n      left = hostDim.left - elmDim.width - spacing;\n      top = PositionHelper.calculateVerticalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.Top) {\n      top = hostDim.top - elmDim.height - spacing;\n      left = PositionHelper.calculateHorizontalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.Bottom) {\n      top = hostDim.top + hostDim.height + spacing;\n      left = PositionHelper.calculateHorizontalAlignment(hostDim, elmDim, alignment);\n    }\n\n    return { top, left };\n  }\n\n  /**\n   * Determine placement based on flip\n   *\n   * @memberOf PositionHelper\n   */\n  static determinePlacement(placement: any, elmDim: any, hostDim: any, spacing: any): any {\n    const shouldFlip = PositionHelper.shouldFlip(hostDim, elmDim, placement, spacing);\n\n    if (shouldFlip) {\n      if (placement === PlacementTypes.Right) {\n        return PlacementTypes.Left;\n      } else if (placement === PlacementTypes.Left) {\n        return PlacementTypes.Right;\n      } else if (placement === PlacementTypes.Top) {\n        return PlacementTypes.Bottom;\n      } else if (placement === PlacementTypes.Bottom) {\n        return PlacementTypes.Top;\n      }\n    }\n\n    return placement;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Input,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { PlacementTypes, StyleTypes, throttleable } from '@swimlane/ngx-charts';\nimport { PositionHelper } from '../../model/position';\n\n@Component({\n  selector: 'bb-tooltip-content',\n  template: `\n    <div class=\"tooltip-content\">\n      <span *ngIf=\"!title\">\n        <ng-template [ngTemplateOutlet]=\"template\" [ngTemplateOutletContext]=\"{ model: context }\"> </ng-template>\n      </span>\n      <span *ngIf=\"title\" [innerHTML]=\"title\"> </span>\n    </div>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  styleUrls: ['./tooltip.component.scss'],\n})\nexport class TooltipContentComponent implements AfterViewInit {\n  @Input() host: any;\n  @Input() type: StyleTypes | undefined;\n  @Input() placement: PlacementTypes | undefined;\n  @Input() alignment: PlacementTypes | undefined;\n  @Input() spacing: number | undefined;\n  @Input() cssClass: string | undefined;\n  @Input() title: string | undefined;\n  @Input() template: any;\n  @Input() context: any;\n  @Input() pos: [number, number] | undefined;\n\n  @HostBinding('class')\n  get cssClasses(): string {\n    let clz = 'ngx-charts-tooltip-content';\n    clz += ` position-${this.placement}`;\n    clz += ` type-${this.type}`;\n    clz += ` ${this.cssClass}`;\n    return clz;\n  }\n\n  constructor(public element: ElementRef, private readonly renderer: Renderer2) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(this.position.bind(this));\n  }\n\n  position(): void {\n    // if host is not there, don't show\n    if (!this.host) {\n      return;\n    }\n\n    const nativeElm = this.element.nativeElement;\n    const hostDim = this.host.nativeElement.getBoundingClientRect();\n\n    // if no dims were found, never show\n    if (!hostDim.height && !hostDim.width) return;\n\n    const elmDim = nativeElm.getBoundingClientRect();\n    this.checkFlip(hostDim, elmDim);\n    this.positionContent(nativeElm, hostDim, elmDim);\n\n    // animate its entry\n    setTimeout(() => this.renderer.addClass(nativeElm, 'animate'), 1);\n  }\n\n  positionContent(nativeElm: HTMLElement, hostDim: any, elmDim: any): void {\n    // if custom position is requested, ignore library's calculations\n    if (this.pos && this.pos.length === 2) {\n      const arrowSize: number = (this.context.arrowSize || 0) * (this.placement === PlacementTypes.Right ? 1 : -1);\n      const l = this.pos[0] + arrowSize + elmDim.width * (this.placement === PlacementTypes.Right ? 0 : -1);\n      const t = this.pos[1] - elmDim.height / 2;\n\n      this.renderer.setStyle(nativeElm, 'top', `${t}px`);\n      this.renderer.setStyle(nativeElm, 'left', `${l}px`);\n      return;\n    }\n\n    const { top, left } = PositionHelper.positionContent(this.placement, elmDim, hostDim, this.spacing, this.alignment);\n\n    this.renderer.setStyle(nativeElm, 'top', `${top}px`);\n    this.renderer.setStyle(nativeElm, 'left', `${left}px`);\n  }\n\n  checkFlip(hostDim: any, elmDim: any): void {\n    this.placement = PositionHelper.determinePlacement(this.placement, elmDim, hostDim, this.spacing);\n  }\n\n  @HostListener('window:resize')\n  @throttleable(100)\n  onWindowResize(): void {\n    this.position();\n  }\n}\n","import { ComponentPortal, DomPortalHost } from '@angular/cdk/portal';\nimport {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Injectable,\n  Injector,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\n\nfunction isViewContainerRef(x: any): x is ViewContainerRef {\n  return x.element;\n}\n\n/**\n * Injection service is a helper to append components\n * dynamically to a known location in the DOM, most\n * noteably for dialogs/tooltips appending to body.\n *\n * @export\n */\n@Injectable()\nexport class InjectionService {\n  // eslint-disable-next-line\n  static globalRootViewContainer: ViewContainerRef | null = null;\n\n  /**\n   * Sets a default global root view container. This is useful for\n   * things like ngUpgrade that doesn't have a ApplicationRef root.\n   *\n   * @param container\n   */\n  static setGlobalRootViewContainer(container: ViewContainerRef): void {\n    InjectionService.globalRootViewContainer = container;\n  }\n  // eslint-disable-next-line\n  private _container: ViewContainerRef | undefined;\n\n  constructor(\n    private applicationRef: ApplicationRef,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private injector: Injector,\n  ) {}\n\n  /**\n   * Gets the root view container to inject the component to.\n   *\n   * @memberOf InjectionService\n   */\n  getRootViewContainer(): ViewContainerRef | ComponentRef<any> {\n    if (this._container) return this._container;\n    if (InjectionService.globalRootViewContainer) return InjectionService.globalRootViewContainer;\n\n    if (this.applicationRef.components.length) return this.applicationRef.components[0];\n\n    throw new Error(\n      'View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.',\n    );\n  }\n\n  /**\n   * Overrides the default root view container. This is useful for\n   * things like ngUpgrade that doesn't have a ApplicationRef root.\n   *\n   * @param container\n   *\n   * @memberOf InjectionService\n   */\n  setRootViewContainer(container: ViewContainerRef): void {\n    this._container = container;\n  }\n\n  /**\n   * Gets the html element for a component ref.\n   *\n   * @param componentRef\n   *\n   * @memberOf InjectionService\n   */\n  getComponentRootNode(component: ViewContainerRef | ComponentRef<any>): HTMLElement {\n    if (isViewContainerRef(component)) {\n      return component.element.nativeElement;\n    }\n    if (component.hostView && (component.hostView as EmbeddedViewRef<any>).rootNodes.length > 0) {\n      return (component.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n    }\n\n    // the top most component root node has no `hostView`\n    return component.location.nativeElement;\n  }\n\n  /**\n   * Gets the root component container html element.\n   *\n   * @memberOf InjectionService\n   */\n  getRootViewContainerNode(component: ViewContainerRef | ComponentRef<any>): HTMLElement {\n    return this.getComponentRootNode(component);\n  }\n\n  /**\n   * Projects the bindings onto the component\n   *\n   * @param component\n   * @param options\n   *\n   * @memberOf InjectionService\n   */\n  projectComponentBindings(component: ComponentRef<any>, bindings: any): ComponentRef<any> {\n    if (bindings) {\n      if (bindings.inputs !== undefined) {\n        const bindingKeys = Object.getOwnPropertyNames(bindings.inputs);\n        for (const bindingName of bindingKeys) {\n          component.instance[bindingName] = bindings.inputs[bindingName];\n        }\n      }\n\n      if (bindings.outputs !== undefined) {\n        const eventKeys = Object.getOwnPropertyNames(bindings.outputs);\n        for (const eventName of eventKeys) {\n          component.instance[eventName] = bindings.outputs[eventName];\n        }\n      }\n    }\n\n    return component;\n  }\n\n  /**\n   * Appends a component to a adjacent location\n   *\n   * @param componentClass\n   * @param [options={}]\n   * @param [location]\n   *\n   * @memberOf InjectionService\n   */\n  appendComponent<T>(componentClass: Type<T>, bindings: any = {}, location?: any): ComponentRef<any> {\n    if (!location) location = this.getRootViewContainer();\n    const appendLocation = this.getComponentRootNode(location);\n\n    const portalHost = new DomPortalHost(\n      appendLocation,\n      this.componentFactoryResolver,\n      this.applicationRef,\n      this.injector,\n    );\n\n    const portal = new ComponentPortal(componentClass);\n\n    const componentRef = portalHost.attach(portal);\n    this.projectComponentBindings(componentRef, bindings);\n    return componentRef;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { InjectionRegisteryService } from '../../services/injection-registery.service';\nimport { InjectionService } from '../../services/injection.service';\nimport { TooltipContentComponent } from './tooltip.component';\n\n@Injectable()\nexport class TooltipService extends InjectionRegisteryService {\n  type: any = TooltipContentComponent;\n\n  constructor(public injectionService: InjectionService) {\n    super(injectionService);\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  Output,\n  Renderer2,\n  ViewContainerRef,\n} from '@angular/core';\nimport { PlacementTypes, ShowTypes, StyleTypes } from '@swimlane/ngx-charts';\nimport { TooltipService } from './tooltip.service';\n\n@Directive({\n  // eslint-disable-next-line @angular-eslint/directive-selector\n  selector: '[bb-tooltip]',\n})\nexport class TooltipDirective implements OnDestroy {\n  @Input() tooltipCssClass = '';\n  @Input() tooltipTitle = '';\n  @Input() tooltipPosition: [number, number] | undefined;\n  @Input() tooltipAppendToBody = true;\n  @Input() tooltipSpacing = 10;\n  @Input() tooltipDisabled = false;\n  @Input() tooltipShowCaret = true;\n  @Input() tooltipPlacement: PlacementTypes = PlacementTypes.Top;\n  @Input() tooltipAlignment: PlacementTypes = PlacementTypes.Center;\n  @Input() tooltipType: StyleTypes = StyleTypes.popover;\n  @Input() tooltipCloseOnClickOutside = true;\n  @Input() tooltipCloseOnMouseLeave = true;\n  @Input() tooltipHideTimeout = 300;\n  @Input() tooltipShowTimeout = 100;\n  @Input() tooltipTemplate: any;\n  @Input() tooltipShowEvent: ShowTypes = ShowTypes.all;\n  @Input() tooltipContext: any;\n  @Input() tooltipImmediateExit = false;\n\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() show = new EventEmitter();\n  @Output() hide = new EventEmitter();\n\n  private get listensForFocus(): boolean {\n    return this.tooltipShowEvent === ShowTypes.all || this.tooltipShowEvent === ShowTypes.focus;\n  }\n\n  private get listensForHover(): boolean {\n    return this.tooltipShowEvent === ShowTypes.all || this.tooltipShowEvent === ShowTypes.mouseover;\n  }\n\n  private component: any;\n  private timeout: any;\n  private mouseLeaveContentEvent: any;\n  private mouseEnterContentEvent: any;\n  private documentClickEvent: any;\n\n  constructor(\n    private readonly tooltipService: TooltipService,\n    private readonly viewContainerRef: ViewContainerRef,\n    private readonly renderer: Renderer2,\n  ) {}\n\n  ngOnDestroy(): void {\n    this.hideTooltip(true);\n  }\n\n  @HostListener('focusin')\n  onFocus(): void {\n    if (this.listensForFocus) {\n      this.showTooltip();\n    }\n  }\n\n  @HostListener('blur')\n  onBlur(): void {\n    if (this.listensForFocus) {\n      this.hideTooltip(true);\n    }\n  }\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    if (this.listensForHover) {\n      this.showTooltip();\n    }\n  }\n\n  @HostListener('mouseleave', ['$event.target'])\n  onMouseLeave(target: any): void {\n    if (this.listensForHover && this.tooltipCloseOnMouseLeave) {\n      clearTimeout(this.timeout);\n\n      if (this.component) {\n        const contentDom = this.component.instance.element.nativeElement;\n        const contains = contentDom.contains(target);\n        if (contains) return;\n      }\n\n      this.hideTooltip(this.tooltipImmediateExit);\n    }\n  }\n\n  @HostListener('click')\n  onMouseClick() {\n    if (this.listensForHover) {\n      this.hideTooltip(true);\n    }\n  }\n\n  showTooltip(immediate?: boolean): void {\n    if (this.component || this.tooltipDisabled) return;\n\n    const time = immediate ? 0 : this.tooltipShowTimeout;\n\n    clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      this.tooltipService.destroyAll();\n\n      const options = this.createBoundOptions();\n      this.component = this.tooltipService.create(options);\n\n      // add a tiny timeout to avoid event re-triggers\n      setTimeout(() => {\n        if (this.component) {\n          this.addHideListeners(this.component.instance.element.nativeElement);\n        }\n      }, 10);\n\n      this.show.emit(true);\n    }, time);\n  }\n\n  addHideListeners(tooltip: any): void {\n    // on mouse enter, cancel the hide triggered by the leave\n    this.mouseEnterContentEvent = this.renderer.listen(tooltip, 'mouseenter', () => {\n      clearTimeout(this.timeout);\n    });\n\n    // content mouse leave listener\n    if (this.tooltipCloseOnMouseLeave) {\n      this.mouseLeaveContentEvent = this.renderer.listen(tooltip, 'mouseleave', () => {\n        this.hideTooltip(this.tooltipImmediateExit);\n      });\n    }\n\n    // content close on click outside\n    if (this.tooltipCloseOnClickOutside) {\n      this.documentClickEvent = this.renderer.listen(document, 'click', (event: any) => {\n        const contains = tooltip.contains(event.target);\n        if (!contains) this.hideTooltip();\n      });\n    }\n  }\n\n  hideTooltip(immediate: boolean = false): void {\n    if (!this.component) return;\n\n    const destroyFn = () => {\n      // remove events\n      if (this.mouseLeaveContentEvent) this.mouseLeaveContentEvent();\n      if (this.mouseEnterContentEvent) this.mouseEnterContentEvent();\n      if (this.documentClickEvent) this.documentClickEvent();\n\n      // emit events\n      this.hide.emit(true);\n\n      // destroy component\n      this.tooltipService.destroy(this.component);\n      this.component = undefined;\n    };\n\n    clearTimeout(this.timeout);\n    if (!immediate) {\n      this.timeout = setTimeout(destroyFn, this.tooltipHideTimeout);\n    } else {\n      destroyFn();\n    }\n  }\n\n  private createBoundOptions(): any {\n    return {\n      title: this.tooltipTitle,\n      template: this.tooltipTemplate,\n      host: this.viewContainerRef.element,\n      placement: this.tooltipPlacement,\n      alignment: this.tooltipAlignment,\n      type: this.tooltipType,\n      showCaret: this.tooltipShowCaret,\n      cssClass: this.tooltipCssClass,\n      spacing: this.tooltipSpacing,\n      context: this.tooltipContext,\n      pos: this.tooltipPosition,\n    };\n  }\n}\n","import { CurrencyPipe } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  TemplateRef,\n} from '@angular/core';\nimport { ColorHelper, formatLabel, PlacementTypes, ViewDimensions } from '@swimlane/ngx-charts';\nimport { max } from 'd3-array';\nimport { arc, pie } from 'd3-shape';\nimport { Arc, ChartColorItem, ChartDataItemExtended } from '../../model/types';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'g[bb-charts-pie-series]',\n  template: `\n    <svg:g\n      *ngFor=\"let arc of data; trackBy: trackBy\"\n      data-role=\"analysis-donut-chart-segment\"\n      bb-tooltip\n      [tooltipDisabled]=\"tooltipDisabled\"\n      [tooltipPlacement]=\"getTooltipPlacement(arc)\"\n      [tooltipType]=\"'tooltip'\"\n      [tooltipShowCaret]=\"false\"\n      [tooltipSpacing]=\"0\"\n      [tooltipTitle]=\"getTooltipTitle(arc)\"\n      [tooltipPosition]=\"getTooltipPosition(arc)\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [tooltipContext]=\"arc.data\"\n    >\n      <svg:g\n        bb-charts-pie-label\n        *ngIf=\"labelVisible(arc)\"\n        [data]=\"arc\"\n        [radius]=\"outerRadius\"\n        [color]=\"color(arc)\"\n        [icon]=\"icon(arc)\"\n        [label]=\"labelText(arc)\"\n        [labelTrim]=\"trimLabels\"\n        [labelTrimSize]=\"maxLabelLength\"\n        [template]=\"labelTemplate\"\n        [max]=\"max\"\n        [value]=\"arc.value\"\n        [explodeSlices]=\"explodeSlices\"\n        [animations]=\"animations\"\n      ></svg:g>\n      <svg:g\n        ngx-charts-pie-arc\n        [startAngle]=\"arc.startAngle\"\n        [endAngle]=\"arc.endAngle\"\n        [innerRadius]=\"innerRadius\"\n        [outerRadius]=\"outerRadius\"\n        [fill]=\"color(arc)\"\n        [value]=\"arc.data.value\"\n        [gradient]=\"gradient\"\n        [data]=\"arc.data\"\n        [max]=\"max\"\n        [explodeSlices]=\"explodeSlices\"\n        [isActive]=\"isActive(arc.data)\"\n        [animate]=\"animations\"\n        (select)=\"onClick($event)\"\n        (activate)=\"activate.emit($event)\"\n        (deactivate)=\"deactivate.emit($event)\"\n        (dblclick)=\"dblclick.emit($event)\"\n      ></svg:g>\n    </svg:g>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PieSeriesComponent implements OnChanges {\n  /**\n   * Custom color palette for the chart.\n   */\n  @Input() colors: ColorHelper | undefined;\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() series: ChartDataItemExtended[] = [];\n  /**\n   * Dimensions of the chart slice.\n   */\n  @Input() dims: ViewDimensions | undefined;\n  /**\n   * Reference to the chart element.\n   */\n  @Input() chartElement: ElementRef | undefined;\n  /**\n   * Inner slice radius.\n   */\n  @Input() innerRadius = 60;\n  /**\n   * Outer slice radius.\n   */\n  @Input() outerRadius = 80;\n  /**\n   * Slice offsets.\n   */\n  @Input() margins = [0, 0, 0, 0];\n  /**\n   * Make the radius of each slice proportional to it's value.\n   */\n  @Input() explodeSlices: boolean | undefined;\n  /**\n   * Flag to show/hide labels.\n   */\n  @Input() showLabels = false;\n  /**\n   * If enabled adds gradient to the chart.\n   */\n  @Input() gradient: boolean | undefined;\n  /**\n   * Preselects an active slice of the chart.\n   */\n  @Input() activeEntries: ChartDataItemExtended[] = [];\n  /**\n   * Sets the threshold in which the label of each section is visible.\n   */\n  @Input() labelThreshold = 0;\n  /**\n   * Pass custom formating if needed for the chart labels.\n   */\n  @Input() labelFormatting: any;\n  /**\n   * The template for the label.\n   */\n  @Input() labelTemplate: TemplateRef<any> | undefined;\n  /**\n   * Enable/disable label trimming.\n   */\n  @Input() trimLabels = true;\n  /**\n   * Set the max length of the label characters.\n   */\n  @Input() maxLabelLength = 10;\n  /**\n   * Text for the tooltip.\n   */\n  @Input() tooltipText: ((o: any) => any) | undefined;\n  /**\n   * Disable/enable the tooltip.\n   */\n  @Input() tooltipDisabled = false;\n  /**\n   * Template for the tooltip.\n   */\n  @Input() tooltipTemplate: TemplateRef<any> | undefined;\n  /**\n   * Enable/Disable animations.\n   */\n  @Input() animations = true;\n\n  /**\n   * EventEmitter for triggering a select event.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() select = new EventEmitter();\n  /**\n   * EventEmitter for triggering a activate event.\n   */\n  @Output() activate = new EventEmitter();\n  /**\n   * EventEmitter for triggering a deactivate event.\n   */\n  @Output() deactivate = new EventEmitter();\n  /**\n   * EventEmitter for triggering a dblclick event.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() dblclick = new EventEmitter();\n\n  max: number | undefined;\n  data: Arc[] = [];\n\n  constructor(private readonly currencyPipe: CurrencyPipe) {}\n\n  ngOnChanges(): void {\n    this.update();\n  }\n\n  update(): void {\n    const pieGenerator = pie<any, any>()\n      .value((d) => d.value)\n      // eslint-disable-next-line no-null/no-null\n      .sort(null);\n\n    const arcData = pieGenerator(this.series);\n\n    this.max = max(arcData, (d) => {\n      return d.value;\n    });\n\n    this.data = this.calculateLabelPositions(arcData as Arc[]);\n    this.tooltipText = this.tooltipText || this.defaultTooltipText;\n  }\n\n  midAngle(d: Arc): number {\n    return d.startAngle + (d.endAngle - d.startAngle) / 2;\n  }\n\n  outerArc(padding: number): any {\n    const r = this.outerRadius + padding;\n    return arc().innerRadius(r).outerRadius(r);\n  }\n\n  calculateLabelPositions(pieData: Arc[]): Arc[] {\n    const labelPositions = pieData;\n    labelPositions.forEach((d) => {\n      d.pos = this.outerArc(30).centroid(d);\n      d.edge = this.outerArc(0).centroid(d);\n    });\n\n    return labelPositions;\n  }\n\n  labelVisible(myArc: Arc): boolean {\n    return this.showLabels && myArc.data.portion > this.labelThreshold;\n  }\n\n  getTooltipTitle(a: Arc) {\n    if (this.tooltipTemplate || typeof this.tooltipText !== 'function') {\n      return undefined;\n    }\n\n    return this.tooltipText(a);\n  }\n\n  getTooltipPlacement(a: Arc) {\n    return this.midAngle(a) > Math.PI ? PlacementTypes.Left : PlacementTypes.Right;\n  }\n\n  labelText(myArc: Arc): string {\n    if (this.labelFormatting) {\n      return this.labelFormatting(myArc.data.value);\n    }\n\n    return (\n      this.currencyPipe.transform(myArc.data.value, myArc.data.totalAmount.currencyCode, undefined, '1.0-0') ||\n      myArc.data.value.toString()\n    );\n  }\n\n  label(myArc: Arc): string {\n    return formatLabel(myArc.data.name);\n  }\n\n  defaultTooltipText(myArc: Arc): string {\n    const label = this.label(myArc);\n    const val = formatLabel(myArc.data.value);\n\n    return `\n      <span class=\"tooltip-label\">${label}</span>\n      <span class=\"tooltip-val\">${val}</span>\n    `;\n  }\n\n  getTooltipPosition(myArc: Arc): [number, number] {\n    const halfWidth = this.outerRadius + this.margins[0];\n    let position = [0, 0];\n    if (this.chartElement) {\n      const chartDims = this.chartElement.nativeElement.getBoundingClientRect();\n      position = [chartDims.left + halfWidth, chartDims.top + halfWidth];\n    }\n\n    return [position[0] + myArc.edge[0], position[1] + myArc.edge[1]];\n  }\n\n  color(myArc: Arc): string {\n    return this.colors ? this.colors.getColor(this.label(myArc)) : '';\n  }\n\n  icon(myArc: Arc): string {\n    if (!this.colors || !this.colors.customColors) {\n      return '';\n    }\n    const label = this.label(myArc);\n    const found = this.colors.customColors.find((item: ChartColorItem) => item.name === label);\n    return found ? found.icon : '';\n  }\n\n  trackBy(index: number, item: Arc): string {\n    return <string>item.data.name;\n  }\n\n  onClick(data: ChartDataItemExtended): void {\n    this.select.emit(data);\n  }\n\n  isActive(entry: ChartDataItemExtended): boolean {\n    if (!this.activeEntries) return false;\n    const item = this.activeEntries.find((d) => {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  Output,\n  PLATFORM_ID,\n  TemplateRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  BaseChartComponent,\n  calculateViewDimensions,\n  ColorHelper,\n  ScaleType,\n  ViewDimensions,\n} from '@swimlane/ngx-charts';\nimport { ChartDataItem, ChartDataItemExtended, LegendOptions } from '../../model/types';\n\n@Component({\n  selector: 'bb-charts-pie-chart',\n  template: `\n    <ngx-charts-chart\n      [view]=\"[width, height]\"\n      [showLegend]=\"legend\"\n      [legendOptions]=\"legendOptions\"\n      [activeEntries]=\"activeEntries\"\n      [animations]=\"animations\"\n      (legendLabelActivate)=\"onActivate($event)\"\n      (legendLabelDeactivate)=\"onDeactivate($event)\"\n      (legendLabelClick)=\"onClick($event)\"\n    >\n      <svg:g [attr.transform]=\"translation\" class=\"pie-chart chart\">\n        <svg:g\n          bb-charts-pie-series\n          [colors]=\"colors\"\n          [series]=\"series\"\n          [chartElement]=\"chartEl\"\n          [showLabels]=\"labels\"\n          [labelThreshold]=\"labelThreshold\"\n          [labelFormatting]=\"labelFormatting\"\n          [labelTemplate]=\"labelTemplate\"\n          [trimLabels]=\"trimLabels\"\n          [maxLabelLength]=\"maxLabelLength\"\n          [activeEntries]=\"activeEntries\"\n          [innerRadius]=\"innerRadius\"\n          [outerRadius]=\"outerRadius\"\n          [margins]=\"margins\"\n          [explodeSlices]=\"explodeSlices\"\n          [gradient]=\"gradient\"\n          [animations]=\"animations\"\n          [tooltipDisabled]=\"tooltipDisabled\"\n          [tooltipTemplate]=\"tooltipTemplate\"\n          [tooltipText]=\"tooltipText\"\n          (dblclick)=\"dblclick.emit($event)\"\n          (select)=\"onClick($event)\"\n          (activate)=\"onActivate($event)\"\n          (deactivate)=\"onDeactivate($event)\"\n        />\n      </svg:g>\n    </ngx-charts-chart>\n  `,\n  styleUrls: ['./pie-chart.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PieChartComponent extends BaseChartComponent {\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() series: ChartDataItemExtended[] = [];\n  /**\n   * Flag to show/hide the chart labels.\n   */\n  @Input() labels = false;\n  /**\n   * Flag to show/hide the chart legend.\n   */\n  @Input() legend = false;\n  /**\n   * Title for the chart legend.\n   */\n  @Input() legendTitle = 'Legend';\n  /**\n   * Make the radius of each slice proportional to it's value.\n   */\n  @Input() explodeSlices = false;\n  /**\n   * Sets the type of the chart.\n   */\n  @Input() doughnut = false;\n  /**\n   * The width of the charts arc.\n   */\n  @Input() arcWidth = 0.25;\n  /**\n   * If enabled adds gradient to the chart.\n   */\n  @Input() gradient: boolean | undefined;\n  /**\n   * Preselects an active slice of the chart.\n   */\n  @Input() activeEntries: ChartDataItemExtended[] = [];\n  /**\n   * Disable/enable the tooltip.\n   */\n  @Input() tooltipDisabled = false;\n  /**\n   * Pass custom formating if needed for the chart labels.\n   */\n  @Input() labelFormatting: any;\n  /**\n   * The template for the label.\n   */\n  @Input() labelTemplate: TemplateRef<any> | undefined;\n  /**\n   * Sets the threshold in which the label of each section is visible.\n   */\n  @Input() labelThreshold = 0;\n  /**\n   * Enable/disable label trimming.\n   */\n  @Input() trimLabels = true;\n  /**\n   * Set the max length of the label characters.\n   */\n  @Input() maxLabelLength = 10;\n  /**\n   * Text for the tooltip.\n   */\n  @Input() tooltipText: string | undefined;\n\n  /**\n   * EventEmitter for triggering a dblclick event.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() dblclick = new EventEmitter();\n  /**\n   * EventEmitter for triggering a select event.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() select = new EventEmitter<{}>();\n  /**\n   * EventEmitter for triggering a activate event.\n   */\n  @Output() activate = new EventEmitter();\n  /**\n   * EventEmitter for triggering a deactivate event.\n   */\n  @Output() deactivate = new EventEmitter();\n\n  @ContentChild('tooltipTemplate', { static: true }) tooltipTemplate: TemplateRef<any> | undefined;\n\n  translation: string | undefined;\n  outerRadius: number | undefined;\n  innerRadius: number | undefined;\n  data: ChartDataItemExtended[] | undefined;\n  colors: ColorHelper | undefined;\n  domain: string[] = [];\n  dims: ViewDimensions | undefined;\n  margins = [50, 50, 50, 50];\n  legendOptions: LegendOptions | undefined;\n\n  constructor(\n    protected chartElement: ElementRef,\n    protected zone: NgZone,\n    protected cd: ChangeDetectorRef,\n    @Inject(PLATFORM_ID) platformId: string,\n  ) {\n    super(chartElement, zone, cd, platformId);\n  }\n\n  get chartEl() {\n    return this.chartElement;\n  }\n\n  update(): void {\n    super.update();\n\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margins,\n      showLegend: this.legend,\n    });\n\n    const xOffset = this.margins[3] + this.dims.width / 2;\n    const yOffset = this.margins[0] + this.dims.height / 2;\n    this.translation = `translate(${xOffset}, ${yOffset})`;\n    this.outerRadius = Math.min(this.dims.width, this.dims.height) / 2;\n    this.innerRadius = 0;\n    if (this.doughnut) {\n      this.innerRadius = this.outerRadius * (1 - this.arcWidth);\n    }\n\n    this.domain = this.getDomain();\n\n    // sort data according to domain\n    this.series.sort((a: ChartDataItemExtended, b: ChartDataItemExtended) => {\n      return this.domain.indexOf(<string>a.name) - this.domain.indexOf(<string>b.name);\n    });\n    this.data = this.series;\n\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n  }\n\n  getDomain(): string[] {\n    const items: string[] = [];\n\n    this.results.map((d: ChartDataItem) => {\n      let label = d.name;\n      if (label.constructor.name === 'Date') {\n        label = (<Date>label).toLocaleDateString();\n      } else {\n        label = label.toLocaleString();\n      }\n\n      if (items.indexOf(label) === -1) {\n        items.push(label);\n      }\n    });\n\n    return items;\n  }\n\n  onClick(data: ChartDataItemExtended): void {\n    this.select.emit(data);\n  }\n\n  setColors(): void {\n    this.colors = new ColorHelper(this.scheme, ScaleType.Ordinal, this.domain, this.customColors);\n  }\n\n  getLegendOptions() {\n    return {\n      scaleType: ScaleType.Ordinal,\n      domain: this.domain,\n      colors: this.colors,\n      title: this.legendTitle,\n    };\n  }\n\n  onActivate(item: ChartDataItemExtended) {\n    const idx = this.activeEntries.findIndex((d) => {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n\n    this.activeEntries = [item, ...this.activeEntries];\n    this.activate.emit({ value: item, entries: this.activeEntries });\n  }\n\n  onDeactivate(item: ChartDataItemExtended) {\n    const idx = this.activeEntries.findIndex((d) => {\n      return d.name === item.name && d.value === item.value;\n    });\n\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = [...this.activeEntries]; // NOSONAR false positive - https://github.com/SonarSource/SonarTS/issues/760\n\n    this.deactivate.emit({ value: item, entries: this.activeEntries });\n  }\n}\n","import { ChangeDetectionStrategy, Component, HostBinding, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { CssVariablesService } from '@backbase/ui-ang/css-variables-lib';\nimport { ColorHelper } from '@swimlane/ngx-charts';\nimport { ArrowClasses, CARET_SIZE_CSS_VAR } from './constants';\nimport { ChartDataItem, ChartDataItemExtended } from './model/types';\n\n@Component({\n  selector: 'bb-donut-chart-ui',\n  templateUrl: './donut-chart.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DonutChartComponent implements OnInit {\n  /**\n   * Array of chart data objects used to render the sections of the donut chart.\n   */\n  @Input() data: ChartDataItemExtended[] | undefined;\n  /**\n   * Custom color palette for the chart.\n   */\n  @Input() colors: ColorHelper | undefined;\n  /**\n   * Sets the threshold in which the label of each section is visible.\n   */\n  @Input() relevancePercentage = 0;\n  /**\n   * The template for the tooltip.\n   */\n  @Input() tooltipTmpl: TemplateRef<any> | undefined;\n  /**\n   * The template for the label.\n   */\n  @Input() labelTmpl: TemplateRef<any> | undefined;\n  @ViewChild('defaultTooltipTemplate', { static: true }) defaultTooltipTemplate: TemplateRef<any> | undefined;\n  @HostBinding('class') classes = 'absolute-center w-100 h-100';\n\n  constructor(private readonly cssVariableService: CssVariablesService) {}\n\n  private arrowSize: number | undefined;\n\n  get template(): TemplateRef<any> | undefined {\n    return this.tooltipTmpl || this.defaultTooltipTemplate;\n  }\n\n  expandModel(model: ChartDataItem): ChartDataItemExtended {\n    if (!this.data) {\n      return model;\n    }\n\n    const data: ChartDataItemExtended = this.data.find((item) => item.name === model.name) || model;\n    return Object.assign(data, {\n      arrowClass: data.totalPortion - data.portion / 2 >= 50 ? ArrowClasses.RIGHT : ArrowClasses.LEFT,\n      arrowSize: this.arrowSize,\n    });\n  }\n\n  ngOnInit() {\n    this.cssVariableService\n      .getCssVariable(CARET_SIZE_CSS_VAR)\n      .then((value) => (this.arrowSize = parseInt(value || '', 10) || 0));\n  }\n}\n","<bb-charts-pie-chart\n  [results]=\"data\"\n  [series]=\"data\"\n  [customColors]=\"colors\"\n  [doughnut]=\"true\"\n  [arcWidth]=\"0.4\"\n  [labels]=\"true\"\n  [labelThreshold]=\"relevancePercentage\"\n  [labelTemplate]=\"labelTmpl\"\n>\n  <ng-template #tooltipTemplate let-model=\"model\">\n    <ng-container *ngTemplateOutlet=\"template; context: expandModel(model)\"></ng-container>\n  </ng-template>\n</bb-charts-pie-chart>\n\n<ng-template\n  #defaultTooltipTemplate\n  let-name=\"name\"\n  let-totalAmount=\"totalAmount\"\n>\n  <h3 class=\"chart-tooltip-analysis-category\">\n    {{ name }}\n  </h3>\n  <h4 class=\"chart-tooltip-analysis-amount\">\n    <bb-amount-ui\n      [amount]=\"totalAmount.amount\"\n      [currency]=\"totalAmount.currencyCode\"\n    ></bb-amount-ui>\n  </h4>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { InjectionService } from '../../services/injection.service';\nimport { TooltipContentComponent } from './tooltip.component';\nimport { TooltipDirective } from './tooltip.directive';\nimport { TooltipService } from './tooltip.service';\n\n@NgModule({\n  declarations: [TooltipContentComponent, TooltipDirective],\n  providers: [InjectionService, TooltipService],\n  exports: [TooltipContentComponent, TooltipDirective],\n  imports: [CommonModule],\n  entryComponents: [TooltipContentComponent],\n})\nexport class TooltipModule {}\n","import { CommonModule, CurrencyPipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { TooltipModule } from '../tooltip/tooltip.module';\nimport { PieChartComponent } from './pie-chart.component';\nimport { PieLabelComponent } from './pie-label.component';\nimport { PieSeriesComponent } from './pie-series.component';\n\n@NgModule({\n  imports: [CommonModule, NgxChartsModule, TooltipModule],\n  declarations: [PieChartComponent, PieSeriesComponent, PieLabelComponent],\n  exports: [PieChartComponent, NgxChartsModule],\n  providers: [CurrencyPipe],\n  entryComponents: [PieChartComponent],\n})\nexport class PieChartModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { CssVariablesService } from '@backbase/ui-ang/css-variables-lib';\nimport { DonutChartComponent } from './donut-chart.component';\nimport { PieChartModule } from './ngx/pie/pie-chart.module';\n\nexport { Arc, ChartColorItem } from './model/types';\n\n@NgModule({\n  imports: [CommonModule, AmountModule, PieChartModule],\n  declarations: [DonutChartComponent],\n  exports: [DonutChartComponent, PieChartModule, AmountModule],\n  providers: [CssVariablesService],\n})\nexport class DonutChartModule {}\n","import { Period } from '@backbase/ui-ang/period-selector';\n\nexport interface Properties {\n  name: string;\n  value: string;\n}\n\nexport enum AnalysisTypes {\n  INCOME = 'CRDT',\n  SPENDING = 'DBIT',\n}\n\nexport const PROPERTIES = {\n  analysisType: {\n    name: 'analysisIndicator',\n    value: AnalysisTypes.SPENDING,\n  },\n};\n\nexport enum Interval {\n  DAY = 'DAY',\n  WEEK = 'WEEK',\n  MONTH = 'MONTH',\n  YEAR = 'YEAR',\n}\nexport const DEFAULT_INTERVAL = Interval.MONTH;\n\nexport const RELEVANCE_PERCENTAGE = 2;\nexport const CATEGORY_COLORS_CSS_VAR = '--chart-categories-colors';\nexport const BAR_COLORS_CSS_VAR = '--chart-group-bar-color';\nexport enum TrendTextClasses {\n  POSITIVE = 'text-danger',\n  NEGATIVE = 'text-success',\n}\nexport enum TrendArrowClasses {\n  POSITIVE = 'arrow-upward',\n  NEGATIVE = 'arrow-downward',\n}\n\nexport interface IncomeSpendingPeriod {\n  interval: string;\n  duration: number;\n  default?: boolean;\n}\n\nexport interface MonthSelectorData {\n  period: Period;\n  tabIndex: number;\n}\n\nexport const PERIODS: IncomeSpendingPeriod[] = [\n  {\n    interval: 'MONTH',\n    duration: 1,\n    default: true,\n  },\n  {\n    interval: 'MONTH',\n    duration: 6,\n  },\n  {\n    interval: 'MONTH',\n    duration: 12,\n  },\n];\n\nexport const DB_DATE_FORMAT = 'yyyy-MM-dd';\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MonthSelectorData, PERIODS } from '../constants';\n\n@Component({\n  selector: 'bb-month-selector-ui',\n  templateUrl: './month-selector.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MonthSelectorComponent {\n  hostRef = this;\n  /**\n   * Event emitter for selecting a tab.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() change = new EventEmitter<MonthSelectorData>();\n  /**\n   * Default selected tab\n   */\n  @Input() selectedTab: number = PERIODS[Math.max(PERIODS.map((item) => item.default).indexOf(true), 0)].duration;\n\n  /**\n   * Change selected tab and triggers the change event after\n   * creating start, end dates based on selected tab\n   */\n  onPeriodRangeChange(num: number) {\n    this.selectedTab = num;\n    // (monthsRange - 1) to get data starting from this month and 5 months before it,\n    // which will end up to 6 months in total (the same of 12 months)\n    const startDate = new Date();\n    startDate.setMonth(startDate.getMonth() - (num - 1), 1);\n\n    this.change.emit({\n      tabIndex: num,\n      period: {\n        start: startDate,\n        end: new Date(),\n      },\n    });\n  }\n}\n","<div class=\"bb-block bb-block--lg bb-income-spending-analysis-periods bb-button-bar\">\n  <div class=\"btn-group btn-group-toggle\">\n      <button\n        data-role=\"1-month-btn\"\n        class=\"btn btn-secondary\"\n        [ngClass]=\"{active: selectedTab === 1}\"\n        value=\"1\"\n        (click)=\"onPeriodRangeChange(1)\"\n      >\n        <span\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.one\"\n        >1</span>\n        <span\n          class=\"d-none d-md-inline\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.one.largescreen\"\n        >&nbsp;month</span>\n        <span\n          class=\"d-md-none\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.one.mobilescreen\"\n        >m</span>\n      </button>\n      <button\n        data-role=\"6-month-btn\"\n        class=\"btn btn-secondary\"\n        [ngClass]=\"{active: selectedTab === 6}\"\n        value=\"6\"\n        (click)=\"onPeriodRangeChange(6)\"\n      >\n        <span\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.six\"\n        >6</span>\n        <span\n          class=\"d-none d-md-inline\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.six.largescreen\"\n        >&nbsp;months</span>\n        <span\n          class=\"d-md-none\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.six.mobilescreen\"\n        >m</span>\n      </button>\n      <button\n        data-role=\"12-month-btn\"\n        class=\"btn btn-secondary\"\n        [ngClass]=\"{active: selectedTab === 12}\"\n        value=\"12\"\n        (click)=\"onPeriodRangeChange(12)\"\n      >\n        <span\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.twelve\"\n        >12</span>\n        <span\n          class=\"d-none d-md-inline\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.twelve.largescreen\"\n        >&nbsp;months</span>\n        <span\n          class=\"d-md-none\"\n          i18n=\"Data period|One month label@@incomeSpendingAnalysis.label.duration.month.twelve.mobilescreen\"\n        >m</span>\n      </button>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport {\n  CategoryTotalsHttpService,\n  CategoryPeriodTotalsHttpService,\n  CategoryPeriodTotalsGetResponseBody,\n} from '@backbase/data-ang/transactions';\n\nimport { CategoryTotalsGetParams, CategoryTotalsGet, CategoryPeriodTotalsGetParams } from './model/analysis';\n\n@Injectable()\nexport class IncomeSpendingAnalysisWidgetService {\n  constructor(\n    private readonly categoryTotalsHttpService: CategoryTotalsHttpService,\n    private readonly categoryPeriodTotalsHttpService: CategoryPeriodTotalsHttpService,\n  ) {}\n\n  loadAnalysisData(params: CategoryTotalsGetParams): Observable<CategoryTotalsGet> {\n    return this.categoryTotalsHttpService.getCategorytotals(params);\n  }\n\n  loadAnalysisPeriodData(params: CategoryPeriodTotalsGetParams): Observable<CategoryPeriodTotalsGetResponseBody> {\n    return this.categoryPeriodTotalsHttpService.getCategoryPeriodTotals(params);\n  }\n}\n","import { DatePipe, getCurrencySymbol } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport {\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  ElementRef,\n  Inject,\n  Input,\n  LOCALE_ID,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { BbTemplate, ItemModel } from '@backbase/foundation-ang/core';\nimport { Property } from '@backbase/foundation-ang/web-sdk';\nimport { CssVariablesService } from '@backbase/ui-ang/css-variables-lib';\nimport { Period, PeriodFormatters } from '@backbase/ui-ang/period-selector';\nimport { BehaviorSubject, combineLatest, from, Observable, of, zip } from 'rxjs';\nimport { catchError, filter, map, mergeMap, pluck, share, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { Arc, ChartColorItem } from './bb-donut-chart-ui/donut-chart.module';\nimport {\n  AnalysisTypes,\n  BAR_COLORS_CSS_VAR,\n  CATEGORY_COLORS_CSS_VAR,\n  DB_DATE_FORMAT,\n  DEFAULT_INTERVAL,\n  MonthSelectorData,\n  PERIODS,\n  PROPERTIES,\n  Properties,\n  RELEVANCE_PERCENTAGE,\n  TrendArrowClasses,\n  TrendTextClasses,\n} from './constants';\nimport { IncomeSpendingAnalysisWidgetService } from './income-spending-analysis.service';\nimport {\n  AnalysisType,\n  BarChartDataItem,\n  BarChartOptions,\n  CategoryIdentity,\n  CategoryPeriodTotalsGet,\n  CategoryTotalsDateParams,\n  CategoryTotalsGetParams,\n  CategoryTotalsPeriod,\n  CategoryTotalsPeriodSeries,\n  CategoryTotalsSeries,\n  ChartDataItem,\n} from './model/analysis';\n\nconst filterInputParameters = <T>(input: Observable<T | undefined>, prop: Observable<T>): Observable<T> =>\n  combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));\n\n@Component({\n  selector: 'bb-income-spending-analysis-widget',\n  templateUrl: './income-spending-analysis.component.html',\n  providers: [DatePipe],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class IncomeSpendingAnalysisWidgetComponent implements AfterViewChecked {\n  @Input('analysisType') set analysisTypeValue(value: AnalysisType) {\n    this.analysisTypeSubject.next(value);\n  }\n\n  @ViewChild('bbChartLabelIcon') chartIcon: ElementRef | undefined;\n  @ViewChild('bbChartLabelText') chartLabel: ElementRef | undefined;\n  @ViewChild('transNow', { static: true }) translationNow: ElementRef | undefined;\n  constructor(\n    private readonly service: IncomeSpendingAnalysisWidgetService,\n    private readonly cssVariableService: CssVariablesService,\n    @Optional() private readonly model: ItemModel,\n    private readonly route: ActivatedRoute,\n    private readonly datePipe: DatePipe,\n    private readonly cd: ChangeDetectorRef,\n    @Inject(LOCALE_ID) private readonly locale: string,\n  ) {\n    this.formatPeriodData = this.formatPeriodData.bind(this);\n  }\n\n  hostRef = this;\n  private readonly isIE = /(edge|msie|trident)/i.test(navigator.userAgent);\n  private readonly analysisTypeSubject = new BehaviorSubject<AnalysisType | undefined>(undefined);\n\n  private endDateValue = new Date();\n  private startDateValue = new Date(this.endDateValue.getFullYear(), this.endDateValue.getMonth(), 1);\n\n  private readonly initialDateParams: CategoryTotalsDateParams = {\n    periodStartDate: this.datePipe.transform(this.startDateValue, DB_DATE_FORMAT) || '',\n    periodEndDate: this.datePipe.transform(this.endDateValue, DB_DATE_FORMAT) || '',\n    intervalDuration: DEFAULT_INTERVAL,\n  };\n\n  private labelPositioned = false;\n  private iconHeight = 0;\n  private labelHeight = 0;\n  iconWidth = 0;\n  selectedTab: number = PERIODS[Math.max(PERIODS.map((item) => item.default).indexOf(true), 0)].duration;\n\n  // BarChart Options\n  readonly chartOptions: Observable<BarChartOptions> = from(\n    this.cssVariableService.getCssVariable(BAR_COLORS_CSS_VAR),\n  ).pipe(\n    map((cssVar) => {\n      return {\n        colors: cssVar ? [cssVar.slice(0, cssVar.indexOf(','))] : [''],\n        showXAxis: true,\n        showYAxis: true,\n        gradient: false,\n        showLegend: false,\n        showXAxisLabel: true,\n        showYAxisLabel: true,\n        roundEdges: false,\n      };\n    }),\n  );\n\n  isLoading = false;\n\n  readonly analysisType: Observable<AnalysisType> = filterInputParameters(\n    this.analysisTypeSubject.asObservable(),\n    this.getProperty(PROPERTIES.analysisType).pipe(map((val) => <AnalysisType>val)),\n  );\n\n  readonly arrangementIds: Observable<string[]> = this.getRouteParam(this.route, 'selectedAccount').pipe(\n    map((selectedAccount) => (selectedAccount ? [selectedAccount] : [])), // TODO: remove once arrangement ids are passed as an array\n  );\n\n  readonly dateParams: BehaviorSubject<CategoryTotalsDateParams> = new BehaviorSubject(this.initialDateParams);\n\n  readonly dataParams: Observable<CategoryTotalsGetParams> = combineLatest(\n    this.arrangementIds,\n    this.dateParams.asObservable(),\n    this.analysisType,\n  ).pipe(\n    map(([arrangementIds, dateParams, creditDebitIndicator]): CategoryTotalsGetParams => {\n      this.error = undefined;\n\n      return {\n        arrangementIds: arrangementIds || [],\n        ...dateParams,\n        creditDebitIndicator,\n      };\n    }),\n    shareReplay(1),\n  );\n\n  readonly analysisData: Observable<CategoryTotalsSeries> = this.dataParams.pipe(\n    filter((data) => !!data.arrangementIds.length),\n    switchMap((params) => this.service.loadAnalysisData(params)),\n    map((data): CategoryTotalsSeries => {\n      if (!data || !data.items) {\n        return data;\n      }\n      this.labelPositioned = false;\n      let totalPortion = 0;\n\n      return {\n        ...data,\n        series: data.items\n          .sort((a, b) => (parseFloat(b.totalAmount.amount) > parseFloat(a.totalAmount.amount) ? 1 : -1))\n          .map(\n            (item): ChartDataItem => ({\n              ...item,\n              name: item.category,\n              value: parseFloat(item.totalAmount.amount),\n              cssClass: this.transformCategoryToIconName(item.category),\n              totalPortion: (totalPortion += item.portion),\n            }),\n          ),\n      };\n    }),\n    catchError((err) => this.handleError(err)),\n    share(),\n  );\n\n  readonly analysisPeriodData: Observable<CategoryTotalsPeriodSeries> = zip(this.analysisData, this.dataParams).pipe(\n    mergeMap(([data, params]) => {\n      const categories = (data.items || []).map((item) => item.category);\n      const newParams = { ...params, categories: categories.length ? categories : [''] };\n\n      return this.service.loadAnalysisPeriodData(newParams).pipe(\n        map(this.formatPeriodData),\n        map((series: BarChartDataItem[]): CategoryTotalsPeriodSeries => ({ series, categoryData: data, items: [] })),\n      );\n    }),\n    tap(() => {\n      this.isLoading = false;\n      this.cd.markForCheck();\n    }),\n    catchError((err) => this.handleError(err)),\n  );\n\n  readonly colors: Observable<ChartColorItem[]> = combineLatest([\n    this.analysisData,\n    from(this.cssVariableService.getCssVariable(CATEGORY_COLORS_CSS_VAR)),\n  ]).pipe(\n    map(([data, cssVar]) => {\n      if (!cssVar || !data || !data.series || !data.series.length) {\n        return [];\n      }\n\n      const identities: { [key: string]: CategoryIdentity } = cssVar.split(',').reduce((accumulator, definition) => {\n        const [category, color, icon] = definition.trim().split(' ');\n        return {\n          ...accumulator,\n          [category]: {\n            color,\n            icon,\n          },\n        };\n      }, {});\n\n      return data.series.map(\n        (item): ChartColorItem => ({\n          name: item.name || '',\n          value: identities[item.cssClass]?.color || '',\n          icon: identities[item.cssClass]?.icon || '',\n        }),\n      );\n    }),\n  );\n\n  error: string | undefined;\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // ensure that level that has actual value keeps it from being cleared\n    return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(\n      map((params) => params[0] || params[1]),\n    );\n  }\n\n  private getProperty(property: Properties): Observable<Property> {\n    return this.model ? this.model.property(property.name, property.value) : of(property.value);\n  }\n\n  get startDate(): Date {\n    return this.startDateValue;\n  }\n\n  get endDate(): Date {\n    return this.endDateValue;\n  }\n\n  get formatters(): PeriodFormatters {\n    return {\n      end: (date) => {\n        const now = new Date();\n        if (\n          now.getFullYear() === date.getFullYear() &&\n          now.getMonth() === date.getMonth() &&\n          now.getDate() === date.getDate()\n        ) {\n          return (<ElementRef>this.translationNow).nativeElement.textContent;\n        }\n        return this.datePipe.transform(date, 'mediumDate') || '';\n      },\n    };\n  }\n\n  get isSpending(): Observable<boolean> {\n    return this.analysisType.pipe(map((property) => property === AnalysisTypes.SPENDING));\n  }\n\n  get relevance() {\n    return RELEVANCE_PERCENTAGE;\n  }\n\n  selectTab(num: number) {\n    this.selectedTab = PERIODS[Math.max(PERIODS.map((item) => item.duration).indexOf(num), 0)].duration;\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    this.error = error.statusText;\n    return of({ items: [] });\n  }\n\n  private formatPeriodData(res: CategoryPeriodTotalsGet): BarChartDataItem[] {\n    if (!res || !res.periods || !res.total) {\n      return [];\n    }\n\n    return parseFloat(res.total.amount) !== 0\n      ? res.periods.map(\n          (period: CategoryTotalsPeriod): BarChartDataItem => ({\n            name: this.datePipe.transform(period.intervalStartDate, 'MMM') || '',\n            value: period.total ? parseFloat(period.total.amount) : 0,\n            currencyCode: period.total?.currencyCode,\n          }),\n        )\n      : [];\n  }\n\n  private transformCategoryToIconName(transactionCategory: string): string {\n    return `${transactionCategory.toLowerCase().replace(/\\W/g, '-').replace(/-{2,}/g, '-')}`;\n  }\n\n  private textX(data: Arc): number {\n    return data ? data.pos[0] : 0;\n  }\n\n  private textY(data: Arc): number {\n    return data ? data.pos[1] : 0;\n  }\n\n  getCategoryClass(cssClass: string): string {\n    return `bb-transaction-category-${cssClass}`;\n  }\n\n  getTextTransition(): string {\n    return this.isIE ? '' : 'transform 0.75s';\n  }\n\n  getTransformOffsetY(data: Arc): number {\n    const percetage = data.data.totalPortion - data.data.portion / 2;\n    return percetage > 25 && percetage < 75 ? this.iconHeight + this.labelHeight : -this.labelHeight;\n  }\n\n  getStyleTransform(data: Arc, offsetX: number, offsetY: number): string {\n    return this.isIE ? '' : `translate3d(${this.textX(data) + offsetX}px, ${this.textY(data) + offsetY}px, 0)`;\n  }\n\n  getAttrTransform(data: Arc, offsetX: number, offsetY: number): string {\n    return !this.isIE ? '' : `translate(${this.textX(data) + offsetX}, ${this.textY(data) + offsetY})`;\n  }\n\n  textClass(value: number, isSpending = true): string {\n    // positive trend has different meaning for income and for spending\n    const multiplier = isSpending ? 1 : -1;\n    return value * multiplier > 0 ? TrendTextClasses.POSITIVE : TrendTextClasses.NEGATIVE;\n  }\n\n  iconClass(value: number): string {\n    if (value < -1) {\n      return TrendArrowClasses.NEGATIVE;\n    } else if (value > 1) {\n      return TrendArrowClasses.POSITIVE;\n    }\n\n    return '';\n  }\n\n  abs(value: number) {\n    return Math.abs(value);\n  }\n\n  onPeriodRangeChange(monthSelectorData: MonthSelectorData) {\n    this.selectTab((<MonthSelectorData>monthSelectorData).tabIndex);\n    this.onPeriodChange((<MonthSelectorData>monthSelectorData).period);\n  }\n\n  onPeriodChange(period: Period) {\n    this.isLoading = true;\n    this.startDateValue = period.start;\n    this.endDateValue = period.end;\n\n    this.dateParams.next({\n      ...this.initialDateParams,\n      periodStartDate: this.datePipe.transform(period.start, DB_DATE_FORMAT) || '',\n      periodEndDate: this.datePipe.transform(period.end, DB_DATE_FORMAT) || '',\n    });\n  }\n\n  customYAxisTickFormatting(totalPeriodSeries: CategoryTotalsPeriodSeries) {\n    const currencyCode = totalPeriodSeries.categoryData?.total?.currencyCode;\n    const currencySymbol = currencyCode ? getCurrencySymbol(currencyCode, 'wide', this.locale) : currencyCode;\n\n    return (amount: string) => `${currencySymbol} ${amount}`;\n  }\n\n  ngAfterViewChecked() {\n    if (this.labelPositioned || !this.chartIcon || !this.chartLabel) {\n      return;\n    }\n\n    this.labelHeight = this.chartLabel.nativeElement.getBoundingClientRect().height / 2;\n    this.iconHeight = this.chartIcon.nativeElement.getBoundingClientRect().height;\n    this.iconWidth = (this.chartIcon.nativeElement.getBoundingClientRect().width - 2) / 2;\n\n    this.labelPositioned = true;\n    this.cd.detectChanges();\n  }\n}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisCustomizable]',\n})\nexport class IncomeSpendingAnalysisCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisPeriodSelectorCustomizable]',\n})\nexport class IncomeSpendingAnalysisPeriodSelectorCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisChartWrapperCustomizable]',\n})\nexport class IncomeSpendingAnalysisChartWrapperCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisCategoriesListCustomizable]',\n})\nexport class IncomeSpendingAnalysisCategoriesListCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  any | undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisChartCustomizable]',\n})\nexport class IncomeSpendingAnalysisChartCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisBarChartWrapperCustomizable]',\n})\nexport class IncomeSpendingAnalysisBarChartWrapperCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbIncomeSpendingAnalysisMonthSelectorCustomizable]',\n})\nexport class IncomeSpendingAnalysisMonthSelectorCustomizableDirective extends BbTemplate<\n  IncomeSpendingAnalysisWidgetComponent,\n  undefined\n> {}\n","<ng-container\n  bbIncomeSpendingAnalysisCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{ isLoading: hostRef.isLoading, analysisData: hostRef.analysisData, analysisPeriodData: hostRef.analysisPeriodData, colors: hostRef.colors | async, isSpending: hostRef.isSpending | async, chartOptions: hostRef.chartOptions | async }\"\n></ng-container>\n\n<ng-template\n  bbIncomeSpendingAnalysisCustomizable\n  let-hostRef\n  let-analysisData=\"context.analysisData\"\n  let-analysisPeriodData=\"context.analysisPeriodData\"\n  let-colors=\"context.colors\"\n  let-isSpending=\"context.isSpending\"\n  let-chartOptions=\"context.chartOptions\"\n>\n  <ng-container *ngIf=\"!hostRef.error; else errorState\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <ng-container\n          bbIncomeSpendingAnalysisMonthSelectorCustomizable\n          [bbHostRef]=\"hostRef\"\n        ></ng-container>\n\n        <ng-container\n          *ngIf=\"hostRef.selectedTab === 1\"\n          bbIncomeSpendingAnalysisPeriodSelectorCustomizable\n          [bbHostRef]=\"hostRef\"\n        ></ng-container>\n        <ng-container *ngIf=\"(arrangementIds | async)?.length; else emptyState\">\n          <ng-container *ngIf=\"hostRef.selectedTab === 1\">\n            <ng-container *ngIf=\"analysisData | async as data ; else loadingState\">\n              <ng-container *ngIf=\"data?.items?.length; else emptyState\">\n                <ng-container\n                  bbIncomeSpendingAnalysisChartWrapperCustomizable\n                  [bbHostRef]=\"hostRef\"\n                  [bbTemplateContext]=\"{ data: data, colors: colors, isSpending: isSpending }\"\n                ></ng-container>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n          <ng-container *ngIf=\"hostRef.selectedTab !== 1\">\n            <ng-container *ngIf=\"analysisPeriodData | async as data; else loadingState\">\n              <ng-container *ngIf=\"!hostRef.isLoading else loadingState\">\n                <ng-container *ngIf=\"data.series && data.series.length; else emptyState\">\n                  <ng-container\n                    bbIncomeSpendingAnalysisBarChartWrapperCustomizable\n                    [bbHostRef]=\"hostRef\"\n                    [bbTemplateContext]=\"{ data: data, chartOptions: chartOptions }\"\n                  ></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf=\"data.categoryData?.items?.length else emptyState\">\n                  <ng-container\n                    bbIncomeSpendingAnalysisCategoriesListCustomizable\n                    [bbHostRef]=\"hostRef\"\n                    [bbTemplateContext]=\"{ data: data.categoryData, isSpending: isSpending }\"\n                  ></ng-container>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-template bbIncomeSpendingAnalysisMonthSelectorCustomizable let-hostRef>\n    <bb-month-selector-ui\n      [selectedTab]=\"hostRef.selectedTab\"\n      (change)=\"hostRef.onPeriodRangeChange($event)\"\n    ></bb-month-selector-ui>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisPeriodSelectorCustomizable let-hostRef>\n    <div class=\"bb-stack bb-stack--center bb-block bb-block--lg\">\n      <bb-period-selector-ui\n        [periodStart]=\"hostRef.startDate\"\n        [periodEnd]=\"hostRef.endDate\"\n        [periodFormatters]=\"hostRef.formatters\"\n        (periodChange)=\"hostRef.onPeriodChange($event)\"\n      ></bb-period-selector-ui>\n    </div>\n  </ng-template>\n \n  <ng-template\n    bbIncomeSpendingAnalysisChartWrapperCustomizable\n    let-hostRef\n    let-data=\"context.data\"\n    let-colors=\"context.colors\"\n    let-isSpending=\"context.isSpending\"\n  >\n    <div class=\"bb-stack bb-stack--center position-relative chart-donut chart-donut-large chart-donut-container-inflated\">\n      <div class=\"absolute-center\">\n        <div class=\"text-center text-muted font-weight-bold chart-donut-center-word\" data-role=\"donut-chart-label\">\n          <span\n            *ngIf=\"isSpending\"\n            i18n=\"Total spending|Label for total spending amount@@incomeSpendingAnalysis.label.total.spending\"\n          >\n            Total spending\n          </span>\n          <span\n            *ngIf=\"!isSpending\"\n            i18n=\"Total income|Label for total income amount@@incomeSpendingAnalysis.label.total.income\"\n          >\n            Total income\n          </span>\n        </div>\n        <div class=\"h6 text-center\">\n          <bb-amount-ui\n            [amount]=\"data.total.amount\"\n            [currency]=\"data.total.currencyCode\"\n          ></bb-amount-ui>\n        </div>\n      </div>\n      <ng-container\n        bbIncomeSpendingAnalysisChartCustomizable\n        [bbHostRef]=\"hostRef\"\n        [bbTemplateContext]=\"{ data: data, colors: colors, isSpending: isSpending }\"\n      ></ng-container>\n    </div>\n  </ng-template>\n\n  <ng-template\n    bbIncomeSpendingAnalysisChartCustomizable\n    let-hostRef\n    let-data=\"context.data\"\n    let-colors=\"context.colors\"\n  >\n    <bb-donut-chart-ui\n      [data]=\"data.series\"\n      [colors]=\"colors\"\n      [relevancePercentage]=\"hostRef.relevance\"\n      [tooltipTmpl]=\"donutChartTooltip\"\n      [labelTmpl]=\"donutChartLabel\"\n    ></bb-donut-chart-ui>\n  </ng-template>\n\n  <ng-template #errorState>\n    <bb-empty-state-ui\n      title=\"\"\n      [subtitle]=\"error\"\n      iconModifier=\"error\"\n      iconSize=\"xxl\"\n      iconColor=\"gray\"\n      iconClasses=\"text-muted\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #loadingState>\n    <bb-loading-indicator-ui\n      i18n-text=\"Loading analysis data|Text to display while loading income/spending analysis data@@incomeSpendingAnalysis.state.loadingData\"\n      text=\"Loading analysis data...\">\n    </bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-template #emptyState>\n    <div class=\"bb-stack bb-stack--center\">\n      <bb-empty-state-ui\n      i18n-title=\"No data title|Title of a message that is shown when there is no data to display@@incomeSpendingAnalysis.state.noResults.title\"\n      title=\"No Data Found\"\n      i18n-subtitle=\"No data subtitle|Subtitle of a message that is shown when there is no data to display@@incomeSpendingAnalysis.state.noResults.subtitle\"\n      subtitle=\"You don't have any data to be displayed. Please try selecting a different period.\"\n      iconSize=\"xxl\"\n      iconModifier=\"donut-small\"\n      class=\"bb-text-align-center\"\n    ></bb-empty-state-ui>\n    </div>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisCategoriesListCustomizable let-hostRef let-data=\"context.data\" let-isSpending=\"context.isSpending\">\n    <div class=\"list-group-item rounded-0 border-left-0 border-right-0 border-top-0 list-item-transaction-accordion pt-3\" data-role=\"category-list-header\">\n      <div class=\"transaction-item row align-items-center\" role=\"row\">\n        <div class=\"col-6\">\n          <span *ngIf=\"isSpending\" class=\"h5\" i18n=\"Spending per category|Categories list spending label@@categories.list.spending.label\">\n            Spending per category\n          </span>\n          <span *ngIf=\"!isSpending\" class=\"h5\" i18n=\"Income per category|Categories list income label@@categories.list.income.label\">\n            Income per category\n          </span>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"transaction-amount text-right h5 m-0\">\n            <span i18n=\"Total amount|Total amount label@@categories.list.total.label\">\n              Total amount\n            </span>\n            <bb-amount-ui [amount]=\"data.total.amount\" [currency]=\"data.total.currencyCode\"></bb-amount-ui>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"list-group-item rounded-0 border-left-0 border-right-0 list-item-transaction-accordion py-3\" *ngFor=\"let item of data?.items\" data-role=\"category-list-item\">\n      <div class=\"transaction-item row d-flex align-items-center\" role=\"row\">\n        <div class=\"transaction-category-icon col-6 d-flex align-items-center\">\n          <bb-icon-ui \n            size=\"sm\" \n            backgroundType=\"circle\" \n            name=\"category-{{ hostRef.transformCategoryToIconName(item.category) }}\"\n          ></bb-icon-ui>\n          <strong>\n            <span class=\"bb-transaction-category-name px-3\">{{item.category}}</span>\n          </strong>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"transaction-amount text-right\">\n            <bb-amount-ui [amount]=\"item.totalAmount.amount\" [currency]=\"item.totalAmount.currencyCode\"></bb-amount-ui>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisBarChartWrapperCustomizable let-chartOptions=\"context.chartOptions\" let-data=\"context.data\">\n    <div class=\"d-block chart-bar\">\n      <ngx-charts-bar-vertical\n        [scheme]=\"{domain: chartOptions.colors}\"\n        [results]=\"data.series\"\n        [gradient]=\"chartOptions.gradient\"\n        [xAxis]=\"chartOptions.showXAxis\"\n        [yAxis]=\"chartOptions.showYAxis\"\n        [legend]=\"chartOptions.showLegend\"\n        [showXAxisLabel]=\"chartOptions.showXAxisLabel\"\n        [showYAxisLabel]=\"chartOptions.showYAxisLabel\"\n        [yAxisTickFormatting]=\"customYAxisTickFormatting(data)\"\n        [showGridLines]=\"true\"\n        [roundEdges]=\"chartOptions.roundEdges\"\n      >\n        <ng-template #tooltipTemplate let-model=\"model\">\n          <div class=\"my-2\">\n            <span class=\"mr-2\">{{model.name}}</span>\n            <bb-amount-ui class=\"ml-2\" [amount]=\"model.value\" [currency]=\"data.categoryData.total.currencyCode\"></bb-amount-ui>\n          </div>\n        </ng-template>\n      </ngx-charts-bar-vertical>\n    </div>\n  </ng-template>\n\n  <ng-template\n    #donutChartLabel\n    let-data=\"data\"\n    let-color=\"color\"\n    let-label=\"label\"\n    let-icon=\"icon\"\n  >\n    <svg:g\n      [attr.transform]=\"hostRef.getAttrTransform(data, -hostRef.iconWidth, hostRef.getTransformOffsetY(data))\"\n      [style.transform]=\"hostRef.getStyleTransform(data, -hostRef.iconWidth, hostRef.getTransformOffsetY(data))\"\n      [style.fill]=\"color\"\n    >\n      <svg:text\n        #bbChartLabelIcon\n        class=\"bb-transaction-category bb-transaction-category-icon\"\n        [ngClass]=\"hostRef.getCategoryClass(data?.data?.cssClass)\"\n        data-role=\"donut-chart-segment-icon\"\n        aria-hidden=\"true\"\n      >\n        {{ icon }}\n      </svg:text>\n    </svg:g>\n    <svg:g\n      [attr.transform]=\"hostRef.getAttrTransform(data, 0, 0)\"\n      [style.transform]=\"hostRef.getStyleTransform(data, 0, 0)\"\n      [style.transition]=\"hostRef.getTextTransition()\"\n    >\n      <svg:text\n        #bbChartLabelText\n        class=\"font-weight-bold\"\n        [class.animation]=\"true\"\n        dy=\".35em\"\n        [style.fill]=\"color\"\n        [style.textAnchor]=\"'middle'\"\n        [style.shapeRendering]=\"'crispEdges'\"\n        data-role=\"donut-chart-segment-label\"\n        aria-hidden=\"true\"\n      >\n        {{ label }}\n      </svg:text>\n    </svg:g>\n    <span class=\"sr-only\" i18n=\"Chart section, interpolation category, interpolation amount|Label for chart displaying category, amount, and introduction@@incomeSpendingAnalysis.donutChart.label\">\n      Chart section, {{data?.data?.cssClass}}, {{label}}\n    </span>\n  </ng-template>\n\n  <ng-template\n    #donutChartTooltip\n    let-name=\"name\"\n    let-cssClass=\"cssClass\"\n    let-totalAmount=\"totalAmount\"\n    let-portion=\"portion\"\n    let-trend=\"trend\"\n    let-arrowClass=\"arrowClass\"\n  >\n    <div\n      bbDynamicId\n      #tooltipElement\n      class=\"row pb-3 position-relative chart-tooltip chart-tooltip-default text-left\"\n      [ngClass]=\"arrowClass\"\n      aria-live=\"polite\"\n    >\n      <span class=\"d-flex chart-tooltip-analysis-category text-muted\">\n        <span\n          *ngIf=\"hostRef.relevance >= portion\"\n          class=\"d-inline-block mr-1\"\n        >\n          <bb-icon-ui \n            size=\"md\"\n            backgroundType=\"circle\"\n            name=\"category-{{ hostRef.transformCategoryToIconName(cssClass) }}\"\n          ></bb-icon-ui>\n        </span>\n        {{ name }}\n      </span>\n      <div>\n        <div class=\"row\">\n          <strong>\n            <bb-amount-ui \n              class=\"h5 my-1 col-12 chart-tooltip-analysis-amount\" \n              [amount]=\"totalAmount.amount\"\n              [currency]=\"totalAmount.currencyCode\"\n            ></bb-amount-ui>\n          </strong>\n        </div>\n        <p \n          *ngIf=\"totalAmount.amount !== undefined\" \n          class=\"chart-tooltip-analysis-portion text-muted\"\n          i18n=\"Slice portion|Active slice portion of total amount@@donut-chart.tooltip.portion\"\n        >\n          {{ portion }}% of total\n        </p>\n        <ng-container *ngIf=\"trend !== undefined\">\n          <hr class=\"chart-tooltip-divider p-0\">\n          <p \n            class=\"chart-tooltip-analysis-trend\" \n            [ngClass]=\"hostRef.textClass(trend, isSpending)\"\n          >\n            <span class=\"d-flex align-items-center d-block mt-1\">\n              <bb-icon-ui \n                class=\"mr-1\" \n                [name]=\"hostRef.iconClass(trend)\"\n              ></bb-icon-ui>\n              <span class=\"h5 m-0 d-block\">\n                <ng-container *ngIf=\"hostRef.abs(trend) >= 1\">\n                  {{ hostRef.abs(trend) }}%\n                </ng-container>\n              </span>\n            </span>\n            <span class=\"chart-tooltip-info-text text-muted w-100\">\n              <ng-container \n                *ngIf=\"trend <= -1\"\n                i18n=\"Less than previous month|Text to describe that trend is negative@@donut-chart.tooltip.trend.less\"\n              >\n                less than previous month\n              </ng-container>\n              <ng-container \n                *ngIf=\"trend >= 1\"\n                i18n=\"More than previous month|Text to describe that trend is positive@@donut-chart.tooltip.trend.more\"\n              >\n                more than previous month\n              </ng-container>\n              <ng-container \n                *ngIf=\"trend > -1 && trend < 1\"\n                i18n=\"Same as previous month|Text to describe that trend is around zero@@donut-chart.tooltip.trend.same\"\n              >\n                Same as previous month\n              </ng-container>\n            </span>\n          </p>\n        </ng-container>\n      </div>\n    </div>\n  </ng-template>\n</ng-template>\n\n<span #transNow class=\"ng-cloak\" i18n=\"Now|Label for current day in period selector@@incomeSpendingAnalysis.period.now\">Now</span>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { PeriodSelectorModule } from '@backbase/ui-ang/period-selector';\nimport { DonutChartModule } from './bb-donut-chart-ui/donut-chart.module';\nimport { MonthSelectorComponent } from './bb-month-selector-ui/month-selector.component';\nimport {\n  IncomeSpendingAnalysisBarChartWrapperCustomizableDirective,\n  IncomeSpendingAnalysisCategoriesListCustomizableDirective,\n  IncomeSpendingAnalysisChartCustomizableDirective,\n  IncomeSpendingAnalysisChartWrapperCustomizableDirective,\n  IncomeSpendingAnalysisCustomizableDirective,\n  IncomeSpendingAnalysisMonthSelectorCustomizableDirective,\n  IncomeSpendingAnalysisPeriodSelectorCustomizableDirective,\n  IncomeSpendingAnalysisWidgetComponent,\n} from './income-spending-analysis.component';\nimport { IncomeSpendingAnalysisWidgetService } from './income-spending-analysis.service';\n\nconst components = [IncomeSpendingAnalysisWidgetComponent, MonthSelectorComponent];\n\nconst customizables = [\n  IncomeSpendingAnalysisCustomizableDirective,\n  IncomeSpendingAnalysisPeriodSelectorCustomizableDirective,\n  IncomeSpendingAnalysisMonthSelectorCustomizableDirective,\n  IncomeSpendingAnalysisChartWrapperCustomizableDirective,\n  IncomeSpendingAnalysisCategoriesListCustomizableDirective,\n  IncomeSpendingAnalysisChartCustomizableDirective,\n  IncomeSpendingAnalysisBarChartWrapperCustomizableDirective,\n];\nconst modules = [\n  AmountModule,\n  DonutChartModule,\n  EmptyStateModule,\n  IconModule,\n  LoadingIndicatorModule,\n  PeriodSelectorModule,\n];\n@NgModule({\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { IncomeSpendingAnalysisWidgetComponent },\n    }),\n    ...modules,\n  ],\n  declarations: [...components, ...customizables],\n  providers: [IncomeSpendingAnalysisWidgetService],\n  exports: [...components, ...customizables, ...modules],\n})\nexport class IncomeSpendingAnalysisWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["trimLabel","Component","ChangeDetectionStrategy","Input","PlacementTypes","throttleable","ViewEncapsulation","HostBinding","HostListener","DomPortalHost","portal","ComponentPortal","Injectable","StyleTypes","ShowTypes","EventEmitter","Directive","Output","pie","max","arc","formatLabel","calculateViewDimensions","ColorHelper","ScaleType","BaseChartComponent","PLATFORM_ID","Inject","ContentChild","ViewChild","CommonModule","NgModule","NgxChartsModule","CurrencyPipe","AmountModule","CssVariablesService","combineLatest","map","BehaviorSubject","from","shareReplay","filter","switchMap","catchError","share","zip","mergeMap","tap","pluck","of","getCurrencySymbol","LOCALE_ID","DatePipe","Optional","BbTemplate","EmptyStateModule","IconModule","LoadingIndicatorModule","PeriodSelectorModule","BackbaseCoreModule"],"mappings":"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"}