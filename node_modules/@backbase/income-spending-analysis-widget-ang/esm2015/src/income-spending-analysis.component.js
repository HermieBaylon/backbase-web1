import { DatePipe, getCurrencySymbol } from '@angular/common';
import { ChangeDetectionStrategy, Component, Directive, Inject, Input, LOCALE_ID, Optional, ViewChild, } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { BehaviorSubject, combineLatest, from, of, zip } from 'rxjs';
import { catchError, filter, map, mergeMap, pluck, share, shareReplay, switchMap, tap } from 'rxjs/operators';
import { AnalysisTypes, BAR_COLORS_CSS_VAR, CATEGORY_COLORS_CSS_VAR, DB_DATE_FORMAT, DEFAULT_INTERVAL, PERIODS, PROPERTIES, RELEVANCE_PERCENTAGE, TrendArrowClasses, TrendTextClasses, } from './constants';
import * as i0 from "@angular/core";
import * as i1 from "./income-spending-analysis.service";
import * as i2 from "@backbase/ui-ang/css-variables-lib";
import * as i3 from "@backbase/foundation-ang/core";
import * as i4 from "@angular/router";
import * as i5 from "@angular/common";
import * as i6 from "./bb-month-selector-ui/month-selector.component";
import * as i7 from "@backbase/ui-ang/period-selector";
import * as i8 from "@backbase/ui-ang/amount";
import * as i9 from "./bb-donut-chart-ui/donut-chart.component";
import * as i10 from "@backbase/ui-ang/empty-state";
import * as i11 from "@backbase/ui-ang/loading-indicator";
import * as i12 from "@backbase/ui-ang/icon";
import * as i13 from "@swimlane/ngx-charts";
const filterInputParameters = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));
export class IncomeSpendingAnalysisWidgetComponent {
    constructor(service, cssVariableService, model, route, datePipe, cd, locale) {
        this.service = service;
        this.cssVariableService = cssVariableService;
        this.model = model;
        this.route = route;
        this.datePipe = datePipe;
        this.cd = cd;
        this.locale = locale;
        this.hostRef = this;
        this.isIE = /(edge|msie|trident)/i.test(navigator.userAgent);
        this.analysisTypeSubject = new BehaviorSubject(undefined);
        this.endDateValue = new Date();
        this.startDateValue = new Date(this.endDateValue.getFullYear(), this.endDateValue.getMonth(), 1);
        this.initialDateParams = {
            periodStartDate: this.datePipe.transform(this.startDateValue, DB_DATE_FORMAT) || '',
            periodEndDate: this.datePipe.transform(this.endDateValue, DB_DATE_FORMAT) || '',
            intervalDuration: DEFAULT_INTERVAL,
        };
        this.labelPositioned = false;
        this.iconHeight = 0;
        this.labelHeight = 0;
        this.iconWidth = 0;
        this.selectedTab = PERIODS[Math.max(PERIODS.map((item) => item.default).indexOf(true), 0)].duration;
        // BarChart Options
        this.chartOptions = from(this.cssVariableService.getCssVariable(BAR_COLORS_CSS_VAR)).pipe(map((cssVar) => {
            return {
                colors: cssVar ? [cssVar.slice(0, cssVar.indexOf(','))] : [''],
                showXAxis: true,
                showYAxis: true,
                gradient: false,
                showLegend: false,
                showXAxisLabel: true,
                showYAxisLabel: true,
                roundEdges: false,
            };
        }));
        this.isLoading = false;
        this.analysisType = filterInputParameters(this.analysisTypeSubject.asObservable(), this.getProperty(PROPERTIES.analysisType).pipe(map((val) => val)));
        this.arrangementIds = this.getRouteParam(this.route, 'selectedAccount').pipe(map((selectedAccount) => (selectedAccount ? [selectedAccount] : [])));
        this.dateParams = new BehaviorSubject(this.initialDateParams);
        this.dataParams = combineLatest(this.arrangementIds, this.dateParams.asObservable(), this.analysisType).pipe(map(([arrangementIds, dateParams, creditDebitIndicator]) => {
            this.error = undefined;
            return Object.assign(Object.assign({ arrangementIds: arrangementIds || [] }, dateParams), { creditDebitIndicator });
        }), shareReplay(1));
        this.analysisData = this.dataParams.pipe(filter((data) => !!data.arrangementIds.length), switchMap((params) => this.service.loadAnalysisData(params)), map((data) => {
            if (!data || !data.items) {
                return data;
            }
            this.labelPositioned = false;
            let totalPortion = 0;
            return Object.assign(Object.assign({}, data), { series: data.items
                    .sort((a, b) => (parseFloat(b.totalAmount.amount) > parseFloat(a.totalAmount.amount) ? 1 : -1))
                    .map((item) => (Object.assign(Object.assign({}, item), { name: item.category, value: parseFloat(item.totalAmount.amount), cssClass: this.transformCategoryToIconName(item.category), totalPortion: (totalPortion += item.portion) }))) });
        }), catchError((err) => this.handleError(err)), share());
        this.analysisPeriodData = zip(this.analysisData, this.dataParams).pipe(mergeMap(([data, params]) => {
            const categories = (data.items || []).map((item) => item.category);
            const newParams = Object.assign(Object.assign({}, params), { categories: categories.length ? categories : [''] });
            return this.service.loadAnalysisPeriodData(newParams).pipe(map(this.formatPeriodData), map((series) => ({ series, categoryData: data, items: [] })));
        }), tap(() => {
            this.isLoading = false;
            this.cd.markForCheck();
        }), catchError((err) => this.handleError(err)));
        this.colors = combineLatest([
            this.analysisData,
            from(this.cssVariableService.getCssVariable(CATEGORY_COLORS_CSS_VAR)),
        ]).pipe(map(([data, cssVar]) => {
            if (!cssVar || !data || !data.series || !data.series.length) {
                return [];
            }
            const identities = cssVar.split(',').reduce((accumulator, definition) => {
                const [category, color, icon] = definition.trim().split(' ');
                return Object.assign(Object.assign({}, accumulator), { [category]: {
                        color,
                        icon,
                    } });
            }, {});
            return data.series.map((item) => {
                var _a, _b;
                return ({
                    name: item.name || '',
                    value: ((_a = identities[item.cssClass]) === null || _a === void 0 ? void 0 : _a.color) || '',
                    icon: ((_b = identities[item.cssClass]) === null || _b === void 0 ? void 0 : _b.icon) || '',
                });
            });
        }));
        this.formatPeriodData = this.formatPeriodData.bind(this);
    }
    set analysisTypeValue(value) {
        this.analysisTypeSubject.next(value);
    }
    getRouteParam(route, param) {
        const paramValue = route.paramMap.pipe(pluck('params', param));
        if (!route.parent) {
            return paramValue;
        }
        // ensure that level that has actual value keeps it from being cleared
        return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(map((params) => params[0] || params[1]));
    }
    getProperty(property) {
        return this.model ? this.model.property(property.name, property.value) : of(property.value);
    }
    get startDate() {
        return this.startDateValue;
    }
    get endDate() {
        return this.endDateValue;
    }
    get formatters() {
        return {
            end: (date) => {
                const now = new Date();
                if (now.getFullYear() === date.getFullYear() &&
                    now.getMonth() === date.getMonth() &&
                    now.getDate() === date.getDate()) {
                    return this.translationNow.nativeElement.textContent;
                }
                return this.datePipe.transform(date, 'mediumDate') || '';
            },
        };
    }
    get isSpending() {
        return this.analysisType.pipe(map((property) => property === AnalysisTypes.SPENDING));
    }
    get relevance() {
        return RELEVANCE_PERCENTAGE;
    }
    selectTab(num) {
        this.selectedTab = PERIODS[Math.max(PERIODS.map((item) => item.duration).indexOf(num), 0)].duration;
    }
    handleError(error) {
        this.error = error.statusText;
        return of({ items: [] });
    }
    formatPeriodData(res) {
        if (!res || !res.periods || !res.total) {
            return [];
        }
        return parseFloat(res.total.amount) !== 0
            ? res.periods.map((period) => {
                var _a;
                return ({
                    name: this.datePipe.transform(period.intervalStartDate, 'MMM') || '',
                    value: period.total ? parseFloat(period.total.amount) : 0,
                    currencyCode: (_a = period.total) === null || _a === void 0 ? void 0 : _a.currencyCode,
                });
            })
            : [];
    }
    transformCategoryToIconName(transactionCategory) {
        return `${transactionCategory.toLowerCase().replace(/\W/g, '-').replace(/-{2,}/g, '-')}`;
    }
    textX(data) {
        return data ? data.pos[0] : 0;
    }
    textY(data) {
        return data ? data.pos[1] : 0;
    }
    getCategoryClass(cssClass) {
        return `bb-transaction-category-${cssClass}`;
    }
    getTextTransition() {
        return this.isIE ? '' : 'transform 0.75s';
    }
    getTransformOffsetY(data) {
        const percetage = data.data.totalPortion - data.data.portion / 2;
        return percetage > 25 && percetage < 75 ? this.iconHeight + this.labelHeight : -this.labelHeight;
    }
    getStyleTransform(data, offsetX, offsetY) {
        return this.isIE ? '' : `translate3d(${this.textX(data) + offsetX}px, ${this.textY(data) + offsetY}px, 0)`;
    }
    getAttrTransform(data, offsetX, offsetY) {
        return !this.isIE ? '' : `translate(${this.textX(data) + offsetX}, ${this.textY(data) + offsetY})`;
    }
    textClass(value, isSpending = true) {
        // positive trend has different meaning for income and for spending
        const multiplier = isSpending ? 1 : -1;
        return value * multiplier > 0 ? TrendTextClasses.POSITIVE : TrendTextClasses.NEGATIVE;
    }
    iconClass(value) {
        if (value < -1) {
            return TrendArrowClasses.NEGATIVE;
        }
        else if (value > 1) {
            return TrendArrowClasses.POSITIVE;
        }
        return '';
    }
    abs(value) {
        return Math.abs(value);
    }
    onPeriodRangeChange(monthSelectorData) {
        this.selectTab(monthSelectorData.tabIndex);
        this.onPeriodChange(monthSelectorData.period);
    }
    onPeriodChange(period) {
        this.isLoading = true;
        this.startDateValue = period.start;
        this.endDateValue = period.end;
        this.dateParams.next(Object.assign(Object.assign({}, this.initialDateParams), { periodStartDate: this.datePipe.transform(period.start, DB_DATE_FORMAT) || '', periodEndDate: this.datePipe.transform(period.end, DB_DATE_FORMAT) || '' }));
    }
    customYAxisTickFormatting(totalPeriodSeries) {
        var _a, _b;
        const currencyCode = (_b = (_a = totalPeriodSeries.categoryData) === null || _a === void 0 ? void 0 : _a.total) === null || _b === void 0 ? void 0 : _b.currencyCode;
        const currencySymbol = currencyCode ? getCurrencySymbol(currencyCode, 'wide', this.locale) : currencyCode;
        return (amount) => `${currencySymbol} ${amount}`;
    }
    ngAfterViewChecked() {
        if (this.labelPositioned || !this.chartIcon || !this.chartLabel) {
            return;
        }
        this.labelHeight = this.chartLabel.nativeElement.getBoundingClientRect().height / 2;
        this.iconHeight = this.chartIcon.nativeElement.getBoundingClientRect().height;
        this.iconWidth = (this.chartIcon.nativeElement.getBoundingClientRect().width - 2) / 2;
        this.labelPositioned = true;
        this.cd.detectChanges();
    }
}
IncomeSpendingAnalysisWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisWidgetComponent, deps: [{ token: i1.IncomeSpendingAnalysisWidgetService }, { token: i2.CssVariablesService }, { token: i3.ItemModel, optional: true }, { token: i4.ActivatedRoute }, { token: i5.DatePipe }, { token: i0.ChangeDetectorRef }, { token: LOCALE_ID }], target: i0.ɵɵFactoryTarget.Component });
IncomeSpendingAnalysisWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisWidgetComponent, selector: "bb-income-spending-analysis-widget", inputs: { analysisTypeValue: ["analysisType", "analysisTypeValue"] }, providers: [DatePipe], viewQueries: [{ propertyName: "chartIcon", first: true, predicate: ["bbChartLabelIcon"], descendants: true }, { propertyName: "chartLabel", first: true, predicate: ["bbChartLabelText"], descendants: true }, { propertyName: "translationNow", first: true, predicate: ["transNow"], descendants: true, static: true }], ngImport: i0, template: "<ng-container\n  bbIncomeSpendingAnalysisCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{ isLoading: hostRef.isLoading, analysisData: hostRef.analysisData, analysisPeriodData: hostRef.analysisPeriodData, colors: hostRef.colors | async, isSpending: hostRef.isSpending | async, chartOptions: hostRef.chartOptions | async }\"\n></ng-container>\n\n<ng-template\n  bbIncomeSpendingAnalysisCustomizable\n  let-hostRef\n  let-analysisData=\"context.analysisData\"\n  let-analysisPeriodData=\"context.analysisPeriodData\"\n  let-colors=\"context.colors\"\n  let-isSpending=\"context.isSpending\"\n  let-chartOptions=\"context.chartOptions\"\n>\n  <ng-container *ngIf=\"!hostRef.error; else errorState\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <ng-container\n          bbIncomeSpendingAnalysisMonthSelectorCustomizable\n          [bbHostRef]=\"hostRef\"\n        ></ng-container>\n\n        <ng-container\n          *ngIf=\"hostRef.selectedTab === 1\"\n          bbIncomeSpendingAnalysisPeriodSelectorCustomizable\n          [bbHostRef]=\"hostRef\"\n        ></ng-container>\n        <ng-container *ngIf=\"(arrangementIds | async)?.length; else emptyState\">\n          <ng-container *ngIf=\"hostRef.selectedTab === 1\">\n            <ng-container *ngIf=\"analysisData | async as data ; else loadingState\">\n              <ng-container *ngIf=\"data?.items?.length; else emptyState\">\n                <ng-container\n                  bbIncomeSpendingAnalysisChartWrapperCustomizable\n                  [bbHostRef]=\"hostRef\"\n                  [bbTemplateContext]=\"{ data: data, colors: colors, isSpending: isSpending }\"\n                ></ng-container>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n          <ng-container *ngIf=\"hostRef.selectedTab !== 1\">\n            <ng-container *ngIf=\"analysisPeriodData | async as data; else loadingState\">\n              <ng-container *ngIf=\"!hostRef.isLoading else loadingState\">\n                <ng-container *ngIf=\"data.series && data.series.length; else emptyState\">\n                  <ng-container\n                    bbIncomeSpendingAnalysisBarChartWrapperCustomizable\n                    [bbHostRef]=\"hostRef\"\n                    [bbTemplateContext]=\"{ data: data, chartOptions: chartOptions }\"\n                  ></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf=\"data.categoryData?.items?.length else emptyState\">\n                  <ng-container\n                    bbIncomeSpendingAnalysisCategoriesListCustomizable\n                    [bbHostRef]=\"hostRef\"\n                    [bbTemplateContext]=\"{ data: data.categoryData, isSpending: isSpending }\"\n                  ></ng-container>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-template bbIncomeSpendingAnalysisMonthSelectorCustomizable let-hostRef>\n    <bb-month-selector-ui\n      [selectedTab]=\"hostRef.selectedTab\"\n      (change)=\"hostRef.onPeriodRangeChange($event)\"\n    ></bb-month-selector-ui>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisPeriodSelectorCustomizable let-hostRef>\n    <div class=\"bb-stack bb-stack--center bb-block bb-block--lg\">\n      <bb-period-selector-ui\n        [periodStart]=\"hostRef.startDate\"\n        [periodEnd]=\"hostRef.endDate\"\n        [periodFormatters]=\"hostRef.formatters\"\n        (periodChange)=\"hostRef.onPeriodChange($event)\"\n      ></bb-period-selector-ui>\n    </div>\n  </ng-template>\n \n  <ng-template\n    bbIncomeSpendingAnalysisChartWrapperCustomizable\n    let-hostRef\n    let-data=\"context.data\"\n    let-colors=\"context.colors\"\n    let-isSpending=\"context.isSpending\"\n  >\n    <div class=\"bb-stack bb-stack--center position-relative chart-donut chart-donut-large chart-donut-container-inflated\">\n      <div class=\"absolute-center\">\n        <div class=\"text-center text-muted font-weight-bold chart-donut-center-word\" data-role=\"donut-chart-label\">\n          <span\n            *ngIf=\"isSpending\"\n            i18n=\"Total spending|Label for total spending amount@@incomeSpendingAnalysis.label.total.spending\"\n          >\n            Total spending\n          </span>\n          <span\n            *ngIf=\"!isSpending\"\n            i18n=\"Total income|Label for total income amount@@incomeSpendingAnalysis.label.total.income\"\n          >\n            Total income\n          </span>\n        </div>\n        <div class=\"h6 text-center\">\n          <bb-amount-ui\n            [amount]=\"data.total.amount\"\n            [currency]=\"data.total.currencyCode\"\n          ></bb-amount-ui>\n        </div>\n      </div>\n      <ng-container\n        bbIncomeSpendingAnalysisChartCustomizable\n        [bbHostRef]=\"hostRef\"\n        [bbTemplateContext]=\"{ data: data, colors: colors, isSpending: isSpending }\"\n      ></ng-container>\n    </div>\n  </ng-template>\n\n  <ng-template\n    bbIncomeSpendingAnalysisChartCustomizable\n    let-hostRef\n    let-data=\"context.data\"\n    let-colors=\"context.colors\"\n  >\n    <bb-donut-chart-ui\n      [data]=\"data.series\"\n      [colors]=\"colors\"\n      [relevancePercentage]=\"hostRef.relevance\"\n      [tooltipTmpl]=\"donutChartTooltip\"\n      [labelTmpl]=\"donutChartLabel\"\n    ></bb-donut-chart-ui>\n  </ng-template>\n\n  <ng-template #errorState>\n    <bb-empty-state-ui\n      title=\"\"\n      [subtitle]=\"error\"\n      iconModifier=\"error\"\n      iconSize=\"xxl\"\n      iconColor=\"gray\"\n      iconClasses=\"text-muted\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #loadingState>\n    <bb-loading-indicator-ui\n      i18n-text=\"Loading analysis data|Text to display while loading income/spending analysis data@@incomeSpendingAnalysis.state.loadingData\"\n      text=\"Loading analysis data...\">\n    </bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-template #emptyState>\n    <div class=\"bb-stack bb-stack--center\">\n      <bb-empty-state-ui\n      i18n-title=\"No data title|Title of a message that is shown when there is no data to display@@incomeSpendingAnalysis.state.noResults.title\"\n      title=\"No Data Found\"\n      i18n-subtitle=\"No data subtitle|Subtitle of a message that is shown when there is no data to display@@incomeSpendingAnalysis.state.noResults.subtitle\"\n      subtitle=\"You don't have any data to be displayed. Please try selecting a different period.\"\n      iconSize=\"xxl\"\n      iconModifier=\"donut-small\"\n      class=\"bb-text-align-center\"\n    ></bb-empty-state-ui>\n    </div>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisCategoriesListCustomizable let-hostRef let-data=\"context.data\" let-isSpending=\"context.isSpending\">\n    <div class=\"list-group-item rounded-0 border-left-0 border-right-0 border-top-0 list-item-transaction-accordion pt-3\" data-role=\"category-list-header\">\n      <div class=\"transaction-item row align-items-center\" role=\"row\">\n        <div class=\"col-6\">\n          <span *ngIf=\"isSpending\" class=\"h5\" i18n=\"Spending per category|Categories list spending label@@categories.list.spending.label\">\n            Spending per category\n          </span>\n          <span *ngIf=\"!isSpending\" class=\"h5\" i18n=\"Income per category|Categories list income label@@categories.list.income.label\">\n            Income per category\n          </span>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"transaction-amount text-right h5 m-0\">\n            <span i18n=\"Total amount|Total amount label@@categories.list.total.label\">\n              Total amount\n            </span>\n            <bb-amount-ui [amount]=\"data.total.amount\" [currency]=\"data.total.currencyCode\"></bb-amount-ui>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"list-group-item rounded-0 border-left-0 border-right-0 list-item-transaction-accordion py-3\" *ngFor=\"let item of data?.items\" data-role=\"category-list-item\">\n      <div class=\"transaction-item row d-flex align-items-center\" role=\"row\">\n        <div class=\"transaction-category-icon col-6 d-flex align-items-center\">\n          <bb-icon-ui \n            size=\"sm\" \n            backgroundType=\"circle\" \n            name=\"category-{{ hostRef.transformCategoryToIconName(item.category) }}\"\n          ></bb-icon-ui>\n          <strong>\n            <span class=\"bb-transaction-category-name px-3\">{{item.category}}</span>\n          </strong>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"transaction-amount text-right\">\n            <bb-amount-ui [amount]=\"item.totalAmount.amount\" [currency]=\"item.totalAmount.currencyCode\"></bb-amount-ui>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template bbIncomeSpendingAnalysisBarChartWrapperCustomizable let-chartOptions=\"context.chartOptions\" let-data=\"context.data\">\n    <div class=\"d-block chart-bar\">\n      <ngx-charts-bar-vertical\n        [scheme]=\"{domain: chartOptions.colors}\"\n        [results]=\"data.series\"\n        [gradient]=\"chartOptions.gradient\"\n        [xAxis]=\"chartOptions.showXAxis\"\n        [yAxis]=\"chartOptions.showYAxis\"\n        [legend]=\"chartOptions.showLegend\"\n        [showXAxisLabel]=\"chartOptions.showXAxisLabel\"\n        [showYAxisLabel]=\"chartOptions.showYAxisLabel\"\n        [yAxisTickFormatting]=\"customYAxisTickFormatting(data)\"\n        [showGridLines]=\"true\"\n        [roundEdges]=\"chartOptions.roundEdges\"\n      >\n        <ng-template #tooltipTemplate let-model=\"model\">\n          <div class=\"my-2\">\n            <span class=\"mr-2\">{{model.name}}</span>\n            <bb-amount-ui class=\"ml-2\" [amount]=\"model.value\" [currency]=\"data.categoryData.total.currencyCode\"></bb-amount-ui>\n          </div>\n        </ng-template>\n      </ngx-charts-bar-vertical>\n    </div>\n  </ng-template>\n\n  <ng-template\n    #donutChartLabel\n    let-data=\"data\"\n    let-color=\"color\"\n    let-label=\"label\"\n    let-icon=\"icon\"\n  >\n    <svg:g\n      [attr.transform]=\"hostRef.getAttrTransform(data, -hostRef.iconWidth, hostRef.getTransformOffsetY(data))\"\n      [style.transform]=\"hostRef.getStyleTransform(data, -hostRef.iconWidth, hostRef.getTransformOffsetY(data))\"\n      [style.fill]=\"color\"\n    >\n      <svg:text\n        #bbChartLabelIcon\n        class=\"bb-transaction-category bb-transaction-category-icon\"\n        [ngClass]=\"hostRef.getCategoryClass(data?.data?.cssClass)\"\n        data-role=\"donut-chart-segment-icon\"\n        aria-hidden=\"true\"\n      >\n        {{ icon }}\n      </svg:text>\n    </svg:g>\n    <svg:g\n      [attr.transform]=\"hostRef.getAttrTransform(data, 0, 0)\"\n      [style.transform]=\"hostRef.getStyleTransform(data, 0, 0)\"\n      [style.transition]=\"hostRef.getTextTransition()\"\n    >\n      <svg:text\n        #bbChartLabelText\n        class=\"font-weight-bold\"\n        [class.animation]=\"true\"\n        dy=\".35em\"\n        [style.fill]=\"color\"\n        [style.textAnchor]=\"'middle'\"\n        [style.shapeRendering]=\"'crispEdges'\"\n        data-role=\"donut-chart-segment-label\"\n        aria-hidden=\"true\"\n      >\n        {{ label }}\n      </svg:text>\n    </svg:g>\n    <span class=\"sr-only\" i18n=\"Chart section, interpolation category, interpolation amount|Label for chart displaying category, amount, and introduction@@incomeSpendingAnalysis.donutChart.label\">\n      Chart section, {{data?.data?.cssClass}}, {{label}}\n    </span>\n  </ng-template>\n\n  <ng-template\n    #donutChartTooltip\n    let-name=\"name\"\n    let-cssClass=\"cssClass\"\n    let-totalAmount=\"totalAmount\"\n    let-portion=\"portion\"\n    let-trend=\"trend\"\n    let-arrowClass=\"arrowClass\"\n  >\n    <div\n      bbDynamicId\n      #tooltipElement\n      class=\"row pb-3 position-relative chart-tooltip chart-tooltip-default text-left\"\n      [ngClass]=\"arrowClass\"\n      aria-live=\"polite\"\n    >\n      <span class=\"d-flex chart-tooltip-analysis-category text-muted\">\n        <span\n          *ngIf=\"hostRef.relevance >= portion\"\n          class=\"d-inline-block mr-1\"\n        >\n          <bb-icon-ui \n            size=\"md\"\n            backgroundType=\"circle\"\n            name=\"category-{{ hostRef.transformCategoryToIconName(cssClass) }}\"\n          ></bb-icon-ui>\n        </span>\n        {{ name }}\n      </span>\n      <div>\n        <div class=\"row\">\n          <strong>\n            <bb-amount-ui \n              class=\"h5 my-1 col-12 chart-tooltip-analysis-amount\" \n              [amount]=\"totalAmount.amount\"\n              [currency]=\"totalAmount.currencyCode\"\n            ></bb-amount-ui>\n          </strong>\n        </div>\n        <p \n          *ngIf=\"totalAmount.amount !== undefined\" \n          class=\"chart-tooltip-analysis-portion text-muted\"\n          i18n=\"Slice portion|Active slice portion of total amount@@donut-chart.tooltip.portion\"\n        >\n          {{ portion }}% of total\n        </p>\n        <ng-container *ngIf=\"trend !== undefined\">\n          <hr class=\"chart-tooltip-divider p-0\">\n          <p \n            class=\"chart-tooltip-analysis-trend\" \n            [ngClass]=\"hostRef.textClass(trend, isSpending)\"\n          >\n            <span class=\"d-flex align-items-center d-block mt-1\">\n              <bb-icon-ui \n                class=\"mr-1\" \n                [name]=\"hostRef.iconClass(trend)\"\n              ></bb-icon-ui>\n              <span class=\"h5 m-0 d-block\">\n                <ng-container *ngIf=\"hostRef.abs(trend) >= 1\">\n                  {{ hostRef.abs(trend) }}%\n                </ng-container>\n              </span>\n            </span>\n            <span class=\"chart-tooltip-info-text text-muted w-100\">\n              <ng-container \n                *ngIf=\"trend <= -1\"\n                i18n=\"Less than previous month|Text to describe that trend is negative@@donut-chart.tooltip.trend.less\"\n              >\n                less than previous month\n              </ng-container>\n              <ng-container \n                *ngIf=\"trend >= 1\"\n                i18n=\"More than previous month|Text to describe that trend is positive@@donut-chart.tooltip.trend.more\"\n              >\n                more than previous month\n              </ng-container>\n              <ng-container \n                *ngIf=\"trend > -1 && trend < 1\"\n                i18n=\"Same as previous month|Text to describe that trend is around zero@@donut-chart.tooltip.trend.same\"\n              >\n                Same as previous month\n              </ng-container>\n            </span>\n          </p>\n        </ng-container>\n      </div>\n    </div>\n  </ng-template>\n</ng-template>\n\n<span #transNow class=\"ng-cloak\" i18n=\"Now|Label for current day in period selector@@incomeSpendingAnalysis.period.now\">Now</span>\n", components: [{ type: i0.forwardRef(function () { return i6.MonthSelectorComponent; }), selector: "bb-month-selector-ui", inputs: ["selectedTab"], outputs: ["change"] }, { type: i0.forwardRef(function () { return i7.PeriodSelectorComponent; }), selector: "bb-period-selector-ui", inputs: ["periodStart", "periodEnd", "periodFormatters", "period"], outputs: ["periodChange"] }, { type: i0.forwardRef(function () { return i8.AmountComponent; }), selector: "bb-amount-ui", inputs: ["currency", "showPlusSign", "mapCurrency", "showPercent", "abbreviate", "decimalPlaces", "trailingZeroes", "amount"] }, { type: i0.forwardRef(function () { return i9.DonutChartComponent; }), selector: "bb-donut-chart-ui", inputs: ["data", "colors", "relevancePercentage", "tooltipTmpl", "labelTmpl"] }, { type: i0.forwardRef(function () { return i10.EmptyStateComponent; }), selector: "bb-empty-state-ui", inputs: ["title", "subtitle", "showIcon", "iconClasses", "iconModifier", "iconSize", "iconColor"] }, { type: i0.forwardRef(function () { return i11.LoadingIndicatorComponent; }), selector: "bb-loading-indicator-ui", inputs: ["text", "loaderSize", "showDelay", "hasBackground", "inline"] }, { type: i0.forwardRef(function () { return i12.IconComponent; }), selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i0.forwardRef(function () { return i13.BarVerticalComponent; }), selector: "ngx-charts-bar-vertical", inputs: ["legend", "legendTitle", "legendPosition", "tooltipDisabled", "showGridLines", "activeEntries", "trimXAxisTicks", "trimYAxisTicks", "rotateXAxisTicks", "maxXAxisTickLength", "maxYAxisTickLength", "barPadding", "roundDomains", "roundEdges", "showDataLabel", "noBarWhenZero", "xAxis", "yAxis", "showXAxisLabel", "showYAxisLabel", "xAxisLabel", "yAxisLabel", "gradient", "schemeType", "xAxisTickFormatting", "yAxisTickFormatting", "xAxisTicks", "yAxisTicks", "yScaleMax", "yScaleMin", "dataLabelFormatting"], outputs: ["activate", "deactivate"] }], directives: [{ type: i0.forwardRef(function () { return IncomeSpendingAnalysisCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisCustomizable]" }, { type: i0.forwardRef(function () { return i5.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisMonthSelectorCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisMonthSelectorCustomizable]" }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisPeriodSelectorCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisPeriodSelectorCustomizable]" }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisChartWrapperCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisChartWrapperCustomizable]" }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisBarChartWrapperCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisBarChartWrapperCustomizable]" }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisCategoriesListCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisCategoriesListCustomizable]" }, { type: i0.forwardRef(function () { return IncomeSpendingAnalysisChartCustomizableDirective; }), selector: "[bbIncomeSpendingAnalysisChartCustomizable]" }, { type: i0.forwardRef(function () { return i5.NgForOf; }), selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i0.forwardRef(function () { return i5.NgClass; }), selector: "[ngClass]", inputs: ["class", "ngClass"] }], pipes: { "async": i0.forwardRef(function () { return i5.AsyncPipe; }) }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisWidgetComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-income-spending-analysis-widget',
                    templateUrl: './income-spending-analysis.component.html',
                    providers: [DatePipe],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i1.IncomeSpendingAnalysisWidgetService }, { type: i2.CssVariablesService }, { type: i3.ItemModel, decorators: [{
                    type: Optional
                }] }, { type: i4.ActivatedRoute }, { type: i5.DatePipe }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [LOCALE_ID]
                }] }]; }, propDecorators: { analysisTypeValue: [{
                type: Input,
                args: ['analysisType']
            }], chartIcon: [{
                type: ViewChild,
                args: ['bbChartLabelIcon']
            }], chartLabel: [{
                type: ViewChild,
                args: ['bbChartLabelText']
            }], translationNow: [{
                type: ViewChild,
                args: ['transNow', { static: true }]
            }] } });
export class IncomeSpendingAnalysisCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisCustomizableDirective, selector: "[bbIncomeSpendingAnalysisCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisPeriodSelectorCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisPeriodSelectorCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisPeriodSelectorCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisPeriodSelectorCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisPeriodSelectorCustomizableDirective, selector: "[bbIncomeSpendingAnalysisPeriodSelectorCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisPeriodSelectorCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisPeriodSelectorCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisChartWrapperCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisChartWrapperCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisChartWrapperCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisChartWrapperCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisChartWrapperCustomizableDirective, selector: "[bbIncomeSpendingAnalysisChartWrapperCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisChartWrapperCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisChartWrapperCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisCategoriesListCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisCategoriesListCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisCategoriesListCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisCategoriesListCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisCategoriesListCustomizableDirective, selector: "[bbIncomeSpendingAnalysisCategoriesListCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisCategoriesListCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisCategoriesListCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisChartCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisChartCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisChartCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisChartCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisChartCustomizableDirective, selector: "[bbIncomeSpendingAnalysisChartCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisChartCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisChartCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisBarChartWrapperCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisBarChartWrapperCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisBarChartWrapperCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisBarChartWrapperCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisBarChartWrapperCustomizableDirective, selector: "[bbIncomeSpendingAnalysisBarChartWrapperCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisBarChartWrapperCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisBarChartWrapperCustomizable]',
                }]
        }] });
export class IncomeSpendingAnalysisMonthSelectorCustomizableDirective extends BbTemplate {
}
IncomeSpendingAnalysisMonthSelectorCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisMonthSelectorCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
IncomeSpendingAnalysisMonthSelectorCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: IncomeSpendingAnalysisMonthSelectorCustomizableDirective, selector: "[bbIncomeSpendingAnalysisMonthSelectorCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: IncomeSpendingAnalysisMonthSelectorCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbIncomeSpendingAnalysisMonthSelectorCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5jb21lLXNwZW5kaW5nLWFuYWx5c2lzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xpYnMvaW5jb21lLXNwZW5kaW5nLWFuYWx5c2lzLXdpZGdldC9zcmMvaW5jb21lLXNwZW5kaW5nLWFuYWx5c2lzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL2xpYnMvaW5jb21lLXNwZW5kaW5nLWFuYWx5c2lzLXdpZGdldC9zcmMvaW5jb21lLXNwZW5kaW5nLWFuYWx5c2lzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUU5RCxPQUFPLEVBRUwsdUJBQXVCLEVBRXZCLFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLEtBQUssRUFDTCxTQUFTLEVBQ1QsUUFBUSxFQUNSLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsVUFBVSxFQUFhLE1BQU0sK0JBQStCLENBQUM7QUFJdEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFjLEVBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDakYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFOUcsT0FBTyxFQUNMLGFBQWEsRUFDYixrQkFBa0IsRUFDbEIsdUJBQXVCLEVBQ3ZCLGNBQWMsRUFDZCxnQkFBZ0IsRUFFaEIsT0FBTyxFQUNQLFVBQVUsRUFFVixvQkFBb0IsRUFDcEIsaUJBQWlCLEVBQ2pCLGdCQUFnQixHQUNqQixNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JyQixNQUFNLHFCQUFx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U0QsTUFBTSxPQUFPLHVEQUF3RCxTQUFRLFVBRzVFOztxSkFIWSx1REFBdUQ7eUlBQXZELHVEQUF1RDs0RkFBdkQsdURBQXVEO2tCQUhuRSxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxvREFBb0Q7aUJBQy9EOztBQVNELE1BQU0sT0FBTyx5REFBMEQsU0FBUSxVQUc5RTs7dUpBSFkseURBQXlEOzJJQUF6RCx5REFBeUQ7NEZBQXpELHlEQUF5RDtrQkFIckUsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsc0RBQXNEO2lCQUNqRTs7QUFTRCxNQUFNLE9BQU8sZ0RBQWlELFNBQVEsVUFHckU7OzhJQUhZLGdEQUFnRDtrSUFBaEQsZ0RBQWdEOzRGQUFoRCxnREFBZ0Q7a0JBSDVELFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLDZDQUE2QztpQkFDeEQ7O0FBU0QsTUFBTSxPQUFPLDBEQUEyRCxTQUFRLFVBRy9FOzt3SkFIWSwwREFBMEQ7NElBQTFELDBEQUEwRDs0RkFBMUQsMERBQTBEO2tCQUh0RSxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSx1REFBdUQ7aUJBQ2xFOztBQVNELE1BQU0sT0FBTyx3REFBeUQsU0FBUSxVQUc3RTs7c0pBSFksd0RBQXdEOzBJQUF4RCx3REFBd0Q7NEZBQXhELHdEQUF3RDtrQkFIcEUsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUscURBQXFEO2lCQUNoRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGVQaXBlLCBnZXRDdXJyZW5jeVN5bWJvbCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7XG4gIEFmdGVyVmlld0NoZWNrZWQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIExPQ0FMRV9JRCxcbiAgT3B0aW9uYWwsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUGFyYW1NYXAgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQmJUZW1wbGF0ZSwgSXRlbU1vZGVsIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUnO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvd2ViLXNkayc7XG5pbXBvcnQgeyBDc3NWYXJpYWJsZXNTZXJ2aWNlIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy9jc3MtdmFyaWFibGVzLWxpYic7XG5pbXBvcnQgeyBQZXJpb2QsIFBlcmlvZEZvcm1hdHRlcnMgfSBmcm9tICdAYmFja2Jhc2UvdWktYW5nL3BlcmlvZC1zZWxlY3Rvcic7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGNvbWJpbmVMYXRlc3QsIGZyb20sIE9ic2VydmFibGUsIG9mLCB6aXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNhdGNoRXJyb3IsIGZpbHRlciwgbWFwLCBtZXJnZU1hcCwgcGx1Y2ssIHNoYXJlLCBzaGFyZVJlcGxheSwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBBcmMsIENoYXJ0Q29sb3JJdGVtIH0gZnJvbSAnLi9iYi1kb251dC1jaGFydC11aS9kb251dC1jaGFydC5tb2R1bGUnO1xuaW1wb3J0IHtcbiAgQW5hbHlzaXNUeXBlcyxcbiAgQkFSX0NPTE9SU19DU1NfVkFSLFxuICBDQVRFR09SWV9DT0xPUlNfQ1NTX1ZBUixcbiAgREJfREFURV9GT1JNQVQsXG4gIERFRkFVTFRfSU5URVJWQUwsXG4gIE1vbnRoU2VsZWN0b3JEYXRhLFxuICBQRVJJT0RTLFxuICBQUk9QRVJUSUVTLFxuICBQcm9wZXJ0aWVzLFxuICBSRUxFVkFOQ0VfUEVSQ0VOVEFHRSxcbiAgVHJlbmRBcnJvd0NsYXNzZXMsXG4gIFRyZW5kVGV4dENsYXNzZXMsXG59IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRTZXJ2aWNlIH0gZnJvbSAnLi9pbmNvbWUtc3BlbmRpbmctYW5hbHlzaXMuc2VydmljZSc7XG5pbXBvcnQge1xuICBBbmFseXNpc1R5cGUsXG4gIEJhckNoYXJ0RGF0YUl0ZW0sXG4gIEJhckNoYXJ0T3B0aW9ucyxcbiAgQ2F0ZWdvcnlJZGVudGl0eSxcbiAgQ2F0ZWdvcnlQZXJpb2RUb3RhbHNHZXQsXG4gIENhdGVnb3J5VG90YWxzRGF0ZVBhcmFtcyxcbiAgQ2F0ZWdvcnlUb3RhbHNHZXRQYXJhbXMsXG4gIENhdGVnb3J5VG90YWxzUGVyaW9kLFxuICBDYXRlZ29yeVRvdGFsc1BlcmlvZFNlcmllcyxcbiAgQ2F0ZWdvcnlUb3RhbHNTZXJpZXMsXG4gIENoYXJ0RGF0YUl0ZW0sXG59IGZyb20gJy4vbW9kZWwvYW5hbHlzaXMnO1xuXG5jb25zdCBmaWx0ZXJJbnB1dFBhcmFtZXRlcnMgPSA8VD4oaW5wdXQ6IE9ic2VydmFibGU8VCB8IHVuZGVmaW5lZD4sIHByb3A6IE9ic2VydmFibGU8VD4pOiBPYnNlcnZhYmxlPFQ+ID0+XG4gIGNvbWJpbmVMYXRlc3QoW2lucHV0LCBwcm9wXSkucGlwZShtYXAoKFtpbnB1dFZhbCwgcHJvcFZhbF0pID0+IChpbnB1dFZhbCAhPT0gdW5kZWZpbmVkID8gaW5wdXRWYWwgOiBwcm9wVmFsKSkpO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1pbmNvbWUtc3BlbmRpbmctYW5hbHlzaXMtd2lkZ2V0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2luY29tZS1zcGVuZGluZy1hbmFseXNpcy5jb21wb25lbnQuaHRtbCcsXG4gIHByb3ZpZGVyczogW0RhdGVQaXBlXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdDaGVja2VkIHtcbiAgQElucHV0KCdhbmFseXNpc1R5cGUnKSBzZXQgYW5hbHlzaXNUeXBlVmFsdWUodmFsdWU6IEFuYWx5c2lzVHlwZSkge1xuICAgIHRoaXMuYW5hbHlzaXNUeXBlU3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgfVxuXG4gIEBWaWV3Q2hpbGQoJ2JiQ2hhcnRMYWJlbEljb24nKSBjaGFydEljb246IEVsZW1lbnRSZWYgfCB1bmRlZmluZWQ7XG4gIEBWaWV3Q2hpbGQoJ2JiQ2hhcnRMYWJlbFRleHQnKSBjaGFydExhYmVsOiBFbGVtZW50UmVmIHwgdW5kZWZpbmVkO1xuICBAVmlld0NoaWxkKCd0cmFuc05vdycsIHsgc3RhdGljOiB0cnVlIH0pIHRyYW5zbGF0aW9uTm93OiBFbGVtZW50UmVmIHwgdW5kZWZpbmVkO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2U6IEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY3NzVmFyaWFibGVTZXJ2aWNlOiBDc3NWYXJpYWJsZXNTZXJ2aWNlLFxuICAgIEBPcHRpb25hbCgpIHByaXZhdGUgcmVhZG9ubHkgbW9kZWw6IEl0ZW1Nb2RlbCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRhdGVQaXBlOiBEYXRlUGlwZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBASW5qZWN0KExPQ0FMRV9JRCkgcHJpdmF0ZSByZWFkb25seSBsb2NhbGU6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5mb3JtYXRQZXJpb2REYXRhID0gdGhpcy5mb3JtYXRQZXJpb2REYXRhLmJpbmQodGhpcyk7XG4gIH1cblxuICBob3N0UmVmID0gdGhpcztcbiAgcHJpdmF0ZSByZWFkb25seSBpc0lFID0gLyhlZGdlfG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICBwcml2YXRlIHJlYWRvbmx5IGFuYWx5c2lzVHlwZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEFuYWx5c2lzVHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuICBwcml2YXRlIGVuZERhdGVWYWx1ZSA9IG5ldyBEYXRlKCk7XG4gIHByaXZhdGUgc3RhcnREYXRlVmFsdWUgPSBuZXcgRGF0ZSh0aGlzLmVuZERhdGVWYWx1ZS5nZXRGdWxsWWVhcigpLCB0aGlzLmVuZERhdGVWYWx1ZS5nZXRNb250aCgpLCAxKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGluaXRpYWxEYXRlUGFyYW1zOiBDYXRlZ29yeVRvdGFsc0RhdGVQYXJhbXMgPSB7XG4gICAgcGVyaW9kU3RhcnREYXRlOiB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybSh0aGlzLnN0YXJ0RGF0ZVZhbHVlLCBEQl9EQVRFX0ZPUk1BVCkgfHwgJycsXG4gICAgcGVyaW9kRW5kRGF0ZTogdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0odGhpcy5lbmREYXRlVmFsdWUsIERCX0RBVEVfRk9STUFUKSB8fCAnJyxcbiAgICBpbnRlcnZhbER1cmF0aW9uOiBERUZBVUxUX0lOVEVSVkFMLFxuICB9O1xuXG4gIHByaXZhdGUgbGFiZWxQb3NpdGlvbmVkID0gZmFsc2U7XG4gIHByaXZhdGUgaWNvbkhlaWdodCA9IDA7XG4gIHByaXZhdGUgbGFiZWxIZWlnaHQgPSAwO1xuICBpY29uV2lkdGggPSAwO1xuICBzZWxlY3RlZFRhYjogbnVtYmVyID0gUEVSSU9EU1tNYXRoLm1heChQRVJJT0RTLm1hcCgoaXRlbSkgPT4gaXRlbS5kZWZhdWx0KS5pbmRleE9mKHRydWUpLCAwKV0uZHVyYXRpb247XG5cbiAgLy8gQmFyQ2hhcnQgT3B0aW9uc1xuICByZWFkb25seSBjaGFydE9wdGlvbnM6IE9ic2VydmFibGU8QmFyQ2hhcnRPcHRpb25zPiA9IGZyb20oXG4gICAgdGhpcy5jc3NWYXJpYWJsZVNlcnZpY2UuZ2V0Q3NzVmFyaWFibGUoQkFSX0NPTE9SU19DU1NfVkFSKSxcbiAgKS5waXBlKFxuICAgIG1hcCgoY3NzVmFyKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2xvcnM6IGNzc1ZhciA/IFtjc3NWYXIuc2xpY2UoMCwgY3NzVmFyLmluZGV4T2YoJywnKSldIDogWycnXSxcbiAgICAgICAgc2hvd1hBeGlzOiB0cnVlLFxuICAgICAgICBzaG93WUF4aXM6IHRydWUsXG4gICAgICAgIGdyYWRpZW50OiBmYWxzZSxcbiAgICAgICAgc2hvd0xlZ2VuZDogZmFsc2UsXG4gICAgICAgIHNob3dYQXhpc0xhYmVsOiB0cnVlLFxuICAgICAgICBzaG93WUF4aXNMYWJlbDogdHJ1ZSxcbiAgICAgICAgcm91bmRFZGdlczogZmFsc2UsXG4gICAgICB9O1xuICAgIH0pLFxuICApO1xuXG4gIGlzTG9hZGluZyA9IGZhbHNlO1xuXG4gIHJlYWRvbmx5IGFuYWx5c2lzVHlwZTogT2JzZXJ2YWJsZTxBbmFseXNpc1R5cGU+ID0gZmlsdGVySW5wdXRQYXJhbWV0ZXJzKFxuICAgIHRoaXMuYW5hbHlzaXNUeXBlU3ViamVjdC5hc09ic2VydmFibGUoKSxcbiAgICB0aGlzLmdldFByb3BlcnR5KFBST1BFUlRJRVMuYW5hbHlzaXNUeXBlKS5waXBlKG1hcCgodmFsKSA9PiA8QW5hbHlzaXNUeXBlPnZhbCkpLFxuICApO1xuXG4gIHJlYWRvbmx5IGFycmFuZ2VtZW50SWRzOiBPYnNlcnZhYmxlPHN0cmluZ1tdPiA9IHRoaXMuZ2V0Um91dGVQYXJhbSh0aGlzLnJvdXRlLCAnc2VsZWN0ZWRBY2NvdW50JykucGlwZShcbiAgICBtYXAoKHNlbGVjdGVkQWNjb3VudCkgPT4gKHNlbGVjdGVkQWNjb3VudCA/IFtzZWxlY3RlZEFjY291bnRdIDogW10pKSwgLy8gVE9ETzogcmVtb3ZlIG9uY2UgYXJyYW5nZW1lbnQgaWRzIGFyZSBwYXNzZWQgYXMgYW4gYXJyYXlcbiAgKTtcblxuICByZWFkb25seSBkYXRlUGFyYW1zOiBCZWhhdmlvclN1YmplY3Q8Q2F0ZWdvcnlUb3RhbHNEYXRlUGFyYW1zPiA9IG5ldyBCZWhhdmlvclN1YmplY3QodGhpcy5pbml0aWFsRGF0ZVBhcmFtcyk7XG5cbiAgcmVhZG9ubHkgZGF0YVBhcmFtczogT2JzZXJ2YWJsZTxDYXRlZ29yeVRvdGFsc0dldFBhcmFtcz4gPSBjb21iaW5lTGF0ZXN0KFxuICAgIHRoaXMuYXJyYW5nZW1lbnRJZHMsXG4gICAgdGhpcy5kYXRlUGFyYW1zLmFzT2JzZXJ2YWJsZSgpLFxuICAgIHRoaXMuYW5hbHlzaXNUeXBlLFxuICApLnBpcGUoXG4gICAgbWFwKChbYXJyYW5nZW1lbnRJZHMsIGRhdGVQYXJhbXMsIGNyZWRpdERlYml0SW5kaWNhdG9yXSk6IENhdGVnb3J5VG90YWxzR2V0UGFyYW1zID0+IHtcbiAgICAgIHRoaXMuZXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFycmFuZ2VtZW50SWRzOiBhcnJhbmdlbWVudElkcyB8fCBbXSxcbiAgICAgICAgLi4uZGF0ZVBhcmFtcyxcbiAgICAgICAgY3JlZGl0RGViaXRJbmRpY2F0b3IsXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xuXG4gIHJlYWRvbmx5IGFuYWx5c2lzRGF0YTogT2JzZXJ2YWJsZTxDYXRlZ29yeVRvdGFsc1Nlcmllcz4gPSB0aGlzLmRhdGFQYXJhbXMucGlwZShcbiAgICBmaWx0ZXIoKGRhdGEpID0+ICEhZGF0YS5hcnJhbmdlbWVudElkcy5sZW5ndGgpLFxuICAgIHN3aXRjaE1hcCgocGFyYW1zKSA9PiB0aGlzLnNlcnZpY2UubG9hZEFuYWx5c2lzRGF0YShwYXJhbXMpKSxcbiAgICBtYXAoKGRhdGEpOiBDYXRlZ29yeVRvdGFsc1NlcmllcyA9PiB7XG4gICAgICBpZiAoIWRhdGEgfHwgIWRhdGEuaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICB0aGlzLmxhYmVsUG9zaXRpb25lZCA9IGZhbHNlO1xuICAgICAgbGV0IHRvdGFsUG9ydGlvbiA9IDA7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIHNlcmllczogZGF0YS5pdGVtc1xuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAocGFyc2VGbG9hdChiLnRvdGFsQW1vdW50LmFtb3VudCkgPiBwYXJzZUZsb2F0KGEudG90YWxBbW91bnQuYW1vdW50KSA/IDEgOiAtMSkpXG4gICAgICAgICAgLm1hcChcbiAgICAgICAgICAgIChpdGVtKTogQ2hhcnREYXRhSXRlbSA9PiAoe1xuICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICBuYW1lOiBpdGVtLmNhdGVnb3J5LFxuICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdChpdGVtLnRvdGFsQW1vdW50LmFtb3VudCksXG4gICAgICAgICAgICAgIGNzc0NsYXNzOiB0aGlzLnRyYW5zZm9ybUNhdGVnb3J5VG9JY29uTmFtZShpdGVtLmNhdGVnb3J5KSxcbiAgICAgICAgICAgICAgdG90YWxQb3J0aW9uOiAodG90YWxQb3J0aW9uICs9IGl0ZW0ucG9ydGlvbiksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApLFxuICAgICAgfTtcbiAgICB9KSxcbiAgICBjYXRjaEVycm9yKChlcnIpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSksXG4gICAgc2hhcmUoKSxcbiAgKTtcblxuICByZWFkb25seSBhbmFseXNpc1BlcmlvZERhdGE6IE9ic2VydmFibGU8Q2F0ZWdvcnlUb3RhbHNQZXJpb2RTZXJpZXM+ID0gemlwKHRoaXMuYW5hbHlzaXNEYXRhLCB0aGlzLmRhdGFQYXJhbXMpLnBpcGUoXG4gICAgbWVyZ2VNYXAoKFtkYXRhLCBwYXJhbXNdKSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gKGRhdGEuaXRlbXMgfHwgW10pLm1hcCgoaXRlbSkgPT4gaXRlbS5jYXRlZ29yeSk7XG4gICAgICBjb25zdCBuZXdQYXJhbXMgPSB7IC4uLnBhcmFtcywgY2F0ZWdvcmllczogY2F0ZWdvcmllcy5sZW5ndGggPyBjYXRlZ29yaWVzIDogWycnXSB9O1xuXG4gICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmxvYWRBbmFseXNpc1BlcmlvZERhdGEobmV3UGFyYW1zKS5waXBlKFxuICAgICAgICBtYXAodGhpcy5mb3JtYXRQZXJpb2REYXRhKSxcbiAgICAgICAgbWFwKChzZXJpZXM6IEJhckNoYXJ0RGF0YUl0ZW1bXSk6IENhdGVnb3J5VG90YWxzUGVyaW9kU2VyaWVzID0+ICh7IHNlcmllcywgY2F0ZWdvcnlEYXRhOiBkYXRhLCBpdGVtczogW10gfSkpLFxuICAgICAgKTtcbiAgICB9KSxcbiAgICB0YXAoKCkgPT4ge1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfSksXG4gICAgY2F0Y2hFcnJvcigoZXJyKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpLFxuICApO1xuXG4gIHJlYWRvbmx5IGNvbG9yczogT2JzZXJ2YWJsZTxDaGFydENvbG9ySXRlbVtdPiA9IGNvbWJpbmVMYXRlc3QoW1xuICAgIHRoaXMuYW5hbHlzaXNEYXRhLFxuICAgIGZyb20odGhpcy5jc3NWYXJpYWJsZVNlcnZpY2UuZ2V0Q3NzVmFyaWFibGUoQ0FURUdPUllfQ09MT1JTX0NTU19WQVIpKSxcbiAgXSkucGlwZShcbiAgICBtYXAoKFtkYXRhLCBjc3NWYXJdKSA9PiB7XG4gICAgICBpZiAoIWNzc1ZhciB8fCAhZGF0YSB8fCAhZGF0YS5zZXJpZXMgfHwgIWRhdGEuc2VyaWVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlkZW50aXRpZXM6IHsgW2tleTogc3RyaW5nXTogQ2F0ZWdvcnlJZGVudGl0eSB9ID0gY3NzVmFyLnNwbGl0KCcsJykucmVkdWNlKChhY2N1bXVsYXRvciwgZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBbY2F0ZWdvcnksIGNvbG9yLCBpY29uXSA9IGRlZmluaXRpb24udHJpbSgpLnNwbGl0KCcgJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYWNjdW11bGF0b3IsXG4gICAgICAgICAgW2NhdGVnb3J5XToge1xuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICBpY29uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIHJldHVybiBkYXRhLnNlcmllcy5tYXAoXG4gICAgICAgIChpdGVtKTogQ2hhcnRDb2xvckl0ZW0gPT4gKHtcbiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUgfHwgJycsXG4gICAgICAgICAgdmFsdWU6IGlkZW50aXRpZXNbaXRlbS5jc3NDbGFzc10/LmNvbG9yIHx8ICcnLFxuICAgICAgICAgIGljb246IGlkZW50aXRpZXNbaXRlbS5jc3NDbGFzc10/Lmljb24gfHwgJycsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9KSxcbiAgKTtcblxuICBlcnJvcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgZ2V0Um91dGVQYXJhbShyb3V0ZTogQWN0aXZhdGVkUm91dGUsIHBhcmFtOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHN0cmluZyB8IG51bGw+IHtcbiAgICBjb25zdCBwYXJhbVZhbHVlID0gcm91dGUucGFyYW1NYXAucGlwZShwbHVjazxQYXJhbU1hcCwgc3RyaW5nIHwgbnVsbD4oJ3BhcmFtcycsIHBhcmFtKSk7XG5cbiAgICBpZiAoIXJvdXRlLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHBhcmFtVmFsdWU7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgbGV2ZWwgdGhhdCBoYXMgYWN0dWFsIHZhbHVlIGtlZXBzIGl0IGZyb20gYmVpbmcgY2xlYXJlZFxuICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KHBhcmFtVmFsdWUsIHRoaXMuZ2V0Um91dGVQYXJhbShyb3V0ZS5wYXJlbnQsIHBhcmFtKSkucGlwZShcbiAgICAgIG1hcCgocGFyYW1zKSA9PiBwYXJhbXNbMF0gfHwgcGFyYW1zWzFdKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcm9wZXJ0eShwcm9wZXJ0eTogUHJvcGVydGllcyk6IE9ic2VydmFibGU8UHJvcGVydHk+IHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbCA/IHRoaXMubW9kZWwucHJvcGVydHkocHJvcGVydHkubmFtZSwgcHJvcGVydHkudmFsdWUpIDogb2YocHJvcGVydHkudmFsdWUpO1xuICB9XG5cbiAgZ2V0IHN0YXJ0RGF0ZSgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5zdGFydERhdGVWYWx1ZTtcbiAgfVxuXG4gIGdldCBlbmREYXRlKCk6IERhdGUge1xuICAgIHJldHVybiB0aGlzLmVuZERhdGVWYWx1ZTtcbiAgfVxuXG4gIGdldCBmb3JtYXR0ZXJzKCk6IFBlcmlvZEZvcm1hdHRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBlbmQ6IChkYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBub3cuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgbm93LmdldE1vbnRoKCkgPT09IGRhdGUuZ2V0TW9udGgoKSAmJlxuICAgICAgICAgIG5vdy5nZXREYXRlKCkgPT09IGRhdGUuZ2V0RGF0ZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiAoPEVsZW1lbnRSZWY+dGhpcy50cmFuc2xhdGlvbk5vdykubmF0aXZlRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0oZGF0ZSwgJ21lZGl1bURhdGUnKSB8fCAnJztcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGdldCBpc1NwZW5kaW5nKCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmFuYWx5c2lzVHlwZS5waXBlKG1hcCgocHJvcGVydHkpID0+IHByb3BlcnR5ID09PSBBbmFseXNpc1R5cGVzLlNQRU5ESU5HKSk7XG4gIH1cblxuICBnZXQgcmVsZXZhbmNlKCkge1xuICAgIHJldHVybiBSRUxFVkFOQ0VfUEVSQ0VOVEFHRTtcbiAgfVxuXG4gIHNlbGVjdFRhYihudW06IG51bWJlcikge1xuICAgIHRoaXMuc2VsZWN0ZWRUYWIgPSBQRVJJT0RTW01hdGgubWF4KFBFUklPRFMubWFwKChpdGVtKSA9PiBpdGVtLmR1cmF0aW9uKS5pbmRleE9mKG51bSksIDApXS5kdXJhdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IEh0dHBFcnJvclJlc3BvbnNlKSB7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yLnN0YXR1c1RleHQ7XG4gICAgcmV0dXJuIG9mKHsgaXRlbXM6IFtdIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRQZXJpb2REYXRhKHJlczogQ2F0ZWdvcnlQZXJpb2RUb3RhbHNHZXQpOiBCYXJDaGFydERhdGFJdGVtW10ge1xuICAgIGlmICghcmVzIHx8ICFyZXMucGVyaW9kcyB8fCAhcmVzLnRvdGFsKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzLnRvdGFsLmFtb3VudCkgIT09IDBcbiAgICAgID8gcmVzLnBlcmlvZHMubWFwKFxuICAgICAgICAgIChwZXJpb2Q6IENhdGVnb3J5VG90YWxzUGVyaW9kKTogQmFyQ2hhcnREYXRhSXRlbSA9PiAoe1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0ocGVyaW9kLmludGVydmFsU3RhcnREYXRlLCAnTU1NJykgfHwgJycsXG4gICAgICAgICAgICB2YWx1ZTogcGVyaW9kLnRvdGFsID8gcGFyc2VGbG9hdChwZXJpb2QudG90YWwuYW1vdW50KSA6IDAsXG4gICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHBlcmlvZC50b3RhbD8uY3VycmVuY3lDb2RlLFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICA6IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSB0cmFuc2Zvcm1DYXRlZ29yeVRvSWNvbk5hbWUodHJhbnNhY3Rpb25DYXRlZ29yeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dHJhbnNhY3Rpb25DYXRlZ29yeS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcVy9nLCAnLScpLnJlcGxhY2UoLy17Mix9L2csICctJyl9YDtcbiAgfVxuXG4gIHByaXZhdGUgdGV4dFgoZGF0YTogQXJjKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGF0YSA/IGRhdGEucG9zWzBdIDogMDtcbiAgfVxuXG4gIHByaXZhdGUgdGV4dFkoZGF0YTogQXJjKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGF0YSA/IGRhdGEucG9zWzFdIDogMDtcbiAgfVxuXG4gIGdldENhdGVnb3J5Q2xhc3MoY3NzQ2xhc3M6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBiYi10cmFuc2FjdGlvbi1jYXRlZ29yeS0ke2Nzc0NsYXNzfWA7XG4gIH1cblxuICBnZXRUZXh0VHJhbnNpdGlvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlzSUUgPyAnJyA6ICd0cmFuc2Zvcm0gMC43NXMnO1xuICB9XG5cbiAgZ2V0VHJhbnNmb3JtT2Zmc2V0WShkYXRhOiBBcmMpOiBudW1iZXIge1xuICAgIGNvbnN0IHBlcmNldGFnZSA9IGRhdGEuZGF0YS50b3RhbFBvcnRpb24gLSBkYXRhLmRhdGEucG9ydGlvbiAvIDI7XG4gICAgcmV0dXJuIHBlcmNldGFnZSA+IDI1ICYmIHBlcmNldGFnZSA8IDc1ID8gdGhpcy5pY29uSGVpZ2h0ICsgdGhpcy5sYWJlbEhlaWdodCA6IC10aGlzLmxhYmVsSGVpZ2h0O1xuICB9XG5cbiAgZ2V0U3R5bGVUcmFuc2Zvcm0oZGF0YTogQXJjLCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaXNJRSA/ICcnIDogYHRyYW5zbGF0ZTNkKCR7dGhpcy50ZXh0WChkYXRhKSArIG9mZnNldFh9cHgsICR7dGhpcy50ZXh0WShkYXRhKSArIG9mZnNldFl9cHgsIDApYDtcbiAgfVxuXG4gIGdldEF0dHJUcmFuc2Zvcm0oZGF0YTogQXJjLCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuICF0aGlzLmlzSUUgPyAnJyA6IGB0cmFuc2xhdGUoJHt0aGlzLnRleHRYKGRhdGEpICsgb2Zmc2V0WH0sICR7dGhpcy50ZXh0WShkYXRhKSArIG9mZnNldFl9KWA7XG4gIH1cblxuICB0ZXh0Q2xhc3ModmFsdWU6IG51bWJlciwgaXNTcGVuZGluZyA9IHRydWUpOiBzdHJpbmcge1xuICAgIC8vIHBvc2l0aXZlIHRyZW5kIGhhcyBkaWZmZXJlbnQgbWVhbmluZyBmb3IgaW5jb21lIGFuZCBmb3Igc3BlbmRpbmdcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gaXNTcGVuZGluZyA/IDEgOiAtMTtcbiAgICByZXR1cm4gdmFsdWUgKiBtdWx0aXBsaWVyID4gMCA/IFRyZW5kVGV4dENsYXNzZXMuUE9TSVRJVkUgOiBUcmVuZFRleHRDbGFzc2VzLk5FR0FUSVZFO1xuICB9XG5cbiAgaWNvbkNsYXNzKHZhbHVlOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICh2YWx1ZSA8IC0xKSB7XG4gICAgICByZXR1cm4gVHJlbmRBcnJvd0NsYXNzZXMuTkVHQVRJVkU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IDEpIHtcbiAgICAgIHJldHVybiBUcmVuZEFycm93Q2xhc3Nlcy5QT1NJVElWRTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBhYnModmFsdWU6IG51bWJlcikge1xuICAgIHJldHVybiBNYXRoLmFicyh2YWx1ZSk7XG4gIH1cblxuICBvblBlcmlvZFJhbmdlQ2hhbmdlKG1vbnRoU2VsZWN0b3JEYXRhOiBNb250aFNlbGVjdG9yRGF0YSkge1xuICAgIHRoaXMuc2VsZWN0VGFiKCg8TW9udGhTZWxlY3RvckRhdGE+bW9udGhTZWxlY3RvckRhdGEpLnRhYkluZGV4KTtcbiAgICB0aGlzLm9uUGVyaW9kQ2hhbmdlKCg8TW9udGhTZWxlY3RvckRhdGE+bW9udGhTZWxlY3RvckRhdGEpLnBlcmlvZCk7XG4gIH1cblxuICBvblBlcmlvZENoYW5nZShwZXJpb2Q6IFBlcmlvZCkge1xuICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXJ0RGF0ZVZhbHVlID0gcGVyaW9kLnN0YXJ0O1xuICAgIHRoaXMuZW5kRGF0ZVZhbHVlID0gcGVyaW9kLmVuZDtcblxuICAgIHRoaXMuZGF0ZVBhcmFtcy5uZXh0KHtcbiAgICAgIC4uLnRoaXMuaW5pdGlhbERhdGVQYXJhbXMsXG4gICAgICBwZXJpb2RTdGFydERhdGU6IHRoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKHBlcmlvZC5zdGFydCwgREJfREFURV9GT1JNQVQpIHx8ICcnLFxuICAgICAgcGVyaW9kRW5kRGF0ZTogdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0ocGVyaW9kLmVuZCwgREJfREFURV9GT1JNQVQpIHx8ICcnLFxuICAgIH0pO1xuICB9XG5cbiAgY3VzdG9tWUF4aXNUaWNrRm9ybWF0dGluZyh0b3RhbFBlcmlvZFNlcmllczogQ2F0ZWdvcnlUb3RhbHNQZXJpb2RTZXJpZXMpIHtcbiAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSB0b3RhbFBlcmlvZFNlcmllcy5jYXRlZ29yeURhdGE/LnRvdGFsPy5jdXJyZW5jeUNvZGU7XG4gICAgY29uc3QgY3VycmVuY3lTeW1ib2wgPSBjdXJyZW5jeUNvZGUgPyBnZXRDdXJyZW5jeVN5bWJvbChjdXJyZW5jeUNvZGUsICd3aWRlJywgdGhpcy5sb2NhbGUpIDogY3VycmVuY3lDb2RlO1xuXG4gICAgcmV0dXJuIChhbW91bnQ6IHN0cmluZykgPT4gYCR7Y3VycmVuY3lTeW1ib2x9ICR7YW1vdW50fWA7XG4gIH1cblxuICBuZ0FmdGVyVmlld0NoZWNrZWQoKSB7XG4gICAgaWYgKHRoaXMubGFiZWxQb3NpdGlvbmVkIHx8ICF0aGlzLmNoYXJ0SWNvbiB8fCAhdGhpcy5jaGFydExhYmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sYWJlbEhlaWdodCA9IHRoaXMuY2hhcnRMYWJlbC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAvIDI7XG4gICAgdGhpcy5pY29uSGVpZ2h0ID0gdGhpcy5jaGFydEljb24ubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgdGhpcy5pY29uV2lkdGggPSAodGhpcy5jaGFydEljb24ubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDIpIC8gMjtcblxuICAgIHRoaXMubGFiZWxQb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIEluY29tZVNwZW5kaW5nQW5hbHlzaXNDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFxuICBJbmNvbWVTcGVuZGluZ0FuYWx5c2lzV2lkZ2V0Q29tcG9uZW50LFxuICB1bmRlZmluZWRcbj4ge31cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiSW5jb21lU3BlbmRpbmdBbmFseXNpc1BlcmlvZFNlbGVjdG9yQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIEluY29tZVNwZW5kaW5nQW5hbHlzaXNQZXJpb2RTZWxlY3RvckN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRDb21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ2hhcnRXcmFwcGVyQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIEluY29tZVNwZW5kaW5nQW5hbHlzaXNDaGFydFdyYXBwZXJDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFxuICBJbmNvbWVTcGVuZGluZ0FuYWx5c2lzV2lkZ2V0Q29tcG9uZW50LFxuICB1bmRlZmluZWRcbj4ge31cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiSW5jb21lU3BlbmRpbmdBbmFseXNpc0NhdGVnb3JpZXNMaXN0Q3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIEluY29tZVNwZW5kaW5nQW5hbHlzaXNDYXRlZ29yaWVzTGlzdEN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRDb21wb25lbnQsXG4gIGFueSB8IHVuZGVmaW5lZFxuPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ2hhcnRDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgSW5jb21lU3BlbmRpbmdBbmFseXNpc0NoYXJ0Q3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgSW5jb21lU3BlbmRpbmdBbmFseXNpc1dpZGdldENvbXBvbmVudCxcbiAgdW5kZWZpbmVkXG4+IHt9XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYkluY29tZVNwZW5kaW5nQW5hbHlzaXNCYXJDaGFydFdyYXBwZXJDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgSW5jb21lU3BlbmRpbmdBbmFseXNpc0JhckNoYXJ0V3JhcHBlckN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRDb21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzTW9udGhTZWxlY3RvckN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBJbmNvbWVTcGVuZGluZ0FuYWx5c2lzTW9udGhTZWxlY3RvckN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIEluY29tZVNwZW5kaW5nQW5hbHlzaXNXaWRnZXRDb21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuIiwiPG5nLWNvbnRhaW5lclxuICBiYkluY29tZVNwZW5kaW5nQW5hbHlzaXNDdXN0b21pemFibGVcbiAgW2JiSG9zdFJlZl09XCJob3N0UmVmXCJcbiAgW2JiVGVtcGxhdGVDb250ZXh0XT1cInsgaXNMb2FkaW5nOiBob3N0UmVmLmlzTG9hZGluZywgYW5hbHlzaXNEYXRhOiBob3N0UmVmLmFuYWx5c2lzRGF0YSwgYW5hbHlzaXNQZXJpb2REYXRhOiBob3N0UmVmLmFuYWx5c2lzUGVyaW9kRGF0YSwgY29sb3JzOiBob3N0UmVmLmNvbG9ycyB8IGFzeW5jLCBpc1NwZW5kaW5nOiBob3N0UmVmLmlzU3BlbmRpbmcgfCBhc3luYywgY2hhcnRPcHRpb25zOiBob3N0UmVmLmNoYXJ0T3B0aW9ucyB8IGFzeW5jIH1cIlxuPjwvbmctY29udGFpbmVyPlxuXG48bmctdGVtcGxhdGVcbiAgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ3VzdG9taXphYmxlXG4gIGxldC1ob3N0UmVmXG4gIGxldC1hbmFseXNpc0RhdGE9XCJjb250ZXh0LmFuYWx5c2lzRGF0YVwiXG4gIGxldC1hbmFseXNpc1BlcmlvZERhdGE9XCJjb250ZXh0LmFuYWx5c2lzUGVyaW9kRGF0YVwiXG4gIGxldC1jb2xvcnM9XCJjb250ZXh0LmNvbG9yc1wiXG4gIGxldC1pc1NwZW5kaW5nPVwiY29udGV4dC5pc1NwZW5kaW5nXCJcbiAgbGV0LWNoYXJ0T3B0aW9ucz1cImNvbnRleHQuY2hhcnRPcHRpb25zXCJcbj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFob3N0UmVmLmVycm9yOyBlbHNlIGVycm9yU3RhdGVcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzTW9udGhTZWxlY3RvckN1c3RvbWl6YWJsZVxuICAgICAgICAgIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiXG4gICAgICAgID48L25nLWNvbnRhaW5lcj5cblxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgKm5nSWY9XCJob3N0UmVmLnNlbGVjdGVkVGFiID09PSAxXCJcbiAgICAgICAgICBiYkluY29tZVNwZW5kaW5nQW5hbHlzaXNQZXJpb2RTZWxlY3RvckN1c3RvbWl6YWJsZVxuICAgICAgICAgIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiXG4gICAgICAgID48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIihhcnJhbmdlbWVudElkcyB8IGFzeW5jKT8ubGVuZ3RoOyBlbHNlIGVtcHR5U3RhdGVcIj5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaG9zdFJlZi5zZWxlY3RlZFRhYiA9PT0gMVwiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImFuYWx5c2lzRGF0YSB8IGFzeW5jIGFzIGRhdGEgOyBlbHNlIGxvYWRpbmdTdGF0ZVwiPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZGF0YT8uaXRlbXM/Lmxlbmd0aDsgZWxzZSBlbXB0eVN0YXRlXCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ2hhcnRXcmFwcGVyQ3VzdG9taXphYmxlXG4gICAgICAgICAgICAgICAgICBbYmJIb3N0UmVmXT1cImhvc3RSZWZcIlxuICAgICAgICAgICAgICAgICAgW2JiVGVtcGxhdGVDb250ZXh0XT1cInsgZGF0YTogZGF0YSwgY29sb3JzOiBjb2xvcnMsIGlzU3BlbmRpbmc6IGlzU3BlbmRpbmcgfVwiXG4gICAgICAgICAgICAgICAgPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJob3N0UmVmLnNlbGVjdGVkVGFiICE9PSAxXCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiYW5hbHlzaXNQZXJpb2REYXRhIHwgYXN5bmMgYXMgZGF0YTsgZWxzZSBsb2FkaW5nU3RhdGVcIj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFob3N0UmVmLmlzTG9hZGluZyBlbHNlIGxvYWRpbmdTdGF0ZVwiPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkYXRhLnNlcmllcyAmJiBkYXRhLnNlcmllcy5sZW5ndGg7IGVsc2UgZW1wdHlTdGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBiYkluY29tZVNwZW5kaW5nQW5hbHlzaXNCYXJDaGFydFdyYXBwZXJDdXN0b21pemFibGVcbiAgICAgICAgICAgICAgICAgICAgW2JiSG9zdFJlZl09XCJob3N0UmVmXCJcbiAgICAgICAgICAgICAgICAgICAgW2JiVGVtcGxhdGVDb250ZXh0XT1cInsgZGF0YTogZGF0YSwgY2hhcnRPcHRpb25zOiBjaGFydE9wdGlvbnMgfVwiXG4gICAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZGF0YS5jYXRlZ29yeURhdGE/Lml0ZW1zPy5sZW5ndGggZWxzZSBlbXB0eVN0YXRlXCI+XG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIGJiSW5jb21lU3BlbmRpbmdBbmFseXNpc0NhdGVnb3JpZXNMaXN0Q3VzdG9taXphYmxlXG4gICAgICAgICAgICAgICAgICAgIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiXG4gICAgICAgICAgICAgICAgICAgIFtiYlRlbXBsYXRlQ29udGV4dF09XCJ7IGRhdGE6IGRhdGEuY2F0ZWdvcnlEYXRhLCBpc1NwZW5kaW5nOiBpc1NwZW5kaW5nIH1cIlxuICAgICAgICAgICAgICAgICAgPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvbmctY29udGFpbmVyPlxuXG4gIDxuZy10ZW1wbGF0ZSBiYkluY29tZVNwZW5kaW5nQW5hbHlzaXNNb250aFNlbGVjdG9yQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICAgIDxiYi1tb250aC1zZWxlY3Rvci11aVxuICAgICAgW3NlbGVjdGVkVGFiXT1cImhvc3RSZWYuc2VsZWN0ZWRUYWJcIlxuICAgICAgKGNoYW5nZSk9XCJob3N0UmVmLm9uUGVyaW9kUmFuZ2VDaGFuZ2UoJGV2ZW50KVwiXG4gICAgPjwvYmItbW9udGgtc2VsZWN0b3ItdWk+XG4gIDwvbmctdGVtcGxhdGU+XG5cbiAgPG5nLXRlbXBsYXRlIGJiSW5jb21lU3BlbmRpbmdBbmFseXNpc1BlcmlvZFNlbGVjdG9yQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFjayBiYi1zdGFjay0tY2VudGVyIGJiLWJsb2NrIGJiLWJsb2NrLS1sZ1wiPlxuICAgICAgPGJiLXBlcmlvZC1zZWxlY3Rvci11aVxuICAgICAgICBbcGVyaW9kU3RhcnRdPVwiaG9zdFJlZi5zdGFydERhdGVcIlxuICAgICAgICBbcGVyaW9kRW5kXT1cImhvc3RSZWYuZW5kRGF0ZVwiXG4gICAgICAgIFtwZXJpb2RGb3JtYXR0ZXJzXT1cImhvc3RSZWYuZm9ybWF0dGVyc1wiXG4gICAgICAgIChwZXJpb2RDaGFuZ2UpPVwiaG9zdFJlZi5vblBlcmlvZENoYW5nZSgkZXZlbnQpXCJcbiAgICAgID48L2JiLXBlcmlvZC1zZWxlY3Rvci11aT5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cbiBcbiAgPG5nLXRlbXBsYXRlXG4gICAgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ2hhcnRXcmFwcGVyQ3VzdG9taXphYmxlXG4gICAgbGV0LWhvc3RSZWZcbiAgICBsZXQtZGF0YT1cImNvbnRleHQuZGF0YVwiXG4gICAgbGV0LWNvbG9ycz1cImNvbnRleHQuY29sb3JzXCJcbiAgICBsZXQtaXNTcGVuZGluZz1cImNvbnRleHQuaXNTcGVuZGluZ1wiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2sgYmItc3RhY2stLWNlbnRlciBwb3NpdGlvbi1yZWxhdGl2ZSBjaGFydC1kb251dCBjaGFydC1kb251dC1sYXJnZSBjaGFydC1kb251dC1jb250YWluZXItaW5mbGF0ZWRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtbXV0ZWQgZm9udC13ZWlnaHQtYm9sZCBjaGFydC1kb251dC1jZW50ZXItd29yZFwiIGRhdGEtcm9sZT1cImRvbnV0LWNoYXJ0LWxhYmVsXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICpuZ0lmPVwiaXNTcGVuZGluZ1wiXG4gICAgICAgICAgICBpMThuPVwiVG90YWwgc3BlbmRpbmd8TGFiZWwgZm9yIHRvdGFsIHNwZW5kaW5nIGFtb3VudEBAaW5jb21lU3BlbmRpbmdBbmFseXNpcy5sYWJlbC50b3RhbC5zcGVuZGluZ1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgVG90YWwgc3BlbmRpbmdcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICpuZ0lmPVwiIWlzU3BlbmRpbmdcIlxuICAgICAgICAgICAgaTE4bj1cIlRvdGFsIGluY29tZXxMYWJlbCBmb3IgdG90YWwgaW5jb21lIGFtb3VudEBAaW5jb21lU3BlbmRpbmdBbmFseXNpcy5sYWJlbC50b3RhbC5pbmNvbWVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFRvdGFsIGluY29tZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxiYi1hbW91bnQtdWlcbiAgICAgICAgICAgIFthbW91bnRdPVwiZGF0YS50b3RhbC5hbW91bnRcIlxuICAgICAgICAgICAgW2N1cnJlbmN5XT1cImRhdGEudG90YWwuY3VycmVuY3lDb2RlXCJcbiAgICAgICAgICA+PC9iYi1hbW91bnQtdWk+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8bmctY29udGFpbmVyXG4gICAgICAgIGJiSW5jb21lU3BlbmRpbmdBbmFseXNpc0NoYXJ0Q3VzdG9taXphYmxlXG4gICAgICAgIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiXG4gICAgICAgIFtiYlRlbXBsYXRlQ29udGV4dF09XCJ7IGRhdGE6IGRhdGEsIGNvbG9yczogY29sb3JzLCBpc1NwZW5kaW5nOiBpc1NwZW5kaW5nIH1cIlxuICAgICAgPjwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZVxuICAgIGJiSW5jb21lU3BlbmRpbmdBbmFseXNpc0NoYXJ0Q3VzdG9taXphYmxlXG4gICAgbGV0LWhvc3RSZWZcbiAgICBsZXQtZGF0YT1cImNvbnRleHQuZGF0YVwiXG4gICAgbGV0LWNvbG9ycz1cImNvbnRleHQuY29sb3JzXCJcbiAgPlxuICAgIDxiYi1kb251dC1jaGFydC11aVxuICAgICAgW2RhdGFdPVwiZGF0YS5zZXJpZXNcIlxuICAgICAgW2NvbG9yc109XCJjb2xvcnNcIlxuICAgICAgW3JlbGV2YW5jZVBlcmNlbnRhZ2VdPVwiaG9zdFJlZi5yZWxldmFuY2VcIlxuICAgICAgW3Rvb2x0aXBUbXBsXT1cImRvbnV0Q2hhcnRUb29sdGlwXCJcbiAgICAgIFtsYWJlbFRtcGxdPVwiZG9udXRDaGFydExhYmVsXCJcbiAgICA+PC9iYi1kb251dC1jaGFydC11aT5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGUgI2Vycm9yU3RhdGU+XG4gICAgPGJiLWVtcHR5LXN0YXRlLXVpXG4gICAgICB0aXRsZT1cIlwiXG4gICAgICBbc3VidGl0bGVdPVwiZXJyb3JcIlxuICAgICAgaWNvbk1vZGlmaWVyPVwiZXJyb3JcIlxuICAgICAgaWNvblNpemU9XCJ4eGxcIlxuICAgICAgaWNvbkNvbG9yPVwiZ3JheVwiXG4gICAgICBpY29uQ2xhc3Nlcz1cInRleHQtbXV0ZWRcIlxuICAgID48L2JiLWVtcHR5LXN0YXRlLXVpPlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZSAjbG9hZGluZ1N0YXRlPlxuICAgIDxiYi1sb2FkaW5nLWluZGljYXRvci11aVxuICAgICAgaTE4bi10ZXh0PVwiTG9hZGluZyBhbmFseXNpcyBkYXRhfFRleHQgdG8gZGlzcGxheSB3aGlsZSBsb2FkaW5nIGluY29tZS9zcGVuZGluZyBhbmFseXNpcyBkYXRhQEBpbmNvbWVTcGVuZGluZ0FuYWx5c2lzLnN0YXRlLmxvYWRpbmdEYXRhXCJcbiAgICAgIHRleHQ9XCJMb2FkaW5nIGFuYWx5c2lzIGRhdGEuLi5cIj5cbiAgICA8L2JiLWxvYWRpbmctaW5kaWNhdG9yLXVpPlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZSAjZW1wdHlTdGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2sgYmItc3RhY2stLWNlbnRlclwiPlxuICAgICAgPGJiLWVtcHR5LXN0YXRlLXVpXG4gICAgICBpMThuLXRpdGxlPVwiTm8gZGF0YSB0aXRsZXxUaXRsZSBvZiBhIG1lc3NhZ2UgdGhhdCBpcyBzaG93biB3aGVuIHRoZXJlIGlzIG5vIGRhdGEgdG8gZGlzcGxheUBAaW5jb21lU3BlbmRpbmdBbmFseXNpcy5zdGF0ZS5ub1Jlc3VsdHMudGl0bGVcIlxuICAgICAgdGl0bGU9XCJObyBEYXRhIEZvdW5kXCJcbiAgICAgIGkxOG4tc3VidGl0bGU9XCJObyBkYXRhIHN1YnRpdGxlfFN1YnRpdGxlIG9mIGEgbWVzc2FnZSB0aGF0IGlzIHNob3duIHdoZW4gdGhlcmUgaXMgbm8gZGF0YSB0byBkaXNwbGF5QEBpbmNvbWVTcGVuZGluZ0FuYWx5c2lzLnN0YXRlLm5vUmVzdWx0cy5zdWJ0aXRsZVwiXG4gICAgICBzdWJ0aXRsZT1cIllvdSBkb24ndCBoYXZlIGFueSBkYXRhIHRvIGJlIGRpc3BsYXllZC4gUGxlYXNlIHRyeSBzZWxlY3RpbmcgYSBkaWZmZXJlbnQgcGVyaW9kLlwiXG4gICAgICBpY29uU2l6ZT1cInh4bFwiXG4gICAgICBpY29uTW9kaWZpZXI9XCJkb251dC1zbWFsbFwiXG4gICAgICBjbGFzcz1cImJiLXRleHQtYWxpZ24tY2VudGVyXCJcbiAgICA+PC9iYi1lbXB0eS1zdGF0ZS11aT5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGUgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQ2F0ZWdvcmllc0xpc3RDdXN0b21pemFibGUgbGV0LWhvc3RSZWYgbGV0LWRhdGE9XCJjb250ZXh0LmRhdGFcIiBsZXQtaXNTcGVuZGluZz1cImNvbnRleHQuaXNTcGVuZGluZ1wiPlxuICAgIDxkaXYgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcm91bmRlZC0wIGJvcmRlci1sZWZ0LTAgYm9yZGVyLXJpZ2h0LTAgYm9yZGVyLXRvcC0wIGxpc3QtaXRlbS10cmFuc2FjdGlvbi1hY2NvcmRpb24gcHQtM1wiIGRhdGEtcm9sZT1cImNhdGVnb3J5LWxpc3QtaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidHJhbnNhY3Rpb24taXRlbSByb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgcm9sZT1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTZcIj5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cImlzU3BlbmRpbmdcIiBjbGFzcz1cImg1XCIgaTE4bj1cIlNwZW5kaW5nIHBlciBjYXRlZ29yeXxDYXRlZ29yaWVzIGxpc3Qgc3BlbmRpbmcgbGFiZWxAQGNhdGVnb3JpZXMubGlzdC5zcGVuZGluZy5sYWJlbFwiPlxuICAgICAgICAgICAgU3BlbmRpbmcgcGVyIGNhdGVnb3J5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzU3BlbmRpbmdcIiBjbGFzcz1cImg1XCIgaTE4bj1cIkluY29tZSBwZXIgY2F0ZWdvcnl8Q2F0ZWdvcmllcyBsaXN0IGluY29tZSBsYWJlbEBAY2F0ZWdvcmllcy5saXN0LmluY29tZS5sYWJlbFwiPlxuICAgICAgICAgICAgSW5jb21lIHBlciBjYXRlZ29yeVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0cmFuc2FjdGlvbi1hbW91bnQgdGV4dC1yaWdodCBoNSBtLTBcIj5cbiAgICAgICAgICAgIDxzcGFuIGkxOG49XCJUb3RhbCBhbW91bnR8VG90YWwgYW1vdW50IGxhYmVsQEBjYXRlZ29yaWVzLmxpc3QudG90YWwubGFiZWxcIj5cbiAgICAgICAgICAgICAgVG90YWwgYW1vdW50XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8YmItYW1vdW50LXVpIFthbW91bnRdPVwiZGF0YS50b3RhbC5hbW91bnRcIiBbY3VycmVuY3ldPVwiZGF0YS50b3RhbC5jdXJyZW5jeUNvZGVcIj48L2JiLWFtb3VudC11aT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHJvdW5kZWQtMCBib3JkZXItbGVmdC0wIGJvcmRlci1yaWdodC0wIGxpc3QtaXRlbS10cmFuc2FjdGlvbi1hY2NvcmRpb24gcHktM1wiICpuZ0Zvcj1cImxldCBpdGVtIG9mIGRhdGE/Lml0ZW1zXCIgZGF0YS1yb2xlPVwiY2F0ZWdvcnktbGlzdC1pdGVtXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidHJhbnNhY3Rpb24taXRlbSByb3cgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIHJvbGU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRyYW5zYWN0aW9uLWNhdGVnb3J5LWljb24gY29sLTYgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxiYi1pY29uLXVpIFxuICAgICAgICAgICAgc2l6ZT1cInNtXCIgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kVHlwZT1cImNpcmNsZVwiIFxuICAgICAgICAgICAgbmFtZT1cImNhdGVnb3J5LXt7IGhvc3RSZWYudHJhbnNmb3JtQ2F0ZWdvcnlUb0ljb25OYW1lKGl0ZW0uY2F0ZWdvcnkpIH19XCJcbiAgICAgICAgICA+PC9iYi1pY29uLXVpPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJiLXRyYW5zYWN0aW9uLWNhdGVnb3J5LW5hbWUgcHgtM1wiPnt7aXRlbS5jYXRlZ29yeX19PC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRyYW5zYWN0aW9uLWFtb3VudCB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8YmItYW1vdW50LXVpIFthbW91bnRdPVwiaXRlbS50b3RhbEFtb3VudC5hbW91bnRcIiBbY3VycmVuY3ldPVwiaXRlbS50b3RhbEFtb3VudC5jdXJyZW5jeUNvZGVcIj48L2JiLWFtb3VudC11aT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGUgYmJJbmNvbWVTcGVuZGluZ0FuYWx5c2lzQmFyQ2hhcnRXcmFwcGVyQ3VzdG9taXphYmxlIGxldC1jaGFydE9wdGlvbnM9XCJjb250ZXh0LmNoYXJ0T3B0aW9uc1wiIGxldC1kYXRhPVwiY29udGV4dC5kYXRhXCI+XG4gICAgPGRpdiBjbGFzcz1cImQtYmxvY2sgY2hhcnQtYmFyXCI+XG4gICAgICA8bmd4LWNoYXJ0cy1iYXItdmVydGljYWxcbiAgICAgICAgW3NjaGVtZV09XCJ7ZG9tYWluOiBjaGFydE9wdGlvbnMuY29sb3JzfVwiXG4gICAgICAgIFtyZXN1bHRzXT1cImRhdGEuc2VyaWVzXCJcbiAgICAgICAgW2dyYWRpZW50XT1cImNoYXJ0T3B0aW9ucy5ncmFkaWVudFwiXG4gICAgICAgIFt4QXhpc109XCJjaGFydE9wdGlvbnMuc2hvd1hBeGlzXCJcbiAgICAgICAgW3lBeGlzXT1cImNoYXJ0T3B0aW9ucy5zaG93WUF4aXNcIlxuICAgICAgICBbbGVnZW5kXT1cImNoYXJ0T3B0aW9ucy5zaG93TGVnZW5kXCJcbiAgICAgICAgW3Nob3dYQXhpc0xhYmVsXT1cImNoYXJ0T3B0aW9ucy5zaG93WEF4aXNMYWJlbFwiXG4gICAgICAgIFtzaG93WUF4aXNMYWJlbF09XCJjaGFydE9wdGlvbnMuc2hvd1lBeGlzTGFiZWxcIlxuICAgICAgICBbeUF4aXNUaWNrRm9ybWF0dGluZ109XCJjdXN0b21ZQXhpc1RpY2tGb3JtYXR0aW5nKGRhdGEpXCJcbiAgICAgICAgW3Nob3dHcmlkTGluZXNdPVwidHJ1ZVwiXG4gICAgICAgIFtyb3VuZEVkZ2VzXT1cImNoYXJ0T3B0aW9ucy5yb3VuZEVkZ2VzXCJcbiAgICAgID5cbiAgICAgICAgPG5nLXRlbXBsYXRlICN0b29sdGlwVGVtcGxhdGUgbGV0LW1vZGVsPVwibW9kZWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXktMlwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtci0yXCI+e3ttb2RlbC5uYW1lfX08L3NwYW4+XG4gICAgICAgICAgICA8YmItYW1vdW50LXVpIGNsYXNzPVwibWwtMlwiIFthbW91bnRdPVwibW9kZWwudmFsdWVcIiBbY3VycmVuY3ldPVwiZGF0YS5jYXRlZ29yeURhdGEudG90YWwuY3VycmVuY3lDb2RlXCI+PC9iYi1hbW91bnQtdWk+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICA8L25neC1jaGFydHMtYmFyLXZlcnRpY2FsPlxuICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZVxuICAgICNkb251dENoYXJ0TGFiZWxcbiAgICBsZXQtZGF0YT1cImRhdGFcIlxuICAgIGxldC1jb2xvcj1cImNvbG9yXCJcbiAgICBsZXQtbGFiZWw9XCJsYWJlbFwiXG4gICAgbGV0LWljb249XCJpY29uXCJcbiAgPlxuICAgIDxzdmc6Z1xuICAgICAgW2F0dHIudHJhbnNmb3JtXT1cImhvc3RSZWYuZ2V0QXR0clRyYW5zZm9ybShkYXRhLCAtaG9zdFJlZi5pY29uV2lkdGgsIGhvc3RSZWYuZ2V0VHJhbnNmb3JtT2Zmc2V0WShkYXRhKSlcIlxuICAgICAgW3N0eWxlLnRyYW5zZm9ybV09XCJob3N0UmVmLmdldFN0eWxlVHJhbnNmb3JtKGRhdGEsIC1ob3N0UmVmLmljb25XaWR0aCwgaG9zdFJlZi5nZXRUcmFuc2Zvcm1PZmZzZXRZKGRhdGEpKVwiXG4gICAgICBbc3R5bGUuZmlsbF09XCJjb2xvclwiXG4gICAgPlxuICAgICAgPHN2Zzp0ZXh0XG4gICAgICAgICNiYkNoYXJ0TGFiZWxJY29uXG4gICAgICAgIGNsYXNzPVwiYmItdHJhbnNhY3Rpb24tY2F0ZWdvcnkgYmItdHJhbnNhY3Rpb24tY2F0ZWdvcnktaWNvblwiXG4gICAgICAgIFtuZ0NsYXNzXT1cImhvc3RSZWYuZ2V0Q2F0ZWdvcnlDbGFzcyhkYXRhPy5kYXRhPy5jc3NDbGFzcylcIlxuICAgICAgICBkYXRhLXJvbGU9XCJkb251dC1jaGFydC1zZWdtZW50LWljb25cIlxuICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgPlxuICAgICAgICB7eyBpY29uIH19XG4gICAgICA8L3N2Zzp0ZXh0PlxuICAgIDwvc3ZnOmc+XG4gICAgPHN2ZzpnXG4gICAgICBbYXR0ci50cmFuc2Zvcm1dPVwiaG9zdFJlZi5nZXRBdHRyVHJhbnNmb3JtKGRhdGEsIDAsIDApXCJcbiAgICAgIFtzdHlsZS50cmFuc2Zvcm1dPVwiaG9zdFJlZi5nZXRTdHlsZVRyYW5zZm9ybShkYXRhLCAwLCAwKVwiXG4gICAgICBbc3R5bGUudHJhbnNpdGlvbl09XCJob3N0UmVmLmdldFRleHRUcmFuc2l0aW9uKClcIlxuICAgID5cbiAgICAgIDxzdmc6dGV4dFxuICAgICAgICAjYmJDaGFydExhYmVsVGV4dFxuICAgICAgICBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIlxuICAgICAgICBbY2xhc3MuYW5pbWF0aW9uXT1cInRydWVcIlxuICAgICAgICBkeT1cIi4zNWVtXCJcbiAgICAgICAgW3N0eWxlLmZpbGxdPVwiY29sb3JcIlxuICAgICAgICBbc3R5bGUudGV4dEFuY2hvcl09XCInbWlkZGxlJ1wiXG4gICAgICAgIFtzdHlsZS5zaGFwZVJlbmRlcmluZ109XCInY3Jpc3BFZGdlcydcIlxuICAgICAgICBkYXRhLXJvbGU9XCJkb251dC1jaGFydC1zZWdtZW50LWxhYmVsXCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgID5cbiAgICAgICAge3sgbGFiZWwgfX1cbiAgICAgIDwvc3ZnOnRleHQ+XG4gICAgPC9zdmc6Zz5cbiAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIiBpMThuPVwiQ2hhcnQgc2VjdGlvbiwgaW50ZXJwb2xhdGlvbiBjYXRlZ29yeSwgaW50ZXJwb2xhdGlvbiBhbW91bnR8TGFiZWwgZm9yIGNoYXJ0IGRpc3BsYXlpbmcgY2F0ZWdvcnksIGFtb3VudCwgYW5kIGludHJvZHVjdGlvbkBAaW5jb21lU3BlbmRpbmdBbmFseXNpcy5kb251dENoYXJ0LmxhYmVsXCI+XG4gICAgICBDaGFydCBzZWN0aW9uLCB7e2RhdGE/LmRhdGE/LmNzc0NsYXNzfX0sIHt7bGFiZWx9fVxuICAgIDwvc3Bhbj5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGVcbiAgICAjZG9udXRDaGFydFRvb2x0aXBcbiAgICBsZXQtbmFtZT1cIm5hbWVcIlxuICAgIGxldC1jc3NDbGFzcz1cImNzc0NsYXNzXCJcbiAgICBsZXQtdG90YWxBbW91bnQ9XCJ0b3RhbEFtb3VudFwiXG4gICAgbGV0LXBvcnRpb249XCJwb3J0aW9uXCJcbiAgICBsZXQtdHJlbmQ9XCJ0cmVuZFwiXG4gICAgbGV0LWFycm93Q2xhc3M9XCJhcnJvd0NsYXNzXCJcbiAgPlxuICAgIDxkaXZcbiAgICAgIGJiRHluYW1pY0lkXG4gICAgICAjdG9vbHRpcEVsZW1lbnRcbiAgICAgIGNsYXNzPVwicm93IHBiLTMgcG9zaXRpb24tcmVsYXRpdmUgY2hhcnQtdG9vbHRpcCBjaGFydC10b29sdGlwLWRlZmF1bHQgdGV4dC1sZWZ0XCJcbiAgICAgIFtuZ0NsYXNzXT1cImFycm93Q2xhc3NcIlxuICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzcz1cImQtZmxleCBjaGFydC10b29sdGlwLWFuYWx5c2lzLWNhdGVnb3J5IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICAqbmdJZj1cImhvc3RSZWYucmVsZXZhbmNlID49IHBvcnRpb25cIlxuICAgICAgICAgIGNsYXNzPVwiZC1pbmxpbmUtYmxvY2sgbXItMVwiXG4gICAgICAgID5cbiAgICAgICAgICA8YmItaWNvbi11aSBcbiAgICAgICAgICAgIHNpemU9XCJtZFwiXG4gICAgICAgICAgICBiYWNrZ3JvdW5kVHlwZT1cImNpcmNsZVwiXG4gICAgICAgICAgICBuYW1lPVwiY2F0ZWdvcnkte3sgaG9zdFJlZi50cmFuc2Zvcm1DYXRlZ29yeVRvSWNvbk5hbWUoY3NzQ2xhc3MpIH19XCJcbiAgICAgICAgICA+PC9iYi1pY29uLXVpPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHt7IG5hbWUgfX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgPGJiLWFtb3VudC11aSBcbiAgICAgICAgICAgICAgY2xhc3M9XCJoNSBteS0xIGNvbC0xMiBjaGFydC10b29sdGlwLWFuYWx5c2lzLWFtb3VudFwiIFxuICAgICAgICAgICAgICBbYW1vdW50XT1cInRvdGFsQW1vdW50LmFtb3VudFwiXG4gICAgICAgICAgICAgIFtjdXJyZW5jeV09XCJ0b3RhbEFtb3VudC5jdXJyZW5jeUNvZGVcIlxuICAgICAgICAgICAgPjwvYmItYW1vdW50LXVpPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgXG4gICAgICAgICAgKm5nSWY9XCJ0b3RhbEFtb3VudC5hbW91bnQgIT09IHVuZGVmaW5lZFwiIFxuICAgICAgICAgIGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1hbmFseXNpcy1wb3J0aW9uIHRleHQtbXV0ZWRcIlxuICAgICAgICAgIGkxOG49XCJTbGljZSBwb3J0aW9ufEFjdGl2ZSBzbGljZSBwb3J0aW9uIG9mIHRvdGFsIGFtb3VudEBAZG9udXQtY2hhcnQudG9vbHRpcC5wb3J0aW9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IHBvcnRpb24gfX0lIG9mIHRvdGFsXG4gICAgICAgIDwvcD5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInRyZW5kICE9PSB1bmRlZmluZWRcIj5cbiAgICAgICAgICA8aHIgY2xhc3M9XCJjaGFydC10b29sdGlwLWRpdmlkZXIgcC0wXCI+XG4gICAgICAgICAgPHAgXG4gICAgICAgICAgICBjbGFzcz1cImNoYXJ0LXRvb2x0aXAtYW5hbHlzaXMtdHJlbmRcIiBcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cImhvc3RSZWYudGV4dENsYXNzKHRyZW5kLCBpc1NwZW5kaW5nKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGQtYmxvY2sgbXQtMVwiPlxuICAgICAgICAgICAgICA8YmItaWNvbi11aSBcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm1yLTFcIiBcbiAgICAgICAgICAgICAgICBbbmFtZV09XCJob3N0UmVmLmljb25DbGFzcyh0cmVuZClcIlxuICAgICAgICAgICAgICA+PC9iYi1pY29uLXVpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImg1IG0tMCBkLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImhvc3RSZWYuYWJzKHRyZW5kKSA+PSAxXCI+XG4gICAgICAgICAgICAgICAgICB7eyBob3N0UmVmLmFicyh0cmVuZCkgfX0lXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1pbmZvLXRleHQgdGV4dC1tdXRlZCB3LTEwMFwiPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIFxuICAgICAgICAgICAgICAgICpuZ0lmPVwidHJlbmQgPD0gLTFcIlxuICAgICAgICAgICAgICAgIGkxOG49XCJMZXNzIHRoYW4gcHJldmlvdXMgbW9udGh8VGV4dCB0byBkZXNjcmliZSB0aGF0IHRyZW5kIGlzIG5lZ2F0aXZlQEBkb251dC1jaGFydC50b29sdGlwLnRyZW5kLmxlc3NcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgbGVzcyB0aGFuIHByZXZpb3VzIG1vbnRoXG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIFxuICAgICAgICAgICAgICAgICpuZ0lmPVwidHJlbmQgPj0gMVwiXG4gICAgICAgICAgICAgICAgaTE4bj1cIk1vcmUgdGhhbiBwcmV2aW91cyBtb250aHxUZXh0IHRvIGRlc2NyaWJlIHRoYXQgdHJlbmQgaXMgcG9zaXRpdmVAQGRvbnV0LWNoYXJ0LnRvb2x0aXAudHJlbmQubW9yZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBtb3JlIHRoYW4gcHJldmlvdXMgbW9udGhcbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJ0cmVuZCA+IC0xICYmIHRyZW5kIDwgMVwiXG4gICAgICAgICAgICAgICAgaTE4bj1cIlNhbWUgYXMgcHJldmlvdXMgbW9udGh8VGV4dCB0byBkZXNjcmliZSB0aGF0IHRyZW5kIGlzIGFyb3VuZCB6ZXJvQEBkb251dC1jaGFydC50b29sdGlwLnRyZW5kLnNhbWVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2FtZSBhcyBwcmV2aW91cyBtb250aFxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvbmctdGVtcGxhdGU+XG48L25nLXRlbXBsYXRlPlxuXG48c3BhbiAjdHJhbnNOb3cgY2xhc3M9XCJuZy1jbG9ha1wiIGkxOG49XCJOb3d8TGFiZWwgZm9yIGN1cnJlbnQgZGF5IGluIHBlcmlvZCBzZWxlY3RvckBAaW5jb21lU3BlbmRpbmdBbmFseXNpcy5wZXJpb2Qubm93XCI+Tm93PC9zcGFuPlxuIl19