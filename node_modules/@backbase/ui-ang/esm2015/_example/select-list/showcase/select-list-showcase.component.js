import { __decorate } from "tslib";
import { Component } from '@angular/core';
import { FormControl, FormGroup } from '@angular/forms';
import { BehaviorSubject, of, Subject } from 'rxjs';
import { delay, switchMap, tap } from 'rxjs/operators';
import { BackbaseDocs } from '@backbase/ui-ang/util';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/ui-ang/select-list";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/common";
let SelectListShowcaseComponent = class SelectListShowcaseComponent {
    constructor() {
        /** Examples for standard data structure - e.g. { name: '', value: '' } */
        this.singleSelectItems = [
            { name: 'Single One', value: 'single-one' },
            { name: 'Single Two', value: 'single-two' },
            { name: 'Single Three', value: 'single-three' },
        ];
        this.multiSelectItems = [
            { name: 'Multi One', value: 'multi-one' },
            { name: 'Multi Two', value: 'multi-two' },
            { name: 'Multi Three', value: 'multi-three' },
            { name: 'Multi Four', value: 'multi-four' },
            { name: 'Multi Five', value: 'multi-five' },
        ];
        /** Example for non-standard data structure - e.g. { name: '', code: '' } */
        this.countries = [
            { name: 'France', code: 'FRA' },
            { name: 'Germany', code: 'GER' },
            { name: 'Italy', code: 'ITA' },
            { name: 'United Kingdom', code: 'UK' },
        ];
        this.itemsObservable$ = of([
            { name: 'Item One', value: 'item-one' },
            { name: 'Item Two', value: 'item-two' },
        ]);
        this.searchOnLoadSubject = new BehaviorSubject('');
        this.searchAfterValueSubject = new Subject();
        this.loadingSubject = new BehaviorSubject(false);
        this.searchOnLoadItems$ = this.searchOnLoadSubject.pipe(tap(() => this.loadingSubject.next(true)), delay(1000), switchMap(() => this.itemsObservable$), tap(() => this.loadingSubject.next(false)));
        this.loading = this.loadingSubject.asObservable();
        this.searchAfterValueItems$ = this.searchAfterValueSubject.pipe(switchMap(() => this.itemsObservable$));
    }
    ngOnInit() {
        this.form = new FormGroup({
            singleSelect: new FormControl(null),
            multipleSelect: new FormControl([]),
            multipleSelectDestinations: new FormControl([]),
            multipleSelectObservable: new FormControl([]),
            searchOnLoad: new FormControl(undefined),
            searchAfterValue: new FormControl(undefined),
        });
    }
    searchOnLoad(value) {
        this.searchOnLoadSubject.next(value);
    }
    searchAfterValue(value) {
        this.searchAfterValueSubject.next(value);
    }
};
SelectListShowcaseComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: SelectListShowcaseComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
SelectListShowcaseComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: SelectListShowcaseComponent, selector: "bb-select-list-ui-showcase", ngImport: i0, template: "<form [formGroup]=\"form\">\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"singleSelectLabel\">Single Select</h4>\n    <bb-select-list-ui\n      id=\"select-list\"\n      formControlName=\"singleSelect\"\n      placeholder=\"Start typing. e.g. single\"\n      [items]=\"singleSelectItems\"\n      minTermLength=\"3\"\n      aria-labelledby=\"singleSelectLabel\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <bb-select-list-ui\n      id=\"select-list2\"\n      formControlName=\"singleSelect\"\n      placeholder=\"Start typing. e.g. single\"\n      [items]=\"singleSelectItems\"\n      minTermLength=\"3\"\n      label=\"Embed label\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"multipleSelectLabel\">Multiple Select - Max. 3 selections</h4>\n    <bb-select-list-ui\n      id=\"select-list-multi\"\n      formControlName=\"multipleSelect\"\n      placeholder=\"Start typing. e.g. multi\"\n      [items]=\"multiSelectItems\"\n      minTermLength=\"3\"\n      [multiple]=\"true\"\n      maxSelectedItems=\"3\"\n      aria-labelledby=\"multipleSelectLabel\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"multipleSelectLabelDestinations\">Multiple Select - Non-Standard Data Structure</h4>\n    <bb-select-list-ui\n      id=\"select-list-multi-destinations\"\n      formControlName=\"multipleSelectDestinations\"\n      placeholder=\"Start typing. e.g. germany\"\n      [items]=\"countries\"\n      minTermLength=\"3\"\n      [multiple]=\"true\"\n      aria-labelledby=\"multipleSelectLabelDestinations\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"multipleSelectLabelObservable\">Multiple Select - Items from Observable</h4>\n    <bb-select-list-ui\n      id=\"select-list-multi-observable\"\n      formControlName=\"multipleSelectObservable\"\n      placeholder=\"Start typing. e.g. item\"\n      [items]=\"itemsObservable$ | async\"\n      minTermLength=\"3\"\n      [multiple]=\"true\"\n      aria-labelledby=\"multipleSelectLabelObservable\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"searchOnLoadLabel\">Single Select - Dynamic items list, retrieved on page load</h4>\n    <bb-select-list-ui\n      label=\"Search on load\"\n      formControlName=\"searchOnLoad\"\n      placeholder=\"Click to open dropdown, items are loaded when page is. Typing will return back the input value\"\n      [items]=\"searchOnLoadItems$ | async\"\n      [filterEnabled]=\"false\"\n      minTermLength=\"3\"\n      [loading]=\"loading | async\"\n      (search)=\"searchOnLoad($event)\"\n      aria-labelledby=\"searchOnLoadLabel\"\n    >\n    </bb-select-list-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <h4 id=\"searchAfterValueLabel\">Single Select - Dynamic items list, retrieved after first search</h4>\n    <bb-select-list-ui\n      formControlName=\"searchAfterValue\"\n      placeholder=\"Items are loaded when you search. Typing will return back the input value\"\n      [items]=\"searchAfterValueItems$ | async\"\n      [filterEnabled]=\"false\"\n      minTermLength=\"3\"\n      (search)=\"searchAfterValue($event)\"\n      aria-labelledby=\"searchAfterValueLabel\"\n    >\n    </bb-select-list-ui>\n  </div>\n</form>\n", components: [{ type: i1.SelectListComponent, selector: "bb-select-list-ui", inputs: ["loading", "placeholder", "minTermLength", "maxSelectedItems", "multiple", "items", "filterEnabled"], outputs: ["valueChange", "search", "clear"] }], directives: [{ type: i2.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }], pipes: { "async": i3.AsyncPipe } });
SelectListShowcaseComponent = __decorate([
    BackbaseDocs({
        isTheme2Stable: true,
    })
], SelectListShowcaseComponent);
export { SelectListShowcaseComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: SelectListShowcaseComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-select-list-ui-showcase',
                    templateUrl: './select-list-showcase.component.html',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LWxpc3Qtc2hvd2Nhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy91aS1hbmcvX2V4YW1wbGUvc2VsZWN0LWxpc3Qvc2hvd2Nhc2Uvc2VsZWN0LWxpc3Qtc2hvd2Nhc2UuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy91aS1hbmcvX2V4YW1wbGUvc2VsZWN0LWxpc3Qvc2hvd2Nhc2Uvc2VsZWN0LWxpc3Qtc2hvd2Nhc2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4RCxPQUFPLEVBQWMsZUFBZSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDaEUsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7OztJQWtCeEMsMkJBQTJCLFNBQTNCLDJCQUEyQjs7UUFHdEMsMEVBQTBFO1FBQzFFLHNCQUFpQixHQUEwQjtZQUN6QyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtZQUMzQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtZQUMzQyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRTtTQUNoRCxDQUFDO1FBRUYscUJBQWdCLEdBQTBCO1lBQ3hDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO1lBQ3pDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxLQUFL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RkFBM0IsMkJBQTJCO2tCQVB2QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSw0QkFBNEI7b0JBQ3RDLFdBQVcsRUFBRSx1Q0FBdUM7aUJBQ3JEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Db250cm9sLCBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBCZWhhdmlvclN1YmplY3QsIG9mLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWxheSwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBCYWNrYmFzZURvY3MgfSBmcm9tICdAYmFja2Jhc2UvdWktYW5nL3V0aWwnO1xuaW1wb3J0IHsgU2VsZWN0TGlzdEl0ZW1CYXNlIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy9zZWxlY3QtbGlzdCc7XG5cbmludGVyZmFjZSBTZWxlY3RMaXN0SXRlbVZhbHVlIGV4dGVuZHMgU2VsZWN0TGlzdEl0ZW1CYXNlIHtcbiAgdmFsdWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFNlbGVjdExpc3RJdGVtQ29kZSBleHRlbmRzIFNlbGVjdExpc3RJdGVtQmFzZSB7XG4gIGNvZGU6IHN0cmluZztcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItc2VsZWN0LWxpc3QtdWktc2hvd2Nhc2UnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2VsZWN0LWxpc3Qtc2hvd2Nhc2UuY29tcG9uZW50Lmh0bWwnLFxufSlcbkBCYWNrYmFzZURvY3Moe1xuICBpc1RoZW1lMlN0YWJsZTogdHJ1ZSxcbn0pXG5leHBvcnQgY2xhc3MgU2VsZWN0TGlzdFNob3djYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgZm9ybSE6IEZvcm1Hcm91cDtcblxuICAvKiogRXhhbXBsZXMgZm9yIHN0YW5kYXJkIGRhdGEgc3RydWN0dXJlIC0gZS5nLiB7IG5hbWU6ICcnLCB2YWx1ZTogJycgfSAqL1xuICBzaW5nbGVTZWxlY3RJdGVtczogU2VsZWN0TGlzdEl0ZW1WYWx1ZVtdID0gW1xuICAgIHsgbmFtZTogJ1NpbmdsZSBPbmUnLCB2YWx1ZTogJ3NpbmdsZS1vbmUnIH0sXG4gICAgeyBuYW1lOiAnU2luZ2xlIFR3bycsIHZhbHVlOiAnc2luZ2xlLXR3bycgfSxcbiAgICB7IG5hbWU6ICdTaW5nbGUgVGhyZWUnLCB2YWx1ZTogJ3NpbmdsZS10aHJlZScgfSxcbiAgXTtcblxuICBtdWx0aVNlbGVjdEl0ZW1zOiBTZWxlY3RMaXN0SXRlbVZhbHVlW10gPSBbXG4gICAgeyBuYW1lOiAnTXVsdGkgT25lJywgdmFsdWU6ICdtdWx0aS1vbmUnIH0sXG4gICAgeyBuYW1lOiAnTXVsdGkgVHdvJywgdmFsdWU6ICdtdWx0aS10d28nIH0sXG4gICAgeyBuYW1lOiAnTXVsdGkgVGhyZWUnLCB2YWx1ZTogJ211bHRpLXRocmVlJyB9LFxuICAgIHsgbmFtZTogJ011bHRpIEZvdXInLCB2YWx1ZTogJ211bHRpLWZvdXInIH0sXG4gICAgeyBuYW1lOiAnTXVsdGkgRml2ZScsIHZhbHVlOiAnbXVsdGktZml2ZScgfSxcbiAgXTtcblxuICAvKiogRXhhbXBsZSBmb3Igbm9uLXN0YW5kYXJkIGRhdGEgc3RydWN0dXJlIC0gZS5nLiB7IG5hbWU6ICcnLCBjb2RlOiAnJyB9ICovXG4gIGNvdW50cmllczogU2VsZWN0TGlzdEl0ZW1Db2RlW10gPSBbXG4gICAgeyBuYW1lOiAnRnJhbmNlJywgY29kZTogJ0ZSQScgfSxcbiAgICB7IG5hbWU6ICdHZXJtYW55JywgY29kZTogJ0dFUicgfSxcbiAgICB7IG5hbWU6ICdJdGFseScsIGNvZGU6ICdJVEEnIH0sXG4gICAgeyBuYW1lOiAnVW5pdGVkIEtpbmdkb20nLCBjb2RlOiAnVUsnIH0sXG4gIF07XG5cbiAgaXRlbXNPYnNlcnZhYmxlJCA9IG9mKFtcbiAgICB7IG5hbWU6ICdJdGVtIE9uZScsIHZhbHVlOiAnaXRlbS1vbmUnIH0sXG4gICAgeyBuYW1lOiAnSXRlbSBUd28nLCB2YWx1ZTogJ2l0ZW0tdHdvJyB9LFxuICBdKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHNlYXJjaE9uTG9hZFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuICBwcml2YXRlIHJlYWRvbmx5IHNlYXJjaEFmdGVyVmFsdWVTdWJqZWN0ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvYWRpbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHNlYXJjaE9uTG9hZEl0ZW1zJCA9IHRoaXMuc2VhcmNoT25Mb2FkU3ViamVjdC5waXBlKFxuICAgIHRhcCgoKSA9PiB0aGlzLmxvYWRpbmdTdWJqZWN0Lm5leHQodHJ1ZSkpLFxuICAgIGRlbGF5KDEwMDApLFxuICAgIHN3aXRjaE1hcCgoKSA9PiB0aGlzLml0ZW1zT2JzZXJ2YWJsZSQpLFxuICAgIHRhcCgoKSA9PiB0aGlzLmxvYWRpbmdTdWJqZWN0Lm5leHQoZmFsc2UpKSxcbiAgKTtcbiAgbG9hZGluZzogT2JzZXJ2YWJsZTxib29sZWFuPiA9IHRoaXMubG9hZGluZ1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgc2VhcmNoQWZ0ZXJWYWx1ZUl0ZW1zJCA9IHRoaXMuc2VhcmNoQWZ0ZXJWYWx1ZVN1YmplY3QucGlwZShzd2l0Y2hNYXAoKCkgPT4gdGhpcy5pdGVtc09ic2VydmFibGUkKSk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5mb3JtID0gbmV3IEZvcm1Hcm91cCh7XG4gICAgICBzaW5nbGVTZWxlY3Q6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcbiAgICAgIG11bHRpcGxlU2VsZWN0OiBuZXcgRm9ybUNvbnRyb2woW10pLFxuICAgICAgbXVsdGlwbGVTZWxlY3REZXN0aW5hdGlvbnM6IG5ldyBGb3JtQ29udHJvbChbXSksXG4gICAgICBtdWx0aXBsZVNlbGVjdE9ic2VydmFibGU6IG5ldyBGb3JtQ29udHJvbChbXSksXG4gICAgICBzZWFyY2hPbkxvYWQ6IG5ldyBGb3JtQ29udHJvbCh1bmRlZmluZWQpLFxuICAgICAgc2VhcmNoQWZ0ZXJWYWx1ZTogbmV3IEZvcm1Db250cm9sKHVuZGVmaW5lZCksXG4gICAgfSk7XG4gIH1cblxuICBzZWFyY2hPbkxvYWQodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuc2VhcmNoT25Mb2FkU3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgfVxuXG4gIHNlYXJjaEFmdGVyVmFsdWUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuc2VhcmNoQWZ0ZXJWYWx1ZVN1YmplY3QubmV4dCh2YWx1ZSk7XG4gIH1cbn1cbiIsIjxmb3JtIFtmb3JtR3JvdXBdPVwiZm9ybVwiPlxuICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCI+XG4gICAgPGg0IGlkPVwic2luZ2xlU2VsZWN0TGFiZWxcIj5TaW5nbGUgU2VsZWN0PC9oND5cbiAgICA8YmItc2VsZWN0LWxpc3QtdWlcbiAgICAgIGlkPVwic2VsZWN0LWxpc3RcIlxuICAgICAgZm9ybUNvbnRyb2xOYW1lPVwic2luZ2xlU2VsZWN0XCJcbiAgICAgIHBsYWNlaG9sZGVyPVwiU3RhcnQgdHlwaW5nLiBlLmcuIHNpbmdsZVwiXG4gICAgICBbaXRlbXNdPVwic2luZ2xlU2VsZWN0SXRlbXNcIlxuICAgICAgbWluVGVybUxlbmd0aD1cIjNcIlxuICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2luZ2xlU2VsZWN0TGFiZWxcIlxuICAgID5cbiAgICA8L2JiLXNlbGVjdC1saXN0LXVpPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCI+XG4gICAgPGJiLXNlbGVjdC1saXN0LXVpXG4gICAgICBpZD1cInNlbGVjdC1saXN0MlwiXG4gICAgICBmb3JtQ29udHJvbE5hbWU9XCJzaW5nbGVTZWxlY3RcIlxuICAgICAgcGxhY2Vob2xkZXI9XCJTdGFydCB0eXBpbmcuIGUuZy4gc2luZ2xlXCJcbiAgICAgIFtpdGVtc109XCJzaW5nbGVTZWxlY3RJdGVtc1wiXG4gICAgICBtaW5UZXJtTGVuZ3RoPVwiM1wiXG4gICAgICBsYWJlbD1cIkVtYmVkIGxhYmVsXCJcbiAgICA+XG4gICAgPC9iYi1zZWxlY3QtbGlzdC11aT5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14bFwiPlxuICAgIDxoNCBpZD1cIm11bHRpcGxlU2VsZWN0TGFiZWxcIj5NdWx0aXBsZSBTZWxlY3QgLSBNYXguIDMgc2VsZWN0aW9uczwvaDQ+XG4gICAgPGJiLXNlbGVjdC1saXN0LXVpXG4gICAgICBpZD1cInNlbGVjdC1saXN0LW11bHRpXCJcbiAgICAgIGZvcm1Db250cm9sTmFtZT1cIm11bHRpcGxlU2VsZWN0XCJcbiAgICAgIHBsYWNlaG9sZGVyPVwiU3RhcnQgdHlwaW5nLiBlLmcuIG11bHRpXCJcbiAgICAgIFtpdGVtc109XCJtdWx0aVNlbGVjdEl0ZW1zXCJcbiAgICAgIG1pblRlcm1MZW5ndGg9XCIzXCJcbiAgICAgIFttdWx0aXBsZV09XCJ0cnVlXCJcbiAgICAgIG1heFNlbGVjdGVkSXRlbXM9XCIzXCJcbiAgICAgIGFyaWEtbGFiZWxsZWRieT1cIm11bHRpcGxlU2VsZWN0TGFiZWxcIlxuICAgID5cbiAgICA8L2JiLXNlbGVjdC1saXN0LXVpPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCI+XG4gICAgPGg0IGlkPVwibXVsdGlwbGVTZWxlY3RMYWJlbERlc3RpbmF0aW9uc1wiPk11bHRpcGxlIFNlbGVjdCAtIE5vbi1TdGFuZGFyZCBEYXRhIFN0cnVjdHVyZTwvaDQ+XG4gICAgPGJiLXNlbGVjdC1saXN0LXVpXG4gICAgICBpZD1cInNlbGVjdC1saXN0LW11bHRpLWRlc3RpbmF0aW9uc1wiXG4gICAgICBmb3JtQ29udHJvbE5hbWU9XCJtdWx0aXBsZVNlbGVjdERlc3RpbmF0aW9uc1wiXG4gICAgICBwbGFjZWhvbGRlcj1cIlN0YXJ0IHR5cGluZy4gZS5nLiBnZXJtYW55XCJcbiAgICAgIFtpdGVtc109XCJjb3VudHJpZXNcIlxuICAgICAgbWluVGVybUxlbmd0aD1cIjNcIlxuICAgICAgW211bHRpcGxlXT1cInRydWVcIlxuICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwibXVsdGlwbGVTZWxlY3RMYWJlbERlc3RpbmF0aW9uc1wiXG4gICAgPlxuICAgIDwvYmItc2VsZWN0LWxpc3QtdWk+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teGxcIj5cbiAgICA8aDQgaWQ9XCJtdWx0aXBsZVNlbGVjdExhYmVsT2JzZXJ2YWJsZVwiPk11bHRpcGxlIFNlbGVjdCAtIEl0ZW1zIGZyb20gT2JzZXJ2YWJsZTwvaDQ+XG4gICAgPGJiLXNlbGVjdC1saXN0LXVpXG4gICAgICBpZD1cInNlbGVjdC1saXN0LW11bHRpLW9ic2VydmFibGVcIlxuICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibXVsdGlwbGVTZWxlY3RPYnNlcnZhYmxlXCJcbiAgICAgIHBsYWNlaG9sZGVyPVwiU3RhcnQgdHlwaW5nLiBlLmcuIGl0ZW1cIlxuICAgICAgW2l0ZW1zXT1cIml0ZW1zT2JzZXJ2YWJsZSQgfCBhc3luY1wiXG4gICAgICBtaW5UZXJtTGVuZ3RoPVwiM1wiXG4gICAgICBbbXVsdGlwbGVdPVwidHJ1ZVwiXG4gICAgICBhcmlhLWxhYmVsbGVkYnk9XCJtdWx0aXBsZVNlbGVjdExhYmVsT2JzZXJ2YWJsZVwiXG4gICAgPlxuICAgIDwvYmItc2VsZWN0LWxpc3QtdWk+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teGxcIj5cbiAgICA8aDQgaWQ9XCJzZWFyY2hPbkxvYWRMYWJlbFwiPlNpbmdsZSBTZWxlY3QgLSBEeW5hbWljIGl0ZW1zIGxpc3QsIHJldHJpZXZlZCBvbiBwYWdlIGxvYWQ8L2g0PlxuICAgIDxiYi1zZWxlY3QtbGlzdC11aVxuICAgICAgbGFiZWw9XCJTZWFyY2ggb24gbG9hZFwiXG4gICAgICBmb3JtQ29udHJvbE5hbWU9XCJzZWFyY2hPbkxvYWRcIlxuICAgICAgcGxhY2Vob2xkZXI9XCJDbGljayB0byBvcGVuIGRyb3Bkb3duLCBpdGVtcyBhcmUgbG9hZGVkIHdoZW4gcGFnZSBpcy4gVHlwaW5nIHdpbGwgcmV0dXJuIGJhY2sgdGhlIGlucHV0IHZhbHVlXCJcbiAgICAgIFtpdGVtc109XCJzZWFyY2hPbkxvYWRJdGVtcyQgfCBhc3luY1wiXG4gICAgICBbZmlsdGVyRW5hYmxlZF09XCJmYWxzZVwiXG4gICAgICBtaW5UZXJtTGVuZ3RoPVwiM1wiXG4gICAgICBbbG9hZGluZ109XCJsb2FkaW5nIHwgYXN5bmNcIlxuICAgICAgKHNlYXJjaCk9XCJzZWFyY2hPbkxvYWQoJGV2ZW50KVwiXG4gICAgICBhcmlhLWxhYmVsbGVkYnk9XCJzZWFyY2hPbkxvYWRMYWJlbFwiXG4gICAgPlxuICAgIDwvYmItc2VsZWN0LWxpc3QtdWk+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teGxcIj5cbiAgICA8aDQgaWQ9XCJzZWFyY2hBZnRlclZhbHVlTGFiZWxcIj5TaW5nbGUgU2VsZWN0IC0gRHluYW1pYyBpdGVtcyBsaXN0LCByZXRyaWV2ZWQgYWZ0ZXIgZmlyc3Qgc2VhcmNoPC9oND5cbiAgICA8YmItc2VsZWN0LWxpc3QtdWlcbiAgICAgIGZvcm1Db250cm9sTmFtZT1cInNlYXJjaEFmdGVyVmFsdWVcIlxuICAgICAgcGxhY2Vob2xkZXI9XCJJdGVtcyBhcmUgbG9hZGVkIHdoZW4geW91IHNlYXJjaC4gVHlwaW5nIHdpbGwgcmV0dXJuIGJhY2sgdGhlIGlucHV0IHZhbHVlXCJcbiAgICAgIFtpdGVtc109XCJzZWFyY2hBZnRlclZhbHVlSXRlbXMkIHwgYXN5bmNcIlxuICAgICAgW2ZpbHRlckVuYWJsZWRdPVwiZmFsc2VcIlxuICAgICAgbWluVGVybUxlbmd0aD1cIjNcIlxuICAgICAgKHNlYXJjaCk9XCJzZWFyY2hBZnRlclZhbHVlKCRldmVudClcIlxuICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2VhcmNoQWZ0ZXJWYWx1ZUxhYmVsXCJcbiAgICA+XG4gICAgPC9iYi1zZWxlY3QtbGlzdC11aT5cbiAgPC9kaXY+XG48L2Zvcm0+XG4iXX0=