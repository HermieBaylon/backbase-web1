import { __decorate } from "tslib";
import { Component, ViewChild } from '@angular/core';
import { of } from 'rxjs';
import { COUNTRIES } from './countries';
import { TableDirective } from '@backbase/ui-ang/table';
import { BackbaseDocs } from '@backbase/ui-ang/util';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/ui-ang/dropdown-menu";
import * as i2 from "@backbase/ui-ang/icon";
import * as i3 from "@backbase/ui-ang/badge";
import * as i4 from "@backbase/ui-ang/pagination";
import * as i5 from "@backbase/ui-ang/table";
import * as i6 from "@angular/common";
let TableShowcaseComponent = class TableShowcaseComponent {
    constructor() {
        this.currentPage = 0;
        this.pageSize = 10;
        this.rotate = { asc: 'ascending', desc: 'descending', '': '' };
        this.iconMap = { asc: 'caret-up', desc: 'caret-down', '': '' };
        this.sortDirection = '';
        this.activeSortingOption = {};
        this.sortingOptions = [
            { label: 'Capital', value: 'capital', direction: '' },
            { label: 'Population', value: 'population', direction: '' },
        ];
        this.countries$ = of(this.getItems(0, this.pageSize));
    }
    onSort({ column, direction }) {
        this.activeSortingOption = {};
        const selectedOption = this.sortingOptions.find((option) => option.value === column);
        if (selectedOption && direction !== '') {
            this.activeSortingOption = selectedOption;
            this.activeSortingOption.direction = direction;
        }
        this.countries$ = of(this.sort(this.getItems(this.currentPage * this.pageSize, this.currentPage * this.pageSize + this.pageSize), column, direction));
    }
    onRowSelect(data) {
        this.selected = data;
    }
    onRowClick(data) {
        this.tableRef.toggleItem(data, !this.tableRef.isSelected(data));
    }
    search(value) {
        this.countries$ =
            value === ''
                ? of(this.getItems(this.currentPage, this.pageSize))
                : of(COUNTRIES.filter((country) => country.name.toLowerCase().includes(value)));
    }
    sort(countries, column, direction) {
        this.sortDirection = this.rotate[direction];
        if (direction === '') {
            return countries;
        }
        else {
            return [...countries].sort((a, b) => {
                const res = this.compare(a[column], b[column]);
                return direction === 'asc' ? res : -res;
            });
        }
    }
    compare(v1, v2) {
        return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;
    }
    getItems(start, end) {
        return COUNTRIES.slice(start, end);
    }
    get paginator() {
        return {
            page: this.currentPage,
            boundaryLinks: false,
            directionLinks: true,
            totalItems: COUNTRIES.length,
            itemsPerPage: this.pageSize,
            maxNavPages: 3,
            onPageChange: (page) => {
                this.countries$ = of(this.getItems(page * this.pageSize, page * this.pageSize + this.pageSize));
            },
        };
    }
};
TableShowcaseComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: TableShowcaseComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
TableShowcaseComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: TableShowcaseComponent, selector: "bb-table-ui-showcase", viewQueries: [{ propertyName: "tableRef", first: true, predicate: ["tableRef"], descendants: true, read: TableDirective, static: true }], ngImport: i0, template: "<div class=\"card shadow-sm\">\n  <div class=\"card-body\">\n    <div class=\"table-responsive\">\n      <table\n        #tableRef\n        (rowClick)=\"onRowClick($event)\"\n        (selectRow)=\"onRowSelect($event)\"\n        (sort)=\"onSort($event)\"\n        [bbTable]=\"countries$ | async\"\n        bbTableFocus\n        class=\"table table-hover\"\n        data-role=\"table-showcase\"\n      >\n        <!--Add empty caption to fix sonar warning-->\n        <caption></caption>\n        <thead>\n          <tr>\n            <th\n              [attr.aria-sort]=\"sortDirection\"\n              [bbSortable]=\"'name'\"\n              scope=\"col\"\n              tabindex=\"0\"\n              data-role=\"table-sort-name\"\n            >\n              <span class=\"th-content\"> Data left aligned </span>\n            </th>\n            <!--set position relative is required. Since the dropdown button(set as position absolute) requires full height and width of the parent element-->\n            <th class=\"position-relative\" bbSortable scope=\"col\" role=\"presentation\" data-role=\"table-sort-dropdown\">\n              <span class=\"th-content\">Capital, Population</span>\n              <!--Add th-dropdown-menu class on dropdown to make it work with <th> tag-->\n              <!--Set role as presentation for dropdown so that screen reader will not read this dropdown.-->\n              <!--bbSortable directive will add necessary role to dropdown button so that button will be actually read as colunmheader by screen readers-->\n              <bb-dropdown-menu-ui\n                btnColor=\"unstyled\"\n                buttonSize=\"sm\"\n                class=\"th-dropdown-menu\"\n                dropDownButtonLabel=\"Capital, Population\"\n                role=\"presentation\"\n                position=\"bottom-left\"\n              >\n                <ng-template bbDropdownMenuItem>\n                  <div class=\"dropdown-header\">\n                    <h3 class=\"bb-subheader bb-text-support\">SORT BY</h3>\n                  </div>\n                  <!--bbTableMenuitem directive is added to facilitate the common behaviour of dropdown item such as active class and click event-->\n                  <button\n                    role=\"menuitem\"\n                    *ngFor=\"let option of sortingOptions\"\n                    class=\"dropdown-item bb-stack\"\n                    [bbDropdownMenuOption]=\"option.value\"\n                  >\n                    <span>\n                      {{ option.label }}\n                    </span>\n                    <bb-icon-ui\n                      class=\"bb-stack__item--push-right\"\n                      *ngIf=\"activeSortingOption.value === option.value\"\n                      [name]=\"iconMap[activeSortingOption.direction]\"\n                    >\n                    </bb-icon-ui>\n                  </button>\n                </ng-template>\n              </bb-dropdown-menu-ui>\n            </th>\n            <th class=\"text-center\" scope=\"col\">\n              <span class=\"th-content\"> Data center aligned </span>\n            </th>\n            <th [attr.aria-sort]=\"sortDirection\" bbSortable=\"area\" scope=\"col\" tabindex=\"0\" data-role=\"table-sort-area\">\n              <span class=\"th-content\"> Area (left aligned) </span>\n            </th>\n            <th scope=\"col\">\n              <span class=\"th-content\"> Data center aligned </span>\n            </th>\n            <th class=\"text-right\" scope=\"col\">\n              <span class=\"th-content\"> Data right aligned </span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let country of countries$ | async\" [bbRow]=\"country\">\n            <th scope=\"row\">\n              <span class=\"th-content\"> Data left aligned </span>\n            </th>\n            <td>\n              <div class=\"bb-stack\">\n                <img\n                  [src]=\"'https://upload.wikimedia.org/wikipedia/commons/' + country.flag\"\n                  [style.width]=\"'20px'\"\n                  [style.verticalAlign]=\"'baseline'\"\n                  alt=\"flag\"\n                  class=\"bb-stack__item--spacing-sm\"\n                  src=\"#\"\n                />\n                {{ country.name }}\n              </div>\n            </td>\n            <th scope=\"row\">\n              <span class=\"th-content\"> Capital (left aligned) </span>\n            </th>\n            <td>\n              <span class=\"bb-block bb-block--sm\">{{ country.capital }}</span>\n              <span class=\"text-support\">({{ country.capitalPopulation | number }})</span>\n            </td>\n            <th scope=\"row\">\n              <span class=\"th-content\"> Data center aligned </span>\n            </th>\n            <td class=\"text-center\">Some random text here</td>\n            <th scope=\"row\">\n              <span class=\"th-content\"> Area (left aligned) </span>\n            </th>\n            <td>Area: {{ country.area }}</td>\n            <th scope=\"row\">\n              <span class=\"th-content\"> Data center aligned </span>\n            </th>\n            <td class=\"bb-text-align-center\">\n              <bb-badge-ui color=\"info\" text=\"test\"></bb-badge-ui>\n            </td>\n            <th scope=\"row\" class=\"bb-text-align-right\">\n              <span class=\"th-content\"> Data right aligned </span>\n            </th>\n            <td class=\"bb-text-align-right\">\n              {{ country.population | number }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <bb-pagination-ui\n      (pageChange)=\"paginator.onPageChange($event)\"\n      [boundaryLinks]=\"paginator.boundaryLinks\"\n      [directionLinks]=\"paginator.directionLinks\"\n      [itemsPerPage]=\"paginator.itemsPerPage\"\n      [maxNavPages]=\"paginator.maxNavPages\"\n      [page]=\"paginator.page\"\n      [totalItems]=\"paginator.totalItems\"\n    >\n    </bb-pagination-ui>\n  </div>\n</div>\n", components: [{ type: i1.DropdownMenuComponent, selector: "bb-dropdown-menu-ui", inputs: ["label", "disabled", "options", "icon", "iconSize", "iconColor", "btnColor", "btnCircle", "optionLabelKey", "fullWidth", "autoClose", "container", "position", "ariaLabel", "dropDownMenuRole", "dropDownMenuId", "buttonSize", "dropDownButtonLabel", "visibleElementDependingOnViewport", "role"], outputs: ["select"] }, { type: i2.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i3.BadgeComponent, selector: "bb-badge-ui", inputs: ["color", "text", "abbr", "circle", "wrap", "ariaLabel"] }, { type: i4.PaginatorComponent, selector: "bb-pagination-ui", inputs: ["page", "boundaryLinks", "directionLinks", "totalItems", "itemsPerPage", "maxNavPages"], outputs: ["pageChange"] }], directives: [{ type: i5.TableDirective, selector: "table[bbTable]", inputs: ["bbTable"], outputs: ["selectRow", "rowClick", "sort"] }, { type: i5.TableFocusDirective, selector: "[bbTableFocus]", inputs: ["focusFirstRowOnChanges"] }, { type: i5.TableSortableDirective, selector: "th[bbSortable]", inputs: ["bbSortable", "direction"], outputs: ["sort"] }, { type: i1.DropdownMenuItemDirective, selector: "ng-template[bbDropdownMenuItem]" }, { type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.DropdownMenuOptionDirective, selector: "[bbDropdownMenuOption]", inputs: ["bbDropdownMenuOption", "active"], outputs: ["selectionChange"] }, { type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i5.TableRowDirective, selector: "tr[bbRow]", inputs: ["bbRow"] }], pipes: { "async": i6.AsyncPipe, "number": i6.DecimalPipe } });
TableShowcaseComponent = __decorate([
    BackbaseDocs({
        isTheme2Stable: true,
    })
], TableShowcaseComponent);
export { TableShowcaseComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: TableShowcaseComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-table-ui-showcase',
                    templateUrl: './table-showcase.component.html',
                }]
        }], ctorParameters: function () { return []; }, propDecorators: { tableRef: [{
                type: ViewChild,
                args: ['tableRef', { static: true, read: TableDirective }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtc2hvd2Nhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy91aS1hbmcvX2V4YW1wbGUvdGFibGUvc2hvd2Nhc2UvdGFibGUtc2hvd2Nhc2UuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy91aS1hbmcvX2V4YW1wbGUvdGFibGUvc2hvd2Nhc2UvdGFibGUtc2hvd2Nhc2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFdEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7Ozs7OztJQVN4QyxzQkFBc0IsU0FBdEIsc0JBQXNCO0lBZ0JqQztRQWJBLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFDZCxXQUFNLEdBQThCLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNyRixZQUFPLEdBQTJCLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNsRixrQkFBYSxHQUFHLEVBQUUsQ0FBQztRQUNuQix3QkFBbUIsR0FBMkIsRUFBRSxDQUFDO1FBQ2pELG1CQUFjLEdBQTZCO1lBQ3pDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxFQUFF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ImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgU29ydEV2ZW50IH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy90YWJsZSc7XG5pbXBvcnQgeyBDT1VOVFJJRVMgfSBmcm9tICcuL2NvdW50cmllcyc7XG5pbXBvcnQgeyBUYWJsZURpcmVjdGl2ZSB9IGZyb20gJ0BiYWNrYmFzZS91aS1hbmcvdGFibGUnO1xuaW1wb3J0IHsgQmFja2Jhc2VEb2NzIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy91dGlsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItdGFibGUtdWktc2hvd2Nhc2UnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFibGUtc2hvd2Nhc2UuY29tcG9uZW50Lmh0bWwnLFxufSlcbkBCYWNrYmFzZURvY3Moe1xuICBpc1RoZW1lMlN0YWJsZTogdHJ1ZSxcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVTaG93Y2FzZUNvbXBvbmVudCB7XG4gIGNvdW50cmllcyQ/OiBPYnNlcnZhYmxlPGFueVtdPjtcbiAgc2VsZWN0ZWQ/OiBTZXQ8YW55PjtcbiAgY3VycmVudFBhZ2UgPSAwO1xuICBwYWdlU2l6ZSA9IDEwO1xuICByb3RhdGU6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7IGFzYzogJ2FzY2VuZGluZycsIGRlc2M6ICdkZXNjZW5kaW5nJywgJyc6ICcnIH07XG4gIGljb25NYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7IGFzYzogJ2NhcmV0LXVwJywgZGVzYzogJ2NhcmV0LWRvd24nLCAnJzogJycgfTtcbiAgc29ydERpcmVjdGlvbiA9ICcnO1xuICBhY3RpdmVTb3J0aW5nT3B0aW9uOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIHNvcnRpbmdPcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+W10gPSBbXG4gICAgeyBsYWJlbDogJ0NhcGl0YWwnLCB2YWx1ZTogJ2NhcGl0YWwnLCBkaXJlY3Rpb246ICcnIH0sXG4gICAgeyBsYWJlbDogJ1BvcHVsYXRpb24nLCB2YWx1ZTogJ3BvcHVsYXRpb24nLCBkaXJlY3Rpb246ICcnIH0sXG4gIF07XG5cbiAgQFZpZXdDaGlsZCgndGFibGVSZWYnLCB7IHN0YXRpYzogdHJ1ZSwgcmVhZDogVGFibGVEaXJlY3RpdmUgfSkgdGFibGVSZWYhOiBUYWJsZURpcmVjdGl2ZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvdW50cmllcyQgPSBvZih0aGlzLmdldEl0ZW1zKDAsIHRoaXMucGFnZVNpemUpKTtcbiAgfVxuXG4gIG9uU29ydCh7IGNvbHVtbiwgZGlyZWN0aW9uIH06IFNvcnRFdmVudCkge1xuICAgIHRoaXMuYWN0aXZlU29ydGluZ09wdGlvbiA9IHt9O1xuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gdGhpcy5zb3J0aW5nT3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSA9PT0gY29sdW1uKTtcbiAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgZGlyZWN0aW9uICE9PSAnJykge1xuICAgICAgdGhpcy5hY3RpdmVTb3J0aW5nT3B0aW9uID0gc2VsZWN0ZWRPcHRpb247XG4gICAgICB0aGlzLmFjdGl2ZVNvcnRpbmdPcHRpb24uZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIH1cbiAgICB0aGlzLmNvdW50cmllcyQgPSBvZihcbiAgICAgIHRoaXMuc29ydChcbiAgICAgICAgdGhpcy5nZXRJdGVtcyh0aGlzLmN1cnJlbnRQYWdlICogdGhpcy5wYWdlU2l6ZSwgdGhpcy5jdXJyZW50UGFnZSAqIHRoaXMucGFnZVNpemUgKyB0aGlzLnBhZ2VTaXplKSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBvblJvd1NlbGVjdChkYXRhOiBTZXQ8YW55Pikge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBkYXRhO1xuICB9XG5cbiAgb25Sb3dDbGljayhkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnRhYmxlUmVmLnRvZ2dsZUl0ZW0oZGF0YSwgIXRoaXMudGFibGVSZWYuaXNTZWxlY3RlZChkYXRhKSk7XG4gIH1cblxuICBzZWFyY2godmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuY291bnRyaWVzJCA9XG4gICAgICB2YWx1ZSA9PT0gJydcbiAgICAgICAgPyBvZih0aGlzLmdldEl0ZW1zKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZVNpemUpKVxuICAgICAgICA6IG9mKENPVU5UUklFUy5maWx0ZXIoKGNvdW50cnkpID0+IGNvdW50cnkubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlKSkpO1xuICB9XG5cbiAgc29ydChjb3VudHJpZXM6IGFueVtdLCBjb2x1bW46IHN0cmluZywgZGlyZWN0aW9uOiBzdHJpbmcpOiBhbnlbXSB7XG4gICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gdGhpcy5yb3RhdGVbZGlyZWN0aW9uXTtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnJykge1xuICAgICAgcmV0dXJuIGNvdW50cmllcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFsuLi5jb3VudHJpZXNdLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY29tcGFyZShhW2NvbHVtbl0sIGJbY29sdW1uXSk7XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ2FzYycgPyByZXMgOiAtcmVzO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcGFyZSh2MTogbnVtYmVyIHwgc3RyaW5nLCB2MjogbnVtYmVyIHwgc3RyaW5nKSB7XG4gICAgcmV0dXJuIHYxIDwgdjIgPyAtMSA6IHYxID4gdjIgPyAxIDogMDtcbiAgfVxuXG4gIGdldEl0ZW1zKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogYW55W10ge1xuICAgIHJldHVybiBDT1VOVFJJRVMuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cblxuICBnZXQgcGFnaW5hdG9yKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlLFxuICAgICAgYm91bmRhcnlMaW5rczogZmFsc2UsXG4gICAgICBkaXJlY3Rpb25MaW5rczogdHJ1ZSxcbiAgICAgIHRvdGFsSXRlbXM6IENPVU5UUklFUy5sZW5ndGgsXG4gICAgICBpdGVtc1BlclBhZ2U6IHRoaXMucGFnZVNpemUsXG4gICAgICBtYXhOYXZQYWdlczogMyxcbiAgICAgIG9uUGFnZUNoYW5nZTogKHBhZ2U6IG51bWJlcikgPT4ge1xuICAgICAgICB0aGlzLmNvdW50cmllcyQgPSBvZih0aGlzLmdldEl0ZW1zKHBhZ2UgKiB0aGlzLnBhZ2VTaXplLCBwYWdlICogdGhpcy5wYWdlU2l6ZSArIHRoaXMucGFnZVNpemUpKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImNhcmQgc2hhZG93LXNtXCI+XG4gIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZVwiPlxuICAgICAgPHRhYmxlXG4gICAgICAgICN0YWJsZVJlZlxuICAgICAgICAocm93Q2xpY2spPVwib25Sb3dDbGljaygkZXZlbnQpXCJcbiAgICAgICAgKHNlbGVjdFJvdyk9XCJvblJvd1NlbGVjdCgkZXZlbnQpXCJcbiAgICAgICAgKHNvcnQpPVwib25Tb3J0KCRldmVudClcIlxuICAgICAgICBbYmJUYWJsZV09XCJjb3VudHJpZXMkIHwgYXN5bmNcIlxuICAgICAgICBiYlRhYmxlRm9jdXNcbiAgICAgICAgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiXG4gICAgICAgIGRhdGEtcm9sZT1cInRhYmxlLXNob3djYXNlXCJcbiAgICAgID5cbiAgICAgICAgPCEtLUFkZCBlbXB0eSBjYXB0aW9uIHRvIGZpeCBzb25hciB3YXJuaW5nLS0+XG4gICAgICAgIDxjYXB0aW9uPjwvY2FwdGlvbj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICBbYXR0ci5hcmlhLXNvcnRdPVwic29ydERpcmVjdGlvblwiXG4gICAgICAgICAgICAgIFtiYlNvcnRhYmxlXT1cIiduYW1lJ1wiXG4gICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgZGF0YS1yb2xlPVwidGFibGUtc29ydC1uYW1lXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+IERhdGEgbGVmdCBhbGlnbmVkIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8IS0tc2V0IHBvc2l0aW9uIHJlbGF0aXZlIGlzIHJlcXVpcmVkLiBTaW5jZSB0aGUgZHJvcGRvd24gYnV0dG9uKHNldCBhcyBwb3NpdGlvbiBhYnNvbHV0ZSkgcmVxdWlyZXMgZnVsbCBoZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBwYXJlbnQgZWxlbWVudC0tPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwicG9zaXRpb24tcmVsYXRpdmVcIiBiYlNvcnRhYmxlIHNjb3BlPVwiY29sXCIgcm9sZT1cInByZXNlbnRhdGlvblwiIGRhdGEtcm9sZT1cInRhYmxlLXNvcnQtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+Q2FwaXRhbCwgUG9wdWxhdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgPCEtLUFkZCB0aC1kcm9wZG93bi1tZW51IGNsYXNzIG9uIGRyb3Bkb3duIHRvIG1ha2UgaXQgd29yayB3aXRoIDx0aD4gdGFnLS0+XG4gICAgICAgICAgICAgIDwhLS1TZXQgcm9sZSBhcyBwcmVzZW50YXRpb24gZm9yIGRyb3Bkb3duIHNvIHRoYXQgc2NyZWVuIHJlYWRlciB3aWxsIG5vdCByZWFkIHRoaXMgZHJvcGRvd24uLS0+XG4gICAgICAgICAgICAgIDwhLS1iYlNvcnRhYmxlIGRpcmVjdGl2ZSB3aWxsIGFkZCBuZWNlc3Nhcnkgcm9sZSB0byBkcm9wZG93biBidXR0b24gc28gdGhhdCBidXR0b24gd2lsbCBiZSBhY3R1YWxseSByZWFkIGFzIGNvbHVubWhlYWRlciBieSBzY3JlZW4gcmVhZGVycy0tPlxuICAgICAgICAgICAgICA8YmItZHJvcGRvd24tbWVudS11aVxuICAgICAgICAgICAgICAgIGJ0bkNvbG9yPVwidW5zdHlsZWRcIlxuICAgICAgICAgICAgICAgIGJ1dHRvblNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ0aC1kcm9wZG93bi1tZW51XCJcbiAgICAgICAgICAgICAgICBkcm9wRG93bkJ1dHRvbkxhYmVsPVwiQ2FwaXRhbCwgUG9wdWxhdGlvblwiXG4gICAgICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICAgICAgcG9zaXRpb249XCJib3R0b20tbGVmdFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgYmJEcm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJiYi1zdWJoZWFkZXIgYmItdGV4dC1zdXBwb3J0XCI+U09SVCBCWTwvaDM+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwhLS1iYlRhYmxlTWVudWl0ZW0gZGlyZWN0aXZlIGlzIGFkZGVkIHRvIGZhY2lsaXRhdGUgdGhlIGNvbW1vbiBiZWhhdmlvdXIgb2YgZHJvcGRvd24gaXRlbSBzdWNoIGFzIGFjdGl2ZSBjbGFzcyBhbmQgY2xpY2sgZXZlbnQtLT5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBzb3J0aW5nT3B0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZHJvcGRvd24taXRlbSBiYi1zdGFja1wiXG4gICAgICAgICAgICAgICAgICAgIFtiYkRyb3Bkb3duTWVudU9wdGlvbl09XCJvcHRpb24udmFsdWVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBvcHRpb24ubGFiZWwgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0tLXB1c2gtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiYWN0aXZlU29ydGluZ09wdGlvbi52YWx1ZSA9PT0gb3B0aW9uLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICBbbmFtZV09XCJpY29uTWFwW2FjdGl2ZVNvcnRpbmdPcHRpb24uZGlyZWN0aW9uXVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPC9iYi1pY29uLXVpPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgPC9iYi1kcm9wZG93bi1tZW51LXVpPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCIgc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+IERhdGEgY2VudGVyIGFsaWduZWQgPC9zcGFuPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgIDx0aCBbYXR0ci5hcmlhLXNvcnRdPVwic29ydERpcmVjdGlvblwiIGJiU29ydGFibGU9XCJhcmVhXCIgc2NvcGU9XCJjb2xcIiB0YWJpbmRleD1cIjBcIiBkYXRhLXJvbGU9XCJ0YWJsZS1zb3J0LWFyZWFcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+IEFyZWEgKGxlZnQgYWxpZ25lZCkgPC9zcGFuPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRoLWNvbnRlbnRcIj4gRGF0YSBjZW50ZXIgYWxpZ25lZCA8L3NwYW4+XG4gICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1yaWdodFwiIHNjb3BlPVwiY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGgtY29udGVudFwiPiBEYXRhIHJpZ2h0IGFsaWduZWQgPC9zcGFuPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPHRyICpuZ0Zvcj1cImxldCBjb3VudHJ5IG9mIGNvdW50cmllcyQgfCBhc3luY1wiIFtiYlJvd109XCJjb3VudHJ5XCI+XG4gICAgICAgICAgICA8dGggc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+IERhdGEgbGVmdCBhbGlnbmVkIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja1wiPlxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgIFtzcmNdPVwiJ2h0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvJyArIGNvdW50cnkuZmxhZ1wiXG4gICAgICAgICAgICAgICAgICBbc3R5bGUud2lkdGhdPVwiJzIwcHgnXCJcbiAgICAgICAgICAgICAgICAgIFtzdHlsZS52ZXJ0aWNhbEFsaWduXT1cIidiYXNlbGluZSdcIlxuICAgICAgICAgICAgICAgICAgYWx0PVwiZmxhZ1wiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtLS1zcGFjaW5nLXNtXCJcbiAgICAgICAgICAgICAgICAgIHNyYz1cIiNcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge3sgY291bnRyeS5uYW1lIH19XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0aCBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRoLWNvbnRlbnRcIj4gQ2FwaXRhbCAobGVmdCBhbGlnbmVkKSA8L3NwYW4+XG4gICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1zbVwiPnt7IGNvdW50cnkuY2FwaXRhbCB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXN1cHBvcnRcIj4oe3sgY291bnRyeS5jYXBpdGFsUG9wdWxhdGlvbiB8IG51bWJlciB9fSk8L3NwYW4+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRoIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGgtY29udGVudFwiPiBEYXRhIGNlbnRlciBhbGlnbmVkIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlNvbWUgcmFuZG9tIHRleHQgaGVyZTwvdGQ+XG4gICAgICAgICAgICA8dGggc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aC1jb250ZW50XCI+IEFyZWEgKGxlZnQgYWxpZ25lZCkgPC9zcGFuPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgIDx0ZD5BcmVhOiB7eyBjb3VudHJ5LmFyZWEgfX08L3RkPlxuICAgICAgICAgICAgPHRoIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGgtY29udGVudFwiPiBEYXRhIGNlbnRlciBhbGlnbmVkIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJiYi10ZXh0LWFsaWduLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8YmItYmFkZ2UtdWkgY29sb3I9XCJpbmZvXCIgdGV4dD1cInRlc3RcIj48L2JiLWJhZGdlLXVpPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0aCBzY29wZT1cInJvd1wiIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1yaWdodFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRoLWNvbnRlbnRcIj4gRGF0YSByaWdodCBhbGlnbmVkIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJiYi10ZXh0LWFsaWduLXJpZ2h0XCI+XG4gICAgICAgICAgICAgIHt7IGNvdW50cnkucG9wdWxhdGlvbiB8IG51bWJlciB9fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cblxuICAgIDxiYi1wYWdpbmF0aW9uLXVpXG4gICAgICAocGFnZUNoYW5nZSk9XCJwYWdpbmF0b3Iub25QYWdlQ2hhbmdlKCRldmVudClcIlxuICAgICAgW2JvdW5kYXJ5TGlua3NdPVwicGFnaW5hdG9yLmJvdW5kYXJ5TGlua3NcIlxuICAgICAgW2RpcmVjdGlvbkxpbmtzXT1cInBhZ2luYXRvci5kaXJlY3Rpb25MaW5rc1wiXG4gICAgICBbaXRlbXNQZXJQYWdlXT1cInBhZ2luYXRvci5pdGVtc1BlclBhZ2VcIlxuICAgICAgW21heE5hdlBhZ2VzXT1cInBhZ2luYXRvci5tYXhOYXZQYWdlc1wiXG4gICAgICBbcGFnZV09XCJwYWdpbmF0b3IucGFnZVwiXG4gICAgICBbdG90YWxJdGVtc109XCJwYWdpbmF0b3IudG90YWxJdGVtc1wiXG4gICAgPlxuICAgIDwvYmItcGFnaW5hdGlvbi11aT5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==