{"version":3,"file":"backbase-ui-ang-services.js","sources":["../../../../libs/ui-ang/services/browser.service.ts","../../../../libs/ui-ang/services/dom-attributes.service.ts","../../../../libs/ui-ang/services/backbase-ui-ang-services.ts"],"sourcesContent":["import { Inject, Injectable, InjectionToken } from '@angular/core';\n\nexport function navigatorFactory(): Navigator {\n  return navigator;\n}\n\nexport const NAVIGATOR_TOKEN = new InjectionToken<Navigator>('Navigator object');\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class BrowserService {\n  // 'any' due to issue https://github.com/angular/angular/issues/15640\n  constructor(@Inject(NAVIGATOR_TOKEN) private readonly navigator: any) {}\n\n  browserIsMSIE(): boolean {\n    return this.navigator.userAgent.indexOf('MSIE') > -1 || this.navigator.userAgent.indexOf('Trident/') > -1;\n  }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\n/**\n * Utility service for DOM manipulations\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class DomAttributesService {\n  private idPrefix = 'bb_element_';\n  private nextId = 0;\n\n  public generateId() {\n    return `${this.idPrefix}${this.nextId++}`;\n  }\n\n  moveAriaAttributes(hostEl: HTMLElement, childEl: HTMLElement, renderer2: Renderer2) {\n    const nodeMap: NamedNodeMap = hostEl.attributes;\n    // CUT every aria attribute from the host element and PASTE it into the specified element\n    Object.keys(nodeMap)\n      .map((key: string) => nodeMap.item(Number(key)))\n      .filter((item) => item && (item.name.startsWith('aria-') || item.name.toLowerCase() === 'arialabel'))\n      .forEach((item) => {\n        const { name: attrName, value: attrVal } = item as Attr;\n        if (attrName.toLowerCase() === 'arialabel') {\n          renderer2.setAttribute(childEl, 'aria-label', attrVal);\n        } else {\n          renderer2.setAttribute(childEl, attrName, attrVal);\n        }\n        renderer2.removeAttribute(hostEl, attrName);\n      });\n  }\n\n  copyAriaAttributes(hostEl: HTMLElement, childEl: ElementRef<any>, renderer2: Renderer2) {\n    const nodeMap: NamedNodeMap = hostEl.attributes;\n    Object.keys(nodeMap)\n      .map((key: string) => nodeMap.item(Number(key)))\n      .filter((item) => item && item.name.startsWith('aria-'))\n      .forEach((item) => item && renderer2.setAttribute(childEl, item.name, item.value));\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}