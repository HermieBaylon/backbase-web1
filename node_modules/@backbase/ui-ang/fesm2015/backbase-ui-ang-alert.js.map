{"version":3,"file":"backbase-ui-ang-alert.js","sources":["../../../../libs/ui-ang/alert/alert.component.ts","../../../../libs/ui-ang/alert/alert.component.html","../../../../libs/ui-ang/alert/alert.module.ts","../../../../libs/ui-ang/alert/backbase-ui-ang-alert.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { DomAttributesService } from '@backbase/ui-ang/services';\n\nexport type AlertType = 'warning' | 'error' | 'success' | 'info';\n\ninterface AlertOptions {\n  warning: string;\n  error: string;\n  success: string;\n  info: string;\n\n  [key: string]: string;\n}\n\n/**\n * @name AlertComponent\n *\n * @description\n * Component that displays an alert.\n *\n * @a11y For Alert component it's not required to pass any options for accessibility.\n * It internally handles accessibility for title and message:\n *  - title is linked with aria-labelledby.\n *  - message is linked with aria-describedby.\n */\n@Component({\n  selector: 'bb-alert-ui',\n  templateUrl: './alert.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AlertComponent implements OnInit, AfterViewInit {\n  /**\n   * The type modifier for the alert. Defaults to 'error'.\n   */\n  @Input() modifier: AlertType = 'error';\n  /**\n   * Whether the alert can be dismissed. Defaults to false.\n   */\n  @Input() dismissible = false;\n  /**\n   * The title of the alert.\n   * Will throw an error if unset.\n   * It is internaly linked with aria-labelledby.\n   */\n  @Input() title: string | undefined;\n  /**\n   * The message of the alert.\n   * If nothing provided, wouldn't be displayed.\n   * It is internally linked with aria-describedby.\n   */\n  @Input() message: string | undefined;\n  /**\n   * The callback fired upon closing the alert.\n   */\n  @Output() close = new EventEmitter<void>();\n\n  /**\n   * @deprecated\n   * (August 2019)\n   * <ng-content> is deprecated and should not be used anymore. Instead of it please use [message] property\n   */\n  @ViewChild('content', { static: true }) content: ElementRef | undefined;\n  @ViewChild('contentWrapper') contentWrapper!: ElementRef;\n\n  private readonly bootstrapTypes: AlertOptions = {\n    warning: 'warning',\n    error: 'danger',\n    success: 'success',\n    info: 'info',\n  };\n\n  readonly alertTitleId = this.domAttrService.generateId();\n  alertDescriptionId: string | null = this.domAttrService.generateId();\n\n  isOpen = true;\n  isContentProvided = true;\n\n  constructor(\n    private readonly domAttrService: DomAttributesService,\n    private readonly changeDetector: ChangeDetectorRef,\n  ) {}\n\n  ngOnInit() {\n    if (typeof this.title === 'undefined') {\n      throw new Error(`\"title\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this.message) {\n      this.isContentProvided = Boolean(this.contentWrapper?.nativeElement.innerText);\n      if (!this.isContentProvided) {\n        this.alertDescriptionId = null;\n        this.changeDetector.detectChanges();\n      }\n    } else {\n      this.isContentProvided = false;\n    }\n  }\n\n  getAlertType(): string {\n    return this.bootstrapTypes[this.modifier];\n  }\n\n  closeAlert() {\n    this.close.emit();\n  }\n}\n","<ngb-alert\n  [attr.aria-describedby]=\"alertDescriptionId\"\n  [attr.aria-labelledby]=\"alertTitleId\"\n  [attr.role]=\"dismissible ? 'alertdialog' : 'alert'\"\n  [attr.aria-live]=\"'assertive'\"\n  [dismissible]=\"dismissible\"\n  [type]=\"getAlertType()\"\n  (close)=\"isOpen = false\"\n  *ngIf=\"isOpen\"\n  (closed)=\"closeAlert()\"\n>\n  <div class=\"alert-body\">\n    <bb-icon-ui\n      class=\"alert-icon\"\n      [name]=\"modifier\"\n      [color]=\"getAlertType()\"\n      [attr.data-role]=\"'alert-icon'\"\n    ></bb-icon-ui>\n    <div class=\"alert-content\">\n      <strong\n        [class.alert-heading]=\"title\"\n        [id]=\"alertTitleId\"\n        role=\"heading\"\n        aria-level=\"2\"\n        [attr.data-role]=\"'alert-title'\"\n        >{{ title }}</strong\n      >\n      <div\n        *ngIf=\"message; else content\"\n        class=\"alert-description\"\n        [id]=\"alertDescriptionId\"\n        [attr.data-role]=\"'alert-message'\"\n      >\n        {{ message }}\n      </div>\n    </div>\n  </div>\n</ngb-alert>\n\n<ng-template #content>\n  <div *ngIf=\"isContentProvided\" #contentWrapper [attr.data-role]=\"'alert-content'\" [id]=\"alertDescriptionId\">\n    <ng-content></ng-content>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { AlertComponent } from './alert.component';\n\n@NgModule({\n  imports: [CommonModule, NgbAlertModule, IconModule],\n  declarations: [AlertComponent],\n  exports: [AlertComponent],\n})\nexport class AlertModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}