{"version":3,"file":"backbase-ui-ang-input-range.js","sources":["../../../../libs/ui-ang/input-range/bb-input-range-ui.directive.ts","../../../../libs/ui-ang/input-range/bb-input-range-ui.module.ts","../../../../libs/ui-ang/input-range/backbase-ui-ang-input-range.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ContentChild,\n  Directive,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Self,\n  SimpleChanges,\n} from '@angular/core';\nimport { NgControl, Validators } from '@angular/forms';\nimport { merge, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\n@Directive({\n  selector: 'bb-input-number-ui[bbInputRangeMin]',\n})\nexport class InputRangeMinDirective implements OnChanges {\n  /**\n   * Minimum possible value (optional);\n   */\n  @Input() bbInputRangeMin?: number;\n\n  constructor(@Self() readonly control: NgControl) {}\n\n  ngOnChanges({ bbInputRangeMin }: SimpleChanges): void {\n    const c = this.control;\n    if (!c.control) {\n      return;\n    }\n    if (!bbInputRangeMin.firstChange) {\n      c.control.clearValidators();\n    }\n    if (typeof this.bbInputRangeMin === 'number') {\n      c.control.setValidators(Validators.min(this.bbInputRangeMin));\n    }\n    c.control.updateValueAndValidity();\n  }\n}\n\n@Directive({\n  selector: 'bb-input-number-ui[bbInputRangeMax]',\n})\nexport class InputRangeMaxDirective implements OnChanges {\n  /**\n   * Maximum possible value (optional);\n   */\n  @Input() bbInputRangeMax?: number;\n\n  constructor(@Self() readonly control: NgControl) {}\n\n  ngOnChanges({ bbInputRangeMax }: SimpleChanges): void {\n    const c = this.control;\n    if (!c.control) {\n      return;\n    }\n    if (!bbInputRangeMax.firstChange) {\n      c.control.clearValidators();\n    }\n    if (typeof this.bbInputRangeMax === 'number') {\n      c.control.setValidators(Validators.max(this.bbInputRangeMax));\n    }\n    c.control.updateValueAndValidity();\n  }\n}\n\n@Directive({\n  selector: '[bbInputRange]',\n})\nexport class InputRangeDirective implements AfterViewInit, OnDestroy {\n  @ContentChild(InputRangeMinDirective, { static: true }) min: InputRangeMinDirective | undefined;\n  @ContentChild(InputRangeMaxDirective, { static: true }) max: InputRangeMaxDirective | undefined;\n  private readonly destroy$$: Subject<void> = new Subject();\n\n  ngAfterViewInit(): void {\n    const cMin = this.min && this.min.control && this.min.control.control;\n    const cMax = this.max && this.max.control && this.max.control.control;\n    if (!(cMin && cMax)) {\n      return;\n    }\n    merge(\n      cMin.valueChanges.pipe(\n        tap((min: number) => {\n          const max = cMax.value;\n          if (typeof max !== 'number' || min > max) {\n            cMax.patchValue(min, { emitEvent: false });\n          }\n        }),\n      ),\n      cMax.valueChanges.pipe(\n        tap((max: number) => {\n          const min = cMin.value;\n          const areNumbers = typeof min === 'number' && typeof max === 'number';\n          if (areNumbers && max < min) {\n            cMin.patchValue(max, { emitEvent: false });\n          }\n        }),\n      ),\n    )\n      .pipe(takeUntil(this.destroy$$))\n      .subscribe();\n  }\n\n  ngOnDestroy(): void {\n    if (this.destroy$$) {\n      this.destroy$$.next();\n      this.destroy$$.complete();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputRangeDirective, InputRangeMaxDirective, InputRangeMinDirective } from './bb-input-range-ui.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [InputRangeDirective, InputRangeMinDirective, InputRangeMaxDirective],\n  declarations: [InputRangeDirective, InputRangeMinDirective, InputRangeMaxDirective],\n})\nexport class InputRangeModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}