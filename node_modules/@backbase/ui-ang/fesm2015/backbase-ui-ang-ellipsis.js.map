{"version":3,"file":"backbase-ui-ang-ellipsis.js","sources":["../../../../libs/ui-ang/ellipsis/ellipsis.component.ts","../../../../libs/ui-ang/ellipsis/ellipsis.component.html","../../../../libs/ui-ang/ellipsis/directives/is-content-truncated.directive.ts","../../../../libs/ui-ang/ellipsis/ellipsis.module.ts","../../../../libs/ui-ang/ellipsis/backbase-ui-ang-ellipsis.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { BrowserService, NAVIGATOR_TOKEN, navigatorFactory } from '@backbase/ui-ang/services';\n\n/**\n * @name EllipsisComponent\n *\n * @description\n * Component that wraps text and shows ellipsis in case text does not fit.\n */\n/** @dynamic */\n@Component({\n  selector: 'bb-ellipsis-ui',\n  templateUrl: './ellipsis.component.html',\n  providers: [BrowserService, { provide: NAVIGATOR_TOKEN, useFactory: navigatorFactory }],\n})\nexport class EllipsisComponent {\n  /**\n   * The text which should be truncated.\n   */\n  @Input() text: string | undefined;\n  isOpen = false;\n\n  /**\n   * Specifies the events that should trigger the tooltip (space separated strings). Defaults to 'click'.\n   */\n  @Input() tooltipTriggers = 'click';\n\n  /**\n   * Specifies after what text line apply truncating\n   */\n  @Input('lineClamp')\n  set lineClamp(value: number) {\n    this._lineClamp = Math.max(0, Math.floor(value));\n  }\n  get lineClamp(): number {\n    return this._lineClamp;\n  }\n  private _lineClamp = 0;\n\n  constructor(private readonly browserService: BrowserService) {}\n\n  get isIE(): boolean {\n    return this.browserService.browserIsMSIE();\n  }\n\n  onMouseEnter(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n    if (target.offsetWidth < target.scrollWidth) {\n      this.isOpen = true;\n    }\n  }\n\n  onMouseLeave() {\n    this.isOpen = false;\n  }\n}\n","<div\n  class=\"bb-ellipsis\"\n  [ngClass]=\"{\n    'bb-ellipsis--single-line': !lineClamp || isIE,\n    'bb-ellipsis--line-clamp': lineClamp && !isIE\n  }\"\n  [style.-webkit-line-clamp]=\"lineClamp || 'none'\"\n  [style.line-clamp]=\"lineClamp || 'none'\"\n  [bbTooltip]=\"text\"\n  [triggers]=\"tooltipTriggers\"\n  [disableTooltip]=\"!isOpen\"\n  (mouseenter)=\"onMouseEnter($event)\"\n  (mouseleave)=\"onMouseLeave()\"\n>\n  <ng-container *ngIf=\"text\">{{ text }}</ng-container>\n  <ng-container *ngIf=\"!text\"><ng-content></ng-content></ng-container>\n  <div></div>\n  <!--fix for safari: removal of display standard tooltip -->\n</div>\n","import { ChangeDetectorRef, Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\n\nexport interface CheckContentTruncationBehaviour {\n  /**\n   * Set truncation status of notification message\n   */\n  setIsContentTruncated(isTruncated: boolean): void;\n}\n\n@Directive({\n  selector: '[bbIsContentTruncated]',\n})\nexport class IsContentTruncatedDirective implements AfterViewInit {\n  constructor(private readonly elementRef: ElementRef, private readonly cd: ChangeDetectorRef) {}\n\n  @Input() hostRef!: CheckContentTruncationBehaviour;\n\n  ngAfterViewInit() {\n    if (!this.hostRef.setIsContentTruncated) {\n      throw new Error(\n        '\"hostRef\" should implement \"CheckContentTruncationBehaviour\" interface to set truncation status',\n      );\n    }\n    setTimeout(() => {\n      this.setIsContentTruncatedInParentComponent();\n    });\n  }\n\n  private setIsContentTruncatedInParentComponent(): void {\n    const isContentTruncated = this.isContentTruncated(this.elementRef.nativeElement);\n    this.hostRef.setIsContentTruncated(isContentTruncated);\n    this.cd.markForCheck();\n  }\n\n  private isContentTruncated({ offsetHeight, scrollHeight }: HTMLElement): boolean {\n    return offsetHeight < scrollHeight;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { EllipsisComponent } from './ellipsis.component';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport { CommonModule } from '@angular/common';\nimport { IsContentTruncatedDirective } from './directives/is-content-truncated.directive';\n\nconst directives = [IsContentTruncatedDirective];\n\n@NgModule({\n  imports: [TooltipModule, CommonModule],\n  declarations: [EllipsisComponent, ...directives],\n  exports: [EllipsisComponent, ...directives],\n})\nexport class EllipsisModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}