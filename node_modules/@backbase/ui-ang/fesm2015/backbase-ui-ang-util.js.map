{"version":3,"file":"backbase-ui-ang-util.js","sources":["../../../../libs/ui-ang/util/animations.ts","../../../../libs/ui-ang/util/aria.ts","../../../../libs/ui-ang/util/backbase-docs.decorator.ts","../../../../libs/ui-ang/util/bem.ts","../../../../libs/ui-ang/util/key-codes.ts","../../../../libs/ui-ang/util/string.ts","../../../../libs/ui-ang/util/num-gen.ts","../../../../libs/ui-ang/util/backbase-ui-ang-util.ts"],"sourcesContent":["import {\n  trigger,\n  transition,\n  animate,\n  style,\n  animation,\n  useAnimation,\n  query,\n  group,\n  AnimationTriggerMetadata,\n  AnimationStyleMetadata,\n  AnimationAnimateRefMetadata,\n} from '@angular/animations';\n\nconst timing = '200ms ease-in';\nconst optional = { optional: true };\nconst distances = {\n  normalX: 'translateX(0%)',\n  right: 'translateX(100%)',\n  left: 'translateX(-100%)',\n  normalY: 'translateY(0%)',\n  bottom: 'translateY(100%)',\n};\nconst resetAnimatableView = {\n  position: 'absolute',\n  height: '100%',\n  width: '100%',\n  display: 'block',\n  top: 0,\n};\n\nexport function resetableTransform(from: string): AnimationStyleMetadata {\n  return style({\n    ...resetAnimatableView,\n    transform: from,\n  });\n}\n\nexport function slide2D(from: string, to: string): AnimationAnimateRefMetadata {\n  return useAnimation(animation([resetableTransform(from), animate(timing, style({ transform: to }))]));\n}\n\n// An example for slide up/down animation\nexport const slideUpAnimation: AnimationTriggerMetadata = trigger('slideUp', [\n  transition(':enter', [slide2D(distances.bottom, distances.normalY)]),\n  transition(':leave', [slide2D(distances.normalY, distances.bottom)]),\n]);\n\n// An example for slide left/right animation\nexport const slideXAnimation: AnimationTriggerMetadata = trigger('slideX', [\n  transition('void => isLeft', [slide2D(distances.right, distances.normalX)]),\n  transition('void => isRight', [slide2D(distances.left, distances.normalX)]),\n  transition('isRight => void', [slide2D(distances.normalX, distances.left)]),\n  transition('isLeft => void', [slide2D(distances.normalX, distances.right)]),\n]);\n\n// An example to animate tabs\nexport const tabsAnim: AnimationTriggerMetadata = trigger('tabsAnimation', [\n  // Previous, slide left to right to show left tab\n  transition(':decrement', [\n    // set new tab X location to be -100%\n    query(':enter', resetableTransform(distances.left)),\n\n    group([\n      // slide existing page from 0% to 100% to the right\n      query(':leave', animate(timing, resetableTransform(distances.right)), optional),\n      // slide new page from -100% to 0% to the right\n      query(\n        ':enter',\n        animate(\n          timing,\n          style({\n            opacity: 1,\n            transform: distances.normalX,\n          }),\n        ),\n        optional,\n      ),\n    ]),\n  ]),\n  // Next, slide right to left to show right page\n  transition(':increment', [\n    // set new page X location to be 100%\n    query(':enter', resetableTransform(distances.right)),\n\n    group([\n      // slide existing page from 0% to -100% to the left\n      query(':leave', animate(timing, resetableTransform(distances.left))),\n      // slide new page from 100% to 0% to the left\n      query(\n        ':enter',\n        animate(\n          timing,\n          style({\n            opacity: 1,\n            transform: distances.normalX,\n          }),\n        ),\n      ),\n    ]),\n  ]),\n]);\n\n// Used to animate bb-notification\nexport const fadeSlideAnimation: AnimationTriggerMetadata = trigger('fadeSlideInOut', [\n  transition(':enter', [\n    style({ opacity: 0, display: 'block', transform: 'translateY(-10px)' }),\n    animate(timing, style({ opacity: 1, transform: 'translateY(0)' })),\n  ]),\n  transition(':leave', [\n    style({ display: 'block' }),\n    animate(timing, style({ opacity: 0, transform: 'translateY(-10px)' })),\n  ]),\n]);\n\n// An example for fadi in/out animation\nexport const fadeInAnimation: AnimationTriggerMetadata = trigger('fadeIn', [\n  transition(':enter', [\n    style({\n      opacity: 0,\n    }),\n    animate(timing, style({ opacity: 1 })),\n  ]),\n  transition(':leave', [animate(timing, style({ opacity: 0 }))]),\n]);\n\n// An example to animate router\nexport const routerAnim: AnimationTriggerMetadata = trigger('routeAnimations', [\n  transition('* <=> *', [\n    style({ position: 'relative' }),\n    query(\n      ':enter, :leave',\n      [\n        style({\n          ...resetAnimatableView,\n          transform: 'translateY(-50px)',\n          opacity: 0,\n        }),\n      ],\n      optional,\n    ),\n    query(':enter', [animate(timing, style({ transform: distances.normalY, opacity: 1 }))], optional),\n  ]),\n]);\n\nexport const errorMessageAnimation = trigger('errorMessageAnimation', [\n  transition('void => *', [style({ opacity: 0, height: '0px' }), animate(150, style({ opacity: 1, height: '*' }))]),\n]);\n","/**\n * Convert a list of ID references for `aria-` attributes to an attribute value\n */\nexport const idListAttr = (...tokens: any[]): string | undefined =>\n  tokens.filter(Boolean).join(' ').trim() || undefined;\n","/**\n * Used to annotate an example component with documentation-related metadata.\n *\n * For now, only supports a simple boolean flag that signifies whether a component has been migrated\n * to Theme 2.0 or not.\n */\nexport function BackbaseDocs(docs: { isTheme2Stable: boolean }) {\n  return function (constructor: Function) {\n    constructor.prototype._backbaseDocs = {\n      isTheme2Stable: docs.isTheme2Stable,\n    };\n  };\n}\n","/**\n * Avoid any leading or trailing \"-\" characters, avoid adjacent dash characters\n */\nexport const escapeBemModifier = (str: string) => str.replace(/^[^a-z]+|[^a-z]+$/gi, '').replace(/[^a-z]+/gi, '-');\n\n/**\n * Safely create BEM modifier class names for a BEM block:\n *\n * Example usage:\n *\n *     const iconComponent = { size: 'extra small', animate: false };\n *     getBemModifiers('bb-icon', [\n *       () => iconComponent.size,\n *       () => iconComponent.animate ? 'animate' : undefined\n *     ]);\n *\n * The above will result in: \"bb-icon--extra-small\"\n */\nexport const getBemModifiers = (blockOrElement: string, modifierFunctions: Array<() => string>) =>\n  modifierFunctions\n    .map((fn) => fn())\n    .filter(Boolean)\n    .map(escapeBemModifier)\n    .map((modifier) => `${blockOrElement}--${modifier}`);\n","/* eslint-disable */\nexport enum KEY_CODES {\n  UP = 'ArrowUp',\n  DOWN = 'ArrowDown',\n  ENTER = 'Enter',\n  SPACE = ' ',\n  TAB = 'Tab',\n  BACKSPACE = 'Backspace',\n  DELETE = 'Delete',\n  ESCAPE = 'Escape',\n  X = 'x',\n  V = 'v',\n  LEFT = 'ArrowLeft',\n  RIGHT = 'ArrowRight',\n}\n\nexport const KEY_CODE_TO_CODE = {\n  9: KEY_CODES.TAB,\n  38: KEY_CODES.UP,\n  40: KEY_CODES.DOWN,\n  32: KEY_CODES.SPACE,\n  13: KEY_CODES.ENTER,\n  46: KEY_CODES.DELETE,\n  8: KEY_CODES.BACKSPACE,\n  27: KEY_CODES.ESCAPE,\n  88: KEY_CODES.X,\n  86: KEY_CODES.V,\n} as any;\n\nexport function browserIsMsie() {\n  return navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident/') > -1;\n}\n\nexport function getKeyCode(event: KeyboardEvent): KEY_CODES {\n  // NOTE: detect IE\n  if (browserIsMsie()) {\n    return KEY_CODE_TO_CODE[event.keyCode] as KEY_CODES;\n  }\n\n  return event.code as KEY_CODES;\n}\n","/**\n * @name segment\n * @inner\n * @param value - the string to segment\n * @param segmentsSize - the size (or array of sizes) the segments should have\n * @param separator - the character to separate the segments with\n *\n * @description\n * Split a string into segments of specified segmentsSize(s)\n */\nexport function segment(value: string, segmentsSize: number | number[] = 0, separator: string = ' '): string {\n  const segmentSizes = Array.isArray(segmentsSize) ? segmentsSize : [segmentsSize];\n  const segments = [];\n\n  for (let i = 0, chunk; i < value.length; i += chunk.length) {\n    chunk = value.slice(i, i + segmentSizes[segments.length % segmentSizes.length] || Infinity);\n    segments.push(chunk);\n  }\n\n  return segments.join(separator);\n}\n","let _id = 0;\n\nexport function getDynamicId() {\n  return `${_id++}`;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}