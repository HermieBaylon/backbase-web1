{"version":3,"file":"backbase-ui-ang-modal.js","sources":["../../../../libs/ui-ang/modal/modal-templates/modal-header.component.ts","../../../../libs/ui-ang/modal/modal-templates/modal-header.component.html","../../../../libs/ui-ang/modal/modal.component.ts","../../../../libs/ui-ang/modal/modal.component.html","../../../../libs/ui-ang/modal/modal-templates/modal-footer.component.ts","../../../../libs/ui-ang/modal/modal-templates/modal-footer.component.html","../../../../libs/ui-ang/modal/modal-templates/modal-body.component.ts","../../../../libs/ui-ang/modal/modal-templates/modal-body.component.html","../../../../libs/ui-ang/modal/modal.module.ts","../../../../libs/ui-ang/modal/backbase-ui-ang-modal.ts"],"sourcesContent":["import { Component, ContentChild, Directive, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\nimport { DomAttributesService } from '@backbase/ui-ang/services';\n\n@Directive({ selector: 'ng-template[bbCustomModalHeader]' })\nexport class CustomModalHeaderDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Component({\n  selector: 'bb-modal-header-ui',\n  templateUrl: './modal-header.component.html',\n})\nexport class ModalHeaderComponent implements OnInit {\n  @ContentChild(CustomModalHeaderDirective, { static: true }) customModalHeader: CustomModalHeaderDirective | undefined;\n\n  readonly hostRef: ModalHeaderComponent = this;\n  /**\n   * Title text for the modal header. Defaults to empty string.\n   */\n  @Input() title = '';\n  /**\n   * The event emitted when the modal header close button is clicked.\n   */\n  @Output() close = new EventEmitter();\n\n  showClose = false;\n\n  public readonly headerId = this.domAttrService.generateId();\n\n  constructor(private readonly domAttrService: DomAttributesService) {}\n\n  ngOnInit() {\n    this.showClose = this.close.observers.length > 0;\n  }\n\n  onClose() {\n    this.close.emit();\n  }\n}\n","<div class=\"modal-header\" [attr.id]=\"headerId\" [attr.data-role]=\"'modal-header'\">\n  <ng-container *ngIf=\"customModalHeader; else bbDefaultModalHeader\">\n    <ng-container *ngTemplateOutlet=\"customModalHeader?.templateRef; context: hostRef\"> </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #bbDefaultModalHeader>\n  <h3 class=\"modal-title\" [innerText]=\"title\"></h3>\n  <button *ngIf=\"showClose\" class=\"btn btn-unstyled\" (click)=\"onClose()\">\n    <i class=\"bicon bicon-clear bb-icon bb-icon--clear\" aria-hidden=\"true\"></i>\n  </button>\n</ng-template>\n","import {\n  AfterViewInit,\n  Component,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { ModalDismissReasons, NgbModal, NgbModalOptions, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { getKeyCode, KEY_CODES } from '@backbase/ui-ang/util';\nimport { DomAttributesService } from '@backbase/ui-ang/services';\nimport { ModalHeaderComponent } from './modal-templates/modal-header.component';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * @name ModalComponent\n *\n * @description\n * Component that displays a modal window.\n */\n@Component({\n  selector: 'bb-modal-ui',\n  templateUrl: './modal.component.html',\n})\nexport class ModalComponent implements OnChanges, OnDestroy {\n  constructor(\n    private readonly modalService: NgbModal,\n    private readonly renderer: Renderer2,\n    private readonly domAttrService: DomAttributesService,\n    private readonly depricatedService: DeprecationsService,\n    // cannot use type `Document` due to compilation issues caused by `strictMetadataEmit`\n    @Inject(DOCUMENT) private readonly document: any,\n  ) {}\n\n  private modalRef: NgbModalRef | undefined;\n  readonly id = this.domAttrService.generateId();\n  /**\n   * The flag to show the dialog window.  Defaults to 'false'.\n   */\n  @Input() isOpen = false;\n  /**\n   * Set aria-labelledby  with an element id that contains a brief label about the modal,\n   * By Default is takes the modal heading\n   */\n  @Input('aria-labelledby') ariaLabelledby: string | undefined;\n  /**\n   * Set aria-describedby  with an element id that contains a detailed decription about the modal\n   */\n  @Input('aria-describedby') ariaDescribedby: string | undefined;\n  /**\n   * Dialog options. Defaults to empty object.\n   */\n  @Input() modalOptions: NgbModalOptions = {};\n  /**\n   * The event that's fired after confirm button is pressed. Can be used with\n   * (click)=\"dialogRef.onConfirm()\" where dialogRef is a templateRef on <bb-dialog-ui #dialogRef />\n   */\n  @Output() confirm = new EventEmitter();\n  /**\n   * The event that's fired after cancel button is pressed. Can be used with\n   * (click)=\"dialogRef.onCancel()\" where dialogRef is a templateRef on <bb-dialog-ui #dialogRef />\n   */\n  @Output() cancel = new EventEmitter();\n  /**\n   * Used for two way binding with the isOpen Input. If used, backdrop\n   * and esc dismiss cases will be handled automatically.\n   */\n  @Output() isOpenChange = new EventEmitter();\n\n  @ViewChild('modalContent', { static: true }) modalContent: TemplateRef<any> | undefined;\n\n  @ContentChild(ModalHeaderComponent) modalHeader: ModalHeaderComponent | undefined;\n\n  private emitConfirm = true;\n\n  ngOnChanges(): void {\n    if (this.isOpen) {\n      this.setConfirm(true);\n      // needs to be inside setTimeout due to the\n      // https://github.com/angular/angular/issues/15634\n      setTimeout(() => {\n        const headerId = this.modalHeader ? this.modalHeader.headerId : '';\n        this.ariaLabelledby = this.ariaLabelledby || headerId;\n        this.modalOptions.ariaDescribedBy = this.ariaDescribedby\n          ? this.ariaDescribedby\n          : this.modalOptions.ariaDescribedBy;\n        this.modalOptions.ariaLabelledBy = this.ariaLabelledby ? this.ariaLabelledby : this.modalOptions.ariaLabelledBy;\n        this.modalRef = this.modalService.open(this.modalContent, this.modalOptions);\n        this.modalRef.result.then(\n          (result) => {\n            if (this.emitConfirm) {\n              this.confirm.emit(result);\n            }\n          },\n          (reason) => this.cancel.emit(this.getDismissReason(reason)),\n        );\n      }, 0);\n\n      // remove role=document from dialog, because we need have role=dialog, bootstrap accessibility bug\n      setTimeout(() => {\n        const modalContent = (this.document as Document).getElementsByClassName('modal-dialog');\n        const modal = (this.document as Document).getElementsByClassName('modal');\n        modalContent?.[0].removeAttribute('role');\n        modal?.[0].scrollTo(0, 0);\n      }, 0);\n    } else if (this.modalRef) {\n      this.setConfirm(false);\n      this.modalRef.close();\n    }\n  }\n\n  onElementViewInit(el: ElementRef<ModalHeaderComponent>) {\n    this.copyAriaAttrsToElement(el);\n  }\n\n  copyAriaAttrsToElement(el: ElementRef) {\n    this.depricatedService.logDeprecatedFeature('`copyAriaAttrsToElement` of `ModalComponent` is deprecated.');\n    const headerId = this.modalHeader ? this.modalHeader.headerId : '';\n\n    const dialogHostNativeElement = (this.modalRef as any)['_windowCmptRef'].instance._elRef.nativeElement;\n\n    if (headerId && !this.modalOptions.ariaLabelledBy) {\n      this.renderer.setAttribute(dialogHostNativeElement, 'aria-labelledby', headerId);\n    }\n\n    if (this.ariaDescribedby && !this.modalOptions.ariaDescribedBy) {\n      this.renderer.setAttribute(dialogHostNativeElement, 'aria-describedby', this.ariaDescribedby);\n    }\n  }\n\n  getDismissReason(reason: ModalDismissReasons | string): ModalDismissReasons | string {\n    this.isOpenChange.emit(false);\n\n    return reason;\n  }\n\n  dismissModal(reason?: string): void {\n    if (this.modalRef) this.modalRef.dismiss(reason);\n  }\n\n  closeModal(reason?: string): void {\n    if (this.modalRef) this.modalRef.close(reason);\n  }\n\n  setConfirm(flag: boolean): void {\n    this.emitConfirm = flag;\n  }\n\n  ngOnDestroy() {\n    this.closeModal();\n  }\n\n  trapKeyEvent(event: KeyboardEvent) {\n    if (getKeyCode(event) !== KEY_CODES.ESCAPE) {\n      event.stopPropagation();\n    }\n  }\n}\n\n@Directive({\n  selector: '[bbElementViewInit]',\n})\nexport class ElementViewInitDirective implements AfterViewInit {\n  @Output() bbElementViewInit = new EventEmitter<ElementRef>();\n\n  constructor(private readonly elem: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    this.bbElementViewInit.emit(this.elem);\n  }\n}\n","<ng-template #modalContent let-close=\"close\">\n  <div\n    class=\"modal-content-container\"\n    (keydown)=\"trapKeyEvent($event)\"\n    (keyup)=\"trapKeyEvent($event)\"\n    cdkTrapFocus\n    [cdkTrapFocusAutoCapture]=\"true\"\n    (bbElementViewInit)=\"onElementViewInit($event)\"\n  >\n    <ng-content></ng-content>\n  </div>\n</ng-template>\n","import { Component, ContentChild, Directive, EventEmitter, Input, Optional, Output, TemplateRef } from '@angular/core';\nimport { ModalComponent } from '../modal.component';\n\n@Directive({ selector: 'ng-template[bbCustomModalFooter]' })\nexport class CustomModalFooterDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Component({\n  selector: 'bb-modal-footer-ui',\n  templateUrl: './modal-footer.component.html',\n})\nexport class ModalFooterComponent {\n  @ContentChild(CustomModalFooterDirective, { static: true }) customModalFooter: CustomModalFooterDirective | undefined;\n\n  readonly hostRef: ModalFooterComponent = this;\n\n  constructor(@Optional() private readonly modal: ModalComponent) {}\n  /**\n   * The text of the confirm button.\n   */\n  @Input() confirmText: string | undefined;\n  /**\n   * The text of the cancel button.\n   */\n  @Input() cancelText: string | undefined;\n  /**\n   * The event that's fired after confirm button is pressed. Can be used with (click)=\"dialogRef.onConfirm()\"\n   * where dialogRef is a templateRef on <bb-dialog-ui #dialogRef />\n   */\n  @Output() confirm = new EventEmitter();\n  /**\n   * The event that's fired after cancel button is pressed. Can be used with (click)=\"dialogRef.onCancel()\"\n   * where dialogRef is a templateRef on <bb-dialog-ui #dialogRef />\n   */\n  @Output() cancel = new EventEmitter();\n\n  onCancel($event?: any) {\n    if (this.modal) {\n      this.modal.dismissModal($event);\n    } else {\n      this.cancel.emit($event);\n    }\n  }\n\n  onConfirm($event?: any) {\n    if (this.modal) {\n      this.modal.closeModal($event);\n    } else {\n      this.confirm.emit($event);\n    }\n  }\n}\n","<div class=\"modal-footer\" [attr.data-role]=\"'modal-footer'\">\n  <ng-container *ngIf=\"customModalFooter; else bbDefaultModalFooter\">\n    <ng-container *ngTemplateOutlet=\"customModalFooter?.templateRef; context: hostRef\"> </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #bbDefaultModalFooter>\n  <div class=\"bb-button-bar\">\n    <button\n      (click)=\"onConfirm()\"\n      class=\"bb-button-bar__button btn btn-primary btn-md\"\n      type=\"button\"\n      data-role=\"confirm\"\n    >\n      <ng-container\n        *ngIf=\"!confirmText\"\n        i18n=\"Accept|Agree with the message presented in the dialog @@bb-dialog-ui.yes\"\n      >\n        Confirm\n      </ng-container>\n      <ng-container *ngIf=\"confirmText\">{{ confirmText }}</ng-container>\n    </button>\n    <button\n      (click)=\"onCancel()\"\n      class=\"bb-button-bar__button btn btn-secondary btn-md\"\n      type=\"button\"\n      data-role=\"cancel\"\n    >\n      <ng-container\n        *ngIf=\"!cancelText\"\n        i18n=\"Reject|Do not agree with the message presented in the dialog @@bb-dialog-ui.no\"\n      >\n        Cancel\n      </ng-container>\n      <ng-container *ngIf=\"cancelText\">{{ cancelText }}</ng-container>\n    </button>\n  </div>\n</ng-template>\n","import { Component, ContentChild, TemplateRef, Directive } from '@angular/core';\n\n@Directive({ selector: 'ng-template[bbCustomModalBody]' })\nexport class CustomModalBodyDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Component({\n  selector: 'bb-modal-body-ui',\n  templateUrl: './modal-body.component.html',\n})\nexport class ModalBodyComponent {\n  @ContentChild(CustomModalBodyDirective, { static: true }) customModalBody: CustomModalBodyDirective | undefined;\n\n  readonly hostRef: ModalBodyComponent = this;\n}\n","<div class=\"modal-body\" [attr.data-role]=\"'modal-body'\">\n  <ng-container *ngIf=\"customModalBody; else bbDefaultModalBody\">\n    <ng-container *ngTemplateOutlet=\"customModalBody?.templateRef; context: hostRef\"> </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #bbDefaultModalBody> Custom Body </ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ElementViewInitDirective, ModalComponent } from './modal.component';\nimport { CustomModalFooterDirective, ModalFooterComponent } from './modal-templates/modal-footer.component';\nimport { CustomModalBodyDirective, ModalBodyComponent } from './modal-templates/modal-body.component';\nimport { CustomModalHeaderDirective, ModalHeaderComponent } from './modal-templates/modal-header.component';\n\nconst components = [\n  ModalComponent,\n  ModalFooterComponent,\n  CustomModalFooterDirective,\n  ModalBodyComponent,\n  CustomModalBodyDirective,\n  ModalHeaderComponent,\n  CustomModalHeaderDirective,\n];\n@NgModule({\n  imports: [CommonModule, NgbModalModule, A11yModule],\n  declarations: [...components, ElementViewInitDirective],\n  exports: [...components],\n})\nexport class ModalModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1.ModalComponent","i1"],"mappings":"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"}