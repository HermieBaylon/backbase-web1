{"version":3,"file":"backbase-ui-ang-focus.js","sources":["../../../../libs/ui-ang/focus/focus.service.ts","../../../../libs/ui-ang/focus/focus.directive.ts","../../../../libs/ui-ang/focus/focus.module.ts","../../../../libs/ui-ang/focus/backbase-ui-ang-focus.ts"],"sourcesContent":["import { ElementRef, Injectable, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { throttleTime } from 'rxjs/operators';\n\nconst isFocusable = (el: any): boolean => !!el && typeof el.focus === 'function';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FocusService implements OnDestroy {\n  private readonly focusSubject = new Subject<ElementRef<HTMLElement>>();\n  private readonly sub = this.focusSubject.pipe(throttleTime(0, undefined, { leading: true })).subscribe((focused) => {\n    if (isFocusable(focused.nativeElement)) {\n      focused.nativeElement.focus();\n    }\n  });\n\n  focus(el: ElementRef<HTMLElement>) {\n    this.focusSubject.next(el);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n}\n","import { AfterViewInit, Directive, ElementRef, Input } from '@angular/core';\nimport { FocusService } from './focus.service';\n\n@Directive({\n  selector: '[bbFocus]',\n  exportAs: 'bbFocus',\n})\nexport class FocusDirective implements AfterViewInit {\n  @Input()\n  set bbFocus(value: boolean | '') {\n    this.autofocus = value === '' || !!value;\n  }\n\n  private autofocus = true;\n\n  constructor(private readonly service: FocusService, private readonly el: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    if (this.autofocus) {\n      this.focus();\n    }\n  }\n\n  focus() {\n    this.service.focus(this.el);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FocusDirective } from './focus.directive';\nimport { FocusService } from './focus.service';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [FocusDirective],\n  providers: [FocusService],\n  exports: [FocusDirective],\n})\nexport class FocusModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1.FocusService"],"mappings":"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"}