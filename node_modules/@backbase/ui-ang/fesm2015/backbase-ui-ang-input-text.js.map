{"version":3,"file":"backbase-ui-ang-input-text.js","sources":["../../../../libs/ui-ang/input-text/input-text.component.ts","../../../../libs/ui-ang/input-text/input-text.component.html","../../../../libs/ui-ang/input-text/input-text.module.ts","../../../../libs/ui-ang/input-text/backbase-ui-ang-input-text.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { InputBaseComponent } from '@backbase/ui-ang/base-classes';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DomAttributesService } from '@backbase/ui-ang/services';\nimport { idListAttr } from '@backbase/ui-ang/util';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\n\n/**\n * @name InputTextComponent\n *\n * @a11y Current component provide option to pass needed accessibility\n * attributes. You need to take care of properties that are required in your case :\n *  - role\n *  - aria-activedescendant\n *  - aria-describedby\n *  - aria-expanded\n *  - aria-invalid\n *  - aria-label\n *  - aria-labelledby\n *  - aria-owns\n *\n * @description\n * Component that displays a text input.\n */\n@Component({\n  selector: 'bb-input-text-ui',\n  templateUrl: './input-text.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => InputTextComponent),\n      multi: true,\n    },\n  ],\n})\nexport class InputTextComponent extends InputBaseComponent implements AfterViewInit {\n  /**\n   * The placeholder for the text input. Defaults to an empty string;\n   */\n  @Input() placeholder = '';\n  /**\n   * The maxLength for the text input.\n   */\n  @Input() maxLength: number | undefined;\n  /**\n   * The minLength for the text input.\n   */\n  @Input() minLength: number | undefined;\n\n  @Input() autocomplete: string | undefined;\n\n  /**\n   * Whether the text input is readonly.\n   */\n\n  @Input() readonly = false;\n\n  /**\n   * ngx-mask related; default value imply no mask is used\n   */\n  @Input() mask = '';\n  /**\n   * ngx-mask related; default value imply validation is applied on mask pattern\n   */\n  @Input() maskValidator = true;\n\n  /**\n   * Shows character counter based on `maxLength`\n   */\n  @Input() showCharCounter = false;\n\n  @Output() valueChange: EventEmitter<any> = this._valueChange;\n\n  public charCounterId: string;\n\n  /**\n   * Utility function for use in template\n   */\n  public idListAttr = idListAttr;\n\n  @ViewChild('inputText') inputEl: ElementRef | undefined;\n  constructor(\n    private readonly domAttrService: DomAttributesService,\n    private readonly elem: ElementRef,\n    private readonly renderer2: Renderer2,\n    protected readonly cd: ChangeDetectorRef,\n    protected readonly deprecationsService: DeprecationsService,\n  ) {\n    super(cd, deprecationsService);\n    this.charCounterId = this.domAttrService.generateId();\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.ariaLabel) {\n      this.domAttrService.moveAriaAttributes(\n        this.elem.nativeElement,\n        this.inputEl && this.inputEl.nativeElement,\n        this.renderer2,\n      );\n    }\n  }\n\n  focusEditableElement() {\n    if (this.inputEl) {\n      this.inputEl.nativeElement.focus();\n    }\n  }\n}\n","<label *ngIf=\"label\" for=\"{{ id }}\" [attr.data-role]=\"'label'\">{{ label }}</label>\n<input\n  id=\"{{ id }}\"\n  #inputText\n  [attr.aria-autocomplete]=\"ariaAutocomplete\"\n  [attr.aria-controls]=\"ariaControls\"\n  [attr.aria-describedby]=\"idListAttr(ariaDescribedby, maxLength && showCharCounter ? charCounterId : null)\"\n  [attr.aria-labelledby]=\"ariaLabelledby || null\"\n  [attr.aria-expanded]=\"ariaExpanded\"\n  [attr.role]=\"role\"\n  [attr.aria-invalid]=\"ariaInvalid\"\n  [attr.aria-owns]=\"ariaOwns\"\n  [attr.aria-label]=\"(!label && ariaLabel) || null\"\n  [ngModel]=\"value\"\n  (ngModelChange)=\"onValueChange($event)\"\n  (blur)=\"onBlur($event)\"\n  type=\"text\"\n  class=\"form-control\"\n  (focus)=\"onFocus($event)\"\n  [mask]=\"mask\"\n  [validation]=\"maskValidator\"\n  [disabled]=\"disabled\"\n  [readOnly]=\"readonly\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [attr.size]=\"size\"\n  [attr.maxlength]=\"maxLength\"\n  [attr.minlength]=\"minLength\"\n  [attr.autocomplete]=\"autocomplete\"\n  [bbFocus]=\"autofocus\"\n  [ngClass]=\"inputClassName\"\n  [attr.data-role]=\"'input'\"\n/>\n<bb-char-counter-ui\n  [attr.id]=\"charCounterId\"\n  *ngIf=\"maxLength && showCharCounter\"\n  [element]=\"inputText\"\n  [inputValue]=\"value\"\n  [maxLength]=\"maxLength\"\n  [attr.data-role]=\"'text-input-char-counter'\"\n>\n</bb-char-counter-ui>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { FormsModule } from '@angular/forms';\nimport { BaseClassesModule } from '@backbase/ui-ang/base-classes';\nimport { CharCounterModule } from '@backbase/ui-ang/char-counter';\n\nimport { InputTextComponent } from './input-text.component';\nimport { FocusModule } from '@backbase/ui-ang/focus';\nimport { NgxMaskModule } from 'ngx-mask';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IconModule,\n    FormsModule,\n    BaseClassesModule,\n    FocusModule,\n    CharCounterModule,\n    NgxMaskModule.forRoot(),\n  ],\n  declarations: [InputTextComponent],\n  exports: [InputTextComponent],\n})\nexport class InputTextModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}