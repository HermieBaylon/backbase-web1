{"version":3,"file":"backbase-ui-ang-alert.umd.js","sources":["../../../../libs/ui-ang/alert/alert.component.ts","../../../../libs/ui-ang/alert/alert.component.html","../../../../libs/ui-ang/alert/alert.module.ts","../../../../libs/ui-ang/alert/backbase-ui-ang-alert.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { DomAttributesService } from '@backbase/ui-ang/services';\n\nexport type AlertType = 'warning' | 'error' | 'success' | 'info';\n\ninterface AlertOptions {\n  warning: string;\n  error: string;\n  success: string;\n  info: string;\n\n  [key: string]: string;\n}\n\n/**\n * @name AlertComponent\n *\n * @description\n * Component that displays an alert.\n *\n * @a11y For Alert component it's not required to pass any options for accessibility.\n * It internally handles accessibility for title and message:\n *  - title is linked with aria-labelledby.\n *  - message is linked with aria-describedby.\n */\n@Component({\n  selector: 'bb-alert-ui',\n  templateUrl: './alert.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AlertComponent implements OnInit, AfterViewInit {\n  /**\n   * The type modifier for the alert. Defaults to 'error'.\n   */\n  @Input() modifier: AlertType = 'error';\n  /**\n   * Whether the alert can be dismissed. Defaults to false.\n   */\n  @Input() dismissible = false;\n  /**\n   * The title of the alert.\n   * Will throw an error if unset.\n   * It is internaly linked with aria-labelledby.\n   */\n  @Input() title: string | undefined;\n  /**\n   * The message of the alert.\n   * If nothing provided, wouldn't be displayed.\n   * It is internally linked with aria-describedby.\n   */\n  @Input() message: string | undefined;\n  /**\n   * The callback fired upon closing the alert.\n   */\n  @Output() close = new EventEmitter<void>();\n\n  /**\n   * @deprecated\n   * (August 2019)\n   * <ng-content> is deprecated and should not be used anymore. Instead of it please use [message] property\n   */\n  @ViewChild('content', { static: true }) content: ElementRef | undefined;\n  @ViewChild('contentWrapper') contentWrapper!: ElementRef;\n\n  private readonly bootstrapTypes: AlertOptions = {\n    warning: 'warning',\n    error: 'danger',\n    success: 'success',\n    info: 'info',\n  };\n\n  readonly alertTitleId = this.domAttrService.generateId();\n  alertDescriptionId: string | null = this.domAttrService.generateId();\n\n  isOpen = true;\n  isContentProvided = true;\n\n  constructor(\n    private readonly domAttrService: DomAttributesService,\n    private readonly changeDetector: ChangeDetectorRef,\n  ) {}\n\n  ngOnInit() {\n    if (typeof this.title === 'undefined') {\n      throw new Error(`\"title\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this.message) {\n      this.isContentProvided = Boolean(this.contentWrapper?.nativeElement.innerText);\n      if (!this.isContentProvided) {\n        this.alertDescriptionId = null;\n        this.changeDetector.detectChanges();\n      }\n    } else {\n      this.isContentProvided = false;\n    }\n  }\n\n  getAlertType(): string {\n    return this.bootstrapTypes[this.modifier];\n  }\n\n  closeAlert() {\n    this.close.emit();\n  }\n}\n","<ngb-alert\n  [attr.aria-describedby]=\"alertDescriptionId\"\n  [attr.aria-labelledby]=\"alertTitleId\"\n  [attr.role]=\"dismissible ? 'alertdialog' : 'alert'\"\n  [attr.aria-live]=\"'assertive'\"\n  [dismissible]=\"dismissible\"\n  [type]=\"getAlertType()\"\n  (close)=\"isOpen = false\"\n  *ngIf=\"isOpen\"\n  (closed)=\"closeAlert()\"\n>\n  <div class=\"alert-body\">\n    <bb-icon-ui\n      class=\"alert-icon\"\n      [name]=\"modifier\"\n      [color]=\"getAlertType()\"\n      [attr.data-role]=\"'alert-icon'\"\n    ></bb-icon-ui>\n    <div class=\"alert-content\">\n      <strong\n        [class.alert-heading]=\"title\"\n        [id]=\"alertTitleId\"\n        role=\"heading\"\n        aria-level=\"2\"\n        [attr.data-role]=\"'alert-title'\"\n        >{{ title }}</strong\n      >\n      <div\n        *ngIf=\"message; else content\"\n        class=\"alert-description\"\n        [id]=\"alertDescriptionId\"\n        [attr.data-role]=\"'alert-message'\"\n      >\n        {{ message }}\n      </div>\n    </div>\n  </div>\n</ngb-alert>\n\n<ng-template #content>\n  <div *ngIf=\"isContentProvided\" #contentWrapper [attr.data-role]=\"'alert-content'\" [id]=\"alertDescriptionId\">\n    <ng-content></ng-content>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { AlertComponent } from './alert.component';\n\n@NgModule({\n  imports: [CommonModule, NgbAlertModule, IconModule],\n  declarations: [AlertComponent],\n  exports: [AlertComponent],\n})\nexport class AlertModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","i1","i0","i2","i3","i4","Component","ChangeDetectionStrategy","Input","Output","ViewChild","CommonModule","NgbAlertModule","IconModule","NgModule"],"mappings":"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"}