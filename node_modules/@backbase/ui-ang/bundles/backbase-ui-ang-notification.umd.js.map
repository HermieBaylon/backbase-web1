{"version":3,"file":"backbase-ui-ang-notification.umd.js","sources":["../../../../libs/ui-ang/notification/append-to-dom.service.ts","../../../../libs/ui-ang/notification/notification.config.ts","../../../../libs/ui-ang/notification/notification.component.ts","../../../../libs/ui-ang/notification/notification.component.html","../../../../libs/ui-ang/notification/notification.service.ts","../../../../libs/ui-ang/notification/notification.module.ts","../../../../libs/ui-ang/notification/backbase-ui-ang-notification.ts"],"sourcesContent":["import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Injectable,\n  Injector,\n  Type,\n} from '@angular/core';\nimport { NotificationComponent } from './notification.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AppendToDomService {\n  constructor(\n    private readonly componentFactoryResolver: ComponentFactoryResolver,\n    private readonly appRef: ApplicationRef,\n    private readonly injector: Injector,\n  ) {}\n\n  appendComponentToRoot(\n    component: Type<NotificationComponent>,\n    autofocus = true,\n    projectables: any[] = [],\n    root: Node = document.body,\n  ): {\n    componentInstance: any;\n    unmountComponent: () => void;\n  } {\n    // 1. Create a component reference from the component\n    const componentRef = this.componentFactoryResolver\n      .resolveComponentFactory(component)\n      .create(this.injector, [projectables]);\n\n    // 2. Attach component to the appRef so that it's inside the ng component tree\n    this.appRef.attachView(componentRef.hostView);\n\n    // 3. Get DOM element from component\n    const domElem = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n\n    // 4. Append notification list if missing\n    const listElement = this.generateListElement(root);\n\n    // 5. Add item class\n    domElem.setAttribute('class', 'bb-notification-list__item');\n\n    // 6. Set role='status' if autofocus is set to true and role='alert' if autofocus is set to false\n    if (autofocus) {\n      domElem?.firstElementChild?.setAttribute('role', 'status');\n    } else {\n      componentRef.instance.autofocus = false;\n      // For Firefox and NVDA role should be set to list element\n      if (navigator.userAgent.indexOf('Firefox') > -1) {\n        listElement.setAttribute('role', 'alert');\n      } else {\n        domElem?.firstElementChild?.setAttribute('role', 'alert');\n      }\n    }\n\n    // 7. Append new element to list of elements and push old ones down.\n    if (listElement) {\n      listElement.insertBefore(domElem, listElement.firstChild);\n    }\n\n    return {\n      componentInstance: componentRef.instance,\n      unmountComponent: () => {\n        this.destroyElement(componentRef);\n      },\n    };\n  }\n\n  private generateListElement(root: Node): Element {\n    let listElement = document.getElementsByClassName('bb-notification-list')[0];\n    if (!listElement) {\n      listElement = document.createElement('div');\n      listElement.setAttribute('class', 'bb-notification-list');\n      root.appendChild(listElement);\n    }\n\n    return listElement;\n  }\n\n  /*\n    This method is a hack to make notifications visible to screen readers\n    (NVDA and VoiceOver) when a modal window (role=\"dialog\") is opened.\n    aria-label=\"polite\" on the list element and role=\"status\" with\n    aria-atomic=\"true\" on notification element don't resolve the issue.\n    Any better ideas are welcome.\n   */\n  private checkAndDestroyListElement() {\n    const listElement = document.getElementsByClassName('bb-notification-list')[0];\n    // don't remove list element if there are any remaining notifications\n    if (!listElement || listElement.childElementCount > 0) {\n      return;\n    }\n    listElement.remove();\n  }\n\n  private destroyElement(componentRef: ComponentRef<any>) {\n    componentRef.instance.beforeDestroy();\n    this.appRef.detachView(componentRef.hostView);\n    componentRef.destroy();\n    // is required to make notifications visible to screen readers when any modal window is opened\n    this.checkAndDestroyListElement();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n/**\n * A configuration service for the [NotificationComponent] component.\n *\n * You can inject this service, typically in your root component, and customize its properties\n * to provide default values for all alerts used in the application.\n */\n@Injectable({ providedIn: 'root' })\nexport class BBNotificationConfig {\n  animation = true;\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { getBemModifiers, fadeSlideAnimation } from '@backbase/ui-ang/util';\nimport { BBNotificationConfig } from './notification.config';\n\nexport type NotificationType = 'success' | 'info' | 'warning' | 'error' | 'alert';\n\n/**\n * @name NotificationComponent\n *\n * @description\n * Component that displays a notification.\n */\n// @dynamic to suppress error with resolving Document type during compilation\n@Component({\n  selector: 'bb-notification-ui',\n  templateUrl: './notification.component.html',\n  animations: [fadeSlideAnimation],\n})\nexport class NotificationComponent implements OnInit, AfterViewInit {\n  /**\n   * The header for the notification.\n   */\n  @Input() header: TemplateRef<any> | string | undefined;\n  /**\n   * The message template for the notification. Defaults to an empty string\n   */\n  @Input() message: TemplateRef<any> | string = '';\n  /**\n   * The primary action template for the notification.\n   */\n  @Input() primaryActionTemplate: TemplateRef<any> | undefined;\n  /**\n   * The secondary action template for the notification.\n   */\n  @Input() secondaryActionTemplate: TemplateRef<any> | undefined;\n  /**\n   * The type modifier for the notification. Defaults to 'info'\n   *\n   * This property will be used to add additional class names to the wrapper div of the notification\n   * in the following format: `bb-notification--<<modifier>>`\n   *\n   */\n  @Input() modifier: NotificationType = 'info';\n  /**\n   * Whether the notification is dismissible. Defaults to `true`.\n   *\n   *\n   * If `true` then an additional class name is added to the wrapper div of the notification in the following format\n   * `bb-notification--dismissible`\n   */\n  @Input() dismissible = true;\n  /**\n   * The text for the primary action button.\n   * Will throw an error if unset and primary action set.\n   */\n  @Input() primaryActionText: string | undefined;\n  /**\n   * A callback function for the primary action. Required to show the button.\n   */\n  @Input() primaryAction: Function | undefined;\n  /**\n   * The text for the secondary action button.\n   * Will throw an error if unset and secondary action set.\n   */\n  @Input() secondaryActionText: string | undefined;\n  /**\n   * A callback function for the secondary action. Required to show the button.\n   */\n  @Input() secondaryAction: Function | undefined;\n  /**\n   * The callback function for the manually close event.\n   */\n  @Input() closeAction: Function | undefined = undefined;\n  /**\n   * The callback function for the host click event.\n   */\n  @Input() hostAction: Function | undefined = undefined;\n  /**\n   * The context for notification header template.\n   */\n  @Input() headerContext: any;\n  /**\n   * The context for notification message template.\n   */\n  @Input() messageContext: any;\n  /**\n   * If `true`, notification opening and closing will be animated.\n   * Animation is triggered only when the `.hide()` or `.show()` functions are called\n   */\n  @Input() animation: boolean;\n  /**\n   * Notification manually close event stream.\n   */\n  @Output() close = new EventEmitter();\n  @ViewChild('notificationContent') notificationContent!: ElementRef;\n  @ViewChild('defaultNotificationHeaderTemplate', { static: true }) defaultHeaderTemplate: TemplateRef<any> | undefined;\n  @ViewChild('defaultNotificationMessageTemplate', { static: true }) defaultMessageTemplate:\n    | TemplateRef<any>\n    | undefined;\n  @ViewChild('defaultPrimaryActionsTemplate', { static: true }) defaultPrimaryActionsTemplate:\n    | TemplateRef<any>\n    | undefined;\n  @ViewChild('defaultSecondaryActionsTemplate', { static: true }) defaultSecondaryActionsTemplate:\n    | TemplateRef<any>\n    | undefined;\n\n  /**\n   * Notification icon color.\n   */\n  iconColor: string | undefined;\n\n  /**\n   * Autofocus will cause the component to be focused on the first rendering.\n   */\n  autofocus = true;\n\n  /**\n   * Element that focused before notification is open, for back focus when notification is closed.\n   */\n  previousFocusedElement!: HTMLElement;\n\n  protected bemBlock = 'bb-notification';\n  protected bemModifiers = [() => (this.dismissible ? 'dismissible' : ''), () => this.modifier];\n\n  get dynamicClassNames() {\n    return getBemModifiers(this.bemBlock, this.bemModifiers);\n  }\n\n  @HostBinding('@.disabled') get noAnimation() {\n    return !this.animation;\n  }\n\n  @HostBinding('@fadeSlideInOut') get animated() {\n    return this.animation;\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  onKeyEvent(event: KeyboardEvent) {\n    switch (event.key) {\n      case 'Escape':\n        this.onNotificationClose();\n        break;\n      default:\n        return;\n    }\n    event.preventDefault();\n  }\n\n  constructor(@Inject(DOCUMENT) private document: Document, private elem: ElementRef, config: BBNotificationConfig) {\n    this.animation = config.animation;\n  }\n\n  ngOnInit() {\n    if (this.hasPrimaryAction() && typeof this.primaryActionText === 'undefined') {\n      throw new Error(\n        `\"primaryActionText\" input is required when a primaryAction is set in \"${this.constructor.name}\"`,\n      );\n    }\n    if (this.hasSecondaryAction() && typeof this.secondaryActionText === 'undefined') {\n      throw new Error(\n        `\"secondaryActionText\" input is required when a secondaryAction is set in \"${this.constructor.name}\"`,\n      );\n    }\n    this.iconColor = this.modifier === 'error' ? 'danger' : this.modifier;\n  }\n\n  ngAfterViewInit(): void {\n    if (document.activeElement instanceof HTMLElement) {\n      this.previousFocusedElement = document.activeElement;\n    }\n  }\n\n  get hostTabIndex() {\n    return this.hostAction ? 0 : -1;\n  }\n\n  onNotificationClick() {\n    if (this.hostAction) {\n      this.hostAction();\n      this.close.emit();\n    }\n  }\n\n  onNotificationClose() {\n    if (this.closeAction) {\n      this.closeAction();\n    }\n    this.close.emit();\n  }\n\n  beforeDestroy() {\n    const notificationList = this.document.querySelector('.bb-notification-list');\n    const isNotificationListFocused = notificationList && notificationList.contains(this.document.activeElement);\n\n    if (notificationList && isNotificationListFocused) {\n      const notificationBtns = notificationList.querySelectorAll<HTMLElement>('.bb-notification__close');\n\n      const currentIndex = Array.from(notificationList.children).findIndex(\n        (listElement) => listElement === this.elem.nativeElement,\n      );\n\n      const nextElementToFocus =\n        notificationBtns[currentIndex + 1] || notificationBtns[currentIndex - 1] || this.previousFocusedElement;\n\n      if (nextElementToFocus) {\n        nextElementToFocus.focus();\n      }\n    }\n  }\n\n  onPrimaryPress() {\n    if (this.primaryAction) {\n      this.primaryAction();\n      this.onNotificationClose();\n    }\n  }\n\n  onSecondaryPress() {\n    if (this.secondaryAction) {\n      this.secondaryAction();\n      this.onNotificationClose();\n    }\n  }\n\n  getHeaderTemplate(): TemplateRef<any> | undefined {\n    if (this.header instanceof TemplateRef) {\n      return this.header;\n    }\n\n    return this.defaultHeaderTemplate;\n  }\n\n  getMessageTemplate(): TemplateRef<any> | undefined {\n    if (this.message instanceof TemplateRef) {\n      return this.message;\n    }\n\n    return this.defaultMessageTemplate;\n  }\n\n  hasButtonRow(): boolean {\n    return this.hasPrimaryAction() || this.hasSecondaryAction();\n  }\n\n  hasPrimaryAction(): boolean {\n    return this.primaryAction !== undefined;\n  }\n\n  hasSecondaryAction(): boolean {\n    return this.secondaryAction !== undefined;\n  }\n}\n","<div\n  class=\"bb-notification\"\n  [ngClass]=\"dynamicClassNames\"\n  data-role=\"notification-alert\"\n  #notificationContent\n  [bbFocus]=\"autofocus\"\n  [attr.tabindex]=\"hostTabIndex\"\n  (bbKeyboardClick)=\"onNotificationClick()\"\n>\n  <bb-icon-ui\n    [name]=\"modifier\"\n    [color]=\"iconColor\"\n    class=\"bb-notification__icon\"\n    [attr.data-role]=\"'notification-icon'\"\n  ></bb-icon-ui>\n  <div class=\"bb-notification__body\">\n    <div class=\"bb-notification__title\" data-role=\"notification-heading\">\n      <ng-container *ngTemplateOutlet=\"getHeaderTemplate(); context: headerContext\"></ng-container>\n    </div>\n    <div data-role=\"notification-message\" class=\"bb-text-support\">\n      <ng-container *ngTemplateOutlet=\"getMessageTemplate(); context: messageContext\"></ng-container>\n    </div>\n    <div\n      data-role=\"notification-actions\"\n      *ngIf=\"primaryActionTemplate || primaryActionText || secondaryActionTemplate || secondaryActionText\"\n    >\n      <div class=\"bb-button-bar\">\n        <button\n          *ngIf=\"hasPrimaryAction()\"\n          bbButton\n          type=\"button\"\n          data-role=\"notification-primary-button\"\n          class=\"bb-button-bar__button\"\n          (click)=\"onPrimaryPress()\"\n        >\n          <ng-container *ngIf=\"primaryActionTemplate; else defaultPrimaryActionsTemplate\">\n            <ng-container *ngTemplateOutlet=\"primaryActionTemplate; context: this\"></ng-container>\n          </ng-container>\n        </button>\n        <button\n          bbButton\n          color=\"secondary\"\n          *ngIf=\"hasSecondaryAction()\"\n          data-role=\"notification-secondary-button\"\n          class=\"bb-button-bar__button\"\n          (click)=\"onSecondaryPress()\"\n        >\n          <ng-container *ngIf=\"secondaryActionTemplate; else defaultSecondaryActionsTemplate\">\n            <ng-container *ngTemplateOutlet=\"secondaryActionTemplate; context: this\"></ng-container>\n          </ng-container>\n        </button>\n      </div>\n    </div>\n  </div>\n  <button\n    *ngIf=\"dismissible\"\n    (click)=\"onNotificationClose()\"\n    type=\"button\"\n    data-role=\"notification-close-button\"\n    class=\"bb-notification__close close\"\n    aria-label=\"Close\"\n    i18n-aria-label=\"Close notification button| Text for the close notification button @@bb-notification-ui.close\"\n  >\n    <bb-icon-ui name=\"times\"></bb-icon-ui>\n  </button>\n</div>\n\n<ng-template #defaultNotificationHeaderTemplate>\n  <div [ngClass]=\"{ 'bb-block bb-block--sm': !!header }\">\n    {{ header }}\n  </div>\n</ng-template>\n\n<ng-template #defaultNotificationMessageTemplate>\n  {{ message }}\n</ng-template>\n\n<ng-template #defaultPrimaryActionsTemplate>\n  {{ primaryActionText }}\n</ng-template>\n\n<ng-template #defaultSecondaryActionsTemplate>\n  {{ secondaryActionText }}\n</ng-template>\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { NotificationComponent, NotificationType } from './notification.component';\nimport { AppendToDomService } from './append-to-dom.service';\nimport { Subject, Observable } from 'rxjs';\nimport { first } from 'rxjs/operators';\n\nexport interface Notification {\n  /**\n   * The header for the notification.\n   */\n  header?: string | TemplateRef<any>;\n  /**\n   * The message template for the notification. Defaults to an empty string\n   */\n  message: string | TemplateRef<any>;\n  /**\n   * The type modifier for the notification. Defaults to 'info'\n   */\n  modifier?: NotificationType;\n  /**\n   * Whether the notification is dismissible. Defaults to true\n   */\n  dismissible?: boolean;\n  /**\n   * The time the notification will appear for in ms.\n   * 0 will result in the notifaction remaining open.\n   */\n  ttl?: number;\n  /**\n   * The text for the primary action button.\n   * Will throw an error if unset and primary action set.\n   */\n  primaryActionText?: string;\n  /**\n   * A callback function for the primary action.\n   * Required to show the button.\n   */\n  primaryAction?: Function;\n  /**\n   * The text for the secondary action button.\n   * Will throw an error if unset and secondary action set.\n   */\n  secondaryActionText?: string;\n  /**\n   * A callback function for the secondary action.\n   * Required to show the button.\n   */\n  secondaryAction?: Function;\n  /**\n   * A callback function for the manually close action.\n   */\n  closeAction?: Function;\n  /**\n   * A callback function for the host click action.\n   */\n  hostAction?: Function;\n  /**\n   * The context for notification header template.\n   */\n  headerContext?: any;\n  /**\n   * The context for notification message template.\n   */\n  messageContext?: any;\n  /**\n   * The primary action template for the notification.\n   */\n  primaryActionTemplate?: TemplateRef<any>;\n  /**\n   * The secondary action template for the notification.\n   */\n  secondaryActionTemplate?: TemplateRef<any>;\n  /**\n   * Autofocus will cause the component to be focused on the first rendering.\n   */\n  autofocus?: boolean;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NotificationService {\n  constructor(private readonly appendtoDomService: AppendToDomService) {}\n\n  showNotification({\n    header,\n    message,\n    dismissible = true,\n    ttl = 3000,\n    modifier = 'info',\n    headerContext = {},\n    messageContext = {},\n    primaryActionText,\n    primaryAction,\n    secondaryActionText,\n    secondaryAction,\n    closeAction,\n    hostAction,\n    primaryActionTemplate,\n    secondaryActionTemplate,\n    autofocus = true,\n  }: Notification): () => void {\n    const res = this.appendtoDomService.appendComponentToRoot(NotificationComponent, autofocus);\n\n    const componentInstance = res.componentInstance as NotificationComponent;\n    componentInstance.message = message;\n    componentInstance.modifier = modifier;\n    componentInstance.dismissible = dismissible;\n    componentInstance.header = header;\n    componentInstance.primaryActionText = primaryActionText;\n    componentInstance.primaryAction = primaryAction;\n    componentInstance.secondaryActionText = secondaryActionText;\n    componentInstance.secondaryAction = secondaryAction;\n    componentInstance.closeAction = closeAction;\n    componentInstance.hostAction = hostAction;\n    componentInstance.headerContext = headerContext;\n    componentInstance.messageContext = messageContext;\n    componentInstance.primaryActionTemplate = primaryActionTemplate;\n    componentInstance.secondaryActionTemplate = secondaryActionTemplate;\n\n    return this.createHideNotificationFunction(res.unmountComponent, ttl, componentInstance.close);\n  }\n\n  private createHideNotificationFunction(\n    hideFn: () => void,\n    ttl: number = 0,\n    closeStream: Observable<any>,\n  ): () => void {\n    const hideSubject = new Subject<any>();\n    const hideNotification = () => {\n      hideSubject.next();\n    };\n    const closeSubscription = closeStream.subscribe(hideNotification);\n\n    const hideSubscription = hideSubject.pipe(first()).subscribe(() => {\n      hideFn();\n      hideSubscription.unsubscribe();\n      closeSubscription.unsubscribe();\n    });\n\n    if (ttl > 0) {\n      setTimeout(hideNotification, ttl);\n    }\n\n    return hideNotification;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { IconModule } from '@backbase/ui-ang/icon';\n\nimport { NotificationComponent } from './notification.component';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { KeyboardClickModule } from '@backbase/ui-ang/keyboard-click-directive';\nimport { FocusModule } from '@backbase/ui-ang/focus';\n\n@NgModule({\n  imports: [CommonModule, NgbAlertModule, IconModule, ButtonModule, KeyboardClickModule, FocusModule],\n  declarations: [NotificationComponent],\n  exports: [NotificationComponent],\n  entryComponents: [NotificationComponent],\n})\nexport class NotificationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i0","Injectable","EventEmitter","getBemModifiers","TemplateRef","DOCUMENT","i1.BBNotificationConfig","i2","i3","i4","i5","i6","fadeSlideAnimation","Component","Inject","Input","Output","ViewChild","HostBinding","HostListener","Subject","first","i1.AppendToDomService","CommonModule","NgbAlertModule","IconModule","ButtonModule","KeyboardClickModule","FocusModule","NgModule"],"mappings":"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"}