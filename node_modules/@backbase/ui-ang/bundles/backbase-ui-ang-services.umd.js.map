{"version":3,"file":"backbase-ui-ang-services.umd.js","sources":["../../../../libs/ui-ang/services/browser.service.ts","../../../../libs/ui-ang/services/dom-attributes.service.ts","../../../../libs/ui-ang/services/backbase-ui-ang-services.ts"],"sourcesContent":["import { Inject, Injectable, InjectionToken } from '@angular/core';\n\nexport function navigatorFactory(): Navigator {\n  return navigator;\n}\n\nexport const NAVIGATOR_TOKEN = new InjectionToken<Navigator>('Navigator object');\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class BrowserService {\n  // 'any' due to issue https://github.com/angular/angular/issues/15640\n  constructor(@Inject(NAVIGATOR_TOKEN) private readonly navigator: any) {}\n\n  browserIsMSIE(): boolean {\n    return this.navigator.userAgent.indexOf('MSIE') > -1 || this.navigator.userAgent.indexOf('Trident/') > -1;\n  }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\n/**\n * Utility service for DOM manipulations\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class DomAttributesService {\n  private idPrefix = 'bb_element_';\n  private nextId = 0;\n\n  public generateId() {\n    return `${this.idPrefix}${this.nextId++}`;\n  }\n\n  moveAriaAttributes(hostEl: HTMLElement, childEl: HTMLElement, renderer2: Renderer2) {\n    const nodeMap: NamedNodeMap = hostEl.attributes;\n    // CUT every aria attribute from the host element and PASTE it into the specified element\n    Object.keys(nodeMap)\n      .map((key: string) => nodeMap.item(Number(key)))\n      .filter((item) => item && (item.name.startsWith('aria-') || item.name.toLowerCase() === 'arialabel'))\n      .forEach((item) => {\n        const { name: attrName, value: attrVal } = item as Attr;\n        if (attrName.toLowerCase() === 'arialabel') {\n          renderer2.setAttribute(childEl, 'aria-label', attrVal);\n        } else {\n          renderer2.setAttribute(childEl, attrName, attrVal);\n        }\n        renderer2.removeAttribute(hostEl, attrName);\n      });\n  }\n\n  copyAriaAttributes(hostEl: HTMLElement, childEl: ElementRef<any>, renderer2: Renderer2) {\n    const nodeMap: NamedNodeMap = hostEl.attributes;\n    Object.keys(nodeMap)\n      .map((key: string) => nodeMap.item(Number(key)))\n      .filter((item) => item && item.name.startsWith('aria-'))\n      .forEach((item) => item && renderer2.setAttribute(childEl, item.name, item.value));\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["InjectionToken","i0","Injectable","Inject"],"mappings":"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"}