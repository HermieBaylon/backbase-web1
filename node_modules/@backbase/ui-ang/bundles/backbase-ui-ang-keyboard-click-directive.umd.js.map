{"version":3,"file":"backbase-ui-ang-keyboard-click-directive.umd.js","sources":["../../../../libs/ui-ang/keyboard-click-directive/keyboard-click.directive.ts","../../../../libs/ui-ang/keyboard-click-directive/keyboard-click.module.ts","../../../../libs/ui-ang/keyboard-click-directive/backbase-ui-ang-keyboard-click-directive.ts"],"sourcesContent":["import { Directive, ElementRef, EventEmitter, HostListener, OnDestroy, Output } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { throttleTime, takeUntil } from 'rxjs/operators';\n\n/**\n * @name KeyboardClickDirective\n *\n * @description\n * Directive that add click/keydown.enter/keydown.space events on element\n * Used for adding accessibility(tab navigation events) for element\n */\n@Directive({\n  selector: '[bbKeyboardClick]',\n})\nexport class KeyboardClickDirective implements OnDestroy {\n  /**\n   * Stream that should be fired on click/keydown.enter/keydown.space\n   */\n  @Output() bbKeyboardClick = new EventEmitter<Event>();\n\n  private readonly emit$ = new Subject<Event>();\n  private readonly gc$ = new Subject<void>();\n  constructor(private readonly elem: ElementRef<HTMLElement>) {\n    // Fix for frequent keydown event generation for spacebar in FF and IE\n    this.emit$.pipe(throttleTime(100), takeUntil(this.gc$)).subscribe(this.bbKeyboardClick);\n  }\n\n  @HostListener('keydown.enter', ['$event'])\n  @HostListener('keydown.space', ['$event'])\n  onActionKeyPressed($event: KeyboardEvent) {\n    // Check if the selected element is the current element itself and not its nested selectable children\n    if (this.elem.nativeElement !== $event.target) {\n      return;\n    }\n    this.emit$.next($event);\n  }\n\n  @HostListener('click', ['$event'])\n  onClicked($event: MouseEvent) {\n    this.emit$.next($event);\n  }\n\n  ngOnDestroy() {\n    this.gc$.next();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { KeyboardClickDirective } from './keyboard-click.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [KeyboardClickDirective],\n  exports: [KeyboardClickDirective],\n})\nexport class KeyboardClickModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","Subject","throttleTime","takeUntil","i0","Directive","Output","HostListener","CommonModule","NgModule"],"mappings":"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"}