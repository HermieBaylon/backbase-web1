{"version":3,"file":"backbase-ui-ang-focus.umd.js","sources":["../../../../libs/ui-ang/focus/focus.service.ts","../../../../libs/ui-ang/focus/focus.directive.ts","../../../../libs/ui-ang/focus/focus.module.ts","../../../../libs/ui-ang/focus/backbase-ui-ang-focus.ts"],"sourcesContent":["import { ElementRef, Injectable, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { throttleTime } from 'rxjs/operators';\n\nconst isFocusable = (el: any): boolean => !!el && typeof el.focus === 'function';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FocusService implements OnDestroy {\n  private readonly focusSubject = new Subject<ElementRef<HTMLElement>>();\n  private readonly sub = this.focusSubject.pipe(throttleTime(0, undefined, { leading: true })).subscribe((focused) => {\n    if (isFocusable(focused.nativeElement)) {\n      focused.nativeElement.focus();\n    }\n  });\n\n  focus(el: ElementRef<HTMLElement>) {\n    this.focusSubject.next(el);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n}\n","import { AfterViewInit, Directive, ElementRef, Input } from '@angular/core';\nimport { FocusService } from './focus.service';\n\n@Directive({\n  selector: '[bbFocus]',\n  exportAs: 'bbFocus',\n})\nexport class FocusDirective implements AfterViewInit {\n  @Input()\n  set bbFocus(value: boolean | '') {\n    this.autofocus = value === '' || !!value;\n  }\n\n  private autofocus = true;\n\n  constructor(private readonly service: FocusService, private readonly el: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    if (this.autofocus) {\n      this.focus();\n    }\n  }\n\n  focus() {\n    this.service.focus(this.el);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FocusDirective } from './focus.directive';\nimport { FocusService } from './focus.service';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [FocusDirective],\n  providers: [FocusService],\n  exports: [FocusDirective],\n})\nexport class FocusModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Subject","throttleTime","i0","Injectable","i1.FocusService","Directive","Input","CommonModule","NgModule"],"mappings":"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"}