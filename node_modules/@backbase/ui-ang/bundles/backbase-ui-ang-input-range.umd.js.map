{"version":3,"file":"backbase-ui-ang-input-range.umd.js","sources":["../../../../libs/ui-ang/input-range/bb-input-range-ui.directive.ts","../../../../libs/ui-ang/input-range/bb-input-range-ui.module.ts","../../../../libs/ui-ang/input-range/backbase-ui-ang-input-range.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ContentChild,\n  Directive,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Self,\n  SimpleChanges,\n} from '@angular/core';\nimport { NgControl, Validators } from '@angular/forms';\nimport { merge, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\n@Directive({\n  selector: 'bb-input-number-ui[bbInputRangeMin]',\n})\nexport class InputRangeMinDirective implements OnChanges {\n  /**\n   * Minimum possible value (optional);\n   */\n  @Input() bbInputRangeMin?: number;\n\n  constructor(@Self() readonly control: NgControl) {}\n\n  ngOnChanges({ bbInputRangeMin }: SimpleChanges): void {\n    const c = this.control;\n    if (!c.control) {\n      return;\n    }\n    if (!bbInputRangeMin.firstChange) {\n      c.control.clearValidators();\n    }\n    if (typeof this.bbInputRangeMin === 'number') {\n      c.control.setValidators(Validators.min(this.bbInputRangeMin));\n    }\n    c.control.updateValueAndValidity();\n  }\n}\n\n@Directive({\n  selector: 'bb-input-number-ui[bbInputRangeMax]',\n})\nexport class InputRangeMaxDirective implements OnChanges {\n  /**\n   * Maximum possible value (optional);\n   */\n  @Input() bbInputRangeMax?: number;\n\n  constructor(@Self() readonly control: NgControl) {}\n\n  ngOnChanges({ bbInputRangeMax }: SimpleChanges): void {\n    const c = this.control;\n    if (!c.control) {\n      return;\n    }\n    if (!bbInputRangeMax.firstChange) {\n      c.control.clearValidators();\n    }\n    if (typeof this.bbInputRangeMax === 'number') {\n      c.control.setValidators(Validators.max(this.bbInputRangeMax));\n    }\n    c.control.updateValueAndValidity();\n  }\n}\n\n@Directive({\n  selector: '[bbInputRange]',\n})\nexport class InputRangeDirective implements AfterViewInit, OnDestroy {\n  @ContentChild(InputRangeMinDirective, { static: true }) min: InputRangeMinDirective | undefined;\n  @ContentChild(InputRangeMaxDirective, { static: true }) max: InputRangeMaxDirective | undefined;\n  private readonly destroy$$: Subject<void> = new Subject();\n\n  ngAfterViewInit(): void {\n    const cMin = this.min && this.min.control && this.min.control.control;\n    const cMax = this.max && this.max.control && this.max.control.control;\n    if (!(cMin && cMax)) {\n      return;\n    }\n    merge(\n      cMin.valueChanges.pipe(\n        tap((min: number) => {\n          const max = cMax.value;\n          if (typeof max !== 'number' || min > max) {\n            cMax.patchValue(min, { emitEvent: false });\n          }\n        }),\n      ),\n      cMax.valueChanges.pipe(\n        tap((max: number) => {\n          const min = cMin.value;\n          const areNumbers = typeof min === 'number' && typeof max === 'number';\n          if (areNumbers && max < min) {\n            cMin.patchValue(max, { emitEvent: false });\n          }\n        }),\n      ),\n    )\n      .pipe(takeUntil(this.destroy$$))\n      .subscribe();\n  }\n\n  ngOnDestroy(): void {\n    if (this.destroy$$) {\n      this.destroy$$.next();\n      this.destroy$$.complete();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputRangeDirective, InputRangeMaxDirective, InputRangeMinDirective } from './bb-input-range-ui.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [InputRangeDirective, InputRangeMinDirective, InputRangeMaxDirective],\n  declarations: [InputRangeDirective, InputRangeMinDirective, InputRangeMaxDirective],\n})\nexport class InputRangeModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Validators","i1","i0","Directive","Self","Input","Subject","merge","tap","takeUntil","ContentChild","CommonModule","NgModule"],"mappings":"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"}