{"version":3,"file":"backbase-identity-auth-transaction-signing.umd.js","sources":["../../../../libs/identity-auth/transaction-signing/util/configuration/configuration.model.ts","../../../../libs/identity-auth/transaction-signing/util/countdown/countdown.service.ts","../../../../libs/identity-auth/transaction-signing/util/helper/helper.model.ts","../../../../libs/identity-auth/transaction-signing/util/helper/helper.service.ts","../../../../libs/identity-auth/transaction-signing/util/http-header/http-header.ts","../../../../libs/identity-auth/transaction-signing/util/transaction-amount/transaction-amount.pipe.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/identity-auth/transaction-signing/util/translations/header.translations.ts","../../../../libs/identity-auth/transaction-signing/service/transaction-signing.service.ts","../../../../libs/identity-auth/transaction-signing/ui/header/header.component.ts","../../../../libs/identity-auth/transaction-signing/ui/header/header.component.html","../../../../libs/identity-auth/transaction-signing/ui/action-pending/action-pending.component.ts","../../../../libs/identity-auth/transaction-signing/ui/action-pending/action-pending.component.html","../../../../libs/identity-auth/transaction-signing/ui/error/error.component.ts","../../../../libs/identity-auth/transaction-signing/ui/error/error.component.html","../../../../libs/identity-auth/transaction-signing/ui/hard-token/hard-token.component.ts","../../../../libs/identity-auth/transaction-signing/ui/hard-token/hard-token.component.html","../../../../libs/identity-auth/transaction-signing/ui/oob-select-device/oob-select-device.component.ts","../../../../libs/identity-auth/transaction-signing/ui/oob-select-device/oob-select-device.component.html","../../../../libs/identity-auth/transaction-signing/ui/oob-device/oob-device.component.ts","../../../../libs/identity-auth/transaction-signing/ui/oob-device/oob-device.component.html","../../../../libs/identity-auth/transaction-signing/ui/sms-otp/sms-otp.component.ts","../../../../libs/identity-auth/transaction-signing/ui/sms-otp/sms-otp.component.html","../../../../libs/identity-auth/transaction-signing/ui/interface/interface.component.ts","../../../../libs/identity-auth/transaction-signing/ui/interface/interface.component.html","../../../../libs/identity-auth/transaction-signing/feature/transaction-signing.component.ts","../../../../libs/identity-auth/transaction-signing/feature/transaction-signing.component.html","../../../../libs/identity-auth/transaction-signing/interceptor/transaction-signing.interceptor.ts","../../../../libs/identity-auth/transaction-signing/transaction-signing.module.ts","../../../../libs/identity-auth/transaction-signing/backbase-identity-auth-transaction-signing.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\n/**\n * Config for setting up TransactionSigningModule\n */\nexport interface TransactionSigningConfig {\n  /**\n   * Whether the signing should follow a redirect or headless flow.\n   * (Defaults to false)\n   */\n  useRedirectFlow: boolean;\n  /**\n   * Time between polling attempts in milliseconds.\n   * (Defaults to 3000)\n   */\n  pollingCycleTime: number;\n  /**\n   * Whether resend push notifications are enabled.\n   * (Defaults to false)\n   */\n  enableResendPushNotification: boolean;\n}\n\n/**\n * TransactionSigningConfig Injection Token\n */\nexport const TRANSACTION_SIGNING_CONFIG = new InjectionToken<TransactionSigningConfig>(\n  'TransactionSigningConfig injection token',\n);\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, interval, Observable, Subject } from 'rxjs';\nimport { map, takeUntil } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CountdownService {\n  private readonly counter: BehaviorSubject<number> = new BehaviorSubject(0);\n  private readonly finished: Subject<void> = new Subject();\n\n  private dueTime!: number;\n\n  public readonly remainingTime$: Observable<number> = this.counter.asObservable();\n\n  private registerStart(period: number): void {\n    this.counter.next(period);\n    this.dueTime = new Date().getTime() + period * 1000;\n  }\n\n  private get remainingTime(): number {\n    return Math.ceil((this.dueTime - new Date().getTime()) / 1000);\n  }\n\n  start(period: number): void {\n    this.registerStart(period);\n    interval(1000)\n      .pipe(\n        takeUntil(this.finished),\n        map(() => this.remainingTime),\n      )\n      .subscribe((remainingTime) => {\n        if (remainingTime > 0) {\n          this.counter.next(remainingTime);\n        } else {\n          this.counter.next(0);\n          this.finished.next();\n        }\n      });\n  }\n}\n","import { Observable, Subject } from 'rxjs';\n\nexport enum ProgressStatus {\n  CONFIRMATION_PENDING = 'CONFIRMATION_PENDING',\n  USER_DECLINED = 'USER_DECLINED',\n  SYSTEM_DECLINED = 'SYSTEM_DECLINED',\n  PENDING_APPROVAL = 'PENDING_APPROVAL',\n  SENDING = 'SENDING',\n  ACCEPTED = 'ACCEPTED',\n  REJECTED = 'REJECTED',\n  PROCESSED = 'PROCESSED',\n  NO_PROGRESS = 'NO_PROGRESS',\n}\n\nexport enum TransactionStatus {\n  success = 'success',\n  rejected = 'rejected',\n  declined = 'declined',\n  pending = 'pending',\n}\n\nexport type TransactionStatusMap = { [key in keyof typeof TransactionStatus]: Array<string> };\n\nexport type TransactionCallbackFn = (param: TransactionCallbackParam) => void;\n\nexport interface TransactionCallbackParam {\n  status: string;\n  data?: any;\n}\n\nexport interface TransactionSigningOptions {\n  /**\n   * Data that is passed as param to the fetchFn\n   */\n  data: any;\n  /**\n   * Options to configure polling flow.\n   */\n  asyncPollingOptions?: AsyncPollingOptions;\n  /**\n   * A hashmap that contains different mapped statuses for success, rejected, declined, or pending.\n   * This map is used to determine the callback to trigger based on the status returned\n   * from `fetchFn`.\n   */\n  statusMap?: TransactionStatusMap;\n  /**\n   * A function that is fetches the status of the transaction.\n   * This is used for polling when `asyncPollingOptions` are provided\n   */\n  fetchFn?: (param?: any) => Observable<any>;\n  /**\n   * A callback function that is triggered on transaction success.\n   */\n  onSuccess: TransactionCallbackFn;\n  /**\n   * A callback function that is triggered on transaction reject.\n   */\n  onRejected: TransactionCallbackFn;\n  /**\n   * A callback function that is triggered on transaction decline.\n   */\n  onDeclined: TransactionCallbackFn;\n  /**\n   * A callback function that is triggered on invalid statuses or error.\n   */\n  onError: (error: any) => void;\n}\n\nexport interface AsyncPollingOptions {\n  /**\n   * Number of times to retry polling in case of error.\n   * Defaults to 3.\n   */\n  maxRetries?: number;\n  /**\n   * Time interval (in ms) between each polling request.\n   * Defaults to 1000.\n   */\n  pollInterval?: number;\n  /**\n   * The function that determines when the polling should be stopped.\n   * It receives the output of `fetchFn` as param.\n   */\n  pollUntilFn?: (param?: any) => boolean;\n  /**\n   * A subject that determines when the polling should be completed\n   * if the transaction in not yet fulfilled.\n   * This is required to stop polling when the user navigates to a different route.\n   */\n  complete$: Subject<any>;\n}\n","import { Injectable } from '@angular/core';\nimport { from, interval, Observable, of } from 'rxjs';\nimport { filter, first, retry, switchMap, takeUntil } from 'rxjs/operators';\nimport { CapabilityData } from '../challenge/challenge.model';\nimport { AsyncPollingOptions, ProgressStatus, TransactionSigningOptions } from './helper.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TransactionSigningHelperService {\n  private readonly defaultPollInterval = 1000;\n  private readonly defaultMaxRetries = 3;\n  private readonly defaultStatusMap = {\n    success: [ProgressStatus.ACCEPTED, ProgressStatus.PROCESSED, ProgressStatus.PENDING_APPROVAL],\n    rejected: [ProgressStatus.REJECTED],\n    declined: [ProgressStatus.SYSTEM_DECLINED, ProgressStatus.USER_DECLINED],\n    pending: [ProgressStatus.CONFIRMATION_PENDING, ProgressStatus.SENDING],\n  };\n\n  /**\n   * Determines if the response was returned from the Transaction Signing flow.\n   * @param response the data returned after a possible transaction signing request.\n   * @returns boolean\n   */\n  isTransactionSigningResponse(response: CapabilityData) {\n    return response && !!response['confirmation-type'];\n  }\n\n  /**\n   * Polls a fetch function. Designed to run after transaction signing has occurred.\n   * @param data  this is passed to the fetchFn as param.\n   * @param fetchFn a function that triggers an http call.\n   * @param pollOptions options to configure the polling such as pollInterval, maxRetries etc.\n   * @param pendingStatuses array of statuses which determines if the polling should continue.\n   * @returns an Observable that sequencially emits a value based on configured time interval.\n   */\n  setupPolling(\n    data: any,\n    fetchFn: (param: any) => Observable<any>,\n    pollOptions: AsyncPollingOptions,\n    pendingStatuses: string[],\n  ) {\n    const pollUntil = pollOptions.pollUntilFn || this.defaultPollUntilFn.bind(this, pendingStatuses);\n    return interval(pollOptions.pollInterval || this.defaultPollInterval).pipe(\n      takeUntil(pollOptions.complete$),\n      switchMap(() => from(fetchFn(data))),\n      retry(pollOptions.maxRetries || this.defaultMaxRetries),\n      filter((res) => pollUntil(res)),\n      first(),\n    );\n  }\n\n  /**\n   * Handles scenarios after signing a transaction and triggers appropriate callbacks.\n   * @param options Configuration for determining different flows of the transaction.\n   */\n  getTransactionInfo(options: TransactionSigningOptions) {\n    if (options.asyncPollingOptions) {\n      this.handleAsyncPollingFlow(options);\n    } else {\n      this.handleGenericFlow(options);\n    }\n  }\n\n  private defaultPollUntilFn(pendingStatuses: Array<string>, status: string) {\n    return !!status && !pendingStatuses.includes(status);\n  }\n\n  private handleAsyncPollingFlow(options: TransactionSigningOptions) {\n    const { asyncPollingOptions } = options;\n    const { pending } = options.statusMap || this.defaultStatusMap;\n\n    if (options.fetchFn) {\n      this.setupPolling(options.data, options.fetchFn, <AsyncPollingOptions>asyncPollingOptions, pending).subscribe(\n        (status) => {\n          this.triggerTransactionCallback({ status }, options);\n        },\n        (error) => {\n          options.onError(error);\n        },\n      );\n    } else {\n      console.warn('`fetchFn` is mandatory when polling options are provided');\n    }\n  }\n\n  private handleGenericFlow(options: TransactionSigningOptions) {\n    const item$ = options.fetchFn ? options.fetchFn(options.data) : of(options.data);\n\n    item$.pipe(first()).subscribe(\n      (response) => {\n        this.triggerTransactionCallback(response, options);\n      },\n      (error) => {\n        options.onError(error);\n      },\n    );\n  }\n\n  private triggerTransactionCallback(response: any, options: TransactionSigningOptions) {\n    const { status } = response || {};\n    const { success, declined, rejected } = options.statusMap || this.defaultStatusMap;\n\n    if (success.includes(status)) {\n      options.onSuccess(response);\n    } else if (declined.includes(status)) {\n      options.onDeclined(response);\n    } else if (rejected.includes(status)) {\n      options.onRejected(response);\n    } else {\n      options.onError(response);\n    }\n  }\n}\n","import { HttpHeaders, HttpResponseBase } from '@angular/common/http';\n\nfunction getHttpHeaderValueWithName(headers: HttpHeaders, name: string): string | undefined {\n  const headerKey = headers.keys().find((key) => key.toLowerCase() === name);\n  return (headerKey && headers.get(headerKey)) || undefined;\n}\n\nexport function hasStatusWithHeaderValue(\n  response: HttpResponseBase,\n  status: number,\n  headerKey: string,\n  headerValue: string,\n) {\n  const authHeaderValue = getHttpHeaderValueWithName(response.headers, headerKey);\n  return response.status === status && authHeaderValue === headerValue;\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ChallengeHardTokenData } from '../hard-token/hard-token.model';\n\n/*\n * Sets the input hard token challenge amount to a fixed number of decimal places.\n * Takes a decimalPlaces argument that defaults to 2.\n */\n@Pipe({\n  name: 'transactionAmount',\n})\nexport class TransactionAmountPipe implements PipeTransform {\n  transform(value: ChallengeHardTokenData, decimalPlaces = 2): string {\n    return Number(value.data.txnData.paymentAmount).toFixed(decimalPlaces);\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import '@angular/localize/init';\n\nexport const HeaderPaymentTitle = {\n  defaultPayment: $localize`:@@bb-transaction-signing-header.initiate-payment.title.default-payment:Authorise Payment`,\n  debitPayment: $localize`:@@bb-transaction-signing-header.initiate-payment.title.debit-payment:Authorize Debit`,\n  debitEditedPayment: $localize`:@@bb-transaction-signing-header.initiate-payment.title.debit-payment:Authorize Debit (Edited)`,\n  editedPayment: $localize`:@@bb-transaction-signing-header.initiate-payment.title.debit-payment:Authorise Payment (Edited)`,\n};\n","import { Location } from '@angular/common';\nimport { HttpClient, HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { Inject, Injectable, Optional } from '@angular/core';\nimport { ɵɵOidcAuthService } from '@backbase/identity-auth';\nimport { Observable, ReplaySubject, Subscriber, throwError } from 'rxjs';\nimport { catchError, first, mapTo, switchMap, withLatestFrom } from 'rxjs/operators';\nimport {\n  CapabilityChallenge,\n  CapabilityData,\n  CapabilityResponse,\n  ChallengeResponse,\n  hasStatusWithHeaderValue,\n  TransactionSigningConfig,\n  TransactionSigningHandler,\n  TRANSACTION_SIGNING_CONFIG,\n} from '../util';\n\n/**\n * Angular Service used to instigate and manage transaction signing for an action.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class TransactionSigningService {\n  /**\n   * A subject that emits when a new transaction signing event occurs.\n   * The subject will emit an object containing the initial challenge from\n   * the Identity Auth Server. To respond to this challenge use the\n   * `respondToChallenge` endpoint provided.\n   */\n  readonly requestSubject = new ReplaySubject<TransactionSigningHandler>(1);\n\n  private readonly actionSubject = new ReplaySubject<string>(1);\n  private readonly observerSubject = new ReplaySubject<Subscriber<HttpResponse<unknown>>>(1);\n  private isHandlingTransaction = false;\n  private readonly authHeaderKey = 'www-authenticate';\n  private readonly authHeaderValue = 'Bearer challenge_types=reauth';\n  private readonly authStatus = 401;\n\n  /** @internal */\n  constructor(\n    private readonly httpClient: HttpClient,\n    private readonly location: Location,\n    @Optional() private readonly oidcAuthService: ɵɵOidcAuthService,\n    @Inject(TRANSACTION_SIGNING_CONFIG) private readonly serviceConfig: TransactionSigningConfig,\n  ) {\n    if (!oidcAuthService) {\n      throw new Error(\n        `In order to use ImpersonationService, please include IdentityAuthModule to your application module`,\n      );\n    }\n  }\n\n  /** @internal */\n  initiateTransactionSigning(error: HttpErrorResponse): Observable<HttpResponse<unknown>> {\n    if (\n      !hasStatusWithHeaderValue(error, this.authStatus, this.authHeaderKey, this.authHeaderValue) ||\n      this.isHandlingTransaction\n    ) {\n      return throwError(error);\n    }\n\n    const body: CapabilityResponse = error.error || {};\n    const challenge = this.getFirstChallenge(body);\n    return challenge ? this.authenticateUser(challenge, body.data) : throwError(error);\n  }\n\n  /**\n   * Method that supports the response to an issued challenge.\n   * @param data The data to be submitted in response to the challenge.\n   * @returns an observable that will either be successful or throw a new challenge\n   */\n  respondToChallenge(data: unknown): Observable<unknown | ChallengeResponse> {\n    return this.actionSubject.pipe(\n      first(),\n      switchMap((url) => this.postResponse(url, data)),\n    );\n  }\n\n  /**\n   * Method that will announce to the initiating widget that the transaction signing\n   * process is complete, and that the process was successful.\n   * The widget will be updated with an HttpResponse object containing the initial\n   * transaction data in the body.\n   */\n  completeWithSuccess() {\n    this.observerSubject.pipe(withLatestFrom(this.requestSubject), first()).subscribe({\n      next: ([observer, request]) => {\n        observer.next(new HttpResponse({ body: request.transactionData }));\n        observer.complete();\n        this.isHandlingTransaction = false;\n      },\n    });\n  }\n\n  /**\n   * Method that will announce to the initiating widget that the transaction signing\n   * process is complete, and that the process failed.\n   * The widget will be updated with an HttpErrorResponse object containing the initial\n   * transaction data and the error reason.\n   */\n  completeWithFailure(error: Error) {\n    this.observerSubject.pipe(withLatestFrom(this.requestSubject), first()).subscribe({\n      next: ([observer, request]) => {\n        observer.error(\n          new HttpErrorResponse({\n            status: 401,\n            statusText: error.message,\n            error: {\n              error,\n              data: request.transactionData,\n            },\n          }),\n        );\n        this.isHandlingTransaction = false;\n      },\n    });\n  }\n\n  private getFirstChallenge(body: CapabilityResponse): CapabilityChallenge | undefined {\n    const challenges: Array<CapabilityChallenge> = body.challenges || [];\n    return challenges.find((c) => c.scope !== undefined);\n  }\n\n  private authenticateUser(\n    challenge: CapabilityChallenge,\n    transactionData: CapabilityData,\n  ): Observable<HttpResponse<unknown>> {\n    return this.reauthenticate(challenge).pipe(\n      first(),\n      mapTo(new HttpResponse({ body: transactionData })),\n      catchError((response: ChallengeResponse) => {\n        return new Observable<HttpResponse<unknown>>((observer) => {\n          this.isHandlingTransaction = true;\n          this.requestSubject.next({\n            challenge: response,\n            transactionData,\n          });\n          this.observerSubject.next(observer);\n        });\n      }),\n    );\n  }\n\n  private reauthenticate(challenge: CapabilityChallenge) {\n    const { acrValues, scope } = challenge;\n    return this.oidcAuthService.createReauthLoginUrl(scope, acrValues).pipe(\n      switchMap((url) => {\n        if (this.serviceConfig && this.serviceConfig.useRedirectFlow) {\n          this.location.go(url);\n        }\n        return this.requestChallenge(url);\n      }),\n    );\n  }\n\n  private requestChallenge(url: string) {\n    return this.httpClient\n      .get<unknown | ChallengeResponse>(url, this.getRequestOptions())\n      .pipe(catchError(this.onAuthError));\n  }\n\n  private postResponse(url: string, data: unknown) {\n    return this.httpClient\n      .post<unknown | ChallengeResponse>(url, data, this.getRequestOptions())\n      .pipe(catchError(this.onAuthError));\n  }\n\n  private getRequestOptions() {\n    return {\n      headers: {\n        Accept: '*/*',\n        'X-Convert-Redirects': 'true',\n        Authentication: this.oidcAuthService.authorizationHeader(),\n      },\n      withCredentials: true,\n      observe: 'response' as const,\n    };\n  }\n\n  private onAuthError = (err: HttpErrorResponse): Observable<ChallengeResponse> => {\n    if (err.error && err.error.challenges) {\n      const { challengeType, actionUrl, ...challengeData } = err.error.challenges[0];\n      this.actionSubject.next(this.getActionUrl(actionUrl));\n      return throwError({\n        challengeType,\n        challengeData,\n      });\n    }\n    return throwError(this.getErrorResponse(err));\n  };\n\n  private getErrorResponse(error: HttpErrorResponse): ChallengeResponse {\n    const url = new URL(error.headers.get('location') || error.headers.get('Location') || '');\n    const params = new URLSearchParams(url.search);\n    return {\n      error: {\n        errorCode: params.get('error') || 'unknown_error',\n        errorDescription: params.get('error_description') || undefined,\n      },\n    };\n  }\n\n  private getActionUrl(url: string): string {\n    const idp = new URL(this.oidcAuthService.authConfig.issuer || '');\n    return url.startsWith('/auth') ? `${idp.origin}${url}` : `${idp.origin}/auth${url}`;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { CapabilityData, HeaderPaymentTitle } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-header',\n  templateUrl: 'header.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningHeaderComponent {\n  @Input() data: CapabilityData | undefined;\n\n  headerPaymentTitle = HeaderPaymentTitle;\n}\n","<ng-container [ngSwitch]=\"data?.['confirmation-type'] || data?.confirmationType\">\n  <div *ngSwitchDefault>\n    <ng-container\n      *ngTemplateOutlet=\"\n      data?.['counter-party-role'] === 'DEBTOR'\n        ? debitHeaderTmpl\n        : defaultHeaderTmpl;\n        context: { $implicit: data, isEdited: (data?.['confirmation-type'] || data?.confirmationType) === 'edit-payment' }\"\n    >\n    </ng-container>\n  </div>\n\n  <div *ngSwitchCase=\"'approve-payment'\">\n    <bb-header-ui\n      headingType=\"h2\"\n      i18n-heading=\"\n        Transaction signing modal title for approve-payment@@bb-transaction-signing-header.approve-payment.title\"\n      heading=\"Authorisation\"\n    >\n    </bb-header-ui>\n    <div\n      *ngIf=\"data?.['counter-party-role'] !== 'DEBTOR'; else debitSubTitle\"\n      data-role=\"ts-modal-subtitle\"\n      i18n=\"\n        Transaction signing modal sub-title for approve-payment@@bb-transaction-signing-header.approve-payment.sub-title\"\n    >\n      Payment of\n      <bb-amount-ui [currency]=\"data?.currency\" [amount]=\"data?.amount\"></bb-amount-ui>\n      to {{ data?.['counter-party-name'] }}.\n    </div>\n  </div>\n  <div *ngSwitchCase=\"'approve-batch'\">\n    <bb-header-ui\n      headingType=\"h2\"\n      i18n-heading=\"\n        Transaction signing modal title for approve-batch@@bb-transaction-signing-header.approve-batch.title\"\n      heading=\"Authorisation\"\n    >\n    </bb-header-ui>\n    <div\n      data-role=\"ts-modal-subtitle\"\n      i18n=\"\n        Transaction signing modal sub-title for approve-batch@@bb-transaction-signing-header.approve-batch.sub-title\"\n    >\n      Batch with a total value of<br />\n      <bb-amount-ui [currency]=\"data?.currency\" [amount]=\"data?.totalAmount\"></bb-amount-ui>\n      to {{ data?.totalTransactionsCount }} {data?.totalTransactionsCount, plural, =1 {transfer} other {transfers}}\n      (multiple accounts).\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #debitHeaderTmpl let-data let-isEdited=\"isEdited\">\n  <bb-header-ui\n    headingType=\"h2\"\n    [heading]=\"isEdited ? headerPaymentTitle.debitEditedPayment : headerPaymentTitle.debitPayment\"\n  >\n  </bb-header-ui>\n\n  <ng-container *ngTemplateOutlet=\"debitSubTitle\"></ng-container>\n</ng-template>\n\n<ng-template #defaultHeaderTmpl let-data let-isEdited=\"isEdited\">\n  <bb-header-ui\n    headingType=\"h2\"\n    [heading]=\"isEdited ? headerPaymentTitle.editedPayment : headerPaymentTitle.defaultPayment\"\n  >\n  </bb-header-ui>\n\n  <div\n    data-role=\"ts-modal-subtitle\"\n    i18n=\"\n      Transaction signing modal sub-title for initiate-payment@@bb-transaction-signing-header.initiate-payment.sub-title\"\n  >\n    Send\n    <bb-amount-ui [currency]=\"data?.currency\" [amount]=\"data?.amount\"></bb-amount-ui>\n    to {{ data?.['counter-party-name'] }}.\n  </div>\n</ng-template>\n\n<ng-template #debitSubTitle>\n  <div\n    data-role=\"ts-modal-subtitle\"\n    i18n=\"\n      Transaction signing modal sub-title for\n      initiate-payment@@bb-transaction-signing-header.initiate-payment-debit.sub-title\"\n  >\n    Receive\n    <bb-amount-ui [currency]=\"data?.currency\" [amount]=\"data?.amount\"></bb-amount-ui>\n    from {{ data?.['counter-party-name'] }}.\n  </div>\n</ng-template>\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  selector: 'bb-transaction-signing-action-pending',\n  templateUrl: 'action-pending.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningActionPendingComponent {}\n","<bb-loading-indicator-ui\n  data-role=\"ts-action-pending\"\n  loaderSize=\"lg\"\n  i18n-text=\"Transaction signing action pending text@@bb-transaction-signing-action-pending.text\"\n  text=\"Performing action...\"\n>\n</bb-loading-indicator-ui>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ChallengeError } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-error',\n  templateUrl: 'error.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningErrorComponent {\n  @Output() closeModal = new EventEmitter<Error>();\n  @Input() error: ChallengeError | undefined;\n\n  onClose() {\n    this.closeModal.emit(new Error(this.error && (this.error.errorDescription || this.error.errorCode)));\n  }\n}\n","<div class=\"bb-block bb-block--md\" data-role=\"ts-error\">\n  <div class=\"bb-block bb-block--md\">\n    <ng-container *ngTemplateOutlet=\"tsErrorState\"></ng-container>\n  </div>\n  <div class=\"bb-button-bar bb-button-bar--center\">\n    <button\n      bbButton\n      data-role=\"ts-accept-error\"\n      class=\"bb-button-bar__button\"\n      color=\"primary\"\n      i18n=\"Cancel transaction button@@bb-transaction-signing-error.cancel\"\n      (click)=\"onClose()\"\n    >\n      Close\n    </button>\n  </div>\n</div>\n\n<ng-template #tsErrorState>\n  <ng-container [ngSwitch]=\"error?.errorDescription\">\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'invalid_token'\"\n      iconSize=\"xxl\"\n      iconModifier=\"lock\"\n      i18n-title=\"Transaction signing invalid token title@@bb-transaction-signing-error.invalid-token.title\"\n      title=\"Access denied\"\n      i18n-subtitle=\"Transaction signing invalid token subtitle@@bb-transaction-signing-error.invalid-token.subtitle\"\n      subtitle=\"We were unable to process this transaction. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'confirmation_not_found'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"Transaction signing not found title@@bb-transaction-signing-error.not-found.title\"\n      title=\"No confirmation found\"\n      i18n-subtitle=\"Transaction signing not found subtitle@@bb-transaction-signing-error.not-found.subtitle\"\n      subtitle=\"We were unable to process this transaction. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'confirmation_is_not_pending'\"\n      iconSize=\"xxl\"\n      iconModifier=\"access-alarm\"\n      i18n-title=\"Transaction signing not pending title@@bb-transaction-signing-error.not-pending.title\"\n      title=\"The confirmation has expired\"\n      i18n-subtitle=\"Transaction signing not pending subtitle@@bb-transaction-signing-error.not-pending.subtitle\"\n      subtitle=\"This transaction has timed out and been cancelled. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'confirmation_user_mismatch'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"Transaction signing user mismatch title@@bb-transaction-signing-error.user-mismatch.title\"\n      title=\"Something went wrong\"\n      i18n-subtitle=\"Transaction signing user mismatch subtitle@@bb-transaction-signing-error.user-mismatch.subtitle\"\n      subtitle=\"You do not have permission to confirm this action. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'rejected_by_user'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"Transaction signing rejected title@@bb-transaction-signing-error.rejected.title\"\n      title=\"Transaction rejected by user\"\n      i18n-subtitle=\"Transaction signing rejected subtitle@@bb-transaction-signing-error.rejected.subtitle\"\n      subtitle=\"We were unable to process this transaction. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'user_disabled'\"\n      iconSize=\"xxl\"\n      iconModifier=\"lock\"\n      i18n-title=\"Transaction signing disabled title@@bb-transaction-signing-error.disabled.title\"\n      title=\"Unable to process transaction\"\n      i18n-subtitle=\"Transaction signing disabled subtitle@@bb-transaction-signing-error.disabled.subtitle\"\n      subtitle=\"This user is currently locked. Please cancel the dialogue and unlock your account before retrying the action.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'user_temporarily_disabled'\"\n      iconSize=\"xxl\"\n      iconModifier=\"lock\"\n      i18n-title=\"\n        Transaction signing temporarily disabled title@@bb-transaction-signing-error.temporarily-disabled.title\"\n      title=\"Unable to process transaction\"\n      i18n-subtitle=\"\n        Transaction signing temporarily disabled subtitle@@bb-transaction-signing-error.temporarily-disabled.subtitle\"\n      subtitle=\"This user is currently locked. Please cancel the dialogue and unlock your account before retrying the action.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'unsupported_challenge'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"\n        Transaction signing unsupported challenge title@@bb-transaction-signing-error.unsupported-challenge.title\"\n      title=\"Unable to process request\"\n      i18n-subtitle=\"\n        Transaction signing unsupported challenge subtitle@@bb-transaction-signing-error.unsupported-challenge.subtitle\"\n      subtitle=\"The transaction requires an unsupported challenge. Please cancel this dialogue and contact an admin.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'challenge_not_found'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"Transaction signing challenge not found title@@bb-transaction-signing-error.challenge-not-found.title\"\n      title=\"Something went wrong\"\n      i18n-subtitle=\"\n        Transaction signing challenge not found subtitle@@bb-transaction-signing-error.challenge-not-found.subtitle\"\n      subtitle=\"We were unable to process this transaction. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'hard_token_integration_error'\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"\n        Transaction signing hard token integration title@@bb-transaction-signing-error.hard-token-integration.title\"\n      title=\"Something went wrong\"\n      i18n-subtitle=\"\n        Transaction signing hard token integration\n        subtitle@@bb-transaction-signing-error.hard-token-integration.subtitle\"\n      subtitle=\"We could not reach the hard-token vendor to confirm your response. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchCase=\"'no_devices_registered'\"\n      iconSize=\"xxl\"\n      iconModifier=\"phonelink-off\"\n      i18n-title=\"\n        Transaction signing no devices registered title@@bb-transaction-signing-error.no-devices-registered.title\"\n      title=\"No devices available\"\n      i18n-subtitle=\"\n        Transaction signing no devices registered subtitle@@bb-transaction-signing-error.no-devices-registered.subtitle\"\n      subtitle=\"We were unable to process this transaction as no devices are registered. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n    <bb-empty-state-ui\n      *ngSwitchDefault\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      i18n-title=\"Transaction signing default error title@@bb-transaction-signing-error.default.title\"\n      title=\"Something went wrong\"\n      i18n-subtitle=\"Transaction signing default error subtitle@@bb-transaction-signing-error.default.subtitle\"\n      subtitle=\"We have experienced a critical error on this transaction. Please cancel this dialogue and try again.\"\n    >\n    </bb-empty-state-ui>\n  </ng-container>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ChallengeError, ChallengeHardTokenData, HardTokenResponse } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-hard-token',\n  templateUrl: 'hard-token.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningHardTokenComponent {\n  @Output() cancel = new EventEmitter<void>();\n  @Output() submitResponse = new EventEmitter<HardTokenResponse>();\n  @Output() acceptError = new EventEmitter<Error>();\n\n  @Input()\n  set data(value: ChallengeHardTokenData) {\n    this.challengeData = value;\n    this.displayAlert = false;\n    this.displayErrors = false;\n  }\n\n  get data() {\n    if (!this.challengeData) {\n      throw new Error('No challenge data set');\n    }\n    return this.challengeData;\n  }\n\n  @Input()\n  set error(value: ChallengeError | undefined) {\n    this.displayAlert = false;\n    this.displayErrors = false;\n    if (value && this.isRecognizedError(value)) {\n      this.displayAlert = true;\n    } else {\n      this.errorValue = value;\n    }\n  }\n\n  get error() {\n    return this.errorValue;\n  }\n\n  private readonly invalidRequestError = 'invalid_request';\n  private displayErrors = false;\n  readonly form: FormGroup = this.formBuilder.group({\n    otp: ['', [Validators.required, Validators.pattern(/^\\d{6}$/)]],\n  });\n  errorValue: ChallengeError | undefined;\n  challengeData: ChallengeHardTokenData | undefined;\n  displayAlert = false;\n\n  constructor(private readonly formBuilder: FormBuilder) {}\n\n  onSubmit() {\n    this.displayErrors = true;\n    if (this.form.valid) {\n      this.submitResponse.emit({\n        ...this.form.value,\n        code: this.data.data.code,\n      } as HardTokenResponse);\n    }\n  }\n\n  onCancel() {\n    this.cancel.emit();\n  }\n\n  onErrorClose(error: Error) {\n    this.acceptError.emit(error);\n  }\n\n  hasError(control: AbstractControl) {\n    return this.displayErrors && control.errors && (control.errors.required || control.errors.pattern);\n  }\n\n  private isRecognizedError(error: ChallengeError) {\n    return error.errorCode === this.invalidRequestError && error.errorDescription === this.invalidRequestError;\n  }\n}\n","<bb-transaction-signing-error\n  *ngIf=\"errorValue; else displayForm\"\n  [error]=\"errorValue\"\n  (closeModal)=\"onErrorClose($event)\"\n>\n</bb-transaction-signing-error>\n\n<ng-template #displayForm>\n  <bb-alert-ui\n    *ngIf=\"displayAlert\"\n    data-role=\"ts-hard-token-no-value-alert\"\n    i18n-title=\"No value alert title for hard token signing@@bb-hard-token-signing.alert.no-value.title\"\n    title=\"No value entered\"\n  >\n    <span i18n=\"No value alert message for hard token signing@@bb-hard-token-signing.alert.no-value.message\">\n      Please enter the value displayed on your {{ data.data.vendorDetails.model }} device.\n    </span>\n  </bb-alert-ui>\n  <bb-alert-ui\n    *ngIf=\"data.remainingAuthenticationAttempts !== undefined\"\n    data-role=\"ts-hard-token-remaining-alert\"\n    i18n-title=\"Remaining attempts alert title for hard token signing@@bb-hard-token-signing.alert.remaining.title\"\n    title=\"Authorization failed\"\n  >\n    <span i18n=\"Remaining attempts alert message for hard token signing@@bb-hard-token-signing.alert.remaining.message\">\n      The number you entered was incorrect. <br />\n      You have {{ data.remainingAuthenticationAttempts }} other {data.remainingAuthenticationAttempts, plural, =1\n      {attempt} other {attempts}} remaining.\n    </span>\n  </bb-alert-ui>\n  <div class=\"bb-block bb-block--md\" i18n=\"Instruction for hard token signing@@bb-hard-token-signing.instruction\">\n    Using your {{ data.data.vendorDetails.model }} device, follow these steps\n  </div>\n\n  <form [formGroup]=\"form\" (submit)=\"onSubmit()\" class=\"bb-block bb-block--md\">\n    <ol data-role=\"hard-token-txn-widget__form\" class=\"bb-ordered-list bb-block bb-block--md\">\n      <li data-role=\"hard-token-txn-widget__form-sign\" class=\"bb-block bb-block--sm\">\n        <span i18n=\"Step 1 for hard token signing@@bb-hard-token-signing.steps.1\">\n          Press '<strong>sign</strong>' on your device\n        </span>\n      </li>\n      <li data-role=\"hard-token-txn-widget__form-enter-pin\" class=\"bb-block bb-block--sm\">\n        <span i18n=\"Step 2 for hard token signing@@bb-hard-token-signing.steps.2\">\n          Enter your pin in to your device\n        </span>\n      </li>\n      <li data-role=\"hard-token-txn-widget__form-reference-number\" class=\"bb-block bb-block--sm\">\n        <span i18n=\"Step 3 for hard token signing@@bb-hard-token-signing.steps.3\"> Enter the `reference number` </span>\n        <br />\n        <span class=\"bb-hero\">\n          {{ data.data.code }}\n        </span>\n      </li>\n      <li\n        data-role=\"hard-token-txn-widget__form-transaction-amount\"\n        *ngIf=\"data.data.txnData.paymentAmount !== undefined\"\n        class=\"bb-block bb-block--sm\"\n      >\n        <span i18n=\"Step 4 (when amount present) for hard token signing@@bb-hard-token-signing.steps.4\">\n          Enter the transaction amount\n        </span>\n        <br />\n        <span class=\"bb-hero\">\n          {{ data | transactionAmount }}\n        </span>\n      </li>\n      <li data-role=\"hard-token-txn-widget__form-insert-number\" class=\"bb-block bb-block--sm\">\n        <span\n          data-role=\"hard-token-txn-widget__form-insert-number__financial\"\n          i18n=\"Step 5 (when amount present), or step 4 for hard token signing@@bb-hard-token-signing.steps.5\"\n        >\n          Insert the number produced on your {{ data.data.vendorDetails.model }} device\n        </span>\n        <br />\n        <div class=\"form-group\">\n          <bb-input-text-ui\n            data-role=\"ts-hard-token-otp\"\n            class=\"bb-form-field bb-form-field--xs\"\n            formControlName=\"otp\"\n            i18n-attr.aria-label=\"Aria label for otp field input@@bb-hard-token-signing.otp.aria-label\"\n            attr.aria-label=\"Insert the number produced on your {{ data.data.vendorDetails.model }} device\"\n            [maxLength]=\"6\"\n            [minLength]=\"6\"\n          >\n          </bb-input-text-ui>\n          <bb-input-validation-message-ui [showErrors]=\"hasError(form.controls.otp)\">\n            <span\n              data-role=\"ts-hard-token-otp-error\"\n              i18n=\"Otp input length error message@@bb-hard-token-signing.otp.errors.length\"\n            >\n              The value must be exactly 6 numbers.\n            </span>\n          </bb-input-validation-message-ui>\n        </div>\n      </li>\n    </ol>\n\n    <div class=\"bb-button-bar\">\n      <button\n        bbButton\n        data-role=\"ts-hard-token-complete\"\n        class=\"bb-button-bar__button\"\n        color=\"primary\"\n        type=\"submit\"\n        i18n=\"Complete button@@bb-hard-token-signing.complete\"\n      >\n        Complete\n      </button>\n      <button\n        bbButton\n        data-role=\"ts-hard-token-cancel\"\n        class=\"bb-button-bar__button\"\n        color=\"secondary\"\n        (click)=\"onCancel()\"\n        i18n=\"Cancel button@@bb-hard-token-signing.cancel\"\n      >\n        Cancel\n      </button>\n    </div>\n  </form>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ChallengeError, ChallengeOobSelectDeviceData, DeviceInformationData, OobSelectDeviceEvent } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-oob-select-device',\n  templateUrl: 'oob-select-device.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningOobSelectDeviceComponent {\n  @Output() cancel = new EventEmitter<void>();\n  @Output() acceptError = new EventEmitter<Error>();\n  @Output() submitResponse = new EventEmitter<OobSelectDeviceEvent>();\n\n  @Input()\n  set data(value: ChallengeOobSelectDeviceData) {\n    this.challengeData = value;\n  }\n\n  get data(): ChallengeOobSelectDeviceData | never {\n    if (!this.challengeData) {\n      throw new Error('No challenge data set');\n    }\n    return this.challengeData;\n  }\n\n  @Input() error: ChallengeError | undefined;\n\n  readonly form: FormGroup = this.formBuilder.group({\n    device: [undefined, Validators.required],\n  });\n\n  challengeData: ChallengeOobSelectDeviceData | undefined;\n  showErrors = false;\n\n  constructor(private readonly formBuilder: FormBuilder) {}\n\n  onSubmit(): void {\n    this.showErrors = true;\n    if (this.form.invalid) {\n      return;\n    }\n\n    this.submitResponse.emit({ deviceId: this.form.controls.device.value } as OobSelectDeviceEvent);\n  }\n\n  onCancel(): void {\n    this.cancel.emit();\n  }\n\n  deviceHasFriendlyName(device: DeviceInformationData): boolean {\n    return typeof device.friendlyName === 'string';\n  }\n\n  deviceGetVendorModelName(device: DeviceInformationData): string | boolean {\n    return device.vendor && device.model ? `${device.vendor} ${device.model}` : false;\n  }\n\n  get showDeviceNotChosenError(): boolean {\n    return !this.form.value.device;\n  }\n}\n","<bb-transaction-signing-error *ngIf=\"error; else displayForm\" [error]=\"error\" (closeModal)=\"acceptError.emit($event)\">\n</bb-transaction-signing-error>\n\n<ng-template #displayForm>\n  <form [formGroup]=\"form\" (submit)=\"onSubmit()\" class=\"bb-block bb-block--md\">\n    <label\n      for=\"bb-transaction-signing-select-device-dropdown\"\n      i18n=\"Select device text@@bb-oob-select-device-signing.text.label\"\n    >\n      Select the device you would like to sign this transaction with.\n    </label>\n    <p>\n      <small i18n=\"Devices ordered text@@bb-oob-select-device-signing.text.hint\">\n        (Devices ordered by most recent registered)\n      </small>\n    </p>\n\n    <div class=\"form-group\">\n      <bb-dropdown-single-select-ui\n        data-role=\"ts-select-device-control\"\n        id=\"bb-transaction-signing-select-device-dropdown\"\n        i18n-placeholder=\"Select device placeholder@@bb-oob-select-device-signing.input.select-placeholder\"\n        placeholder=\"Select a device...\"\n        formControlName=\"device\"\n        [required]=\"true\"\n      >\n        <ng-container *ngIf=\"challengeData && challengeData.devices\">\n          <ng-container *ngFor=\"let device of challengeData.devices\">\n            <bb-dropdown-single-select-option-ui\n              *ngIf=\"deviceHasFriendlyName(device); else noFriendlyNameDevice\"\n              data-role=\"ts-oob-select-device-option-with-name\"\n              label=\"{{ device.friendlyName }} (Registered on: {{ device.created | date: 'medium' }})\"\n              i18n-label=\"\n                Select device friendly name option@@bb-oob-select-device-signing.input.select-option-friendly-name\"\n              [value]=\"device.deviceId\"\n            >\n            </bb-dropdown-single-select-option-ui>\n\n            <ng-template #noFriendlyNameDevice>\n              <ng-container\n                *ngIf=\"device.vendor && device.model; then displayVendorModelDevice; else displayUnknownDevice\"\n              ></ng-container>\n            </ng-template>\n\n            <ng-template #displayVendorModelDevice>\n              <bb-dropdown-single-select-option-ui\n                data-role=\"ts-oob-select-device-option-with-vendor-model\"\n                label=\"{{ deviceGetVendorModelName(device) }} (Registered on: {{ device.created | date: 'medium' }})\"\n                i18n-label=\"\n                  Select device vendor model option@@bb-oob-select-device-signing.input.select-option-vendor-model\"\n                [value]=\"device.deviceId\"\n              >\n              </bb-dropdown-single-select-option-ui>\n            </ng-template>\n            <ng-template #displayUnknownDevice>\n              <bb-dropdown-single-select-option-ui\n                data-role=\"ts-oob-select-device-option-without-name\"\n                label=\"Unknown Device (Registered on: {{ device.created | date: 'medium' }})\"\n                i18n-label=\"Select device unknown option@@bb-oob-select-device-signing.input.select-option-unknown\"\n                [value]=\"device.deviceId\"\n              >\n              </bb-dropdown-single-select-option-ui>\n            </ng-template>\n          </ng-container>\n        </ng-container>\n      </bb-dropdown-single-select-ui>\n      <bb-input-validation-message-ui [showErrors]=\"showErrors\">\n        <span\n          *ngIf=\"showDeviceNotChosenError\"\n          data-role=\"ts-oob-select-device-missing-error\"\n          i18n=\"Device not chosen error message@@bb-oob-select-device-signing.errors.missing\"\n        >\n          You must choose a device.\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n\n    <p>\n      <strong\n        i18n=\"Selected device action description@@bb-oob-select-device-signing.text.selected-action-description\"\n        data-role=\"ts-select-device-validation-message\"\n      >\n        Your selected device will be sent a notification to sign the transaction.\n      </strong>\n    </p>\n    <hr />\n    <p>\n      <small i18n=\"Navigation away notice@@bb-oob-select-device-signing.text.navigation-away\">\n        Note: Navigation away from this modal will result in a cancellation of this transaction signing process.\n      </small>\n    </p>\n\n    <div class=\"bb-button-bar\">\n      <button\n        bbButton\n        data-role=\"ts-select-device-continue\"\n        class=\"bb-button-bar__button\"\n        color=\"primary\"\n        type=\"submit\"\n        i18n=\"Complete button@@bb-oob-select-device-signing.complete\"\n      >\n        Continue\n      </button>\n      <button\n        bbButton\n        data-role=\"ts-select-device-cancel\"\n        class=\"bb-button-bar__button\"\n        color=\"secondary\"\n        (click)=\"onCancel()\"\n        i18n=\"Cancel button@@bb-oob-select-device-signing.cancel\"\n      >\n        Cancel transaction\n      </button>\n    </div>\n  </form>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {\n  ChallengeError,\n  ChallengeOobDeviceData,\n  CountdownService,\n  OobDeviceInfo,\n  OobNotificationInfo,\n} from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-oob-device',\n  templateUrl: 'oob-device.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningOobDeviceComponent implements OnInit {\n  @Output() acceptError = new EventEmitter<Error>();\n  @Output() cancel = new EventEmitter<void>();\n  @Output() poll = new EventEmitter<void>();\n  @Output() resend = new EventEmitter<void>();\n\n  @Input() error: ChallengeError | undefined;\n\n  @Input() enableResendPushNotification!: boolean;\n\n  get data() {\n    if (!this.challengeData) {\n      throw new Error('No challenge data set');\n    }\n    return this.challengeData;\n  }\n\n  @Input()\n  set data(value: ChallengeOobDeviceData | undefined) {\n    this.challengeData = value;\n\n    if (this.challengeData) {\n      this.deviceInfo = this.challengeData.data.deviceInformation;\n\n      this.pushNotificationData = this.challengeData.data.pushNotificationInformation;\n      this.setResendTime();\n    }\n\n    if (this.deviceInfo) {\n      this.icon = this.deviceInfo.vendor === 'Apple' ? 'phone-iphone' : 'phone-android';\n    }\n  }\n\n  get pushData(): OobNotificationInfo {\n    if (!this.pushNotificationData) {\n      throw new Error('No push notification data set');\n    }\n    return this.pushNotificationData;\n  }\n\n  get pushFailure(): boolean {\n    return this.enableResendPushNotification && !this.pushData.sendSuccessful;\n  }\n\n  icon = '';\n  challengeData: ChallengeOobDeviceData | undefined;\n  deviceInfo: OobDeviceInfo | undefined;\n  private pushNotificationData: OobNotificationInfo | undefined;\n  readonly timeUntilResend$: Observable<number> = this.countdown.remainingTime$;\n\n  constructor(private countdown: CountdownService) {}\n\n  ngOnInit(): void {\n    this.poll.emit();\n  }\n\n  private setResendTime(): void {\n    if (this.pushData.nextResendSeconds > 0) {\n      this.countdown.start(this.pushData.nextResendSeconds);\n    }\n  }\n}\n","<bb-transaction-signing-error\n  *ngIf=\"error; else displayHoldingScreen\"\n  [error]=\"error\"\n  (closeModal)=\"acceptError.emit($event)\"\n>\n</bb-transaction-signing-error>\n\n<ng-template #displayHoldingScreen>\n  <bb-alert-ui\n    *ngIf=\"pushFailure\"\n    data-role=\"ts-oob-device-incorrect-alert\"\n    i18n-title=\"\n      Failure to send push notification for out of band device transaction\n      signing@@bb-transaction-signing-oob-device.alert.failure.title\"\n    title=\"Push notification failure\"\n  >\n    <span\n      i18n=\"\n        Incorrect attempts alert message for sms otp signing@@bb-transaction-signing-oob-device.alert.failure.message\"\n    >\n      Failure to send push notification. Please open your app to complete the transaction.\n    </span>\n  </bb-alert-ui>\n\n  <div class=\"bb-block bb-block--md\">\n    <div\n      data-role=\"oob-device-title\"\n      class=\"bb-highlight bb-block bb-block--md\"\n      i18n=\"Instruction for oob device signing@@bb-transaction-signing-oob-device.instruction.check-device-header\"\n    >\n      Check your device:\n    </div>\n    <div class=\"bb-stack\">\n      <bb-icon-ui class=\"bb-stack__item\" [name]=\"icon\" size=\"xl\" data-role=\"oob-device-icon\"></bb-icon-ui>\n      <div>\n        <div *ngIf=\"deviceInfo?.friendlyName; else defaultFriendlyName\" class=\"bb-stack__item bb-highlight\">\n          <span data-role=\"oob-device-friendly-name\">{{ deviceInfo?.friendlyName }}</span>\n        </div>\n        <div *ngIf=\"deviceInfo?.vendor && deviceInfo?.model; else defaultVendor\" class=\"bb-stack__item bb-text-support\">\n          <span data-role=\"oob-device-vendor-model\">{{ deviceInfo?.vendor }} {{ deviceInfo?.model }}</span>\n        </div>\n        <div class=\"bb-stack__item bb-text-support bb-subheader bb-subheader--regular\">\n          <span\n            data-role=\"oob-device-registered-date\"\n            i18n=\"Device registered date@@bb-transaction-signing-oob-device.registered-date\"\n          >\n            Registered on: {{ deviceInfo?.created | date: 'medium' }}</span\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"bb-block bb-block--md\"\n    i18n=\"Instruction for oob device signing@@bb-transaction-signing-oob-device.instruction\"\n  >\n    <strong>Please sign this transaction through your banking app. When confirmed, this page will refresh.</strong>\n  </div>\n\n  <div class=\"bb-block bb-block--lg\">\n    <ng-container *ngIf=\"enableResendPushNotification\">\n      <hr />\n\n      <div class=\"bb-block bb-block--sm\">\n        <span\n          data-role=\"oob-no-notification-title\"\n          class=\"bb-highlight\"\n          i18n=\"No notification received@@bb-oob-notification-signing.resend.no-notification\"\n        >\n          Didn't receive the notification?\n        </span>\n      </div>\n\n      <ng-container *ngIf=\"pushData.resendAttemptsLeft > 0; else displayNoRemainingRequests\">\n        <ng-container *ngIf=\"timeUntilResend$ | async as time; else displayResendButton\">\n          <span\n            class=\"bb-subtitle bb-text-support bb-block bb-block--sm\"\n            i18n=\"Time before resend@@bb-oob-notification-signing.resend.time-before\"\n          >\n            Next resend available in {{ time }} {time, plural, =1 {second} other {seconds}}\n          </span>\n        </ng-container>\n\n        <ng-template #displayResendButton>\n          <div class=\"bb-block bb-block--sm\">\n            <button\n              bbButton\n              buttonSize=\"md\"\n              data-role=\"oob-device-resend\"\n              color=\"link-text\"\n              i18n=\"Resend OOB notification button@@bb-oob-notification-signing.resend\"\n              (click)=\"this.resend.emit()\"\n            >\n              Send another notification\n            </button>\n          </div>\n\n          <div class=\"bb-text-support\">\n            <span\n              [ngClass]=\"{ 'bb-text-danger': pushData.resendAttemptsLeft === 1 }\"\n              i18n=\"Message resend alert message for oob signin@@bb-oob-signing.alert.resend.message\"\n            >\n              You have {{ pushData.resendAttemptsLeft }} resend {pushData.resendAttemptsLeft, plural, =1 {attempt} other\n              {attempts}} left.\n            </span>\n          </div>\n        </ng-template>\n      </ng-container>\n\n      <ng-template #displayNoRemainingRequests>\n        <span\n          data-role=\"ts-oob-device-no-resend\"\n          class=\"bb-subtitle bb-text-danger\"\n          i18n=\"No device push notification resend attempts remaining@@bb-transaction-signing-oob-device.no-resend\"\n        >\n          You are out of resend attempts.\n        </span>\n      </ng-template>\n    </ng-container>\n  </div>\n\n  <hr />\n\n  <div class=\"bb-block bb-block--lg\">\n    <small i18n=\"Helper text for oob device signing@@bb-transaction-signing-oob-device.helper\">\n      Note: Navigation away from this modal will result in a cancellation of this transaction signing process.\n    </small>\n  </div>\n\n  <div class=\"bb-button-bar\">\n    <button\n      bbButton\n      data-role=\"oob-device-cancel\"\n      class=\"bb-button-bar__button\"\n      color=\"secondary\"\n      (click)=\"cancel.emit()\"\n      i18n=\"Cancel button@@bb-transaction-signing-oob-device.cancel\"\n    >\n      Cancel transaction\n    </button>\n  </div>\n\n  <ng-template\n    #defaultFriendlyName\n    i18n=\"Default friendly name@@bb-transaction-signing-oob-device.default-friendly-name\"\n  >\n    <span data-role=\"oob-device-friendly-name-default\">Unknown Device</span>\n  </ng-template>\n\n  <ng-template #defaultVendor i18n=\"Device vendor default text@@bb-transaction-signing-oob-device.default-vendor\">\n    <span data-role=\"oob-device-vendor-default\">Unknown</span>\n  </ng-template>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { ChallengeError, ChallengeSmsOtpData, CountdownService, SmsOtpResponse } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-sms-otp',\n  templateUrl: 'sms-otp.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningSmsOtpComponent implements OnChanges {\n  @Output() cancel = new EventEmitter<void>();\n  @Output() submitResponse = new EventEmitter<SmsOtpResponse>();\n  @Output() acceptError = new EventEmitter<Error>();\n  @Output() resend = new EventEmitter<void>();\n  @Input() previousData: ChallengeSmsOtpData | undefined;\n\n  @Input()\n  set data(value: ChallengeSmsOtpData) {\n    this.setOtpValidators(value.expectedOtpLength);\n    this.clearAlerts();\n    this.setResendCountdown(value);\n  }\n\n  get data() {\n    if (!this.challengeData) {\n      throw new Error('No challenge data set');\n    }\n    return this.challengeData;\n  }\n\n  @Input()\n  set error(value: ChallengeError | undefined) {\n    if (!value || !this.isRecognizedError(value)) {\n      this.errorValue = value;\n      return;\n    }\n\n    this.clearAlerts();\n    this.form.reset();\n    this.form.markAllAsTouched();\n    this.displayMissingAlert = true;\n  }\n\n  get error() {\n    return this.errorValue;\n  }\n\n  private readonly invalidRequestError = 'invalid_request';\n  readonly form: FormGroup = this.formBuilder.group({\n    otp: ['', [Validators.required, Validators.pattern(/^\\d{6}$/)]],\n  });\n  readonly timeUntilResend$: Observable<number> = this.countdown.remainingTime$;\n  errorValue: ChallengeError | undefined;\n  challengeData: ChallengeSmsOtpData | undefined;\n  displayIncorrectAlert = false;\n  displayMissingAlert = false;\n  displayRemainingAlert = false;\n  displayResendAlert = false;\n\n  constructor(private readonly formBuilder: FormBuilder, private countdown: CountdownService) {}\n\n  ngOnChanges(changes: any) {\n    this.setResendOptions(changes.data.currentValue.remainingOtpRequests);\n    this.setRemainingOptions(changes.data.currentValue.remainingAuthenticationAttempts);\n    this.challengeData = { ...this.previousData, ...changes.data.currentValue };\n  }\n\n  onSubmit() {\n    this.clearAlerts();\n    if (this.form.valid) {\n      return this.submitResponse.emit({ ...this.form.value } as SmsOtpResponse);\n    }\n\n    if (!this.form.value.otp || !this.form.value.otp.length) {\n      this.displayMissingAlert = true;\n      this.form.markAllAsTouched();\n    }\n\n    if (this.form.controls.otp.errors && this.form.controls.otp.errors.pattern) {\n      this.displayIncorrectAlert = true;\n      this.form.reset();\n      this.form.markAllAsTouched();\n    }\n  }\n\n  showInvalidError() {\n    return (this.displayIncorrectAlert || this.displayRemainingAlert) && !this.form.value.otp;\n  }\n\n  showMissingError() {\n    return this.displayMissingAlert && !this.form.value.otp;\n  }\n\n  private clearAlerts() {\n    this.displayIncorrectAlert = false;\n    this.displayMissingAlert = false;\n    this.displayRemainingAlert = false;\n    this.displayResendAlert = false;\n  }\n\n  private setOtpValidators(patternLength: number) {\n    const regex = new RegExp('^\\\\d{' + patternLength + '}$');\n    this.form.controls.otp.setValidators([Validators.required, Validators.pattern(regex)]);\n  }\n\n  private isRecognizedError(error: ChallengeError) {\n    return error.errorCode === this.invalidRequestError && error.errorDescription === this.invalidRequestError;\n  }\n\n  private setResendCountdown(challenge: ChallengeSmsOtpData) {\n    if (challenge.nextOtpTime > 0 && challenge.remainingOtpRequests !== 0) {\n      this.countdown.start(challenge.nextOtpTime);\n    }\n  }\n\n  private setResendOptions(remaining?: number) {\n    if (remaining === undefined || !this.previousData) {\n      return;\n    }\n\n    const previousRemaining = this.previousData && this.previousData.remainingOtpRequests;\n    if (!previousRemaining || remaining < previousRemaining) {\n      this.displayResendAlert = true;\n      this.displayRemainingAlert = false;\n    }\n  }\n\n  private setRemainingOptions(remaining?: number) {\n    if (remaining === undefined || !this.previousData) {\n      return;\n    }\n\n    const previousRemaining = this.previousData.remainingAuthenticationAttempts;\n    if (!previousRemaining || remaining < previousRemaining) {\n      this.form.reset();\n      this.form.markAllAsTouched();\n      this.displayRemainingAlert = true;\n      this.displayResendAlert = false;\n    }\n  }\n}\n","<bb-transaction-signing-error\n  *ngIf=\"errorValue; else displayForm\"\n  [error]=\"errorValue\"\n  (closeModal)=\"acceptError.emit($event)\"\n>\n</bb-transaction-signing-error>\n\n<ng-template #displayForm>\n  <bb-alert-ui\n    *ngIf=\"displayMissingAlert\"\n    data-role=\"ts-sms-otp-missing-alert\"\n    i18n-title=\"No value alert title for sms otp signing@@bb-sms-otp-signing.alert.missing.title\"\n    title=\"No value entered\"\n  >\n    <span i18n=\"No value alert message for sms otp signing@@bb-sms-otp-signing.alert.missing.message\">\n      Please enter the value displayed on your device.\n    </span>\n  </bb-alert-ui>\n  <bb-alert-ui\n    *ngIf=\"displayIncorrectAlert\"\n    data-role=\"ts-sms-otp-incorrect-alert\"\n    i18n-title=\"Incorrect attempts alert title for sms otp signing@@bb-sms-otp-signing.alert.incorrect.title\"\n    title=\"Authorization failed\"\n  >\n    <span i18n=\"Incorrect attempts alert message for sms otp signing@@bb-sms-otp-signing.alert.incorrect.message\">\n      The number you entered was incorrect.\n    </span>\n  </bb-alert-ui>\n  <bb-alert-ui\n    *ngIf=\"displayRemainingAlert\"\n    data-role=\"ts-sms-otp-remaining-alert\"\n    i18n-title=\"Remaining attempts alert title for sms otp signing@@bb-sms-otp-signing.alert.remaining.title\"\n    title=\"Authorization failed\"\n  >\n    <span i18n=\"Remaining attempts alert message for sms otp signing@@bb-sms-otp-signing.alert.remaining.message\">\n      The number you entered was incorrect. <br />\n      You have {{ data.remainingAuthenticationAttempts }} other {data.remainingAuthenticationAttempts, plural, =1\n      {attempt} other {attempts}} remaining.\n    </span>\n  </bb-alert-ui>\n  <bb-alert-ui\n    *ngIf=\"displayResendAlert\"\n    data-role=\"ts-sms-otp-resend-alert\"\n    modifier=\"info\"\n    i18n-title=\"Message resend alert title for sms otp signing@@bb-sms-otp-signing.alert.resend.title\"\n    title=\"SMS message resent\"\n  >\n    <span i18n=\"Message resend alert message for sms otp signing@@bb-sms-otp-signing.alert.resend.message\">\n      The SMS message has been successfully sent. <br />\n      You have {data.remainingOtpRequests, plural, =0 {no} other {{{data.remainingOtpRequests}} SMS}} resend\n      {data.remainingOtpRequests, plural, =1 {attempt} other {attempts}} left.\n    </span>\n  </bb-alert-ui>\n  <div class=\"bb-block bb-block--sm\" i18n=\"Instruction for sms otp signing@@bb-sms-otp-signing.instruction\">\n    SMS message sent to {{ data.phoneNumber }}\n  </div>\n  <div class=\"bb-block bb-block--lg\">\n    <ng-container *ngIf=\"data.remainingOtpRequests !== 0; else displayNoRemainingRequests\">\n      <ng-container *ngIf=\"timeUntilResend$ | async as time; else displayResendButton\">\n        <span\n          class=\"bb-subtitle bb-text-support bb-block bb-block--sm\"\n          i18n=\"Time before resend@@bb-sms-otp-signing.resend.time-before\"\n          data-role=\"ts-sms-otp-resend-helper\"\n        >\n          Next resend available in {{ time }} {time, plural, =1 {second} other {seconds}}\n        </span>\n        <bb-progressbar-ui height=\"0.5rem\" [value]=\"data.nextOtpTime - time\" [max]=\"data.nextOtpTime\">\n        </bb-progressbar-ui>\n      </ng-container>\n      <ng-template #displayResendButton>\n        <button\n          bbButton\n          data-role=\"ts-sms-otp-resend\"\n          color=\"secondary\"\n          buttonSize=\"sm\"\n          i18n=\"Resend SMS OTP button@@bb-sms-otp-signing.resend\"\n          (click)=\"resend.emit()\"\n        >\n          Resend message\n        </button>\n      </ng-template>\n    </ng-container>\n    <ng-template #displayNoRemainingRequests>\n      <span\n        data-role=\"ts-sms-otp-no-resend\"\n        class=\"bb-subtitle bb-text-danger\"\n        i18n=\"No otp resend attempts remaining@@bb-sms-otp-signing.no-resend\"\n      >\n        You have no SMS resend attempts left. <br />\n        Please enter the correct OTP code or cancel this transaction.\n      </span>\n    </ng-template>\n  </div>\n\n  <form [formGroup]=\"form\" (submit)=\"onSubmit()\" class=\"bb-block bb-block--md\">\n    <div class=\"form-group\">\n      <bb-input-text-ui\n        data-role=\"ts-sms-otp-field\"\n        class=\"bb-form-field bb-form-field--xs\"\n        formControlName=\"otp\"\n        i18n-label=\"Aria label for otp field input@@bb-sms-otp-signing.label\"\n        label=\"Input OTP code\"\n        [maxLength]=\"data.expectedOtpLength\"\n        [minLength]=\"data.expectedOtpLength\"\n      >\n      </bb-input-text-ui>\n      <bb-input-validation-message-ui [showErrors]=\"true\">\n        <span\n          *ngIf=\"showInvalidError()\"\n          data-role=\"ts-sms-otp-incorrect-error\"\n          i18n=\"Otp input invalid error message@@bb-sms-otp-signing.errors.invalid\"\n        >\n          Incorrect code. Try again.\n        </span>\n        <span\n          *ngIf=\"showMissingError()\"\n          data-role=\"ts-sms-otp-missing-error\"\n          i18n=\"Otp input missing error message@@bb-sms-otp-signing.errors.missing\"\n        >\n          You must enter an OTP.\n        </span>\n      </bb-input-validation-message-ui>\n      <small class=\"bb-text-support\" i18n=\"Otp input helper text@@bb-sms-otp-signing.helper\">\n        Value must be exactly {{ data.expectedOtpLength }} digits\n      </small>\n    </div>\n    <div class=\"bb-button-bar\">\n      <button\n        bbButton\n        data-role=\"ts-sms-otp-complete\"\n        class=\"bb-button-bar__button\"\n        color=\"primary\"\n        type=\"submit\"\n        i18n=\"Complete button@@bb-sms-otp-signing.complete\"\n      >\n        Complete\n      </button>\n      <button\n        bbButton\n        data-role=\"ts-sms-otp-cancel\"\n        class=\"bb-button-bar__button\"\n        color=\"secondary\"\n        (click)=\"cancel.emit()\"\n        i18n=\"Cancel button@@bb-sms-otp-signing.cancel\"\n      >\n        Cancel\n      </button>\n    </div>\n  </form>\n</ng-template>\n","/* eslint-disable @typescript-eslint/ban-types */\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\nimport { CapabilityData, ChallengeError } from '../../util';\n\n@Component({\n  selector: 'bb-transaction-signing-interface',\n  templateUrl: 'interface.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionSigningInterfaceComponent {\n  @Output() failure = new EventEmitter<Error>();\n  @Output() postSuccess = new EventEmitter<void>();\n  @Output() poll = new EventEmitter<object>();\n  @Output() post = new EventEmitter<object>();\n  /**\n   * Whether a signing is pending.\n   */\n  @Input() isPending = false;\n  /**\n   * An error received during signing.\n   */\n  @Input() error: ChallengeError | undefined;\n  /**\n   * Data defining the transaction.\n   */\n  @Input() transactionData: CapabilityData | undefined;\n  /**\n   * The type of challenge.\n   */\n  @Input() challengeType: string | undefined;\n\n  /**\n   * Enable the resending of push notifications\n   */\n  @Input() enableResendPushNotification!: boolean;\n\n  /**\n   * An error received during authentication.\n   */\n  @Input() challengeError: ChallengeError | undefined;\n\n  /**\n   * The data involved in the challenge.\n   */\n  get challengeData() {\n    if (!this.currentChallengeData) {\n      throw new Error('No current challenge data set');\n    }\n    return this.currentChallengeData;\n  }\n\n  @Input()\n  set challengeData(newData: any | undefined) {\n    this.previousChallengeData = this.currentChallengeData;\n    this.currentChallengeData = { ...this.previousChallengeData, ...newData };\n  }\n\n  readonly modalOptions: NgbModalOptions = {\n    keyboard: false,\n    backdrop: 'static',\n  };\n  previousChallengeData: any | undefined;\n  private currentChallengeData: any | undefined;\n}\n","<bb-modal-ui [isOpen]=\"true\" [modalOptions]=\"modalOptions\">\n  <bb-modal-header-ui data-role=\"ts-modal\">\n    <ng-template bbCustomModalHeader>\n      <bb-transaction-signing-header [data]=\"transactionData\"></bb-transaction-signing-header>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <hr class=\"mt-0\" />\n      <bb-transaction-signing-action-pending *ngIf=\"isPending\"></bb-transaction-signing-action-pending>\n      <ng-container *ngIf=\"!isPending\">\n        <bb-transaction-signing-error\n          *ngIf=\"challengeError\"\n          [error]=\"challengeError\"\n          (closeModal)=\"failure.emit($event)\"\n        >\n        </bb-transaction-signing-error>\n        <bb-transaction-signing-hard-token\n          *ngIf=\"challengeType === 'hard-token-auth'\"\n          [data]=\"challengeData\"\n          [error]=\"error\"\n          (submitResponse)=\"post.emit($event)\"\n          (cancel)=\"post.emit({ responseType: 'confirmation-abort' })\"\n          (acceptError)=\"failure.emit($event)\"\n        >\n        </bb-transaction-signing-hard-token>\n        <bb-transaction-signing-oob-select-device\n          *ngIf=\"challengeType === 'oob-ts-select-device'\"\n          [data]=\"challengeData\"\n          [error]=\"error\"\n          (submitResponse)=\"post.emit($event)\"\n          (cancel)=\"post.emit({ responseType: 'confirmation-abort' })\"\n          (acceptError)=\"failure.emit($event)\"\n        >\n        </bb-transaction-signing-oob-select-device>\n        <bb-transaction-signing-oob-device\n          *ngIf=\"challengeType === 'oob-uaf-auth'\"\n          [data]=\"challengeData\"\n          [enableResendPushNotification]=\"enableResendPushNotification\"\n          [error]=\"error\"\n          (poll)=\"poll.emit({ responseType: 'system-poll' })\"\n          (cancel)=\"post.emit({ responseType: 'confirmation-abort' })\"\n          (acceptError)=\"failure.emit($event)\"\n          (resend)=\"post.emit({ responseType: 'pn-resend' })\"\n        >\n        </bb-transaction-signing-oob-device>\n        <bb-transaction-signing-sms-otp\n          *ngIf=\"challengeType === 'sms-otp-auth'\"\n          [data]=\"challengeData\"\n          [previousData]=\"previousChallengeData\"\n          [error]=\"error\"\n          (submitResponse)=\"post.emit($event)\"\n          (cancel)=\"post.emit({ responseType: 'confirmation-abort' })\"\n          (acceptError)=\"failure.emit($event)\"\n          (resend)=\"post.emit({ responseType: 'otp-resend' })\"\n        >\n        </bb-transaction-signing-sms-otp>\n      </ng-container>\n    </ng-template>\n  </bb-modal-body-ui>\n</bb-modal-ui>\n","import { Component, Inject, OnDestroy, Optional } from '@angular/core';\nimport { BehaviorSubject, Observable, of, Subscription, throwError, timer } from 'rxjs';\nimport { retryWhen, switchMap } from 'rxjs/operators';\nimport { TransactionSigningService } from '../service/transaction-signing.service';\nimport {\n  CapabilityData,\n  ChallengeError,\n  ChallengeResponse,\n  TransactionSigningConfig,\n  TransactionSigningHandler,\n  TRANSACTION_SIGNING_CONFIG,\n} from '../util';\n\n@Component({\n  selector: 'bb-transaction-signing',\n  templateUrl: 'transaction-signing.component.html',\n})\nexport class TransactionSigningComponent implements OnDestroy {\n  private readonly errorSubject = new BehaviorSubject<ChallengeError | undefined>(undefined);\n  private readonly pendingSubject = new BehaviorSubject<boolean>(false);\n  private readonly challengeSubject = new BehaviorSubject<ChallengeResponse | undefined>(undefined);\n  private readonly requestSubscription = this.setupRequestSubscription();\n  private pollingSubscription: Subscription | undefined;\n  readonly challenge = this.challengeSubject.asObservable();\n  readonly error = this.errorSubject.asObservable();\n  readonly pending = this.pendingSubject.asObservable();\n  txnData: CapabilityData | undefined;\n\n  enableResendPushNotification = this.config.enableResendPushNotification;\n\n  constructor(\n    private readonly transactionSigningService: TransactionSigningService,\n    @Optional() @Inject(TRANSACTION_SIGNING_CONFIG) private readonly config: TransactionSigningConfig,\n  ) {}\n\n  ngOnDestroy(): void {\n    this.requestSubscription.unsubscribe();\n    if (this.pollingSubscription) {\n      this.pollingSubscription.unsubscribe();\n    }\n  }\n\n  onFailure(error: Error) {\n    this.transactionSigningService.completeWithFailure(error);\n    this.clearChallenge();\n  }\n\n  onSuccess() {\n    this.transactionSigningService.completeWithSuccess();\n    this.clearChallenge();\n  }\n\n  onPoll(data: unknown) {\n    this.pollingSubscription = of(data)\n      .pipe(\n        switchMap((d) => this.transactionSigningService.respondToChallenge(d)),\n        retryWhen((errors: Observable<ChallengeResponse>) => {\n          return errors.pipe(\n            switchMap((response: ChallengeResponse) => {\n              if (response.error) {\n                return throwError(response);\n              }\n              return timer(this.config.pollingCycleTime);\n            }),\n          );\n        }),\n      )\n      .subscribe({\n        next: () => this.onSuccess(),\n        error: (response: ChallengeResponse) => {\n          this.errorSubject.next(response.error);\n        },\n      });\n  }\n\n  onPost(data: unknown) {\n    if (this.pollingSubscription) {\n      this.pollingSubscription.unsubscribe();\n    }\n    this.pendingSubject.next(true);\n    this.transactionSigningService.respondToChallenge(data).subscribe({\n      next: () => this.onSuccess(),\n      error: (response: ChallengeResponse) => {\n        if (response.error) {\n          if (response.error.errorDescription === 'rejected_by_user') {\n            this.onFailure(new Error(response.error.errorDescription));\n          } else {\n            this.errorSubject.next(response.error);\n          }\n        } else {\n          this.challengeSubject.next(response);\n        }\n        this.pendingSubject.next(false);\n      },\n    });\n  }\n\n  private setupRequestSubscription() {\n    return this.transactionSigningService.requestSubject.subscribe((value) => this.updateChallenge(value));\n  }\n\n  private updateChallenge(handler: TransactionSigningHandler) {\n    this.txnData = handler.transactionData;\n    this.pendingSubject.next(false);\n    if (handler.challenge) {\n      this.challengeSubject.next(handler.challenge);\n    }\n  }\n\n  private clearChallenge() {\n    this.challengeSubject.next(undefined);\n    this.errorSubject.next(undefined);\n    this.txnData = undefined;\n    this.pendingSubject.next(false);\n  }\n}\n","<bb-transaction-signing-interface\n  *ngIf=\"challenge | async as challengeData\"\n  [isPending]=\"(pending | async) || false\"\n  [error]=\"(error | async) || undefined\"\n  [transactionData]=\"txnData\"\n  [challengeType]=\"challengeData.challengeType\"\n  [challengeData]=\"challengeData.challengeData\"\n  [challengeError]=\"challengeData.error\"\n  [enableResendPushNotification]=\"enableResendPushNotification\"\n  (failure)=\"onFailure($event)\"\n  (postSuccess)=\"onSuccess()\"\n  (poll)=\"onPoll($event)\"\n  (post)=\"onPost($event)\"\n>\n</bb-transaction-signing-interface>\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { TransactionSigningService } from '../service/transaction-signing.service';\n\n/**\n * Interceptor used to check for reauthentication errors\n */\n@Injectable()\nexport class TransactionSigningInterceptor implements HttpInterceptor {\n  constructor(private readonly transactionSigningService: TransactionSigningService) {}\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next\n      .handle(request)\n      .pipe(catchError((error) => this.transactionSigningService.initiateTransactionSigning(error)));\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { DropdownSingleSelectModule } from '@backbase/ui-ang/dropdown-single-select';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { InputTextModule } from '@backbase/ui-ang/input-text';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { ProgressbarModule } from '@backbase/ui-ang/progressbar';\nimport { TransactionSigningComponent } from './feature/transaction-signing.component';\nimport { TransactionSigningInterceptor } from './interceptor/transaction-signing.interceptor';\nimport { TransactionSigningService } from './service/transaction-signing.service';\nimport {\n  TransactionSigningActionPendingComponent,\n  TransactionSigningErrorComponent,\n  TransactionSigningHardTokenComponent,\n  TransactionSigningHeaderComponent,\n  TransactionSigningInterfaceComponent,\n  TransactionSigningOobDeviceComponent,\n  TransactionSigningOobSelectDeviceComponent,\n  TransactionSigningSmsOtpComponent,\n} from './ui';\nimport { TransactionAmountPipe, TransactionSigningConfig, TRANSACTION_SIGNING_CONFIG } from './util';\n\nconst tsDefaults = {\n  useRedirectFlow: false,\n  pollingCycleTime: 3000,\n  enableResendPushNotification: false,\n};\n\nconst providers = [\n  TransactionSigningService,\n  {\n    provide: HTTP_INTERCEPTORS,\n    useClass: TransactionSigningInterceptor,\n    multi: true,\n  },\n];\n\nconst defaultConfigProviders = [\n  {\n    provide: TRANSACTION_SIGNING_CONFIG,\n    useValue: tsDefaults,\n  },\n];\n\nconst uiComponents = [\n  ModalModule,\n  HeaderModule,\n  ButtonModule,\n  ReactiveFormsModule,\n  AmountModule,\n  InputTextModule,\n  InputValidationMessageModule,\n  LoadingIndicatorModule,\n  EmptyStateModule,\n  AlertModule,\n  IconModule,\n  ProgressbarModule,\n  DropdownSingleSelectModule,\n];\n\nconst components = [\n  TransactionSigningComponent,\n  TransactionSigningErrorComponent,\n  TransactionSigningInterfaceComponent,\n  TransactionSigningActionPendingComponent,\n  TransactionSigningHeaderComponent,\n  TransactionSigningHardTokenComponent,\n  TransactionSigningOobDeviceComponent,\n  TransactionSigningOobSelectDeviceComponent,\n  TransactionSigningSmsOtpComponent,\n  TransactionAmountPipe,\n];\n\n/**\n * Module used to initialize Transaction Signing with a configuration\n */\n@NgModule({\n  imports: [CommonModule, ...uiComponents],\n  declarations: [...components],\n  providers: [...providers, ...defaultConfigProviders],\n  exports: [TransactionSigningComponent],\n})\nexport class TransactionSigningModule {\n  /**\n   * Creates a configured TransactionSigningModule.\n   *\n   * This should be called only once per app.\n   *\n   * @usageNotes\n   *\n   * ### Example\n   *\n   * ```\n   * @NgModule({\n   *   imports: [\n   *     TransactionSigningModule.withConfig({\n   *        useRedirectFlow: true,\n   *        pollingCycleTime: 5000,\n   *        enableResendPushNotification: true,\n   *     })\n   *   ]\n   * })\n   * class AppModule {}\n   * ```\n   */\n  static withConfig(config: Partial<TransactionSigningConfig>): ModuleWithProviders<TransactionSigningModule> {\n    return {\n      ngModule: TransactionSigningModule,\n      providers: [\n        {\n          provide: TRANSACTION_SIGNING_CONFIG,\n          useValue: {\n            ...tsDefaults,\n            ...config,\n          },\n        },\n        ...providers,\n      ],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["InjectionToken","BehaviorSubject","Subject","interval","takeUntil","map","Injectable","ProgressStatus","TransactionStatus","switchMap","from","retry","filter","first","of","Pipe","ReplaySubject","throwError","withLatestFrom","HttpResponse","HttpErrorResponse","mapTo","catchError","Observable","Optional","Inject","Component","ChangeDetectionStrategy","Input","EventEmitter","Output","Validators","retryWhen","timer","HTTP_INTERCEPTORS","ModalModule","HeaderModule","ButtonModule","ReactiveFormsModule","AmountModule","InputTextModule","InputValidationMessageModule","LoadingIndicatorModule","EmptyStateModule","AlertModule","IconModule","ProgressbarModule","DropdownSingleSelectModule","CommonModule","NgModule"],"mappings":"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"}