import { Component, Directive } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { NewPostalAddressComponent } from '@backbase/user-common';
import * as i0 from "@angular/core";
import * as i1 from "../../user-manage-profile.service";
import * as i2 from "@backbase/user-common";
import * as i3 from "@backbase/ui-ang/notification";
import * as i4 from "../../user-profile-forms/user-postal-address-form.component";
import * as i5 from "@backbase/ui-ang/header";
export class UserNewPostalAddressComponent extends NewPostalAddressComponent {
    constructor(manageProfileService, manageProfilePreferencesService, cd, notificationService) {
        super(manageProfilePreferencesService, cd, notificationService);
        this.manageProfileService = manageProfileService;
        this.manageProfilePreferencesService = manageProfilePreferencesService;
        this.cd = cd;
        this.notificationService = notificationService;
    }
    handleSaveClick(postalAddressData) {
        this.isSubmitting = true;
        this.manageProfileService
            .createPostalAddressRecord(postalAddressData)
            .pipe(this.handleServiceResponse()).connect();
    }
}
UserNewPostalAddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressComponent, deps: [{ token: i1.UserManageProfileService }, { token: i2.ManageProfilePreferencesService }, { token: i0.ChangeDetectorRef }, { token: i3.NotificationService }], target: i0.ɵɵFactoryTarget.Component });
UserNewPostalAddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPostalAddressComponent, selector: "bb-user-new-postal-address", usesInheritance: true, ngImport: i0, template: "<ng-container bbUserNewPostalAddressCustomizable [bbHostRef]=\"this\">\n</ng-container>\n\n<ng-template bbUserNewPostalAddressCustomizable let-hostRef>\n  <div data-role=\"user-manage-profile-postal-add-container\">\n    <ng-container bbUserNewPostalAddressTitleCustomizable [bbHostRef]=\"hostRef\">\n    </ng-container>\n    <bb-user-postal-address-form\n      [data]=\"hostRef.newPostalAddressData\"\n      [types]=\"hostRef.postalAddressTypes\"\n      [isSubmitting]=\"hostRef.isSubmitting\"\n      (cancel)=\"hostRef.handleCancelClick()\"\n      (save)=\"hostRef.handleSaveClick($event)\">\n    </bb-user-postal-address-form>\n  </div>\n</ng-template>\n\n<ng-template bbUserNewPostalAddressTitleCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--md\">\n    <bb-header-ui\n      headingType=\"h4\"\n      i18n-heading=\"New postal address title|Text for the title of the new postal address card@@bb-user-new-postal-address.title\"\n      heading=\"Add address\">\n    </bb-header-ui>\n  </div>\n</ng-template>\n\n<ng-template #notificationSuccess>\n  <span data-role=\"user-manage-profile-postal-add-success-notification\" i18n=\"Postal Address creation notification|Notification text for when the postal address is created@@bb-user-new-postal-address.notification.creation-success\">\n    Address successfully added\n  </span>\n</ng-template>\n\n<ng-template #notificationFailure>\n  <span i18n=\"Postal Address creation failed notification|Notification text for when the postal address failed to create@@bb-user-new-postal-address.notification.creation-failed\">\n    Something went wrong. Please try again or contact support if the issue persists\n  </span>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i4.UserPostalAddressFormComponent; }), selector: "bb-user-postal-address-form" }, { type: i0.forwardRef(function () { return i5.HeaderComponent; }), selector: "bb-header-ui", inputs: ["headingClasses", "headingType", "heading"] }], directives: [{ type: i0.forwardRef(function () { return UserNewPostalAddressCustomizableDirective; }), selector: "[bbUserNewPostalAddressCustomizable]" }, { type: i0.forwardRef(function () { return UserNewPostalAddressTitleCustomizableDirective; }), selector: "[bbUserNewPostalAddressTitleCustomizable]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-user-new-postal-address',
                    templateUrl: './user-new-postal-address.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.UserManageProfileService }, { type: i2.ManageProfilePreferencesService }, { type: i0.ChangeDetectorRef }, { type: i3.NotificationService }]; } });
export class UserNewPostalAddressCustomizableDirective extends BbTemplate {
}
UserNewPostalAddressCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewPostalAddressCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPostalAddressCustomizableDirective, selector: "[bbUserNewPostalAddressCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewPostalAddressCustomizable]',
                }]
        }] });
export class UserNewPostalAddressTitleCustomizableDirective extends BbTemplate {
}
UserNewPostalAddressTitleCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressTitleCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewPostalAddressTitleCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPostalAddressTitleCustomizableDirective, selector: "[bbUserNewPostalAddressTitleCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPostalAddressTitleCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewPostalAddressTitleCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1uZXctcG9zdGFsLWFkZHJlc3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy91c2VyLW1hbmFnZS1wcm9maWxlLXdpZGdldC9zcmMvdXNlci1tYW5hZ2UtcG9zdGFsLWFkZHJlc3Nlcy91c2VyLW5ldy1wb3N0YWwtYWRkcmVzcy91c2VyLW5ldy1wb3N0YWwtYWRkcmVzcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXItbWFuYWdlLXByb2ZpbGUtd2lkZ2V0L3NyYy91c2VyLW1hbmFnZS1wb3N0YWwtYWRkcmVzc2VzL3VzZXItbmV3LXBvc3RhbC1hZGRyZXNzL3VzZXItbmV3LXBvc3RhbC1hZGRyZXNzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBcUIsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFM0QsT0FBTyxFQUFtQyx5QkFBeUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7Ozs7O0FBU25HLE1BQU0sT0FBTyw2QkFBOEIsU0FBUSx5QkFBeUI7SUFDMUUsWUFDbUIsb0JBQThDLEVBQzVDLCtCQUFnRSxFQUNoRSxFQUFxQixFQUNyQixtQkFBd0M7UUFFM0QsS0FBSyxDQUFDLCtCQUErQixFQUFFLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBTC9DLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBMEI7UUFDNUMsb0NBQStCLEdBQS9CLCtCQUErQixDQUFpQztRQUNoRSxPQUFFLEdBQUYsRUFBRSxDQUFtQjtRQUNyQix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO0lBRzdELENBQUM7SUFFRCxlQUFlLENBQUMsaUJBQWdDO1FBQzlDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBRXZCLElBQUksQ0FBQyxvQkFBb0I7YUFDdEIseUJBQXlCLENBQUMsaUJBQWlCLENBQUM7YUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUNyQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQzs7MkhBakJVLDZCQUE2QjsrR0FBN0IsNkJBQTZCLHlGQ2IxQyw2cERBc0NBLDBWREZhLHlDQUF5QyxxR0FLekMsOENBQThDOzRGQTVCOUMsNkJBQTZCO2tCQUp6QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSw0QkFBNEI7b0JBQ3RDLFdBQVcsRUFBRSwwQ0FBMEM7aUJBQ3hEOztBQXdCRCxNQUFNLE9BQU8seUNBQTBDLFNBQVEsVUFBb0Q7O3VJQUF0Ryx5Q0FBeUM7MkhBQXpDLHlDQUF5Qzs0RkFBekMseUNBQXlDO2tCQUhyRCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxzQ0FBc0M7aUJBQ2pEOztBQU1ELE1BQU0sT0FBTyw4Q0FBK0MsU0FBUSxVQUduRTs7NElBSFksOENBQThDO2dJQUE5Qyw4Q0FBOEM7NEZBQTlDLDhDQUE4QztrQkFIMUQsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsMkNBQTJDO2lCQUN0RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmJUZW1wbGF0ZSB9IGZyb20gJ0BiYWNrYmFzZS9mb3VuZGF0aW9uLWFuZy9jb3JlJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvblNlcnZpY2UgfSBmcm9tICdAYmFja2Jhc2UvdWktYW5nL25vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBNYW5hZ2VQcm9maWxlUHJlZmVyZW5jZXNTZXJ2aWNlLCBOZXdQb3N0YWxBZGRyZXNzQ29tcG9uZW50IH0gZnJvbSAnQGJhY2tiYXNlL3VzZXItY29tbW9uJztcbmltcG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUG9zdGFsQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL3VzZXItdHlwZXMnO1xuaW1wb3J0IHsgVXNlck1hbmFnZVByb2ZpbGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vdXNlci1tYW5hZ2UtcHJvZmlsZS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItdXNlci1uZXctcG9zdGFsLWFkZHJlc3MnLFxuICB0ZW1wbGF0ZVVybDogJy4vdXNlci1uZXctcG9zdGFsLWFkZHJlc3MuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTmV3UG9zdGFsQWRkcmVzc0NvbXBvbmVudCBleHRlbmRzIE5ld1Bvc3RhbEFkZHJlc3NDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hbmFnZVByb2ZpbGVTZXJ2aWNlOiBVc2VyTWFuYWdlUHJvZmlsZVNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2U6IE1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbm90aWZpY2F0aW9uU2VydmljZTogTm90aWZpY2F0aW9uU2VydmljZSxcbiAgKSB7XG4gICAgc3VwZXIobWFuYWdlUHJvZmlsZVByZWZlcmVuY2VzU2VydmljZSwgY2QsIG5vdGlmaWNhdGlvblNlcnZpY2UpO1xuICB9XG5cbiAgaGFuZGxlU2F2ZUNsaWNrKHBvc3RhbEFkZHJlc3NEYXRhOiBQb3N0YWxBZGRyZXNzKSB7XG4gICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSB0cnVlO1xuICAgIChcbiAgICAgIHRoaXMubWFuYWdlUHJvZmlsZVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZVBvc3RhbEFkZHJlc3NSZWNvcmQocG9zdGFsQWRkcmVzc0RhdGEpXG4gICAgICAgIC5waXBlKHRoaXMuaGFuZGxlU2VydmljZVJlc3BvbnNlKCkpIGFzIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8dW5kZWZpbmVkPj5cbiAgICApLmNvbm5lY3QoKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJVc2VyTmV3UG9zdGFsQWRkcmVzc0N1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTmV3UG9zdGFsQWRkcmVzc0N1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8VXNlck5ld1Bvc3RhbEFkZHJlc3NDb21wb25lbnQsIHVuZGVmaW5lZD4ge31cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiVXNlck5ld1Bvc3RhbEFkZHJlc3NUaXRsZUN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTmV3UG9zdGFsQWRkcmVzc1RpdGxlQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgVXNlck5ld1Bvc3RhbEFkZHJlc3NDb21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuIiwiPG5nLWNvbnRhaW5lciBiYlVzZXJOZXdQb3N0YWxBZGRyZXNzQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwidGhpc1wiPlxuPC9uZy1jb250YWluZXI+XG5cbjxuZy10ZW1wbGF0ZSBiYlVzZXJOZXdQb3N0YWxBZGRyZXNzQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICA8ZGl2IGRhdGEtcm9sZT1cInVzZXItbWFuYWdlLXByb2ZpbGUtcG9zdGFsLWFkZC1jb250YWluZXJcIj5cbiAgICA8bmctY29udGFpbmVyIGJiVXNlck5ld1Bvc3RhbEFkZHJlc3NUaXRsZUN1c3RvbWl6YWJsZSBbYmJIb3N0UmVmXT1cImhvc3RSZWZcIj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8YmItdXNlci1wb3N0YWwtYWRkcmVzcy1mb3JtXG4gICAgICBbZGF0YV09XCJob3N0UmVmLm5ld1Bvc3RhbEFkZHJlc3NEYXRhXCJcbiAgICAgIFt0eXBlc109XCJob3N0UmVmLnBvc3RhbEFkZHJlc3NUeXBlc1wiXG4gICAgICBbaXNTdWJtaXR0aW5nXT1cImhvc3RSZWYuaXNTdWJtaXR0aW5nXCJcbiAgICAgIChjYW5jZWwpPVwiaG9zdFJlZi5oYW5kbGVDYW5jZWxDbGljaygpXCJcbiAgICAgIChzYXZlKT1cImhvc3RSZWYuaGFuZGxlU2F2ZUNsaWNrKCRldmVudClcIj5cbiAgICA8L2JiLXVzZXItcG9zdGFsLWFkZHJlc3MtZm9ybT5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgYmJVc2VyTmV3UG9zdGFsQWRkcmVzc1RpdGxlQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kXCI+XG4gICAgPGJiLWhlYWRlci11aVxuICAgICAgaGVhZGluZ1R5cGU9XCJoNFwiXG4gICAgICBpMThuLWhlYWRpbmc9XCJOZXcgcG9zdGFsIGFkZHJlc3MgdGl0bGV8VGV4dCBmb3IgdGhlIHRpdGxlIG9mIHRoZSBuZXcgcG9zdGFsIGFkZHJlc3MgY2FyZEBAYmItdXNlci1uZXctcG9zdGFsLWFkZHJlc3MudGl0bGVcIlxuICAgICAgaGVhZGluZz1cIkFkZCBhZGRyZXNzXCI+XG4gICAgPC9iYi1oZWFkZXItdWk+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNub3RpZmljYXRpb25TdWNjZXNzPlxuICA8c3BhbiBkYXRhLXJvbGU9XCJ1c2VyLW1hbmFnZS1wcm9maWxlLXBvc3RhbC1hZGQtc3VjY2Vzcy1ub3RpZmljYXRpb25cIiBpMThuPVwiUG9zdGFsIEFkZHJlc3MgY3JlYXRpb24gbm90aWZpY2F0aW9ufE5vdGlmaWNhdGlvbiB0ZXh0IGZvciB3aGVuIHRoZSBwb3N0YWwgYWRkcmVzcyBpcyBjcmVhdGVkQEBiYi11c2VyLW5ldy1wb3N0YWwtYWRkcmVzcy5ub3RpZmljYXRpb24uY3JlYXRpb24tc3VjY2Vzc1wiPlxuICAgIEFkZHJlc3Mgc3VjY2Vzc2Z1bGx5IGFkZGVkXG4gIDwvc3Bhbj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjbm90aWZpY2F0aW9uRmFpbHVyZT5cbiAgPHNwYW4gaTE4bj1cIlBvc3RhbCBBZGRyZXNzIGNyZWF0aW9uIGZhaWxlZCBub3RpZmljYXRpb258Tm90aWZpY2F0aW9uIHRleHQgZm9yIHdoZW4gdGhlIHBvc3RhbCBhZGRyZXNzIGZhaWxlZCB0byBjcmVhdGVAQGJiLXVzZXItbmV3LXBvc3RhbC1hZGRyZXNzLm5vdGlmaWNhdGlvbi5jcmVhdGlvbi1mYWlsZWRcIj5cbiAgICBTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzXG4gIDwvc3Bhbj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=