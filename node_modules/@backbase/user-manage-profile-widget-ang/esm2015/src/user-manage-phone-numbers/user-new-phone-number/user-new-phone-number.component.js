import { Component, Directive, Input } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { NewPhoneNumberComponent } from '@backbase/user-common';
import * as i0 from "@angular/core";
import * as i1 from "../../user-manage-profile.service";
import * as i2 from "@backbase/user-common";
import * as i3 from "@backbase/ui-ang/notification";
import * as i4 from "../../user-profile-forms/user-phone-number-form.component";
import * as i5 from "@backbase/ui-ang/header";
export class UserNewPhoneNumberComponent extends NewPhoneNumberComponent {
    constructor(manageProfileService, manageProfilePreferencesService, cd, notificationService) {
        super(manageProfilePreferencesService, cd, notificationService);
        this.manageProfileService = manageProfileService;
        this.manageProfilePreferencesService = manageProfilePreferencesService;
        this.cd = cd;
        this.notificationService = notificationService;
    }
    handleSaveClick(phoneAddress) {
        this.isSubmitting = true;
        this.manageProfileService
            .createPhoneAddressRecord(phoneAddress)
            .pipe(this.handleServiceResponse()).connect();
    }
}
UserNewPhoneNumberComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberComponent, deps: [{ token: i1.UserManageProfileService }, { token: i2.ManageProfilePreferencesService }, { token: i0.ChangeDetectorRef }, { token: i3.NotificationService }], target: i0.ɵɵFactoryTarget.Component });
UserNewPhoneNumberComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPhoneNumberComponent, selector: "bb-user-new-phone-number", inputs: { phoneNumberCountryCode: "phoneNumberCountryCode", phoneNumberDebounceTime: "phoneNumberDebounceTime", enablePhoneNumberFormatter: "enablePhoneNumberFormatter" }, usesInheritance: true, ngImport: i0, template: "<ng-container bbUserNewPhoneNumberCustomizable [bbHostRef]=\"this\">\n</ng-container>\n\n<ng-template bbUserNewPhoneNumberCustomizable let-hostRef>\n  <div data-role=\"user-manage-profile-phone-add-container\">\n    <ng-container bbUserNewPhoneNumberTitleCustomizable [bbHostRef]=\"hostRef\">\n    </ng-container>\n    <bb-user-phone-number-form\n      [data]=\"hostRef.newPhoneNumberData\"\n      [types]=\"hostRef.phoneNumberTypes\"\n      [isSubmitting]=\"hostRef.isSubmitting\"\n      [phoneNumberCountryCode]=\"hostRef.phoneNumberCountryCode\"\n      [phoneNumberDebounceTime]=\"hostRef.phoneNumberDebounceTime\"\n      [enablePhoneNumberFormatter]=\"hostRef.enablePhoneNumberFormatter\"\n      (cancel)=\"hostRef.handleCancelClick()\"\n      (save)=\"hostRef.handleSaveClick($event)\">\n    </bb-user-phone-number-form>\n  </div>\n</ng-template>\n\n<ng-template bbUserNewPhoneNumberTitleCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--md\">\n    <bb-header-ui\n      headingType=\"h4\"\n      i18n-heading=\"New phone number title|Text for the title of the new phone number card@@bb-user-new-phone-number.title\"\n      heading=\"Add phone number\">\n    </bb-header-ui>\n  </div>\n</ng-template>\n\n<ng-template #notificationSuccess>\n  <span data-role=\"user-manage-profile-phone-add-success-notification\" i18n=\"Phone Number creation notification|Notification text for when the phone number is created@@bb-user-new-phone-number.notification.creation-success\">\n    Phone number successfully added\n  </span>\n</ng-template>\n\n<ng-template #notificationFailure>\n  <span i18n=\"Phone Number creation failed notification|Notification text for when the phone number failed to create@@bb-user-new-phone-number.notification.creation-failed\">\n    Something went wrong. Please try again or contact support if the issue persists\n  </span>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i4.UserPhoneNumberFormComponent; }), selector: "bb-user-phone-number-form", inputs: ["phoneNumberCountryCode", "phoneNumberDebounceTime", "enablePhoneNumberFormatter"] }, { type: i0.forwardRef(function () { return i5.HeaderComponent; }), selector: "bb-header-ui", inputs: ["headingClasses", "headingType", "heading"] }], directives: [{ type: i0.forwardRef(function () { return UserNewPhoneNumberCustomizableDirective; }), selector: "[bbUserNewPhoneNumberCustomizable]" }, { type: i0.forwardRef(function () { return UserNewPhoneNumberTitleCustomizableDirective; }), selector: "[bbUserNewPhoneNumberTitleCustomizable]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-user-new-phone-number',
                    templateUrl: './user-new-phone-number.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.UserManageProfileService }, { type: i2.ManageProfilePreferencesService }, { type: i0.ChangeDetectorRef }, { type: i3.NotificationService }]; }, propDecorators: { phoneNumberCountryCode: [{
                type: Input
            }], phoneNumberDebounceTime: [{
                type: Input
            }], enablePhoneNumberFormatter: [{
                type: Input
            }] } });
export class UserNewPhoneNumberCustomizableDirective extends BbTemplate {
}
UserNewPhoneNumberCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewPhoneNumberCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPhoneNumberCustomizableDirective, selector: "[bbUserNewPhoneNumberCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewPhoneNumberCustomizable]',
                }]
        }] });
export class UserNewPhoneNumberTitleCustomizableDirective extends BbTemplate {
}
UserNewPhoneNumberTitleCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberTitleCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewPhoneNumberTitleCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewPhoneNumberTitleCustomizableDirective, selector: "[bbUserNewPhoneNumberTitleCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewPhoneNumberTitleCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewPhoneNumberTitleCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1uZXctcGhvbmUtbnVtYmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdXNlci1tYW5hZ2UtcHJvZmlsZS13aWRnZXQvc3JjL3VzZXItbWFuYWdlLXBob25lLW51bWJlcnMvdXNlci1uZXctcGhvbmUtbnVtYmVyL3VzZXItbmV3LXBob25lLW51bWJlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXItbWFuYWdlLXByb2ZpbGUtd2lkZ2V0L3NyYy91c2VyLW1hbmFnZS1waG9uZS1udW1iZXJzL3VzZXItbmV3LXBob25lLW51bWJlci91c2VyLW5ldy1waG9uZS1udW1iZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFxQixTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFHM0QsT0FBTyxFQUFtQyx1QkFBdUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7Ozs7O0FBU2pHLE1BQU0sT0FBTywyQkFBNEIsU0FBUSx1QkFBdUI7SUFLdEUsWUFDbUIsb0JBQThDLEVBQzVDLCtCQUFnRSxFQUNoRSxFQUFxQixFQUNyQixtQkFBd0M7UUFFM0QsS0FBSyxDQUFDLCtCQUErQixFQUFFLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBTC9DLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBMEI7UUFDNUMsb0NBQStCLEdBQS9CLCtCQUErQixDQUFpQztRQUNoRSxPQUFFLEdBQUYsRUFBRSxDQUFtQjtRQUNyQix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO0lBRzdELENBQUM7SUFFRCxlQUFlLENBQUMsWUFBMEI7UUFDeEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFFdkIsSUFBSSxDQUFDLG9CQUFvQjthQUN0Qix3QkFBd0IsQ0FBQyxZQUFZLENBQUM7YUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUNyQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQzs7eUhBckJVLDJCQUEyQjs2R0FBM0IsMkJBQTJCLG1RQ2R4QyxzMURBeUNBLG1iREFhLHVDQUF1QyxtR0FLdkMsNENBQTRDOzRGQWhDNUMsMkJBQTJCO2tCQUp2QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSwwQkFBMEI7b0JBQ3BDLFdBQVcsRUFBRSx3Q0FBd0M7aUJBQ3REOytOQUVVLHNCQUFzQjtzQkFBOUIsS0FBSztnQkFDRyx1QkFBdUI7c0JBQS9CLEtBQUs7Z0JBQ0csMEJBQTBCO3NCQUFsQyxLQUFLOztBQXdCUixNQUFNLE9BQU8sdUNBQXdDLFNBQVEsVUFBa0Q7O3FJQUFsRyx1Q0FBdUM7eUhBQXZDLHVDQUF1Qzs0RkFBdkMsdUNBQXVDO2tCQUhuRCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxvQ0FBb0M7aUJBQy9DOztBQU1ELE1BQU0sT0FBTyw0Q0FBNkMsU0FBUSxVQUFrRDs7MElBQXZHLDRDQUE0Qzs4SEFBNUMsNENBQTRDOzRGQUE1Qyw0Q0FBNEM7a0JBSHhELFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLHlDQUF5QztpQkFDcEQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBEaXJlY3RpdmUsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYlRlbXBsYXRlIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJ0BiYWNrYmFzZS91aS1hbmcvbm90aWZpY2F0aW9uJztcbmltcG9ydCB7IENvdW50cnlDb2RlIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy9waG9uZS1udW1iZXItZm9ybWF0LXBpcGUnO1xuaW1wb3J0IHsgTWFuYWdlUHJvZmlsZVByZWZlcmVuY2VzU2VydmljZSwgTmV3UGhvbmVOdW1iZXJDb21wb25lbnQgfSBmcm9tICdAYmFja2Jhc2UvdXNlci1jb21tb24nO1xuaW1wb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBQaG9uZUFkZHJlc3MgfSBmcm9tICcuLi8uLi90eXBlcy91c2VyLXR5cGVzJztcbmltcG9ydCB7IFVzZXJNYW5hZ2VQcm9maWxlU2VydmljZSB9IGZyb20gJy4uLy4uL3VzZXItbWFuYWdlLXByb2ZpbGUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2JiLXVzZXItbmV3LXBob25lLW51bWJlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi91c2VyLW5ldy1waG9uZS1udW1iZXIuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTmV3UGhvbmVOdW1iZXJDb21wb25lbnQgZXh0ZW5kcyBOZXdQaG9uZU51bWJlckNvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHBob25lTnVtYmVyQ291bnRyeUNvZGU6IENvdW50cnlDb2RlIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBwaG9uZU51bWJlckRlYm91bmNlVGltZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBlbmFibGVQaG9uZU51bWJlckZvcm1hdHRlcjogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hbmFnZVByb2ZpbGVTZXJ2aWNlOiBVc2VyTWFuYWdlUHJvZmlsZVNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2U6IE1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbm90aWZpY2F0aW9uU2VydmljZTogTm90aWZpY2F0aW9uU2VydmljZSxcbiAgKSB7XG4gICAgc3VwZXIobWFuYWdlUHJvZmlsZVByZWZlcmVuY2VzU2VydmljZSwgY2QsIG5vdGlmaWNhdGlvblNlcnZpY2UpO1xuICB9XG5cbiAgaGFuZGxlU2F2ZUNsaWNrKHBob25lQWRkcmVzczogUGhvbmVBZGRyZXNzKSB7XG4gICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSB0cnVlO1xuICAgIChcbiAgICAgIHRoaXMubWFuYWdlUHJvZmlsZVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZVBob25lQWRkcmVzc1JlY29yZChwaG9uZUFkZHJlc3MpXG4gICAgICAgIC5waXBlKHRoaXMuaGFuZGxlU2VydmljZVJlc3BvbnNlKCkpIGFzIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8dW5kZWZpbmVkPj5cbiAgICApLmNvbm5lY3QoKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJVc2VyTmV3UGhvbmVOdW1iZXJDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVXNlck5ld1Bob25lTnVtYmVyQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxVc2VyTmV3UGhvbmVOdW1iZXJDb21wb25lbnQsIHVuZGVmaW5lZD4ge31cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiVXNlck5ld1Bob25lTnVtYmVyVGl0bGVDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVXNlck5ld1Bob25lTnVtYmVyVGl0bGVDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFVzZXJOZXdQaG9uZU51bWJlckNvbXBvbmVudCwgdW5kZWZpbmVkPiB7fVxuIiwiPG5nLWNvbnRhaW5lciBiYlVzZXJOZXdQaG9uZU51bWJlckN1c3RvbWl6YWJsZSBbYmJIb3N0UmVmXT1cInRoaXNcIj5cbjwvbmctY29udGFpbmVyPlxuXG48bmctdGVtcGxhdGUgYmJVc2VyTmV3UGhvbmVOdW1iZXJDdXN0b21pemFibGUgbGV0LWhvc3RSZWY+XG4gIDxkaXYgZGF0YS1yb2xlPVwidXNlci1tYW5hZ2UtcHJvZmlsZS1waG9uZS1hZGQtY29udGFpbmVyXCI+XG4gICAgPG5nLWNvbnRhaW5lciBiYlVzZXJOZXdQaG9uZU51bWJlclRpdGxlQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiPlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDxiYi11c2VyLXBob25lLW51bWJlci1mb3JtXG4gICAgICBbZGF0YV09XCJob3N0UmVmLm5ld1Bob25lTnVtYmVyRGF0YVwiXG4gICAgICBbdHlwZXNdPVwiaG9zdFJlZi5waG9uZU51bWJlclR5cGVzXCJcbiAgICAgIFtpc1N1Ym1pdHRpbmddPVwiaG9zdFJlZi5pc1N1Ym1pdHRpbmdcIlxuICAgICAgW3Bob25lTnVtYmVyQ291bnRyeUNvZGVdPVwiaG9zdFJlZi5waG9uZU51bWJlckNvdW50cnlDb2RlXCJcbiAgICAgIFtwaG9uZU51bWJlckRlYm91bmNlVGltZV09XCJob3N0UmVmLnBob25lTnVtYmVyRGVib3VuY2VUaW1lXCJcbiAgICAgIFtlbmFibGVQaG9uZU51bWJlckZvcm1hdHRlcl09XCJob3N0UmVmLmVuYWJsZVBob25lTnVtYmVyRm9ybWF0dGVyXCJcbiAgICAgIChjYW5jZWwpPVwiaG9zdFJlZi5oYW5kbGVDYW5jZWxDbGljaygpXCJcbiAgICAgIChzYXZlKT1cImhvc3RSZWYuaGFuZGxlU2F2ZUNsaWNrKCRldmVudClcIj5cbiAgICA8L2JiLXVzZXItcGhvbmUtbnVtYmVyLWZvcm0+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIGJiVXNlck5ld1Bob25lTnVtYmVyVGl0bGVDdXN0b21pemFibGUgbGV0LWhvc3RSZWY+XG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIj5cbiAgICA8YmItaGVhZGVyLXVpXG4gICAgICBoZWFkaW5nVHlwZT1cImg0XCJcbiAgICAgIGkxOG4taGVhZGluZz1cIk5ldyBwaG9uZSBudW1iZXIgdGl0bGV8VGV4dCBmb3IgdGhlIHRpdGxlIG9mIHRoZSBuZXcgcGhvbmUgbnVtYmVyIGNhcmRAQGJiLXVzZXItbmV3LXBob25lLW51bWJlci50aXRsZVwiXG4gICAgICBoZWFkaW5nPVwiQWRkIHBob25lIG51bWJlclwiPlxuICAgIDwvYmItaGVhZGVyLXVpPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjbm90aWZpY2F0aW9uU3VjY2Vzcz5cbiAgPHNwYW4gZGF0YS1yb2xlPVwidXNlci1tYW5hZ2UtcHJvZmlsZS1waG9uZS1hZGQtc3VjY2Vzcy1ub3RpZmljYXRpb25cIiBpMThuPVwiUGhvbmUgTnVtYmVyIGNyZWF0aW9uIG5vdGlmaWNhdGlvbnxOb3RpZmljYXRpb24gdGV4dCBmb3Igd2hlbiB0aGUgcGhvbmUgbnVtYmVyIGlzIGNyZWF0ZWRAQGJiLXVzZXItbmV3LXBob25lLW51bWJlci5ub3RpZmljYXRpb24uY3JlYXRpb24tc3VjY2Vzc1wiPlxuICAgIFBob25lIG51bWJlciBzdWNjZXNzZnVsbHkgYWRkZWRcbiAgPC9zcGFuPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNub3RpZmljYXRpb25GYWlsdXJlPlxuICA8c3BhbiBpMThuPVwiUGhvbmUgTnVtYmVyIGNyZWF0aW9uIGZhaWxlZCBub3RpZmljYXRpb258Tm90aWZpY2F0aW9uIHRleHQgZm9yIHdoZW4gdGhlIHBob25lIG51bWJlciBmYWlsZWQgdG8gY3JlYXRlQEBiYi11c2VyLW5ldy1waG9uZS1udW1iZXIubm90aWZpY2F0aW9uLmNyZWF0aW9uLWZhaWxlZFwiPlxuICAgIFNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgaXNzdWUgcGVyc2lzdHNcbiAgPC9zcGFuPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==