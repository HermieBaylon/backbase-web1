import { Component, Directive } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { NewEmailAddressComponent } from '@backbase/user-common';
import * as i0 from "@angular/core";
import * as i1 from "../../user-manage-profile.service";
import * as i2 from "@backbase/user-common";
import * as i3 from "@backbase/ui-ang/notification";
import * as i4 from "../../user-profile-forms/user-email-address-form.component";
import * as i5 from "@backbase/ui-ang/header";
export class UserNewEmailAddressComponent extends NewEmailAddressComponent {
    constructor(manageProfileService, manageProfilePreferencesService, cd, notificationService) {
        super(manageProfilePreferencesService, cd, notificationService);
        this.manageProfileService = manageProfileService;
        this.manageProfilePreferencesService = manageProfilePreferencesService;
        this.cd = cd;
        this.notificationService = notificationService;
    }
    handleSaveClick(emailAddress) {
        this.isSubmitting = true;
        this.manageProfileService
            .createElectronicAddressRecord(emailAddress)
            .pipe(this.handleServiceResponse()).connect();
    }
}
UserNewEmailAddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressComponent, deps: [{ token: i1.UserManageProfileService }, { token: i2.ManageProfilePreferencesService }, { token: i0.ChangeDetectorRef }, { token: i3.NotificationService }], target: i0.ɵɵFactoryTarget.Component });
UserNewEmailAddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: UserNewEmailAddressComponent, selector: "bb-user-new-email-address", usesInheritance: true, ngImport: i0, template: "<ng-container bbUserNewEmailAddressCustomizable [bbHostRef]=\"this\">\n</ng-container>\n\n<ng-template bbUserNewEmailAddressCustomizable let-hostRef>\n  <div data-role=\"user-manage-profile-email-add-container\">\n    <ng-container bbUserNewEmailAddressTitleCustomizable [bbHostRef]=\"hostRef\">\n    </ng-container>\n    <bb-user-email-address-form\n      [data]=\"hostRef.newEmailAddressData\"\n      [types]=\"hostRef.emailAddressTypes\"\n      [isSubmitting]=\"hostRef.isSubmitting\"\n      (cancel)=\"hostRef.handleCancelClick()\"\n      (save)=\"hostRef.handleSaveClick($event)\">\n    </bb-user-email-address-form>\n  </div>\n</ng-template>\n\n<ng-template bbUserNewEmailAddressTitleCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--md\">\n    <bb-header-ui\n      headingType=\"h4\"\n      i18n-heading=\"New email address title|Text for the title of the new email address card@@bb-user-new-email-address.title\"\n      heading=\"Add email address\">\n    </bb-header-ui>\n  </div>\n</ng-template>\n\n<ng-template #notificationSuccess>\n  <span data-role=\"user-manage-profile-email-add-success-notification\" i18n=\"Email Address creation notification|Notification text for when the email address is created@@bb-user-new-email-address.notification.creation-success\">\n    Email address successfully added\n  </span>\n</ng-template>\n\n<ng-template #notificationFailure>\n  <span i18n=\"Email Address creation failed notification|Notification text for when the email address failed to create@@bb-user-new-email-address.notification.creation-failed\">\n    Something went wrong. Please try again or contact support if the issue persists\n  </span>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i4.UserEmailAddressFormComponent; }), selector: "bb-user-email-address-form" }, { type: i0.forwardRef(function () { return i5.HeaderComponent; }), selector: "bb-header-ui", inputs: ["headingClasses", "headingType", "heading"] }], directives: [{ type: i0.forwardRef(function () { return UserNewEmailAddressCustomizableDirective; }), selector: "[bbUserNewEmailAddressCustomizable]" }, { type: i0.forwardRef(function () { return UserNewEmailAddressTitleCustomizableDirective; }), selector: "[bbUserNewEmailAddressTitleCustomizable]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-user-new-email-address',
                    templateUrl: './user-new-email-address.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.UserManageProfileService }, { type: i2.ManageProfilePreferencesService }, { type: i0.ChangeDetectorRef }, { type: i3.NotificationService }]; } });
export class UserNewEmailAddressCustomizableDirective extends BbTemplate {
}
UserNewEmailAddressCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewEmailAddressCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewEmailAddressCustomizableDirective, selector: "[bbUserNewEmailAddressCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewEmailAddressCustomizable]',
                }]
        }] });
export class UserNewEmailAddressTitleCustomizableDirective extends BbTemplate {
}
UserNewEmailAddressTitleCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressTitleCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
UserNewEmailAddressTitleCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: UserNewEmailAddressTitleCustomizableDirective, selector: "[bbUserNewEmailAddressTitleCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: UserNewEmailAddressTitleCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbUserNewEmailAddressTitleCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1uZXctZW1haWwtYWRkcmVzcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXItbWFuYWdlLXByb2ZpbGUtd2lkZ2V0L3NyYy91c2VyLW1hbmFnZS1lbWFpbC1hZGRyZXNzZXMvdXNlci1uZXctZW1haWwtYWRkcmVzcy91c2VyLW5ldy1lbWFpbC1hZGRyZXNzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdXNlci1tYW5hZ2UtcHJvZmlsZS13aWRnZXQvc3JjL3VzZXItbWFuYWdlLWVtYWlsLWFkZHJlc3Nlcy91c2VyLW5ldy1lbWFpbC1hZGRyZXNzL3VzZXItbmV3LWVtYWlsLWFkZHJlc3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFxQixTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUUzRCxPQUFPLEVBQW1DLHdCQUF3QixFQUFFLE1BQU0sdUJBQXVCLENBQUM7Ozs7Ozs7QUFTbEcsTUFBTSxPQUFPLDRCQUE2QixTQUFRLHdCQUF3QjtJQUN4RSxZQUNtQixvQkFBOEMsRUFDNUMsK0JBQWdFLEVBQ2hFLEVBQXFCLEVBQ3JCLG1CQUF3QztRQUUzRCxLQUFLLENBQUMsK0JBQStCLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFML0MseUJBQW9CLEdBQXBCLG9CQUFvQixDQUEwQjtRQUM1QyxvQ0FBK0IsR0FBL0IsK0JBQStCLENBQWlDO1FBQ2hFLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBQ3JCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7SUFHN0QsQ0FBQztJQUVELGVBQWUsQ0FBQyxZQUErQjtRQUM3QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUV2QixJQUFJLENBQUMsb0JBQW9CO2FBQ3RCLDZCQUE2QixDQUFDLFlBQVksQ0FBQzthQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQ3JDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDOzswSEFqQlUsNEJBQTRCOzhHQUE1Qiw0QkFBNEIsd0ZDYnpDLHNwREFzQ0Esd1ZERmEsd0NBQXdDLG9HQUt4Qyw2Q0FBNkM7NEZBNUI3Qyw0QkFBNEI7a0JBSnhDLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLDJCQUEyQjtvQkFDckMsV0FBVyxFQUFFLHlDQUF5QztpQkFDdkQ7O0FBd0JELE1BQU0sT0FBTyx3Q0FBeUMsU0FBUSxVQUFtRDs7c0lBQXBHLHdDQUF3QzswSEFBeEMsd0NBQXdDOzRGQUF4Qyx3Q0FBd0M7a0JBSHBELFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLHFDQUFxQztpQkFDaEQ7O0FBTUQsTUFBTSxPQUFPLDZDQUE4QyxTQUFRLFVBR2xFOzsySUFIWSw2Q0FBNkM7K0hBQTdDLDZDQUE2Qzs0RkFBN0MsNkNBQTZDO2tCQUh6RCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSwwQ0FBMEM7aUJBQ3JEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYlRlbXBsYXRlIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJ0BiYWNrYmFzZS91aS1hbmcvbm90aWZpY2F0aW9uJztcbmltcG9ydCB7IE1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2UsIE5ld0VtYWlsQWRkcmVzc0NvbXBvbmVudCB9IGZyb20gJ0BiYWNrYmFzZS91c2VyLWNvbW1vbic7XG5pbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEVsZWN0cm9uaWNBZGRyZXNzIH0gZnJvbSAnLi4vLi4vdHlwZXMvdXNlci10eXBlcyc7XG5pbXBvcnQgeyBVc2VyTWFuYWdlUHJvZmlsZVNlcnZpY2UgfSBmcm9tICcuLi8uLi91c2VyLW1hbmFnZS1wcm9maWxlLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi11c2VyLW5ldy1lbWFpbC1hZGRyZXNzJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3VzZXItbmV3LWVtYWlsLWFkZHJlc3MuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTmV3RW1haWxBZGRyZXNzQ29tcG9uZW50IGV4dGVuZHMgTmV3RW1haWxBZGRyZXNzQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYW5hZ2VQcm9maWxlU2VydmljZTogVXNlck1hbmFnZVByb2ZpbGVTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBtYW5hZ2VQcm9maWxlUHJlZmVyZW5jZXNTZXJ2aWNlOiBNYW5hZ2VQcm9maWxlUHJlZmVyZW5jZXNTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG5vdGlmaWNhdGlvblNlcnZpY2U6IE5vdGlmaWNhdGlvblNlcnZpY2UsXG4gICkge1xuICAgIHN1cGVyKG1hbmFnZVByb2ZpbGVQcmVmZXJlbmNlc1NlcnZpY2UsIGNkLCBub3RpZmljYXRpb25TZXJ2aWNlKTtcbiAgfVxuXG4gIGhhbmRsZVNhdmVDbGljayhlbWFpbEFkZHJlc3M6IEVsZWN0cm9uaWNBZGRyZXNzKSB7XG4gICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSB0cnVlO1xuICAgIChcbiAgICAgIHRoaXMubWFuYWdlUHJvZmlsZVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZUVsZWN0cm9uaWNBZGRyZXNzUmVjb3JkKGVtYWlsQWRkcmVzcylcbiAgICAgICAgLnBpcGUodGhpcy5oYW5kbGVTZXJ2aWNlUmVzcG9uc2UoKSkgYXMgQ29ubmVjdGFibGVPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTx1bmRlZmluZWQ+PlxuICAgICkuY29ubmVjdCgpO1xuICB9XG59XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYlVzZXJOZXdFbWFpbEFkZHJlc3NDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVXNlck5ld0VtYWlsQWRkcmVzc0N1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8VXNlck5ld0VtYWlsQWRkcmVzc0NvbXBvbmVudCwgdW5kZWZpbmVkPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJVc2VyTmV3RW1haWxBZGRyZXNzVGl0bGVDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVXNlck5ld0VtYWlsQWRkcmVzc1RpdGxlQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgVXNlck5ld0VtYWlsQWRkcmVzc0NvbXBvbmVudCxcbiAgdW5kZWZpbmVkXG4+IHt9XG4iLCI8bmctY29udGFpbmVyIGJiVXNlck5ld0VtYWlsQWRkcmVzc0N1c3RvbWl6YWJsZSBbYmJIb3N0UmVmXT1cInRoaXNcIj5cbjwvbmctY29udGFpbmVyPlxuXG48bmctdGVtcGxhdGUgYmJVc2VyTmV3RW1haWxBZGRyZXNzQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICA8ZGl2IGRhdGEtcm9sZT1cInVzZXItbWFuYWdlLXByb2ZpbGUtZW1haWwtYWRkLWNvbnRhaW5lclwiPlxuICAgIDxuZy1jb250YWluZXIgYmJVc2VyTmV3RW1haWxBZGRyZXNzVGl0bGVDdXN0b21pemFibGUgW2JiSG9zdFJlZl09XCJob3N0UmVmXCI+XG4gICAgPC9uZy1jb250YWluZXI+XG4gICAgPGJiLXVzZXItZW1haWwtYWRkcmVzcy1mb3JtXG4gICAgICBbZGF0YV09XCJob3N0UmVmLm5ld0VtYWlsQWRkcmVzc0RhdGFcIlxuICAgICAgW3R5cGVzXT1cImhvc3RSZWYuZW1haWxBZGRyZXNzVHlwZXNcIlxuICAgICAgW2lzU3VibWl0dGluZ109XCJob3N0UmVmLmlzU3VibWl0dGluZ1wiXG4gICAgICAoY2FuY2VsKT1cImhvc3RSZWYuaGFuZGxlQ2FuY2VsQ2xpY2soKVwiXG4gICAgICAoc2F2ZSk9XCJob3N0UmVmLmhhbmRsZVNhdmVDbGljaygkZXZlbnQpXCI+XG4gICAgPC9iYi11c2VyLWVtYWlsLWFkZHJlc3MtZm9ybT5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgYmJVc2VyTmV3RW1haWxBZGRyZXNzVGl0bGVDdXN0b21pemFibGUgbGV0LWhvc3RSZWY+XG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIj5cbiAgICA8YmItaGVhZGVyLXVpXG4gICAgICBoZWFkaW5nVHlwZT1cImg0XCJcbiAgICAgIGkxOG4taGVhZGluZz1cIk5ldyBlbWFpbCBhZGRyZXNzIHRpdGxlfFRleHQgZm9yIHRoZSB0aXRsZSBvZiB0aGUgbmV3IGVtYWlsIGFkZHJlc3MgY2FyZEBAYmItdXNlci1uZXctZW1haWwtYWRkcmVzcy50aXRsZVwiXG4gICAgICBoZWFkaW5nPVwiQWRkIGVtYWlsIGFkZHJlc3NcIj5cbiAgICA8L2JiLWhlYWRlci11aT5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI25vdGlmaWNhdGlvblN1Y2Nlc3M+XG4gIDxzcGFuIGRhdGEtcm9sZT1cInVzZXItbWFuYWdlLXByb2ZpbGUtZW1haWwtYWRkLXN1Y2Nlc3Mtbm90aWZpY2F0aW9uXCIgaTE4bj1cIkVtYWlsIEFkZHJlc3MgY3JlYXRpb24gbm90aWZpY2F0aW9ufE5vdGlmaWNhdGlvbiB0ZXh0IGZvciB3aGVuIHRoZSBlbWFpbCBhZGRyZXNzIGlzIGNyZWF0ZWRAQGJiLXVzZXItbmV3LWVtYWlsLWFkZHJlc3Mubm90aWZpY2F0aW9uLmNyZWF0aW9uLXN1Y2Nlc3NcIj5cbiAgICBFbWFpbCBhZGRyZXNzIHN1Y2Nlc3NmdWxseSBhZGRlZFxuICA8L3NwYW4+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI25vdGlmaWNhdGlvbkZhaWx1cmU+XG4gIDxzcGFuIGkxOG49XCJFbWFpbCBBZGRyZXNzIGNyZWF0aW9uIGZhaWxlZCBub3RpZmljYXRpb258Tm90aWZpY2F0aW9uIHRleHQgZm9yIHdoZW4gdGhlIGVtYWlsIGFkZHJlc3MgZmFpbGVkIHRvIGNyZWF0ZUBAYmItdXNlci1uZXctZW1haWwtYWRkcmVzcy5ub3RpZmljYXRpb24uY3JlYXRpb24tZmFpbGVkXCI+XG4gICAgU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0IGlmIHRoZSBpc3N1ZSBwZXJzaXN0c1xuICA8L3NwYW4+XG48L25nLXRlbXBsYXRlPlxuIl19