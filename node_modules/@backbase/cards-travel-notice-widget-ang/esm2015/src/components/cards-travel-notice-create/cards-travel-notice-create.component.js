import { DatePipe } from '@angular/common';
import { Component, Directive, EventEmitter, Input, Output } from '@angular/core';
import { Validators } from '@angular/forms';
import { BbTemplate } from '@backbase/foundation-ang/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/common";
import * as i3 from "@backbase/ui-ang/stepper";
import * as i4 from "@backbase/ui-ang/modal";
import * as i5 from "@backbase/ui-ang/icon";
import * as i6 from "./cards-travel-notice-country-selector.component";
import * as i7 from "@backbase/ui-ang/input-validation-message";
import * as i8 from "@backbase/ui-ang/input-datepicker";
import * as i9 from "@backbase/ui-ang/input-phone";
import * as i10 from "@backbase/ui-ang/alert";
import * as i11 from "./cards-travel-notice-checkbox-cards.component";
import * as i12 from "./cards-travel-notice-confirm-step.component";
import * as i13 from "@backbase/ui-ang/button";
export class CardsTravelNoticeCreateComponent {
    constructor(fb, datePipe) {
        this.fb = fb;
        this.datePipe = datePipe;
        this.hostRef = this;
        /**
         * Cancel form for create travel notice event emitter.
         */
        this.abortCreation = new EventEmitter();
        /**
         * Submit for create travel notice form event emitter.
         */
        this.save = new EventEmitter();
        this.currentStep = 1;
        this.dialogOpen = false;
        this.displayAlert = false;
        this.travelNoticeItem = {};
        this.closeConfirmationDialog = () => {
            this.dialogOpen = false;
        };
        this.confirmCancel = () => {
            this.closeConfirmationDialog();
            this.abortCreation.emit({ goToPage: 'list' });
        };
        this.updateTravelNoticeValue = (createTravelNoticeForm) => {
            const { details, cardIds: cards } = createTravelNoticeForm;
            if (cards) {
                this.travelNoticeItem = Object.assign(Object.assign({}, this.travelNoticeItem), { cards });
            }
            if (details) {
                this.travelNoticeItem = Object.assign(Object.assign({}, this.travelNoticeItem), { destinations: details.destinations, contact: {
                        phoneNumber: details.contactNumber + '',
                    } });
            }
            if (this.departureDate.valid) {
                this.travelNoticeItem = Object.assign(Object.assign({}, this.travelNoticeItem), { departureDate: this.datePipe.transform(details.departureDate, 'yyyy-MM-dd') });
            }
            if (this.arrivalDate.valid) {
                this.travelNoticeItem = Object.assign(Object.assign({}, this.travelNoticeItem), { arrivalDate: this.datePipe.transform(details.arrivalDate, 'yyyy-MM-dd') });
            }
            this.displayAlert = false;
        };
        this.currentDateValidator = (control) => {
            const returnDate = new Date(control.value);
            const currentDate = this.truncateDate();
            // eslint-disable-next-line , no-null/no-null
            return returnDate.getTime() < currentDate.getTime() ? { invalidCurrentDate: true } : null;
        };
    }
    next(nextForm) {
        if (this.currentForm) {
            this.currentForm.markAllAsTouched();
            this.currentForm.updateValueAndValidity();
            if (this.currentStep === 2) {
                this.displayAlert = this.currentForm.invalid;
            }
            if (this.currentForm.valid) {
                this.currentStep += 1;
                this.currentForm = nextForm;
            }
        }
    }
    back(prevForm) {
        this.currentStep -= 1;
        this.currentForm = prevForm;
    }
    onCancel() {
        this.dialogOpen = true;
    }
    onSubmitTravelNotice() {
        this.save.emit(this.travelNoticeItem);
    }
    isFieldValid(fieldName) {
        const control = this.detailsGroup.get(fieldName);
        return !!control && (control.valid || control.untouched);
    }
    onAlertDismiss() {
        this.displayAlert = false;
    }
    ngOnInit() {
        if (!this.paymentCards)
            return;
        this.createTravelNoticeForm = this.fb.group({
            details: this.fb.group({
                destinations: [
                    [],
                    (control) => 
                    // eslint-disable-next-line , no-null/no-null
                    control.value && control.value.length > 0 ? null : { required: 'item required' },
                ],
                departureDate: [''],
                arrivalDate: [''],
                contactNumber: ['', Validators.pattern('^[0-9()-+ ]*$')],
            }),
            cardIds: [this.paymentCards ? this.paymentCards : []],
        });
        this.createTravelNoticeForm.markAsPristine();
        this.travelNoticeSubscription = this.createTravelNoticeForm.valueChanges.subscribe(this.updateTravelNoticeValue);
        this.currentForm = this.detailsGroup;
        this.cardIdsGroup.setValidators(this.hasCardsSelected);
        this.addDateValidators();
    }
    /**
     *
     * temporary solution once datepicker is ready to validate ranges is release this method will be removed
     */
    addDateValidators() {
        if (!!this.createTravelNoticeForm && this.departureDate && this.arrivalDate) {
            this.departureDate.setValidators([Validators.required, this.dateValidator('arrivalDate', 'departureDate')]);
            this.arrivalDate.setValidators([
                Validators.required,
                this.currentDateValidator,
                this.dateValidator('arrivalDate', 'departureDate'),
            ]);
            this.departureDateSubscription = this.departureDate.valueChanges.subscribe(() => {
                this.arrivalDate.updateValueAndValidity({ emitEvent: false });
            });
            this.arrivalDateSubcription = this.arrivalDate.valueChanges.subscribe(() => {
                this.departureDate.updateValueAndValidity({ emitEvent: false });
            });
        }
    }
    ngOnDestroy() {
        if (this.travelNoticeSubscription) {
            this.travelNoticeSubscription.unsubscribe();
        }
        if (this.arrivalDateSubcription) {
            this.arrivalDateSubcription.unsubscribe();
        }
        if (this.departureDateSubscription) {
            this.departureDateSubscription.unsubscribe();
        }
    }
    /**
     *
     * temporary solution once datepicker is ready to validate ranges is release this method will be removed
     */
    dateValidator(fieldName1, fieldName2) {
        return () => {
            const formControl1 = this.detailsGroup.get(fieldName1);
            const formControl2 = this.detailsGroup.get(fieldName2);
            const date1 = new Date(formControl1.value).getTime();
            const date2 = new Date(formControl2.value).getTime();
            // eslint-disable-next-line , no-null/no-null
            return date1 < date2 ? { invalidDate: true } : null;
        };
    }
    truncateDate(date = new Date()) {
        const newDate = new Date(date);
        newDate.setHours(0, 0, 0, 0);
        return newDate;
    }
    hasCardsSelected(control) {
        const cards = control.value;
        // eslint-disable-next-line no-null/no-null
        return cards.length === 0 ? { empty: true } : null;
    }
    get detailsGroup() {
        return this.createTravelNoticeForm.get('details');
    }
    get cardIdsGroup() {
        return this.createTravelNoticeForm.get('cardIds');
    }
    get destinations() {
        return this.detailsGroup.get('destinations');
    }
    get arrivalDate() {
        return this.detailsGroup.get('arrivalDate');
    }
    get departureDate() {
        return this.detailsGroup.get('departureDate');
    }
    get contactNumber() {
        return this.detailsGroup.get('contactNumber');
    }
}
CardsTravelNoticeCreateComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsTravelNoticeCreateComponent, deps: [{ token: i1.FormBuilder }, { token: i2.DatePipe }], target: i0.ɵɵFactoryTarget.Component });
CardsTravelNoticeCreateComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: CardsTravelNoticeCreateComponent, selector: "bb-cards-travel-notice-create", inputs: { paymentCards: "paymentCards", destinationList: "destinationList" }, outputs: { abortCreation: "abortCreation", save: "save" }, providers: [DatePipe], ngImport: i0, template: "<ng-container bbTravelNoticeCreateCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbTravelNoticeCreateCustomizable let-hostRef>\n  <h1 class=\"bb-block bb-block--lg\" i18n=\"Create travel notice header@@cards.create.travel.notice.header\">\n    Create travel notice\n  </h1>\n  <div class=\"card card-lg bb-create-travel-notice\">\n    <div class=\"card-body\">\n      <ng-container bbTravelNoticeStepperCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n      <form [formGroup]=\"hostRef.createTravelNoticeForm\" (ngSubmit)=\"hostRef.onSubmitTravelNotice()\">\n        <ng-container bbTravelNoticeDetailsStepCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n        <ng-container bbTravelNoticeSelectCardsCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n        <ng-container bbTravelNoticeConfirmStepCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n      </form>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template bbTravelNoticeStepperCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--lg\">\n    <div class=\"row bb-stack--center\">\n      <bb-stepper-ui class= \"col-12 col-md-10 col-lg-8\">\n        <bb-stepper-step-ui \n          label=\"Travel details\"\n          i18n-label=\"Travel details@@cards.create.travel.notice.stepper.header.step1\"\n          [isChecked]=\"hostRef.currentStep > 1\"\n          [isActive]=\"hostRef.currentStep >= 1\"\n          ariaLabel=\"Step 1 out of 3\"\n          i18n-ariaLabel=\"Step 1 out of 3@@cards.create.travel.notice.stepper.aria.label.step1\"\n        >\n        </bb-stepper-step-ui>\n        <bb-stepper-step-ui \n          class=\"bb-stack__item\" \n          label=\"Card selection\"\n          i18n-label=\"Card selection@@cards.create.travel.notice.stepper.header.step2\"\n          [isChecked]=\"hostRef.currentStep > 2\"\n          [isActive]=\"hostRef.currentStep >= 2\" \n          ariaLabel=\"Step 2 out of 3\"\n          i18n-ariaLabel=\"Step 2 out of 3@@cards.create.travel.notice.stepper.aria.label.step2\"\n        >\n        </bb-stepper-step-ui>\n        <bb-stepper-step-ui \n          class=\"bb-stack__item\" \n          label=\"Confirmation\" \n          i18n-label=\"Confirmation@@cards.create.travel.notice.stepper.header.step3\"\n          [isActive]=\"hostRef.currentStep >= 3\" \n          ariaLabel=\"Step 3 out of 3\"\n          i18n-ariaLabel=\"Step 3 out of 3@@cards.create.travel.notice.stepper.aria.label.step3\"\n        >\n        </bb-stepper-step-ui>\n      </bb-stepper-ui>\n    </div>\n  </div>\n  <!-- cancel travel notice modal -->\n  <bb-modal-ui [isOpen]=\"hostRef.dialogOpen\" (cancel)=\"hostRef.closeConfirmationDialog()\">\n    <bb-modal-header-ui>\n      <ng-template bbCustomModalHeader>\n        <h2 i18n=\"Cancel Travel Notice@@cards.create.travel.notice.cancelTravelNotice.modal.header\">\n          Discard travel notice?\n        </h2>\n        <div>\n          <button bbButton color=\"unstyled\" (click)=\"hostRef.closeConfirmationDialog()\">\n            <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n          </button>\n        </div>\n      </ng-template>\n    </bb-modal-header-ui>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <span i18n=\"Delete confirmation text@@cards.create.travel.notice.cancelTravelNotice.modal.body\">\n          All entered information for this travel notice will be permanently lost.\n        </span>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui #footerRef>\n      <ng-template bbCustomModalFooter>\n        <button bbButton (click)=\"hostRef.closeConfirmationDialog()\" color=\"link\">\n          <span i18n=\"Submit button text@@messages.createMessage.composeMessageModal.keepCreating.button\">\n            Keep it\n          </span>\n        </button>\n        <button bbButton (click)=\"hostRef.confirmCancel()\" color=\"danger\">\n          <span i18n=\"Discard button text@@messages.createMessage.composeMessageModal.discardButton\">\n            Discard travel notice\n          </span>\n        </button>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n  <!-- end of modal -->\n</ng-template>\n\n<ng-template bbTravelNoticeDetailsStepCustomizable let-hostRef>\n  <form [formGroup]=\"hostRef.detailsGroup\">\n    <div [hidden]=\"hostRef.currentStep !== 1\">\n      <h2 \n        class=\"bb-block bb-block--xl\"\n        i18n=\"Create travel notice details form header@@cards.create.travel.notice.details.form.header\"\n      >\n        Tell us about your travel details\n      </h2>\n      <div class=\"bb-block bb-block--xl\">\n        <!-- Destinations input -->\n        <div class=\"bb-block bb-block--lg\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"bb-create-travel-notice__country-selector\">\n                <label i18n=\"Travel notice destinations input@@cards.create.travel.notice.details.form.destinations.input\">\n                  Destination(s)\n                </label>\n                <bb-cards-travel-notice-country-selector\n                  [destinationList]=\"hostRef.destinationList\"\n                  formControlName=\"destinations\"\n                ></bb-cards-travel-notice-country-selector>\n              </div>\n            </div>\n          </div>\n          <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('destinations')\">\n            <span \n              i18n=\"Travel notice no destinations validation@@cards.create.travel.notice.required.destinations.error.msg\"\n              *ngIf=\"hostRef.destinations.hasError('required')\"\n            >\n              Please select one or more destinations\n            </span>\n          </bb-input-validation-message-ui>\n        </div>\n        <!-- end of input -->\n        <div class=\"row\">\n          <!-- Departure date input -->\n          <div class=\"col-md-6 bb-block bb-block--lg\">\n            <bb-input-datepicker-ui \n              placeholder=\"MM/DD/YYYY\"\n              i18n-placeholder=\"Departure date input placeholder@@cards.create.travel.notice.form.departure.input.placeholder\" \n              label=\"Departure date\"\n              i18n-label=\"Departure date@@cards.create.travel.notice.form.departure.label\" \n              name=\"departureDate\"\n              formControlName=\"departureDate\"\n              [overrideDateFormat]=\"'longDate'\"\n            >\n            </bb-input-datepicker-ui>\n            <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('departureDate')\">\n\n              <ng-container *ngFor=\"let error of hostRef.departureDate.errors | keyvalue; last as last\">\n                <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n                  <span\n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"Missing departure date|Missing leaving date|Missing initial Date@@cards.create.travel.notice.required.departureDate.error.msg\"\n                  >\n                    Please choose a departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDate'\"\n                    i18n=\"Invalid departure date|Arrival date is before departure@@cards.create.travel.notice.invalid.returnDateConflict.error.msg\"\n                  >\n                    The return date cannot be before the departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDateFormat'\"\n                    i18n=\"Invalid departure date|Invalid date format@@cards.create.travel.notice.invalid.arrivalDate.hasInvalidFormat.error.msg\"\n                  >\n                    Please enter a valid format. For example, 10/08/2020\n                  </span>\n                </ng-container>\n              </ng-container>\n\n            </bb-input-validation-message-ui>\n          </div>\n          <!-- end of input -->\n          <!-- Return date input -->\n          <div class=\"col-md-6 bb-block bb-block--lg\">\n            <bb-input-datepicker-ui \n              placeholder=\"MM/DD/YYYY\"\n              i18n-placeholder=\"Arrival date input placeholder@@cards.create.travel.notice.form.arrival.input.placeholder\" \n              label=\"Return date\"\n              i18n-label=\"Return date@@cards.create.travel.notice.form.arrival.label\" \n              name=\"arrivalDate\"\n              formControlName=\"arrivalDate\"\n              [overrideDateFormat]=\"'longDate'\"\n            >\n            </bb-input-datepicker-ui>\n            <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('arrivalDate')\">\n\n              <ng-container *ngFor=\"let error of hostRef.arrivalDate.errors | keyvalue; last as last\">\n                <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n                  <span \n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"Missing arrival date|Missing coming date|Missing last Date@@cards.create.travel.notice.required.departureDate.error.msg\"\n                  >\n                    Please choose a return date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDate'\"\n                    i18n=\"Invalid arrival date|Arrival date is before departure@@cards.create.travel.notice.invalid.returnDateConflict.error.msg\"\n                  >\n                    The return date cannot be before the departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidCurrentDate'\"\n                    i18n=\"Invalid departure date|Arrival date is before current date@@cards.create.travel.notice.invalid.arrivalDate.hasCurrentDate.error.msg\"\n                  >\n                    Please do not choose a past return date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDateFormat'\"\n                    i18n=\"Invalid arrival date|Invalid date format@@cards.create.travel.notice.invalid.arrivalDate.hasInvalidFormat.error.msg\"\n                  >\n                    Please enter a valid format. For example, 10/08/2020\n                  </span>\n                </ng-container>\n              </ng-container>\n            </bb-input-validation-message-ui>\n          </div>\n          <!-- end of input -->\n        </div>\n        <!-- Contact number input -->\n        <div class=\"bb-block\">\n          <label>\n            <strong i18n=\"Contact Number@@cards.create.travel.notice.details.form.contactNumber.input\">\n              Contact number\n            </strong>\n          </label>\n          <span class=\"bb-text-support\" i18n=\"Optional@@cards.create.travel.notice.details.form.contactNumber.optional\">\n            (Optional)\n          </span>\n          <div class=\"bb-block\" [ngClass]=\"{'bb-block--sm': hostRef.isFieldValid('contactNumber')}\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <div class=\"bb-create-travel-notice__contact-number\">\n                  <bb-input-phone-ui \n                    formControlName=\"contactNumber\"\n                    placeholder=\"e.g. +(1) 541 754 3010\"\n                    i18n-placeholder=\"Example placeholder, e.g. +(1) 541 754 3010@@cards.create.travel.notice.details.form.contactNumber.placeholder\"\n                  >\n                  </bb-input-phone-ui>\n                  <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('contactNumber')\">\n                    <div class=\"bb-block bb-block--sm\">\n                      <span i18n=\"Invalid contact number@@cards.create.travel.notice.details.form.contactNumber.error.pattern\">\n                        Invalid contact number\n                      </span>\n                    </div>\n                  </bb-input-validation-message-ui>\n                </div>\n              </div>\n            </div>\n          </div>\n          <span\n            class=\"bb-create-travel-notice__disclaimer\"\n            i18n=\"Contact phone number description@@cards.create.travel.notice.details.form.contactNumber.description\"\n          >\n            We will reach you on this number in case of any suspicious activity.\n          </span>\n        </div>\n      </div>\n      <!-- end of input -->\n      <div class=\"bb-button-bar\">\n        <button \n          class=\"bb-button-bar__button\" \n          bbButton\n          i18n=\"Continue Button text@@cards.create.travel.notice.details.form.continue.button\"\n          (click)=\"hostRef.next(hostRef.cardIdsGroup)\"\n        >\n          Continue\n        </button>\n        <button \n          class=\"bb-button-bar__button bb-button-bar__button--across\" \n          bbButton \n          color=\"link\"\n          i18n=\"Cancel button text@@cards.create.travel.notice.details.form.cancel.button\"\n          (click)=\"hostRef.onCancel()\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </form>\n</ng-template>\n\n<ng-template bbTravelNoticeSelectCardsCustomizable let-hostRef>\n  <div [hidden]=\"hostRef.currentStep !== 2\">\n    <h2 \n      class=\"bb-block bb-block--xl\"\n      i18n=\"Create travel notice select cards header@@cards.create.travel.notice.selectCards.header\"\n    >\n      Select the cards you are travelling with\n    </h2>\n    <bb-alert-ui *ngIf=\"hostRef.displayAlert\"\n      title=\"You need to select at least one card in order to create a travel notice\"\n      i18n-title=\"You need to select at least one card in order to create a travel notice|Pick one@@cards.create.travel.notice.selectCards.alert\"\n      [dismissible]=\"true\"\n      (close)=\"hostRef.onAlertDismiss()\"\n    ></bb-alert-ui>\n    <div class=\"bb-block bb-block--lg\">\n      <bb-cards-travel-notice-checkbox-cards [paymentCards]=\"hostRef.paymentCards\" [formControl]=\"hostRef.cardIdsGroup\"></bb-cards-travel-notice-checkbox-cards>\n    </div>\n    <div class=\"bb-button-bar\">\n      <button\n        class=\"bb-button-bar__button\" \n        bbButton\n        i18n=\"Continue Button text@@cards.create.travel.notice.selectCards.step.continue.button\"\n        (click)=\"hostRef.next()\"\n      >\n        Continue\n      </button>\n      <button  \n        class=\"bb-button-bar__button\" \n        bbButton color=\"secondary\"\n        i18n=\"Back button text@@cards.create.travel.notice.selectCards.step.back.button\"\n        (click)=\"hostRef.back(hostRef.detailsGroup)\"\n      >\n        Back\n      </button>\n      <div \n        class=\"bb-button-bar__button bb-text-support bb-create-travel-notice__cards-count bb-create-travel-notice__cards-count--xs-top\"\n        *ngIf=\"hostRef.cardIdsGroup.value.length !== 0\"\n      >\n        {{hostRef.cardIdsGroup.value.length}} of {{hostRef.paymentCards.length}} selected\n      </div>\n      <div class=\"bb-button-bar__button bb-button-bar__button--across\">\n        <button \n          bbButton\n          color=\"link\"\n          i18n=\"Cancel button text@@cards.create.travel.notice.selectCards.step.cancel.button\"\n          (click)=\"hostRef.onCancel()\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template bbTravelNoticeConfirmStepCustomizable let-hostRef>\n  <div *ngIf=\"hostRef.currentStep === 3\">\n    <h2   \n      class=\"bb-block bb-block--xl\"\n      i18n=\"Create travel notice confirmation step header@@cards.create.travel.notice.confirm.step.header\"\n    >\n      Review your travel notice\n    </h2>\n    <div class=\"bb-block bb-block--xl\">\n      <bb-cards-travel-notice-confirm-step\n        [travelNoticeItem]=\"hostRef.travelNoticeItem\"\n        [selectedCards]=\"hostRef.cardIdsGroup?.value\"\n        [destinationList]=\"hostRef.destinationList\"\n      ></bb-cards-travel-notice-confirm-step>\n    </div>\n    <div class=\"bb-button-bar\">\n      <button  \n        class=\"bb-button-bar__button\" \n        bbButton \n        type=\"submit\"\n        i18n=\"Confirm button text@@cards.create.travel.notice.confirmation.step.confirm.button\"\n      >\n        Confirm\n      </button>\n      <button \n        class=\"bb-button-bar__button\" \n        bbButton \n        color=\"secondary\"\n        i18n=\"Back button text@@cards.create.travel.notice.confirmation.step.back.button\"\n        (click)=\"hostRef.back(hostRef.cardIdsGroup)\"\n      >\n        Back\n      </button>\n      <button\n        class=\"bb-button-bar__button bb-button-bar__button--across\" \n        bbButton \n        color=\"link\"\n        i18n=\"Cancel button text@@cards.create.travel.notice.confirmation.step.cancel.button\"\n        (click)=\"hostRef.onCancel()\"\n      >\n        Cancel\n      </button>\n    </div>\n  </div>\n</ng-template>", components: [{ type: i0.forwardRef(function () { return i3.StepperComponent; }), selector: "bb-stepper-ui", outputs: ["select"] }, { type: i0.forwardRef(function () { return i3.StepperStepComponent; }), selector: "bb-stepper-step-ui", inputs: ["label", "stateLabel", "data", "ariaLabel", "isCurrent", "isChecked", "isActive"] }, { type: i0.forwardRef(function () { return i4.ModalComponent; }), selector: "bb-modal-ui", inputs: ["isOpen", "aria-labelledby", "aria-describedby", "modalOptions"], outputs: ["confirm", "cancel", "isOpenChange"] }, { type: i0.forwardRef(function () { return i4.ModalHeaderComponent; }), selector: "bb-modal-header-ui", inputs: ["title"], outputs: ["close"] }, { type: i0.forwardRef(function () { return i5.IconComponent; }), selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i0.forwardRef(function () { return i4.ModalBodyComponent; }), selector: "bb-modal-body-ui" }, { type: i0.forwardRef(function () { return i4.ModalFooterComponent; }), selector: "bb-modal-footer-ui", inputs: ["confirmText", "cancelText"], outputs: ["confirm", "cancel"] }, { type: i0.forwardRef(function () { return i6.CardsTravelNoticeCountrySelectorComponent; }), selector: "bb-cards-travel-notice-country-selector", inputs: ["destinationList"] }, { type: i0.forwardRef(function () { return i7.InputValidationMessageComponent; }), selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i0.forwardRef(function () { return i8.InputDatepickerComponent; }), selector: "bb-input-datepicker-ui", inputs: ["rangeSelection", "rangeSelectionSplit", "clickOpen", "focusOpen", "placement", "datepickerDescribedby", "ariaLabelForButton", "minDate", "maxDate", "markDisabled", "icon", "iconSize", "iconColor", "btnColor", "ariaLabel", "navigation", "autocomplete", "firstDayOfWeek", "displayMonths", "placeholder", "overrideDateFormat"], outputs: ["focusedDate"] }, { type: i0.forwardRef(function () { return i9.InputPhoneComponent; }), selector: "bb-input-phone-ui", inputs: ["placeholder", "maxLength", "minLength", "readonly", "ariaLabel", "autocomplete", "countryList", "dropdownPosition", "clearable", "searchable", "defaultCountryIsoCode", "enableCountryCode"] }, { type: i0.forwardRef(function () { return i10.AlertComponent; }), selector: "bb-alert-ui", inputs: ["modifier", "dismissible", "title", "message"], outputs: ["close"] }, { type: i0.forwardRef(function () { return i11.CardsTravelNoticeCheckboxCardsComponent; }), selector: "bb-cards-travel-notice-checkbox-cards", inputs: ["paymentCards"] }, { type: i0.forwardRef(function () { return i12.CardsTravelNoticeConfirmStepComponent; }), selector: "bb-cards-travel-notice-confirm-step", inputs: ["travelNoticeItem", "selectedCards", "destinationList"] }], directives: [{ type: i0.forwardRef(function () { return TravelNoticeCreateCustomizableDirective; }), selector: "[bbTravelNoticeCreateCustomizable]" }, { type: i0.forwardRef(function () { return TravelNoticeStepperCustomizableDirective; }), selector: "[bbTravelNoticeStepperCustomizable]" }, { type: i0.forwardRef(function () { return i1.ɵNgNoValidate; }), selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i0.forwardRef(function () { return i1.NgControlStatusGroup; }), selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i0.forwardRef(function () { return i1.FormGroupDirective; }), selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i0.forwardRef(function () { return TravelNoticeDetailsStepCustomizableDirective; }), selector: "[bbTravelNoticeDetailsStepCustomizable]" }, { type: i0.forwardRef(function () { return TravelNoticeSelectCardsCustomizableDirective; }), selector: "[bbTravelNoticeSelectCardsCustomizable]" }, { type: i0.forwardRef(function () { return TravelNoticeConfirmStepCustomizableDirective; }), selector: "[bbTravelNoticeConfirmStepCustomizable]" }, { type: i0.forwardRef(function () { return i4.CustomModalHeaderDirective; }), selector: "ng-template[bbCustomModalHeader]" }, { type: i0.forwardRef(function () { return i13.ButtonDirective; }), selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i0.forwardRef(function () { return i4.CustomModalBodyDirective; }), selector: "ng-template[bbCustomModalBody]" }, { type: i0.forwardRef(function () { return i4.CustomModalFooterDirective; }), selector: "ng-template[bbCustomModalFooter]" }, { type: i0.forwardRef(function () { return i1.NgControlStatus; }), selector: "[formControlName],[ngModel],[formControl]" }, { type: i0.forwardRef(function () { return i1.FormControlName; }), selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i2.NgForOf; }), selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i0.forwardRef(function () { return i2.NgSwitch; }), selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i0.forwardRef(function () { return i2.NgSwitchCase; }), selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i0.forwardRef(function () { return i2.NgClass; }), selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i0.forwardRef(function () { return i1.FormControlDirective; }), selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }], pipes: { "keyvalue": i0.forwardRef(function () { return i2.KeyValuePipe; }) } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsTravelNoticeCreateComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-cards-travel-notice-create',
                    templateUrl: './cards-travel-notice-create.component.html',
                    providers: [DatePipe],
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }, { type: i2.DatePipe }]; }, propDecorators: { paymentCards: [{
                type: Input
            }], destinationList: [{
                type: Input
            }], abortCreation: [{
                type: Output
            }], save: [{
                type: Output
            }] } });
export class TravelNoticeCreateCustomizableDirective extends BbTemplate {
}
TravelNoticeCreateCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeCreateCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
TravelNoticeCreateCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: TravelNoticeCreateCustomizableDirective, selector: "[bbTravelNoticeCreateCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeCreateCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbTravelNoticeCreateCustomizable]',
                }]
        }] });
export class TravelNoticeDetailsStepCustomizableDirective extends BbTemplate {
}
TravelNoticeDetailsStepCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeDetailsStepCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
TravelNoticeDetailsStepCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: TravelNoticeDetailsStepCustomizableDirective, selector: "[bbTravelNoticeDetailsStepCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeDetailsStepCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbTravelNoticeDetailsStepCustomizable]',
                }]
        }] });
export class TravelNoticeSelectCardsCustomizableDirective extends BbTemplate {
}
TravelNoticeSelectCardsCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeSelectCardsCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
TravelNoticeSelectCardsCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: TravelNoticeSelectCardsCustomizableDirective, selector: "[bbTravelNoticeSelectCardsCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeSelectCardsCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbTravelNoticeSelectCardsCustomizable]',
                }]
        }] });
export class TravelNoticeConfirmStepCustomizableDirective extends BbTemplate {
}
TravelNoticeConfirmStepCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeConfirmStepCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
TravelNoticeConfirmStepCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: TravelNoticeConfirmStepCustomizableDirective, selector: "[bbTravelNoticeConfirmStepCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeConfirmStepCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbTravelNoticeConfirmStepCustomizable]',
                }]
        }] });
export class TravelNoticeStepperCustomizableDirective extends BbTemplate {
}
TravelNoticeStepperCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeStepperCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
TravelNoticeStepperCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: TravelNoticeStepperCustomizableDirective, selector: "[bbTravelNoticeStepperCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TravelNoticeStepperCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbTravelNoticeStepperCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FyZHMtdHJhdmVsLW5vdGljZS1jcmVhdGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jYXJkcy10cmF2ZWwtbm90aWNlLXdpZGdldC1hbmcvc3JjL2NvbXBvbmVudHMvY2FyZHMtdHJhdmVsLW5vdGljZS1jcmVhdGUvY2FyZHMtdHJhdmVsLW5vdGljZS1jcmVhdGUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jYXJkcy10cmF2ZWwtbm90aWNlLXdpZGdldC1hbmcvc3JjL2NvbXBvbmVudHMvY2FyZHMtdHJhdmVsLW5vdGljZS1jcmVhdGUvY2FyZHMtdHJhdmVsLW5vdGljZS1jcmVhdGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyRyxPQUFPLEVBQTJDLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXJGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FBUTNELE1BQU0sT0FBTyxnQ0FBZ0M7SUE2TzNDLFlBQTZCLEVBQWUsRUFBbUIsUUFBa0I7UUFBcEQsT0FBRSxHQUFGLEVBQUUsQ0FBYTtRQUFtQixhQUFRLEdBQVIsUUFBUSxDQUFVO1FBNU94RSxZQUFPLEdBQUcsSUFBSSxDQUFDO1FBVXhCOztXQUVHO1FBQ2dCLGtCQUFhLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN0RDs7V0FFRztRQUNnQixTQUFJLEdBQUcsSUFBSSxZQUFZLEVBQWdCLENBQUM7UUFFM0QsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFNaEIsZUFBVSxHQUFHLEtBQUss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VCxRQUFRLEVBQUUseUNBQXlDO2lCQUNwRDs7QUFTRCxNQUFNLE9BQU8sd0NBQXlDLFNBQVEsVUFBdUQ7O3NJQUF4Ryx3Q0FBd0M7MEhBQXhDLHdDQUF3Qzs0RkFBeEMsd0NBQXdDO2tCQUhwRCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxxQ0FBcUM7aUJBQ2hEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0ZVBpcGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbCwgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IERlc3RpbmF0aW9uLCBQYXltZW50Q2FyZCwgVHJhdmVsTm90aWNlIH0gZnJvbSAnQGJhY2tiYXNlL2NhcmRzLWNvbW1vbi1hbmcnO1xuaW1wb3J0IHsgQmJUZW1wbGF0ZSB9IGZyb20gJ0BiYWNrYmFzZS9mb3VuZGF0aW9uLWFuZy9jb3JlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1jYXJkcy10cmF2ZWwtbm90aWNlLWNyZWF0ZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9jYXJkcy10cmF2ZWwtbm90aWNlLWNyZWF0ZS5jb21wb25lbnQuaHRtbCcsXG4gIHByb3ZpZGVyczogW0RhdGVQaXBlXSxcbn0pXG5leHBvcnQgY2xhc3MgQ2FyZHNUcmF2ZWxOb3RpY2VDcmVhdGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIHJlYWRvbmx5IGhvc3RSZWYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBQYXltZW50IGNhcmQgdG8gYmUgZGlzcGxheWVkLlxuICAgKi9cbiAgQElucHV0KCkgcGF5bWVudENhcmRzOiBQYXltZW50Q2FyZFtdIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogTGlzdCBmb3IgYWxsIHByb3ZpZGVkIElTTyBjb3VudHJpZXMvcmVnaW9ucy5cbiAgICovXG4gIEBJbnB1dCgpIGRlc3RpbmF0aW9uTGlzdDogRGVzdGluYXRpb25bXSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIENhbmNlbCBmb3JtIGZvciBjcmVhdGUgdHJhdmVsIG5vdGljZSBldmVudCBlbWl0dGVyLlxuICAgKi9cbiAgQE91dHB1dCgpIHJlYWRvbmx5IGFib3J0Q3JlYXRpb24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIC8qKlxuICAgKiBTdWJtaXQgZm9yIGNyZWF0ZSB0cmF2ZWwgbm90aWNlIGZvcm0gZXZlbnQgZW1pdHRlci5cbiAgICovXG4gIEBPdXRwdXQoKSByZWFkb25seSBzYXZlID0gbmV3IEV2ZW50RW1pdHRlcjxUcmF2ZWxOb3RpY2U+KCk7XG5cbiAgY3VycmVudFN0ZXAgPSAxO1xuICB0cmF2ZWxOb3RpY2VTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZDtcbiAgYXJyaXZhbERhdGVTdWJjcmlwdGlvbjogU3Vic2NyaXB0aW9uIHwgdW5kZWZpbmVkO1xuICBkZXBhcnR1cmVEYXRlU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQ7XG4gIGNyZWF0ZVRyYXZlbE5vdGljZUZvcm06IEZvcm1Hcm91cCB8IHVuZGVmaW5lZDtcblxuICBkaWFsb2dPcGVuID0gZmFsc2U7XG4gIGRpc3BsYXlBbGVydCA9IGZhbHNlO1xuXG4gIGN1cnJlbnRGb3JtOiBGb3JtR3JvdXAgfCB1bmRlZmluZWQ7XG4gIHRyYXZlbE5vdGljZUl0ZW06IFBhcnRpYWw8VHJhdmVsTm90aWNlPiA9IHt9O1xuXG4gIG5leHQobmV4dEZvcm06IEZvcm1Hcm91cCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRGb3JtKSB7XG4gICAgICB0aGlzLmN1cnJlbnRGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcbiAgICAgIHRoaXMuY3VycmVudEZvcm0udXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpO1xuXG4gICAgICBpZiAodGhpcy5jdXJyZW50U3RlcCA9PT0gMikge1xuICAgICAgICB0aGlzLmRpc3BsYXlBbGVydCA9IHRoaXMuY3VycmVudEZvcm0uaW52YWxpZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY3VycmVudEZvcm0udmFsaWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcCArPSAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRGb3JtID0gbmV4dEZvcm07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYmFjayhwcmV2Rm9ybTogRm9ybUdyb3VwKSB7XG4gICAgdGhpcy5jdXJyZW50U3RlcCAtPSAxO1xuICAgIHRoaXMuY3VycmVudEZvcm0gPSBwcmV2Rm9ybTtcbiAgfVxuXG4gIG9uQ2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuZGlhbG9nT3BlbiA9IHRydWU7XG4gIH1cblxuICBvblN1Ym1pdFRyYXZlbE5vdGljZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNhdmUuZW1pdCh0aGlzLnRyYXZlbE5vdGljZUl0ZW0gYXMgVHJhdmVsTm90aWNlKTtcbiAgfVxuXG4gIGlzRmllbGRWYWxpZChmaWVsZE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLmRldGFpbHNHcm91cC5nZXQoZmllbGROYW1lKTtcblxuICAgIHJldHVybiAhIWNvbnRyb2wgJiYgKGNvbnRyb2wudmFsaWQgfHwgY29udHJvbC51bnRvdWNoZWQpO1xuICB9XG5cbiAgY2xvc2VDb25maXJtYXRpb25EaWFsb2cgPSAoKSA9PiB7XG4gICAgdGhpcy5kaWFsb2dPcGVuID0gZmFsc2U7XG4gIH07XG5cbiAgb25BbGVydERpc21pc3MoKSB7XG4gICAgdGhpcy5kaXNwbGF5QWxlcnQgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbmZpcm1DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5jbG9zZUNvbmZpcm1hdGlvbkRpYWxvZygpO1xuICAgIHRoaXMuYWJvcnRDcmVhdGlvbi5lbWl0KHsgZ29Ub1BhZ2U6ICdsaXN0JyB9KTtcbiAgfTtcblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAoIXRoaXMucGF5bWVudENhcmRzKSByZXR1cm47XG4gICAgdGhpcy5jcmVhdGVUcmF2ZWxOb3RpY2VGb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICBkZXRhaWxzOiB0aGlzLmZiLmdyb3VwKHtcbiAgICAgICAgZGVzdGluYXRpb25zOiBbXG4gICAgICAgICAgW10sXG4gICAgICAgICAgKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkgPT5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAsIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICAgICAgY29udHJvbC52YWx1ZSAmJiBjb250cm9sLnZhbHVlLmxlbmd0aCA+IDAgPyBudWxsIDogeyByZXF1aXJlZDogJ2l0ZW0gcmVxdWlyZWQnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGRlcGFydHVyZURhdGU6IFsnJ10sXG4gICAgICAgIGFycml2YWxEYXRlOiBbJyddLFxuICAgICAgICBjb250YWN0TnVtYmVyOiBbJycsIFZhbGlkYXRvcnMucGF0dGVybignXlswLTkoKS0rIF0qJCcpXSxcbiAgICAgIH0pLFxuICAgICAgY2FyZElkczogW3RoaXMucGF5bWVudENhcmRzID8gdGhpcy5wYXltZW50Q2FyZHMgOiBbXV0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZVRyYXZlbE5vdGljZUZvcm0ubWFya0FzUHJpc3RpbmUoKTtcblxuICAgIHRoaXMudHJhdmVsTm90aWNlU3Vic2NyaXB0aW9uID0gdGhpcy5jcmVhdGVUcmF2ZWxOb3RpY2VGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUodGhpcy51cGRhdGVUcmF2ZWxOb3RpY2VWYWx1ZSk7XG4gICAgdGhpcy5jdXJyZW50Rm9ybSA9IHRoaXMuZGV0YWlsc0dyb3VwO1xuICAgIHRoaXMuY2FyZElkc0dyb3VwLnNldFZhbGlkYXRvcnModGhpcy5oYXNDYXJkc1NlbGVjdGVkKTtcbiAgICB0aGlzLmFkZERhdGVWYWxpZGF0b3JzKCk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIHRlbXBvcmFyeSBzb2x1dGlvbiBvbmNlIGRhdGVwaWNrZXIgaXMgcmVhZHkgdG8gdmFsaWRhdGUgcmFuZ2VzIGlzIHJlbGVhc2UgdGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkXG4gICAqL1xuICBhZGREYXRlVmFsaWRhdG9ycygpIHtcbiAgICBpZiAoISF0aGlzLmNyZWF0ZVRyYXZlbE5vdGljZUZvcm0gJiYgdGhpcy5kZXBhcnR1cmVEYXRlICYmIHRoaXMuYXJyaXZhbERhdGUpIHtcbiAgICAgIHRoaXMuZGVwYXJ0dXJlRGF0ZS5zZXRWYWxpZGF0b3JzKFtWYWxpZGF0b3JzLnJlcXVpcmVkLCB0aGlzLmRhdGVWYWxpZGF0b3IoJ2Fycml2YWxEYXRlJywgJ2RlcGFydHVyZURhdGUnKV0pO1xuXG4gICAgICB0aGlzLmFycml2YWxEYXRlLnNldFZhbGlkYXRvcnMoW1xuICAgICAgICBWYWxpZGF0b3JzLnJlcXVpcmVkLFxuICAgICAgICB0aGlzLmN1cnJlbnREYXRlVmFsaWRhdG9yLFxuICAgICAgICB0aGlzLmRhdGVWYWxpZGF0b3IoJ2Fycml2YWxEYXRlJywgJ2RlcGFydHVyZURhdGUnKSxcbiAgICAgIF0pO1xuXG4gICAgICB0aGlzLmRlcGFydHVyZURhdGVTdWJzY3JpcHRpb24gPSB0aGlzLmRlcGFydHVyZURhdGUudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuYXJyaXZhbERhdGUudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IGVtaXRFdmVudDogZmFsc2UgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hcnJpdmFsRGF0ZVN1YmNyaXB0aW9uID0gdGhpcy5hcnJpdmFsRGF0ZS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgdGhpcy5kZXBhcnR1cmVEYXRlLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoeyBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMudHJhdmVsTm90aWNlU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLnRyYXZlbE5vdGljZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFycml2YWxEYXRlU3ViY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuYXJyaXZhbERhdGVTdWJjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlcGFydHVyZURhdGVTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuZGVwYXJ0dXJlRGF0ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlVHJhdmVsTm90aWNlVmFsdWUgPSAoY3JlYXRlVHJhdmVsTm90aWNlRm9ybTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBkZXRhaWxzLCBjYXJkSWRzOiBjYXJkcyB9ID0gY3JlYXRlVHJhdmVsTm90aWNlRm9ybTtcblxuICAgIGlmIChjYXJkcykge1xuICAgICAgdGhpcy50cmF2ZWxOb3RpY2VJdGVtID0ge1xuICAgICAgICAuLi50aGlzLnRyYXZlbE5vdGljZUl0ZW0sXG4gICAgICAgIGNhcmRzLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoZGV0YWlscykge1xuICAgICAgdGhpcy50cmF2ZWxOb3RpY2VJdGVtID0ge1xuICAgICAgICAuLi50aGlzLnRyYXZlbE5vdGljZUl0ZW0sXG4gICAgICAgIGRlc3RpbmF0aW9uczogZGV0YWlscy5kZXN0aW5hdGlvbnMsXG4gICAgICAgIGNvbnRhY3Q6IHtcbiAgICAgICAgICBwaG9uZU51bWJlcjogZGV0YWlscy5jb250YWN0TnVtYmVyICsgJycsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlcGFydHVyZURhdGUudmFsaWQpIHtcbiAgICAgIHRoaXMudHJhdmVsTm90aWNlSXRlbSA9IHtcbiAgICAgICAgLi4udGhpcy50cmF2ZWxOb3RpY2VJdGVtLFxuICAgICAgICBkZXBhcnR1cmVEYXRlOiB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShkZXRhaWxzLmRlcGFydHVyZURhdGUsICd5eXl5LU1NLWRkJykgYXMgc3RyaW5nLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcnJpdmFsRGF0ZS52YWxpZCkge1xuICAgICAgdGhpcy50cmF2ZWxOb3RpY2VJdGVtID0ge1xuICAgICAgICAuLi50aGlzLnRyYXZlbE5vdGljZUl0ZW0sXG4gICAgICAgIGFycml2YWxEYXRlOiB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShkZXRhaWxzLmFycml2YWxEYXRlLCAneXl5eS1NTS1kZCcpIGFzIHN0cmluZyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwbGF5QWxlcnQgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogdGVtcG9yYXJ5IHNvbHV0aW9uIG9uY2UgZGF0ZXBpY2tlciBpcyByZWFkeSB0byB2YWxpZGF0ZSByYW5nZXMgaXMgcmVsZWFzZSB0aGlzIG1ldGhvZCB3aWxsIGJlIHJlbW92ZWRcbiAgICovXG4gIHByaXZhdGUgZGF0ZVZhbGlkYXRvcihmaWVsZE5hbWUxOiBzdHJpbmcsIGZpZWxkTmFtZTI6IHN0cmluZykge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBmb3JtQ29udHJvbDEgPSB0aGlzLmRldGFpbHNHcm91cC5nZXQoZmllbGROYW1lMSkgYXMgQWJzdHJhY3RDb250cm9sO1xuICAgICAgY29uc3QgZm9ybUNvbnRyb2wyID0gdGhpcy5kZXRhaWxzR3JvdXAuZ2V0KGZpZWxkTmFtZTIpIGFzIEFic3RyYWN0Q29udHJvbDtcbiAgICAgIGNvbnN0IGRhdGUxID0gbmV3IERhdGUoZm9ybUNvbnRyb2wxLnZhbHVlKS5nZXRUaW1lKCk7XG4gICAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKGZvcm1Db250cm9sMi52YWx1ZSkuZ2V0VGltZSgpO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgLCBuby1udWxsL25vLW51bGxcbiAgICAgIHJldHVybiBkYXRlMSA8IGRhdGUyID8geyBpbnZhbGlkRGF0ZTogdHJ1ZSB9IDogbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSB0cnVuY2F0ZURhdGUoZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCkpIHtcbiAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgbmV3RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICAgIHJldHVybiBuZXdEYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjdXJyZW50RGF0ZVZhbGlkYXRvciA9IChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcbiAgICBjb25zdCByZXR1cm5EYXRlID0gbmV3IERhdGUoY29udHJvbC52YWx1ZSk7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSB0aGlzLnRydW5jYXRlRGF0ZSgpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICwgbm8tbnVsbC9uby1udWxsXG4gICAgcmV0dXJuIHJldHVybkRhdGUuZ2V0VGltZSgpIDwgY3VycmVudERhdGUuZ2V0VGltZSgpID8geyBpbnZhbGlkQ3VycmVudERhdGU6IHRydWUgfSA6IG51bGw7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYXNDYXJkc1NlbGVjdGVkKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkge1xuICAgIGNvbnN0IGNhcmRzID0gY29udHJvbC52YWx1ZTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1udWxsL25vLW51bGxcbiAgICByZXR1cm4gY2FyZHMubGVuZ3RoID09PSAwID8geyBlbXB0eTogdHJ1ZSB9IDogbnVsbDtcbiAgfVxuXG4gIGdldCBkZXRhaWxzR3JvdXAoKTogRm9ybUdyb3VwIHtcbiAgICByZXR1cm4gKHRoaXMuY3JlYXRlVHJhdmVsTm90aWNlRm9ybSBhcyBGb3JtR3JvdXApLmdldCgnZGV0YWlscycpIGFzIEZvcm1Hcm91cDtcbiAgfVxuICBnZXQgY2FyZElkc0dyb3VwKCk6IEZvcm1Hcm91cCB7XG4gICAgcmV0dXJuICh0aGlzLmNyZWF0ZVRyYXZlbE5vdGljZUZvcm0gYXMgRm9ybUdyb3VwKS5nZXQoJ2NhcmRJZHMnKSBhcyBGb3JtR3JvdXA7XG4gIH1cblxuICBnZXQgZGVzdGluYXRpb25zKCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgcmV0dXJuIHRoaXMuZGV0YWlsc0dyb3VwLmdldCgnZGVzdGluYXRpb25zJykgYXMgQWJzdHJhY3RDb250cm9sO1xuICB9XG4gIGdldCBhcnJpdmFsRGF0ZSgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgIHJldHVybiB0aGlzLmRldGFpbHNHcm91cC5nZXQoJ2Fycml2YWxEYXRlJykgYXMgQWJzdHJhY3RDb250cm9sO1xuICB9XG4gIGdldCBkZXBhcnR1cmVEYXRlKCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgcmV0dXJuIHRoaXMuZGV0YWlsc0dyb3VwLmdldCgnZGVwYXJ0dXJlRGF0ZScpIGFzIEFic3RyYWN0Q29udHJvbDtcbiAgfVxuICBnZXQgY29udGFjdE51bWJlcigpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgIHJldHVybiB0aGlzLmRldGFpbHNHcm91cC5nZXQoJ2NvbnRhY3ROdW1iZXInKSBhcyBBYnN0cmFjdENvbnRyb2w7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGZiOiBGb3JtQnVpbGRlciwgcHJpdmF0ZSByZWFkb25seSBkYXRlUGlwZTogRGF0ZVBpcGUpIHt9XG59XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYlRyYXZlbE5vdGljZUNyZWF0ZUN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBUcmF2ZWxOb3RpY2VDcmVhdGVDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPENhcmRzVHJhdmVsTm90aWNlQ3JlYXRlQ29tcG9uZW50LCB1bmRlZmluZWQ+IHt9XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYlRyYXZlbE5vdGljZURldGFpbHNTdGVwQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIFRyYXZlbE5vdGljZURldGFpbHNTdGVwQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgQ2FyZHNUcmF2ZWxOb3RpY2VDcmVhdGVDb21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJUcmF2ZWxOb3RpY2VTZWxlY3RDYXJkc0N1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBUcmF2ZWxOb3RpY2VTZWxlY3RDYXJkc0N1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIENhcmRzVHJhdmVsTm90aWNlQ3JlYXRlQ29tcG9uZW50LFxuICB1bmRlZmluZWRcbj4ge31cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiVHJhdmVsTm90aWNlQ29uZmlybVN0ZXBDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVHJhdmVsTm90aWNlQ29uZmlybVN0ZXBDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFxuICBDYXJkc1RyYXZlbE5vdGljZUNyZWF0ZUNvbXBvbmVudCxcbiAgdW5kZWZpbmVkXG4+IHt9XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYlRyYXZlbE5vdGljZVN0ZXBwZXJDdXN0b21pemFibGVdJyxcbn0pXG5leHBvcnQgY2xhc3MgVHJhdmVsTm90aWNlU3RlcHBlckN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8Q2FyZHNUcmF2ZWxOb3RpY2VDcmVhdGVDb21wb25lbnQsIHVuZGVmaW5lZD4ge31cbiIsIjxuZy1jb250YWluZXIgYmJUcmF2ZWxOb3RpY2VDcmVhdGVDdXN0b21pemFibGUgW2JiSG9zdFJlZl09XCJob3N0UmVmXCI+PC9uZy1jb250YWluZXI+XG5cbjxuZy10ZW1wbGF0ZSBiYlRyYXZlbE5vdGljZUNyZWF0ZUN1c3RvbWl6YWJsZSBsZXQtaG9zdFJlZj5cbiAgPGgxIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLWxnXCIgaTE4bj1cIkNyZWF0ZSB0cmF2ZWwgbm90aWNlIGhlYWRlckBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuaGVhZGVyXCI+XG4gICAgQ3JlYXRlIHRyYXZlbCBub3RpY2VcbiAgPC9oMT5cbiAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1sZyBiYi1jcmVhdGUtdHJhdmVsLW5vdGljZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICAgIDxuZy1jb250YWluZXIgYmJUcmF2ZWxOb3RpY2VTdGVwcGVyQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiPjwvbmctY29udGFpbmVyPlxuICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJob3N0UmVmLmNyZWF0ZVRyYXZlbE5vdGljZUZvcm1cIiAobmdTdWJtaXQpPVwiaG9zdFJlZi5vblN1Ym1pdFRyYXZlbE5vdGljZSgpXCI+XG4gICAgICAgIDxuZy1jb250YWluZXIgYmJUcmF2ZWxOb3RpY2VEZXRhaWxzU3RlcEN1c3RvbWl6YWJsZSBbYmJIb3N0UmVmXT1cImhvc3RSZWZcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciBiYlRyYXZlbE5vdGljZVNlbGVjdENhcmRzQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICA8bmctY29udGFpbmVyIGJiVHJhdmVsTm90aWNlQ29uZmlybVN0ZXBDdXN0b21pemFibGUgW2JiSG9zdFJlZl09XCJob3N0UmVmXCI+PC9uZy1jb250YWluZXI+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIGJiVHJhdmVsTm90aWNlU3RlcHBlckN1c3RvbWl6YWJsZSBsZXQtaG9zdFJlZj5cbiAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1sZ1wiPlxuICAgIDxkaXYgY2xhc3M9XCJyb3cgYmItc3RhY2stLWNlbnRlclwiPlxuICAgICAgPGJiLXN0ZXBwZXItdWkgY2xhc3M9IFwiY29sLTEyIGNvbC1tZC0xMCBjb2wtbGctOFwiPlxuICAgICAgICA8YmItc3RlcHBlci1zdGVwLXVpIFxuICAgICAgICAgIGxhYmVsPVwiVHJhdmVsIGRldGFpbHNcIlxuICAgICAgICAgIGkxOG4tbGFiZWw9XCJUcmF2ZWwgZGV0YWlsc0BAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2Uuc3RlcHBlci5oZWFkZXIuc3RlcDFcIlxuICAgICAgICAgIFtpc0NoZWNrZWRdPVwiaG9zdFJlZi5jdXJyZW50U3RlcCA+IDFcIlxuICAgICAgICAgIFtpc0FjdGl2ZV09XCJob3N0UmVmLmN1cnJlbnRTdGVwID49IDFcIlxuICAgICAgICAgIGFyaWFMYWJlbD1cIlN0ZXAgMSBvdXQgb2YgM1wiXG4gICAgICAgICAgaTE4bi1hcmlhTGFiZWw9XCJTdGVwIDEgb3V0IG9mIDNAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLnN0ZXBwZXIuYXJpYS5sYWJlbC5zdGVwMVwiXG4gICAgICAgID5cbiAgICAgICAgPC9iYi1zdGVwcGVyLXN0ZXAtdWk+XG4gICAgICAgIDxiYi1zdGVwcGVyLXN0ZXAtdWkgXG4gICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiIFxuICAgICAgICAgIGxhYmVsPVwiQ2FyZCBzZWxlY3Rpb25cIlxuICAgICAgICAgIGkxOG4tbGFiZWw9XCJDYXJkIHNlbGVjdGlvbkBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2Uuc3RlcHBlci5oZWFkZXIuc3RlcDJcIlxuICAgICAgICAgIFtpc0NoZWNrZWRdPVwiaG9zdFJlZi5jdXJyZW50U3RlcCA+IDJcIlxuICAgICAgICAgIFtpc0FjdGl2ZV09XCJob3N0UmVmLmN1cnJlbnRTdGVwID49IDJcIiBcbiAgICAgICAgICBhcmlhTGFiZWw9XCJTdGVwIDIgb3V0IG9mIDNcIlxuICAgICAgICAgIGkxOG4tYXJpYUxhYmVsPVwiU3RlcCAyIG91dCBvZiAzQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5zdGVwcGVyLmFyaWEubGFiZWwuc3RlcDJcIlxuICAgICAgICA+XG4gICAgICAgIDwvYmItc3RlcHBlci1zdGVwLXVpPlxuICAgICAgICA8YmItc3RlcHBlci1zdGVwLXVpIFxuICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIiBcbiAgICAgICAgICBsYWJlbD1cIkNvbmZpcm1hdGlvblwiIFxuICAgICAgICAgIGkxOG4tbGFiZWw9XCJDb25maXJtYXRpb25AQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLnN0ZXBwZXIuaGVhZGVyLnN0ZXAzXCJcbiAgICAgICAgICBbaXNBY3RpdmVdPVwiaG9zdFJlZi5jdXJyZW50U3RlcCA+PSAzXCIgXG4gICAgICAgICAgYXJpYUxhYmVsPVwiU3RlcCAzIG91dCBvZiAzXCJcbiAgICAgICAgICBpMThuLWFyaWFMYWJlbD1cIlN0ZXAgMyBvdXQgb2YgM0BAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2Uuc3RlcHBlci5hcmlhLmxhYmVsLnN0ZXAzXCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLXN0ZXBwZXItc3RlcC11aT5cbiAgICAgIDwvYmItc3RlcHBlci11aT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDwhLS0gY2FuY2VsIHRyYXZlbCBub3RpY2UgbW9kYWwgLS0+XG4gIDxiYi1tb2RhbC11aSBbaXNPcGVuXT1cImhvc3RSZWYuZGlhbG9nT3BlblwiIChjYW5jZWwpPVwiaG9zdFJlZi5jbG9zZUNvbmZpcm1hdGlvbkRpYWxvZygpXCI+XG4gICAgPGJiLW1vZGFsLWhlYWRlci11aT5cbiAgICAgIDxuZy10ZW1wbGF0ZSBiYkN1c3RvbU1vZGFsSGVhZGVyPlxuICAgICAgICA8aDIgaTE4bj1cIkNhbmNlbCBUcmF2ZWwgTm90aWNlQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5jYW5jZWxUcmF2ZWxOb3RpY2UubW9kYWwuaGVhZGVyXCI+XG4gICAgICAgICAgRGlzY2FyZCB0cmF2ZWwgbm90aWNlP1xuICAgICAgICA8L2gyPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b24gYmJCdXR0b24gY29sb3I9XCJ1bnN0eWxlZFwiIChjbGljayk9XCJob3N0UmVmLmNsb3NlQ29uZmlybWF0aW9uRGlhbG9nKClcIj5cbiAgICAgICAgICAgIDxiYi1pY29uLXVpIGNvbG9yPVwibXV0ZWRcIiBuYW1lPVwiY2xlYXJcIj48L2JiLWljb24tdWk+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L2JiLW1vZGFsLWhlYWRlci11aT5cbiAgICA8YmItbW9kYWwtYm9keS11aT5cbiAgICAgIDxuZy10ZW1wbGF0ZSBiYkN1c3RvbU1vZGFsQm9keT5cbiAgICAgICAgPHNwYW4gaTE4bj1cIkRlbGV0ZSBjb25maXJtYXRpb24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuY2FuY2VsVHJhdmVsTm90aWNlLm1vZGFsLmJvZHlcIj5cbiAgICAgICAgICBBbGwgZW50ZXJlZCBpbmZvcm1hdGlvbiBmb3IgdGhpcyB0cmF2ZWwgbm90aWNlIHdpbGwgYmUgcGVybWFuZW50bHkgbG9zdC5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L2JiLW1vZGFsLWJvZHktdWk+XG4gICAgPGJiLW1vZGFsLWZvb3Rlci11aSAjZm9vdGVyUmVmPlxuICAgICAgPG5nLXRlbXBsYXRlIGJiQ3VzdG9tTW9kYWxGb290ZXI+XG4gICAgICAgIDxidXR0b24gYmJCdXR0b24gKGNsaWNrKT1cImhvc3RSZWYuY2xvc2VDb25maXJtYXRpb25EaWFsb2coKVwiIGNvbG9yPVwibGlua1wiPlxuICAgICAgICAgIDxzcGFuIGkxOG49XCJTdWJtaXQgYnV0dG9uIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VNb2RhbC5rZWVwQ3JlYXRpbmcuYnV0dG9uXCI+XG4gICAgICAgICAgICBLZWVwIGl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBiYkJ1dHRvbiAoY2xpY2spPVwiaG9zdFJlZi5jb25maXJtQ2FuY2VsKClcIiBjb2xvcj1cImRhbmdlclwiPlxuICAgICAgICAgIDxzcGFuIGkxOG49XCJEaXNjYXJkIGJ1dHRvbiB0ZXh0QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlTW9kYWwuZGlzY2FyZEJ1dHRvblwiPlxuICAgICAgICAgICAgRGlzY2FyZCB0cmF2ZWwgbm90aWNlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgPC9iYi1tb2RhbC1mb290ZXItdWk+XG4gIDwvYmItbW9kYWwtdWk+XG4gIDwhLS0gZW5kIG9mIG1vZGFsIC0tPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIGJiVHJhdmVsTm90aWNlRGV0YWlsc1N0ZXBDdXN0b21pemFibGUgbGV0LWhvc3RSZWY+XG4gIDxmb3JtIFtmb3JtR3JvdXBdPVwiaG9zdFJlZi5kZXRhaWxzR3JvdXBcIj5cbiAgICA8ZGl2IFtoaWRkZW5dPVwiaG9zdFJlZi5jdXJyZW50U3RlcCAhPT0gMVwiPlxuICAgICAgPGgyIFxuICAgICAgICBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14bFwiXG4gICAgICAgIGkxOG49XCJDcmVhdGUgdHJhdmVsIG5vdGljZSBkZXRhaWxzIGZvcm0gaGVhZGVyQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5kZXRhaWxzLmZvcm0uaGVhZGVyXCJcbiAgICAgID5cbiAgICAgICAgVGVsbCB1cyBhYm91dCB5b3VyIHRyYXZlbCBkZXRhaWxzXG4gICAgICA8L2gyPlxuICAgICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14bFwiPlxuICAgICAgICA8IS0tIERlc3RpbmF0aW9ucyBpbnB1dCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1sZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItY3JlYXRlLXRyYXZlbC1ub3RpY2VfX2NvdW50cnktc2VsZWN0b3JcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaTE4bj1cIlRyYXZlbCBub3RpY2UgZGVzdGluYXRpb25zIGlucHV0QEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5kZXRhaWxzLmZvcm0uZGVzdGluYXRpb25zLmlucHV0XCI+XG4gICAgICAgICAgICAgICAgICBEZXN0aW5hdGlvbihzKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGJiLWNhcmRzLXRyYXZlbC1ub3RpY2UtY291bnRyeS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgW2Rlc3RpbmF0aW9uTGlzdF09XCJob3N0UmVmLmRlc3RpbmF0aW9uTGlzdFwiXG4gICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJkZXN0aW5hdGlvbnNcIlxuICAgICAgICAgICAgICAgID48L2JiLWNhcmRzLXRyYXZlbC1ub3RpY2UtY291bnRyeS1zZWxlY3Rvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFob3N0UmVmLmlzRmllbGRWYWxpZCgnZGVzdGluYXRpb25zJylcIj5cbiAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICBpMThuPVwiVHJhdmVsIG5vdGljZSBubyBkZXN0aW5hdGlvbnMgdmFsaWRhdGlvbkBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UucmVxdWlyZWQuZGVzdGluYXRpb25zLmVycm9yLm1zZ1wiXG4gICAgICAgICAgICAgICpuZ0lmPVwiaG9zdFJlZi5kZXN0aW5hdGlvbnMuaGFzRXJyb3IoJ3JlcXVpcmVkJylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBQbGVhc2Ugc2VsZWN0IG9uZSBvciBtb3JlIGRlc3RpbmF0aW9uc1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvYmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCEtLSBlbmQgb2YgaW5wdXQgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICA8IS0tIERlcGFydHVyZSBkYXRlIGlucHV0IC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiBiYi1ibG9jayBiYi1ibG9jay0tbGdcIj5cbiAgICAgICAgICAgIDxiYi1pbnB1dC1kYXRlcGlja2VyLXVpIFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1NL0REL1lZWVlcIlxuICAgICAgICAgICAgICBpMThuLXBsYWNlaG9sZGVyPVwiRGVwYXJ0dXJlIGRhdGUgaW5wdXQgcGxhY2Vob2xkZXJAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmZvcm0uZGVwYXJ0dXJlLmlucHV0LnBsYWNlaG9sZGVyXCIgXG4gICAgICAgICAgICAgIGxhYmVsPVwiRGVwYXJ0dXJlIGRhdGVcIlxuICAgICAgICAgICAgICBpMThuLWxhYmVsPVwiRGVwYXJ0dXJlIGRhdGVAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmZvcm0uZGVwYXJ0dXJlLmxhYmVsXCIgXG4gICAgICAgICAgICAgIG5hbWU9XCJkZXBhcnR1cmVEYXRlXCJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZGVwYXJ0dXJlRGF0ZVwiXG4gICAgICAgICAgICAgIFtvdmVycmlkZURhdGVGb3JtYXRdPVwiJ2xvbmdEYXRlJ1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2JiLWlucHV0LWRhdGVwaWNrZXItdWk+XG4gICAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFob3N0UmVmLmlzRmllbGRWYWxpZCgnZGVwYXJ0dXJlRGF0ZScpXCI+XG5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgZXJyb3Igb2YgaG9zdFJlZi5kZXBhcnR1cmVEYXRlLmVycm9ycyB8IGtleXZhbHVlOyBsYXN0IGFzIGxhc3RcIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwibGFzdFwiIFtuZ1N3aXRjaF09XCJlcnJvci5rZXlcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCIncmVxdWlyZWQnXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIk1pc3NpbmcgZGVwYXJ0dXJlIGRhdGV8TWlzc2luZyBsZWF2aW5nIGRhdGV8TWlzc2luZyBpbml0aWFsIERhdGVAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLnJlcXVpcmVkLmRlcGFydHVyZURhdGUuZXJyb3IubXNnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUGxlYXNlIGNob29zZSBhIGRlcGFydHVyZSBkYXRlXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidpbnZhbGlkRGF0ZSdcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiSW52YWxpZCBkZXBhcnR1cmUgZGF0ZXxBcnJpdmFsIGRhdGUgaXMgYmVmb3JlIGRlcGFydHVyZUBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuaW52YWxpZC5yZXR1cm5EYXRlQ29uZmxpY3QuZXJyb3IubXNnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgVGhlIHJldHVybiBkYXRlIGNhbm5vdCBiZSBiZWZvcmUgdGhlIGRlcGFydHVyZSBkYXRlXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidpbnZhbGlkRGF0ZUZvcm1hdCdcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiSW52YWxpZCBkZXBhcnR1cmUgZGF0ZXxJbnZhbGlkIGRhdGUgZm9ybWF0QEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5pbnZhbGlkLmFycml2YWxEYXRlLmhhc0ludmFsaWRGb3JtYXQuZXJyb3IubXNnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUGxlYXNlIGVudGVyIGEgdmFsaWQgZm9ybWF0LiBGb3IgZXhhbXBsZSwgMTAvMDgvMjAyMFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPCEtLSBlbmQgb2YgaW5wdXQgLS0+XG4gICAgICAgICAgPCEtLSBSZXR1cm4gZGF0ZSBpbnB1dCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTYgYmItYmxvY2sgYmItYmxvY2stLWxnXCI+XG4gICAgICAgICAgICA8YmItaW5wdXQtZGF0ZXBpY2tlci11aSBcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNTS9ERC9ZWVlZXCJcbiAgICAgICAgICAgICAgaTE4bi1wbGFjZWhvbGRlcj1cIkFycml2YWwgZGF0ZSBpbnB1dCBwbGFjZWhvbGRlckBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuZm9ybS5hcnJpdmFsLmlucHV0LnBsYWNlaG9sZGVyXCIgXG4gICAgICAgICAgICAgIGxhYmVsPVwiUmV0dXJuIGRhdGVcIlxuICAgICAgICAgICAgICBpMThuLWxhYmVsPVwiUmV0dXJuIGRhdGVAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmZvcm0uYXJyaXZhbC5sYWJlbFwiIFxuICAgICAgICAgICAgICBuYW1lPVwiYXJyaXZhbERhdGVcIlxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJhcnJpdmFsRGF0ZVwiXG4gICAgICAgICAgICAgIFtvdmVycmlkZURhdGVGb3JtYXRdPVwiJ2xvbmdEYXRlJ1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2JiLWlucHV0LWRhdGVwaWNrZXItdWk+XG4gICAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFob3N0UmVmLmlzRmllbGRWYWxpZCgnYXJyaXZhbERhdGUnKVwiPlxuXG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGVycm9yIG9mIGhvc3RSZWYuYXJyaXZhbERhdGUuZXJyb3JzIHwga2V5dmFsdWU7IGxhc3QgYXMgbGFzdFwiPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJsYXN0XCIgW25nU3dpdGNoXT1cImVycm9yLmtleVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCIncmVxdWlyZWQnXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIk1pc3NpbmcgYXJyaXZhbCBkYXRlfE1pc3NpbmcgY29taW5nIGRhdGV8TWlzc2luZyBsYXN0IERhdGVAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLnJlcXVpcmVkLmRlcGFydHVyZURhdGUuZXJyb3IubXNnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUGxlYXNlIGNob29zZSBhIHJldHVybiBkYXRlXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidpbnZhbGlkRGF0ZSdcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiSW52YWxpZCBhcnJpdmFsIGRhdGV8QXJyaXZhbCBkYXRlIGlzIGJlZm9yZSBkZXBhcnR1cmVAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmludmFsaWQucmV0dXJuRGF0ZUNvbmZsaWN0LmVycm9yLm1zZ1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFRoZSByZXR1cm4gZGF0ZSBjYW5ub3QgYmUgYmVmb3JlIHRoZSBkZXBhcnR1cmUgZGF0ZVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCInaW52YWxpZEN1cnJlbnREYXRlJ1wiXG4gICAgICAgICAgICAgICAgICAgIGkxOG49XCJJbnZhbGlkIGRlcGFydHVyZSBkYXRlfEFycml2YWwgZGF0ZSBpcyBiZWZvcmUgY3VycmVudCBkYXRlQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5pbnZhbGlkLmFycml2YWxEYXRlLmhhc0N1cnJlbnREYXRlLmVycm9yLm1zZ1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFBsZWFzZSBkbyBub3QgY2hvb3NlIGEgcGFzdCByZXR1cm4gZGF0ZVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCInaW52YWxpZERhdGVGb3JtYXQnXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIkludmFsaWQgYXJyaXZhbCBkYXRlfEludmFsaWQgZGF0ZSBmb3JtYXRAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmludmFsaWQuYXJyaXZhbERhdGUuaGFzSW52YWxpZEZvcm1hdC5lcnJvci5tc2dcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQbGVhc2UgZW50ZXIgYSB2YWxpZCBmb3JtYXQuIEZvciBleGFtcGxlLCAxMC8wOC8yMDIwXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPCEtLSBlbmQgb2YgaW5wdXQgLS0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8IS0tIENvbnRhY3QgbnVtYmVyIGlucHV0IC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2tcIj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICA8c3Ryb25nIGkxOG49XCJDb250YWN0IE51bWJlckBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuZGV0YWlscy5mb3JtLmNvbnRhY3ROdW1iZXIuaW5wdXRcIj5cbiAgICAgICAgICAgICAgQ29udGFjdCBudW1iZXJcbiAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYi10ZXh0LXN1cHBvcnRcIiBpMThuPVwiT3B0aW9uYWxAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmRldGFpbHMuZm9ybS5jb250YWN0TnVtYmVyLm9wdGlvbmFsXCI+XG4gICAgICAgICAgICAoT3B0aW9uYWwpXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9ja1wiIFtuZ0NsYXNzXT1cInsnYmItYmxvY2stLXNtJzogaG9zdFJlZi5pc0ZpZWxkVmFsaWQoJ2NvbnRhY3ROdW1iZXInKX1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJiLWNyZWF0ZS10cmF2ZWwtbm90aWNlX19jb250YWN0LW51bWJlclwiPlxuICAgICAgICAgICAgICAgICAgPGJiLWlucHV0LXBob25lLXVpIFxuICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJjb250YWN0TnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuICsoMSkgNTQxIDc1NCAzMDEwXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bi1wbGFjZWhvbGRlcj1cIkV4YW1wbGUgcGxhY2Vob2xkZXIsIGUuZy4gKygxKSA1NDEgNzU0IDMwMTBAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmRldGFpbHMuZm9ybS5jb250YWN0TnVtYmVyLnBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvYmItaW5wdXQtcGhvbmUtdWk+XG4gICAgICAgICAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFob3N0UmVmLmlzRmllbGRWYWxpZCgnY29udGFjdE51bWJlcicpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpMThuPVwiSW52YWxpZCBjb250YWN0IG51bWJlckBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuZGV0YWlscy5mb3JtLmNvbnRhY3ROdW1iZXIuZXJyb3IucGF0dGVyblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgSW52YWxpZCBjb250YWN0IG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJiYi1jcmVhdGUtdHJhdmVsLW5vdGljZV9fZGlzY2xhaW1lclwiXG4gICAgICAgICAgICBpMThuPVwiQ29udGFjdCBwaG9uZSBudW1iZXIgZGVzY3JpcHRpb25AQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmRldGFpbHMuZm9ybS5jb250YWN0TnVtYmVyLmRlc2NyaXB0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBXZSB3aWxsIHJlYWNoIHlvdSBvbiB0aGlzIG51bWJlciBpbiBjYXNlIG9mIGFueSBzdXNwaWNpb3VzIGFjdGl2aXR5LlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDwhLS0gZW5kIG9mIGlucHV0IC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXJcIj5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvblwiIFxuICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgaTE4bj1cIkNvbnRpbnVlIEJ1dHRvbiB0ZXh0QEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5kZXRhaWxzLmZvcm0uY29udGludWUuYnV0dG9uXCJcbiAgICAgICAgICAoY2xpY2spPVwiaG9zdFJlZi5uZXh0KGhvc3RSZWYuY2FyZElkc0dyb3VwKVwiXG4gICAgICAgID5cbiAgICAgICAgICBDb250aW51ZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvbiBiYi1idXR0b24tYmFyX19idXR0b24tLWFjcm9zc1wiIFxuICAgICAgICAgIGJiQnV0dG9uIFxuICAgICAgICAgIGNvbG9yPVwibGlua1wiXG4gICAgICAgICAgaTE4bj1cIkNhbmNlbCBidXR0b24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuZGV0YWlscy5mb3JtLmNhbmNlbC5idXR0b25cIlxuICAgICAgICAgIChjbGljayk9XCJob3N0UmVmLm9uQ2FuY2VsKClcIlxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9ybT5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSBiYlRyYXZlbE5vdGljZVNlbGVjdENhcmRzQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICA8ZGl2IFtoaWRkZW5dPVwiaG9zdFJlZi5jdXJyZW50U3RlcCAhPT0gMlwiPlxuICAgIDxoMiBcbiAgICAgIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCJcbiAgICAgIGkxOG49XCJDcmVhdGUgdHJhdmVsIG5vdGljZSBzZWxlY3QgY2FyZHMgaGVhZGVyQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5zZWxlY3RDYXJkcy5oZWFkZXJcIlxuICAgID5cbiAgICAgIFNlbGVjdCB0aGUgY2FyZHMgeW91IGFyZSB0cmF2ZWxsaW5nIHdpdGhcbiAgICA8L2gyPlxuICAgIDxiYi1hbGVydC11aSAqbmdJZj1cImhvc3RSZWYuZGlzcGxheUFsZXJ0XCJcbiAgICAgIHRpdGxlPVwiWW91IG5lZWQgdG8gc2VsZWN0IGF0IGxlYXN0IG9uZSBjYXJkIGluIG9yZGVyIHRvIGNyZWF0ZSBhIHRyYXZlbCBub3RpY2VcIlxuICAgICAgaTE4bi10aXRsZT1cIllvdSBuZWVkIHRvIHNlbGVjdCBhdCBsZWFzdCBvbmUgY2FyZCBpbiBvcmRlciB0byBjcmVhdGUgYSB0cmF2ZWwgbm90aWNlfFBpY2sgb25lQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5zZWxlY3RDYXJkcy5hbGVydFwiXG4gICAgICBbZGlzbWlzc2libGVdPVwidHJ1ZVwiXG4gICAgICAoY2xvc2UpPVwiaG9zdFJlZi5vbkFsZXJ0RGlzbWlzcygpXCJcbiAgICA+PC9iYi1hbGVydC11aT5cbiAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLWxnXCI+XG4gICAgICA8YmItY2FyZHMtdHJhdmVsLW5vdGljZS1jaGVja2JveC1jYXJkcyBbcGF5bWVudENhcmRzXT1cImhvc3RSZWYucGF5bWVudENhcmRzXCIgW2Zvcm1Db250cm9sXT1cImhvc3RSZWYuY2FyZElkc0dyb3VwXCI+PC9iYi1jYXJkcy10cmF2ZWwtbm90aWNlLWNoZWNrYm94LWNhcmRzPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJiYi1idXR0b24tYmFyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCIgXG4gICAgICAgIGJiQnV0dG9uXG4gICAgICAgIGkxOG49XCJDb250aW51ZSBCdXR0b24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2Uuc2VsZWN0Q2FyZHMuc3RlcC5jb250aW51ZS5idXR0b25cIlxuICAgICAgICAoY2xpY2spPVwiaG9zdFJlZi5uZXh0KClcIlxuICAgICAgPlxuICAgICAgICBDb250aW51ZVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uICBcbiAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b25cIiBcbiAgICAgICAgYmJCdXR0b24gY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICBpMThuPVwiQmFjayBidXR0b24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2Uuc2VsZWN0Q2FyZHMuc3RlcC5iYWNrLmJ1dHRvblwiXG4gICAgICAgIChjbGljayk9XCJob3N0UmVmLmJhY2soaG9zdFJlZi5kZXRhaWxzR3JvdXApXCJcbiAgICAgID5cbiAgICAgICAgQmFja1xuICAgICAgPC9idXR0b24+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvbiBiYi10ZXh0LXN1cHBvcnQgYmItY3JlYXRlLXRyYXZlbC1ub3RpY2VfX2NhcmRzLWNvdW50IGJiLWNyZWF0ZS10cmF2ZWwtbm90aWNlX19jYXJkcy1jb3VudC0teHMtdG9wXCJcbiAgICAgICAgKm5nSWY9XCJob3N0UmVmLmNhcmRJZHNHcm91cC52YWx1ZS5sZW5ndGggIT09IDBcIlxuICAgICAgPlxuICAgICAgICB7e2hvc3RSZWYuY2FyZElkc0dyb3VwLnZhbHVlLmxlbmd0aH19IG9mIHt7aG9zdFJlZi5wYXltZW50Q2FyZHMubGVuZ3RofX0gc2VsZWN0ZWRcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvbiBiYi1idXR0b24tYmFyX19idXR0b24tLWFjcm9zc1wiPlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgY29sb3I9XCJsaW5rXCJcbiAgICAgICAgICBpMThuPVwiQ2FuY2VsIGJ1dHRvbiB0ZXh0QEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5zZWxlY3RDYXJkcy5zdGVwLmNhbmNlbC5idXR0b25cIlxuICAgICAgICAgIChjbGljayk9XCJob3N0UmVmLm9uQ2FuY2VsKClcIlxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIGJiVHJhdmVsTm90aWNlQ29uZmlybVN0ZXBDdXN0b21pemFibGUgbGV0LWhvc3RSZWY+XG4gIDxkaXYgKm5nSWY9XCJob3N0UmVmLmN1cnJlbnRTdGVwID09PSAzXCI+XG4gICAgPGgyICAgXG4gICAgICBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14bFwiXG4gICAgICBpMThuPVwiQ3JlYXRlIHRyYXZlbCBub3RpY2UgY29uZmlybWF0aW9uIHN0ZXAgaGVhZGVyQEBjYXJkcy5jcmVhdGUudHJhdmVsLm5vdGljZS5jb25maXJtLnN0ZXAuaGVhZGVyXCJcbiAgICA+XG4gICAgICBSZXZpZXcgeW91ciB0cmF2ZWwgbm90aWNlXG4gICAgPC9oMj5cbiAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCI+XG4gICAgICA8YmItY2FyZHMtdHJhdmVsLW5vdGljZS1jb25maXJtLXN0ZXBcbiAgICAgICAgW3RyYXZlbE5vdGljZUl0ZW1dPVwiaG9zdFJlZi50cmF2ZWxOb3RpY2VJdGVtXCJcbiAgICAgICAgW3NlbGVjdGVkQ2FyZHNdPVwiaG9zdFJlZi5jYXJkSWRzR3JvdXA/LnZhbHVlXCJcbiAgICAgICAgW2Rlc3RpbmF0aW9uTGlzdF09XCJob3N0UmVmLmRlc3RpbmF0aW9uTGlzdFwiXG4gICAgICA+PC9iYi1jYXJkcy10cmF2ZWwtbm90aWNlLWNvbmZpcm0tc3RlcD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiYmItYnV0dG9uLWJhclwiPlxuICAgICAgPGJ1dHRvbiAgXG4gICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCIgXG4gICAgICAgIGJiQnV0dG9uIFxuICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgaTE4bj1cIkNvbmZpcm0gYnV0dG9uIHRleHRAQGNhcmRzLmNyZWF0ZS50cmF2ZWwubm90aWNlLmNvbmZpcm1hdGlvbi5zdGVwLmNvbmZpcm0uYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgQ29uZmlybVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIFxuICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvblwiIFxuICAgICAgICBiYkJ1dHRvbiBcbiAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICBpMThuPVwiQmFjayBidXR0b24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuY29uZmlybWF0aW9uLnN0ZXAuYmFjay5idXR0b25cIlxuICAgICAgICAoY2xpY2spPVwiaG9zdFJlZi5iYWNrKGhvc3RSZWYuY2FyZElkc0dyb3VwKVwiXG4gICAgICA+XG4gICAgICAgIEJhY2tcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvbiBiYi1idXR0b24tYmFyX19idXR0b24tLWFjcm9zc1wiIFxuICAgICAgICBiYkJ1dHRvbiBcbiAgICAgICAgY29sb3I9XCJsaW5rXCJcbiAgICAgICAgaTE4bj1cIkNhbmNlbCBidXR0b24gdGV4dEBAY2FyZHMuY3JlYXRlLnRyYXZlbC5ub3RpY2UuY29uZmlybWF0aW9uLnN0ZXAuY2FuY2VsLmJ1dHRvblwiXG4gICAgICAgIChjbGljayk9XCJob3N0UmVmLm9uQ2FuY2VsKClcIlxuICAgICAgPlxuICAgICAgICBDYW5jZWxcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+Il19