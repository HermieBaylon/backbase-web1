{"version":3,"file":"backbase-cards-travel-notice-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/cards-travel-notice-widget-ang/src/services/travel-notice-dates-helper.service.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-status-badge.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-status-badge.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-payment-card/cards-travel-notice-payment-card.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-payment-card/cards-travel-notice-payment-card.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-list-item.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-list-item.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-list.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-list/cards-travel-notice-list.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-country-selector.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-country-selector.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-checkbox-cards.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-checkbox-cards.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-confirm-step.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-confirm-step.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-create.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-create/cards-travel-notice-create.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-container/cards-travel-notice-container.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-container/cards-travel-notice-container.component.html","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-widget/cards-travel-notice-widget.component.ts","../../../../libs/cards-travel-notice-widget-ang/src/components/cards-travel-notice-widget/cards-travel-notice-widget.component.html","../../../../libs/cards-travel-notice-widget-ang/src/cards-travel-notice-widget.module.ts","../../../../libs/cards-travel-notice-widget-ang/backbase-cards-travel-notice-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TravelNoticeDatesHelperService {\n  isPastDate(date: string | Date) {\n    const time = new Date(date);\n\n    return this.trucanteDate(time) < this.trucanteDate(new Date());\n  }\n\n  isPastDateOrToday(date: string | Date) {\n    return this.isPastDate(date) || this.areDateEqual(new Date(), new Date(date));\n  }\n\n  isUpcomingDate(date: string | Date) {\n    const time = new Date(date);\n\n    return this.trucanteDate(time) > this.trucanteDate(new Date());\n  }\n\n  isUpcomingDateOrToday(date: string | Date) {\n    return this.isUpcomingDate(date) || this.areDateEqual(new Date(), new Date(date));\n  }\n\n  isDateInBetween(date1: string | Date, date2: string | Date) {\n    return this.isPastDateOrToday(date1) && this.isUpcomingDateOrToday(date2);\n  }\n\n  private areDateEqual(date1: Date, date2: Date) {\n    return this.trucanteDate(date1) === this.trucanteDate(date2);\n  }\n\n  private trucanteDate(date: Date) {\n    date.setHours(0);\n    date.setMinutes(0);\n    date.setSeconds(0);\n    date.setMilliseconds(0);\n\n    return date.getTime();\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { TravelNotice } from '@backbase/cards-common-ang';\nimport { TravelNoticeDatesHelperService } from '../../services/travel-notice-dates-helper.service';\n\n@Component({\n  selector: 'bb-cards-travel-notice-status-badge',\n  templateUrl: './cards-travel-notice-status-badge.component.html',\n})\nexport class CardsTravelNoticeStatusBadgeComponent {\n  /**\n   * travel notice item.\n   */\n  @Input() travelNoticeItem: TravelNotice | undefined;\n\n  constructor(public helper: TravelNoticeDatesHelperService) {}\n}\n","<div class=\"bb-stack bb-block bb-block--md\" >\n  <ng-container *ngIf=\"helper.isDateInBetween(travelNoticeItem!.departureDate,travelNoticeItem!.arrivalDate)\">\n    <bb-badge-ui\n      text=\"Active\"\n      i18n-text=\"Active label|Text for the active label@@cards.travelNotice.active\"\n      color=\"success\"\n    ></bb-badge-ui>\n  </ng-container>\n\n  <ng-container *ngIf=\"helper.isUpcomingDate(travelNoticeItem!.departureDate) && helper.isUpcomingDate(travelNoticeItem!.arrivalDate)\">\n    <bb-badge-ui\n      text=\"Scheduled\"\n      i18n-text=\"Scheduled label|Text for the scheduled label@@cards.travelNotice.scheduled\"\n      color=\"info\"\n    ></bb-badge-ui>\n  </ng-container>\n\n  <ng-container *ngIf=\"helper.isPastDate(travelNoticeItem!.departureDate) && helper.isPastDate(travelNoticeItem!.arrivalDate)\">\n    <bb-badge-ui\n      text=\"Expired\"\n      i18n-text=\"Expired label|Text for the expired label@@cards.travelNotice.expired\"\n      color=\"danger\"\n    ></bb-badge-ui>\n  </ng-container>\n</div>","import { Component, Input } from '@angular/core';\nimport {\n  PaymentCard,\n  PaymentCardDisplayState,\n  PaymentCardLockStatus,\n  PaymentCardStatus,\n} from '@backbase/cards-common-ang';\n@Component({\n  selector: 'bb-cards-travel-notice-payment-card',\n  templateUrl: 'cards-travel-notice-payment-card.component.html',\n})\nexport class CardsTravelNoticePaymentCardComponent {\n  @Input() paymentCard: PaymentCard | undefined;\n\n  getDisplayState(): PaymentCardDisplayState | undefined {\n    if (this.paymentCard && this.paymentCard.status === PaymentCardStatus.Inactive) {\n      return 'INACTIVE';\n    }\n\n    if (this.paymentCard && this.paymentCard.status === PaymentCardStatus.Canceled) {\n      return 'CANCELLED';\n    }\n\n    if (this.paymentCard && this.paymentCard.status === PaymentCardStatus.Expired) {\n      return 'EXPIRED';\n    }\n\n    if (this.paymentCard && this.paymentCard.lockStatus === PaymentCardLockStatus.Locked) {\n      return 'LOCKED';\n    }\n\n    return undefined;\n  }\n}\n","<bb-payment-card-state-wrapper-ui [state]=\"getDisplayState()\">\n  <bb-payment-card-ui [paymentCard]=\"paymentCard\"></bb-payment-card-ui>\n</bb-payment-card-state-wrapper-ui>","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Destination, getCountryName, TravelNotice, TravelNoticeCountry } from '@backbase/cards-common-ang';\nimport { TravelNoticeDatesHelperService } from '../../services/travel-notice-dates-helper.service';\n\n@Component({\n  selector: 'bb-cards-travel-notice-list-item',\n  templateUrl: './cards-travel-notice-list-item.component.html',\n})\nexport class CardsTravelNoticeListItemComponent {\n  readonly hostRef = this;\n  /**\n   * Travel notice item.\n   */\n  @Input() travelNoticeItem: TravelNotice | undefined;\n  /**\n   * List for all provided ISO countries/regions.\n   */\n  @Input() destinationList: Destination[] | undefined;\n  /**\n   * EventEmitter for triggering delete event.\n   */\n  @Output() readonly delete = new EventEmitter();\n\n  dialogOpen = false;\n\n  areCardsOpen = false;\n\n  getCountryName(travelNoticeCountry: TravelNoticeCountry) {\n    return getCountryName(this.destinationList, travelNoticeCountry);\n  }\n\n  onDelete() {\n    this.dialogOpen = true;\n  }\n\n  onCancel = () => {\n    this.dialogOpen = false;\n  };\n\n  onConfirm = () => {\n    this.delete.emit(this.travelNoticeItem);\n    this.dialogOpen = false;\n  };\n\n  toggleCardsVisibility() {\n    this.areCardsOpen = !this.areCardsOpen;\n  }\n\n  constructor(public helper: TravelNoticeDatesHelperService) {}\n}\n","<div \n  class=\"bb-travel-notice-list-item\"\n  [ngClass]=\"{'bb-travel-notice-list-item--expired': hostRef.helper.isPastDate(travelNoticeItem!.arrivalDate)}\"\n>\n   <!-- status -->\n  <bb-cards-travel-notice-status-badge \n    [travelNoticeItem]=\"hostRef.travelNoticeItem\"\n  ></bb-cards-travel-notice-status-badge>\n\n  <div class=\"bb-stack bb-block bb-block--md bb-stack--align-top\">\n    <h3 class=\"bb-stack__item bb-travel-notice-header\">\n      <div>\n        <ng-container *ngFor=\"let item of hostRef.travelNoticeItem?.destinations; first as isFirst; last as isLast\">\n          <ng-container *ngIf=\"!isLast && !isFirst\">, </ng-container>\n          <ng-container *ngIf=\"!isFirst && isLast\">&nbsp;</ng-container>\n          <ng-container\n            i18n=\"And@@cards.travel.notice.list.countries.and\" \n            *ngIf=\"!isFirst && isLast\"\n          >and</ng-container>\n          <ng-container *ngIf=\"!isFirst && isLast\">&nbsp;</ng-container>\n          <ng-container>{{getCountryName(item)}}</ng-container>\n        </ng-container>\n      </div>\n    </h3>\n    \n    <div class=\"bb-stack__item bb-stack__item--push-right\">\n      <button bbButton color=\"unstyled\" (click)=\"onDelete()\">\n        <bb-icon-ui name=\"delete\" aria-label=\"Delete travel notice\" i18n-aria-label=\"Delete travel notice button@@cards.travel.notice.list.button.delete\"></bb-icon-ui>\n      </button>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-3\">\n      <div class=\"bb-block bb-block--md\">\n        <div>\n          <bb-icon-ui name=\"flight-takeoff\" size=\"sm\"></bb-icon-ui>\n          <span class=\"bb-text-support bb-travel-notice-list__label\"\n            i18n='Travel notice list Departure date header@@cards.travel.notice.list.departure.date.header'\n          > Departure date: </span>\n        </div>\n        <div class=\"bb-travel-notice-list-item__departure-date\">{{ travelNoticeItem?.departureDate | date }}</div>\n      </div>\n     \n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"bb-block bb-block--md\">\n        <div>\n          <bb-icon-ui name=\"flight-land\" size=\"sm\"></bb-icon-ui>\n          <span \n            class=\"bb-text-support bb-travel-notice-list__label\"\n            i18n='Travel notice Return date header@@cards.travel.notice.list.return.date.header'\n          > Return date: </span>\n        </div>\n        <div class=\"bb-travel-notice-list-item__return-date\">{{ travelNoticeItem?.arrivalDate | date }}</div>\n      </div>\n    </div>\n  </div>\n  <div [ngbCollapse]=\"!hostRef.areCardsOpen\" class=\"bb-block bb-block--sm\">\n    <div  class=\"bb-block bb-block--md\" *ngIf=\"hostRef.travelNoticeItem?.contact?.phoneNumber\">\n      <div>\n        <bb-icon-ui name=\"local-phone\" size=\"sm\"></bb-icon-ui>\n        <span class=\"bb-text-support bb-travel-notice-list__label\"\n          i18n='Travel notice list Contact number header@@cards.travel.notice.list.contactNumber.header'\n        > Contact number: </span>\n      </div>\n      <div>\n        <div>{{hostRef.travelNoticeItem?.contact?.phoneNumber}}</div>\n      </div>\n    </div>\n    <div>\n      <div class=\"bb-block bb-block--md\" data-role=\"selectCards header\">\n        <div\n        class=\"bb-text-bold\"\n        i18n='Travel notice list Selected Cards header@@cards.travel.notice.list.selectCards.header'\n        >Selected cards</div>\n      </div>\n      <div class=\"bb-stack bb-stack--wrap\">\n        <div class=\"bb-stack__item bb-block bb-block--md\" *ngFor=\"let paymentCard of hostRef.travelNoticeItem?.cards\">\n          <bb-cards-travel-notice-payment-card [paymentCard]=\"paymentCard\"></bb-cards-travel-notice-payment-card>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <button bbButton data-role=\"see-details-button\" buttonSize=\"sm\" color=\"link-text\" (click)=\"hostRef.toggleCardsVisibility()\">\n      <span \n        class=\"bb-travel-notice-list__label\"\n        i18n='Travel notice list show less button@@cards.travel.notice.list.seeLess.button' \n        *ngIf=\"areCardsOpen\"\n      >\n        Show less\n      </span>\n      <span \n        class=\"bb-travel-notice-list__label\"\n        i18n='Travel notice list show more button@@cards.travel.notice.list.seeMore.button' \n        *ngIf=\"!areCardsOpen\"\n      >\n        Show more\n      </span>\n      <bb-icon-ui [name]=\"areCardsOpen?'toggle-up':'toggle-down'\" size=\"md\"></bb-icon-ui>\n    </button>\n  </div>\n</div>\n<!-- delete confirmation model  -->\n<bb-modal-ui [isOpen]=\"hostRef.dialogOpen\" (cancel)=\"hostRef.onCancel()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <h2 i18n=\"Delete Travel Notice@@cards.delete.travel.notice.deleteTravelNotice.modal.header\">Delete travel notice?</h2>\n      <div>\n        <button bbButton color=\"unstyled\" (click)=\"hostRef.onCancel()\">\n          <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span i18n=\"Delete confirmation text@@cards.delete.travel.notice.deleteTravelNotice.modal.body\">\n        This travel notice information will be permanently deleted.\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui #footerRef>\n    <ng-template bbCustomModalFooter>\n      <button bbButton (click)=\"hostRef.onCancel()\" color=\"link\">\n        <span i18n=\"Cancel button text@@messages.createMessage.composeMessageModal.cancel.button\">\n          Keep it\n        </span>\n      </button>\n      <button bbButton (click)=\"hostRef.onConfirm()\" color=\"danger\">\n        <span i18n=\"Delete button text@@messages.createMessage.composeMessageModal.delete.button\">\n          Delete travel notice\n        </span>\n      </button>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n<!-- end of model -->","import { Component, Input, Output, EventEmitter, Directive } from '@angular/core';\nimport { TravelNoticeList, Destination, TravelNotice } from '@backbase/cards-common-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\n@Component({\n  selector: 'bb-cards-travel-notice-list',\n  templateUrl: './cards-travel-notice-list.component.html',\n})\nexport class CardsTravelNoticeListComponent {\n  readonly hostRef = this;\n  /**\n   * list of all travel notices.\n   */\n  @Input() travelNoticeList: TravelNoticeList | undefined;\n  /**\n   * List for all provided ISO countries/regions.\n   */\n  @Input() destinationList: Destination[] | undefined;\n  /**\n   * EventEmitter for triggering post event.\n   */\n  @Output() readonly create = new EventEmitter();\n  /**\n   * EventEmitter for triggering delete event.\n   */\n  @Output() readonly deleteListItem = new EventEmitter();\n\n  onShowCreateForm() {\n    this.create.emit({ goToPage: 'create' });\n  }\n\n  onDeleteListItem(travelNoticeItem: TravelNotice) {\n    this.deleteListItem.emit(travelNoticeItem);\n  }\n}\n\n@Directive({\n  selector: '[bbTravelNoticeListCustomizable]',\n})\nexport class TravelNoticeListCustomizableDirective extends BbTemplate<CardsTravelNoticeListComponent, undefined> {}\n\n@Directive({\n  selector: '[bbTravelNoticeListItemCustomizable]',\n})\nexport class TravelNoticeListItemCustomizableDirective extends BbTemplate<CardsTravelNoticeListComponent, undefined> {}\n","<ng-container bbTravelNoticeListCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbTravelNoticeListCustomizable let-hostRef>\n  <div>\n    <div class=\"bb-text-align-right bb-block bb-block--xl bb-stack\">\n      <div class=\"bb-stack__item bb-stack__item--push-right\">\n        <button bbButton data-role=\"add-button\" (click)=\"hostRef.onShowCreateForm()\">\n          <bb-icon-ui name=\"add\"></bb-icon-ui>\n          <span i18n=\"Create new travel notice button@@cards.travel.notice.createNew.button\"> Create New</span>\n        </button>\n      </div>\n    </div>\n    <div class=\"card card-lg\">\n      <div class=\"card-body\">\n        <ng-container bbTravelNoticeListItemCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template bbTravelNoticeListItemCustomizable let-hostRef>\n  <div class=\"bb-travel-notice-list bb-list\">\n    <div class=\"bb-list__item\" *ngFor=\"let travelNoticeItem of hostRef.travelNoticeList\">\n      <bb-cards-travel-notice-list-item\n        [travelNoticeItem]=\"travelNoticeItem\"\n        [destinationList]=\"hostRef.destinationList\" \n        (delete)=\"hostRef.onDeleteListItem($event)\"\n      ></bb-cards-travel-notice-list-item>\n    </div>\n  </div>\n</ng-template>","import { Component, forwardRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Destination, TravelNoticeCountry } from '@backbase/cards-common-ang';\nimport { Subscription } from 'rxjs';\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\ntype DestinationDisplay = { name: string; value: string; parent?: string };\n\n@Component({\n  selector: 'bb-cards-travel-notice-country-selector',\n  templateUrl: 'cards-travel-notice-country-selector.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      // eslint-disable-next-line @angular-eslint/no-forward-ref\n      useExisting: forwardRef(() => CardsTravelNoticeCountrySelectorComponent),\n      multi: true,\n    },\n  ],\n})\nexport class CardsTravelNoticeCountrySelectorComponent implements ControlValueAccessor, OnInit, OnDestroy {\n  private destinationsDisplay: DestinationDisplay[] | undefined;\n  private fullDestinationList: Destination[] | undefined;\n  private countryListSubscription: Subscription | undefined;\n  destionationListControl = new FormControl([]);\n  // eslint-disable-next-line\n  @Input()\n  set destinationList(value: Destination[]) {\n    this.destinationsDisplay = [\n      ...value.map((item) => ({\n        name: item.name,\n        value: item.code,\n      })),\n      ...value\n        .filter((item) => item.regions !== undefined)\n        .reduce(\n          (acc, { regions = [], code: countryCode }) => [\n            ...acc,\n            ...regions.map((region) => ({\n              name: `${region.name} (${countryCode})`,\n              value: region.code,\n              parent: countryCode,\n            })),\n          ],\n          [] as DestinationDisplay[],\n        ),\n    ].sort((left, right) => {\n      if (left.name === right.name) {\n        return 0;\n      }\n\n      return left.name > right.name ? 1 : -1;\n    });\n\n    this.fullDestinationList = value;\n  }\n\n  get destinationList() {\n    return this.fullDestinationList || [];\n  }\n\n  get destinationListDisplay(): DestinationDisplay[] {\n    return this.destinationsDisplay || [];\n  }\n\n  private readonly updateCountryList = (destinations: DestinationDisplay[]) => {\n    this.onChange(\n      destinations.map((item) => ({\n        country: item.parent ? item.parent : item.value,\n        region: item.parent && item.value,\n      })),\n    );\n  };\n\n  onChange: (newValue: Object | string | undefined) => void = () => {};\n\n  onTouched: () => void = () => {};\n\n  writeValue(countries: TravelNoticeCountry[]): void {\n    this.destionationListControl.setValue(\n      countries.map(({ country, region }) => (region ? `${country}:${region}` : country)),\n    );\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnInit() {\n    this.countryListSubscription = this.destionationListControl.valueChanges.subscribe(this.updateCountryList);\n  }\n\n  ngOnDestroy() {\n    if (this.countryListSubscription) {\n      this.countryListSubscription.unsubscribe();\n    }\n  }\n}\n","<ng-select \n  [items]=\"destinationListDisplay\"\n  class=\"bb-country-selector\"\n  [hideSelected]=\"true\"\n  [multiple]=\"true\"\n  bindLabel=\"name\"\n  [formControl]=\"destionationListControl\"\n  aria-label=\"Search or select countries\"\n  i18n-aria-label=\"Search or select countries aria-label@@cards.create.travel.notice.country.dropdown.tagSelector.aria-label\"\n  placeholder=\"Search or select countries\"\n  i18n-placeholder=\"Search or select countries@@cards.create.travel.notice.country.dropdown.tagSelector.placeholder\"\n></ng-select>","import { Component, forwardRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { PaymentCard } from '@backbase/cards-common-ang';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'bb-cards-travel-notice-checkbox-cards',\n  templateUrl: 'cards-travel-notice-checkbox-cards.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      // eslint-disable-next-line @angular-eslint/no-forward-ref\n      useExisting: forwardRef(() => CardsTravelNoticeCheckboxCardsComponent),\n      multi: true,\n    },\n  ],\n})\nexport class CardsTravelNoticeCheckboxCardsComponent implements OnInit, OnDestroy, ControlValueAccessor {\n  /**\n   * Payment card to be displayed.\n   */\n  @Input() paymentCards: PaymentCard[] | undefined;\n\n  checkBoxCardsForm: FormGroup | undefined;\n  indeterminate = false;\n  private parentSubscription: Subscription | undefined;\n  private childrenSubscription: Subscription | undefined;\n\n  private createCardsObjectWithDefaultValue(\n    group: Array<any> = [],\n    keyFinder: (item: any) => string,\n    defaultValue: any,\n  ): { [key: string]: any } {\n    return group.reduce(\n      (acc, cur) => ({\n        ...acc,\n        [keyFinder(cur)]: defaultValue,\n      }),\n      {},\n    );\n  }\n\n  onChange: (newValue: Object | string | undefined) => void = () => {};\n\n  onTouched: () => void = () => {};\n\n  isIndeterminate = () => {\n    if (this.checkBoxCardsForm) {\n      const cardsIdsControl = (this.checkBoxCardsForm.controls['cardIds'] as FormGroup).controls;\n      const elements = Object.keys(cardsIdsControl);\n      const actives = elements.reduce((previous, item) => (cardsIdsControl[item].value ? previous + 1 : previous), 0);\n\n      return actives !== 0 && actives < elements.length;\n    }\n\n    return false;\n  };\n\n  private readonly parentChange = (value: any) => {\n    if (this.checkBoxCardsForm) {\n      const cardsIdsControl = this.checkBoxCardsForm.controls['cardIds'] as FormGroup;\n      const newValue = this.createCardsObjectWithDefaultValue(\n        Object.keys(cardsIdsControl.controls),\n        (item: string) => item,\n        value,\n      );\n      cardsIdsControl.setValue(newValue);\n    }\n  };\n\n  private readonly childChange = (cardIds: any) => {\n    this.indeterminate = this.isIndeterminate();\n    const result = Object.keys(cardIds || {}).filter((item: any) => cardIds[item] === true);\n    this.onChange(result.map((item) => this.paymentCards && this.paymentCards.find((card) => card.id === item)));\n  };\n\n  private hasCardsSelected(control: any) {\n    const cards = Object.keys(control.controls).find((item: any) => control.controls[item].value === true);\n\n    // eslint-disable-next-line no-null/no-null\n    return cards ? null : { empty: true };\n  }\n\n  private createForm() {\n    const cardsFormGroup = this.createCardsObjectWithDefaultValue(this.paymentCards, (card: PaymentCard) => card.id, [\n      false,\n    ]);\n\n    this.checkBoxCardsForm = this.fb.group({\n      parent: [false],\n      cardIds: this.fb.group(cardsFormGroup),\n    });\n\n    this.checkBoxCardsForm.controls['cardIds'].setValidators(this.hasCardsSelected);\n  }\n\n  writeValue(cards: PaymentCard[]): void {\n    if (this.checkBoxCardsForm && cards && !!this.paymentCards) {\n      const cardIds = this.checkBoxCardsForm.controls['cardIds'] as FormGroup;\n      cards.forEach((item) => cardIds.controls[item.id].setValue(true));\n      if (cards.length === this.paymentCards.length) {\n        this.checkBoxCardsForm.patchValue({ parent: true });\n      }\n    }\n  }\n\n  registerOnChange(fn: () => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  ngOnInit() {\n    this.createForm();\n\n    if (this.checkBoxCardsForm) {\n      const parentGroup = this.checkBoxCardsForm.controls['parent'];\n      const childrenGroup = this.checkBoxCardsForm.controls['cardIds'];\n      this.parentSubscription = parentGroup.valueChanges.subscribe(this.parentChange);\n      this.childrenSubscription = childrenGroup.valueChanges.subscribe(this.childChange);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.parentSubscription) {\n      this.parentSubscription.unsubscribe();\n    }\n\n    if (this.childrenSubscription) {\n      this.childrenSubscription.unsubscribe();\n    }\n  }\n\n  constructor(private readonly fb: FormBuilder) {}\n}\n","<form [formGroup]=\"checkBoxCardsForm!\">\n  <ul class=\"list-unstyled\">\n    <li>\n      <div class=\"bb-block bb-block--xl\">\n        <bb-input-checkbox-ui \n          formControlName=\"parent\" \n          label=\"Select all cards\"\n          i18n-label=\"Select all cards@@cards.create.travel.notice.checkbox.label\"\n          i18n=\"Select all cards@@cards.create.travel.notice.checkbox.child\"\n          [indeterminate]=\"indeterminate\"\n        >\n          label=\"Select all cards\"\n        </bb-input-checkbox-ui>\n      </div>\n      <!--card -->\n      <div class=\"row bb-create-travel-notice-card-group\" formGroupName=\"cardIds\">\n        <ng-container *ngFor=\"let paymentCard of paymentCards\">\n          <div class=\"col-lg-6\">\n            <div class=\"bb-block bb-block--xl\">\n              <div class=\"bb-stack\">\n                <div class=\"bb-stack__item\">\n                  <bb-input-checkbox-ui [formControlName]=\"paymentCard.id\">\n                    <div class=\"bb-create-travel-notice-card-group__payment-card\">\n                      <bb-cards-travel-notice-payment-card [paymentCard]=\"paymentCard\"></bb-cards-travel-notice-payment-card>\n                    </div>\n                  </bb-input-checkbox-ui>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n      <!-- end card -->\n    </li>\n  </ul>\n</form>","import { Component, Input } from '@angular/core';\nimport {\n  Destination,\n  getCountryName,\n  PaymentCard,\n  TravelNotice,\n  TravelNoticeCountry,\n} from '@backbase/cards-common-ang';\n\n@Component({\n  selector: 'bb-cards-travel-notice-confirm-step',\n  templateUrl: './cards-travel-notice-confirm-step.component.html',\n})\nexport class CardsTravelNoticeConfirmStepComponent {\n  /**\n   * Travel notice object.\n   */\n  @Input() travelNoticeItem: TravelNotice | undefined;\n  /**\n   * List of all selected cards.\n   */\n  @Input() selectedCards: PaymentCard[] | undefined;\n  /**\n   * List for all provided ISO countries/regions.\n   */\n  @Input() destinationList: Destination[] | undefined;\n\n  getCountryName(travelNoticeCountry: TravelNoticeCountry) {\n    return getCountryName(this.destinationList, travelNoticeCountry);\n  }\n}\n","<div class=\"bb-create-travel-notice-review\">\n  <h3 class=\"bb-block bb-block--lg\"\n    i18n=\"Travel notice create details header@@cards.travel.notice.create.details.confirm.header\">Travel\n    details\n  </h3>\n  <div class=\"bb-block bb-block--lg\">\n    <div>\n      <span class=\"bb-inline-stack\">\n        <bb-icon-ui class=\"bb-inline-stack__item\" name=\"location-on\" size=\"sm\"></bb-icon-ui>\n      <span \n        class=\"bb-text-support bb-inline-stack__item bb-travel-notice-list__label\"\n        i18n=\"Travel notice destinations@@cards.create.travel.notice.confirm.destinations.input\"\n      >Destination(s):</span>\n      </span>\n    </div>\n    <div data-role=\"countries-label\">\n      <span *ngFor=\"let item of  travelNoticeItem?.destinations; first as isFirst; last as isLast\">\n        <span *ngIf=\"!isLast && !isFirst\">, </span>\n        <span *ngIf=\"!isFirst && isLast\">&nbsp;</span>\n        <span i18n=\"And@@cards.travel.notice.list.countries.and\" *ngIf=\"!isFirst && isLast\">and</span>\n        <span *ngIf=\"!isFirst && isLast\">&nbsp;</span>\n        <span>{{getCountryName(item)}}</span>\n      </span>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-3\">\n      <div class=\"bb-block bb-block--lg\">\n        <div>\n          <span class=\"bb-inline-stack\">\n            <bb-icon-ui class=\"bb-inline-stack__item\" name=\"flight-takeoff\" size=\"sm\" [cropped]=\"true\"></bb-icon-ui>\n          <span \n            class=\"bb-text-support bb-inline-stack__item bb-travel-notice-list__label\"\n            i18n='Create travel notice confirm Departure date header@@cards.create.travel.notice.confirm.departure.date.header'\n          >Departure date: </span>\n          </span>\n        </div>\n        <div data-role=\"departure-date-label\">{{ travelNoticeItem?.departureDate | date }}</div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div [ngClass]=\"{'bb-block bb-block--lg': travelNoticeItem?.contact?.phoneNumber, 'bb-block bb-block--xl': !(travelNoticeItem?.contact?.phoneNumber)}\">\n        <div>\n          <span class=\"bb-inline-stack\">\n            <bb-icon-ui class=\"bb-inline-stack__item\" name=\"flight-land\" size=\"sm\"></bb-icon-ui>\n          <span \n            class=\"bb-text-support bb-inline-stack__item bb-travel-notice-list__label\"\n            i18n='Create travel notice Return date header@@cards.create.travel.notice.confirm.return.date.header'\n          >Return date:</span>\n          </span>\n        </div>\n        <div data-role=\"arrival-date-label\">{{ travelNoticeItem?.arrivalDate | date }}</div>\n      </div>\n    </div>\n  </div>\n  <div class=\"bb-block bb-block--xl\" *ngIf=\"travelNoticeItem?.contact?.phoneNumber\">\n    <div>\n      <span class=\"bb-inline-stack\">\n        <bb-icon-ui class=\"bb-inline-stack__item\" name=\"local-phone\" size=\"sm\"></bb-icon-ui>\n      <span \n        class=\"bb-text-support bb-inline-stack__item bb-travel-notice-list__label\"\n        i18n='Create travel notice list Contact number header@@cards.create.travel.notice.confirm.contactNumber.header'\n      >Contact number:\n      </span>\n      </span>\n    </div>\n    <div>\n      <div data-role=\"contact-number-label\">{{ travelNoticeItem?.contact?.phoneNumber}}</div>\n    </div>\n  </div>\n  <div>\n    <h3 \n      i18n=\"Create travel notice confirm Selected Cards header@@cards.create.travel.notice.confirm.selectCards.header\"\n      class=\"bb-block bb-block--lg\"\n    >\n      Selected cards\n    </h3>\n    <div class=\"bb-stack bb-stack--wrap\">\n      <div class=\"bb-stack__item\" *ngFor=\"let paymentCard of selectedCards\">\n        <div class=\"bb-block bb-block--md\">\n          <bb-cards-travel-notice-payment-card [paymentCard]=\"paymentCard\"></bb-cards-travel-notice-payment-card>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { DatePipe } from '@angular/common';\nimport { Component, Directive, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Destination, PaymentCard, TravelNotice } from '@backbase/cards-common-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'bb-cards-travel-notice-create',\n  templateUrl: './cards-travel-notice-create.component.html',\n  providers: [DatePipe],\n})\nexport class CardsTravelNoticeCreateComponent implements OnInit, OnDestroy {\n  readonly hostRef = this;\n\n  /**\n   * Payment card to be displayed.\n   */\n  @Input() paymentCards: PaymentCard[] | undefined;\n  /**\n   * List for all provided ISO countries/regions.\n   */\n  @Input() destinationList: Destination[] | undefined;\n  /**\n   * Cancel form for create travel notice event emitter.\n   */\n  @Output() readonly abortCreation = new EventEmitter();\n  /**\n   * Submit for create travel notice form event emitter.\n   */\n  @Output() readonly save = new EventEmitter<TravelNotice>();\n\n  currentStep = 1;\n  travelNoticeSubscription: Subscription | undefined;\n  arrivalDateSubcription: Subscription | undefined;\n  departureDateSubscription: Subscription | undefined;\n  createTravelNoticeForm: FormGroup | undefined;\n\n  dialogOpen = false;\n  displayAlert = false;\n\n  currentForm: FormGroup | undefined;\n  travelNoticeItem: Partial<TravelNotice> = {};\n\n  next(nextForm: FormGroup) {\n    if (this.currentForm) {\n      this.currentForm.markAllAsTouched();\n      this.currentForm.updateValueAndValidity();\n\n      if (this.currentStep === 2) {\n        this.displayAlert = this.currentForm.invalid;\n      }\n\n      if (this.currentForm.valid) {\n        this.currentStep += 1;\n        this.currentForm = nextForm;\n      }\n    }\n  }\n\n  back(prevForm: FormGroup) {\n    this.currentStep -= 1;\n    this.currentForm = prevForm;\n  }\n\n  onCancel(): void {\n    this.dialogOpen = true;\n  }\n\n  onSubmitTravelNotice(): void {\n    this.save.emit(this.travelNoticeItem as TravelNotice);\n  }\n\n  isFieldValid(fieldName: string) {\n    const control = this.detailsGroup.get(fieldName);\n\n    return !!control && (control.valid || control.untouched);\n  }\n\n  closeConfirmationDialog = () => {\n    this.dialogOpen = false;\n  };\n\n  onAlertDismiss() {\n    this.displayAlert = false;\n  }\n\n  confirmCancel = () => {\n    this.closeConfirmationDialog();\n    this.abortCreation.emit({ goToPage: 'list' });\n  };\n\n  ngOnInit() {\n    if (!this.paymentCards) return;\n    this.createTravelNoticeForm = this.fb.group({\n      details: this.fb.group({\n        destinations: [\n          [],\n          (control: AbstractControl) =>\n            // eslint-disable-next-line , no-null/no-null\n            control.value && control.value.length > 0 ? null : { required: 'item required' },\n        ],\n        departureDate: [''],\n        arrivalDate: [''],\n        contactNumber: ['', Validators.pattern('^[0-9()-+ ]*$')],\n      }),\n      cardIds: [this.paymentCards ? this.paymentCards : []],\n    });\n\n    this.createTravelNoticeForm.markAsPristine();\n\n    this.travelNoticeSubscription = this.createTravelNoticeForm.valueChanges.subscribe(this.updateTravelNoticeValue);\n    this.currentForm = this.detailsGroup;\n    this.cardIdsGroup.setValidators(this.hasCardsSelected);\n    this.addDateValidators();\n  }\n  /**\n   *\n   * temporary solution once datepicker is ready to validate ranges is release this method will be removed\n   */\n  addDateValidators() {\n    if (!!this.createTravelNoticeForm && this.departureDate && this.arrivalDate) {\n      this.departureDate.setValidators([Validators.required, this.dateValidator('arrivalDate', 'departureDate')]);\n\n      this.arrivalDate.setValidators([\n        Validators.required,\n        this.currentDateValidator,\n        this.dateValidator('arrivalDate', 'departureDate'),\n      ]);\n\n      this.departureDateSubscription = this.departureDate.valueChanges.subscribe(() => {\n        this.arrivalDate.updateValueAndValidity({ emitEvent: false });\n      });\n\n      this.arrivalDateSubcription = this.arrivalDate.valueChanges.subscribe(() => {\n        this.departureDate.updateValueAndValidity({ emitEvent: false });\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.travelNoticeSubscription) {\n      this.travelNoticeSubscription.unsubscribe();\n    }\n\n    if (this.arrivalDateSubcription) {\n      this.arrivalDateSubcription.unsubscribe();\n    }\n\n    if (this.departureDateSubscription) {\n      this.departureDateSubscription.unsubscribe();\n    }\n  }\n\n  private readonly updateTravelNoticeValue = (createTravelNoticeForm: any) => {\n    const { details, cardIds: cards } = createTravelNoticeForm;\n\n    if (cards) {\n      this.travelNoticeItem = {\n        ...this.travelNoticeItem,\n        cards,\n      };\n    }\n\n    if (details) {\n      this.travelNoticeItem = {\n        ...this.travelNoticeItem,\n        destinations: details.destinations,\n        contact: {\n          phoneNumber: details.contactNumber + '',\n        },\n      };\n    }\n\n    if (this.departureDate.valid) {\n      this.travelNoticeItem = {\n        ...this.travelNoticeItem,\n        departureDate: this.datePipe.transform(details.departureDate, 'yyyy-MM-dd') as string,\n      };\n    }\n\n    if (this.arrivalDate.valid) {\n      this.travelNoticeItem = {\n        ...this.travelNoticeItem,\n        arrivalDate: this.datePipe.transform(details.arrivalDate, 'yyyy-MM-dd') as string,\n      };\n    }\n\n    this.displayAlert = false;\n  };\n\n  /**\n   *\n   * temporary solution once datepicker is ready to validate ranges is release this method will be removed\n   */\n  private dateValidator(fieldName1: string, fieldName2: string) {\n    return () => {\n      const formControl1 = this.detailsGroup.get(fieldName1) as AbstractControl;\n      const formControl2 = this.detailsGroup.get(fieldName2) as AbstractControl;\n      const date1 = new Date(formControl1.value).getTime();\n      const date2 = new Date(formControl2.value).getTime();\n\n      // eslint-disable-next-line , no-null/no-null\n      return date1 < date2 ? { invalidDate: true } : null;\n    };\n  }\n\n  private truncateDate(date: Date = new Date()) {\n    const newDate = new Date(date);\n    newDate.setHours(0, 0, 0, 0);\n\n    return newDate;\n  }\n\n  private readonly currentDateValidator = (control: AbstractControl) => {\n    const returnDate = new Date(control.value);\n    const currentDate = this.truncateDate();\n\n    // eslint-disable-next-line , no-null/no-null\n    return returnDate.getTime() < currentDate.getTime() ? { invalidCurrentDate: true } : null;\n  };\n\n  private hasCardsSelected(control: AbstractControl) {\n    const cards = control.value;\n\n    // eslint-disable-next-line no-null/no-null\n    return cards.length === 0 ? { empty: true } : null;\n  }\n\n  get detailsGroup(): FormGroup {\n    return (this.createTravelNoticeForm as FormGroup).get('details') as FormGroup;\n  }\n  get cardIdsGroup(): FormGroup {\n    return (this.createTravelNoticeForm as FormGroup).get('cardIds') as FormGroup;\n  }\n\n  get destinations(): AbstractControl {\n    return this.detailsGroup.get('destinations') as AbstractControl;\n  }\n  get arrivalDate(): AbstractControl {\n    return this.detailsGroup.get('arrivalDate') as AbstractControl;\n  }\n  get departureDate(): AbstractControl {\n    return this.detailsGroup.get('departureDate') as AbstractControl;\n  }\n  get contactNumber(): AbstractControl {\n    return this.detailsGroup.get('contactNumber') as AbstractControl;\n  }\n\n  constructor(private readonly fb: FormBuilder, private readonly datePipe: DatePipe) {}\n}\n\n@Directive({\n  selector: '[bbTravelNoticeCreateCustomizable]',\n})\nexport class TravelNoticeCreateCustomizableDirective extends BbTemplate<CardsTravelNoticeCreateComponent, undefined> {}\n\n@Directive({\n  selector: '[bbTravelNoticeDetailsStepCustomizable]',\n})\nexport class TravelNoticeDetailsStepCustomizableDirective extends BbTemplate<\n  CardsTravelNoticeCreateComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbTravelNoticeSelectCardsCustomizable]',\n})\nexport class TravelNoticeSelectCardsCustomizableDirective extends BbTemplate<\n  CardsTravelNoticeCreateComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbTravelNoticeConfirmStepCustomizable]',\n})\nexport class TravelNoticeConfirmStepCustomizableDirective extends BbTemplate<\n  CardsTravelNoticeCreateComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbTravelNoticeStepperCustomizable]',\n})\nexport class TravelNoticeStepperCustomizableDirective extends BbTemplate<CardsTravelNoticeCreateComponent, undefined> {}\n","<ng-container bbTravelNoticeCreateCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbTravelNoticeCreateCustomizable let-hostRef>\n  <h1 class=\"bb-block bb-block--lg\" i18n=\"Create travel notice header@@cards.create.travel.notice.header\">\n    Create travel notice\n  </h1>\n  <div class=\"card card-lg bb-create-travel-notice\">\n    <div class=\"card-body\">\n      <ng-container bbTravelNoticeStepperCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n      <form [formGroup]=\"hostRef.createTravelNoticeForm\" (ngSubmit)=\"hostRef.onSubmitTravelNotice()\">\n        <ng-container bbTravelNoticeDetailsStepCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n        <ng-container bbTravelNoticeSelectCardsCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n        <ng-container bbTravelNoticeConfirmStepCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n      </form>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template bbTravelNoticeStepperCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--lg\">\n    <div class=\"row bb-stack--center\">\n      <bb-stepper-ui class= \"col-12 col-md-10 col-lg-8\">\n        <bb-stepper-step-ui \n          label=\"Travel details\"\n          i18n-label=\"Travel details@@cards.create.travel.notice.stepper.header.step1\"\n          [isChecked]=\"hostRef.currentStep > 1\"\n          [isActive]=\"hostRef.currentStep >= 1\"\n          ariaLabel=\"Step 1 out of 3\"\n          i18n-ariaLabel=\"Step 1 out of 3@@cards.create.travel.notice.stepper.aria.label.step1\"\n        >\n        </bb-stepper-step-ui>\n        <bb-stepper-step-ui \n          class=\"bb-stack__item\" \n          label=\"Card selection\"\n          i18n-label=\"Card selection@@cards.create.travel.notice.stepper.header.step2\"\n          [isChecked]=\"hostRef.currentStep > 2\"\n          [isActive]=\"hostRef.currentStep >= 2\" \n          ariaLabel=\"Step 2 out of 3\"\n          i18n-ariaLabel=\"Step 2 out of 3@@cards.create.travel.notice.stepper.aria.label.step2\"\n        >\n        </bb-stepper-step-ui>\n        <bb-stepper-step-ui \n          class=\"bb-stack__item\" \n          label=\"Confirmation\" \n          i18n-label=\"Confirmation@@cards.create.travel.notice.stepper.header.step3\"\n          [isActive]=\"hostRef.currentStep >= 3\" \n          ariaLabel=\"Step 3 out of 3\"\n          i18n-ariaLabel=\"Step 3 out of 3@@cards.create.travel.notice.stepper.aria.label.step3\"\n        >\n        </bb-stepper-step-ui>\n      </bb-stepper-ui>\n    </div>\n  </div>\n  <!-- cancel travel notice modal -->\n  <bb-modal-ui [isOpen]=\"hostRef.dialogOpen\" (cancel)=\"hostRef.closeConfirmationDialog()\">\n    <bb-modal-header-ui>\n      <ng-template bbCustomModalHeader>\n        <h2 i18n=\"Cancel Travel Notice@@cards.create.travel.notice.cancelTravelNotice.modal.header\">\n          Discard travel notice?\n        </h2>\n        <div>\n          <button bbButton color=\"unstyled\" (click)=\"hostRef.closeConfirmationDialog()\">\n            <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n          </button>\n        </div>\n      </ng-template>\n    </bb-modal-header-ui>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <span i18n=\"Delete confirmation text@@cards.create.travel.notice.cancelTravelNotice.modal.body\">\n          All entered information for this travel notice will be permanently lost.\n        </span>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui #footerRef>\n      <ng-template bbCustomModalFooter>\n        <button bbButton (click)=\"hostRef.closeConfirmationDialog()\" color=\"link\">\n          <span i18n=\"Submit button text@@messages.createMessage.composeMessageModal.keepCreating.button\">\n            Keep it\n          </span>\n        </button>\n        <button bbButton (click)=\"hostRef.confirmCancel()\" color=\"danger\">\n          <span i18n=\"Discard button text@@messages.createMessage.composeMessageModal.discardButton\">\n            Discard travel notice\n          </span>\n        </button>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n  <!-- end of modal -->\n</ng-template>\n\n<ng-template bbTravelNoticeDetailsStepCustomizable let-hostRef>\n  <form [formGroup]=\"hostRef.detailsGroup\">\n    <div [hidden]=\"hostRef.currentStep !== 1\">\n      <h2 \n        class=\"bb-block bb-block--xl\"\n        i18n=\"Create travel notice details form header@@cards.create.travel.notice.details.form.header\"\n      >\n        Tell us about your travel details\n      </h2>\n      <div class=\"bb-block bb-block--xl\">\n        <!-- Destinations input -->\n        <div class=\"bb-block bb-block--lg\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"bb-create-travel-notice__country-selector\">\n                <label i18n=\"Travel notice destinations input@@cards.create.travel.notice.details.form.destinations.input\">\n                  Destination(s)\n                </label>\n                <bb-cards-travel-notice-country-selector\n                  [destinationList]=\"hostRef.destinationList\"\n                  formControlName=\"destinations\"\n                ></bb-cards-travel-notice-country-selector>\n              </div>\n            </div>\n          </div>\n          <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('destinations')\">\n            <span \n              i18n=\"Travel notice no destinations validation@@cards.create.travel.notice.required.destinations.error.msg\"\n              *ngIf=\"hostRef.destinations.hasError('required')\"\n            >\n              Please select one or more destinations\n            </span>\n          </bb-input-validation-message-ui>\n        </div>\n        <!-- end of input -->\n        <div class=\"row\">\n          <!-- Departure date input -->\n          <div class=\"col-md-6 bb-block bb-block--lg\">\n            <bb-input-datepicker-ui \n              placeholder=\"MM/DD/YYYY\"\n              i18n-placeholder=\"Departure date input placeholder@@cards.create.travel.notice.form.departure.input.placeholder\" \n              label=\"Departure date\"\n              i18n-label=\"Departure date@@cards.create.travel.notice.form.departure.label\" \n              name=\"departureDate\"\n              formControlName=\"departureDate\"\n              [overrideDateFormat]=\"'longDate'\"\n            >\n            </bb-input-datepicker-ui>\n            <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('departureDate')\">\n\n              <ng-container *ngFor=\"let error of hostRef.departureDate.errors | keyvalue; last as last\">\n                <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n                  <span\n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"Missing departure date|Missing leaving date|Missing initial Date@@cards.create.travel.notice.required.departureDate.error.msg\"\n                  >\n                    Please choose a departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDate'\"\n                    i18n=\"Invalid departure date|Arrival date is before departure@@cards.create.travel.notice.invalid.returnDateConflict.error.msg\"\n                  >\n                    The return date cannot be before the departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDateFormat'\"\n                    i18n=\"Invalid departure date|Invalid date format@@cards.create.travel.notice.invalid.arrivalDate.hasInvalidFormat.error.msg\"\n                  >\n                    Please enter a valid format. For example, 10/08/2020\n                  </span>\n                </ng-container>\n              </ng-container>\n\n            </bb-input-validation-message-ui>\n          </div>\n          <!-- end of input -->\n          <!-- Return date input -->\n          <div class=\"col-md-6 bb-block bb-block--lg\">\n            <bb-input-datepicker-ui \n              placeholder=\"MM/DD/YYYY\"\n              i18n-placeholder=\"Arrival date input placeholder@@cards.create.travel.notice.form.arrival.input.placeholder\" \n              label=\"Return date\"\n              i18n-label=\"Return date@@cards.create.travel.notice.form.arrival.label\" \n              name=\"arrivalDate\"\n              formControlName=\"arrivalDate\"\n              [overrideDateFormat]=\"'longDate'\"\n            >\n            </bb-input-datepicker-ui>\n            <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('arrivalDate')\">\n\n              <ng-container *ngFor=\"let error of hostRef.arrivalDate.errors | keyvalue; last as last\">\n                <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n                  <span \n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"Missing arrival date|Missing coming date|Missing last Date@@cards.create.travel.notice.required.departureDate.error.msg\"\n                  >\n                    Please choose a return date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDate'\"\n                    i18n=\"Invalid arrival date|Arrival date is before departure@@cards.create.travel.notice.invalid.returnDateConflict.error.msg\"\n                  >\n                    The return date cannot be before the departure date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidCurrentDate'\"\n                    i18n=\"Invalid departure date|Arrival date is before current date@@cards.create.travel.notice.invalid.arrivalDate.hasCurrentDate.error.msg\"\n                  >\n                    Please do not choose a past return date\n                  </span>\n                  <span \n                    *ngSwitchCase=\"'invalidDateFormat'\"\n                    i18n=\"Invalid arrival date|Invalid date format@@cards.create.travel.notice.invalid.arrivalDate.hasInvalidFormat.error.msg\"\n                  >\n                    Please enter a valid format. For example, 10/08/2020\n                  </span>\n                </ng-container>\n              </ng-container>\n            </bb-input-validation-message-ui>\n          </div>\n          <!-- end of input -->\n        </div>\n        <!-- Contact number input -->\n        <div class=\"bb-block\">\n          <label>\n            <strong i18n=\"Contact Number@@cards.create.travel.notice.details.form.contactNumber.input\">\n              Contact number\n            </strong>\n          </label>\n          <span class=\"bb-text-support\" i18n=\"Optional@@cards.create.travel.notice.details.form.contactNumber.optional\">\n            (Optional)\n          </span>\n          <div class=\"bb-block\" [ngClass]=\"{'bb-block--sm': hostRef.isFieldValid('contactNumber')}\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <div class=\"bb-create-travel-notice__contact-number\">\n                  <bb-input-phone-ui \n                    formControlName=\"contactNumber\"\n                    placeholder=\"e.g. +(1) 541 754 3010\"\n                    i18n-placeholder=\"Example placeholder, e.g. +(1) 541 754 3010@@cards.create.travel.notice.details.form.contactNumber.placeholder\"\n                  >\n                  </bb-input-phone-ui>\n                  <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('contactNumber')\">\n                    <div class=\"bb-block bb-block--sm\">\n                      <span i18n=\"Invalid contact number@@cards.create.travel.notice.details.form.contactNumber.error.pattern\">\n                        Invalid contact number\n                      </span>\n                    </div>\n                  </bb-input-validation-message-ui>\n                </div>\n              </div>\n            </div>\n          </div>\n          <span\n            class=\"bb-create-travel-notice__disclaimer\"\n            i18n=\"Contact phone number description@@cards.create.travel.notice.details.form.contactNumber.description\"\n          >\n            We will reach you on this number in case of any suspicious activity.\n          </span>\n        </div>\n      </div>\n      <!-- end of input -->\n      <div class=\"bb-button-bar\">\n        <button \n          class=\"bb-button-bar__button\" \n          bbButton\n          i18n=\"Continue Button text@@cards.create.travel.notice.details.form.continue.button\"\n          (click)=\"hostRef.next(hostRef.cardIdsGroup)\"\n        >\n          Continue\n        </button>\n        <button \n          class=\"bb-button-bar__button bb-button-bar__button--across\" \n          bbButton \n          color=\"link\"\n          i18n=\"Cancel button text@@cards.create.travel.notice.details.form.cancel.button\"\n          (click)=\"hostRef.onCancel()\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </form>\n</ng-template>\n\n<ng-template bbTravelNoticeSelectCardsCustomizable let-hostRef>\n  <div [hidden]=\"hostRef.currentStep !== 2\">\n    <h2 \n      class=\"bb-block bb-block--xl\"\n      i18n=\"Create travel notice select cards header@@cards.create.travel.notice.selectCards.header\"\n    >\n      Select the cards you are travelling with\n    </h2>\n    <bb-alert-ui *ngIf=\"hostRef.displayAlert\"\n      title=\"You need to select at least one card in order to create a travel notice\"\n      i18n-title=\"You need to select at least one card in order to create a travel notice|Pick one@@cards.create.travel.notice.selectCards.alert\"\n      [dismissible]=\"true\"\n      (close)=\"hostRef.onAlertDismiss()\"\n    ></bb-alert-ui>\n    <div class=\"bb-block bb-block--lg\">\n      <bb-cards-travel-notice-checkbox-cards [paymentCards]=\"hostRef.paymentCards\" [formControl]=\"hostRef.cardIdsGroup\"></bb-cards-travel-notice-checkbox-cards>\n    </div>\n    <div class=\"bb-button-bar\">\n      <button\n        class=\"bb-button-bar__button\" \n        bbButton\n        i18n=\"Continue Button text@@cards.create.travel.notice.selectCards.step.continue.button\"\n        (click)=\"hostRef.next()\"\n      >\n        Continue\n      </button>\n      <button  \n        class=\"bb-button-bar__button\" \n        bbButton color=\"secondary\"\n        i18n=\"Back button text@@cards.create.travel.notice.selectCards.step.back.button\"\n        (click)=\"hostRef.back(hostRef.detailsGroup)\"\n      >\n        Back\n      </button>\n      <div \n        class=\"bb-button-bar__button bb-text-support bb-create-travel-notice__cards-count bb-create-travel-notice__cards-count--xs-top\"\n        *ngIf=\"hostRef.cardIdsGroup.value.length !== 0\"\n      >\n        {{hostRef.cardIdsGroup.value.length}} of {{hostRef.paymentCards.length}} selected\n      </div>\n      <div class=\"bb-button-bar__button bb-button-bar__button--across\">\n        <button \n          bbButton\n          color=\"link\"\n          i18n=\"Cancel button text@@cards.create.travel.notice.selectCards.step.cancel.button\"\n          (click)=\"hostRef.onCancel()\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template bbTravelNoticeConfirmStepCustomizable let-hostRef>\n  <div *ngIf=\"hostRef.currentStep === 3\">\n    <h2   \n      class=\"bb-block bb-block--xl\"\n      i18n=\"Create travel notice confirmation step header@@cards.create.travel.notice.confirm.step.header\"\n    >\n      Review your travel notice\n    </h2>\n    <div class=\"bb-block bb-block--xl\">\n      <bb-cards-travel-notice-confirm-step\n        [travelNoticeItem]=\"hostRef.travelNoticeItem\"\n        [selectedCards]=\"hostRef.cardIdsGroup?.value\"\n        [destinationList]=\"hostRef.destinationList\"\n      ></bb-cards-travel-notice-confirm-step>\n    </div>\n    <div class=\"bb-button-bar\">\n      <button  \n        class=\"bb-button-bar__button\" \n        bbButton \n        type=\"submit\"\n        i18n=\"Confirm button text@@cards.create.travel.notice.confirmation.step.confirm.button\"\n      >\n        Confirm\n      </button>\n      <button \n        class=\"bb-button-bar__button\" \n        bbButton \n        color=\"secondary\"\n        i18n=\"Back button text@@cards.create.travel.notice.confirmation.step.back.button\"\n        (click)=\"hostRef.back(hostRef.cardIdsGroup)\"\n      >\n        Back\n      </button>\n      <button\n        class=\"bb-button-bar__button bb-button-bar__button--across\" \n        bbButton \n        color=\"link\"\n        i18n=\"Cancel button text@@cards.create.travel.notice.confirmation.step.cancel.button\"\n        (click)=\"hostRef.onCancel()\"\n      >\n        Cancel\n      </button>\n    </div>\n  </div>\n</ng-template>","import { Component, Directive, EventEmitter, Input, Output } from '@angular/core';\nimport { Destination, PaymentCard, TravelNotice, TravelNoticeList } from '@backbase/cards-common-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\ntype Page = 'create' | 'list' | 'edit';\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\ntype Operation = { goToPage: Page };\n\n@Component({\n  selector: 'bb-cards-travel-notice-container',\n  templateUrl: './cards-travel-notice-container.component.html',\n})\nexport class CardsTravelNoticeContainerComponent {\n  readonly hostRef = this;\n  /**\n   * Empty state image url.\n   */\n  @Input() imageUrl: string | undefined = '';\n  /**\n   *  List of travel notices.\n   */\n  @Input() travelNoticeList: TravelNoticeList | undefined;\n  /**\n   * List for all provided ISO countries/regions.\n   */\n  @Input() destinationList: Destination[] | undefined;\n  /**\n   * Payment card to be displayed.\n   */\n  @Input() paymentCards: PaymentCard[] | undefined;\n  /**\n   * EventEmitter for triggering post event.\n   */\n  @Output() readonly createTravelNotice = new EventEmitter<TravelNotice>();\n  /**\n   * EventEmitter for triggering delete event.\n   */\n  @Output() readonly remove = new EventEmitter<TravelNotice>();\n  page: Page = 'list';\n\n  get hasItems() {\n    return this.travelNoticeList && this.travelNoticeList.length > 0;\n  }\n\n  saveTravelNotice(travelNoticeItem: TravelNotice) {\n    this.createTravelNotice.emit(travelNoticeItem);\n    this.page = 'list';\n  }\n\n  setPage(operation: Operation) {\n    this.page = operation.goToPage;\n  }\n\n  onRemove(travelNoticeItem: TravelNotice) {\n    this.remove.emit(travelNoticeItem);\n  }\n}\n\n@Directive({\n  selector: '[bbTravelNoticeEmptyStateContainerCustomizable]',\n})\nexport class TravelNoticeEmptyStateContainerCustomizableDirective extends BbTemplate<\n  CardsTravelNoticeContainerComponent,\n  undefined\n> {}\n","<ng-container *ngIf=\"page === 'list'\">\n  <ng-container *ngIf=\"hasItems; else emptyState\">\n    <bb-cards-travel-notice-list\n      [travelNoticeList]=\"travelNoticeList\"\n      (create)=\"setPage($event)\"\n      (deleteListItem)=\"onRemove($event)\"\n      [destinationList]=\"destinationList\"\n    >\n    </bb-cards-travel-notice-list>\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf=\"page === 'create'\">\n  <bb-cards-travel-notice-create\n    [paymentCards]=\"paymentCards\"\n    [destinationList]=\"destinationList\"\n    (abortCreation)=\"setPage($event)\"\n    (save)=\"saveTravelNotice($event)\"\n  ></bb-cards-travel-notice-create>\n</ng-container>\n\n<ng-template bbTravelNoticeEmptyStateContainerCustomizable let-hostRef>\n  <div class=\"bb-travel-notice-empty-state card\">\n    <div class=\"card-body bb-text-align-center\">\n      <div class=\"bb-block bb-block--xl\">\n        <img class=\"img-fluid\" *ngIf=\"hostRef.imageUrl !== ''\" [src]=\"hostRef.imageUrl\" alt=\"empty state background\"/>\n      </div>\n      <h2 class=\"bb-block bb-block--md\" i18n=\"travel notice empty state header@@cards.travel.notice.empty.state.header\">\n        Setup your travel notice\n      </h2>\n      <div class=\"row\">\n        <div class=\"col-md-8 offset-md-2\">\n          <div class=\"bb-block bb-block--lg\">\n            <p \n              class=\"bb-travel-notice-empty-state__message\"\n              i18n=\"travel notice empty state description@@cards.travel.notice.empty.state.description\"\n            >\n              A travel notice alerts us that youre planning to use your cards abroad and it helps avoid interpreting any\n              unusual activity as potential fraud.\n            </p>\n          </div>\n        </div>\n      </div>\n     \n      <div>\n        <button bbButton color=\"primary\" (click)=\"hostRef.setPage({goToPage: 'create'})\">\n          <bb-icon-ui name=\"add\"></bb-icon-ui> \n          <span i18n=\"Create new travel notice button@@cards.travel.notice.createNew.button\">Create new</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #emptyState>\n  <ng-container bbTravelNoticeEmptyStateContainerCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n</ng-template>","import { ChangeDetectorRef, Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  CardsBackendDestinations,\n  CardsBackendError,\n  CardsService,\n  Destination,\n  DestinationsServiceConfigToken,\n  FullTravelNoticeModel,\n  PaymentCard,\n  TravelNotice,\n  TravelNoticeList,\n} from '@backbase/cards-common-ang';\nimport { AssetsResolver, AssetsResolverConfig, AssetsService } from '@backbase/foundation-ang/core';\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nconst notificationTtl = 5000;\ntype NotificationMessage = string | TemplateRef<any>;\ntype NotificationModifier = 'success' | 'info' | 'warning' | 'error' | undefined;\n\n@Component({\n  selector: 'bb-cards-travel-notice-widget',\n  templateUrl: 'cards-travel-notice-widget.component.html',\n})\nexport class CardsTravelNoticeWidgetComponent implements OnInit {\n  // eslint-disable-next-line\n  @ViewChild('notificationOnCreate', { read: TemplateRef, static: true })\n  notificationOnCreate: TemplateRef<any> | undefined;\n  // eslint-disable-next-line\n  @ViewChild('notificationOnDelete', { read: TemplateRef, static: true })\n  notificationOnDelete: TemplateRef<any> | undefined;\n\n  travelNoticeList: TravelNoticeList | undefined;\n  paymentCards: PaymentCard[] | undefined;\n  isLoading = true;\n  /**\n   * Error message in case something unexpected occurs.\n   */\n  error: CardsBackendError | undefined;\n\n  destinationList: Observable<Destination[]> | undefined;\n\n  private readonly config: AssetsResolverConfig = {\n    widgetName: 'bb-cards-travel-notice-widget-ang',\n    getURIFromAssetID: (assetId: string) => `${assetId}-img.svg`,\n  };\n\n  private readonly resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver(this.config);\n\n  get imageEmptyStateUrl() {\n    return this.resolveAsset('travel-notice-empty-state');\n  }\n\n  ngOnInit() {\n    this.loadTravelNotice();\n\n    this.destinationList =\n      this.destinationsService &&\n      this.destinationsService.getDestinations().pipe(\n        catchError((error: CardsBackendError) => {\n          this.error = error;\n\n          return of([]);\n        }),\n      );\n  }\n\n  submitTravelNotice(travelNoticeItem: TravelNotice) {\n    this.isLoading = true;\n\n    const submitTravelNoticeSuccess = () => {\n      if (this.travelNoticeList) {\n        this.loadTravelNotice();\n        this.pushNotification(this.notificationOnCreate, 'success');\n      }\n    };\n\n    this.cardsService.postTravelNotice(travelNoticeItem).subscribe(submitTravelNoticeSuccess);\n  }\n\n  onRemoveItem(travelNoticeItem: TravelNotice) {\n    this.isLoading = true;\n\n    const deleteTravelNoticeSuccess = () => {\n      if (this.travelNoticeList) {\n        this.loadTravelNotice();\n        this.pushNotification(this.notificationOnDelete, 'success');\n      }\n    };\n\n    this.cardsService.deleteTravelNotice(travelNoticeItem).subscribe(deleteTravelNoticeSuccess);\n  }\n\n  private loadTravelNotice() {\n    this.cardsService\n      .getTravelNotice()\n      .pipe(\n        catchError((error: CardsBackendError) => {\n          this.error = error;\n\n          return of({});\n        }),\n      )\n      .subscribe((item: FullTravelNoticeModel) => {\n        this.travelNoticeList = item.travelNoticeList;\n        this.paymentCards = item.paymentCards;\n        this.isLoading = false;\n        this.cd.detectChanges();\n      });\n  }\n\n  private pushNotification(header: NotificationMessage = '', modifier: NotificationModifier) {\n    this.notificationService.showNotification({\n      header,\n      message: '',\n      modifier,\n      dismissible: true,\n      ttl: notificationTtl,\n    });\n  }\n\n  constructor(\n    private readonly assetsService: AssetsService,\n    private readonly cardsService: CardsService,\n    private readonly notificationService: NotificationService,\n    @Inject(DestinationsServiceConfigToken) private readonly destinationsService: CardsBackendDestinations | undefined,\n    protected readonly cd: ChangeDetectorRef,\n  ) {}\n}\n","<ng-container *ngIf=\"!error; else errorState\">\n  <ng-container *ngIf=\"!isLoading; else loadingState\">\n    <bb-cards-travel-notice-container\n      [imageUrl]=\"(imageEmptyStateUrl | async) || undefined\"\n      [travelNoticeList]=\"travelNoticeList\"\n      [destinationList]=\"(destinationList | async) || undefined\"\n      [paymentCards]=\"paymentCards\"\n      (createTravelNotice)=\"submitTravelNotice($event)\"\n      (remove)=\"onRemoveItem($event)\"\n    ></bb-cards-travel-notice-container>\n  </ng-container>\n</ng-container>\n<ng-template #loadingState>\n  <bb-loading-indicator-ui loaderSize=\"lg\"></bb-loading-indicator-ui>\n</ng-template>\n\n<ng-template #errorState>\n  <bb-empty-state-ui\n    title=\"\"\n    [subtitle]=\"error?.message\"\n    iconModifier=\"error\"\n    iconSize=\"xxl\"\n    iconClasses=\"text-muted\"\n  ></bb-empty-state-ui>\n</ng-template>\n\n<ng-template #notificationOnCreate>\n  <span \n    i18n=\"Message for a notification displayed when a travel notice is created@@cards.create.travel.notice.success.notification\"\n  >\n    Travel notice successfully created!\n  </span>\n</ng-template>\n\n<ng-template #notificationOnDelete>\n  <span \n    i18n=\"Message for a notification displayed when a travel notice is deleted@@cards.delete.travel.notice.success.notification\"\n  >\n    Travel notice successfully deleted!  \n  </span>\n</ng-template>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CardsCommonModule, DefaultDestionsService, DestinationsServiceConfigToken } from '@backbase/cards-common-ang';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { CheckboxGroupModule } from '@backbase/ui-ang/checkbox-group';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport { DropdownMultiSelectModule } from '@backbase/ui-ang/dropdown-multi-select';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport { InputDatepickerModule } from '@backbase/ui-ang/input-datepicker';\nimport { InputPhoneModule } from '@backbase/ui-ang/input-phone';\nimport { InputTextModule } from '@backbase/ui-ang/input-text';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { NotificationModule } from '@backbase/ui-ang/notification';\nimport { PaymentCardModule } from '@backbase/ui-ang/payment-card';\nimport { StepperModule } from '@backbase/ui-ang/stepper';\nimport { NgbCollapseModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport {\n  CardsTravelNoticeContainerComponent,\n  TravelNoticeEmptyStateContainerCustomizableDirective,\n} from './components/cards-travel-notice-container/cards-travel-notice-container.component';\nimport { CardsTravelNoticeCheckboxCardsComponent } from './components/cards-travel-notice-create/cards-travel-notice-checkbox-cards.component';\nimport { CardsTravelNoticeConfirmStepComponent } from './components/cards-travel-notice-create/cards-travel-notice-confirm-step.component';\nimport { CardsTravelNoticeCountrySelectorComponent } from './components/cards-travel-notice-create/cards-travel-notice-country-selector.component';\nimport {\n  CardsTravelNoticeCreateComponent,\n  TravelNoticeConfirmStepCustomizableDirective,\n  TravelNoticeCreateCustomizableDirective,\n  TravelNoticeDetailsStepCustomizableDirective,\n  TravelNoticeSelectCardsCustomizableDirective,\n  TravelNoticeStepperCustomizableDirective,\n} from './components/cards-travel-notice-create/cards-travel-notice-create.component';\nimport { CardsTravelNoticeListItemComponent } from './components/cards-travel-notice-list/cards-travel-notice-list-item.component';\nimport {\n  CardsTravelNoticeListComponent,\n  TravelNoticeListCustomizableDirective,\n  TravelNoticeListItemCustomizableDirective,\n} from './components/cards-travel-notice-list/cards-travel-notice-list.component';\nimport { CardsTravelNoticeStatusBadgeComponent } from './components/cards-travel-notice-list/cards-travel-notice-status-badge.component';\nimport { CardsTravelNoticePaymentCardComponent } from './components/cards-travel-notice-payment-card/cards-travel-notice-payment-card.component';\nimport { CardsTravelNoticeWidgetComponent } from './components/cards-travel-notice-widget/cards-travel-notice-widget.component';\nimport { TravelNoticeDatesHelperService } from './services/travel-notice-dates-helper.service';\n\nconst components = [\n  CardsTravelNoticeWidgetComponent,\n  CardsTravelNoticeContainerComponent,\n  CardsTravelNoticeListComponent,\n  CardsTravelNoticeListItemComponent,\n  CardsTravelNoticeCreateComponent,\n  CardsTravelNoticeCheckboxCardsComponent,\n  CardsTravelNoticeConfirmStepComponent,\n  CardsTravelNoticeCountrySelectorComponent,\n  CardsTravelNoticeStatusBadgeComponent,\n  CardsTravelNoticePaymentCardComponent,\n];\n\nconst customizables = [\n  TravelNoticeEmptyStateContainerCustomizableDirective,\n  TravelNoticeListCustomizableDirective,\n  TravelNoticeListItemCustomizableDirective,\n  TravelNoticeCreateCustomizableDirective,\n  TravelNoticeDetailsStepCustomizableDirective,\n  TravelNoticeSelectCardsCustomizableDirective,\n  TravelNoticeConfirmStepCustomizableDirective,\n  TravelNoticeStepperCustomizableDirective,\n];\n\nconst modules = [\n  ButtonModule,\n  BadgeModule,\n  IconModule,\n  CollapsibleModule,\n  LoadingIndicatorModule,\n  PaymentCardModule,\n  StepperModule,\n  InputDatepickerModule,\n  CheckboxGroupModule,\n  InputCheckboxModule,\n  InputValidationMessageModule,\n  ModalModule,\n  InputTextModule,\n  InputPhoneModule,\n  DropdownMultiSelectModule,\n  AlertModule,\n  NotificationModule,\n  NgbCollapseModule,\n  CardsCommonModule,\n];\n\n@NgModule({\n  declarations: [...components, ...customizables],\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { CardsTravelNoticeWidgetComponent },\n    }),\n    ...modules,\n    ReactiveFormsModule,\n    FormsModule,\n    NgSelectModule,\n  ],\n  providers: [\n    { provide: DestinationsServiceConfigToken, useClass: DefaultDestionsService },\n    TravelNoticeDatesHelperService,\n  ],\n  exports: [...modules, ...components, ...customizables],\n})\nexport class CardsTravelNoticeModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Injectable","Component","Input","PaymentCardStatus","PaymentCardLockStatus","EventEmitter","getCountryName","Output","BbTemplate","Directive","FormControl","NG_VALUE_ACCESSOR","forwardRef","Validators","DatePipe","catchError","of","DestinationsServiceConfigToken","TemplateRef","Inject","ViewChild","ButtonModule","BadgeModule","IconModule","CollapsibleModule","LoadingIndicatorModule","PaymentCardModule","StepperModule","InputDatepickerModule","CheckboxGroupModule","InputCheckboxModule","InputValidationMessageModule","ModalModule","InputTextModule","InputPhoneModule","DropdownMultiSelectModule","AlertModule","NotificationModule","NgbCollapseModule","CardsCommonModule","CommonModule","ReactiveFormsModule","FormsModule","NgSelectModule","DefaultDestionsService","BackbaseCoreModule","NgModule"],"mappings":"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"}