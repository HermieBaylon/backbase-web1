"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractDuplicates = exports.diffArray = exports.flat = exports.flatMap = void 0;
function flatMap(arr, mapper) {
    return arr.map(mapper).reduce((acc, val) => acc.concat(val), []);
}
exports.flatMap = flatMap;
function flat(arr) {
    return arr.reduce((acc, val) => acc.concat(val), []);
}
exports.flat = flat;
function diffArray(arr1, arr2) {
    return arr1.filter(val => !arr2.includes(val));
}
exports.diffArray = diffArray;
const extractDuplicates = (arr) => {
    const duplicates = Object.entries(flatMap(arr, items => items).reduce((counter, value) => {
        if (!counter[value]) {
            counter[value] = 1;
        }
        else {
            counter[value]++;
        }
        return counter;
    }, {}))
        .filter(([_, count]) => count > 1)
        .map(([value]) => value);
    const filtered = arr.map(items => items.filter(item => !duplicates.includes(item))).filter(items => items.length > 0);
    duplicates.forEach(duplicate => filtered.push([duplicate]));
    return filtered;
};
exports.extractDuplicates = extractDuplicates;
//# sourceMappingURL=array.js.map