"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllTsFilesFromTree = exports.getAllFilesFromTree = void 0;
const getSubfilesRecursively = (rootEntry, excludeRootDirs = []) => {
    function _recurse(entry) {
        let subDirs = entry.subdirs;
        if (entry === rootEntry) {
            subDirs = entry.subdirs.filter(dir => !excludeRootDirs.includes(dir));
        }
        return subDirs.reduce((files, subdir) => [...files, ..._recurse(entry.dir(subdir))], entry.subfiles.map(subfile => entry.file(subfile)).filter((file) => file !== null));
    }
    return _recurse(rootEntry);
};
const getAllFilesFromTree = (tree, excludeRootDirs = []) => new Set(getSubfilesRecursively(tree.getDir('/'), excludeRootDirs).map(file => file.path));
exports.getAllFilesFromTree = getAllFilesFromTree;
const getAllTsFilesFromTree = (tree) => Array.from(exports.getAllFilesFromTree(tree)).filter(file => ['.ts', '.d.ts'].some(ex => file.endsWith(ex)));
exports.getAllTsFilesFromTree = getAllTsFilesFromTree;
//# sourceMappingURL=tree.js.map