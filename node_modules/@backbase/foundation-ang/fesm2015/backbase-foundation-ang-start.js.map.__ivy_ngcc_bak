{"version":3,"file":"backbase-foundation-ang-start.js","sources":["../../../../projects/backbase/foundation-ang/start/src/register-single-app.ts","../../../../projects/backbase/foundation-ang/start/src/backbase-foundation-ang-start.ts"],"sourcesContent":["import { NgModuleRef, StaticProvider } from '@angular/core';\nimport { BackbaseConnector } from '@backbase/foundation-ang/core';\nimport { ExternalServices, ÉµEXTERNAL_SERVICES as EXTERNAL_SERVICES } from '@backbase/foundation-ang/web-sdk';\n/**\n * @deprecated Will be removed in v7.0.0\n */\nexport type CreateNgModule = (extraProviders: Array<StaticProvider>) => Promise<NgModuleRef<any>>;\n\n/**\n * @deprecated Will be removed in v7.0.0\n */\nexport type StartSingleApp = (externalServices?: ExternalServices) => Promise<BackbaseConnector>;\n\n/**\n * @deprecated Will be removed in v7.0.0\n * Exposes Angular Single Page Application bootstrap method `window.BB.startSingleApp`\n * @param createNgModule Function that accepts StaticProviders and returns NgModuleRef\n * @usageNotes\n * ### Example\n *\n * ```\n * window.BB.startSingleApp = registerSingleApp(createNgModule);\n *\n * window.BB.startSingleApp(webSdkServices, staticProviders)\n *   .then((bbConnector: BackbaseConnector) => bbConector.bootstrap(item, itemLocation));\n * ```\n */\nexport function registerSingleApp(createNgModule: CreateNgModule): StartSingleApp {\n  const startSingleApp: StartSingleApp = (externalServices: ExternalServices = {}): Promise<BackbaseConnector> => {\n    const providers = [\n      {\n        provide: EXTERNAL_SERVICES,\n        useValue: externalServices,\n      },\n    ];\n    return createNgModule(providers).then(\n      (moduleRef: NgModuleRef<any>): BackbaseConnector => moduleRef.injector.get<BackbaseConnector>(BackbaseConnector),\n    );\n  };\n  window.BB = window.BB || {};\n  Object.assign(window.BB, { startSingleApp });\n  return startSingleApp;\n}\n\ndeclare global {\n  interface Window {\n    BB: { [key: string]: any };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EXTERNAL_SERVICES"],"mappings":";;;;AAaA;;;;;;;;;;;;;AAaG;AACG,SAAU,iBAAiB,CAAC,cAA8B,EAAA;AAC9D,IAAA,MAAM,cAAc,GAAmB,CAAC,gBAAqC,GAAA,EAAE,KAAgC;AAC7G,QAAA,MAAM,SAAS,GAAG;AAChB,YAAA;AACE,gBAAA,OAAO,EAAEA,kBAAiB;AAC1B,gBAAA,QAAQ,EAAE,gBAAgB;AAC3B,aAAA;SACF,CAAC;QACF,OAAO,cAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CACnC,CAAC,SAA2B,KAAwB,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAoB,iBAAiB,CAAC,CACjH,CAAC;AACJ,KAAC,CAAC;IACF,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC;IAC5B,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,cAAc,EAAE,CAAC,CAAC;AAC7C,IAAA,OAAO,cAAc,CAAC;AACxB;;AC1CA;;AAEG;;;;"}