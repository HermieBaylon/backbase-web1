{"version":3,"file":"backbase-foundation-ang-data-http.umd.js","sources":["../../../../projects/backbase/foundation-ang/data-http/src/cache-control.interceptor.ts","../../../../projects/backbase/foundation-ang/data-http/src/data-http-config.ts","../../../../projects/backbase/foundation-ang/data-http/src/request-cache.service.ts","../../../../projects/backbase/foundation-ang/data-http/src/request-cache.interceptor.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../projects/backbase/foundation-ang/data-http/src/custom-encoder.service.ts","../../../../projects/backbase/foundation-ang/data-http/src/data-http.module.ts","../../../../projects/backbase/foundation-ang/data-http/src/mocks.ts","../../../../projects/backbase/foundation-ang/data-http/src/url.ts","../../../../projects/backbase/foundation-ang/data-http/src/data-module-manager.ts","../../../../projects/backbase/foundation-ang/data-http/src/mocks.interceptor.service.ts","../../../../projects/backbase/foundation-ang/data-http/src/pagination.service.ts","../../../../projects/backbase/foundation-ang/data-http/src/backbase-foundation-ang-data-http.ts"],"sourcesContent":["import { HTTP_INTERCEPTORS, HttpHandler, HttpInterceptor, HttpRequest, HttpEvent } from '@angular/common/http';\nimport { Injectable, Provider } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class CacheControlInterceptor implements HttpInterceptor {\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const updatedRequest = req.clone({\n      setHeaders: {\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        Pragma: 'no-cache',\n      },\n    });\n    return next.handle(updatedRequest);\n  }\n}\n\nexport const cacheControlInterceptorProvider: Provider = [\n  {\n    provide: HTTP_INTERCEPTORS,\n    useClass: CacheControlInterceptor,\n    multi: true,\n  },\n];\n","import { InjectionToken } from '@angular/core';\n\n/**\n * This token can be used to inject default DataHttpConfig\n */\nexport const DATA_HTTP_CONFIG = new InjectionToken<DataHttpConfig>('DataHttpConfig');\nexport const DATA_HTTP_CUSTOM_CONFIG = new InjectionToken<DataHttpConfig>('DataHttpCustomConfig');\n\nexport interface DataHttpConfig {\n  readonly apiRoot: string;\n  readonly headers: { [key: string]: string };\n}\n\nexport interface ServiceDataHttpConfig extends DataHttpConfig {\n  readonly servicePath: string;\n}\n\n/**\n * Returns merged service data http configuration\n * @param globalConfig Default service configuration object\n * @param serviceConfig Service configuration object to be merge on default\n */\nexport function createServiceDataHttpConfig(\n  globalConfig: ServiceDataHttpConfig,\n  serviceConfig: Partial<ServiceDataHttpConfig>,\n): ServiceDataHttpConfig {\n  return {\n    ...globalConfig,\n    ...serviceConfig,\n  };\n}\n","import { HttpEvent, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n// JavaScript equality sucks.. We have to use strings for keys.\ntype RequestCacheKey = string;\n\ninterface RequestCacheValue<T> {\n  expireAt: number;\n  value: Observable<HttpEvent<T>>;\n}\n\nconst second = 1000;\n\n@Injectable()\nexport class RequestCacheService {\n  private readonly ttl = 1 * second;\n  private readonly results = new Map<RequestCacheKey, RequestCacheValue<any>>();\n\n  get(req: HttpRequest<any>): Observable<HttpEvent<any>> | undefined {\n    this.garbageCollect();\n\n    const cached = this.results.get(this.key(req));\n    if (cached === undefined) {\n      return undefined;\n    }\n\n    return cached.value;\n  }\n\n  set(request: HttpRequest<any>, response: Observable<HttpEvent<any>>): void {\n    this.results.set(this.key(request), this.value(response));\n  }\n\n  private key(request: HttpRequest<any>): RequestCacheKey {\n    return JSON.stringify({\n      url: request.urlWithParams,\n    });\n  }\n\n  private value<T>(response: Observable<HttpEvent<T>>): RequestCacheValue<T> {\n    return {\n      expireAt: this.expiryTime(),\n      value: response,\n    };\n  }\n\n  private expiryTime(): number {\n    return Date.now() + this.ttl;\n  }\n\n  private isExpired(value: RequestCacheValue<any>): boolean {\n    return Date.now() > value.expireAt;\n  }\n\n  private garbageCollect() {\n    this.results.forEach((value, key) => {\n      if (this.isExpired(value)) {\n        this.results.delete(key);\n      }\n    });\n  }\n}\n","import { HTTP_INTERCEPTORS, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable, Provider } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { RequestCacheService } from './request-cache.service';\n\n@Injectable()\nexport class RequestCacheInterceptor implements HttpInterceptor {\n  constructor(private readonly cache: RequestCacheService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n    if (!this.isCachable(req)) {\n      return next.handle(req);\n    }\n\n    return this.cachedResponse(req) || this.refreshResponse(req, next);\n  }\n\n  private isCachable(req: HttpRequest<any>): boolean {\n    return req.method === 'GET';\n  }\n\n  private cachedResponse(req: HttpRequest<any>): Observable<HttpEvent<any>> | undefined {\n    return this.cache.get(req);\n  }\n\n  private refreshResponse(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const response = next.handle(req);\n    this.cache.set(req, response);\n    return response;\n  }\n}\n\nexport const requestCacheInterceptorProvider: Provider = [\n  RequestCacheService,\n  {\n    provide: HTTP_INTERCEPTORS,\n    useClass: RequestCacheInterceptor,\n    multi: true,\n  },\n];\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { HttpParameterCodec, HttpParams } from '@angular/common/http';\nimport { InjectionToken } from '@angular/core';\nimport { AvailableFeature, FeaturesService } from '@backbase/foundation-ang/future';\n\n/**\n * Object used to hold Http Parameters\n */\nexport interface HttpParametersObject {\n  /**\n   * Each key is the name of the http param. Each value is the http param value.\n   */\n  [k: string]: string | Array<string> | undefined | number;\n}\n\nexport interface NormalizedHttpParameters {\n  [k: string]: string | Array<string>;\n}\n\n/**\n * Normalize a map of `HttpParametersObject` and return a valid `HttpParam`.\n *\n * This does 3 things:\n *  - Filter out `undefined` values.\n *  - Convert all `number` values into `strings`.\n *  - Encode values using a custom encoder (fixes this [known bug](https://github.com/angular/angular/issues/18261)).\n */\nexport type HttpParamsFactory = (params: HttpParametersObject) => HttpParams;\n\nexport const normalizeHttpParameter = (\n  accum: NormalizedHttpParameters,\n  [key, value]: [string, string | Array<string> | undefined | number],\n) => {\n  if (value === undefined) {\n    return accum;\n  }\n  if (typeof value === 'number') {\n    return { ...accum, [key]: String(value) };\n  }\n  return { ...accum, [key]: value };\n};\n\nexport const EXTRA_ENCODE_URI_PARAMS: AvailableFeature = {\n  name: 'EXTRA_ENCODE_URI_PARAMS',\n  description:\n    'Correctly encode certain symbols in data module http params (eg encode \"+\" to \"%2B) to fix a known angular bug (#18261)',\n};\n\n/**\n * Filter undefined params, and convert numbers to strings.\n */\nexport const normalizeHttpParameters = (params: HttpParametersObject): NormalizedHttpParameters =>\n  Object.entries(params).reduce(normalizeHttpParameter, {});\n\nexport class CustomEncoder implements HttpParameterCodec {\n  encodeKey(key: string): string {\n    return encodeURIComponent(key);\n  }\n\n  encodeValue(value: string): string {\n    return encodeURIComponent(value);\n  }\n\n  decodeKey(key: string): string {\n    return decodeURIComponent(key);\n  }\n\n  decodeValue(value: string): string {\n    return decodeURIComponent(value);\n  }\n}\n\n/**\n * Injection token for the `HttpParamsFactory` utility function.\n *\n * @usageNotes\n *\n * ### Example\n *\n * ```\n * export class MyDataService {\n *   constructor(private readonly http: HttpClient,\n *   @Inject(HTTP_PARAMS_FACTORY)\n *   private readonly toHttpParams: HttpParamsFactory,\n *   ){}\n *\n *   makeRequest(params: HttpParameters): Observable<HttpResponse<any>> {\n *     return this.http.request('get', '/api', {\n *       params: this.toHttpParams(params),\n *     });\n *   }\n * }\n * ```\n */\nexport const HTTP_PARAMS_FACTORY = new InjectionToken<HttpParamsFactory>('Http Param Factory');\n\nexport const httpParamsFactoryFactory = (featuresService: FeaturesService) => {\n  // We can't type options correctly, because angular is not exporting HttpParamsOptions\n  // https://github.com/angular/angular/issues/20276\n  const httpParamsOptions = featuresService.isEnabled(EXTRA_ENCODE_URI_PARAMS) ? { encoder: new CustomEncoder() } : {};\n  return (fromObject: HttpParametersObject): HttpParams =>\n    new HttpParams({ ...httpParamsOptions, fromObject: normalizeHttpParameters(fromObject) });\n};\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { cacheControlInterceptorProvider } from './cache-control.interceptor';\nimport { DATA_HTTP_CONFIG, DATA_HTTP_CUSTOM_CONFIG, DataHttpConfig } from './data-http-config';\nimport { requestCacheInterceptorProvider } from './request-cache.interceptor';\nimport { PageConfig, PAGE_CONFIG } from '@backbase/foundation-ang/web-sdk';\nimport { HTTP_PARAMS_FACTORY, httpParamsFactoryFactory, EXTRA_ENCODE_URI_PARAMS } from './custom-encoder.service';\nimport { FutureFeaturesModule, FeaturesService } from '@backbase/foundation-ang/core';\n\n/**\n * Returns merged data http configuration object\n * @param pageConfigService\n * @param config\n */\nexport function dataHttpConfigFactory(\n  pageConfigService: PageConfig,\n  config: Partial<DataHttpConfig> = {},\n): DataHttpConfig {\n  return {\n    headers: {},\n    apiRoot: pageConfigService.apiRoot,\n    ...config,\n  };\n}\n\n@NgModule({\n  imports: [FutureFeaturesModule.allowOptIn([EXTRA_ENCODE_URI_PARAMS])],\n  providers: [\n    {\n      provide: DATA_HTTP_CONFIG,\n      useFactory: dataHttpConfigFactory,\n      deps: [PAGE_CONFIG],\n    },\n    {\n      provide: HTTP_PARAMS_FACTORY,\n      useFactory: httpParamsFactoryFactory,\n      deps: [FeaturesService],\n    },\n  ],\n})\nexport class DataHttpModule {\n  /**\n   * Creates a module with http configuration for data modules.\n   *\n   * @usageNotes\n   *\n   * ### Example\n   *\n   * ```\n   * @NgModule({\n   *   imports: [\n   *     DataHttpModule.forRoot({\n   *       rootApi: '/custom-base-url/',\n   *       headers: {\n   *         'X-custom': 'foo',\n   *       }\n   *     })\n   *   ]\n   * })\n   * class MyAppModule {}\n   * ```\n   */\n  static forRoot(config: Partial<DataHttpConfig> = {}): ModuleWithProviders<DataHttpModule> {\n    return {\n      ngModule: DataHttpModule,\n      providers: [\n        requestCacheInterceptorProvider,\n        cacheControlInterceptorProvider,\n        {\n          provide: DATA_HTTP_CUSTOM_CONFIG,\n          useValue: config,\n        },\n        {\n          provide: DATA_HTTP_CONFIG,\n          useFactory: dataHttpConfigFactory,\n          deps: [PAGE_CONFIG, DATA_HTTP_CUSTOM_CONFIG],\n        },\n      ],\n    };\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { ServiceDataHttpConfig } from './data-http-config';\n\nconst DEFAULT_RETURN_STATUS = 200;\n\nexport interface MockData {\n  examples: Array<MockExample>;\n  token?: InjectionToken<ServiceDataHttpConfig>;\n}\n\nexport interface MockDataConfig {\n  examples: Array<MockExample>;\n  config?: ServiceDataHttpConfig;\n}\n\n/**\n * Configuration of the mock responses based on matching a request.\n */\nexport interface MockExample {\n  urlPattern: string;\n  method: string;\n  responses: Array<MocksItemResponse<any>>;\n}\n\n/**\n * @internal\n */\nexport interface MocksItem extends MockExample {\n  statusToReturn: number;\n}\n\nexport namespace MocksItem {\n  const placeholderPattern = /\\{[^\\}]*\\}/g;\n\n  function placeholdersCount(item: MocksItem): number {\n    return (item.urlPattern.match(placeholderPattern) || []).length;\n  }\n\n  function placeholderIndex(item: MocksItem): number {\n    const regex = new RegExp(placeholderPattern);\n    const found = regex.exec(item.urlPattern);\n    return found == null ? item.urlPattern.length : found.index;\n  }\n\n  function comparePlaceHolderCount(a: MocksItem, b: MocksItem): number {\n    return placeholdersCount(a) - placeholdersCount(b);\n  }\n\n  function comparePlaceholderIndex(a: MocksItem, b: MocksItem): number {\n    return placeholderIndex(b) - placeholderIndex(a);\n  }\n\n  export function compareSpecificity(a: MocksItem, b: MocksItem): number {\n    return comparePlaceHolderCount(a, b) || comparePlaceholderIndex(a, b);\n  }\n}\n\nexport interface MocksItemResponse<T> {\n  status: number;\n  body?: T;\n}\n\nexport function fromExamples(examples: Array<MockExample>): Array<MocksItem> {\n  return examples.map(exampleItemToMockItem).sort(MocksItem.compareSpecificity);\n}\n\nfunction exampleItemToMockItem(example: MockExample): MocksItem {\n  let defaultResponseItem: MocksItemResponse<any> | undefined;\n  if (example.responses && example.responses.length) {\n    defaultResponseItem =\n      example.responses.find((response: MocksItemResponse<any>) => isSuccessStatus(response.status)) ||\n      example.responses[0];\n  }\n  return {\n    ...{ statusToReturn: defaultResponseItem ? defaultResponseItem.status : DEFAULT_RETURN_STATUS },\n    ...example,\n  };\n}\n\nexport function isSuccessStatus(status: number): boolean {\n  return status >= 200 && status <= 299;\n}\n\nexport const MOCKS_EXAMPLES = new InjectionToken<Array<MockData>>(`@backbase/foundation Mocks Examples`);\n","export const hasProtocol = (url: string): boolean => !!url.match(/^[^/:]+:\\/{2,}$/);\n\nconst addTrailingSlash = (url: string): string => url.replace(/([^\\/])$/, '$1/');\n\nconst removeLeadingSlash = (str: string): string => str.replace(/^[\\/]+/, '');\n\nconst removeTrailingSlash = (str: string): string => str.replace(/[\\/]+$/, '');\n\n/**\n * Join URL parts together into a single URL string.\n *\n * Ensures URL get joined together by a single slash.\n *\n * @internal\n * @usageNotes\n *\n * ### Example\n *\n * ```\n * joinUrl('a', 'b'); // returns 'a/b'\n * joinUrl('/a/', '/b/'); // returns '/a/b/'\n * joinUrl('http://www.example.com/', '/a/b', 'c'); // returns 'http://www.example.com/a/b/c'\n * ```\n */\nexport const joinUrl = (...urlParts: Array<string>): string => {\n  // Much of this is taken from https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\n  if (urlParts.length < 2) {\n    return urlParts[0] || '';\n  }\n\n  // If the first part is a plain protocol, we combine it with the next part.\n  if (hasProtocol(urlParts[0])) {\n    const first = urlParts.shift() as string; // it is assured by above check\n    urlParts[0] = addTrailingSlash(first) + removeLeadingSlash(urlParts[0]);\n  }\n\n  const resultParts = urlParts.filter(Boolean).map((part: string, index: number) => {\n    if (index > 0) {\n      // Removing the starting slashes for each component but the first.\n      part = removeLeadingSlash(part);\n    }\n    if (index < urlParts.length - 1) {\n      // Removing the ending slashes for each component but the last.\n      part = removeTrailingSlash(part);\n    }\n    return part;\n  });\n\n  // All parts now start and end without slashes (exceptions for the first and last).\n  return resultParts.join('/');\n};\n","import { Inject, Injectable, InjectionToken, Injector, Optional } from '@angular/core';\nimport { ServiceDataHttpConfig } from './data-http-config';\nimport { fromExamples, MockData, MockExample, MocksItem, MOCKS_EXAMPLES } from './mocks';\nimport { joinUrl } from './url';\n\nconst DEFAULT_CONFIG_TOKEN = new InjectionToken<Array<MockData>>(`@backbase/foundation default config token`);\n\n@Injectable({ providedIn: 'root' })\nexport class DataModulesManager {\n  private _mocks: Array<MocksItem> = [];\n\n  private modulesConfig = new Map<\n    InjectionToken<ServiceDataHttpConfig>,\n    Partial<{\n      examples: Array<MockExample>;\n      config: ServiceDataHttpConfig;\n    }>\n  >();\n\n  constructor(\n    private injector: Injector,\n    @Optional()\n    @Inject(MOCKS_EXAMPLES)\n    mockData?: Array<MockData>,\n  ) {\n    this.addMockExamples(mockData || []);\n  }\n\n  setModuleConfig(token: InjectionToken<ServiceDataHttpConfig>, config: ServiceDataHttpConfig) {\n    if (this.modulesConfig.has(token)) {\n      const current = this.modulesConfig.get(token);\n      this.modulesConfig.set(token, { ...current, config });\n    } else {\n      this.modulesConfig.set(token, {\n        config,\n      });\n    }\n    this.updateMocks();\n  }\n\n  getMocks(): ReadonlyArray<MocksItem> {\n    return this._mocks;\n  }\n\n  private addMockExamples(mockData: Array<MockData>) {\n    for (const { token, examples } of mockData) {\n      const configToken = token || DEFAULT_CONFIG_TOKEN;\n      const config = this.injector.get<ServiceDataHttpConfig | null>(configToken, null) ?? undefined;\n\n      const allExamples =\n        configToken === DEFAULT_CONFIG_TOKEN\n          ? examples.concat(this.modulesConfig.get(configToken)?.examples ?? [])\n          : examples;\n\n      this.modulesConfig.set(configToken, {\n        examples: allExamples,\n        config,\n      });\n    }\n\n    this.updateMocks();\n  }\n\n  private updateMocks() {\n    const mockExamples: Array<MockExample> = [];\n    for (const { config, examples } of this.modulesConfig.values()) {\n      mockExamples.push(...(examples || []).map(example => this.createURL(example, config)));\n    }\n    this._mocks = fromExamples(mockExamples);\n  }\n\n  private createURL(example: MockExample, serviceConfig?: ServiceDataHttpConfig): MockExample {\n    return serviceConfig\n      ? {\n          ...example,\n          ...{ urlPattern: joinUrl(serviceConfig.apiRoot, serviceConfig.servicePath, example.urlPattern) },\n        }\n      : example;\n  }\n}\n","import {\n  HttpErrorResponse,\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest,\n  HttpResponse,\n  HTTP_INTERCEPTORS,\n} from '@angular/common/http';\nimport { APP_BOOTSTRAP_LISTENER, Injectable, InjectionToken, isDevMode, Provider } from '@angular/core';\nimport { Observable, of as observableOf, throwError } from 'rxjs';\nimport { delay, dematerialize, materialize, tap } from 'rxjs/operators';\nimport { ServiceDataHttpConfig } from './data-http-config';\nimport { DataModulesManager } from './data-module-manager';\nimport { isSuccessStatus, MockExample, MocksItem, MOCKS_EXAMPLES } from './mocks';\n\nconst DEFAULT_OPTIONS = {\n  responseDelay: 300, // ms\n  enableMocksStorageKey: 'enableMocks',\n};\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MocksInterceptor implements HttpInterceptor {\n  private readonly options: MocksInterceptorConfiguration = DEFAULT_OPTIONS;\n\n  private urlMatchesPattern(url: string, pattern: string) {\n    const regexp = new RegExp(\n      pattern\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // escape regex characters in URL pattern\n        .replace(/\\\\{[^\\}]*\\}/g, '[^/]*') // convert template {placeholders} to regex\n        .concat('$'), // anchor to end of url\n    );\n    // fixes bug with older versions of data modules, where they could have ended up\n    // with double slashes in the request URL, depending on the environment\n    // by replacing multiple slashes with a single slash (except after \":\" - e.g. in \"http://\")\n    const normalUrl = url.replace(/([^:]\\/)\\/+/g, '$1');\n    return regexp.test(normalUrl);\n  }\n\n  private findRequestMock<R>(request: HttpRequest<R>): MocksItem | undefined {\n    const urlAndMethodMatch = (item: MocksItem) => {\n      return request.method === item.method && this.urlMatchesPattern(request.url, item.urlPattern);\n    };\n\n    return this.dataModuleManager.getMocks().find(urlAndMethodMatch);\n  }\n\n  private toResponseObject<T>(mockItem: MocksItem): Observable<HttpEvent<T>> {\n    const response = mockItem.responses.find(resp => resp.status === mockItem.statusToReturn);\n    if (!response) {\n      return throwError(\n        new HttpErrorResponse({\n          status: 500,\n          statusText: 'No Mock Defined',\n        }),\n      );\n    }\n\n    if (isSuccessStatus(response.status)) {\n      return observableOf(new HttpResponse(response));\n    } else {\n      return throwError(new HttpErrorResponse(response));\n    }\n  }\n\n  /*\n   * this class is constructed in createMocksInterceptor \n   function so make sure to updated it too if you have changes in the dependancy list\n   */\n  constructor(private readonly dataModuleManager: DataModulesManager) {}\n\n  private getMockItemFromStorage(urlPattern: string): Partial<MocksItem> {\n    try {\n      return JSON.parse(localStorage.getItem(urlPattern) || '{}');\n    } catch {\n      console.warn(`[MOCK] Invalid json for the \"${urlPattern}\" local storage item`);\n      return {};\n    }\n  }\n\n  private processRequest<R, T>(request: HttpRequest<R>, next: HttpHandler): Observable<HttpEvent<T>> {\n    const mock = this.findRequestMock(request);\n    if (mock) {\n      return this.toResponseObject<T>({ ...mock, ...this.getMockItemFromStorage(mock.urlPattern) });\n    }\n    return next.handle(request);\n  }\n\n  intercept<R, T>(request: HttpRequest<R>, next: HttpHandler): Observable<HttpEvent<T>> {\n    if (localStorage.getItem(this.options.enableMocksStorageKey) !== 'true') {\n      return next.handle(request);\n    }\n\n    return this.processRequest<R, T>(request, next).pipe(\n      materialize(),\n      delay(this.options.responseDelay),\n      dematerialize(),\n      tap(response => {\n        // eslint-disable-next-line  no-console\n        console.log('[MOCK]', request, response);\n      }),\n    );\n  }\n}\n\nexport interface MocksInterceptorConfiguration {\n  responseDelay: number;\n  enableMocksStorageKey: string;\n}\n\n/**\n * Create a HTTP_INTERCEPTOR to return mock responses for data modules.\n */\nexport function createMocksInterceptor(): Provider {\n  return [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: MocksInterceptor,\n      deps: [DataModulesManager],\n      multi: true,\n    },\n    {\n      provide: APP_BOOTSTRAP_LISTENER,\n      useValue: bootstrapMocksInterceptor,\n      multi: true,\n    },\n  ];\n}\n\nexport function bootstrapMocksInterceptor() {\n  if (!isDevMode()) {\n    console.warn('Mocks should not be enabled in a production environment.');\n  }\n}\n\n/**\n * @internal\n * @deprecated\n */\nexport function createMockInterceptor(examples: Array<MockExample>): Provider {\n  return createMocks(examples);\n}\n\n/**\n * Create mocks\n *\n * @param examples\n * @param serviceConfigToken\n */\nexport function createMocks(\n  examples: Array<MockExample>,\n  serviceConfigToken?: InjectionToken<ServiceDataHttpConfig>,\n): Provider {\n  return {\n    provide: MOCKS_EXAMPLES,\n    useValue: { examples, token: serviceConfigToken },\n    multi: true,\n  };\n}\n","import { HttpParams } from '@angular/common/http';\n\nexport interface PageParams {\n  from: number;\n  size: number;\n}\nnamespace PageParams {\n  export function equal(a: PageParams, b: PageParams): boolean {\n    return a.size === b.size && a.from === b.from;\n  }\n  export function toHttpParams(params: PageParams): HttpParams {\n    return new HttpParams({\n      fromObject: {\n        from: Math.floor(params.from).toString(),\n        size: Math.floor(params.size).toString(),\n      },\n    });\n  }\n}\nexport interface CursorParams {\n  cursor: string;\n  size?: number;\n}\nnamespace CursorParams {\n  export function equal(a: CursorParams, b: CursorParams): boolean {\n    return a.size === b.size && a.cursor === b.cursor;\n  }\n  export function toHttpParams(params: CursorParams): HttpParams {\n    return new HttpParams({\n      fromObject: {\n        from: params.cursor,\n        ...(params.size ? { size: Math.floor(params.size).toString() } : {}),\n      },\n    });\n  }\n}\nexport type PaginationParams = PageParams | CursorParams;\nexport namespace PaginationParams {\n  export function equal(a: PaginationParams, b: PaginationParams): boolean {\n    const cursorsEqual = isCursorParams(a) && isCursorParams(b) && CursorParams.equal(a, b);\n    const pagesEqual = isPageParams(a) && isPageParams(b) && PageParams.equal(a, b);\n    return cursorsEqual || pagesEqual;\n  }\n\n  export function isPageParams(params: PaginationParams): params is PageParams {\n    return (params as PageParams).from !== undefined;\n  }\n  export function isCursorParams(params: PaginationParams): params is CursorParams {\n    return (params as CursorParams).cursor !== undefined;\n  }\n\n  export function toHttpParams(params: PaginationParams): HttpParams {\n    return isPageParams(params) ? PageParams.toHttpParams(params) : CursorParams.toHttpParams(params);\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {CacheControlInterceptor as ɵl,cacheControlInterceptorProvider as ɵm} from './cache-control.interceptor';\nexport {EXTRA_ENCODE_URI_PARAMS as ɵg,httpParamsFactoryFactory as ɵh} from './custom-encoder.service';\nexport {DATA_HTTP_CUSTOM_CONFIG as ɵb} from './data-http-config';\nexport {dataHttpConfigFactory as ɵa} from './data-http.module';\nexport {MOCKS_EXAMPLES as ɵf,MockData as ɵe} from './mocks';\nexport {MocksInterceptor as ɵc,bootstrapMocksInterceptor as ɵd} from './mocks.interceptor.service';\nexport {RequestCacheInterceptor as ɵi,requestCacheInterceptorProvider as ɵj} from './request-cache.interceptor';\nexport {RequestCacheService as ɵk} from './request-cache.service';"],"names":["Injectable","HTTP_INTERCEPTORS","InjectionToken","HttpParams","PAGE_CONFIG","NgModule","FutureFeaturesModule","ɵ0","FeaturesService","MocksItem","Injector","Optional","Inject","throwError","HttpErrorResponse","observableOf","HttpResponse","materialize","delay","dematerialize","tap","APP_BOOTSTRAP_LISTENER","isDevMode","PaginationParams"],"mappings":"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"}