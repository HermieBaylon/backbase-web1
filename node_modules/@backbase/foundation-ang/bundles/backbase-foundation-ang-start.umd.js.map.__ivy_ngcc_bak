{"version":3,"file":"backbase-foundation-ang-start.umd.js","sources":["../../../../projects/backbase/foundation-ang/start/src/register-single-app.ts","../../../../projects/backbase/foundation-ang/start/src/backbase-foundation-ang-start.ts"],"sourcesContent":["import { NgModuleRef, StaticProvider } from '@angular/core';\nimport { BackbaseConnector } from '@backbase/foundation-ang/core';\nimport { ExternalServices, ÉµEXTERNAL_SERVICES as EXTERNAL_SERVICES } from '@backbase/foundation-ang/web-sdk';\n/**\n * @deprecated Will be removed in v7.0.0\n */\nexport type CreateNgModule = (extraProviders: Array<StaticProvider>) => Promise<NgModuleRef<any>>;\n\n/**\n * @deprecated Will be removed in v7.0.0\n */\nexport type StartSingleApp = (externalServices?: ExternalServices) => Promise<BackbaseConnector>;\n\n/**\n * @deprecated Will be removed in v7.0.0\n * Exposes Angular Single Page Application bootstrap method `window.BB.startSingleApp`\n * @param createNgModule Function that accepts StaticProviders and returns NgModuleRef\n * @usageNotes\n * ### Example\n *\n * ```\n * window.BB.startSingleApp = registerSingleApp(createNgModule);\n *\n * window.BB.startSingleApp(webSdkServices, staticProviders)\n *   .then((bbConnector: BackbaseConnector) => bbConector.bootstrap(item, itemLocation));\n * ```\n */\nexport function registerSingleApp(createNgModule: CreateNgModule): StartSingleApp {\n  const startSingleApp: StartSingleApp = (externalServices: ExternalServices = {}): Promise<BackbaseConnector> => {\n    const providers = [\n      {\n        provide: EXTERNAL_SERVICES,\n        useValue: externalServices,\n      },\n    ];\n    return createNgModule(providers).then(\n      (moduleRef: NgModuleRef<any>): BackbaseConnector => moduleRef.injector.get<BackbaseConnector>(BackbaseConnector),\n    );\n  };\n  window.BB = window.BB || {};\n  Object.assign(window.BB, { startSingleApp });\n  return startSingleApp;\n}\n\ndeclare global {\n  interface Window {\n    BB: { [key: string]: any };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EXTERNAL_SERVICES","BackbaseConnector"],"mappings":";;;;;;IAaA;;;;;;;;;;;;;IAaG;IACG,SAAU,iBAAiB,CAAC,cAA8B,EAAA;QAC9D,IAAM,cAAc,GAAmB,UAAC,gBAAuC,EAAA;IAAvC,QAAA,IAAA,gBAAA,KAAA,KAAA,CAAA,EAAA,EAAA,gBAAuC,GAAA,EAAA,CAAA,EAAA;IAC7E,QAAA,IAAM,SAAS,GAAG;IAChB,YAAA;IACE,gBAAA,OAAO,EAAEA,4BAAiB;IAC1B,gBAAA,QAAQ,EAAE,gBAAgB;IAC3B,aAAA;aACF,CAAC;YACF,OAAO,cAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CACnC,UAAC,SAA2B,EAAwB,EAAA,OAAA,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAoBC,sBAAiB,CAAC,CAAA,EAAA,CACjH,CAAC;IACJ,KAAC,CAAC;QACF,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC;IAC5B,IAAA,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,cAAc,EAAA,cAAA,EAAE,CAAC,CAAC;IAC7C,IAAA,OAAO,cAAc,CAAC;IACxB;;IC1CA;;IAEG;;;;;;;;;;;;;;"}