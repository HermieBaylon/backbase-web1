import { NgModule, ANALYZE_FOR_ENTRY_COMPONENTS, ComponentFactoryResolver } from '@angular/core';
import { SessionTimeoutService, SESSION_TIMEOUT_CONFIG } from './session-timeout.service';
export class SessionTimeoutModule {
    /**
     * Creates a configured SessionTimeoutModule.
     *
     * This should be called only once per app.
     *
     * @usageNotes
     *
     * ### Example
     *
     * ```
     * @NgModule({
     *   imports: [
     *     SessionTimeoutModule.forRoot({
     *       classMap: {
     *         sessionTimeoutComponentClass: MyCustomSessionTimeoutComponent,
     *         inactivityModalTime: 300,
     *       }
     *     })
     *   ]
     * })
     * class AppModule {}
     * ```
     */
    static forRoot(config) {
        return {
            ngModule: SessionTimeoutModule,
            providers: [
                {
                    provide: ANALYZE_FOR_ENTRY_COMPONENTS,
                    useValue: config.sessionTimeoutComponentClass,
                    multi: true,
                },
                {
                    provide: SESSION_TIMEOUT_CONFIG,
                    useValue: config,
                },
                {
                    provide: SessionTimeoutService,
                    useClass: SessionTimeoutService,
                    deps: [ComponentFactoryResolver, SESSION_TIMEOUT_CONFIG],
                },
            ],
        };
    }
}
SessionTimeoutModule.decorators = [
    { type: NgModule, args: [{},] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbi10aW1lb3V0Lm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2JhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUvc3JjL2JhY2tiYXNlLWNvcmUvc2Vzc2lvbi10aW1lb3V0L3Nlc3Npb24tdGltZW91dC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBdUIsNEJBQTRCLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdEgsT0FBTyxFQUFFLHFCQUFxQixFQUFFLHNCQUFzQixFQUF3QixNQUFNLDJCQUEyQixDQUFDO0FBR2hILE1BQU0sT0FBTyxvQkFBb0I7SUFDL0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FzQkc7SUFDSCxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQTRCO1FBQ3pDLE9BQU87WUFDTCxRQUFRLEVBQUUsb0JBQW9CO1lBQzlCLFNBQVMsRUFBRTtnQkFDVDtvQkFDRSxPQUFPLEVBQUUsNEJBQTRCO29CQUNyQyxRQUFRLEVBQUUsTUFBTSxDQUFDLDRCQUE0QjtvQkFDN0MsS0FBSyxFQUFFLElBQUk7aUJBQ1o7Z0JBQ0Q7b0JBQ0UsT0FBTyxFQUFFLHNCQUFzQjtvQkFDL0IsUUFBUSxFQUFFLE1BQU07aUJBQ2pCO2dCQUNEO29CQUNFLE9BQU8sRUFBRSxxQkFBcUI7b0JBQzlCLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLElBQUksRUFBRSxDQUFDLHdCQUF3QixFQUFFLHNCQUFzQixDQUFDO2lCQUN6RDthQUNGO1NBQ0YsQ0FBQztJQUNKLENBQUM7OztZQTdDRixRQUFRLFNBQUMsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzLCBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFNlc3Npb25UaW1lb3V0U2VydmljZSwgU0VTU0lPTl9USU1FT1VUX0NPTkZJRywgU2Vzc2lvblRpbWVvdXRDb25maWcgfSBmcm9tICcuL3Nlc3Npb24tdGltZW91dC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHt9KVxuZXhwb3J0IGNsYXNzIFNlc3Npb25UaW1lb3V0TW9kdWxlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb25maWd1cmVkIFNlc3Npb25UaW1lb3V0TW9kdWxlLlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBhcHAuXG4gICAqXG4gICAqIEB1c2FnZU5vdGVzXG4gICAqXG4gICAqICMjIyBFeGFtcGxlXG4gICAqXG4gICAqIGBgYFxuICAgKiBATmdNb2R1bGUoe1xuICAgKiAgIGltcG9ydHM6IFtcbiAgICogICAgIFNlc3Npb25UaW1lb3V0TW9kdWxlLmZvclJvb3Qoe1xuICAgKiAgICAgICBjbGFzc01hcDoge1xuICAgKiAgICAgICAgIHNlc3Npb25UaW1lb3V0Q29tcG9uZW50Q2xhc3M6IE15Q3VzdG9tU2Vzc2lvblRpbWVvdXRDb21wb25lbnQsXG4gICAqICAgICAgICAgaW5hY3Rpdml0eU1vZGFsVGltZTogMzAwLFxuICAgKiAgICAgICB9XG4gICAqICAgICB9KVxuICAgKiAgIF1cbiAgICogfSlcbiAgICogY2xhc3MgQXBwTW9kdWxlIHt9XG4gICAqIGBgYFxuICAgKi9cbiAgc3RhdGljIGZvclJvb3QoY29uZmlnOiBTZXNzaW9uVGltZW91dENvbmZpZyk6IE1vZHVsZVdpdGhQcm92aWRlcnM8U2Vzc2lvblRpbWVvdXRNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IFNlc3Npb25UaW1lb3V0TW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTLFxuICAgICAgICAgIHVzZVZhbHVlOiBjb25maWcuc2Vzc2lvblRpbWVvdXRDb21wb25lbnRDbGFzcyxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFNFU1NJT05fVElNRU9VVF9DT05GSUcsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFNlc3Npb25UaW1lb3V0U2VydmljZSxcbiAgICAgICAgICB1c2VDbGFzczogU2Vzc2lvblRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICAgIGRlcHM6IFtDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIFNFU1NJT05fVElNRU9VVF9DT05GSUddLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICB9XG59XG4iXX0=