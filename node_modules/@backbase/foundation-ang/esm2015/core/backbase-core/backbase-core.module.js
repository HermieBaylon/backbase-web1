import { CommonModule } from '@angular/common';
import { ANALYZE_FOR_ENTRY_COMPONENTS, APP_BOOTSTRAP_LISTENER, NgModule } from '@angular/core';
import { RouterModule } from '@angular/router';
// assets (todo: make an assets module)
import { AssetsService, CONFIG_ASSETS } from './assets/assets.service';
// bootstrap (todo: make a bootstrap module)
import { BackbaseConnector } from './bootstrap/backbase-connector.service';
// communication (todo: make a communication module)
import { ӨItemNavigationService } from './communication/item-navigation.service';
import { InputBrokerService, createInputBootstrap } from './communication/item-io/input-broker.service';
import { OutputBrokerService, createOutputBootstrap } from './communication/item-io/output-broker.service';
import { CONFIG_PIPELINE_PROCESSORS } from './communication/pipes/pipeline-registry';
import { debugProcessorConfig } from './communication/pipes/handlers/debug';
import { pluckProcessorConfig } from './communication/pipes/handlers/pluck';
import { routeParamsProcessorConfig } from './communication/pipes/handlers/route-param';
import { routeParamsMultiProcessorConfig } from './communication/pipes/handlers/route-param-multi';
import { itemNavigateProcessorConfig } from './communication/pipes/handlers/item-navigate';
import { modelProcessorConfig } from './communication/pipes/handlers/model';
import { appConfigProcessorConfig } from './communication/pipes/handlers/app-config';
import { urlProcessorConfig } from './communication/pipes/handlers/url';
import { routerNavigateProcessorConfig } from './communication/pipes/handlers/router-navigate';
// deprecated communications
import { FlowsService, CONFIG_FLOWS } from './communication/deprecated/flows.service';
import { ItemTransitionService } from './communication/deprecated/item-transition.service';
import { navigationProcessorConfig } from './communication/pipes/handlers/navigation';
// future
import { ENABLED_FEATURES_CONFIG } from '@backbase/foundation-ang/future';
import { LOG_DEPRECATIONS_CONFIG, DeprecationsService } from '@backbase/foundation-ang/future';
// models (todo: make a models module?)
import { RootItemModelService } from './models/root-item-model.service';
// rendering (todo: make a rendering module)
import { AreaComponent } from './rendering/area/area.component';
import { ChromeComponent } from './rendering/chrome/chrome.component';
import { JourneyComponent } from './rendering/chrome/journey.component';
import { RootComponent } from './rendering/root/root.component';
import { CONFIG_COMPONENT_CLASS_MAP, ItemRegistryService } from './rendering/item-registry.service';
import { ItemInjectorService } from './rendering/item-injector.service';
// routing (todo: create a separate routing module)
import { RouteComponent } from './routing/components/route.component';
import { RouterLinkDirective, RouterLinkWithHrefDirective } from './routing/directives/router-link.directive';
import { RouterLinkActiveDirective } from './routing/directives/router-link-active.directive';
import { RouterOutletDirective } from './routing/directives/router-outlet.directive';
import { OutletCollisionComponent } from './routing/components/outlet-collision.component';
import { RouterBootstrapService, createRouteConfigBootstrap } from './routing/config/router-bootstrap.service';
import { RouterNavigationService } from './routing/navigation/router-navigation.service';
import { RouteGuardsRegistryService, CONFIG_ROUTE_GUARDS } from './routing/guards/route-guards-registry.service';
import { RouterService } from './routing/navigation/router.service';
// config
import { createLogDeprecatedConfig, DEPRECATED_WITH_CONFIG, } from './core-config';
import { ItemLoaderService } from './rendering/item-loader.service';
import { LAZY_MAP } from './rendering/lazy-config';
import { CombinedComponentFactoryResolver } from './rendering/combined-component-factory-resolver';
import { memoryProcessorConfig } from './communication/pipes/handlers/memory';
import { AbstractRouterConfigService } from './routing/config/abstract-router-config.service';
import { RouterConfigService } from './routing/config/router-config.service';
const coreComponents = [
    RootComponent,
    AreaComponent,
    ChromeComponent,
    RouteComponent,
    OutletCollisionComponent,
    JourneyComponent,
];
const coreDirectives = [
    RouterLinkDirective,
    RouterLinkWithHrefDirective,
    RouterLinkActiveDirective,
    RouterOutletDirective,
];
const ɵ0 = createRouteConfigBootstrap, ɵ1 = createLogDeprecatedConfig, ɵ2 = createInputBootstrap, ɵ3 = createOutputBootstrap, ɵ5 = {
    RootComponent,
}, ɵ6 = [
    debugProcessorConfig,
    pluckProcessorConfig,
    routeParamsProcessorConfig,
    routeParamsMultiProcessorConfig,
    itemNavigateProcessorConfig,
    modelProcessorConfig,
    appConfigProcessorConfig,
    urlProcessorConfig,
    navigationProcessorConfig,
    memoryProcessorConfig,
    routerNavigateProcessorConfig,
], ɵ7 = {}, ɵ8 = [], ɵ9 = {}, ɵ10 = {};
export class BackbaseCoreModule {
    /**
     * Creates a module that will populate entryComponents with Components passed as classMap
     *
     * @usageNotes
     *
     * ### Example
     *
     * ```
     * @NgModule({
     *   imports: [
     *     BackbaseCoreModule.withConfig({
     *       classMap: {
     *         myClassId: MyComponent
     *       }
     *     })
     *   ]
     * })
     * class MyModule {}
     * ```
     */
    static withConfig(config) {
        return {
            ngModule: BackbaseCoreModule,
            providers: [
                {
                    provide: ANALYZE_FOR_ENTRY_COMPONENTS,
                    useValue: config.classMap || {},
                    multi: true,
                },
                {
                    provide: CONFIG_COMPONENT_CLASS_MAP,
                    useValue: config.classMap || {},
                    multi: true,
                },
                {
                    provide: CONFIG_ROUTE_GUARDS,
                    multi: true,
                    useValue: config.guards || {},
                },
                {
                    provide: CONFIG_PIPELINE_PROCESSORS,
                    useValue: config.pipelineProcessors || [],
                    multi: true,
                },
            ],
        };
    }
    /**
     * Creates a configured BackbaseCoreModule.
     *
     * This should be called only once per app.
     *
     * @usageNotes
     *
     * ### Example
     *
     * ```
     * @NgModule({
     *   imports: [
     *     BackbaseCoreModule.forRoot({
     *       classMap: {
     *         myClassId: MyComponent,
     *         logDeprecations: true,
     *       }
     *     })
     *   ]
     * })
     * class AppModule {}
     * ```
     */
    static forRoot(config) {
        return {
            ngModule: BackbaseCoreModule,
            providers: [
                {
                    provide: ANALYZE_FOR_ENTRY_COMPONENTS,
                    useValue: config.classMap || {},
                    multi: true,
                },
                {
                    provide: CONFIG_COMPONENT_CLASS_MAP,
                    useValue: config.classMap || {},
                    multi: true,
                },
                {
                    provide: CONFIG_FLOWS,
                    multi: true,
                    useValue: config.flows || [],
                },
                {
                    provide: CONFIG_ROUTE_GUARDS,
                    multi: true,
                    useValue: config.guards || {},
                },
                {
                    provide: CONFIG_ASSETS,
                    multi: false,
                    useValue: config.assets || {
                        assetsStaticItemName: '',
                    },
                },
                {
                    provide: LOG_DEPRECATIONS_CONFIG,
                    multi: false,
                    useValue: !!config.logDeprecations,
                },
                {
                    provide: ENABLED_FEATURES_CONFIG,
                    multi: false,
                    useValue: config.features || {},
                },
                {
                    provide: CONFIG_PIPELINE_PROCESSORS,
                    useValue: config.pipelineProcessors || [],
                    multi: true,
                },
                {
                    provide: LAZY_MAP,
                    useValue: config.lazyModules || undefined,
                    multi: false,
                },
            ],
        };
    }
}
BackbaseCoreModule.decorators = [
    { type: NgModule, args: [{
                imports: [CommonModule, RouterModule],
                declarations: [...coreComponents, ...coreDirectives],
                exports: [...coreComponents, ...coreDirectives],
                entryComponents: coreComponents,
                providers: [
                    RootItemModelService,
                    ItemRegistryService,
                    BackbaseConnector,
                    ӨItemNavigationService,
                    ItemTransitionService,
                    RouteGuardsRegistryService,
                    RouterNavigationService,
                    RouterService,
                    DeprecationsService,
                    OutputBrokerService,
                    InputBrokerService,
                    RouterBootstrapService,
                    ItemInjectorService,
                    FlowsService,
                    AssetsService,
                    ItemLoaderService,
                    CombinedComponentFactoryResolver,
                    {
                        provide: APP_BOOTSTRAP_LISTENER,
                        useFactory: ɵ0,
                        deps: [RouterBootstrapService],
                        multi: true,
                    },
                    {
                        provide: APP_BOOTSTRAP_LISTENER,
                        useFactory: ɵ1,
                        deps: [DeprecationsService, DEPRECATED_WITH_CONFIG],
                        multi: true,
                    },
                    {
                        provide: APP_BOOTSTRAP_LISTENER,
                        useFactory: ɵ2,
                        deps: [InputBrokerService],
                        multi: true,
                    },
                    {
                        provide: APP_BOOTSTRAP_LISTENER,
                        useFactory: ɵ3,
                        deps: [OutputBrokerService],
                        multi: true,
                    },
                    {
                        provide: CONFIG_COMPONENT_CLASS_MAP,
                        useValue: ɵ5,
                        multi: true,
                    },
                    {
                        provide: CONFIG_PIPELINE_PROCESSORS,
                        useValue: ɵ6,
                        multi: true,
                    },
                    {
                        provide: AbstractRouterConfigService,
                        useExisting: RouterConfigService,
                    },
                    // Defaults, overrided by forRoot and withConfig
                    {
                        provide: CONFIG_COMPONENT_CLASS_MAP,
                        useValue: ɵ7,
                        multi: true,
                    },
                    {
                        provide: CONFIG_FLOWS,
                        multi: true,
                        useValue: ɵ8,
                    },
                    {
                        provide: CONFIG_ROUTE_GUARDS,
                        multi: true,
                        useValue: ɵ9,
                    },
                    {
                        provide: DEPRECATED_WITH_CONFIG,
                        useValue: ɵ10,
                        multi: true,
                    },
                ],
            },] }
];
export { ɵ0, ɵ1, ɵ2, ɵ3, ɵ5, ɵ6, ɵ7, ɵ8, ɵ9, ɵ10 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2Jhc2UtY29yZS5tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9iYWNrYmFzZS9mb3VuZGF0aW9uLWFuZy9jb3JlL3NyYy9iYWNrYmFzZS1jb3JlL2JhY2tiYXNlLWNvcmUubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsc0JBQXNCLEVBQXVCLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwSCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsdUNBQXVDO0FBQ3ZDLE9BQU8sRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFdkUsNENBQTRDO0FBQzVDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBRTNFLG9EQUFvRDtBQUNwRCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUNqRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQUN4RyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUMzRyxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUNyRixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUM1RSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUM1RSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUN4RixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxrREFBa0QsQ0FBQztBQUNuRyxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFB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QUMzQixLQUFLLEVBQUUsSUFBSTtxQkFDWjtvQkFDRDt3QkFDRSxPQUFPLEVBQUUsMEJBQTBCO3dCQUNuQyxRQUFRLElBRVA7d0JBQ0QsS0FBSyxFQUFFLElBQUk7cUJBQ1o7b0JBQ0Q7d0JBQ0UsT0FBTyxFQUFFLDBCQUEwQjt3QkFDbkMsUUFBUSxJQVlQO3dCQUNELEtBQUssRUFBRSxJQUFJO3FCQUNaO29CQUNEO3dCQUNFLE9BQU8sRUFBRSwyQkFBMkI7d0JBQ3BDLFdBQVcsRUFBRSxtQkFBbUI7cUJBQ2pDO29CQUNELGdEQUFnRDtvQkFDaEQ7d0JBQ0UsT0FBTyxFQUFFLDBCQUEwQjt3QkFDbkMsUUFBUSxJQUFJO3dCQUNaLEtBQUssRUFBRSxJQUFJO3FCQUNaO29CQUNEO3dCQUNFLE9BQU8sRUFBRSxZQUFZO3dCQUNyQixLQUFLLEVBQUUsSUFBSTt3QkFDWCxRQUFRLElBQUk7cUJBQ2I7b0JBQ0Q7d0JBQ0UsT0FBTyxFQUFFLG1CQUFtQjt3QkFDNUIsS0FBSyxFQUFFLElBQUk7d0JBQ1gsUUFBUSxJQUFJO3FCQUNiO29CQUNEO3dCQUNFLE9BQU8sRUFBRSxzQkFBc0I7d0JBQy9CLFFBQVEsS0FBSTt3QkFDWixLQUFLLEVBQUUsSUFBSTtxQkFDWjtpQkFDRjthQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIEFQUF9CT09UU1RSQVBfTElTVEVORVIsIE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG4vLyBhc3NldHMgKHRvZG86IG1ha2UgYW4gYXNzZXRzIG1vZHVsZSlcbmltcG9ydCB7IEFzc2V0c1NlcnZpY2UsIENPTkZJR19BU1NFVFMgfSBmcm9tICcuL2Fzc2V0cy9hc3NldHMuc2VydmljZSc7XG5cbi8vIGJvb3RzdHJhcCAodG9kbzogbWFrZSBhIGJvb3RzdHJhcCBtb2R1bGUpXG5pbXBvcnQgeyBCYWNrYmFzZUNvbm5lY3RvciB9IGZyb20gJy4vYm9vdHN0cmFwL2JhY2tiYXNlLWNvbm5lY3Rvci5zZXJ2aWNlJztcblxuLy8gY29tbXVuaWNhdGlvbiAodG9kbzogbWFrZSBhIGNvbW11bmljYXRpb24gbW9kdWxlKVxuaW1wb3J0IHsg06hJdGVtTmF2aWdhdGlvblNlcnZpY2UgfSBmcm9tICcuL2NvbW11bmljYXRpb24vaXRlbS1uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5wdXRCcm9rZXJTZXJ2aWNlLCBjcmVhdGVJbnB1dEJvb3RzdHJhcCB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9pdGVtLWlvL2lucHV0LWJyb2tlci5zZXJ2aWNlJztcbmltcG9ydCB7IE91dHB1dEJyb2tlclNlcnZpY2UsIGNyZWF0ZU91dHB1dEJvb3RzdHJhcCB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9pdGVtLWlvL291dHB1dC1icm9rZXIuc2VydmljZSc7XG5pbXBvcnQgeyBDT05GSUdfUElQRUxJTkVfUFJPQ0VTU09SUyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9waXBlbGluZS1yZWdpc3RyeSc7XG5pbXBvcnQgeyBkZWJ1Z1Byb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9kZWJ1Zyc7XG5pbXBvcnQgeyBwbHVja1Byb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9wbHVjayc7XG5pbXBvcnQgeyByb3V0ZVBhcmFtc1Byb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9yb3V0ZS1wYXJhbSc7XG5pbXBvcnQgeyByb3V0ZVBhcmFtc011bHRpUHJvY2Vzc29yQ29uZmlnIH0gZnJvbSAnLi9jb21tdW5pY2F0aW9uL3BpcGVzL2hhbmRsZXJzL3JvdXRlLXBhcmFtLW11bHRpJztcbmltcG9ydCB7IGl0ZW1OYXZpZ2F0ZVByb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9pdGVtLW5hdmlnYXRlJztcbmltcG9ydCB7IG1vZGVsUHJvY2Vzc29yQ29uZmlnIH0gZnJvbSAnLi9jb21tdW5pY2F0aW9uL3BpcGVzL2hhbmRsZXJzL21vZGVsJztcbmltcG9ydCB7IGFwcENvbmZpZ1Byb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9hcHAtY29uZmlnJztcbmltcG9ydCB7IHVybFByb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy91cmwnO1xuaW1wb3J0IHsgcm91dGVyTmF2aWdhdGVQcm9jZXNzb3JDb25maWcgfSBmcm9tICcuL2NvbW11bmljYXRpb24vcGlwZXMvaGFuZGxlcnMvcm91dGVyLW5hdmlnYXRlJztcbi8vIGRlcHJlY2F0ZWQgY29tbXVuaWNhdGlvbnNcbmltcG9ydCB7IEZsb3dzU2VydmljZSwgQ09ORklHX0ZMT1dTIH0gZnJvbSAnLi9jb21tdW5pY2F0aW9uL2RlcHJlY2F0ZWQvZmxvd3Muc2VydmljZSc7XG5pbXBvcnQgeyBJdGVtVHJhbnNpdGlvblNlcnZpY2UgfSBmcm9tICcuL2NvbW11bmljYXRpb24vZGVwcmVjYXRlZC9pdGVtLXRyYW5zaXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBuYXZpZ2F0aW9uUHJvY2Vzc29yQ29uZmlnIH0gZnJvbSAnLi9jb21tdW5pY2F0aW9uL3BpcGVzL2hhbmRsZXJzL25hdmlnYXRpb24nO1xuXG4vLyBmdXR1cmVcbmltcG9ydCB7IEVOQUJMRURfRkVBVFVSRVNfQ09ORklHIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2Z1dHVyZSc7XG5pbXBvcnQgeyBMT0dfREVQUkVDQVRJT05TX0NPTkZJRywgRGVwcmVjYXRpb25zU2VydmljZSB9IGZyb20gJ0BiYWNrYmFzZS9mb3VuZGF0aW9uLWFuZy9mdXR1cmUnO1xuXG4vLyBtb2RlbHMgKHRvZG86IG1ha2UgYSBtb2RlbHMgbW9kdWxlPylcbmltcG9ydCB7IFJvb3RJdGVtTW9kZWxTZXJ2aWNlIH0gZnJvbSAnLi9tb2RlbHMvcm9vdC1pdGVtLW1vZGVsLnNlcnZpY2UnO1xuXG4vLyByZW5kZXJpbmcgKHRvZG86IG1ha2UgYSByZW5kZXJpbmcgbW9kdWxlKVxuaW1wb3J0IHsgQXJlYUNvbXBvbmVudCB9IGZyb20gJy4vcmVuZGVyaW5nL2FyZWEvYXJlYS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2hyb21lQ29tcG9uZW50IH0gZnJvbSAnLi9yZW5kZXJpbmcvY2hyb21lL2Nocm9tZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgSm91cm5leUNvbXBvbmVudCB9IGZyb20gJy4vcmVuZGVyaW5nL2Nocm9tZS9qb3VybmV5LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBSb290Q29tcG9uZW50IH0gZnJvbSAnLi9yZW5kZXJpbmcvcm9vdC9yb290LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDT05GSUdfQ09NUE9ORU5UX0NMQVNTX01BUCwgSXRlbVJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vcmVuZGVyaW5nL2l0ZW0tcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQgeyBJdGVtSW5qZWN0b3JTZXJ2aWNlIH0gZnJvbSAnLi9yZW5kZXJpbmcvaXRlbS1pbmplY3Rvci5zZXJ2aWNlJztcblxuLy8gcm91dGluZyAodG9kbzogY3JlYXRlIGEgc2VwYXJhdGUgcm91dGluZyBtb2R1bGUpXG5pbXBvcnQgeyBSb3V0ZUNvbXBvbmVudCB9IGZyb20gJy4vcm91dGluZy9jb21wb25lbnRzL3JvdXRlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBSb3V0ZXJMaW5rRGlyZWN0aXZlLCBSb3V0ZXJMaW5rV2l0aEhyZWZEaXJlY3RpdmUgfSBmcm9tICcuL3JvdXRpbmcvZGlyZWN0aXZlcy9yb3V0ZXItbGluay5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgUm91dGVyTGlua0FjdGl2ZURpcmVjdGl2ZSB9IGZyb20gJy4vcm91dGluZy9kaXJlY3RpdmVzL3JvdXRlci1saW5rLWFjdGl2ZS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgUm91dGVyT3V0bGV0RGlyZWN0aXZlIH0gZnJvbSAnLi9yb3V0aW5nL2RpcmVjdGl2ZXMvcm91dGVyLW91dGxldC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgT3V0bGV0Q29sbGlzaW9uQ29tcG9uZW50IH0gZnJvbSAnLi9yb3V0aW5nL2NvbXBvbmVudHMvb3V0bGV0LWNvbGxpc2lvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgUm91dGVyQm9vdHN0cmFwU2VydmljZSwgY3JlYXRlUm91dGVDb25maWdCb290c3RyYXAgfSBmcm9tICcuL3JvdXRpbmcvY29uZmlnL3JvdXRlci1ib290c3RyYXAuc2VydmljZSc7XG5pbXBvcnQgeyBSb3V0ZXJOYXZpZ2F0aW9uU2VydmljZSB9IGZyb20gJy4vcm91dGluZy9uYXZpZ2F0aW9uL3JvdXRlci1uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgUm91dGVHdWFyZHNSZWdpc3RyeVNlcnZpY2UsIENPTkZJR19ST1VURV9HVUFSRFMgfSBmcm9tICcuL3JvdXRpbmcvZ3VhcmRzL3JvdXRlLWd1YXJkcy1yZWdpc3RyeS5zZXJ2aWNlJztcbmltcG9ydCB7IFJvdXRlclNlcnZpY2UgfSBmcm9tICcuL3JvdXRpbmcvbmF2aWdhdGlvbi9yb3V0ZXIuc2VydmljZSc7XG5cbi8vIGNvbmZpZ1xuaW1wb3J0IHtcbiAgQmFja2Jhc2VDb3JlQ29uZmlndXJhdGlvbixcbiAgQmFja2Jhc2VSb290Q29uZmlndXJhdGlvbixcbiAgY3JlYXRlTG9nRGVwcmVjYXRlZENvbmZpZyxcbiAgREVQUkVDQVRFRF9XSVRIX0NPTkZJRyxcbn0gZnJvbSAnLi9jb3JlLWNvbmZpZyc7XG5pbXBvcnQgeyBJdGVtTG9hZGVyU2VydmljZSB9IGZyb20gJy4vcmVuZGVyaW5nL2l0ZW0tbG9hZGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgTEFaWV9NQVAgfSBmcm9tICcuL3JlbmRlcmluZy9sYXp5LWNvbmZpZyc7XG5pbXBvcnQgeyBDb21iaW5lZENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9IGZyb20gJy4vcmVuZGVyaW5nL2NvbWJpbmVkLWNvbXBvbmVudC1mYWN0b3J5LXJlc29sdmVyJztcbmltcG9ydCB7IG1lbW9yeVByb2Nlc3NvckNvbmZpZyB9IGZyb20gJy4vY29tbXVuaWNhdGlvbi9waXBlcy9oYW5kbGVycy9tZW1vcnknO1xuXG5pbXBvcnQgeyBBYnN0cmFjdFJvdXRlckNvbmZpZ1NlcnZpY2UgfSBmcm9tICcuL3JvdXRpbmcvY29uZmlnL2Fic3RyYWN0LXJvdXRlci1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBSb3V0ZXJDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi9yb3V0aW5nL2NvbmZpZy9yb3V0ZXItY29uZmlnLnNlcnZpY2UnO1xuXG5jb25zdCBjb3JlQ29tcG9uZW50cyA9IFtcbiAgUm9vdENvbXBvbmVudCxcbiAgQXJlYUNvbXBvbmVudCxcbiAgQ2hyb21lQ29tcG9uZW50LFxuICBSb3V0ZUNvbXBvbmVudCxcbiAgT3V0bGV0Q29sbGlzaW9uQ29tcG9uZW50LFxuICBKb3VybmV5Q29tcG9uZW50LFxuXTtcblxuY29uc3QgY29yZURpcmVjdGl2ZXMgPSBbXG4gIFJvdXRlckxpbmtEaXJlY3RpdmUsXG4gIFJvdXRlckxpbmtXaXRoSHJlZkRpcmVjdGl2ZSxcbiAgUm91dGVyTGlua0FjdGl2ZURpcmVjdGl2ZSxcbiAgUm91dGVyT3V0bGV0RGlyZWN0aXZlLFxuXTtcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgUm91dGVyTW9kdWxlXSxcbiAgZGVjbGFyYXRpb25zOiBbLi4uY29yZUNvbXBvbmVudHMsIC4uLmNvcmVEaXJlY3RpdmVzXSxcbiAgZXhwb3J0czogWy4uLmNvcmVDb21wb25lbnRzLCAuLi5jb3JlRGlyZWN0aXZlc10sXG4gIGVudHJ5Q29tcG9uZW50czogY29yZUNvbXBvbmVudHMsXG4gIHByb3ZpZGVyczogW1xuICAgIFJvb3RJdGVtTW9kZWxTZXJ2aWNlLFxuICAgIEl0ZW1SZWdpc3RyeVNlcnZpY2UsXG4gICAgQmFja2Jhc2VDb25uZWN0b3IsXG4gICAg06hJdGVtTmF2aWdhdGlvblNlcnZpY2UsXG4gICAgSXRlbVRyYW5zaXRpb25TZXJ2aWNlLFxuICAgIFJvdXRlR3VhcmRzUmVnaXN0cnlTZXJ2aWNlLFxuICAgIFJvdXRlck5hdmlnYXRpb25TZXJ2aWNlLFxuICAgIFJvdXRlclNlcnZpY2UsXG4gICAgRGVwcmVjYXRpb25zU2VydmljZSxcbiAgICBPdXRwdXRCcm9rZXJTZXJ2aWNlLFxuICAgIElucHV0QnJva2VyU2VydmljZSxcbiAgICBSb3V0ZXJCb290c3RyYXBTZXJ2aWNlLFxuICAgIEl0ZW1JbmplY3RvclNlcnZpY2UsXG4gICAgRmxvd3NTZXJ2aWNlLFxuICAgIEFzc2V0c1NlcnZpY2UsXG4gICAgSXRlbUxvYWRlclNlcnZpY2UsXG4gICAgQ29tYmluZWRDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0JPT1RTVFJBUF9MSVNURU5FUixcbiAgICAgIHVzZUZhY3Rvcnk6IGNyZWF0ZVJvdXRlQ29uZmlnQm9vdHN0cmFwLFxuICAgICAgZGVwczogW1JvdXRlckJvb3RzdHJhcFNlcnZpY2VdLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLFxuICAgICAgdXNlRmFjdG9yeTogY3JlYXRlTG9nRGVwcmVjYXRlZENvbmZpZyxcbiAgICAgIGRlcHM6IFtEZXByZWNhdGlvbnNTZXJ2aWNlLCBERVBSRUNBVEVEX1dJVEhfQ09ORklHXSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0JPT1RTVFJBUF9MSVNURU5FUixcbiAgICAgIHVzZUZhY3Rvcnk6IGNyZWF0ZUlucHV0Qm9vdHN0cmFwLFxuICAgICAgZGVwczogW0lucHV0QnJva2VyU2VydmljZV0sXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IEFQUF9CT09UU1RSQVBfTElTVEVORVIsXG4gICAgICB1c2VGYWN0b3J5OiBjcmVhdGVPdXRwdXRCb290c3RyYXAsXG4gICAgICBkZXBzOiBbT3V0cHV0QnJva2VyU2VydmljZV0sXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IENPTkZJR19DT01QT05FTlRfQ0xBU1NfTUFQLFxuICAgICAgdXNlVmFsdWU6IHtcbiAgICAgICAgUm9vdENvbXBvbmVudCxcbiAgICAgIH0sXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IENPTkZJR19QSVBFTElORV9QUk9DRVNTT1JTLFxuICAgICAgdXNlVmFsdWU6IFtcbiAgICAgICAgZGVidWdQcm9jZXNzb3JDb25maWcsXG4gICAgICAgIHBsdWNrUHJvY2Vzc29yQ29uZmlnLFxuICAgICAgICByb3V0ZVBhcmFtc1Byb2Nlc3NvckNvbmZpZyxcbiAgICAgICAgcm91dGVQYXJhbXNNdWx0aVByb2Nlc3NvckNvbmZpZyxcbiAgICAgICAgaXRlbU5hdmlnYXRlUHJvY2Vzc29yQ29uZmlnLFxuICAgICAgICBtb2RlbFByb2Nlc3NvckNvbmZpZyxcbiAgICAgICAgYXBwQ29uZmlnUHJvY2Vzc29yQ29uZmlnLFxuICAgICAgICB1cmxQcm9jZXNzb3JDb25maWcsXG4gICAgICAgIG5hdmlnYXRpb25Qcm9jZXNzb3JDb25maWcsXG4gICAgICAgIG1lbW9yeVByb2Nlc3NvckNvbmZpZyxcbiAgICAgICAgcm91dGVyTmF2aWdhdGVQcm9jZXNzb3JDb25maWcsXG4gICAgICBdLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBYnN0cmFjdFJvdXRlckNvbmZpZ1NlcnZpY2UsXG4gICAgICB1c2VFeGlzdGluZzogUm91dGVyQ29uZmlnU2VydmljZSxcbiAgICB9LFxuICAgIC8vIERlZmF1bHRzLCBvdmVycmlkZWQgYnkgZm9yUm9vdCBhbmQgd2l0aENvbmZpZ1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IENPTkZJR19DT01QT05FTlRfQ0xBU1NfTUFQLFxuICAgICAgdXNlVmFsdWU6IHt9LFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBDT05GSUdfRkxPV1MsXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgIHVzZVZhbHVlOiBbXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IENPTkZJR19ST1VURV9HVUFSRFMsXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgIHVzZVZhbHVlOiB7fSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IERFUFJFQ0FURURfV0lUSF9DT05GSUcsXG4gICAgICB1c2VWYWx1ZToge30sXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBCYWNrYmFzZUNvcmVNb2R1bGUge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG1vZHVsZSB0aGF0IHdpbGwgcG9wdWxhdGUgZW50cnlDb21wb25lbnRzIHdpdGggQ29tcG9uZW50cyBwYXNzZWQgYXMgY2xhc3NNYXBcbiAgICpcbiAgICogQHVzYWdlTm90ZXNcbiAgICpcbiAgICogIyMjIEV4YW1wbGVcbiAgICpcbiAgICogYGBgXG4gICAqIEBOZ01vZHVsZSh7XG4gICAqICAgaW1wb3J0czogW1xuICAgKiAgICAgQmFja2Jhc2VDb3JlTW9kdWxlLndpdGhDb25maWcoe1xuICAgKiAgICAgICBjbGFzc01hcDoge1xuICAgKiAgICAgICAgIG15Q2xhc3NJZDogTXlDb21wb25lbnRcbiAgICogICAgICAgfVxuICAgKiAgICAgfSlcbiAgICogICBdXG4gICAqIH0pXG4gICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAqIGBgYFxuICAgKi9cbiAgc3RhdGljIHdpdGhDb25maWcoY29uZmlnOiBCYWNrYmFzZUNvcmVDb25maWd1cmF0aW9uKTogTW9kdWxlV2l0aFByb3ZpZGVyczxCYWNrYmFzZUNvcmVNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IEJhY2tiYXNlQ29yZU1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyxcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnLmNsYXNzTWFwIHx8IHt9LFxuICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQ09ORklHX0NPTVBPTkVOVF9DTEFTU19NQVAsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZy5jbGFzc01hcCB8fCB7fSxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IENPTkZJR19ST1VURV9HVUFSRFMsXG4gICAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZy5ndWFyZHMgfHwge30sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBDT05GSUdfUElQRUxJTkVfUFJPQ0VTU09SUyxcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnLnBpcGVsaW5lUHJvY2Vzc29ycyB8fCBbXSxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29uZmlndXJlZCBCYWNrYmFzZUNvcmVNb2R1bGUuXG4gICAqXG4gICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIGFwcC5cbiAgICpcbiAgICogQHVzYWdlTm90ZXNcbiAgICpcbiAgICogIyMjIEV4YW1wbGVcbiAgICpcbiAgICogYGBgXG4gICAqIEBOZ01vZHVsZSh7XG4gICAqICAgaW1wb3J0czogW1xuICAgKiAgICAgQmFja2Jhc2VDb3JlTW9kdWxlLmZvclJvb3Qoe1xuICAgKiAgICAgICBjbGFzc01hcDoge1xuICAgKiAgICAgICAgIG15Q2xhc3NJZDogTXlDb21wb25lbnQsXG4gICAqICAgICAgICAgbG9nRGVwcmVjYXRpb25zOiB0cnVlLFxuICAgKiAgICAgICB9XG4gICAqICAgICB9KVxuICAgKiAgIF1cbiAgICogfSlcbiAgICogY2xhc3MgQXBwTW9kdWxlIHt9XG4gICAqIGBgYFxuICAgKi9cbiAgc3RhdGljIGZvclJvb3QoY29uZmlnOiBCYWNrYmFzZVJvb3RDb25maWd1cmF0aW9uKTogTW9kdWxlV2l0aFByb3ZpZGVyczxCYWNrYmFzZUNvcmVNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IEJhY2tiYXNlQ29yZU1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyxcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnLmNsYXNzTWFwIHx8IHt9LFxuICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQ09ORklHX0NPTVBPTkVOVF9DTEFTU19NQVAsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZy5jbGFzc01hcCB8fCB7fSxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IENPTkZJR19GTE9XUyxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnLmZsb3dzIHx8IFtdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQ09ORklHX1JPVVRFX0dVQVJEUyxcbiAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgICB1c2VWYWx1ZTogY29uZmlnLmd1YXJkcyB8fCB7fSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IENPTkZJR19BU1NFVFMsXG4gICAgICAgICAgbXVsdGk6IGZhbHNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBjb25maWcuYXNzZXRzIHx8IHtcbiAgICAgICAgICAgIGFzc2V0c1N0YXRpY0l0ZW1OYW1lOiAnJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogTE9HX0RFUFJFQ0FUSU9OU19DT05GSUcsXG4gICAgICAgICAgbXVsdGk6IGZhbHNlLFxuICAgICAgICAgIHVzZVZhbHVlOiAhIWNvbmZpZy5sb2dEZXByZWNhdGlvbnMsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBFTkFCTEVEX0ZFQVRVUkVTX0NPTkZJRyxcbiAgICAgICAgICBtdWx0aTogZmFsc2UsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZy5mZWF0dXJlcyB8fCB7fSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IENPTkZJR19QSVBFTElORV9QUk9DRVNTT1JTLFxuICAgICAgICAgIHVzZVZhbHVlOiBjb25maWcucGlwZWxpbmVQcm9jZXNzb3JzIHx8IFtdLFxuICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogTEFaWV9NQVAsXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZy5sYXp5TW9kdWxlcyB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgbXVsdGk6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICB9XG59XG4iXX0=