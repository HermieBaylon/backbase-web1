{"version":3,"file":"transactions-list.component.js","sourceRoot":"","sources":["../../../../../../libs/accounts-transactions-journey/src/lib/views/transactions-list.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AAEzD,OAAO,EAAE,kCAAkC,EAAE,MAAM,iDAAiD,CAAC;AACrG,OAAO,EAAE,yBAAyB,EAAE,MAAM,wCAAwC,CAAC;;;;;;AA8BnF,MAAM,OAAO,yBAAyB;IACpC,YACW,MAA0C,EAClC,MAAc,EACd,KAAqB,EACrB,MAAiC;QAHzC,WAAM,GAAN,MAAM,CAAoC;QAClC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAA2B;QAElD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5C,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc,CAAC,WAAwB;QACrC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,EAAE,aAAa,EAAE,WAAW,CAAC,EAAE,EAAE,CAAC,EAAE;YACpE,UAAU,EAAE,IAAI,CAAC,KAAK;SACvB,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,gBAAyC;QAC1D,IAAI,gBAAgB,EAAE;YACpB,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SACrD;IACH,CAAC;IAED,QAAQ;QACN,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE;YAC9F,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;SACvF;IACH,CAAC;;0IA/BU,yBAAyB;8HAAzB,yBAAyB,iEA1B1B;;;;;;;;;;;;;;;;;;;;;;;;GAwBT;4FAEU,yBAAyB;kBA5BrC,SAAS;mBAAC;oBACT,QAAQ,EAAE,2BAA2B;oBACrC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;GAwBT;iBACF","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Transaction, TransactionsList } from '@backbase/transactions-common-ang';\nimport { AccountsTransactionsJourneyService } from '../accounts-transactions-journey-config.service';\nimport { TransactionsHelperService } from '../transactions-details-helper.service';\n\n@Component({\n  selector: 'bb-transactions-list-view',\n  template: `\n    <bb-transactions-list-widget\n      [googleAPIKey]=\"config.apiKey\"\n      [pageSize]=\"config.itemsPerPage\"\n      [maxNavPages]=\"config.transactionsMaxPages\"\n      [paginationType]=\"config.paginationType\"\n      [showPendingTransactionsOnTop]=\"config.pendingOnTop\"\n      [initialFilterOptions]=\"config.transactionsFilterParameters\"\n      [initialSortOptions]=\"config.transactionsSortOptions\"\n      [showControls]=\"true\"\n      [showChangeCategory]=\"true\"\n      [showCheckImage]=\"config.showCheckImages\"\n      [getOrPostEndpoints]=\"config.getOrPostEndpoints\"\n      [enableDisputeAndInquiry]=\"config.enableDisputeAndInquiry\"\n      [disputeEligibilityDays]=\"config.disputeEligibilityDays\"\n      [disputeTransactionTypes]=\"config.disputeTransactionTypes\"\n      [disputeByBillingStatus]=\"config.disputeByBillingStatus\"\n      [inquireTopicId]=\"config.inquireTopicId\"\n      [disputeTopicId]=\"config.disputeTopicId\"\n      [availableFiltersConfig]=\"config.availableFiltersConfig\"\n      (transactionSelected)=\"getTransaction($event)\"\n      (transactionsLoaded)=\"transactionsLoaded($event)\"\n    ></bb-transactions-list-widget>\n    <router-outlet></router-outlet>\n  `,\n})\nexport class TransactionsListComponent implements OnInit {\n  constructor(\n    readonly config: AccountsTransactionsJourneyService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n    private readonly shared: TransactionsHelperService,\n  ) {\n    this.shared.onCloseDetail.subscribe((event) => {\n      if (event) {\n        this.router.navigate(['../list'], { relativeTo: this.route });\n      }\n    });\n  }\n\n  getTransaction(transaction: Transaction) {\n    this.shared.setTransactionId(transaction.id || '');\n    this.router.navigate(['./detail', { transactionId: transaction.id }], {\n      relativeTo: this.route,\n    });\n  }\n\n  transactionsLoaded(transactionsList: TransactionsList | null) {\n    if (transactionsList) {\n      this.shared.setTransactions(transactionsList.items);\n    }\n  }\n\n  ngOnInit() {\n    if (this.route.snapshot.children[0] && this.route.snapshot.children[0].params['transactionId']) {\n      this.shared.setTransactionId(this.route.snapshot.children[0].params['transactionId']);\n    }\n  }\n}\n"]}