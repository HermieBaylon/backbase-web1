import { Component } from '@angular/core';
import { ProductSummaryAccountsService } from '@backbase/product-summary-common-ang';
import { AccountService } from '@backbase/product-summary-details-widget-ang';
import { AccountsTransactionsJourneyService } from '../../accounts-transactions-journey-config.service';
import * as i0 from "@angular/core";
import * as i1 from "../../accounts-transactions-journey-config.service";
import * as i2 from "@backbase/product-summary-details-widget-ang";
import * as i3 from "./account-info-container/account-info-container.component";
import * as i4 from "@angular/common";
/**
 * Accounts Transactions journey Info View
 */
export class AccountInfoViewComponent {
    /**
     * @internal
     * @param configurationService
     */
    constructor(configurationService) {
        this.configurationService = configurationService;
    }
    /**
     * Returns properties configuration for a given account
     * @param account
     */
    getAccountProperties(account) {
        var _a, _b;
        const configuration = this.configurationService.accountInfoProperties;
        const kindUri = ((_b = (_a = account.product) === null || _a === void 0 ? void 0 : _a.productKind) === null || _b === void 0 ? void 0 : _b.kindUri) || 'default';
        return kindUri in configuration ? configuration[kindUri] : configuration.default;
    }
}
/** @nocollapse */ AccountInfoViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: AccountInfoViewComponent, deps: [{ token: i1.AccountsTransactionsJourneyService }], target: i0.ɵɵFactoryTarget.Component });
/** @nocollapse */ AccountInfoViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: AccountInfoViewComponent, selector: "bb-account-info", providers: [AccountService, ProductSummaryAccountsService], ngImport: i0, template: "<bb-product-summary-details></bb-product-summary-details>\n\n<ng-template bbProductSummaryDetailsViewCustomizable let-hostRef let-account=\"context\">\n  <ng-container\n    bbProductSummaryDetailsHeaderCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"account\"\n  ></ng-container>\n  <ng-container bbProductSummaryDetailsCustomizable [bbHostRef]=\"hostRef\" [bbTemplateContext]=\"account\"></ng-container>\n  <ng-template bbProductSummaryDetailsCreditCardCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsCurrentAccountCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsDebitCardCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsInvestmentAccountCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsLoanCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsOtherCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsSavingsAccountCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n  <ng-template bbProductSummaryDetailsTermDepositCustomizable>\n    <ng-container *ngTemplateOutlet=\"accountInfo; context: { hostRef: hostRef, account: account }\"></ng-container>\n  </ng-template>\n</ng-template>\n\n<ng-template #accountInfo let-hostRef=\"hostRef\" let-account=\"account\">\n  <bb-account-info-container\n    [account]=\"account\"\n    [propertiesConfiguration]=\"getAccountProperties(account)\"\n    [attributesConfiguration]=\"hostRef.maskableAttributes\"\n    (mask)=\"\n      $event.masked\n        ? hostRef.onMaskAttribute($event.attributeName, account)\n        : hostRef.onUnmaskAttribute($event.attributeName, account)\n    \"\n  ></bb-account-info-container>\n</ng-template>\n", components: [{ type: i2.ProductSummaryDetailsComponent, selector: "bb-product-summary-details" }, { type: i3.AccountInfoContainerComponent, selector: "bb-account-info-container", inputs: ["account", "propertiesConfiguration", "currencyFormat", "dateFormat", "attributesConfiguration"], outputs: ["mask"] }], directives: [{ type: i2.ProductSummaryDetailsViewCustomizableDirective, selector: "[bbProductSummaryDetailsViewCustomizable]" }, { type: i2.ProductSummaryDetailsHeaderCustomizableDirective, selector: "[bbProductSummaryDetailsHeaderCustomizable]" }, { type: i2.ProductSummaryDetailsCustomizableDirective, selector: "[bbProductSummaryDetailsCustomizable]" }, { type: i2.ProductSummaryDetailsCreditCardCustomizableDirective, selector: "[bbProductSummaryDetailsCreditCardCustomizable]" }, { type: i4.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i2.ProductSummaryDetailsCurrentAccountCustomizableDirective, selector: "[bbProductSummaryDetailsCurrentAccountCustomizable]" }, { type: i2.ProductSummaryDetailsDebitCardCustomizableDirective, selector: "[bbProductSummaryDetailsDebitCardCustomizable]" }, { type: i2.ProductSummaryDetailsInvestmentAccountCustomizableDirective, selector: "[bbProductSummaryDetailsInvestmentAccountCustomizable]" }, { type: i2.ProductSummaryDetailsLoanCustomizableDirective, selector: "[bbProductSummaryDetailsLoanCustomizable]" }, { type: i2.ProductSummaryDetailsOtherCustomizableDirective, selector: "[bbProductSummaryDetailsOtherCustomizable]" }, { type: i2.ProductSummaryDetailsSavingsAccountCustomizableDirective, selector: "[bbProductSummaryDetailsSavingsAccountCustomizable]" }, { type: i2.ProductSummaryDetailsTermDepositCustomizableDirective, selector: "[bbProductSummaryDetailsTermDepositCustomizable]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: AccountInfoViewComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-account-info',
                    templateUrl: 'account-info-view.component.html',
                    providers: [AccountService, ProductSummaryAccountsService],
                }]
        }], ctorParameters: function () { return [{ type: i1.AccountsTransactionsJourneyService }]; } });
//# sourceMappingURL=account-info-view.component.js.map