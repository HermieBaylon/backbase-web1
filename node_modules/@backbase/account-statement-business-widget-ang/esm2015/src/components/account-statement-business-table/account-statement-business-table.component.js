import { ChangeDetectionStrategy, Component, Directive, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { mimeTypeExtensions, } from '@backbase/account-statement-common-ang';
import { BbTemplate } from '@backbase/foundation-ang/core';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/account-statement-common-ang";
import * as i2 from "@backbase/ui-ang/notification";
import * as i3 from "../../services/account-statement-business-properties.service";
import * as i4 from "../account-statement-view-online-business-wrapper/account-statement-view-online-business-wrapper.component";
import * as i5 from "@backbase/ui-ang/loading-indicator";
import * as i6 from "@backbase/ui-ang/table";
import * as i7 from "@angular/common";
import * as i8 from "@backbase/ui-ang/date-pipe";
export class AccountStatementBusinessTableComponent {
    constructor(dataService, notificationsService, propertiesService) {
        this.dataService = dataService;
        this.notificationsService = notificationsService;
        this.propertiesService = propertiesService;
        this.loading = false;
        this.showCategory = true;
        this.sort = new EventEmitter();
        this.mimeTypeExtensions = mimeTypeExtensions;
        this.accountStatementsValue = [];
    }
    set accountStatements(accountStatements) {
        this.accountStatementsValue = accountStatements.map(accountStatement => (Object.assign(Object.assign({}, accountStatement), { documents: accountStatement.documents.map(document => (Object.assign(Object.assign({}, document), { url: this.getDocumentLink(document) }))) })));
    }
    get accountStatements() {
        return this.accountStatementsValue;
    }
    onSort(sortEvent) {
        this.sort.emit(sortEvent);
    }
    onDownloadFailure() {
        this.propertiesService.notificationDismissTime$.subscribe(ttl => {
            this.notificationsService.showNotification({
                header: this.downloadFailureNotificationHeader,
                message: '',
                modifier: 'error',
                ttl,
            });
        });
    }
    getDirection(column) {
        return this.sortingParams && this.sortingParams.column === column ? this.sortingParams.direction : '';
    }
    getDocumentLink(document) {
        return document.url || this.dataService.getAccountStatementDownloadUrl(document.uid || '');
    }
}
AccountStatementBusinessTableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessTableComponent, deps: [{ token: i1.AccountStatementDataService }, { token: i2.NotificationService }, { token: i3.AccountStatementBusinessPropertiesService }], target: i0.ɵɵFactoryTarget.Component });
AccountStatementBusinessTableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: AccountStatementBusinessTableComponent, selector: "bb-account-statement-business-table", inputs: { accountStatements: "accountStatements", sortingParams: "sortingParams", loading: "loading", showCategory: "showCategory" }, outputs: { sort: "sort" }, viewQueries: [{ propertyName: "downloadFailureNotificationHeader", first: true, predicate: ["downloadFailureNotificationHeader"], descendants: true }], ngImport: i0, template: "<ng-container\n  bbAccountStatementBusinessTableCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    accountStatements: accountStatements,\n    mimeTypeExtensions: mimeTypeExtensions,\n    loading: loading\n  }\"\n></ng-container>\n\n<ng-template\n  bbAccountStatementBusinessTableCustomizable\n  let-hostRef\n  let-accountStatements=\"context.accountStatements\"\n  let-mimeTypeExtensions=\"context.mimeTypeExtensions\"\n  let-loading=\"context.loading\"\n>\n  <table\n    bbTableFocus\n    [bbTable]=\"accountStatements\"\n    (sort)=\"hostRef.onSort($event)\"\n    class=\"table\"\n    aria-label=\"Account statements table\"\n    i18n-aria-label=\"Aria label for account statements table@@account-statement-business.table.aria-label\"\n  >\n    <thead>\n      <tr class=\"d-sm-table-row d-none\">\n        <th bbSortable=\"date\" [direction]=\"hostRef.getDirection('date')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Book date|table heading@@account-statement-business.table-head.book-date\"\n            data-role=\"book-date-thead\"\n            >Book date</span\n          >\n        </th>\n        <th *ngIf=\"showCategory\" bbSortable=\"category\" [direction]=\"hostRef.getDirection('category')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Category|table heading@@account-statement-business.table-head.category\"\n            data-role=\"category-thead\"\n            >Category</span\n          >\n        </th>\n        <th bbSortable=\"accountName\" [direction]=\"hostRef.getDirection('accountName')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Account name, number|table heading@@account-statement-business.table-head.account\"\n            data-role=\"account-name-thead\"\n            >Account name, number</span\n          >\n        </th>\n        <th scope=\"col\" class=\"bb-text-align-center\">\n          <span\n            class=\"th-content\"\n            i18n=\"Preview|table heading@@account-statement-business.table-head.preview\"\n            data-role=\"preview-thead\"\n            >Preview</span\n          >\n        </th>\n        <th scope=\"col\" class=\"bb-text-align-center\">\n          <span\n            class=\"th-content\"\n            i18n=\"Download|table heading@@account-statement-business.table-head.download\"\n            data-role=\"download-thead\"\n            >Download</span\n          >\n        </th>\n      </tr>\n    </thead>\n\n    <tbody *ngIf=\"!loading\">\n      <ng-container *ngFor=\"let accountStatement of accountStatements; let rowNumber = index\">\n        <tr class=\"d-sm-table-row d-none\">\n          <td data-role=\"date-td\">{{ accountStatement.date | bbDate: 'shortDate' }}</td>\n\n          <td *ngIf=\"showCategory\" data-role=\"category-td\">{{ accountStatement.category }}</td>\n\n          <td class=\"text-break\" data-role=\"account-name-td\">\n            <div>{{ accountStatement.accountName }}</div>\n            <div class=\"bb-text-support\">{{ accountStatement.accountNumber }}</div>\n          </td>\n\n          <td class=\"bb-text-align-center\">\n            <span\n              *ngIf=\"accountStatement.documents?.length\"\n              id=\"describe-preview-by-{{ rowNumber }}\"\n              class=\"sr-only\"\n              i18n=\"\n                Account and book date|describing what row data this preview action is\n                for@@account-statement-business.preview-button.description\"\n            >\n              Preview for account {{ accountStatement.accountName }} and book date\n              {{ accountStatement.date | bbDate: 'fullDate' }}\n            </span>\n\n            <bb-account-statement-view-online-business-wrapper\n              [documents]=\"accountStatement.documents\"\n              describedByElementId=\"describe-preview-by-{{ rowNumber }}\"\n            ></bb-account-statement-view-online-business-wrapper>\n          </td>\n\n          <td class=\"bb-text-align-center\">\n            <span *ngIf=\"accountStatement.documents?.length\" id=\"describe-download-by-{{ rowNumber }}\" class=\"sr-only\">\n              <ng-container\n                *ngIf=\"accountStatement.documents?.length === 1; else multipleDownloadDocumentsDescription\"\n                i18n=\"\n                  Account and book date|describing what row data this download action is\n                  for@@account-statement-business.download-button.description\"\n              >\n                Download {{ mimeTypeExtensions[accountStatement.documents[0]?.contentType] }} for account\n                {{ accountStatement.accountName }} and book date {{ accountStatement.date | bbDate: 'fullDate' }}\n              </ng-container>\n\n              <ng-template\n                #multipleDownloadDocumentsDescription\n                i18n=\"\n                  Account and book date|describing what data in a row this download action is\n                  for@@account-statement-business.download-dropdown-button.description\"\n              >\n                Show download actions for account {{ accountStatement.accountName }} and book date\n                {{ accountStatement.date | bbDate: 'fullDate' }}\n              </ng-template>\n            </span>\n\n            <bb-account-statement-downloads\n              describedByElementId=\"describe-download-by-{{ rowNumber }}\"\n              [documents]=\"accountStatement.documents\"\n              [mimeTypeExtensions]=\"mimeTypeExtensions\"\n              (downloadFailure)=\"hostRef.onDownloadFailure()\"\n            ></bb-account-statement-downloads>\n          </td>\n        </tr>\n\n        <div class=\"d-sm-none bb-list__item\">\n          <div class=\"bb-block bb-block--md\">\n            <div class=\"bb-stack bb-stack--align-top\">\n              <div class=\"bb-stack__item\">\n                <div\n                  class=\"bb-block bb-block--xs bb-text-semi-bold\"\n                  i18n=\"Book date|table heading@@account-statement-business.list-head.book-date\"\n                >\n                  Book date\n                </div>\n                <div>{{ accountStatement.date | bbDate: 'shortDate' }}</div>\n              </div>\n\n              <bb-account-statement-view-online-business-wrapper\n                class=\"bb-stack__item bb-stack__item--push-right\"\n                [documents]=\"accountStatement.documents\"\n                describedByElementId=\"describe-preview-by-{{ rowNumber }}\"\n              ></bb-account-statement-view-online-business-wrapper>\n\n              <bb-account-statement-downloads\n                describedByElementId=\"describe-download-by-{{ rowNumber }}\"\n                tooltipPlacement=\"top-right\"\n                [documents]=\"accountStatement.documents\"\n                [mimeTypeExtensions]=\"mimeTypeExtensions\"\n                (downloadFailure)=\"hostRef.onDownloadFailure()\"\n              ></bb-account-statement-downloads>\n            </div>\n          </div>\n          <ng-container *ngIf=\"showCategory\">\n            <div\n              class=\"bb-block bb-block--xs bb-text-semi-bold\"\n              i18n=\"Category|table heading@@account-statement-business.list-head.category\"\n            >\n              Category\n            </div>\n            <div class=\"bb-block bb-block--md\">{{ accountStatement.category }}</div>\n          </ng-container>\n\n          <div\n            class=\"bb-block bb-block--xs bb-text-semi-bold\"\n            i18n=\"Account name|table heading@@account-statement-business.list-head.account-name\"\n          >\n            Account name\n          </div>\n          <div class=\"bb-block bb-block--md\">{{ accountStatement.accountName }}</div>\n\n          <div\n            class=\"bb-block bb-block--xs bb-text-semi-bold\"\n            i18n=\"Account number|table heading@@account-statement-business.list-head.account-number\"\n          >\n            Account number\n          </div>\n          <div class=\"text-break\">{{ accountStatement.accountNumber }}</div>\n        </div>\n      </ng-container>\n    </tbody>\n  </table>\n\n  <bb-loading-indicator-ui *ngIf=\"loading\" loaderSize=\"lg\"></bb-loading-indicator-ui>\n</ng-template>\n\n<ng-template #downloadFailureNotificationHeader>\n  <ng-container bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective [bbHostRef]=\"this\">\n  </ng-container>\n\n  <ng-template bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective>\n    <span i18n=\"Failed to download statement@@account-statement-business-table-row.error-notification.header\"\n      >The statement cannot be downloaded now, please try again later</span\n    >\n  </ng-template>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i4.AccountStatementViewOnlineBusinessWrapperComponent; }), selector: "bb-account-statement-view-online-business-wrapper", inputs: ["documents", "describedByElementId"] }, { type: i0.forwardRef(function () { return i1.ӨAccountStatementDownloadsComponent; }), selector: "bb-account-statement-downloads", inputs: ["documents", "mimeTypeExtensions", "describedByElementId", "tooltipPlacement"], outputs: ["downloadFailure"] }, { type: i0.forwardRef(function () { return i5.LoadingIndicatorComponent; }), selector: "bb-loading-indicator-ui", inputs: ["text", "loaderSize", "showDelay", "hasBackground", "inline"] }], directives: [{ type: i0.forwardRef(function () { return AccountStatementBusinessTableCustomizableDirective; }), selector: "[bbAccountStatementBusinessTableCustomizable]" }, { type: i0.forwardRef(function () { return i6.TableDirective; }), selector: "table[bbTable]", inputs: ["bbTable"], outputs: ["selectRow", "rowClick", "sort"] }, { type: i0.forwardRef(function () { return i6.TableFocusDirective; }), selector: "[bbTableFocus]" }, { type: i0.forwardRef(function () { return i6.TableSortableDirective; }), selector: "th[bbSortable]", inputs: ["bbSortable", "direction"], outputs: ["sort"] }, { type: i0.forwardRef(function () { return i7.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i7.NgForOf; }), selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i0.forwardRef(function () { return AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective; }), selector: "[bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective]" }], pipes: { "bbDate": i0.forwardRef(function () { return i8.BbDatePipe; }) }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessTableComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-account-statement-business-table',
                    templateUrl: './account-statement-business-table.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i1.AccountStatementDataService }, { type: i2.NotificationService }, { type: i3.AccountStatementBusinessPropertiesService }]; }, propDecorators: { accountStatements: [{
                type: Input
            }], sortingParams: [{
                type: Input
            }], loading: [{
                type: Input
            }], showCategory: [{
                type: Input
            }], sort: [{
                type: Output
            }], downloadFailureNotificationHeader: [{
                type: ViewChild,
                args: ['downloadFailureNotificationHeader']
            }] } });
export class AccountStatementBusinessTableCustomizableDirective extends BbTemplate {
}
AccountStatementBusinessTableCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessTableCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
AccountStatementBusinessTableCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: AccountStatementBusinessTableCustomizableDirective, selector: "[bbAccountStatementBusinessTableCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessTableCustomizableDirective, decorators: [{
            type: Directive,
            args: [{ selector: '[bbAccountStatementBusinessTableCustomizable]' }]
        }] });
export class AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective extends BbTemplate {
}
AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective, selector: "[bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC1zdGF0ZW1lbnQtYnVzaW5lc3MtdGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy13aWRnZXQtYW5nL3NyYy9jb21wb25lbnRzL2FjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLXRhYmxlL2FjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLXRhYmxlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYWNjb3VudC1zdGF0ZW1lbnQtYnVzaW5lc3Mtd2lkZ2V0LWFuZy9zcmMvY29tcG9uZW50cy9hY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy10YWJsZS9hY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy10YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxTQUFTLEVBQ1QsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBRU4sU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFHTCxrQkFBa0IsR0FDbkIsTUFBTSx3Q0FBd0MsQ0FBQztBQUdoRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7Ozs7Ozs7QUFVM0QsTUFBTSxPQUFPLHNDQUFzQztJQTZCakQsWUFDbUIsV0FBd0MsRUFDeEMsb0JBQXlDLEVBQ3pDLGlCQUE0RDtRQUY1RCxnQkFBVyxHQUFYLFdBQVcsQ0FBNkI7UUFDeEMseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFxQjtRQUN6QyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQTJDO1FBZnRFLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFFaEIsaUJBQVksR0FBRyxJQUFJLENBQUM7UUFFbkIsU0FBSSxHQUFHLElBQUksWUFBWSxFQUFhLENBQUM7UUFJdEMsdUJBQWtCLEdBQUcsa0JBQWtCLENBQUM7UUFFekMsMkJBQXNCLEdBQXVCLEVBQUUsQ0FBQztJQU1yRCxDQUFDO0lBaENKLElBQ0ksaUJBQWlCLENBQUMsaUJBQXFDO1FBQ3pELElBQUksQ0FBQyxzQkFBc0IsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLGlDQUNuRSxnQkFBZ0IsS0FDbkIsU0FBUyxFQUFFLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxpQ0FDakQsUUFBUSxLQUNYLEdBQUcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUNuQyxDQUFDLElBQ0gsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUNELElBQUksaUJBQWlCO1FBQ25CLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDO0lBQ3JDLENBQUM7SUFzQkQsTUFBTSxDQUFDLFNBQW9CO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxpQkFBaUI7UUFDZixJQUFJLENBQUMsaUJBQWlCLENBQUMsd0JBQXdCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzlELElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDekMsTUFBTSxFQUFFLElBQUksQ0FBQyxpQ0FBaUM7Z0JBQzlDLE9BQU8sRUFBRSxFQUFFO2dCQUNYLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixHQUFHO2FBQ0osQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQWM7UUFDekIsT0FBTyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN4RyxDQUFDO0lBRU8sZUFBZSxDQUFDLFFBQWtDO1FBQ3hELE9BQU8sUUFBUSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLDhCQUE4QixDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLENBQUM7SUFDN0YsQ0FBQzs7b0lBeERVLHNDQUFzQzt3SEFBdEMsc0NBQXNDLG9ZQzNCbkQsa25SQTRNQSxzdEJEckhhLGtEQUFrRCw2eEJBWWxELDhFQUE4RTs0RkF4RTlFLHNDQUFzQztrQkFMbEQsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUscUNBQXFDO29CQUMvQyxXQUFXLEVBQUUsbURBQW1EO29CQUNoRSxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtpQkFDaEQ7NE1BR0ssaUJBQWlCO3NCQURwQixLQUFLO2dCQWNHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBRUcsT0FBTztzQkFBZixLQUFLO2dCQUVHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBRUksSUFBSTtzQkFBYixNQUFNO2dCQUV5QyxpQ0FBaUM7c0JBQWhGLFNBQVM7dUJBQUMsbUNBQW1DOztBQXFDaEQsTUFBTSxPQUFPLGtEQUFtRCxTQUFRLFVBT3ZFOztnSkFQWSxrREFBa0Q7b0lBQWxELGtEQUFrRDs0RkFBbEQsa0RBQWtEO2tCQUQ5RCxTQUFTO21CQUFDLEVBQUUsUUFBUSxFQUFFLCtDQUErQyxFQUFFOztBQWF4RSxNQUFNLE9BQU8sOEVBQStFLFNBQVEsVUFHbkc7OzRLQUhZLDhFQUE4RTtnS0FBOUUsOEVBQThFOzRGQUE5RSw4RUFBOEU7a0JBSDFGLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLG9GQUFvRjtpQkFDL0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBY2NvdW50U3RhdGVtZW50RGF0YVNlcnZpY2UsXG4gIE1pbWVUeXBlRXh0ZW5zaW9ucyxcbiAgbWltZVR5cGVFeHRlbnNpb25zLFxufSBmcm9tICdAYmFja2Jhc2UvYWNjb3VudC1zdGF0ZW1lbnQtY29tbW9uLWFuZyc7XG5pbXBvcnQgeyBTb3J0aW5nUGFyYW1zIH0gZnJvbSAnQGJhY2tiYXNlL2FjY291bnQtc3RhdGVtZW50LXN0b3JlLWFuZyc7XG5pbXBvcnQgeyBBY2NvdW50U3RhdGVtZW50LCBBY2NvdW50U3RhdGVtZW50RG9jdW1lbnQgfSBmcm9tICdAYmFja2Jhc2UvZGF0YS1hbmcvYWNjb3VudC1zdGF0ZW1lbnRzJztcbmltcG9ydCB7IEJiVGVtcGxhdGUgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NQcm9wZXJ0aWVzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLXByb3BlcnRpZXMuc2VydmljZSc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy9ub3RpZmljYXRpb24nO1xuaW1wb3J0IHsgU29ydERpcmVjdGlvbiwgU29ydEV2ZW50IH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy90YWJsZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2JiLWFjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLXRhYmxlJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLXRhYmxlLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIEFjY291bnRTdGF0ZW1lbnRCdXNpbmVzc1RhYmxlQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgc2V0IGFjY291bnRTdGF0ZW1lbnRzKGFjY291bnRTdGF0ZW1lbnRzOiBBY2NvdW50U3RhdGVtZW50W10pIHtcbiAgICB0aGlzLmFjY291bnRTdGF0ZW1lbnRzVmFsdWUgPSBhY2NvdW50U3RhdGVtZW50cy5tYXAoYWNjb3VudFN0YXRlbWVudCA9PiAoe1xuICAgICAgLi4uYWNjb3VudFN0YXRlbWVudCxcbiAgICAgIGRvY3VtZW50czogYWNjb3VudFN0YXRlbWVudC5kb2N1bWVudHMubWFwKGRvY3VtZW50ID0+ICh7XG4gICAgICAgIC4uLmRvY3VtZW50LFxuICAgICAgICB1cmw6IHRoaXMuZ2V0RG9jdW1lbnRMaW5rKGRvY3VtZW50KSxcbiAgICAgIH0pKSxcbiAgICB9KSk7XG4gIH1cbiAgZ2V0IGFjY291bnRTdGF0ZW1lbnRzKCk6IEFjY291bnRTdGF0ZW1lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudFN0YXRlbWVudHNWYWx1ZTtcbiAgfVxuXG4gIEBJbnB1dCgpIHNvcnRpbmdQYXJhbXM/OiBTb3J0aW5nUGFyYW1zO1xuXG4gIEBJbnB1dCgpIGxvYWRpbmcgPSBmYWxzZTtcblxuICBASW5wdXQoKSBzaG93Q2F0ZWdvcnkgPSB0cnVlO1xuXG4gIEBPdXRwdXQoKSBzb3J0ID0gbmV3IEV2ZW50RW1pdHRlcjxTb3J0RXZlbnQ+KCk7XG5cbiAgQFZpZXdDaGlsZCgnZG93bmxvYWRGYWlsdXJlTm90aWZpY2F0aW9uSGVhZGVyJykgZG93bmxvYWRGYWlsdXJlTm90aWZpY2F0aW9uSGVhZGVyITogVGVtcGxhdGVSZWY8YW55PjtcblxuICByZWFkb25seSBtaW1lVHlwZUV4dGVuc2lvbnMgPSBtaW1lVHlwZUV4dGVuc2lvbnM7XG5cbiAgcHJpdmF0ZSBhY2NvdW50U3RhdGVtZW50c1ZhbHVlOiBBY2NvdW50U3RhdGVtZW50W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRhdGFTZXJ2aWNlOiBBY2NvdW50U3RhdGVtZW50RGF0YVNlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBub3RpZmljYXRpb25zU2VydmljZTogTm90aWZpY2F0aW9uU2VydmljZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb3BlcnRpZXNTZXJ2aWNlOiBBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NQcm9wZXJ0aWVzU2VydmljZSxcbiAgKSB7fVxuXG4gIG9uU29ydChzb3J0RXZlbnQ6IFNvcnRFdmVudCkge1xuICAgIHRoaXMuc29ydC5lbWl0KHNvcnRFdmVudCk7XG4gIH1cblxuICBvbkRvd25sb2FkRmFpbHVyZSgpIHtcbiAgICB0aGlzLnByb3BlcnRpZXNTZXJ2aWNlLm5vdGlmaWNhdGlvbkRpc21pc3NUaW1lJC5zdWJzY3JpYmUodHRsID0+IHtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbih7XG4gICAgICAgIGhlYWRlcjogdGhpcy5kb3dubG9hZEZhaWx1cmVOb3RpZmljYXRpb25IZWFkZXIsXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICBtb2RpZmllcjogJ2Vycm9yJyxcbiAgICAgICAgdHRsLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXREaXJlY3Rpb24oY29sdW1uOiBzdHJpbmcpOiBTb3J0RGlyZWN0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5zb3J0aW5nUGFyYW1zICYmIHRoaXMuc29ydGluZ1BhcmFtcy5jb2x1bW4gPT09IGNvbHVtbiA/IHRoaXMuc29ydGluZ1BhcmFtcy5kaXJlY3Rpb24gOiAnJztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RG9jdW1lbnRMaW5rKGRvY3VtZW50OiBBY2NvdW50U3RhdGVtZW50RG9jdW1lbnQpOiBzdHJpbmcge1xuICAgIHJldHVybiBkb2N1bWVudC51cmwgfHwgdGhpcy5kYXRhU2VydmljZS5nZXRBY2NvdW50U3RhdGVtZW50RG93bmxvYWRVcmwoZG9jdW1lbnQudWlkIHx8ICcnKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbYmJBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NUYWJsZUN1c3RvbWl6YWJsZV0nIH0pXG5leHBvcnQgY2xhc3MgQWNjb3VudFN0YXRlbWVudEJ1c2luZXNzVGFibGVDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFxuICBBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NUYWJsZUNvbXBvbmVudCxcbiAge1xuICAgIGFjY291bnRTdGF0ZW1lbnRzOiBBY2NvdW50U3RhdGVtZW50W107XG4gICAgbWltZVR5cGVFeHRlbnNpb25zOiBNaW1lVHlwZUV4dGVuc2lvbnM7XG4gICAgbG9hZGluZzogYm9vbGVhbjtcbiAgfVxuPiB7fVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NEb3dubG9hZEZhaWx1cmVOb3RpZmljYXRpb25IZWFkZXJDdXN0b21pemFibGVEaXJlY3RpdmVdJyxcbn0pXG5leHBvcnQgY2xhc3MgQWNjb3VudFN0YXRlbWVudEJ1c2luZXNzRG93bmxvYWRGYWlsdXJlTm90aWZpY2F0aW9uSGVhZGVyQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgQWNjb3VudFN0YXRlbWVudEJ1c2luZXNzVGFibGVDb21wb25lbnQsXG4gIHZvaWRcbj4ge31cbiIsIjxuZy1jb250YWluZXJcbiAgYmJBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NUYWJsZUN1c3RvbWl6YWJsZVxuICBbYmJIb3N0UmVmXT1cInRoaXNcIlxuICBbYmJUZW1wbGF0ZUNvbnRleHRdPVwie1xuICAgIGFjY291bnRTdGF0ZW1lbnRzOiBhY2NvdW50U3RhdGVtZW50cyxcbiAgICBtaW1lVHlwZUV4dGVuc2lvbnM6IG1pbWVUeXBlRXh0ZW5zaW9ucyxcbiAgICBsb2FkaW5nOiBsb2FkaW5nXG4gIH1cIlxuPjwvbmctY29udGFpbmVyPlxuXG48bmctdGVtcGxhdGVcbiAgYmJBY2NvdW50U3RhdGVtZW50QnVzaW5lc3NUYWJsZUN1c3RvbWl6YWJsZVxuICBsZXQtaG9zdFJlZlxuICBsZXQtYWNjb3VudFN0YXRlbWVudHM9XCJjb250ZXh0LmFjY291bnRTdGF0ZW1lbnRzXCJcbiAgbGV0LW1pbWVUeXBlRXh0ZW5zaW9ucz1cImNvbnRleHQubWltZVR5cGVFeHRlbnNpb25zXCJcbiAgbGV0LWxvYWRpbmc9XCJjb250ZXh0LmxvYWRpbmdcIlxuPlxuICA8dGFibGVcbiAgICBiYlRhYmxlRm9jdXNcbiAgICBbYmJUYWJsZV09XCJhY2NvdW50U3RhdGVtZW50c1wiXG4gICAgKHNvcnQpPVwiaG9zdFJlZi5vblNvcnQoJGV2ZW50KVwiXG4gICAgY2xhc3M9XCJ0YWJsZVwiXG4gICAgYXJpYS1sYWJlbD1cIkFjY291bnQgc3RhdGVtZW50cyB0YWJsZVwiXG4gICAgaTE4bi1hcmlhLWxhYmVsPVwiQXJpYSBsYWJlbCBmb3IgYWNjb3VudCBzdGF0ZW1lbnRzIHRhYmxlQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy50YWJsZS5hcmlhLWxhYmVsXCJcbiAgPlxuICAgIDx0aGVhZD5cbiAgICAgIDx0ciBjbGFzcz1cImQtc20tdGFibGUtcm93IGQtbm9uZVwiPlxuICAgICAgICA8dGggYmJTb3J0YWJsZT1cImRhdGVcIiBbZGlyZWN0aW9uXT1cImhvc3RSZWYuZ2V0RGlyZWN0aW9uKCdkYXRlJylcIiBzY29wZT1cImNvbFwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzcz1cInRoLWNvbnRlbnRcIlxuICAgICAgICAgICAgaTE4bj1cIkJvb2sgZGF0ZXx0YWJsZSBoZWFkaW5nQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy50YWJsZS1oZWFkLmJvb2stZGF0ZVwiXG4gICAgICAgICAgICBkYXRhLXJvbGU9XCJib29rLWRhdGUtdGhlYWRcIlxuICAgICAgICAgICAgPkJvb2sgZGF0ZTwvc3BhblxuICAgICAgICAgID5cbiAgICAgICAgPC90aD5cbiAgICAgICAgPHRoICpuZ0lmPVwic2hvd0NhdGVnb3J5XCIgYmJTb3J0YWJsZT1cImNhdGVnb3J5XCIgW2RpcmVjdGlvbl09XCJob3N0UmVmLmdldERpcmVjdGlvbignY2F0ZWdvcnknKVwiIHNjb3BlPVwiY29sXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzPVwidGgtY29udGVudFwiXG4gICAgICAgICAgICBpMThuPVwiQ2F0ZWdvcnl8dGFibGUgaGVhZGluZ0BAYWNjb3VudC1zdGF0ZW1lbnQtYnVzaW5lc3MudGFibGUtaGVhZC5jYXRlZ29yeVwiXG4gICAgICAgICAgICBkYXRhLXJvbGU9XCJjYXRlZ29yeS10aGVhZFwiXG4gICAgICAgICAgICA+Q2F0ZWdvcnk8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aCBiYlNvcnRhYmxlPVwiYWNjb3VudE5hbWVcIiBbZGlyZWN0aW9uXT1cImhvc3RSZWYuZ2V0RGlyZWN0aW9uKCdhY2NvdW50TmFtZScpXCIgc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJ0aC1jb250ZW50XCJcbiAgICAgICAgICAgIGkxOG49XCJBY2NvdW50IG5hbWUsIG51bWJlcnx0YWJsZSBoZWFkaW5nQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy50YWJsZS1oZWFkLmFjY291bnRcIlxuICAgICAgICAgICAgZGF0YS1yb2xlPVwiYWNjb3VudC1uYW1lLXRoZWFkXCJcbiAgICAgICAgICAgID5BY2NvdW50IG5hbWUsIG51bWJlcjwvc3BhblxuICAgICAgICAgID5cbiAgICAgICAgPC90aD5cbiAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJiYi10ZXh0LWFsaWduLWNlbnRlclwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzcz1cInRoLWNvbnRlbnRcIlxuICAgICAgICAgICAgaTE4bj1cIlByZXZpZXd8dGFibGUgaGVhZGluZ0BAYWNjb3VudC1zdGF0ZW1lbnQtYnVzaW5lc3MudGFibGUtaGVhZC5wcmV2aWV3XCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInByZXZpZXctdGhlYWRcIlxuICAgICAgICAgICAgPlByZXZpZXc8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJ0aC1jb250ZW50XCJcbiAgICAgICAgICAgIGkxOG49XCJEb3dubG9hZHx0YWJsZSBoZWFkaW5nQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy50YWJsZS1oZWFkLmRvd25sb2FkXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cImRvd25sb2FkLXRoZWFkXCJcbiAgICAgICAgICAgID5Eb3dubG9hZDwvc3BhblxuICAgICAgICAgID5cbiAgICAgICAgPC90aD5cbiAgICAgIDwvdHI+XG4gICAgPC90aGVhZD5cblxuICAgIDx0Ym9keSAqbmdJZj1cIiFsb2FkaW5nXCI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBhY2NvdW50U3RhdGVtZW50IG9mIGFjY291bnRTdGF0ZW1lbnRzOyBsZXQgcm93TnVtYmVyID0gaW5kZXhcIj5cbiAgICAgICAgPHRyIGNsYXNzPVwiZC1zbS10YWJsZS1yb3cgZC1ub25lXCI+XG4gICAgICAgICAgPHRkIGRhdGEtcm9sZT1cImRhdGUtdGRcIj57eyBhY2NvdW50U3RhdGVtZW50LmRhdGUgfCBiYkRhdGU6ICdzaG9ydERhdGUnIH19PC90ZD5cblxuICAgICAgICAgIDx0ZCAqbmdJZj1cInNob3dDYXRlZ29yeVwiIGRhdGEtcm9sZT1cImNhdGVnb3J5LXRkXCI+e3sgYWNjb3VudFN0YXRlbWVudC5jYXRlZ29yeSB9fTwvdGQ+XG5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWJyZWFrXCIgZGF0YS1yb2xlPVwiYWNjb3VudC1uYW1lLXRkXCI+XG4gICAgICAgICAgICA8ZGl2Pnt7IGFjY291bnRTdGF0ZW1lbnQuYWNjb3VudE5hbWUgfX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi10ZXh0LXN1cHBvcnRcIj57eyBhY2NvdW50U3RhdGVtZW50LmFjY291bnROdW1iZXIgfX08L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuXG4gICAgICAgICAgPHRkIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICpuZ0lmPVwiYWNjb3VudFN0YXRlbWVudC5kb2N1bWVudHM/Lmxlbmd0aFwiXG4gICAgICAgICAgICAgIGlkPVwiZGVzY3JpYmUtcHJldmlldy1ieS17eyByb3dOdW1iZXIgfX1cIlxuICAgICAgICAgICAgICBjbGFzcz1cInNyLW9ubHlcIlxuICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgQWNjb3VudCBhbmQgYm9vayBkYXRlfGRlc2NyaWJpbmcgd2hhdCByb3cgZGF0YSB0aGlzIHByZXZpZXcgYWN0aW9uIGlzXG4gICAgICAgICAgICAgICAgZm9yQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy5wcmV2aWV3LWJ1dHRvbi5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFByZXZpZXcgZm9yIGFjY291bnQge3sgYWNjb3VudFN0YXRlbWVudC5hY2NvdW50TmFtZSB9fSBhbmQgYm9vayBkYXRlXG4gICAgICAgICAgICAgIHt7IGFjY291bnRTdGF0ZW1lbnQuZGF0ZSB8IGJiRGF0ZTogJ2Z1bGxEYXRlJyB9fVxuICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8YmItYWNjb3VudC1zdGF0ZW1lbnQtdmlldy1vbmxpbmUtYnVzaW5lc3Mtd3JhcHBlclxuICAgICAgICAgICAgICBbZG9jdW1lbnRzXT1cImFjY291bnRTdGF0ZW1lbnQuZG9jdW1lbnRzXCJcbiAgICAgICAgICAgICAgZGVzY3JpYmVkQnlFbGVtZW50SWQ9XCJkZXNjcmliZS1wcmV2aWV3LWJ5LXt7IHJvd051bWJlciB9fVwiXG4gICAgICAgICAgICA+PC9iYi1hY2NvdW50LXN0YXRlbWVudC12aWV3LW9ubGluZS1idXNpbmVzcy13cmFwcGVyPlxuICAgICAgICAgIDwvdGQ+XG5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJiYi10ZXh0LWFsaWduLWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJhY2NvdW50U3RhdGVtZW50LmRvY3VtZW50cz8ubGVuZ3RoXCIgaWQ9XCJkZXNjcmliZS1kb3dubG9hZC1ieS17eyByb3dOdW1iZXIgfX1cIiBjbGFzcz1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICpuZ0lmPVwiYWNjb3VudFN0YXRlbWVudC5kb2N1bWVudHM/Lmxlbmd0aCA9PT0gMTsgZWxzZSBtdWx0aXBsZURvd25sb2FkRG9jdW1lbnRzRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICAgIEFjY291bnQgYW5kIGJvb2sgZGF0ZXxkZXNjcmliaW5nIHdoYXQgcm93IGRhdGEgdGhpcyBkb3dubG9hZCBhY3Rpb24gaXNcbiAgICAgICAgICAgICAgICAgIGZvckBAYWNjb3VudC1zdGF0ZW1lbnQtYnVzaW5lc3MuZG93bmxvYWQtYnV0dG9uLmRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERvd25sb2FkIHt7IG1pbWVUeXBlRXh0ZW5zaW9uc1thY2NvdW50U3RhdGVtZW50LmRvY3VtZW50c1swXT8uY29udGVudFR5cGVdIH19IGZvciBhY2NvdW50XG4gICAgICAgICAgICAgICAge3sgYWNjb3VudFN0YXRlbWVudC5hY2NvdW50TmFtZSB9fSBhbmQgYm9vayBkYXRlIHt7IGFjY291bnRTdGF0ZW1lbnQuZGF0ZSB8IGJiRGF0ZTogJ2Z1bGxEYXRlJyB9fVxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAjbXVsdGlwbGVEb3dubG9hZERvY3VtZW50c0Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgQWNjb3VudCBhbmQgYm9vayBkYXRlfGRlc2NyaWJpbmcgd2hhdCBkYXRhIGluIGEgcm93IHRoaXMgZG93bmxvYWQgYWN0aW9uIGlzXG4gICAgICAgICAgICAgICAgICBmb3JAQGFjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLmRvd25sb2FkLWRyb3Bkb3duLWJ1dHRvbi5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaG93IGRvd25sb2FkIGFjdGlvbnMgZm9yIGFjY291bnQge3sgYWNjb3VudFN0YXRlbWVudC5hY2NvdW50TmFtZSB9fSBhbmQgYm9vayBkYXRlXG4gICAgICAgICAgICAgICAge3sgYWNjb3VudFN0YXRlbWVudC5kYXRlIHwgYmJEYXRlOiAnZnVsbERhdGUnIH19XG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgIDxiYi1hY2NvdW50LXN0YXRlbWVudC1kb3dubG9hZHNcbiAgICAgICAgICAgICAgZGVzY3JpYmVkQnlFbGVtZW50SWQ9XCJkZXNjcmliZS1kb3dubG9hZC1ieS17eyByb3dOdW1iZXIgfX1cIlxuICAgICAgICAgICAgICBbZG9jdW1lbnRzXT1cImFjY291bnRTdGF0ZW1lbnQuZG9jdW1lbnRzXCJcbiAgICAgICAgICAgICAgW21pbWVUeXBlRXh0ZW5zaW9uc109XCJtaW1lVHlwZUV4dGVuc2lvbnNcIlxuICAgICAgICAgICAgICAoZG93bmxvYWRGYWlsdXJlKT1cImhvc3RSZWYub25Eb3dubG9hZEZhaWx1cmUoKVwiXG4gICAgICAgICAgICA+PC9iYi1hY2NvdW50LXN0YXRlbWVudC1kb3dubG9hZHM+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1zbS1ub25lIGJiLWxpc3RfX2l0ZW1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2sgYmItc3RhY2stLWFsaWduLXRvcFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14cyBiYi10ZXh0LXNlbWktYm9sZFwiXG4gICAgICAgICAgICAgICAgICBpMThuPVwiQm9vayBkYXRlfHRhYmxlIGhlYWRpbmdAQGFjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLmxpc3QtaGVhZC5ib29rLWRhdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEJvb2sgZGF0ZVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e3sgYWNjb3VudFN0YXRlbWVudC5kYXRlIHwgYmJEYXRlOiAnc2hvcnREYXRlJyB9fTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8YmItYWNjb3VudC1zdGF0ZW1lbnQtdmlldy1vbmxpbmUtYnVzaW5lc3Mtd3JhcHBlclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLXB1c2gtcmlnaHRcIlxuICAgICAgICAgICAgICAgIFtkb2N1bWVudHNdPVwiYWNjb3VudFN0YXRlbWVudC5kb2N1bWVudHNcIlxuICAgICAgICAgICAgICAgIGRlc2NyaWJlZEJ5RWxlbWVudElkPVwiZGVzY3JpYmUtcHJldmlldy1ieS17eyByb3dOdW1iZXIgfX1cIlxuICAgICAgICAgICAgICA+PC9iYi1hY2NvdW50LXN0YXRlbWVudC12aWV3LW9ubGluZS1idXNpbmVzcy13cmFwcGVyPlxuXG4gICAgICAgICAgICAgIDxiYi1hY2NvdW50LXN0YXRlbWVudC1kb3dubG9hZHNcbiAgICAgICAgICAgICAgICBkZXNjcmliZWRCeUVsZW1lbnRJZD1cImRlc2NyaWJlLWRvd25sb2FkLWJ5LXt7IHJvd051bWJlciB9fVwiXG4gICAgICAgICAgICAgICAgdG9vbHRpcFBsYWNlbWVudD1cInRvcC1yaWdodFwiXG4gICAgICAgICAgICAgICAgW2RvY3VtZW50c109XCJhY2NvdW50U3RhdGVtZW50LmRvY3VtZW50c1wiXG4gICAgICAgICAgICAgICAgW21pbWVUeXBlRXh0ZW5zaW9uc109XCJtaW1lVHlwZUV4dGVuc2lvbnNcIlxuICAgICAgICAgICAgICAgIChkb3dubG9hZEZhaWx1cmUpPVwiaG9zdFJlZi5vbkRvd25sb2FkRmFpbHVyZSgpXCJcbiAgICAgICAgICAgICAgPjwvYmItYWNjb3VudC1zdGF0ZW1lbnQtZG93bmxvYWRzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dDYXRlZ29yeVwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS14cyBiYi10ZXh0LXNlbWktYm9sZFwiXG4gICAgICAgICAgICAgIGkxOG49XCJDYXRlZ29yeXx0YWJsZSBoZWFkaW5nQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy5saXN0LWhlYWQuY2F0ZWdvcnlcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDYXRlZ29yeVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kXCI+e3sgYWNjb3VudFN0YXRlbWVudC5jYXRlZ29yeSB9fTwvZGl2PlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teHMgYmItdGV4dC1zZW1pLWJvbGRcIlxuICAgICAgICAgICAgaTE4bj1cIkFjY291bnQgbmFtZXx0YWJsZSBoZWFkaW5nQEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy5saXN0LWhlYWQuYWNjb3VudC1uYW1lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBBY2NvdW50IG5hbWVcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kXCI+e3sgYWNjb3VudFN0YXRlbWVudC5hY2NvdW50TmFtZSB9fTwvZGl2PlxuXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teHMgYmItdGV4dC1zZW1pLWJvbGRcIlxuICAgICAgICAgICAgaTE4bj1cIkFjY291bnQgbnVtYmVyfHRhYmxlIGhlYWRpbmdAQGFjY291bnQtc3RhdGVtZW50LWJ1c2luZXNzLmxpc3QtaGVhZC5hY2NvdW50LW51bWJlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQWNjb3VudCBudW1iZXJcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1icmVha1wiPnt7IGFjY291bnRTdGF0ZW1lbnQuYWNjb3VudE51bWJlciB9fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvdGJvZHk+XG4gIDwvdGFibGU+XG5cbiAgPGJiLWxvYWRpbmctaW5kaWNhdG9yLXVpICpuZ0lmPVwibG9hZGluZ1wiIGxvYWRlclNpemU9XCJsZ1wiPjwvYmItbG9hZGluZy1pbmRpY2F0b3ItdWk+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI2Rvd25sb2FkRmFpbHVyZU5vdGlmaWNhdGlvbkhlYWRlcj5cbiAgPG5nLWNvbnRhaW5lciBiYkFjY291bnRTdGF0ZW1lbnRCdXNpbmVzc0Rvd25sb2FkRmFpbHVyZU5vdGlmaWNhdGlvbkhlYWRlckN1c3RvbWl6YWJsZURpcmVjdGl2ZSBbYmJIb3N0UmVmXT1cInRoaXNcIj5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLXRlbXBsYXRlIGJiQWNjb3VudFN0YXRlbWVudEJ1c2luZXNzRG93bmxvYWRGYWlsdXJlTm90aWZpY2F0aW9uSGVhZGVyQ3VzdG9taXphYmxlRGlyZWN0aXZlPlxuICAgIDxzcGFuIGkxOG49XCJGYWlsZWQgdG8gZG93bmxvYWQgc3RhdGVtZW50QEBhY2NvdW50LXN0YXRlbWVudC1idXNpbmVzcy10YWJsZS1yb3cuZXJyb3Itbm90aWZpY2F0aW9uLmhlYWRlclwiXG4gICAgICA+VGhlIHN0YXRlbWVudCBjYW5ub3QgYmUgZG93bmxvYWRlZCBub3csIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXI8L3NwYW5cbiAgICA+XG4gIDwvbmctdGVtcGxhdGU+XG48L25nLXRlbXBsYXRlPlxuIl19