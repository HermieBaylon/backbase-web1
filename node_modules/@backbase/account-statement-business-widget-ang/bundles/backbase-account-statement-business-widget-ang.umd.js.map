{"version":3,"file":"backbase-account-statement-business-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/account-statement-business-widget-ang/src/services/account-statement-business-properties.service.ts","../../../../libs/account-statement-business-widget-ang/src/helpers/utils.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-filters/account-statement-business-filters.component.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-filters/account-statement-business-filters.component.html","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-view-online-business-wrapper/account-statement-view-online-business-wrapper.component.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-view-online-business-wrapper/account-statement-view-online-business-wrapper.component.html","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-table/account-statement-business-table.component.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-table/account-statement-business-table.component.html","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-statements-container/account-statement-business-statements-container.component.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-statements-container/account-statement-business-statements-container.component.html","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-widget/account-statement-business-widget.component.ts","../../../../libs/account-statement-business-widget-ang/src/components/account-statement-business-widget/account-statement-business-widget.component.html","../../../../libs/account-statement-business-widget-ang/src/account-statement-business-widget.module.ts","../../../../libs/account-statement-business-widget-ang/backbase-account-statement-business-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\nimport { Observable, of } from 'rxjs';\n\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { AccountStatementBasePropertiesService, PaginationType } from '@backbase/account-statement-common-ang';\n\n@Injectable()\nexport class AccountStatementBusinessPropertiesService extends AccountStatementBasePropertiesService {\n  constructor(@Optional() itemModel: ItemModel) {\n    super(itemModel);\n  }\n\n  protected getPaginationTypeIM$(): Observable<PaginationType> {\n    const defaultValue = PaginationType.Pagination;\n    return this.itemModel?.property('paginationType', defaultValue) || of(defaultValue);\n  }\n}\n","import { ActivatedRoute, ParamMap } from '@angular/router';\n\nimport { Observable } from 'rxjs';\nimport { pluck } from 'rxjs/operators';\n\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\n\n/**\n * Extract the given param from activated route.\n *\n * @param route of type ActivatedRoute\n * @param param URL param that needs to be get from the active route\n * @returns Observable of extracted param\n */\nexport const getRouteParam = (route: ActivatedRoute, param: string): Observable<string | undefined> =>\n  route.paramMap.pipe(pluck<ParamMap, string | undefined>('params', param));\n\n/**\n * Check if the given object is of type ProductSummaryItem or not\n *\n * @param account Either ProductSummaryItem or string\n * @returns boolean\n */\nexport const isProductsummaryItem = (account: ProductSummaryItem | string): account is ProductSummaryItem =>\n  (account as ProductSummaryItem).id !== undefined;\n\n/**\n * Check if the passed parameter is ProductSummaryItem array or accountId's array and return id from it\n *\n * @param accounts Array of either ProductSummaryItem or string\n * @returns string accountId\n */\nexport const getAccountId = (accounts: ProductSummaryItem[] | string[]): string =>\n  isProductsummaryItem(accounts[0]) ? accounts[0].id : accounts[0];\n","import { Component, Directive, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AccountStatementStoreModel, WidgetPreferences } from '@backbase/account-statement-store-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\nimport { filter, first, map, withLatestFrom } from 'rxjs/operators';\nimport { AccountStatementBusinessPropertiesService } from '../../services/account-statement-business-properties.service';\nimport {\n  Categories,\n  convertDateObjToDateStruct,\n  CUSTOM_FILTER_PERIODS_VALUES,\n  DatePeriods,\n} from '@backbase/account-statement-common-ang';\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\n\ntype DatePreferences = Record<keyof Pick<WidgetPreferences, 'minimalDate' | 'maximumDate'>, NgbDateStruct>;\n\n@Component({\n  selector: 'bb-account-statement-business-filters',\n  templateUrl: './account-statement-business-filters.component.html',\n})\nexport class AccountStatementBusinessFiltersComponent implements OnInit {\n  @ViewChild('filterButton') filterButton?: ElementRef;\n\n  readonly filterDatePeriods = DatePeriods;\n\n  filterForm!: FormGroup;\n  readonly areFiltersApplied$: Observable<boolean> = this.store.accountStatementsFilterParams$.pipe(\n    map(filters => {\n      const isDateRangeApplied = !!(filters.dateFrom && filters.dateTo);\n      const isCategoryApplied = !!(filters.category && filters.category.length > 0);\n      return isDateRangeApplied || isCategoryApplied;\n    }),\n  );\n\n  readonly datePreferences$: Observable<DatePreferences> = this.initializeDatePreferences;\n\n  readonly datePeriodsToDisplay$: Observable<string[]> = this.initializeFilterDatePeriods;\n\n  readonly categories$: Observable<Categories> = this.store.categories$;\n\n  readonly showCategory$ = this.propertiesService.showCategory$;\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly store: AccountStatementStoreModel,\n    private readonly propertiesService: AccountStatementBusinessPropertiesService,\n  ) {}\n\n  ngOnInit(): void {\n    this.store.accountStatementsFilterParams$.pipe(first()).subscribe(params => {\n      const { dateFrom: from, dateTo: to, category } = params;\n      this.filterForm = this.fb.group({\n        bookDate: from && to ? { from, to } : '',\n        customFilterPeriods: params.datePeriod,\n        categories: [category || []],\n      });\n    });\n  }\n\n  resetForm() {\n    this.areFiltersApplied$\n      .pipe(first(), filter(Boolean), withLatestFrom(this.propertiesService.pageSize$))\n      .subscribe(([, size]) => {\n        this.store.dispatchLoadAccountStatementsBusiness({\n          paginationParams: {\n            size,\n            from: 0,\n          },\n          filterParams: {\n            dateFrom: undefined,\n            dateTo: undefined,\n            datePeriod: DatePeriods.AllTime,\n            category: undefined,\n          },\n        });\n      });\n\n    this.filterForm.reset({ customFilterPeriods: this.filterDatePeriods.AllTime });\n\n    this.focusFilterButton();\n  }\n\n  focusFilterButton() {\n    if (this.filterButton) {\n      this.filterButton.nativeElement.focus();\n    }\n  }\n\n  onSubmit() {\n    const customFilterPeriodsFormField = this.filterForm.get('customFilterPeriods');\n    const bookDateFormField = this.filterForm.controls.bookDate;\n    if (customFilterPeriodsFormField && bookDateFormField.touched) {\n      customFilterPeriodsFormField.reset();\n    }\n\n    this.applyFormData();\n    this.focusFilterButton();\n  }\n\n  setCustomFilter() {\n    const customFilterPeriodsFormField = this.filterForm.get('customFilterPeriods');\n    const bookDateFormField = this.filterForm.get('bookDate');\n\n    const selectedPeriod: DatePeriods = customFilterPeriodsFormField && customFilterPeriodsFormField.value;\n    const selectedPeriodDates = CUSTOM_FILTER_PERIODS_VALUES[selectedPeriod]();\n    const from = selectedPeriodDates.from && selectedPeriodDates.from.toISOString();\n    const to = selectedPeriodDates.to && selectedPeriodDates.to.toISOString();\n\n    if (bookDateFormField) {\n      const bookDateValue = from && to ? { from, to } : '';\n      bookDateFormField.setValue(bookDateValue);\n    }\n\n    this.applyFormData();\n  }\n\n  private applyFormData() {\n    const bookDateControl = this.filterForm.get('bookDate');\n    const selectedPeriodControl = this.filterForm.get('customFilterPeriods');\n    const categoriesControl = this.filterForm.get('categories');\n    const selectedPeriodControlValue = selectedPeriodControl && selectedPeriodControl.value;\n    const categoriesValue = categoriesControl && categoriesControl.value;\n    const { from: dateFrom, to: dateTo } = (bookDateControl && bookDateControl.value) || {};\n\n    this.propertiesService.pageSize$.pipe(first()).subscribe(size => {\n      this.store.dispatchLoadAccountStatementsBusiness({\n        paginationParams: {\n          size,\n          from: 0,\n        },\n        filterParams: {\n          dateFrom,\n          dateTo: dateTo || dateFrom,\n          datePeriod: selectedPeriodControlValue || undefined,\n          category: categoriesValue || undefined,\n        },\n      });\n    });\n\n    this.filterForm.markAsPristine();\n  }\n\n  private get initializeDatePreferences(): Observable<DatePreferences> {\n    return this.store.accountStatementsWidgetPreferences$.pipe(\n      map(preferences => ({\n        minimalDate: convertDateObjToDateStruct(preferences.minimalDate),\n        maximumDate: convertDateObjToDateStruct(preferences.maximumDate),\n      })),\n    );\n  }\n\n  private get initializeFilterDatePeriods(): Observable<string[]> {\n    return this.store.accountStatementsWidgetPreferences$.pipe(\n      map(preferences => {\n        const datePeriodValues = Object.values(DatePeriods);\n        return datePeriodValues.filter((value: DatePeriods) => {\n          const periodValue = CUSTOM_FILTER_PERIODS_VALUES[value]() as { from: Date; to: Date };\n          return periodValue.from >= preferences.minimalDate;\n        });\n      }),\n    );\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementBusinessFiltersCustomizable]' })\nexport class AccountStatementBusinessFiltersCustomizableDirective extends BbTemplate<\n  AccountStatementBusinessFiltersComponent,\n  {\n    areFiltersApplied: boolean;\n    filterForm: FormGroup;\n    datePreferences: DatePreferences;\n    datePeriodsToDisplay: string[];\n    categories: Categories;\n    showCategory: boolean;\n  }\n> {}\n","<ng-container\n  bbAccountStatementBusinessFiltersCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    areFiltersApplied: (areFiltersApplied$ | async)!,\n    datePreferences: (datePreferences$ | async)!,\n    datePeriodsToDisplay: (datePeriodsToDisplay$ | async)!,\n    showCategory: (showCategory$ | async)!,\n    categories: (categories$ | async)!,\n    filterForm: filterForm\n  }\"\n></ng-container>\n<ng-template\n  bbAccountStatementBusinessFiltersCustomizable\n  let-host\n  let-areFiltersApplied=\"context.areFiltersApplied\"\n  let-filterForm=\"context.filterForm\"\n  let-datePreferences=\"context.datePreferences\"\n  let-datePeriodsToDisplay=\"context.datePeriodsToDisplay\"\n  let-showCategory=\"context.showCategory\"\n  let-categories=\"context.categories\"\n>\n  <bb-collapsible-ui>\n    <form [formGroup]=\"filterForm\">\n      <ng-template bbCollapsibleHeader let-isOpen=\"isOpen\" let-toggle=\"toggle\">\n        <div class=\"bb-block bb-block--md\">\n          <div class=\"bb-stack bb-stack--wrap\">\n            <button\n              class=\"bb-stack__item bb-stack__item--spacing-lg bb-stack__item--push-left-sm-down bb-stack__break--sm-down bb-block bb-block--md-md-down\"\n              bbButton\n              #filterButton\n              data-role=\"collapsible-filter-btn\"\n              [color]=\"areFiltersApplied && !isOpen ? 'primary' : 'secondary'\"\n              [ngClass]=\"{ active: isOpen }\"\n              (click)=\"toggle()\"\n            >\n              <bb-icon-ui [cropped]=\"true\" name=\"filter\"></bb-icon-ui>\n              <span\n                *ngIf=\"areFiltersApplied; else filterButtonTextDefault\"\n                i18n=\"\n                  Filters applied|Filter form button filter\n                  label@@account-statement-business.filters.button.applied-label\"\n              >\n                Filters applied\n              </span>\n              <ng-template #filterButtonTextDefault>\n                <span\n                  i18n=\"Filter|Filter form button filter label@@account-statement-business.filters.button.filter-label\"\n                >\n                  Filter\n                </span>\n              </ng-template>\n            </button>\n\n            <bb-dropdown-single-select-ui\n              (change)=\"host.setCustomFilter()\"\n              class=\"bb-stack__item bb-stack__break--sm-down\"\n              formControlName=\"customFilterPeriods\"\n              [required]=\"false\"\n              [attr.data-role]=\"'dropdown-single-select'\"\n              placeholder=\"Custom\"\n              i18n-placeholder=\"Custom single select placeholder@@bb-dropdown-single-select.custom.placeholder\"\n            >\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.Today) !== -1\"\n                [value]=\"host.filterDatePeriods.Today\"\n                label=\"Today\"\n                i18n-label=\"Today option label@@bb-dropdown-single-select-option-ui.today.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.Yesterday) !== -1\"\n                [value]=\"host.filterDatePeriods.Yesterday\"\n                label=\"Yesterday\"\n                i18n-label=\"Yesterday option label@@bb-dropdown-single-select-option-ui.yesterday.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.ThisWeek) !== -1\"\n                [value]=\"host.filterDatePeriods.ThisWeek\"\n                label=\"This week\"\n                i18n-label=\"This week option label@@bb-dropdown-single-select-option-ui.this-week.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.LastWeek) !== -1\"\n                [value]=\"host.filterDatePeriods.LastWeek\"\n                label=\"Last week\"\n                i18n-label=\"Last week option label@@bb-dropdown-single-select-option-ui.last-week.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.ThisMonth) !== -1\"\n                [value]=\"host.filterDatePeriods.ThisMonth\"\n                label=\"This month\"\n                i18n-label=\"This month option label@@bb-dropdown-single-select-option-ui.this-month.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.LastMonth) !== -1\"\n                [value]=\"host.filterDatePeriods.LastMonth\"\n                label=\"Last month\"\n                i18n-label=\"Last month option label@@bb-dropdown-single-select-option-ui.last-month.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.ThisQuarter) !== -1\"\n                [value]=\"host.filterDatePeriods.ThisQuarter\"\n                label=\"This quarter\"\n                i18n-label=\"This quarter option label@@bb-dropdown-single-select-option-ui.this-quarter.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.LastQuarter) !== -1\"\n                [value]=\"host.filterDatePeriods.LastQuarter\"\n                label=\"Last quarter\"\n                i18n-label=\"Last quarter option label@@bb-dropdown-single-select-option-ui.last-quarter.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                *ngIf=\"datePeriodsToDisplay.indexOf(host.filterDatePeriods.ThisYear) !== -1\"\n                [value]=\"host.filterDatePeriods.ThisYear\"\n                label=\"This year\"\n                i18n-label=\"This year option label@@bb-dropdown-single-select-option-ui.this-year.label\"\n              ></bb-dropdown-single-select-option-ui>\n              <bb-dropdown-single-select-option-ui\n                [value]=\"host.filterDatePeriods.AllTime\"\n                label=\"All time\"\n                i18n-label=\"All time option label@@bb-dropdown-single-select-option-ui.all-time.label\"\n              ></bb-dropdown-single-select-option-ui>\n            </bb-dropdown-single-select-ui>\n          </div>\n        </div>\n      </ng-template>\n\n      <ng-template bbCollapsibleBody let-toggle=\"toggle\">\n        <div\n          class=\"card-body account-statements-filter__form-container account-statements-filter__form-container--no-container\"\n          data-role=\"filter-form\"\n        >\n          <div class=\"row\">\n            <div class=\"bb-block bb-block--md col-12 col-sm-6\">\n              <div class=\"account-statements-filter__date-field-wrapper\">\n                <bb-input-datepicker-ui\n                  i18n-label=\"\n                    Book date|Filter form book date label@@account-statement-business.filters.datepicker-label\"\n                  label=\"Date range\"\n                  labelClasses=\"form-label\"\n                  [rangeSelection]=\"true\"\n                  [minDate]=\"datePreferences.minimalDate\"\n                  [maxDate]=\"datePreferences.maximumDate\"\n                  aria-label=\"Book date\"\n                  i18n-aria-label=\"\n                    Book date filter aria label@@account-statement-business.filters.datepicker.aria-label\"\n                  [attr.aria-invalid]=\"filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n                  formControlName=\"bookDate\"\n                  data-role=\"book-date\"\n                ></bb-input-datepicker-ui>\n\n                <bb-input-validation-message-ui\n                  class=\"account-statements-filter__validation-message\"\n                  aria-live=\"polite\"\n                  [showErrors]=\"filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n                >\n                  <span\n                    i18n=\"\n                      Error invalid date format in book date\n                      range@@account-statement-business.filters.datepicker.error.invalid-date-format\"\n                    data-role=\"invalid-book-date-error-message\"\n                    >Invalid date format</span\n                  >\n                </bb-input-validation-message-ui>\n\n                <bb-input-validation-message-ui\n                  class=\"account-statements-filter__validation-message\"\n                  aria-live=\"polite\"\n                  [showErrors]=\"\n                    !host.filterForm.controls['bookDate'].hasError('invalidDateFormat') &&\n                    (host.filterForm.controls['bookDate'].hasError('dateGreaterThanMaxDate') ||\n                      host.filterForm.controls['bookDate'].hasError('dateLessThanMinDate'))\n                  \"\n                >\n                  <span\n                    i18n=\"\n                      Selected date range contains invalid dates\n                      range@@account-statement-business.filters.datepicker.error.dateLessThanMinDate\"\n                    data-role=\"invalid-book-date-limit-error-message\"\n                    >The selected dates include values outside the allowed date range. Please select a date interval in\n                    the permitted time frame.</span\n                  >\n                </bb-input-validation-message-ui>\n              </div>\n            </div>\n            <ng-container *ngIf=\"showCategory\">\n              <bb-dropdown-multi-select-ui\n                *ngIf=\"categories.length\"\n                [formControl]=\"host.filterForm.controls['categories']\"\n                class=\"bb-block bb-block--lg col-12 col-sm-6\"\n                data-role=\"categories-filter\"\n                placeholder=\"Select product category\"\n                i18n-placeholder=\"\n                  Category select placeholder|Category multiple\n                  select@@account-statement-business.filter.form.categories.placeholder\"\n                label=\"Category\"\n                i18n-label=\"\n                  Category label|Category multiple select@@account-statement-business.filter.form.categories.label\"\n              >\n                <bb-dropdown-multi-select-option-ui *ngFor=\"let option of categories\" [label]=\"option\" [value]=\"option\">\n                </bb-dropdown-multi-select-option-ui>\n              </bb-dropdown-multi-select-ui>\n            </ng-container>\n          </div>\n          <div class=\"bb-button-bar\">\n            <button\n              bbButton\n              type=\"submit\"\n              buttonSize=\"sm\"\n              class=\"bb-button-bar__button\"\n              data-role=\"apply\"\n              [disabled]=\"filterForm.pristine || filterForm.invalid\"\n              (click)=\"host.onSubmit(); toggle()\"\n              i18n=\"Apply|Filter form button apply label@@account-statement-business.filters.button.apply-label\"\n            >\n              Apply\n            </button>\n            <button\n              bbButton\n              color=\"secondary\"\n              buttonSize=\"sm\"\n              class=\"bb-button-bar__button\"\n              data-role=\"close\"\n              (click)=\"toggle(); host.focusFilterButton()\"\n              i18n=\"Close|Filter form button close label@@account-statement-business.filters.button.close-label\"\n            >\n              Close\n            </button>\n            <button\n              bbButton\n              color=\"link\"\n              buttonSize=\"sm\"\n              class=\"bb-button-bar__button\"\n              data-role=\"clear-all\"\n              *ngIf=\"filterForm.dirty || areFiltersApplied\"\n              (click)=\"host.resetForm()\"\n              i18n=\"Clear All|Filter form button clear label@@account-statement-business.filters.button.clear-label\"\n            >\n              Clear all\n            </button>\n          </div>\n        </div>\n      </ng-template>\n    </form>\n  </bb-collapsible-ui>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { AccountStatementDocument } from '@backbase/data-ang/account-statements';\n\n@Component({\n  selector: 'bb-account-statement-view-online-business-wrapper',\n  templateUrl: './account-statement-view-online-business-wrapper.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountStatementViewOnlineBusinessWrapperComponent {\n  @Input()\n  set documents(documents: AccountStatementDocument[]) {\n    this.documentPDF = documents.find(document => document.contentType === 'application/pdf');\n  }\n\n  @Input() describedByElementId = '';\n\n  documentPDF?: AccountStatementDocument;\n}\n","<bb-account-statement-view-online\n  *ngIf=\"documentPDF\"\n  [href]=\"documentPDF.url!\"\n  [describedByElementId]=\"describedByElementId\"\n></bb-account-statement-view-online>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  EventEmitter,\n  Input,\n  Output,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport {\n  AccountStatementDataService,\n  MimeTypeExtensions,\n  mimeTypeExtensions,\n} from '@backbase/account-statement-common-ang';\nimport { SortingParams } from '@backbase/account-statement-store-ang';\nimport { AccountStatement, AccountStatementDocument } from '@backbase/data-ang/account-statements';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { AccountStatementBusinessPropertiesService } from '../../services/account-statement-business-properties.service';\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { SortDirection, SortEvent } from '@backbase/ui-ang/table';\n\n@Component({\n  selector: 'bb-account-statement-business-table',\n  templateUrl: './account-statement-business-table.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountStatementBusinessTableComponent {\n  @Input()\n  set accountStatements(accountStatements: AccountStatement[]) {\n    this.accountStatementsValue = accountStatements.map(accountStatement => ({\n      ...accountStatement,\n      documents: accountStatement.documents.map(document => ({\n        ...document,\n        url: this.getDocumentLink(document),\n      })),\n    }));\n  }\n  get accountStatements(): AccountStatement[] {\n    return this.accountStatementsValue;\n  }\n\n  @Input() sortingParams?: SortingParams;\n\n  @Input() loading = false;\n\n  @Input() showCategory = true;\n\n  @Output() sort = new EventEmitter<SortEvent>();\n\n  @ViewChild('downloadFailureNotificationHeader') downloadFailureNotificationHeader!: TemplateRef<any>;\n\n  readonly mimeTypeExtensions = mimeTypeExtensions;\n\n  private accountStatementsValue: AccountStatement[] = [];\n\n  constructor(\n    private readonly dataService: AccountStatementDataService,\n    private readonly notificationsService: NotificationService,\n    private readonly propertiesService: AccountStatementBusinessPropertiesService,\n  ) {}\n\n  onSort(sortEvent: SortEvent) {\n    this.sort.emit(sortEvent);\n  }\n\n  onDownloadFailure() {\n    this.propertiesService.notificationDismissTime$.subscribe(ttl => {\n      this.notificationsService.showNotification({\n        header: this.downloadFailureNotificationHeader,\n        message: '',\n        modifier: 'error',\n        ttl,\n      });\n    });\n  }\n\n  getDirection(column: string): SortDirection {\n    return this.sortingParams && this.sortingParams.column === column ? this.sortingParams.direction : '';\n  }\n\n  private getDocumentLink(document: AccountStatementDocument): string {\n    return document.url || this.dataService.getAccountStatementDownloadUrl(document.uid || '');\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementBusinessTableCustomizable]' })\nexport class AccountStatementBusinessTableCustomizableDirective extends BbTemplate<\n  AccountStatementBusinessTableComponent,\n  {\n    accountStatements: AccountStatement[];\n    mimeTypeExtensions: MimeTypeExtensions;\n    loading: boolean;\n  }\n> {}\n\n@Directive({\n  selector: '[bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective]',\n})\nexport class AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective extends BbTemplate<\n  AccountStatementBusinessTableComponent,\n  void\n> {}\n","<ng-container\n  bbAccountStatementBusinessTableCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    accountStatements: accountStatements,\n    mimeTypeExtensions: mimeTypeExtensions,\n    loading: loading\n  }\"\n></ng-container>\n\n<ng-template\n  bbAccountStatementBusinessTableCustomizable\n  let-hostRef\n  let-accountStatements=\"context.accountStatements\"\n  let-mimeTypeExtensions=\"context.mimeTypeExtensions\"\n  let-loading=\"context.loading\"\n>\n  <table\n    bbTableFocus\n    [bbTable]=\"accountStatements\"\n    (sort)=\"hostRef.onSort($event)\"\n    class=\"table\"\n    aria-label=\"Account statements table\"\n    i18n-aria-label=\"Aria label for account statements table@@account-statement-business.table.aria-label\"\n  >\n    <thead>\n      <tr class=\"d-sm-table-row d-none\">\n        <th bbSortable=\"date\" [direction]=\"hostRef.getDirection('date')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Book date|table heading@@account-statement-business.table-head.book-date\"\n            data-role=\"book-date-thead\"\n            >Book date</span\n          >\n        </th>\n        <th *ngIf=\"showCategory\" bbSortable=\"category\" [direction]=\"hostRef.getDirection('category')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Category|table heading@@account-statement-business.table-head.category\"\n            data-role=\"category-thead\"\n            >Category</span\n          >\n        </th>\n        <th bbSortable=\"accountName\" [direction]=\"hostRef.getDirection('accountName')\" scope=\"col\">\n          <span\n            class=\"th-content\"\n            i18n=\"Account name, number|table heading@@account-statement-business.table-head.account\"\n            data-role=\"account-name-thead\"\n            >Account name, number</span\n          >\n        </th>\n        <th scope=\"col\" class=\"bb-text-align-center\">\n          <span\n            class=\"th-content\"\n            i18n=\"Preview|table heading@@account-statement-business.table-head.preview\"\n            data-role=\"preview-thead\"\n            >Preview</span\n          >\n        </th>\n        <th scope=\"col\" class=\"bb-text-align-center\">\n          <span\n            class=\"th-content\"\n            i18n=\"Download|table heading@@account-statement-business.table-head.download\"\n            data-role=\"download-thead\"\n            >Download</span\n          >\n        </th>\n      </tr>\n    </thead>\n\n    <tbody *ngIf=\"!loading\">\n      <ng-container *ngFor=\"let accountStatement of accountStatements; let rowNumber = index\">\n        <tr class=\"d-sm-table-row d-none\">\n          <td data-role=\"date-td\">{{ accountStatement.date | bbDate: 'shortDate' }}</td>\n\n          <td *ngIf=\"showCategory\" data-role=\"category-td\">{{ accountStatement.category }}</td>\n\n          <td class=\"text-break\" data-role=\"account-name-td\">\n            <div>{{ accountStatement.accountName }}</div>\n            <div class=\"bb-text-support\">{{ accountStatement.accountNumber }}</div>\n          </td>\n\n          <td class=\"bb-text-align-center\">\n            <span\n              *ngIf=\"accountStatement.documents?.length\"\n              id=\"describe-preview-by-{{ rowNumber }}\"\n              class=\"sr-only\"\n              i18n=\"\n                Account and book date|describing what row data this preview action is\n                for@@account-statement-business.preview-button.description\"\n            >\n              Preview for account {{ accountStatement.accountName }} and book date\n              {{ accountStatement.date | bbDate: 'fullDate' }}\n            </span>\n\n            <bb-account-statement-view-online-business-wrapper\n              [documents]=\"accountStatement.documents\"\n              describedByElementId=\"describe-preview-by-{{ rowNumber }}\"\n            ></bb-account-statement-view-online-business-wrapper>\n          </td>\n\n          <td class=\"bb-text-align-center\">\n            <span *ngIf=\"accountStatement.documents?.length\" id=\"describe-download-by-{{ rowNumber }}\" class=\"sr-only\">\n              <ng-container\n                *ngIf=\"accountStatement.documents?.length === 1; else multipleDownloadDocumentsDescription\"\n                i18n=\"\n                  Account and book date|describing what row data this download action is\n                  for@@account-statement-business.download-button.description\"\n              >\n                Download {{ mimeTypeExtensions[accountStatement.documents[0]?.contentType] }} for account\n                {{ accountStatement.accountName }} and book date {{ accountStatement.date | bbDate: 'fullDate' }}\n              </ng-container>\n\n              <ng-template\n                #multipleDownloadDocumentsDescription\n                i18n=\"\n                  Account and book date|describing what data in a row this download action is\n                  for@@account-statement-business.download-dropdown-button.description\"\n              >\n                Show download actions for account {{ accountStatement.accountName }} and book date\n                {{ accountStatement.date | bbDate: 'fullDate' }}\n              </ng-template>\n            </span>\n\n            <bb-account-statement-downloads\n              describedByElementId=\"describe-download-by-{{ rowNumber }}\"\n              [documents]=\"accountStatement.documents\"\n              [mimeTypeExtensions]=\"mimeTypeExtensions\"\n              (downloadFailure)=\"hostRef.onDownloadFailure()\"\n            ></bb-account-statement-downloads>\n          </td>\n        </tr>\n\n        <div class=\"d-sm-none bb-list__item\">\n          <div class=\"bb-block bb-block--md\">\n            <div class=\"bb-stack bb-stack--align-top\">\n              <div class=\"bb-stack__item\">\n                <div\n                  class=\"bb-block bb-block--xs bb-text-semi-bold\"\n                  i18n=\"Book date|table heading@@account-statement-business.list-head.book-date\"\n                >\n                  Book date\n                </div>\n                <div>{{ accountStatement.date | bbDate: 'shortDate' }}</div>\n              </div>\n\n              <bb-account-statement-view-online-business-wrapper\n                class=\"bb-stack__item bb-stack__item--push-right\"\n                [documents]=\"accountStatement.documents\"\n                describedByElementId=\"describe-preview-by-{{ rowNumber }}\"\n              ></bb-account-statement-view-online-business-wrapper>\n\n              <bb-account-statement-downloads\n                describedByElementId=\"describe-download-by-{{ rowNumber }}\"\n                tooltipPlacement=\"top-right\"\n                [documents]=\"accountStatement.documents\"\n                [mimeTypeExtensions]=\"mimeTypeExtensions\"\n                (downloadFailure)=\"hostRef.onDownloadFailure()\"\n              ></bb-account-statement-downloads>\n            </div>\n          </div>\n          <ng-container *ngIf=\"showCategory\">\n            <div\n              class=\"bb-block bb-block--xs bb-text-semi-bold\"\n              i18n=\"Category|table heading@@account-statement-business.list-head.category\"\n            >\n              Category\n            </div>\n            <div class=\"bb-block bb-block--md\">{{ accountStatement.category }}</div>\n          </ng-container>\n\n          <div\n            class=\"bb-block bb-block--xs bb-text-semi-bold\"\n            i18n=\"Account name|table heading@@account-statement-business.list-head.account-name\"\n          >\n            Account name\n          </div>\n          <div class=\"bb-block bb-block--md\">{{ accountStatement.accountName }}</div>\n\n          <div\n            class=\"bb-block bb-block--xs bb-text-semi-bold\"\n            i18n=\"Account number|table heading@@account-statement-business.list-head.account-number\"\n          >\n            Account number\n          </div>\n          <div class=\"text-break\">{{ accountStatement.accountNumber }}</div>\n        </div>\n      </ng-container>\n    </tbody>\n  </table>\n\n  <bb-loading-indicator-ui *ngIf=\"loading\" loaderSize=\"lg\"></bb-loading-indicator-ui>\n</ng-template>\n\n<ng-template #downloadFailureNotificationHeader>\n  <ng-container bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective [bbHostRef]=\"this\">\n  </ng-container>\n\n  <ng-template bbAccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective>\n    <span i18n=\"Failed to download statement@@account-statement-business-table-row.error-notification.header\"\n      >The statement cannot be downloaded now, please try again later</span\n    >\n  </ng-template>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, Directive } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { AccountStatement } from '@backbase/data-ang/account-statements';\nimport { AccountStatementStoreModel, SortingParams, PaginationParams } from '@backbase/account-statement-store-ang';\nimport { first } from 'rxjs/operators';\nimport { AccountStatementBusinessPropertiesService } from '../../services/account-statement-business-properties.service';\nimport { LoadingState, PaginationType } from '@backbase/account-statement-common-ang';\nimport { LoadMoreParams } from '@backbase/ui-ang/load-button';\nimport { SortEvent } from '@backbase/ui-ang/table';\n\n@Component({\n  selector: 'bb-account-statement-business-statements-container',\n  templateUrl: './account-statement-business-statements-container.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountStatementBusinessStatementsContainerComponent {\n  readonly accountStatements$ = this.store.accountStatements$;\n  readonly totalCount$ = this.store.accountStatementsTotalCount$;\n  readonly accountStatementsLoading$ = this.store.accountStatementsLoading$;\n  readonly sortingParams$ = this.store.accountStatementsSortingParams$;\n  readonly paginationParams$ = this.store.accountStatementsPaginationParams$;\n  readonly loadingStates = LoadingState;\n  readonly paginationTypes = PaginationType;\n  readonly paginationType$ = this.propertiesService.paginationType$;\n  readonly showCategory$ = this.propertiesService.showCategory$;\n  private readonly pageSize$ = this.propertiesService.pageSize$.pipe(first());\n\n  constructor(\n    private readonly store: AccountStatementStoreModel,\n    private readonly propertiesService: AccountStatementBusinessPropertiesService,\n  ) {}\n\n  loadMore(params: LoadMoreParams) {\n    this.pageSize$.subscribe(size => {\n      this.store.dispatchLoadAccountStatementsBusiness({\n        paginationParams: {\n          size,\n          from: params.from,\n        },\n        append: true,\n      });\n    });\n  }\n\n  onSort(sortEvent: SortEvent) {\n    this.pageSize$.subscribe(size => {\n      this.store.dispatchLoadAccountStatementsBusiness({\n        sortingParams: sortEvent,\n        paginationParams: {\n          size,\n          from: 0,\n        },\n      });\n    });\n  }\n\n  handlePageChange(page: number) {\n    this.pageSize$.subscribe(size => {\n      this.store.dispatchLoadAccountStatementsBusiness({\n        paginationParams: {\n          size,\n          from: page,\n        },\n      });\n    });\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementBusinessStatementsContainerCustomizable]' })\nexport class AccountStatementBusinessStatementsContainerCustomizableDirective extends BbTemplate<\n  AccountStatementBusinessStatementsContainerComponent,\n  {\n    accountStatements: AccountStatement[];\n    totalCount: number;\n    accountStatementsLoading: LoadingState;\n    loadingStates: typeof LoadingState;\n    paginationParams: PaginationParams;\n    sortingParams: SortingParams;\n    paginationType: PaginationType;\n    showCategory: boolean;\n    paginationTypes: typeof PaginationType;\n  }\n> {}\n","<ng-container\n  bbAccountStatementBusinessStatementsContainerCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    accountStatements: (accountStatements$ | async)!,\n    totalCount: (totalCount$ | async)!,\n    accountStatementsLoading: (accountStatementsLoading$ | async)!,\n    loadingStates: loadingStates,\n    paginationParams: (paginationParams$ | async)!,\n    sortingParams: (sortingParams$ | async)!,\n    paginationType: (paginationType$ | async)!,\n    showCategory: (showCategory$ | async)!,\n    paginationTypes: paginationTypes\n  }\"\n></ng-container>\n\n<ng-template\n  bbAccountStatementBusinessStatementsContainerCustomizable\n  let-hostRef\n  let-accountStatements=\"context.accountStatements\"\n  let-totalCount=\"context.totalCount\"\n  let-accountStatementsLoading=\"context.accountStatementsLoading\"\n  let-loadingStates=\"context.loadingStates\"\n  let-paginationParams=\"context.paginationParams\"\n  let-sortingParams=\"context.sortingParams\"\n  let-paginationType=\"context.paginationType\"\n  let-showCategory=\"context.showCategory\"\n  let-paginationTypes=\"context.paginationTypes\"\n>\n  <div class=\"bb-block bb-block--lg\">\n    <bb-account-statement-business-table\n      [accountStatements]=\"accountStatements\"\n      [sortingParams]=\"sortingParams\"\n      [showCategory]=\"showCategory\"\n      [loading]=\"accountStatementsLoading === loadingStates.LOADING_TABLE\"\n      (sort)=\"hostRef.onSort($event)\"\n    ></bb-account-statement-business-table>\n  </div>\n\n  <div class=\"bb-text-align-center\" *ngIf=\"accountStatementsLoading !== loadingStates.LOADING_TABLE\">\n    <bb-load-button-ui\n      color=\"link\"\n      [ngClass]=\"{ 'd-sm-none': paginationType !== paginationTypes.LoadMore }\"\n      [isLoading]=\"accountStatementsLoading === loadingStates.LOADING_MORE\"\n      [size]=\"paginationParams.size\"\n      [from]=\"paginationParams.from\"\n      [totalCount]=\"totalCount\"\n      (paramChange)=\"hostRef.loadMore($event)\"\n      data-role=\"load-more-button\"\n    >\n      <span i18n=\"Load more|Load More button text@@account-statement-business.list.load-more\">Load more</span>\n    </bb-load-button-ui>\n\n    <bb-pagination-ui\n      class=\"d-none d-sm-block\"\n      *ngIf=\"paginationType === paginationTypes.Pagination\"\n      [page]=\"paginationParams.from\"\n      [itemsPerPage]=\"paginationParams.size\"\n      [totalItems]=\"totalCount\"\n      [boundaryLinks]=\"true\"\n      [directionLinks]=\"true\"\n      (pageChange)=\"hostRef.handlePageChange($event)\"\n      data-role=\"pagination\"\n    ></bb-pagination-ui>\n  </div>\n</ng-template>\n","import { Component, Directive, Input, OnChanges, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport {\n  AccountStatementBaseWidgetComponent,\n  DatePeriods,\n  getDateFilterLimit,\n  LoadingState,\n  stringToWords,\n  today,\n} from '@backbase/account-statement-common-ang';\nimport { AccountStatementsFilterParams, AccountStatementStoreModel } from '@backbase/account-statement-store-ang';\nimport { AccountStatement } from '@backbase/data-ang/account-statements';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { combineLatest, Observable, Subject, BehaviorSubject, merge } from 'rxjs';\nimport { filter, first, map, takeUntil } from 'rxjs/operators';\nimport { AccountStatementBusinessPropertiesService } from '../../services/account-statement-business-properties.service';\nimport { getAccountId, getRouteParam } from '../../helpers/utils';\nimport { SortDirection } from '@backbase/ui-ang/table';\n\n@Component({\n  selector: 'bb-account-statement-business-widget',\n  templateUrl: './account-statement-business-widget.component.html',\n  providers: [AccountStatementStoreModel, AccountStatementBusinessPropertiesService],\n})\nexport class AccountStatementBusinessWidgetComponent\n  extends AccountStatementBaseWidgetComponent<AccountStatementBusinessPropertiesService>\n  implements OnInit, OnDestroy, OnChanges\n{\n  @Input() accountId = '';\n  readonly accountStatements$: Observable<AccountStatement[]> = this.store.accountStatements$;\n  readonly accountStatementsLoading$: Observable<LoadingState> = this.store.accountStatementsLoading$;\n  readonly accountStatementsError$: Observable<Error | undefined> = this.store.accountStatementsError$;\n  readonly pageSize$: Observable<number> = this.propertiesService.pageSize$.pipe(first());\n  readonly accountStatementsFilterParams$: Observable<AccountStatementsFilterParams> =\n    this.store.accountStatementsFilterParams$;\n  readonly loadingStates = LoadingState;\n\n  private readonly destroy$ = new Subject<void>();\n  private accountId$ = new BehaviorSubject<string>('');\n\n  // In order to be able to transmit an account ids both using the route parameter and through the input\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  readonly accountIds$: Observable<string[]> = merge(\n    getRouteParam(this.route, 'selectedAccount'),\n    this.accountId$.pipe(filter(accountId => !!accountId)),\n  ).pipe(map(accountIds => stringToWords(accountIds, ',')));\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly store: AccountStatementStoreModel,\n    propertiesService: AccountStatementBusinessPropertiesService,\n  ) {\n    super(propertiesService);\n  }\n\n  ngOnChanges() {\n    if (this.accountId) {\n      this.accountId$.next(this.accountId);\n    }\n  }\n\n  ngOnInit() {\n    this.initializeMinimalDateFilterLimit.pipe(takeUntil(this.destroy$)).subscribe(minimalDate => {\n      const widgetPreferences = { minimalDate, maximumDate: today() };\n      this.store.dispatchUpdateWidgetPreferences({ widgetPreferences });\n    });\n\n    const sortingParams$ = combineLatest([\n      this.propertiesService.sortingOrder$,\n      this.propertiesService.sortingDirection$.pipe(map(direction => direction.toLowerCase() as SortDirection)),\n    ]).pipe(\n      first(),\n      map(([column, direction]) => ({\n        column,\n        direction,\n      })),\n    );\n\n    combineLatest([\n      // fetch statements if exactly one account ID is provided\n      this.accountIds$.pipe(filter(({ length }) => length === 1)),\n      this.pageSize$,\n      sortingParams$,\n    ])\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(([accounts, size, sortingParams]) => {\n        this.store.dispatchLoadAccountStatementsBusiness({\n          accountIds: [getAccountId(accounts)],\n          sortingParams,\n          paginationParams: {\n            from: 0,\n            size,\n          },\n          // reset filters for date\n          filterParams: {\n            datePeriod: DatePeriods.AllTime,\n          },\n        });\n      });\n\n    this.propertiesService.showCategory$\n      .pipe(filter(Boolean), takeUntil(this.destroy$))\n      .subscribe(_ => this.store.dispatchLoadCategories());\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private get initializeMinimalDateFilterLimit(): Observable<Date> {\n    return combineLatest([this.propertiesService.absoluteDateLimit$, this.propertiesService.relativeDateLimit$]).pipe(\n      map(([absoluteDateLimit, relativeMonthLimit]) => getDateFilterLimit(absoluteDateLimit, relativeMonthLimit)),\n    );\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementBusinessWidgetCustomizable]' })\nexport class AccountStatementBusinessWidgetCustomizableDirective extends BbTemplate<\n  AccountStatementBusinessWidgetComponent,\n  {\n    accountStatements: AccountStatement[];\n    accountStatementsLoading: LoadingState;\n    accountStatementsError?: Error;\n    accountStatementsFilterParams?: AccountStatementsFilterParams;\n    loadingStates: typeof LoadingState;\n    accountIds: string[];\n  }\n> {}\n","<ng-container\n  bbAccountStatementBusinessWidgetCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    accountStatements: (accountStatements$ | async)!,\n    accountStatementsLoading: (accountStatementsLoading$ | async)!,\n    accountStatementsError: (accountStatementsError$ | async)!,\n    accountStatementsFilterParams: (accountStatementsFilterParams$ | async)!,\n    accountIds: (accountIds$ | async)!,\n    loadingStates: loadingStates\n  }\"\n></ng-container>\n\n<ng-template\n  bbAccountStatementBusinessWidgetCustomizable\n  let-hostRef\n  let-accountStatements=\"context.accountStatements\"\n  let-accountStatementsLoading=\"context.accountStatementsLoading\"\n  let-accountStatementsFilterParams=\"context.accountStatementsFilterParams\"\n  let-accountStatementsError=\"context.accountStatementsError\"\n  let-accountIds=\"context.accountIds\"\n  let-loadingStates=\"context.loadingStates\"\n>\n  <div aria-live=\"polite\" data-role=\"account-statements-container\">\n    <ng-container *ngIf=\"!accountStatementsError; else accountStatementsErrorState\">\n      <ng-container [ngSwitch]=\"accountIds.length\">\n        <ng-container *ngSwitchCase=\"1\">\n          <ng-container *ngIf=\"accountStatementsLoading !== loadingStates.LOADING; else loadingState\">\n            <ng-container\n              *ngIf=\"\n                accountStatements.length || accountStatementsFilterParams.dateFrom;\n                else accountStatementsEmptyState\n              \"\n            >\n              <bb-account-statement-business-filters></bb-account-statement-business-filters>\n              <ng-container *ngIf=\"accountStatementsLoading !== loadingStates.LOADING_FILTERED; else loadingState\">\n                <ng-container *ngIf=\"accountStatements.length; else accountStatementsFilteredEmptyState\">\n                  <bb-account-statement-business-statements-container></bb-account-statement-business-statements-container>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n\n        <ng-container *ngSwitchCase=\"0\">\n          <ng-container *ngTemplateOutlet=\"accountStatementsNoAccountsError\"></ng-container>\n        </ng-container>\n\n        <ng-container *ngSwitchDefault>\n          <ng-container *ngTemplateOutlet=\"accountStatementsMultipleAccountsError\"></ng-container>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </div>\n\n  <ng-template #loadingState>\n    <bb-loading-indicator-ui loaderSize=\"lg\"></bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-template #accountStatementsEmptyState>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      iconSize=\"xxl\"\n      iconModifier=\"description\"\n      data-role=\"account-statements-empty-state\"\n      title=\"No account statements found\"\n      i18n-title=\"No account statements found@@account-statement-business.statements.empty-state.title\"\n      subtitle=\"You don't have any account statements to be displayed for this account.\"\n      i18n-subtitle=\"\n        You don't have any account statements...@@account-statement-business.statements.empty-state.subtitle\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #accountStatementsErrorState>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      iconSize=\"xxl\"\n      iconModifier=\"error\"\n      data-role=\"account-statements-error-state\"\n      title=\"Account statements are not loading\"\n      i18n-title=\"Account statements are not loading@@account-statement-business.statement-list.error-state.title\"\n      subtitle=\"Try to reload the page or contact the system administrator.\"\n      i18n-subtitle=\"Try to reload the page@@account-statement-business.statement-list.error-state.subtitle\"\n    >\n    </bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #accountStatementsFilteredEmptyState>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      iconSize=\"xxl\"\n      iconModifier=\"search\"\n      data-role=\"account-statements-filters-empty-state\"\n      i18n-title=\"Account statements filtered state title@@account-statement-business.statements.filtered.state.title\"\n      title=\"No Results Found\"\n      i18n-subtitle=\"\n        Account statements filtered state subtitle@@account-statement-business.statements.filtered.state.subtitle\"\n      subtitle=\"We can’t find what you’re looking for. Please try a different criteria.\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #accountStatementsNoAccountsError>\n    <bb-empty-state-ui\n      data-role=\"account-statements-error-no-accounts\"\n      iconSize=\"xxl\"\n      iconModifier=\"current-accounts\"\n      iconClasses=\"text-muted\"\n      title=\"You did not select an account yet\"\n      i18n-title=\"\n        You did not select an account yet |Error title when no account is\n        selected@@account-statement-business.statements.error.no-account.title\"\n      subtitle=\"No statements to show. You need to select a bank account first.\"\n      i18n-subtitle=\"\n        No statements to show. You need to select a bank account first. |Error subtitle when when no account is\n        selected@@account-statement-business.statements.error.no-account.subtitle\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #accountStatementsMultipleAccountsError>\n    <bb-empty-state-ui\n      data-role=\"account-statements-error-multiple-accounts\"\n      iconSize=\"xxl\"\n      iconModifier=\"error-outline\"\n      iconClasses=\"text-muted\"\n      title=\"You have selected multiple accounts\"\n      i18n-title=\"\n        You have selected multiple accounts |Error title when getting multiple\n        accounts@@account-statement-business.statements.error.multiple-accounts.title\"\n      subtitle=\"Please select only one account to display the account information.\"\n      i18n-subtitle=\"\n        Please select only one account to display the account information |Error subtitle when getting multiple\n        accounts@@account-statement-business.statements.error.multiple-accounts.subtitle\"\n    ></bb-empty-state-ui>\n  </ng-template>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AccountStatementStoreModule } from '@backbase/account-statement-store-ang';\nimport { AccountStatementCommonModule } from '@backbase/account-statement-common-ang';\nimport {\n  AccountStatementBusinessWidgetComponent,\n  AccountStatementBusinessWidgetCustomizableDirective,\n} from './components/account-statement-business-widget/account-statement-business-widget.component';\nimport {\n  AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective,\n  AccountStatementBusinessTableComponent,\n  AccountStatementBusinessTableCustomizableDirective,\n} from './components/account-statement-business-table/account-statement-business-table.component';\nimport { AccountStatementViewOnlineBusinessWrapperComponent } from './components/account-statement-view-online-business-wrapper/account-statement-view-online-business-wrapper.component';\nimport {\n  AccountStatementBusinessStatementsContainerComponent,\n  AccountStatementBusinessStatementsContainerCustomizableDirective,\n} from './components/account-statement-business-statements-container/account-statement-business-statements-container.component';\nimport {\n  AccountStatementBusinessFiltersComponent,\n  AccountStatementBusinessFiltersCustomizableDirective,\n} from './components/account-statement-business-filters/account-statement-business-filters.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AccountSelectorModule } from '@backbase/ui-ang/account-selector';\nimport { TableModule } from '@backbase/ui-ang/table';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport { InputDatepickerModule } from '@backbase/ui-ang/input-datepicker';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { PaginationModule } from '@backbase/ui-ang/pagination';\nimport { DropdownSingleSelectModule } from '@backbase/ui-ang/dropdown-single-select';\nimport { DropdownMultiSelectModule } from '@backbase/ui-ang/dropdown-multi-select';\nimport { BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\n\nconst components = [\n  AccountStatementBusinessWidgetComponent,\n  AccountStatementBusinessTableComponent,\n  AccountStatementViewOnlineBusinessWrapperComponent,\n  AccountStatementBusinessStatementsContainerComponent,\n  AccountStatementBusinessFiltersComponent,\n];\n\nconst directives = [\n  AccountStatementBusinessTableCustomizableDirective,\n  AccountStatementBusinessWidgetCustomizableDirective,\n  AccountStatementBusinessStatementsContainerCustomizableDirective,\n  AccountStatementBusinessDownloadFailureNotificationHeaderCustomizableDirective,\n  AccountStatementBusinessFiltersCustomizableDirective,\n];\n\nconst uiModules = [\n  TableModule,\n  AccountSelectorModule,\n  LoadButtonModule,\n  EmptyStateModule,\n  LoadingIndicatorModule,\n  CollapsibleModule,\n  InputDatepickerModule,\n  InputValidationMessageModule,\n  PaginationModule,\n  DropdownSingleSelectModule,\n  BbDatePipeModule,\n  DropdownMultiSelectModule,\n];\n\n@NgModule({\n  declarations: [...components, ...directives],\n  imports: [\n    ...uiModules,\n    CommonModule,\n    ReactiveFormsModule,\n    BackbaseCoreModule.withConfig({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      classMap: { AccountStatementBusinessWidgetComponent },\n    }),\n    AccountStatementStoreModule,\n    AccountStatementCommonModule,\n  ],\n  exports: [AccountStatementCommonModule, ...components, ...directives, ...uiModules],\n})\nexport class AccountStatementBusinessWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["PaginationType","of","AccountStatementBasePropertiesService","Injectable","Optional","pluck","DatePeriods","map","first","filter","withLatestFrom","CUSTOM_FILTER_PERIODS_VALUES","convertDateObjToDateStruct","Component","ViewChild","BbTemplate","Directive","ChangeDetectionStrategy","Input","EventEmitter","mimeTypeExtensions","Output","LoadingState","Subject","BehaviorSubject","merge","stringToWords","takeUntil","today","combineLatest","getDateFilterLimit","AccountStatementBaseWidgetComponent","AccountStatementStoreModel","TableModule","AccountSelectorModule","LoadButtonModule","EmptyStateModule","LoadingIndicatorModule","CollapsibleModule","InputDatepickerModule","InputValidationMessageModule","PaginationModule","DropdownSingleSelectModule","BbDatePipeModule","DropdownMultiSelectModule","CommonModule","ReactiveFormsModule","AccountStatementStoreModule","AccountStatementCommonModule","BackbaseCoreModule","NgModule"],"mappings":"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"}