{"version":3,"file":"pagination-helpers.js","sourceRoot":"","sources":["../../../../../../libs/accessgroup-common-ang/src/lib/helpers/pagination-helpers.ts"],"names":[],"mappings":"AAGA,MAAM,UAAU,0BAA0B;IACxC,OAAO,CACL,IAA2C,EAC3C,IAA2C,EACJ,EAAE;QACzC,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,cAAc,KAAK,YAAY,EAAE;YAC3D,OAAO,IAAI,CAAC;SACb;QACD,uCACK,IAAI,KACP,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IACrC;IACJ,CAAC,CAAC;AACJ,CAAC;AAED,MAAM,CAAC,MAAM,uBAAuB,GAAG,CACrC,IAAY,EACZ,cAA8B,EACyC,EAAE;IACzE,OAAO,CAAC,QAA2B,EAAE,EAAE,CAAC,CAAC;QACvC,KAAK,EAAE,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC1B,UAAU,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC;QACpG,IAAI;QACJ,cAAc;KACf,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { HttpResponse } from '@angular/common/http';\nimport { PaginatedItemsWithPaginationParams, PaginationType } from '../model/types';\n\nexport function scanAndMergePaginatedItems<T>() {\n  return (\n    memo: PaginatedItemsWithPaginationParams<T>,\n    item: PaginatedItemsWithPaginationParams<T>,\n  ): PaginatedItemsWithPaginationParams<T> => {\n    if (item.from === 0 || item.paginationType === 'pagination') {\n      return item;\n    }\n    return {\n      ...item,\n      items: [...memo.items, ...item.items],\n    };\n  };\n}\n\nexport const extractDataFromResponse = <T>(\n  from: number,\n  paginationType: PaginationType,\n): ((value: HttpResponse<T[]>) => PaginatedItemsWithPaginationParams<T>) => {\n  return (response: HttpResponse<T[]>) => ({\n    items: response.body || [],\n    totalItems: parseInt(response.headers.get('x-total-count') || `${(response.body || []).length}`, 10),\n    from,\n    paginationType,\n  });\n};\n"]}