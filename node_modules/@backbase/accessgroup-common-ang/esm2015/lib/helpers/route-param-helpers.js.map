{"version":3,"file":"route-param-helpers.js","sourceRoot":"","sources":["../../../../../../libs/accessgroup-common-ang/src/lib/helpers/route-param-helpers.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAc,EAAE,EAAE,MAAM,MAAM,CAAC;AACrD,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAE5C,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,KAAqB,EAAE,KAAa,EAAE,MAAe,EAA6B,EAAE;;IACjH,MAAM,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;IACvE,MAAM,QAAQ,GAAG,OAAO,KAAK,cAAc,CAAC;IAC5C,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IACxC,IAAI,GAAG,KAAI,MAAA,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,0CAAE,MAAM,CAAA,EAAE;QACnC,aAAa;QACb,OAAO,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;KAC/D;IACD,MAAM,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAA0B,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;IAExF,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;QACjB,OAAO,UAAU,CAAC;KACnB;IACD,OAAO,aAAa,CAAC,CAAC,UAAU,EAAE,cAAc,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtH,CAAC,CAAC","sourcesContent":["import { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { combineLatest, Observable, of } from 'rxjs';\nimport { map, pluck } from 'rxjs/operators';\n\nexport const getRouteParams = (route: ActivatedRoute, param: string, router?: Router): Observable<string | null> => {\n  const url = router ? router.routerState.snapshot.url + '/' : undefined;\n  const strRegEx = `(?:;${param}=).+?(?=\\\\/)`;\n  const regEx = new RegExp(strRegEx, 'g');\n  if (url && url.match(regEx)?.length) {\n    // @ts-ignore\n    return of(url.match(regEx)[0].replace(';' + param + '=', ''));\n  }\n  const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n  if (!route.parent) {\n    return paramValue;\n  }\n  return combineLatest([paramValue, getRouteParams(route.parent, param)]).pipe(map(params => params[0] || params[1]));\n};\n"]}