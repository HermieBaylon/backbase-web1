{"version":3,"file":"account-card-view.component.js","sourceRoot":"","sources":["../../../../../../../libs/contact-common-ang/src/lib/components/account-card-view/account-card-view.component.ts","../../../../../../../libs/contact-common-ang/src/lib/components/account-card-view/account-card-view.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAU,MAAM,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,wBAAwB,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;;;;;;;;;;AAGlG;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AAKH,MAAM,OAAO,wBAAwB;IAJrC;QAKE,YAAO,GAA6B,IAAI,CAAC;QACzC;;WAEG;QACM,UAAK,GAAG,CAAC,CAAC;QAMnB;;WAEG;QACM,eAAU,GAAG,KAAK,CAAC;QAC5B;;WAEG;QACO,gBAAW,GAAG,IAAI,YAAY,EAAU,CAAC;QACnD;;WAEG;QACO,kBAAa,GAAG,IAAI,YAAY,EAAU,CAAC;KAuCtD;IA5BC;;OAEG;IACH,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrE,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,IAAI,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClG,CAAC;IACD;;OAEG;IACH,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IACD;;OAEG;IACH,eAAe;QACb,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IACD;;;;;OAKG;IACH,cAAc,CAAC,OAAgB;QAC7B,OAAO,cAAc,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;;yIA5DU,wBAAwB;6HAAxB,wBAAwB,yRChCrC,+7KAsGA;4FDtEa,wBAAwB;kBAJpC,SAAS;mBAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,WAAW,EAAE,oCAAoC;iBAClD;8BAMU,KAAK;sBAAb,KAAK;gBAKN,OAAO;sBADN,KAAK;gBAKG,UAAU;sBAAlB,KAAK;gBAII,WAAW;sBAApB,MAAM;gBAIG,aAAa;sBAAtB,MAAM;gBAKP,WAAW;sBADV,KAAK;gBAMN,oBAAoB;sBADnB,KAAK","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { addressFromAccountHolder, addressFromBank, isObjectTruthy } from '../../helpers/address';\nimport { AccountInformation, Address } from '../../models/types';\n\n/**\n * The component is for showing contact account in a card view\n *\n * The following extension slots are available in this component:\n *  - `AccountCardViewCustomizableDirective`\n *\n * @see AccountCardViewCustomizableDirective\n * @usageNotes\n *\n * ### Display contact account data in card\n *\n * ```html\n *  <bb-account-card-view\n *   [index]=\"hostRef.index\"\n *   [isEditMode]=\"true\"\n *   [account]=\"hostRef.account\"\n *   [bankAddress]=\"hostRef.bankAddress\"\n *   [accountHolderAddress]=\"hostRef.accountHolderAddress\"\n *   (deleteAccount)=\"hostRef.onDeleteAccount($event)\"\n *   (editAccount)=\"hostRef.onEditAccount($event)\">\n * </bb-account-card-view>\n * ```\n * @ngModule AccountCardViewModule\n */\n@Component({\n  selector: 'bb-account-card-view',\n  templateUrl: './account-card-view.component.html',\n})\nexport class AccountCardViewComponent implements OnInit {\n  hostRef: AccountCardViewComponent = this;\n  /**\n   * Current index of the account Information\n   */\n  @Input() index = 0;\n  /**\n   * The details of the contact account\n   */\n  @Input()\n  account!: AccountInformation;\n  /**\n   * Flag that denotes if the account information can be edited. Defaults to `false`\n   */\n  @Input() isEditMode = false;\n  /**\n   * Event emitted when account is editted\n   */\n  @Output() editAccount = new EventEmitter<number>();\n  /**\n   * Event emitted when account is deleted\n   */\n  @Output() deleteAccount = new EventEmitter<number>();\n  /**\n   * The address of the bank\n   */\n  @Input()\n  bankAddress!: Address;\n  /**\n   * The address of the account holder\n   */\n  @Input()\n  accountHolderAddress!: Address;\n  /**\n   * OnInit - set up initial values.\n   */\n  ngOnInit() {\n    this.bankAddress = this.bankAddress || addressFromBank(this.account);\n    this.accountHolderAddress = this.accountHolderAddress || addressFromAccountHolder(this.account);\n  }\n  /**\n   * Emits the edit Account event\n   */\n  onEditAccount() {\n    this.editAccount.emit(this.index);\n  }\n  /**\n   * Emits the delete account event\n   */\n  onDeleteAccount() {\n    this.deleteAccount.emit(this.index);\n  }\n  /**\n   * Verifies if the address is valid.\n   *\n   * @param {Address} address object\n   * @returns {boolean} valid or not.\n   */\n  isValidAddress(address: Address): boolean {\n    return isObjectTruthy(address);\n  }\n}\n","<ng-container bbAccountCardViewCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n<ng-template bbAccountCardViewCustomizable let-hostRef>\n  <div class=\"bb-stack\">\n    <bb-icon-ui class=\"bb-stack__item bb-stack__item--align-top mt-1\" name=\"accounts\"></bb-icon-ui>\n    <div class=\"bb-stack__item bb-stack__item--fill\">\n      <div class=\"bb-stack bb-block--md\">\n        <div class=\"bb-stack__item bb-stack__item--fill\">\n          <bb-header-ui\n            headingType=\"h3\"\n            [heading]=\"hostRef.account.name\"\n            headingClasses=\"bb-stack__item bb-stack__item--fill break-word\"\n            data-role=\"contact-details-account-name\"\n          >\n          </bb-header-ui>\n          <div class=\"bb-text-support\">{{hostRef.account.alias}}</div>\n        </div>\n        <ng-container *ngIf=\"hostRef.isEditMode\">\n          <button\n            bbButton\n            data-role=\"edit-account-button\"\n            [circle]=\"true\"\n            size=\"sm\"\n            color=\"link\"\n            (click)=\"hostRef.onEditAccount()\"\n            bbTooltip=\"Edit account\"\n            triggers=\"hover focus\"\n            i18n-bbTooltip=\"@@contact-address-data.contactaddress.card.btn.edit.label\"\n          >\n            <bb-icon-ui class=\"text-dark\" name=\"edit\"></bb-icon-ui>\n          </button>\n          <button\n            bbButton\n            [circle]=\"true\"\n            size=\"sm\"\n            color=\"link\"\n            (click)=\"hostRef.onDeleteAccount()\"\n            bbTooltip=\"Delete account\"\n            triggers=\"hover focus\"\n            i18n-bbTooltip=\"@@contact-address-data.contactaddress.card.btn.delete.label\"\n            data-role=\"account-contact-delete\"\n          >\n            <bb-icon-ui class=\"text-dark\" name=\"delete\"></bb-icon-ui>\n          </button>\n        </ng-container>\n      </div>\n      <dl>\n        <div class=\"bb-block bb-block--md\">\n          <div *ngIf=\"hostRef.account.IBAN\" class=\"bb-inline-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.iban.label\">IBAN:</dt>\n            <dd class=\"bb-inline-stack__item break-word bb-block--no-margin\" data-role=\"contact-details-account-number\">\n              {{hostRef.account.IBAN | bbIban}}\n            </dd>\n          </div>\n          <div *ngIf=\"hostRef.account.accountNumber\" class=\"bb-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.bban.label\">BBAN:</dt>\n            <dd class=\"bb-inline-stack__item break-word bb-block--no-margin\" data-role=\"contact-details-account-number\">\n              {{hostRef.account.accountNumber}}\n            </dd>\n          </div>\n          <div *ngIf=\"hostRef.account.accountType\" class=\"bb-inline-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.account-type.label\">\n              Account type:\n            </dt>\n            <dd class=\"break-word bb-inline-stack__item bb-block--no-margin\">{{hostRef.account.accountType}}</dd>\n          </div>\n          <div *ngIf=\"hostRef.account.bankName\" class=\"bb-inline-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.bank-name.label\">Bank:</dt>\n            <dd data-role=\"contact-details-bank-name\" class=\"bb-inline-stack__item break-word bb-block--no-margin\">\n              {{hostRef.account.bankName}}\n            </dd>\n          </div>\n          <div *ngIf=\"hostRef.account.bankCode\" class=\"bb-inline-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.bank-code.label\">\n              Bank branch code:\n            </dt>\n            <dd data-role=\"contact-details-bank-code\" class=\"bb-inline-stack__item break-word bb-block--no-margin\">\n              {{hostRef.account.bankCode}}\n            </dd>\n          </div>\n          <div *ngIf=\"hostRef.account.BIC\" class=\"bb-inline-stack bb-block--xs bb-block--full-width text-dark\">\n            <dt class=\"bb-inline-stack__item bb-text-bold\" i18n=\"@@bb-account-card-view.bic.label\">BIC:</dt>\n            <dd class=\"bb-inline-stack__item break-word bb-block--no-margin\">{{hostRef.account.BIC}}</dd>\n          </div>\n        </div>\n        <div class=\"bb-block bb-block--xs\" *ngIf=\"hostRef.isValidAddress(hostRef.bankAddress)\">\n          <dt class=\"bb-text-bold\" i18n=\"@@bb-account-card-view.bank.address.label\">Bank branch address</dt>\n          <dd class=\"break-word\" data-role=\"contact-details-account-bank-address\">\n            <bb-contact-full-address [address]=\"hostRef.bankAddress\"></bb-contact-full-address>\n          </dd>\n        </div>\n        <div class=\"bb-block bb-block--xs\" *ngIf=\"hostRef.isValidAddress(hostRef.accountHolderAddress)\">\n          <dt class=\"bb-text-bold\" i18n=\"@@bb-account-card-view.accountHolder.address.label\">\n            Account holder's address\n          </dt>\n          <dd class=\"break-word\" data-role=\"contact-details-account-holder-address\">\n            <bb-contact-full-address [address]=\"hostRef.accountHolderAddress\"></bb-contact-full-address>\n          </dd>\n        </div>\n      </dl>\n    </div>\n  </div>\n</ng-template>\n"]}