{"version":3,"file":"email-domain-validator.directive.js","sourceRoot":"","sources":["../../../../../../../libs/contact-common-ang/src/lib/directives/email-domain/email-domain-validator.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAC1C,OAAO,EAAmB,aAAa,EAAa,MAAM,gBAAgB,CAAC;;AAE3E;;;;;;;;;GASG;AAMH,MAAM,OAAO,6BAA6B;IAJ1C;QAKU,wBAAmB,GAAG,4DAA4D,CAAC;KAc5F;IAZC;;;;;OAKG;IACH,QAAQ,CAAC,OAAwB;QAC/B,MAAM,KAAK,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,KAAK,CAAC;QAC7B,IAAI,CAAC,KAAK;YAAE,OAAO,IAAI,CAAC;QAExB,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC;IAC5E,CAAC;;8IAdU,6BAA6B;kIAA7B,6BAA6B,mDAF7B,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,6BAA6B,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;4FAErF,6BAA6B;kBAJzC,SAAS;mBAAC;oBACT,QAAQ,EAAE,0BAA0B;oBACpC,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,+BAA+B,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;iBACjG","sourcesContent":["import { Directive } from '@angular/core';\nimport { AbstractControl, NG_VALIDATORS, Validator } from '@angular/forms';\n\n/**\n * This is a directive to validate presence of email top-level domain\n *\n * @usageNotes\n *\n * ```html\n * <input type=\"email\" #ibanControl=\"ngModel\" [(ngModel)]=\"iban\" bbDomainValidator />\n * ```\n * @ngModule EmailDomainModule\n */\n\n@Directive({\n  selector: '[bbEmailDomainValidator]',\n  providers: [{ provide: NG_VALIDATORS, useExisting: EmailDomainValidatorDirective, multi: true }],\n})\nexport class EmailDomainValidatorDirective implements Validator {\n  private topLevelDomainRegex = /@.*\\.(([a-zA-Z])|([a-zA-Z0-9][a-zA-Z0-9.\\-]*[a-zA-Z0-9]))$/;\n\n  /**\n   * Performs validation\n   *\n   * @param {AbstractControl} control form control\n   * @returns {Record<string, any>?} form control error object\n   */\n  validate(control: AbstractControl): Record<string, any> | null {\n    const value = control?.value;\n    if (!value) return null;\n\n    return this.topLevelDomainRegex.test(value) ? null : { email: { value } };\n  }\n}\n"]}