{"version":3,"file":"service-agreement-list.component.js","sourceRoot":"","sources":["../../../../../../../libs/select-context-widget-ang/src/lib/select-context-widget/service-agreement-list/service-agreement-list.component.ts","../../../../../../../libs/select-context-widget-ang/src/lib/select-context-widget/service-agreement-list/service-agreement-list.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAClF,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;;;;;AAiB3D,MAAM,OAAO,6BAA6B;IAJ1C;QAKE,YAAO,GAAG,IAAI,CAAC;QACN,sBAAiB,GAAuB,EAAE,CAAC;QAE3C,YAAO,GAAG,KAAK,CAAC;QAChB,gBAAW,GAAG,EAAE,CAAC;QACjB,eAAU,GAAG,CAAC,CAAC;QACf,SAAI,GAAG,CAAC,CAAC;QAER,aAAQ,GAAG,IAAI,YAAY,EAAQ,CAAC;QAC9C,4DAA4D;QAClD,WAAM,GAAG,IAAI,YAAY,EAAoB,CAAC;KASzD;IAPC,UAAU;QACR,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,QAAQ,CAAC,gBAAkC;QACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACrC,CAAC;;8IAnBU,6BAA6B;kIAA7B,6BAA6B,oSClB1C,yoGAmFA,gZDxCa,sDAAsD;4FAzBtD,6BAA6B;kBAJzC,SAAS;mBAAC;oBACT,QAAQ,EAAE,2BAA2B;oBACrC,WAAW,EAAE,yCAAyC;iBACvD;8BAGU,iBAAiB;sBAAzB,KAAK;gBACG,cAAc;sBAAtB,KAAK;gBACG,OAAO;sBAAf,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,IAAI;sBAAZ,KAAK;gBAEI,QAAQ;sBAAjB,MAAM;gBAEG,MAAM;sBAAf,MAAM;;AAcT,MAAM,OAAO,sDAAuD,SAAQ,UAG3E;;uKAHY,sDAAsD;2JAAtD,sDAAsD;4FAAtD,sDAAsD;kBAHlE,SAAS;mBAAC;oBACT,QAAQ,EAAE,mDAAmD;iBAC9D","sourcesContent":["import { Component, Input, Output, EventEmitter, Directive } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\nimport { ServiceAgreement } from '../services/select-context.service';\n\nexport interface ServiceAgreementListCustomizableContext {\n  serviceAgreements: ServiceAgreement[] | null;\n  currentContext: ServiceAgreement | undefined | null;\n  loading: boolean | null;\n  searchValue: string | null;\n  totalCount: number | null;\n  from: number | null;\n}\n\n@Component({\n  selector: 'bb-service-agreement-list',\n  templateUrl: './service-agreement-list.component.html',\n})\nexport class ServiceAgreementListComponent {\n  hostRef = this;\n  @Input() serviceAgreements: ServiceAgreement[] = [];\n  @Input() currentContext: ServiceAgreement | undefined;\n  @Input() loading = false;\n  @Input() searchValue = '';\n  @Input() totalCount = 0;\n  @Input() from = 0;\n\n  @Output() loadMore = new EventEmitter<void>();\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() select = new EventEmitter<ServiceAgreement>();\n\n  onLoadMore() {\n    this.loadMore.emit();\n  }\n\n  onSelect(serviceAgreement: ServiceAgreement) {\n    this.select.emit(serviceAgreement);\n  }\n}\n\n@Directive({\n  selector: '[bbSelectContextServiceAgreementListCustomizable]',\n})\nexport class SelectContextServiceAgreementListCustomizableDirective extends BbTemplate<\n  ServiceAgreementListComponent,\n  ServiceAgreementListCustomizableContext\n> {}\n","<ng-container\n  bbSelectContextServiceAgreementListCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    serviceAgreements: serviceAgreements,\n    currentContext: currentContext,\n    loading: loading,\n    searchValue: searchValue,\n    totalCount: totalCount,\n    from: from\n  }\">\n</ng-container>\n\n<ng-template\n  bbSelectContextServiceAgreementListCustomizable\n  let-hostRef\n  let-serviceAgreements=\"context.serviceAgreements\"\n  let-currentContext=\"context.currentContext\"\n  let-loading=\"context.loading\"\n  let-searchValue=\"context.searchValue\"\n  let-totalCount=\"context.totalCount\"\n  let-from=\"context.from\">\n  <ng-container *ngIf=\"currentContext && !searchValue\">\n    <div\n      data-role=\"current-context-label\"\n      class=\"bb-select-context__subheader\"\n      i18n=\"Current context|Current context label@@select-context.label.currentContext\">\n      Current context\n    </div>\n    <div class=\"list-group list-group-flush\">\n      <div\n        role=\"button\"\n        data-role=\"current-context-data\"\n        tabindex=\"0\"\n        (click)=\"hostRef.onSelect(currentContext)\"\n        (keyup.enter)=\"hostRef.onSelect(currentContext)\"\n        class=\"bb-select-context__current-context list-group-item list-group-item-action\">\n        <bb-service-agreement-item [item]=\"currentContext\"></bb-service-agreement-item>\n      </div>\n    </div>\n\n    <div\n      class=\"bb-select-context__subheader\"\n      data-role=\"switch-context-label\"\n      i18n=\"Switch to context|Switch to context label@@select-context.label.switchToContext\">\n      Switch to context\n    </div>\n  </ng-container>\n\n  <div class=\"bb-select-context__subheader\" *ngIf=\"searchValue && totalCount > 0\">\n    <span i18n=\"Results found|Results found label@@select-context.label.resultsFound\">\n      {totalCount, plural, =1 {1 result found} other {{{totalCount}} results found}}\n    </span>\n  </div>\n\n  <div class=\"list-group list-group-flush\">\n    <div\n      *ngFor=\"let item of serviceAgreements; let first = first; let last = last\"\n      role=\"button\"\n      tabindex=\"0\"\n      [attr.data-role]=\"'service-agreement-list-item-' + item.name\"\n      (click)=\"hostRef.onSelect(item)\"\n      (keyup.enter)=\"hostRef.onSelect(item)\"\n      [class.first]=\"first\"\n      [class.last]=\"last\"\n      class=\"list-group-item list-group-item-action bb-select-context__item\">\n      <bb-service-agreement-item [item]=\"item\"></bb-service-agreement-item>\n    </div>\n  </div>\n\n  <div [class.invisible]=\"!loading\" *ngIf=\"serviceAgreements.length !== totalCount\">\n    <bb-loading-indicator-ui loaderSize=\"sm\"></bb-loading-indicator-ui>\n  </div>\n\n  <div class=\"bb-select-context__items-loaded-label\" *ngIf=\"from > 0 && serviceAgreements.length === totalCount\">\n    <span *ngIf=\"!searchValue\" i18n=\"All items loaded|All items loaded label@@select-context.label.allItemsLoaded\">\n      All items are loaded\n    </span>\n    <span *ngIf=\"searchValue\" i18n=\"All items loaded|All items loaded label@@select-context.label.allResultsLoaded\">\n      All results are loaded\n    </span>\n  </div>\n</ng-template>\n"]}