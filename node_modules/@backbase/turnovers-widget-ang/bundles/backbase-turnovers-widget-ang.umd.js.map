{"version":3,"file":"backbase-turnovers-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/turnovers-widget/src/bb-turnovers-legend/bb-turnovers-legend.component.ts","../../../../libs/turnovers-widget/src/bb-turnovers-legend/bb-turnovers-legend.component.html","../../../../libs/turnovers-widget/src/ngx-charts/common/bb-grid-panel-series.component.ts","../../../../libs/turnovers-widget/src/ngx-charts/common/bb-grid-panel-series.component.html","../../../../libs/turnovers-widget/src/constants.ts","../../../../libs/turnovers-widget/src/turnovers-vertical-bar-chart/turnovers-vertical-bar-chart.component.ts","../../../../libs/turnovers-widget/src/turnovers-vertical-grouped-bar-chart/bb-charts-series-vertical.component.ts","../../../../libs/turnovers-widget/src/turnovers-vertical-grouped-bar-chart/bb-charts-series-vertical.component.html","../../../../libs/turnovers-widget/src/turnovers-vertical-grouped-bar-chart/turnovers-vertical-grouped-bar-chart.component.ts","../../../../libs/turnovers-widget/src/turnovers-vertical-grouped-bar-chart/turnovers-vertical-grouped-bar-chart.component.html","../../../../libs/turnovers-widget/src/turnovers-bar-chart/turnovers-bar-chart.component.ts","../../../../libs/turnovers-widget/src/turnovers-bar-chart/turnovers-bar-chart.component.html","../../../../libs/turnovers-widget/src/turnovers-vertical-stacked-bar-chart/turnovers-vertical-stacked-bar-chart.component.ts","../../../../libs/turnovers-widget/src/turnovers-vertical-stacked-bar-chart/turnovers-vertical-stacked-bar-chart.component.html","../../../../libs/turnovers-widget/src/model/turnovers.ts","../../../../libs/turnovers-widget/src/turnovers-widget-helpers.service.ts","../../../../libs/turnovers-widget/src/turnovers.service.ts","../../../../libs/turnovers-widget/src/turnovers/turnovers.component.ts","../../../../libs/turnovers-widget/src/turnovers/turnovers.component.html","../../../../libs/turnovers-widget/src/turnovers-widget.component.ts","../../../../libs/turnovers-widget/src/turnovers-widget.component.html","../../../../libs/turnovers-widget/src/turnovers-widget.module.ts","../../../../libs/turnovers-widget/backbase-turnovers-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ColorHelper, formatLabel } from '@swimlane/ngx-charts';\nimport { LegendEntries } from '../model/turnovers';\n\n@Component({\n  selector: 'bb-charts-legend',\n  templateUrl: './bb-turnovers-legend.component.html',\n  styleUrls: ['./bb-turnovers-legend.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BbTurnoversLegendComponent implements OnChanges {\n  /**\n   * The data for the chart legend.\n   */\n  @Input() data: string[] = [];\n  /**\n   * The title for the chart legend.\n   */\n  @Input() title?: string;\n  /**\n   * The color palette for the chart legend.\n   */\n  @Input() colors?: ColorHelper;\n  /**\n   * The height for the chart legend.\n   */\n  @Input() height?: number;\n  /**\n   * The width for the chart legend.\n   */\n  @Input() width?: number;\n  /**\n   * The active entries for the chart legend.\n   */\n  @Input() activeEntries?: any[] = [];\n\n  /**\n   * EventEmitter for triggering a labelClick event.\n   */\n  @Output() labelClick: EventEmitter<any> = new EventEmitter();\n  /**\n   * EventEmitter for triggering a labelActivate event.\n   */\n  @Output() labelActivate: EventEmitter<any> = new EventEmitter();\n  /**\n   * EventEmitter for triggering a labelDeactivate event.\n   */\n  @Output() labelDeactivate: EventEmitter<any> = new EventEmitter();\n\n  legendEntries: LegendEntries[] = [];\n\n  constructor(private readonly cd: ChangeDetectorRef) {}\n\n  ngOnChanges(): void {\n    this.update();\n  }\n\n  update(): void {\n    this.cd.markForCheck();\n    this.legendEntries = this.getLegendEntries();\n  }\n\n  getLegendEntries(): LegendEntries[] {\n    const items = [];\n\n    for (const label of this.data) {\n      const formattedLabel = formatLabel(label);\n\n      const idx = items.findIndex((i) => {\n        return i.label === formattedLabel;\n      });\n\n      if (idx === -1) {\n        items.push({\n          label,\n          formattedLabel,\n          color: this.colors?.getColor(label),\n        });\n      }\n    }\n\n    return items;\n  }\n\n  isActive(entry: LegendEntries): boolean {\n    if (!this.activeEntries) return false;\n    const item = this.activeEntries.find((d: any) => {\n      return entry.label === d.name;\n    });\n    return item !== undefined;\n  }\n\n  activate(item: any) {\n    this.labelActivate.emit(item);\n  }\n\n  deactivate(item: any) {\n    this.labelDeactivate.emit(item);\n  }\n\n  trackBy(index: number, item: LegendEntries): string {\n    return item.label;\n  }\n}\n","<div class=\"row\">\n  <header class=\"legend-title\" *ngIf=\"title?.length > 0\">\n    <span class=\"legend-title-text\">{{title}}</span>\n  </header>\n  <div class=\"legend-wrap\">\n    <ul class=\"legend-labels d-flex px-5 mb-3\"\n      [style.max-height.px]=\"height ? height - 45 : 'inherit'\">\n      <li\n        *ngFor=\"let entry of legendEntries; trackBy: trackBy\"\n        class=\"legend-label text-dark text-capitalize\">\n        <ngx-charts-legend-entry\n          [label]=\"entry.label\"\n          [formattedLabel]=\"entry.formattedLabel\"\n          [color]=\"entry.color\"\n          [isActive]=\"isActive(entry)\"\n          (select)=\"labelClick.emit($event)\"\n          (activate)=\"activate($event)\"\n          (deactivate)=\"deactivate($event)\">\n        </ngx-charts-legend-entry>\n      </li>\n    </ul>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component, Input, OnChanges } from '@angular/core';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\nimport { ScaleBand, ScaleLinear } from 'd3-scale';\nimport { ChartData, ChartDataLabels, Dims } from '../../model/turnovers';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'g[bb-charts-grid-panel-series]',\n  templateUrl: './bb-grid-panel-series.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BbGridPanelSeriesComponent implements OnChanges {\n  gridPanels: ChartDataLabels[] = [];\n\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() data: ChartData[] = [];\n  /**\n   * Dimensions of the chart.\n   */\n  @Input()\n  dims: Dims = {\n    height: 0,\n    width: 0,\n  };\n\n  /**\n   * Horizontal scale of the chart.\n   */\n  @Input() xScale?: ScaleBand<string>;\n  /**\n   * Vertical scale of the chart.\n   */\n  @Input() yScale?: ScaleLinear<number, number>;\n\n  _orient?: string;\n  @Input()('orient') set orient(val: string) {\n    this.deprecationService.logDeprecatedFeature('Removed #orient input from #BbGridPanelSeriesComponent');\n    this._orient = val;\n  }\n  get orient() {\n    return this._orient || 'vertical';\n  }\n\n  ngOnChanges() {\n    this.update();\n  }\n\n  update() {\n    this.gridPanels = this.getChartDataLabels();\n  }\n\n  private getChartDataLabels(): ChartDataLabels[] {\n    return this.data.map((d) => {\n      const labelName = d.name ?? '';\n      let width = 0;\n      let xValue = 0;\n\n      if (!!this.xScale) {\n        const offset = this.xScale.bandwidth() * this.xScale.paddingInner();\n        width = this.xScale.bandwidth() + offset;\n        xValue = (this.xScale(labelName) || 0) - offset / 2;\n      }\n\n      return {\n        name: labelName,\n        class: d.badge === 'forecast' ? 'forecast' : '',\n        width: width,\n        height: this.dims.height,\n        x: xValue,\n        y: 0,\n        roundEdges: false,\n      };\n    });\n  }\n\n  getGridPanels(): any[] {\n    this.deprecationService.logDeprecatedFeature(\n      '#getGridPanels deprecation in favor of private method #getChartDataLabels from #BbGridPanelSeriesComponent',\n    );\n    const localXScale: any = this.xScale;\n    const localYScale: any = this.yScale;\n\n    return this.data.map((d) => {\n      let offset;\n      let width;\n      let height;\n      let x;\n      let y;\n\n      if (this.orient === 'vertical') {\n        offset = localXScale.bandwidth() * localXScale.paddingInner();\n        width = localXScale.bandwidth() + offset;\n        height = this.dims.height;\n        x = (localXScale(d.name) || 0) - offset / 2;\n        y = 0;\n      } else if (this.orient === 'horizontal') {\n        offset = localYScale.bandwidth() * localYScale.paddingInner();\n        width = this.dims.width;\n        height = localYScale.bandwidth() + offset;\n        x = 0;\n        y = localYScale(d.name) - offset / 2;\n      }\n\n      return {\n        name: d.name,\n        class: d.badge === 'forecast' ? 'forecast' : '',\n        height,\n        width,\n        x,\n        y,\n      };\n    });\n  }\n\n  constructor(private deprecationService: DeprecationsService) {}\n}\n","<svg:g *ngFor=\"let gridPanel of gridPanels\">\n  <svg:g ngx-charts-grid-panel\n    [height]=\"gridPanel.height\"\n    [width]=\"gridPanel.width\"\n    [x]=\"gridPanel.x\"\n    [y]=\"gridPanel.y\"\n    [class.grid-panel]=\"true\"\n    [class.forecast]=\"gridPanel.class === 'forecast'\">\n  </svg:g>\n</svg:g>\n","import { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface Period {\n  interval: string;\n  duration: number;\n  default?: boolean;\n}\n\nexport interface GridData {\n  name: string;\n  class: string;\n  width: number;\n  height: number;\n  x: number;\n  y: number;\n}\n\nexport interface Properties {\n  name: string;\n  value: boolean;\n}\n\nexport const PROPERTIES = {\n  FORECAST: {\n    name: 'showForecast',\n    value: true,\n  },\n};\n\nexport const PERIODS: Period[] = [\n  {\n    interval: 'MONTH',\n    duration: 6,\n    default: true,\n  },\n  {\n    interval: 'MONTH',\n    duration: 12,\n  },\n];\n\nexport type Interval = 'DAY' | 'WEEK' | 'MONTH' | 'YEAR';\n\nexport type Forecast = 'NONE' | 'AVG';\n\nexport const INTERVAL: { [key: string]: Interval } = {\n  DAY: 'DAY',\n  WEEK: 'WEEK',\n  MONTH: 'MONTH',\n  YEAR: 'YEAR',\n};\n\nexport const DEFAULT_INTERVAL = INTERVAL.MONTH;\nexport const DEFAULT_DURATION = 6;\nexport const DEFAULT_START_DAY = 1;\n\nexport const BAR_COLORS_CSS_VAR = '--chart-group-bar-color';\nexport const CHART_COLORS = ['#004285', '#107bb5'];\n\nexport const MOBILE_WIDGET_WIDTH = 688;\n\nexport const filterInputParameters = <T>(input: Observable<T | undefined>, prop: Observable<T>): Observable<T> =>\n  combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  Output,\n  PLATFORM_ID,\n  TemplateRef,\n} from '@angular/core';\nimport {\n  BaseChartComponent,\n  calculateViewDimensions,\n  ColorHelper,\n  ScaleType,\n  ViewDimensions,\n} from '@swimlane/ngx-charts';\nimport { ScaleBand, scaleBand, ScaleLinear, scaleLinear } from 'd3-scale';\nimport { ChartData, LabelMaxHeight } from '../model/turnovers';\n\n@Component({\n  template: '',\n})\nexport class TurnoversVerticalBarChartComponent extends BaseChartComponent {\n  /**\n   * Enable/Disable chart legend.\n   */\n  @Input() legend = false;\n  /**\n   * The title for the chart legend.\n   */\n  @Input() legendTitle = '';\n  /**\n   * Hide/show the horizontal axis.\n   */\n  @Input() xAxis = true;\n  /**\n   * Hide/show the vertical axis.\n   */\n  @Input() yAxis = true;\n  /**\n   * Show the horizontal axis label.\n   */\n  @Input() showXAxisLabel = true;\n  /**\n   * Show the vertical axis label.\n   */\n  @Input() showYAxisLabel = true;\n  /**\n   * The label for the horizontal axis.\n   */\n  @Input() xAxisLabel = '';\n  /**\n   * The label for the vertical axis.\n   */\n  @Input() yAxisLabel = '';\n  /**\n   * Enable/Disable chart tooltip.\n   */\n  @Input() tooltipDisabled = false;\n  /**\n   * Enable/Disable chart gradient.\n   */\n  @Input() gradient = false;\n  /**\n   * Show/hide chart grid lines.\n   */\n  @Input() showGridLines = true;\n  /**\n   * The active entries for the chart legend.\n   */\n  @Input() activeEntries: any[] = [];\n  /**\n   * Sets the scheme type of the chart.\n   */\n  @Input() schemeType: ScaleType = ScaleType.Ordinal;\n  /**\n   * Horizontal axis tick formatting.\n   */\n  @Input() xAxisTickFormatting: any;\n  /**\n   * Vertical axis tick formatting.\n   */\n  @Input() yAxisTickFormatting: any;\n  /**\n   * Padding of the chart bars.\n   */\n  @Input() barPadding = 8;\n  /**\n   * Enable/Disable rounded corners.\n   */\n  @Input() roundDomains = true;\n  /**\n   * Enable/disable rounded edges for the bars.\n   */\n  @Input() roundEdges = false;\n  /**\n   * Maximum vertical chart scale.\n   */\n  @Input() yScaleMax = 0;\n  /**\n   * Hide/show the data labels.\n   */\n  @Input() showDataLabel = false;\n  /**\n   * Formatting for the data labels.\n   */\n  @Input() dataLabelFormatting: any;\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() groupsData: ChartData[] = [];\n  /**\n   * The chart tooltip template.\n   */\n  @Input() tooltipTemplate: TemplateRef<any> | undefined;\n  /**\n   * The chart legend template.\n   */\n  @Input() legendTemplate: TemplateRef<any> | null = null;\n\n  /**\n   * EventEmitter for triggering a activate event.\n   */\n  @Output() activate: EventEmitter<any> = new EventEmitter();\n  /**\n   * EventEmitter for triggering a deactivate event.\n   */\n  @Output() deactivate: EventEmitter<any> = new EventEmitter();\n\n  dims: ViewDimensions = { width: 0, height: 0, xOffset: 0 };\n  groupDomain: any[] = [];\n  innerDomain: any[] = [];\n  valueDomain: any[] = [];\n  transform: string | undefined;\n  colors: ColorHelper | undefined;\n  margin = [10, 20, 10, 20];\n  xAxisHeight = 0;\n  yAxisWidth = 0;\n  dataLabelMaxHeight: LabelMaxHeight = { negative: 0, positive: 0 };\n\n  constructor(chartElement: ElementRef, zone: NgZone, cd: ChangeDetectorRef, @Inject(PLATFORM_ID) platformId: string) {\n    super(chartElement, zone, cd, platformId);\n  }\n\n  update(): void {\n    super.update();\n\n    if (!this.showDataLabel) {\n      this.dataLabelMaxHeight = { negative: 0, positive: 0 };\n    }\n    this.margin = [10 + this.dataLabelMaxHeight.positive, 20, 10 + this.dataLabelMaxHeight.negative, 20];\n\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n    });\n\n    if (this.showDataLabel) {\n      this.dims.height -= this.dataLabelMaxHeight.negative;\n    }\n\n    this.formatDates();\n\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n\n    this.setColors();\n\n    this.transform = `translate(${this.dims.xOffset} , ${this.margin[0] + this.dataLabelMaxHeight.negative})`;\n  }\n\n  getGroupDomain() {\n    const domain: any[] = [];\n    for (const group of this.results) {\n      if (!domain.includes(group.name)) {\n        domain.push(group.name);\n      }\n    }\n    return domain;\n  }\n\n  getInnerDomain() {\n    const domain: any[] = [];\n    for (const group of this.results) {\n      for (const d of group.series) {\n        if (!domain.includes(d.name)) {\n          domain.push(d.name);\n        }\n      }\n    }\n    return domain;\n  }\n\n  getXScale(): ScaleBand<string> {\n    const spacing = this.groupDomain.length / (this.dims.width / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.width]).paddingInner(spacing).domain(this.groupDomain);\n  }\n\n  getYScale(): ScaleLinear<number, number> {\n    const scale = scaleLinear().range([this.dims.height, 0]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  }\n\n  onDataLabelMaxHeightChanged(event: any, groupIndex?: number) {\n    if (event.size.negative) {\n      this.dataLabelMaxHeight.negative = Math.max(this.dataLabelMaxHeight.negative, event.size.height);\n    } else {\n      this.dataLabelMaxHeight.positive = Math.max(this.dataLabelMaxHeight.positive, event.size.height);\n    }\n    if (groupIndex === this.results.length - 1) {\n      setTimeout(() => this.update());\n    }\n  }\n\n  onClick(data: any, group?: any) {\n    if (group) {\n      data.series = group.name;\n    }\n\n    this.select.emit(data);\n  }\n\n  trackBy(index: number, item: any) {\n    return item.name;\n  }\n\n  setColors(): void {\n    const domain = this.schemeType === ScaleType.Ordinal ? this.innerDomain : this.valueDomain;\n\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  }\n\n  updateYAxisWidth(axis: { width: number }) {\n    this.yAxisWidth = axis.width;\n    this.update();\n  }\n\n  updateXAxisHeight(axis: { height: number }) {\n    this.xAxisHeight = axis.height;\n    this.update();\n  }\n\n  onActivate(event: any, group?: any) {\n    const item = Object.assign({}, event);\n    if (group) {\n      item.series = group.name;\n    }\n\n    const idx = this.activeEntries.findIndex((d) => {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n\n    this.activeEntries = [item, ...this.activeEntries];\n    this.activate.emit({ value: item, entries: this.activeEntries });\n  }\n\n  onDeactivate(event: any, group?: any) {\n    const item = Object.assign({}, event);\n    if (group) {\n      item.series = group.name;\n    }\n\n    const idx = this.activeEntries.findIndex((d) => {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = [...this.activeEntries]; // NOSONAR false positive - https://github.com/SonarSource/SonarTS/issues/760\n\n    this.deactivate.emit({ value: item, entries: this.activeEntries });\n  }\n}\n","import { animate, style, transition, trigger } from '@angular/animations';\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, TemplateRef } from '@angular/core';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\nimport {\n  BarOrientation,\n  ColorHelper,\n  DataItem,\n  formatLabel,\n  PlacementTypes,\n  ScaleType,\n  StyleTypes,\n  ViewDimensions,\n} from '@swimlane/ngx-charts';\nimport { ScaleBand, ScaleLinear } from 'd3-scale';\nimport { ChartBarData, ChartColors, ChartData, ChartDataLabels, FormattedChartDataLabels } from '../model/turnovers';\n\nexport enum D0Types {\n  positive = 'positive',\n  negative = 'negative',\n}\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'g[bb-charts-series-vertical]',\n  templateUrl: './bb-charts-series-vertical.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('animationState', [\n      transition(':leave', [\n        style({\n          opacity: 1,\n        }),\n        animate(500, style({ opacity: 0 })),\n      ]),\n    ]),\n  ],\n})\nexport class BbSeriesVerticalComponent implements OnChanges {\n  /**\n   * The dimensions of the chart bars.\n   */\n  @Input() dims?: ViewDimensions;\n  /**\n   * The type of the chart bars.\n   */\n  @Input() type = 'standard';\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() series: ChartBarData[] | undefined;\n  /**\n   * Horizonta scale of the chart bars.\n   */\n  @Input() xScale?: ScaleBand<string>;\n  /**\n   * Vertical of the chart bars.\n   */\n  @Input() yScale?: ScaleLinear<number, number>;\n  /**\n   * The color palette of the chart bars.\n   */\n  @Input() colors?: ColorHelper;\n  /**\n   * Enable/disable bars gradient.\n   */\n  @Input() gradient: boolean = false;\n  /**\n   * The active entries for the chart bars.\n   */\n  @Input() activeEntries: any[] = [];\n  /**\n   * Name of the chart series.\n   */\n  @Input() seriesName? = '';\n  /**\n   * Enabel/Disable bars tooltip.\n   */\n  @Input() tooltipDisabled = false;\n  /**\n   * Show/Hide tooltip caret.\n   */\n  @Input() tooltipShowCaret = false;\n  /**\n   * Template for the bar tooltip.\n   */\n  @Input() tooltipTemplate: TemplateRef<any> | undefined;\n  /**\n   * Enable/disable bars rounded edges.\n   */\n  @Input() roundEdges = false;\n  /**\n   * Enable/disable bars animation.\n   */\n  @Input() animations = true;\n  /**\n   * Show/hide bars label.\n   */\n  @Input() showDataLabel = false;\n  /**\n   * Formatting for the bars labels.\n   */\n  @Input() dataLabelFormatting: any;\n  /**\n   * Chart data objects needed for the chart to be rendered.\n   */\n  @Input() groupData: ChartData | undefined;\n\n  /**\n   * EventEmitter for triggering a select event.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() select = new EventEmitter();\n  /**\n   * EventEmitter for triggering a activate event.\n   */\n  @Output() activate = new EventEmitter();\n  /**\n   * EventEmitter for triggering a deactivate event.\n   */\n  @Output() deactivate = new EventEmitter();\n  /**\n   * EventEmitter for triggering a dataLabelHeightChanged event.\n   */\n  @Output() dataLabelHeightChanged = new EventEmitter();\n\n  tooltipPlacement?: PlacementTypes = PlacementTypes.Top;\n  tooltipType?: StyleTypes = StyleTypes.tooltip;\n  orientation: BarOrientation = BarOrientation.Vertical;\n\n  bars: FormattedChartDataLabels[] | undefined;\n  x: number | undefined;\n  y: number | undefined;\n  barsForDataLabels: ChartDataLabels[] = [];\n\n  private getColors(value: string | number, label: string, offset0?: string | number, offset1?: string | number) {\n    const bar: ChartColors = {};\n\n    if (this.colors) {\n      if (this.colors.scaleType === ScaleType.Ordinal) {\n        bar.color = this.colors.getColor(label);\n      } else {\n        if (this.type === 'standard') {\n          bar.color = this.colors.getColor(value);\n          bar.gradientStops = this.colors.getLinearGradientStops(value);\n        } else {\n          bar.color = this.colors.getColor(offset1 || 0);\n          bar.gradientStops = this.colors.getLinearGradientStops(offset1 || 0, offset0);\n        }\n      }\n    }\n\n    return bar;\n  }\n\n  private tooltipText(label: string, value: string) {\n    return this.tooltipDisabled\n      ? undefined\n      : `\n      <span class=\"tooltip-label\">${label}</span>\n      <span class=\"tooltip-val\">${value}</span>\n    `;\n  }\n\n  ngOnChanges() {\n    if (!this.series) {\n      throw new Error('[series] should be provided to the component!');\n    }\n\n    this.update(this.series);\n  }\n\n  update(series: ChartBarData[]) {\n    this.bars = this.formatChartData(series);\n    this.barsForDataLabels = this.updatedLabels(series);\n  }\n\n  updateDataLabels(series: ChartBarData[]) {\n    this.deprecationService.logDeprecatedFeature(\n      '#updateDataLabels inside #BbSeriesVerticalComponent deprecated in favor of #updatedLabels, which returns the formatted object instead of assigning values within itself',\n    );\n    this.barsForDataLabels = this.updatedLabels(series);\n  }\n\n  updatedBars(series: ChartBarData[]): ChartData[] {\n    let d0Type = D0Types.positive;\n    const width = this.xScale?.bandwidth();\n    const yScaleMin = Math.max(this.yScale!.domain()[0], 0);\n    const d0 = {\n      [D0Types.positive]: 0,\n      [D0Types.negative]: 0,\n    };\n\n    return series.map((d, index, group) => {\n      const value = d.value || 0;\n      const label = d.name || '';\n      const formattedLabel = formatLabel(label);\n      const roundEdges = this.roundEdges;\n      d0Type = value > 0 ? D0Types.positive : D0Types.negative;\n\n      const bar: any = {\n        value,\n        label,\n        roundEdges,\n        data: d,\n        width,\n        formattedLabel,\n        height: 0,\n        x: 0,\n        y: 0,\n      };\n\n      // Use data of the group of bars for tooltips\n      if (this.groupData) {\n        bar.data = {\n          group: group.map((barEl) => ({ ...barEl, color: this.colors?.getColor(barEl.name || '') })),\n          diff: this.groupData.diff,\n          currency: this.groupData.currency,\n          value: d.value,\n          badge: this.groupData.badge,\n        };\n      }\n\n      if (this.type === 'standard') {\n        bar.height = Math.abs(this.yScale!(value) - this.yScale!(yScaleMin));\n        bar.x = this.xScale?.(label);\n        bar.y = this.yScale?.(Math.max(0, value));\n      } else if (this.type === 'stacked') {\n        const offset0 = d0[d0Type];\n        const offset1 = offset0 + value;\n        d0[d0Type] += value;\n\n        bar.height = Math.ceil(this.yScale!(offset0) - this.yScale!(offset1));\n        bar.x = 0;\n        bar.y = this.yScale?.(offset1);\n        bar.offset0 = offset0;\n        bar.offset1 = offset1;\n        bar.roundEdges = index === 1;\n      }\n\n      Object.assign(bar, this.getColors(value, label, bar.offset0, bar.offset1));\n\n      let tooltipLabel = formattedLabel;\n      if (this.seriesName) {\n        tooltipLabel = `${this.seriesName} • ${formattedLabel}`;\n        bar.data.series = this.seriesName;\n      }\n\n      bar.tooltipText = this.tooltipText(tooltipLabel, value.toLocaleString());\n      return bar;\n    });\n  }\n\n  private updatedLabels(series: ChartBarData[]): ChartDataLabels[] {\n    return series.map((d: ChartBarData) => ({\n      name: d.name,\n      series: this.seriesName ? this.seriesName : d.name,\n      total: d.value,\n      x: this.xScale?.(d.name) || 0,\n      y: this.yScale?.(0) || 0,\n      height: this.yScale ? this.yScale(d.value) - this.yScale(0) : 0,\n      width: this.xScale?.bandwidth() || 0,\n      roundEdges: this.roundEdges,\n    }));\n  }\n\n  private formatChartData(series: ChartBarData[]): FormattedChartDataLabels[] {\n    const yScaleMin = Math.max(this.yScale!.domain()[0], 0);\n    const d0 = {\n      [D0Types.positive]: 0,\n      [D0Types.negative]: 0,\n    };\n    const formattedSeries: FormattedChartDataLabels[] = series.map((d, index, group) => {\n      const value = d.value || 0;\n      const label = d.name || '';\n      const d0Type = value > 0 ? D0Types.positive : D0Types.negative;\n      const formattedLabel = formatLabel(label);\n      const tooltipLabel = this.seriesName ? `${this.seriesName} • ${formattedLabel}` : formattedLabel;\n\n      const data: ChartData = {\n        name: this.seriesName || '',\n        group: group.map((barEl) => ({ ...barEl, color: this.colors?.getColor(barEl.name || '') })),\n        series: group.map((barEl) => ({ ...barEl, color: this.colors?.getColor(barEl.name || '') })),\n        diff: this.groupData?.diff,\n        currency: this.groupData?.currency,\n        value: d.value,\n        badge: this.groupData?.badge,\n      };\n      const graphData: DataItem = {\n        name: this.seriesName || '',\n        value: d.value,\n      };\n      const standardType: ChartDataLabels = {\n        height: Math.abs(this.yScale!(value) - this.yScale!(yScaleMin)),\n        offset0: undefined,\n        offset1: undefined,\n        roundEdges: this.roundEdges,\n        x: this.xScale?.(label) || 0,\n        y: this.yScale?.(Math.max(0, value)) || 0,\n        width: this.xScale?.bandwidth() || 0,\n      };\n      const stackedType: ChartDataLabels = {\n        height: Math.ceil(this.yScale!(d0[d0Type]) - this.yScale!(d0[d0Type] + value)),\n        offset0: d0[d0Type],\n        offset1: d0[d0Type] + value,\n        roundEdges: index === 1,\n        x: 0,\n        y: this.yScale?.(d0[d0Type] + value) || 0,\n        width: this.xScale?.bandwidth() || 0,\n      };\n      const typeObject: ChartDataLabels = this.type === 'stacked' ? stackedType : standardType;\n\n      const returnObject: FormattedChartDataLabels = {\n        ...typeObject,\n        ...this.getColors(value, label, typeObject.offset0, typeObject.offset1),\n        data,\n        tooltipText: this.tooltipText(tooltipLabel, value.toLocaleString()),\n        formattedLabel,\n        value,\n        label,\n        graphData: { ...graphData },\n      };\n\n      return returnObject;\n    });\n\n    return formattedSeries;\n  }\n\n  updateTooltipSettings() {\n    this.deprecationService.logDeprecatedFeature(\n      'Deprecated #updateTooltipSettings method inside #BbSeriesVerticalComponent in favor of assigning values during component creation',\n    );\n    this.tooltipPlacement = this.tooltipDisabled ? undefined : PlacementTypes.Top;\n    this.tooltipType = this.tooltipDisabled ? undefined : StyleTypes.tooltip;\n  }\n\n  isActive(entry: any): boolean {\n    if (!this.activeEntries) return false;\n    const item = this.activeEntries.find((d) => {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  }\n\n  onClick(data: any) {\n    this.select.emit(data);\n  }\n\n  trackBy(index: number, bar: any): string {\n    return bar.label;\n  }\n\n  trackDataLabelBy(index: number, barLabel: any) {\n    return `${index}#${barLabel.series}#${barLabel.total}`;\n  }\n\n  constructor(private deprecationService: DeprecationsService) {}\n}\n","<svg:g ngx-charts-bar\n  *ngFor=\"let bar of bars; trackBy: trackBy\"\n  [@animationState]=\"'active'\"\n  [@.disabled]=\"!animations\"\n  [width]=\"bar.width\"\n  [height]=\"bar.height\"\n  [x]=\"bar.x\"\n  [y]=\"bar.y\"\n  [fill]=\"bar.color\"\n  [stops]=\"bar.gradientStops\"\n  [data]=\"bar.graphData\"\n  [orientation]=\"orientation\"\n  [roundEdges]=\"bar.roundEdges\"\n  [gradient]=\"gradient\"\n  [isActive]=\"isActive(bar)\"\n  (select)=\"onClick($event)\"\n  (activate)=\"activate.emit($event)\"\n  (deactivate)=\"deactivate.emit($event)\"\n  ngx-tooltip\n  [tooltipCssClass]=\"'chart-tooltip p-0 border-0'\"\n  [tooltipShowCaret]=\"tooltipShowCaret\"\n  [tooltipDisabled]=\"tooltipDisabled\"\n  [tooltipPlacement]=\"tooltipPlacement\"\n  [tooltipType]=\"tooltipType\"\n  [tooltipTitle]=\"tooltipTemplate ? undefined : bar.tooltipText\"\n  [tooltipTemplate]=\"tooltipTemplate\"\n  [tooltipContext]=\"bar.data\"\n  [animations]=\"animations\">\n</svg:g>\n<svg:g *ngIf=\"showDataLabel\">\n  <svg:g ngx-charts-bar-label \n    *ngFor=\"let b of barsForDataLabels; let i = index; trackBy:trackDataLabelBy\"\n    [barX]=\"b.x\"\n    [barY]=\"b.y\"\n    [barWidth]=\"b.width\"\n    [barHeight]=\"b.height\"\n    [value]=\"b.total\"\n    [valueFormatting]=\"dataLabelFormatting\"\n    [orientation]=\"orientation\"\n    (dimensionsChanged)=\"dataLabelHeightChanged.emit({size:$event, index:i})\"\n  />\n</svg:g>\n","import { animate, style, transition, trigger } from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  Input,\n  NgZone,\n  PLATFORM_ID,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { LegendOptions, LegendPosition, ScaleType } from '@swimlane/ngx-charts';\nimport { scaleBand, ScaleBand, ScaleLinear, scaleLinear } from 'd3-scale';\nimport { ChartData } from '../model/turnovers';\nimport { TurnoversVerticalBarChartComponent } from '../turnovers-vertical-bar-chart/turnovers-vertical-bar-chart.component';\n\n@Component({\n  selector: 'bb-charts-bar-vertical-2d',\n  templateUrl: './turnovers-vertical-grouped-bar-chart.component.html',\n  styleUrls: ['../turnovers-vertical-stacked-bar-chart/turnovers-vertical-stacked-bar-chart.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('animationState', [\n      transition(':leave', [\n        style({\n          opacity: 1,\n          transform: '*',\n        }),\n        animate(500, style({ opacity: 0, transform: 'scale(0)' })),\n      ]),\n    ]),\n  ],\n})\nexport class TurnoversVerticalGroupedBarChartComponent extends TurnoversVerticalBarChartComponent {\n  /**\n   * Sets the scale type of the chart.\n   */\n  @Input() scaleType: ScaleType = ScaleType.Ordinal;\n  /**\n   * Sets the group padding.\n   */\n  @Input() groupPadding = 16;\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() results: ChartData[] = [];\n\n  groupScale?: ScaleBand<string>;\n  innerScale?: ScaleBand<string>;\n  valueScale?: ScaleLinear<number, number>;\n  legendOptions: LegendOptions = {\n    colors: undefined,\n    domain: [],\n    scaleType: this.schemeType,\n    title: '',\n    position: LegendPosition.Below,\n  };\n\n  constructor(chartElement: ElementRef, zone: NgZone, cd: ChangeDetectorRef, @Inject(PLATFORM_ID) platformId: string) {\n    super(chartElement, zone, cd, platformId);\n  }\n\n  update(): void {\n    super.update();\n\n    this.valueDomain = this.getValueDomain();\n    this.groupScale = this.getGroupScale();\n    this.innerScale = this.getInnerScale();\n    this.valueScale = this.getValueScale();\n\n    this.getLegendOptions();\n  }\n\n  getGroupScale(): ScaleBand<string> {\n    const spacing = this.groupDomain.length / (this.dims.height / this.groupPadding + 1);\n    return scaleBand()\n      .rangeRound([0, this.dims.width])\n      .paddingInner(spacing)\n      .paddingOuter(spacing / 2)\n      .domain(this.groupDomain);\n  }\n\n  getInnerScale(): ScaleBand<string> {\n    const width = this.groupScale ? this.groupScale.bandwidth() : 1;\n    const spacing = this.innerDomain.length / (width / this.barPadding + 1);\n    return scaleBand().rangeRound([0, width]).paddingInner(spacing).domain(this.innerDomain);\n  }\n\n  getValueScale(): ScaleLinear<number, number> {\n    const scale = scaleLinear().range([this.dims.height, 0]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  }\n\n  getValueDomain(): number[] {\n    const domain: number[] = [];\n    for (const group of this.results) {\n      for (const d of group.series) {\n        if (!domain.includes(d.value)) {\n          domain.push(d.value);\n        }\n      }\n    }\n\n    const min = Math.min(0, ...domain);\n    const max = this.yScaleMax ? Math.max(this.yScaleMax, ...domain) : Math.max(...domain);\n\n    return [min, max];\n  }\n\n  groupTransform(group: ChartData): string {\n    const labelName = group.name ?? '';\n    return `translate(${this.groupScale?.(labelName)}, 0)`;\n  }\n\n  getLegendOptions(): void {\n    if (!this.colors) {\n      return;\n    }\n    if (this.legendOptions.scaleType === ScaleType.Ordinal) {\n      this.legendOptions.domain = this.innerDomain;\n      this.legendOptions.colors = this.colors;\n      this.legendOptions.title = this.legendTitle || '';\n    } else {\n      this.legendOptions.domain = this.valueDomain;\n      this.legendOptions.colors = this.colors.scale;\n    }\n  }\n}\n","<ngx-charts-chart\n  [view]=\"[width, height]\"\n  [showLegend]=\"legend\"\n  [legendOptions]=\"legendOptions\"\n  [activeEntries]=\"activeEntries\"\n  [animations]=\"animations\"\n  (legendLabelActivate)=\"onActivate($event)\"\n  (legendLabelDeactivate)=\"onDeactivate($event)\"\n  (legendLabelClick)=\"onClick($event)\">\n  <svg:g [attr.transform]=\"transform\" class=\"bar-chart chart\">\n    <svg:g bb-charts-grid-panel-series\n      [xScale]=\"groupScale\"\n      [yScale]=\"valueScale\"\n      [data]=\"groupsData\"\n      [dims]=\"dims\"\n    >\n    </svg:g>\n    <svg:g ngx-charts-x-axis\n      *ngIf=\"xAxis\"\n      [xScale]=\"groupScale\"\n      [dims]=\"dims\"\n      [showLabel]=\"showXAxisLabel\"\n      [labelText]=\"xAxisLabel\"\n      [tickFormatting]=\"xAxisTickFormatting\"\n      [xAxisOffset]=\"dataLabelMaxHeight.negative\"\n      (dimensionsChanged)=\"updateXAxisHeight($event)\">\n    </svg:g>\n    <svg:g ngx-charts-y-axis\n      *ngIf=\"yAxis\"\n      [yScale]=\"valueScale\"\n      [dims]=\"dims\"\n      [showGridLines]=\"showGridLines\"\n      [showLabel]=\"showYAxisLabel\"\n      [labelText]=\"yAxisLabel\"\n      [tickFormatting]=\"yAxisTickFormatting\"\n      (dimensionsChanged)=\"updateYAxisWidth($event)\">\n    </svg:g>\n    <svg:g bb-charts-series-vertical\n      *ngFor=\"let group of groupsData; let index = index; trackBy:trackBy\"\n      [@animationState]=\"'active'\"\n      [attr.transform]=\"groupTransform(group)\"\n      [attr.opacity]=\"(group.badge ? 0.5 : 1)\"\n      [activeEntries]=\"activeEntries\"\n      [xScale]=\"innerScale\"\n      [yScale]=\"valueScale\"\n      [colors]=\"colors\"\n      [series]=\"group.series\"\n      [dims]=\"dims\"\n      [gradient]=\"gradient\"\n      [tooltipDisabled]=\"tooltipDisabled\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [showDataLabel]=\"showDataLabel\"\n      [dataLabelFormatting]=\"dataLabelFormatting\"\n      [seriesName]=\"group.name\"\n      [groupData]=\"group\"\n      [roundEdges]=\"roundEdges\"\n      [animations]=\"animations\"\n      (select)=\"onClick($event, group)\"\n      (activate)=\"onActivate($event, group)\"\n      (deactivate)=\"onDeactivate($event, group)\"\n      (dataLabelHeightChanged)=\"onDataLabelMaxHeightChanged($event, index)\"\n    />\n  </svg:g>\n</ngx-charts-chart>\n\n<ng-container\n  [ngTemplateOutlet]=\"legendTemplate\"\n  [ngTemplateOutletContext]=\"{\n    legendOptions: this.legendOptions,\n    activeEntries: this.activeEntries,\n    height: this.height,\n    onActivate: this.onActivate.bind(this),\n    onDeactivate: this.onDeactivate.bind(this),\n    onClick: this.onClick.bind(this)\n  }\"\n></ng-container>\n","import { CurrencyPipe } from '@angular/common';\nimport { Component, Directive, Input, ViewChild } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { CssVariablesService } from '@backbase/ui-ang/css-variables-lib';\nimport { BarComponent } from '@swimlane/ngx-charts';\nimport { from, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { BAR_COLORS_CSS_VAR, CHART_COLORS, MOBILE_WIDGET_WIDTH } from '../constants';\nimport { ChartData } from '../model/turnovers';\n\n@Component({\n  selector: 'bb-turnovers-bar-chart',\n  templateUrl: './turnovers-bar-chart.component.html',\n  providers: [CssVariablesService],\n})\nexport class TurnoversBarChartComponent {\n  @ViewChild('bbChartsBarVertical2d') barChart2d: BarComponent | undefined;\n\n  /**\n   * Array of Chart data objects needed for the chart to be rendered.\n   */\n  @Input() chartSeriesData: ChartData[] = [];\n  /**\n   * Disable/enable the forecast option on the chart.\n   */\n  @Input() forecast? = false;\n  // bar chart\n\n  // options\n  readonly chartOptions: Observable<{}> = from(this.cssVariableService.getCssVariable(BAR_COLORS_CSS_VAR)).pipe(\n    map((cssVar) => ({\n      colors: cssVar ? cssVar.split(',') : CHART_COLORS,\n      showXAxis: true,\n      showYAxis: true,\n      gradient: false,\n      showLegend: false,\n      showXAxisLabel: true,\n      showYAxisLabel: true,\n    })),\n  );\n\n  constructor(private readonly currencyPipe: CurrencyPipe, private readonly cssVariableService: CssVariablesService) {}\n\n  yAxisTickFormatting(value: number) {\n    const currency = this.chartSeriesData[0].currency;\n\n    if (this.barChart2d && this.barChart2d.width < MOBILE_WIDGET_WIDTH) {\n      const amountVal = value / 1000;\n\n      if (amountVal <= 999) {\n        return `${this.currencyPipe.transform(amountVal, currency, 'symbol', '1.0')}k`;\n      }\n\n      return `${this.currencyPipe.transform(amountVal / 1000, currency, 'symbol', '1.0')}m`;\n    }\n\n    return this.currencyPipe.transform(value, currency, 'symbol', '1.0');\n  }\n}\n\n@Directive({\n  selector: '[bbTurnoversChartTooltipCustomizable]',\n})\nexport class TurnoversChartTooltipCustomizableDirective extends BbTemplate<TurnoversBarChartComponent, undefined> {}\n\n@Directive({\n  selector: '[bbTurnoversChartLegendCustomizable]',\n})\nexport class TurnoversChartLegendCustomizableDirective extends BbTemplate<TurnoversBarChartComponent, undefined> {}\n\n@Directive({\n  selector: '[bbTurnoversVerticalGroupedBarChartCustomizable]',\n})\nexport class TurnoversVerticalGroupedBarChartCustomizableDirective extends BbTemplate<\n  TurnoversBarChartComponent,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbTurnoversVerticalStackedBarChartCustomizable]',\n})\nexport class TurnoversVerticalStackedBarChartCustomizableDirective extends BbTemplate<\n  TurnoversBarChartComponent,\n  undefined\n> {}\n","<div class=\"position-relative pb-25p pb-md-50p\">\n  <ng-container *ngIf=\"this.chartOptions | async as options\">\n    <ng-container\n      bbTurnoversVerticalGroupedBarChartCustomizable\n      [bbHostRef]=\"this\"\n      [bbTemplateContext]=\"{options: options}\"\n    ></ng-container>\n    <ng-container\n      bbTurnoversVerticalStackedBarChartCustomizable\n      [bbHostRef]=\"this\"\n      [bbTemplateContext]=\"{options: options}\"\n    ></ng-container>\n  </ng-container>\n</div>\n\n<ng-template bbTurnoversVerticalGroupedBarChartCustomizable let-hostRef let-options=\"context.options\">\n  <div class=\"bb-turnovers-vertical-chart\">\n    <bb-charts-bar-vertical-2d\n      #bbChartsBarVertical2d\n      class=\"position-static transform-none\"\n      [scheme]=\"{ domain: options.colors }\"\n      [results]=\"hostRef.chartSeriesData\"\n      [groupsData]=\"hostRef.chartSeriesData\"\n      [xAxis]=\"options.showXAxis\"\n      [yAxis]=\"options.showYAxis\"\n      [showXAxisLabel]=\"options.showXAxisLabel\"\n      [showYAxisLabel]=\"options.showYAxisLabel\"\n      [legend]=\"options.showLegend\"\n      [gradient]=\"options.gradient\"\n      [barPadding]=\"0\"\n      [groupPadding]=\"6\"\n      [roundEdges]=\"true\"\n      [legendTemplate]=\"legendTemplate\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [yAxisTickFormatting]=\"yAxisTickFormatting.bind(this)\">\n    </bb-charts-bar-vertical-2d>\n  </div>\n</ng-template>\n\n<ng-template bbTurnoversVerticalStackedBarChartCustomizable let-hostRef let-options=\"context.options\">\n</ng-template>\n\n<ng-template bbTurnoversChartLegendCustomizable #legendTemplate\n  let-legendOptions=\"legendOptions\"\n  let-activeEntries=\"activeEntries\"\n  let-height=\"height\"\n  let-onActivate=\"onActivate\"\n  let-onDeactivate=\"onDeactivate\"\n  let-onClick=\"onClick\">\n  <bb-charts-legend\n    class=\"chart-legend\"\n    [data]=\"legendOptions.domain\"\n    [title]=\"legendOptions.title\"\n    [colors]=\"legendOptions.colors\"\n    [height]=\"height\"\n    [activeEntries]=\"activeEntries\"\n    (labelClick)=\"onClick($event)\"\n    (labelActivate)=\"onActivate($event)\"\n    (labelDeactivate)=\"onDeactivate($event)\">\n  </bb-charts-legend>\n</ng-template>\n\n<ng-template bbTurnoversChartTooltipCustomizable #tooltipTemplate let-model=\"model\">\n  <div class=\"chart-tooltip-default bb-arrow-bottom text-dark\">\n    <div\n      *ngIf=\"model.badge\"\n      class=\"pb-1 mb-2 font-weight-bold border-bottom border-dark text-capitalize text-left\">\n      {{model.badge}}\n    </div>\n    <div>\n      <div class=\"d-flex pb-1 align-items-center\" *ngFor=\"let bar of model.series; let i = index\">\n        <span [ngStyle]=\"{'color': bar.color}\" class=\"bicon bicon-circle\"></span>\n        <span class=\"text-capitalize\">{{bar.name}}</span>\n        <span class=\"ml-auto font-weight-bold\">\n          <bb-amount-ui\n            [amount]=\"i === 0 ? bar.value : (-bar.value)\"\n            [currency]=\"bar.currency\"\n            [showPlusSign]=\"i === 0 && bar.value > 0\"\n          ></bb-amount-ui>\n        </span>\n      </div>\n      <div class=\"d-flex pt-1 pl-1 align-items-center\">\n        <span i18n=\"Difference|tooltip difference label@@turnovers.tooltip.diff\">Difference</span>\n        <span class=\"ml-auto font-weight-bold\">\n          <bb-amount-ui\n            [amount]=\"model.diff\"\n            [currency]=\"model.currency\"\n            [showPlusSign]=\"model.diff !== 0\"\n          ></bb-amount-ui>\n        </span>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { animate, style, transition, trigger } from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  Input,\n  NgZone,\n  PLATFORM_ID,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { LegendOptions, LegendPosition, ScaleType } from '@swimlane/ngx-charts';\nimport { ScaleBand, ScaleLinear } from 'd3-scale';\nimport { ChartData } from '../model/turnovers';\nimport { TurnoversVerticalBarChartComponent } from '../turnovers-vertical-bar-chart/turnovers-vertical-bar-chart.component';\n\n@Component({\n  selector: 'bb-charts-bar-vertical-stacked',\n  templateUrl: './turnovers-vertical-stacked-bar-chart.component.html',\n  styleUrls: ['turnovers-vertical-stacked-bar-chart.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('animationState', [\n      transition(':leave', [\n        style({\n          opacity: 1,\n          transform: '*',\n        }),\n        animate(500, style({ opacity: 0, transform: 'scale(0)' })),\n      ]),\n    ]),\n  ],\n})\nexport class TurnoversVerticalStackedBarChartComponent extends TurnoversVerticalBarChartComponent {\n  /**\n   * An array of numbers to set the horizontal points on the chart.\n   */\n  @Input() xAxisTicks: number[] = [];\n  /**\n   * An array of numbers to set the vertical points on the chart.\n   */\n  @Input() yAxisTicks: number[] = [];\n\n  xScale?: ScaleBand<string>;\n  yScale?: ScaleLinear<number, number>;\n  tickFormatting: ((label: string) => string) | undefined;\n  legendOptions?: LegendOptions;\n\n  constructor(chartElement: ElementRef, zone: NgZone, cd: ChangeDetectorRef, @Inject(PLATFORM_ID) platformId: string) {\n    super(chartElement, zone, cd, platformId);\n  }\n\n  update(): void {\n    super.update();\n\n    this.valueDomain = this.getValueDomain();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.legendOptions = this.getLegendOptions();\n  }\n\n  getValueDomain() {\n    const domain = [];\n    let smallest = 0;\n    let biggest = 0;\n    for (const group of this.results) {\n      let smallestSum = 0;\n      let biggestSum = 0;\n      for (const d of group.series) {\n        if (d.value < 0) {\n          smallestSum += d.value;\n        } else {\n          biggestSum += d.value;\n        }\n        smallest = d.value < smallest ? d.value : smallest;\n        biggest = d.value > biggest ? d.value : biggest;\n      }\n      domain.push(smallestSum);\n      domain.push(biggestSum);\n    }\n    domain.push(smallest);\n    domain.push(biggest);\n\n    const min = Math.min(0, ...domain);\n    const max = this.yScaleMax ? Math.max(this.yScaleMax, ...domain) : Math.max(...domain);\n    return [min, max];\n  }\n\n  groupTransform(group: ChartData) {\n    const labelName = group.name ?? '';\n    return `translate(${this.xScale?.(labelName)}, 0)`;\n  }\n\n  getLegendOptions(): LegendOptions {\n    const opts: LegendOptions = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: '',\n      position: LegendPosition.Below,\n    };\n    if (opts.scaleType === ScaleType.Ordinal) {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valueDomain;\n      opts.colors = this.colors?.scale;\n    }\n\n    return opts;\n  }\n}\n","<ngx-charts-chart\n  [view]=\"[width, height]\"\n  [showLegend]=\"legend\"\n  [legendOptions]=\"legendOptions\"\n  [activeEntries]=\"activeEntries\"\n  [animations]=\"animations\"\n  (legendLabelActivate)=\"onActivate($event)\"\n  (legendLabelDeactivate)=\"onDeactivate($event)\"\n  (legendLabelClick)=\"onClick($event)\">\n  <svg:g [attr.transform]=\"transform\" class=\"bar-chart chart\">\n    <svg:g bb-charts-grid-panel-series\n      [xScale]=\"xScale\"\n      [yScale]=\"yScale\"\n      [data]=\"groupsData\"\n      [dims]=\"dims\"\n    >\n    </svg:g>\n    <svg:g ngx-charts-x-axis\n      *ngIf=\"xAxis\"\n      [xScale]=\"xScale\"\n      [dims]=\"dims\"\n      [showLabel]=\"showXAxisLabel\"\n      [labelText]=\"xAxisLabel\"\n      [tickFormatting]=\"xAxisTickFormatting\"\n      [ticks]=\"xAxisTicks\"\n      [xAxisOffset]=\"dataLabelMaxHeight.negative\"\n      (dimensionsChanged)=\"updateXAxisHeight($event)\">\n    </svg:g>\n    <svg:g ngx-charts-y-axis\n      *ngIf=\"yAxis\"\n      [yScale]=\"yScale\"\n      [dims]=\"dims\"\n      [showGridLines]=\"showGridLines\"\n      [showLabel]=\"showYAxisLabel\"\n      [labelText]=\"yAxisLabel\"\n      [tickFormatting]=\"yAxisTickFormatting\"\n      [ticks]=\"yAxisTicks\"\n      (dimensionsChanged)=\"updateYAxisWidth($event)\">\n    </svg:g>\n    <svg:g bb-charts-series-vertical\n      *ngFor=\"let group of results; let index = index; trackBy:trackBy\"\n      [@animationState]=\"'active'\"\n      [attr.transform]=\"groupTransform(group)\"\n      [attr.opacity]=\"(group.badge ? 0.5 : 1)\"\n      [type]=\"'stacked'\"\n      [xScale]=\"xScale\"\n      [yScale]=\"yScale\"\n      [activeEntries]=\"activeEntries\"\n      [colors]=\"colors\"\n      [series]=\"group.series\"\n      [dims]=\"dims\"\n      [roundEdges]=\"roundEdges\"\n      [gradient]=\"gradient\"\n      [tooltipDisabled]=\"tooltipDisabled\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [showDataLabel]=\"showDataLabel\"\n      [dataLabelFormatting]=\"dataLabelFormatting\"\n      [seriesName]=\"group.name\"\n      [animations]=\"animations\"\n      (select)=\"onClick($event, group)\"\n      (activate)=\"onActivate($event, group)\"\n      (deactivate)=\"onDeactivate($event, group)\"\n      (dataLabelHeightChanged)=\"onDataLabelMaxHeightChanged($event, index)\"\n    />\n  </svg:g>\n</ngx-charts-chart>\n\n<ng-container\n  [ngTemplateOutlet]=\"legendTemplate\"\n  [ngTemplateOutletContext]=\"{\n    legendOptions: this.legendOptions,\n    activeEntries: this.activeEntries,\n    height: this.height,\n    onActivate: this.onActivate.bind(this),\n    onDeactivate: this.onDeactivate.bind(this),\n    onClick: this.onClick.bind(this)\n  }\"\n></ng-container>\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { Turnover as TurnoverItem } from '@backbase/data-ang/transactions';\nimport { DataItem, Gradient } from '@swimlane/ngx-charts';\n\nexport interface ChartLabels {\n  income: string;\n  spending: string;\n  forecast: string;\n}\n\nexport interface ChartBarData {\n  color?: string;\n  currency: string;\n  name: string;\n  value: number;\n}\n\nexport interface Dims {\n  height: number;\n  width: number;\n}\n\nexport interface LabelMaxHeight {\n  negative: number;\n  positive: number;\n}\n\nexport interface ChartData {\n  series: ChartBarData[];\n  name?: string;\n  value?: number;\n  diff?: string | number;\n  currency?: string;\n  badge?: string;\n  background?: string;\n  group?: ChartBarData[];\n}\n\nexport interface ChartDataLabels {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  total?: number;\n  class?: string;\n  name?: string;\n  offset0?: number;\n  offset1?: number;\n  roundEdges: boolean;\n  series?: string;\n}\n\nexport interface ChartColors {\n  color?: string;\n  gradientStops?: Gradient[];\n}\n\nexport interface FormattedChartDataLabels extends ChartDataLabels, ChartColors {\n  data?: ChartData;\n  formattedLabel?: string;\n  label?: string;\n  tooltipText?: string;\n  value?: number;\n  graphData: DataItem;\n}\n\nexport interface LegendEntries {\n  label: string;\n  formattedLabel: string;\n  color: string | undefined;\n}\n\nexport interface TurnoversData {\n  turnovers: TurnoverItem[];\n  forecast: Forecast[];\n  additions?: { [key: string]: any };\n}\n\nexport interface Forecast extends TurnoverItem {\n  forecast: boolean;\n}\n\nexport interface CashFlowItem extends TurnoverItem {\n  forecast?: boolean;\n}\n\nexport interface TurnoversDateParams {\n  periodStartDate: string;\n  periodEndDate: string;\n  intervalDuration: 'DAY' | 'WEEK' | 'MONTH' | 'YEAR';\n  intervalStartDay?: number | undefined;\n  forecast?: 'NONE' | 'AVG' | undefined;\n}\n\nexport interface TurnoversGetParams extends TurnoversDateParams {\n  arrangementIds: string[];\n}\n\nexport interface TurnoversError {\n  message: string;\n  key?: string;\n  context?: object;\n}\n\nconst getMessageFromResponse = (error: HttpErrorResponse) => {\n  const responseBody = error.error;\n\n  if (responseBody && responseBody.errors && responseBody.errors[0] && responseBody.errors[0].message) {\n    return responseBody.errors[0].message;\n  } else {\n    return undefined;\n  }\n};\n\nexport const parseError = (error: HttpErrorResponse): TurnoversError => {\n  // TODO: should have more user-friendly messages\n  if (error.error instanceof ErrorEvent) {\n    // Client-side or network error.\n    return {\n      message: 'An unexpected error occurred',\n    };\n  } else {\n    // Backend returns unsuccessful response code.  In case of 400, try to get a message from the\n    // response.\n    switch (error.status) {\n      case 400:\n        return {\n          message: getMessageFromResponse(error) || 'Error 400',\n        };\n      case 401:\n        return {\n          message: 'Error 401',\n        };\n      case 403:\n        return {\n          message: 'Error 403',\n        };\n      case 404:\n        return {\n          message: 'Error 404',\n        };\n      default:\n        return {\n          message: 'An unexpected error occurred',\n        };\n    }\n  }\n};\n","import { DatePipe } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { Turnover } from '@backbase/data-ang/transactions';\nimport { DEFAULT_START_DAY, Period } from './constants';\nimport { CashFlowItem, ChartData, ChartLabels } from './model/turnovers';\n\n@Injectable()\nexport class TurnoversWidgetHelpersService {\n  constructor(private readonly datePipe: DatePipe) {}\n\n  getChartData(turnovers: Turnover[], labels: ChartLabels): ChartData[] {\n    return (turnovers || []).map(function (barData: CashFlowItem) {\n      return {\n        series: [\n          {\n            name: labels.income,\n            value: Number(barData.creditAmount.amount),\n            currency: barData.creditAmount.currencyCode,\n          },\n          {\n            name: labels.spending,\n            value: Number(barData.debitAmount.amount),\n            currency: barData.debitAmount.currencyCode,\n          },\n        ],\n        currency: barData.balance.currencyCode,\n        diff: Number(barData.balance.amount),\n        badge: barData.forecast ? labels.forecast : '',\n        name: barData.intervalStartDate.slice(0, 10) + (barData.forecast ? ' ' : ''),\n      };\n    });\n  }\n\n  periodToDate(period: Period) {\n    const date = new Date();\n    // current date already covers one period\n    const intervalCount = period.duration;\n    switch (period.interval) {\n      case 'DAY':\n        date.setDate(date.getDate() - intervalCount);\n        break;\n      case 'WEEK':\n        date.setDate(date.getDate() - intervalCount * 7);\n        break;\n      case 'YEAR':\n        date.setFullYear(date.getFullYear() - intervalCount);\n        break;\n      case 'MONTH':\n      default:\n        date.setMonth(date.getMonth() - (intervalCount - 1));\n        date.setDate(DEFAULT_START_DAY);\n        break;\n    }\n\n    return date.toISOString().slice(0, 10);\n  }\n\n  extendTurnoverItem = (barData: Turnover): Turnover => ({\n    ...barData,\n    intervalStartDate: this.datePipe.transform(barData.intervalStartDate.slice(0, 10), 'MMM') || '',\n  });\n}\n","import { Injectable } from '@angular/core';\nimport { TurnoversHttpService } from '@backbase/data-ang/transactions';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { CashFlowItem, TurnoversData, TurnoversGetParams } from './model/turnovers';\n\n@Injectable()\nexport class TurnoversService {\n  constructor(private readonly turnoversDataHttpService: TurnoversHttpService) {}\n\n  loadAnalysisData(params: TurnoversGetParams): Observable<CashFlowItem[]> {\n    return this.turnoversDataHttpService.getTurnovers(params).pipe(\n      map((body): TurnoversData => {\n        return {\n          turnovers: body.turnovers || [],\n          forecast: (body.forecast || []).map((item) => ({ ...item, forecast: true })),\n        };\n      }),\n      map((body: TurnoversData): CashFlowItem[] => {\n        return (body.turnovers || []).concat(params.forecast && body.forecast ? body.forecast : []);\n      }),\n    );\n  }\n}\n","import { DatePipe } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Component, Directive, ElementRef, Input, ViewChild } from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport { catchError, filter, map, pluck, switchMap, tap } from 'rxjs/operators';\nimport { DEFAULT_INTERVAL, DEFAULT_START_DAY, Period, PERIODS } from '../constants';\nimport {\n  ChartData,\n  ChartLabels,\n  parseError,\n  TurnoversDateParams,\n  TurnoversError,\n  TurnoversGetParams,\n} from '../model/turnovers';\nimport { TurnoversWidgetHelpersService } from '../turnovers-widget-helpers.service';\nimport { TurnoversService } from '../turnovers.service';\n\n@Component({\n  selector: 'bb-turnovers',\n  templateUrl: './turnovers.component.html',\n  providers: [TurnoversService, DatePipe, TurnoversWidgetHelpersService],\n})\nexport class TurnoversComponent {\n  /**\n   * Disable/enable the forecast option on the chart.\n   */\n  @Input() forecast? = false;\n  @ViewChild('incomeLabel', { static: true })\n  incomeRef: ElementRef<any> | undefined;\n  @ViewChild('spendingLabel', { static: true })\n  spendingRef: ElementRef<any> | undefined;\n  @ViewChild('forecastLabel', { static: true })\n  forecastRef: ElementRef<any> | undefined;\n\n  readonly hostRef = this;\n\n  selectedTab: Period = PERIODS[Math.max(PERIODS.map((item) => item.default).indexOf(true), 0)];\n  error: TurnoversError | undefined;\n  isLoading: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    private readonly service: TurnoversService,\n    private readonly route: ActivatedRoute,\n    private readonly helpers: TurnoversWidgetHelpersService,\n  ) {}\n\n  private readonly initialDateParams: TurnoversDateParams = {\n    periodStartDate: this.helpers.periodToDate(PERIODS[0]),\n    periodEndDate: new Date().toISOString().slice(0, 10),\n    intervalDuration: DEFAULT_INTERVAL,\n    intervalStartDay: DEFAULT_START_DAY,\n  };\n\n  readonly arrangementIds: Observable<string[]> = this.getRouteParam(this.route, 'selectedAccount').pipe(\n    map((selectedAccount) => (selectedAccount ? [selectedAccount] : [])), // TODO: remove once arrangement ids are passed as an array\n  );\n\n  readonly dateParams: BehaviorSubject<TurnoversDateParams> = new BehaviorSubject(this.initialDateParams);\n\n  readonly chartSeriesData: Observable<ChartData[]> = combineLatest(\n    this.arrangementIds,\n    this.dateParams.asObservable(),\n  ).pipe(\n    tap(() => (this.error = undefined)),\n    filter(([selectedAccounts]) => !!selectedAccounts.length),\n    map(\n      ([selectedAccounts, dateParams]): TurnoversGetParams => ({\n        arrangementIds: selectedAccounts,\n        ...dateParams,\n        forecast: this.forecast ? 'AVG' : undefined,\n      }),\n    ),\n    switchMap((params) => {\n      this.isLoading.next(true);\n      const data = this.service.loadAnalysisData(params);\n      data.subscribe({ complete: () => this.isLoading.next(false) });\n      return data;\n    }),\n    map((items) => items.map(this.helpers.extendTurnoverItem)),\n    map((items) => this.helpers.getChartData(items, this.labels)),\n    catchError((error: HttpErrorResponse) => {\n      this.handleError(error);\n      return of([]);\n    }),\n  );\n\n  get labels(): ChartLabels {\n    return {\n      income: (<ElementRef>this.incomeRef).nativeElement.textContent,\n      spending: (<ElementRef>this.spendingRef).nativeElement.textContent,\n      forecast: (<ElementRef>this.forecastRef).nativeElement.textContent,\n    };\n  }\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // ensure that level that has actual value keeps it from being cleared\n    return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(\n      map((params) => params[0] || params[1]),\n    );\n  }\n\n  handleError = (error: HttpErrorResponse) => {\n    this.error = parseError(error);\n    return of([]);\n  };\n\n  onTabChange(num: number) {\n    this.selectedTab = PERIODS[Math.max(PERIODS.map((item) => item.duration).indexOf(num), 0)];\n    this.dateParams.next({\n      ...this.initialDateParams,\n      periodStartDate: this.helpers.periodToDate(this.selectedTab),\n      periodEndDate: new Date().toISOString().slice(0, 10),\n    });\n  }\n}\n\n@Directive({\n  selector: '[bbTurnoversItemCustomizable]',\n})\nexport class TurnoversItemCustomizableDirective extends BbTemplate<TurnoversComponent, ChartData[] | undefined> {}\n\n@Directive({\n  selector: '[bbTurnoversControlsCustomizable]',\n})\nexport class TurnoversControlsCustomizableDirective extends BbTemplate<TurnoversComponent, undefined> {}\n\n@Directive({\n  selector: '[bbTurnoversEmptyStateCustomizable]',\n})\nexport class TurnoversEmptyStateCustomizableDirective extends BbTemplate<TurnoversComponent, undefined> {}\n","<ng-container *ngIf=\"(arrangementIds | async)?.length; else emptyState\">\n  <ng-container *ngIf=\"chartSeriesData | async; let data; else loadingState\">\n    <div *ngIf=\"!error; else errorState\">\n      <div *ngIf=\"data.length; else emptyState\">\n        <ng-container \n          bbTurnoversItemCustomizable \n          [bbHostRef]=\"hostRef\" \n          [bbTemplateContext]=\"data\"\n        ></ng-container>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n\n<ng-template bbTurnoversItemCustomizable let-hostRef let-chartSeriesData=\"context\">\n  <ng-container bbTurnoversControlsCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n  <bb-turnovers-bar-chart\n    *ngIf=\"(isLoading | async) === false; else loadingState\"\n    class=\"bb-turnovers-bar-chart bb-chart\"\n    [chartSeriesData]=\"chartSeriesData\"\n    [forecast]=\"forecast\">\n  </bb-turnovers-bar-chart>\n</ng-template>\n<ng-template bbTurnoversControlsCustomizable let-hostRef>\n  <div class=\"bb-turnovers-controls\">\n    <div class=\"btn-group btn-group-sm\">\n      <button\n        bbButton\n        data-role=\"6-month-btn\"\n        [value]='6'\n        (click)=\"hostRef.onTabChange(6)\"\n        [color]=\"hostRef.selectedTab.duration === 6 ? 'primary' : 'secondary'\"\n        i18n=\"Data period|Six month label@@turnovers.label.duration.month.six\"\n      >\n        6 Months\n      </button>\n      <button\n        bbButton \n        data-role=\"12-month-btn\"\n        [value]='12'\n        (click)=\"hostRef.onTabChange(12)\"\n        [color]=\"hostRef.selectedTab.duration === 12 ? 'primary' : 'secondary'\"\n        i18n=\"Data period|Twelve month label@@turnovers.label.duration.month.twelve\"\n      >\n        12 Months\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui\n    i18n-text=\"Loading turnovers data|Text to display while loading turnovers@@turnovers.state.loadingTurnovers\"\n    text=\"Loading transactions data...\"\n  ></bb-loading-indicator-ui>\n</ng-template>\n\n<ng-template #emptyState>\n  <ng-container bbTurnoversEmptyStateCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n</ng-template>\n\n<ng-template bbTurnoversEmptyStateCustomizable let-hostRef>\n  <ng-container bbTurnoversControlsCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n    <bb-empty-state-ui\n      i18n-title=\"No data title|Title of a message that is shown when there are no turnovers@@turnovers.state.noResultsFound.title\"\n      title=\"No data found\"\n      i18n-subtitle=\"No data subtitle|Subtitle of a message that is shown when there are no turnovers@@turnovers.state.noResultsFound.subtitle\"\n      subtitle=\"You don't have any data to be displayed. Please try selecting a different period.\"\n      iconSize=\"xxl\"\n      iconModifier=\"bar-chart\"\n    ></bb-empty-state-ui>\n</ng-template>\n\n<ng-template #errorState>\n  <bb-empty-state-ui\n    data-role=\"errorState\"\n    title=\"\"\n    [subtitle]=\"error?.message\"\n    iconModifier=\"error\"\n    iconSize=\"xxl\"\n    iconColor=\"gray\"\n    iconClasses=\"text-muted\"\n  ></bb-empty-state-ui>\n</ng-template>\n\n<span #incomeLabel class=\"ng-cloak\" i18n=\"Incoming|Label for income dataset on the chart@@turnovers.chart.income\">Incoming</span>\n<span #spendingLabel class=\"ng-cloak\" i18n=\"Outgoing|Label for spending dataset on the chart@@turnovers.chart.spending\">Outgoing</span>\n<span #forecastLabel class=\"ng-cloak\" i18n=\"forecast|Label for forecast data on the chart@@turnovers.chart.forecast\">Forecast</span>\n","import { Component, Input, Optional } from '@angular/core';\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { Property } from '@backbase/foundation-ang/web-sdk';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { filterInputParameters, Properties, PROPERTIES } from './constants';\n\n@Component({\n  selector: 'bb-turnovers-widget',\n  templateUrl: './turnovers-widget.component.html',\n})\nexport class TurnoversWidgetComponent {\n  // eslint-disable-next-line\n  @Input('forecast') set forecastValue(value: boolean) {\n    this.forecastSubject.next(value);\n  }\n\n  forecast = this.getProperty(PROPERTIES.FORECAST).pipe(map((propertyValue) => propertyValue === true));\n\n  private readonly forecastSubject = new BehaviorSubject<boolean>(true);\n\n  readonly forecast$: Observable<boolean> = filterInputParameters(this.forecastSubject.asObservable(), this.forecast);\n\n  private getProperty(property: Properties): Observable<Property> {\n    return this.itemModel ? this.itemModel.property(property.name, property.value) : of(property.value);\n  }\n\n  constructor(@Optional() private readonly itemModel: ItemModel) {}\n}\n","<bb-turnovers\n  [forecast]=\"(forecast | async) || undefined\"\n></bb-turnovers>","// General modules\nimport { CommonModule, CurrencyPipe, DatePipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\n// Backbase modules\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { FormatAmountModule } from '@backbase/ui-ang/amount';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { BbTurnoversLegendComponent } from './bb-turnovers-legend/bb-turnovers-legend.component';\nimport { BbGridPanelSeriesComponent } from './ngx-charts/common/bb-grid-panel-series.component';\nimport {\n  TurnoversBarChartComponent,\n  TurnoversChartLegendCustomizableDirective,\n  TurnoversChartTooltipCustomizableDirective,\n  TurnoversVerticalGroupedBarChartCustomizableDirective,\n  TurnoversVerticalStackedBarChartCustomizableDirective,\n} from './turnovers-bar-chart/turnovers-bar-chart.component';\nimport { TurnoversVerticalBarChartComponent } from './turnovers-vertical-bar-chart/turnovers-vertical-bar-chart.component';\nimport { BbSeriesVerticalComponent } from './turnovers-vertical-grouped-bar-chart/bb-charts-series-vertical.component';\nimport { TurnoversVerticalGroupedBarChartComponent } from './turnovers-vertical-grouped-bar-chart/turnovers-vertical-grouped-bar-chart.component';\nimport { TurnoversVerticalStackedBarChartComponent } from './turnovers-vertical-stacked-bar-chart/turnovers-vertical-stacked-bar-chart.component';\nimport { TurnoversWidgetComponent } from './turnovers-widget.component';\n// Components\nimport {\n  TurnoversComponent,\n  TurnoversControlsCustomizableDirective,\n  TurnoversEmptyStateCustomizableDirective,\n  TurnoversItemCustomizableDirective,\n} from './turnovers/turnovers.component';\n\nconst components = [\n  TurnoversWidgetComponent,\n  TurnoversComponent,\n  TurnoversBarChartComponent,\n  TurnoversVerticalBarChartComponent,\n  TurnoversVerticalStackedBarChartComponent,\n  TurnoversVerticalGroupedBarChartComponent,\n  BbTurnoversLegendComponent,\n  BbSeriesVerticalComponent,\n  BbGridPanelSeriesComponent,\n];\n\nconst customizables = [\n  TurnoversItemCustomizableDirective,\n  TurnoversControlsCustomizableDirective,\n  TurnoversChartTooltipCustomizableDirective,\n  TurnoversChartLegendCustomizableDirective,\n  TurnoversVerticalStackedBarChartCustomizableDirective,\n  TurnoversVerticalGroupedBarChartCustomizableDirective,\n  TurnoversEmptyStateCustomizableDirective,\n];\nconst modules = [FormatAmountModule, LoadingIndicatorModule, EmptyStateModule, ButtonModule];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { TurnoversWidgetComponent },\n    }),\n    NgxChartsModule,\n    ...modules,\n  ],\n  providers: [DatePipe, CurrencyPipe],\n  entryComponents: [TurnoversComponent],\n  declarations: [...components, ...customizables],\n  exports: [...components, ...customizables, ...modules],\n})\nexport class TurnoversWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","formatLabel","Component","ViewEncapsulation","ChangeDetectionStrategy","Input","Output","combineLatest","map","ScaleType","calculateViewDimensions","scaleBand","scaleLinear","ColorHelper","BaseChartComponent","PLATFORM_ID","Inject","PlacementTypes","StyleTypes","BarOrientation","trigger","transition","style","animate","LegendPosition","from","CssVariablesService","ViewChild","BbTemplate","Directive","Injectable","BehaviorSubject","tap","filter","switchMap","catchError","of","pluck","DatePipe","Optional","FormatAmountModule","LoadingIndicatorModule","EmptyStateModule","ButtonModule","CommonModule","NgxChartsModule","CurrencyPipe","BackbaseCoreModule","NgModule"],"mappings":"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"}