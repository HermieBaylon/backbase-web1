{"version":3,"file":"config.service.js","sourceRoot":"","sources":["../../../../../../libs/quick-transfer-journey/src/lib/services/config.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport {\n  BaseObject,\n  DisabledCombination,\n  PaymentTypes,\n  QuickTransferAmountField as AmountField,\n  QuickTransferField as Field,\n  QuickTransferFields,\n  QuickTransferJourneyConfiguration,\n  QuickTransferProductKinds as ProductKinds,\n  Titles,\n  UiComponentProps,\n} from '../models/config.model';\nimport { Arrangement, Contact } from '../models/items.model';\nimport { ViewState } from '../models/view.model';\nimport { nonZeroValidator } from '../utils/helpers';\n\nconst fromAccount: Field = {\n  productKinds: [\n    ProductKinds.savingsAccount,\n    ProductKinds.currentAccount,\n    ProductKinds.creditCard,\n    ProductKinds.loanAccount,\n    ProductKinds.connectedAccounts,\n  ],\n  label: $localize`:@@quick-transfer.form.label:From`,\n  mapItems: accounts => {\n    return accounts.filter((account: Arrangement) => ['EUR', 'AED', 'USD'].includes(account?.currency || ''));\n  },\n  connectedAccountsSubHeader: $localize`:@@quick-transfer-initiator-connected-acc-subheader:Connected Accounts`,\n  validators: [Validators.required],\n  validationMessages: [\n    {\n      name: 'required',\n      message: $localize`:@@quick-transfer-initiator-validation-required:Account is required`,\n    },\n  ],\n};\n\nconst toAccount: Field = {\n  productKinds: [\n    ProductKinds.savingsAccount,\n    ProductKinds.currentAccount,\n    ProductKinds.creditCard,\n    ProductKinds.loanAccount,\n    ProductKinds.connectedAccounts,\n    ProductKinds.contacts,\n  ],\n  label: $localize`:@@quick-transfer.to.label:To`,\n  mapContacts: (contacts: Contact[]) => contacts.filter(contact => !!contact.number),\n  connectedAccountsSubHeader: $localize`:@@quick-transfer-counterparty-connected-acc-subheader:Connected Accounts`,\n  validators: [Validators.required],\n  validationMessages: [\n    {\n      name: 'required',\n      message: $localize`:@@quick-transfer-counterparty-validation-required:Beneficiary is required`,\n    },\n  ],\n};\n\nconst amount: AmountField = {\n  initialCurrency: 'USD',\n  autoDecimal: true,\n  placeholder: '0.00',\n  wrapperClasses: 'bb-amount-input__field--large',\n  label: $localize`:@@quick-transfer.amount.label:Amount`,\n  validationMessages: [\n    {\n      name: 'nonZero',\n      message: $localize`:@@quick-transfer-counterparty-validation-invalid-amount:Transfer amount is required`,\n    },\n  ],\n  validators: [nonZeroValidator],\n};\n\nconst configDefaults: QuickTransferJourneyConfiguration = {\n  fields: { fromAccount, toAccount, amount },\n  businessFunction: 'A2A Transfer',\n  titles: {\n    [ViewState.FORM]: $localize`:@@quick-transfer-journey.title:Quick Transfer`,\n    [ViewState.FROM]: $localize`:@@quick-transfer-journey.initiator-title:Transfer from`,\n    [ViewState.PAYEE]: $localize`:@@quick-transfer-journey.counterparty-title:Transfer to`,\n    [ViewState.REVIEW]: $localize`:@@quick-transfer-journey.review-title:Quick Transfer`,\n  },\n  paymentTypes: {\n    internal: 'INTERNAL_TRANSFER',\n    external: 'EXTERNAL_A2A',\n    contact: 'INTRABANK_TRANSFER',\n  },\n  disabledCombinations: [\n    { from: ProductKinds.loanAccount, to: ProductKinds.loanAccount },\n    { from: ProductKinds.creditCard, to: ProductKinds.creditCard },\n  ],\n  uiComponentProps: {\n    mapCurrency: true,\n    accountNumberFormat: {\n      segments: 0,\n      length: 0,\n      maskRange: [0, 0],\n    },\n  },\n};\n\nexport const QuickTransferJourneyConfigurationToken = new InjectionToken<QuickTransferJourneyConfiguration>(\n  'QuickTransferJourneyConfigurationToken injection token',\n);\n\n@Injectable()\nexport class QuickTransferJourneyConfigService {\n  private _config: QuickTransferJourneyConfiguration;\n\n  constructor(\n    @Optional()\n    @Inject(QuickTransferJourneyConfigurationToken)\n    private readonly config: QuickTransferJourneyConfiguration,\n  ) {\n    this._config = { ...configDefaults, ...(this.config || {}) };\n  }\n\n  get defaults(): QuickTransferJourneyConfiguration {\n    return configDefaults;\n  }\n\n  get fields(): QuickTransferFields {\n    return this._config.fields;\n  }\n\n  get businessFunction(): string | undefined {\n    return this._config.businessFunction;\n  }\n\n  get paymentTypes(): PaymentTypes {\n    return this._config.paymentTypes;\n  }\n\n  get disabledCombinations(): DisabledCombination[] {\n    return this._config.disabledCombinations;\n  }\n\n  get productSummaryQueryParameters(): BaseObject<any> | undefined {\n    return this._config.productSummaryQueryParameters;\n  }\n  get uiComponentProps(): UiComponentProps {\n    return this._config.uiComponentProps;\n  }\n  get titles(): Titles {\n    return this._config.titles;\n  }\n}\n"]}