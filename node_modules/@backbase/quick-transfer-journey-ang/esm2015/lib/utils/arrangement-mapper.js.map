{"version":3,"file":"arrangement-mapper.js","sourceRoot":"","sources":["../../../../../../libs/quick-transfer-journey/src/lib/utils/arrangement-mapper.ts"],"names":[],"mappings":"AAGA;;;;GAIG;AACH,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,GAAyB,EAAiB,EAAE;IAChF,OAAO,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,GAAG,CAAC,MAAM,CAAC,EAAE;QACvB,IAAI,OAA2B,CAAC;QAChC,QAAQ,MAAM,CAAC,eAAe,EAAE;YAC9B,KAAK,cAAc;gBACjB,OAAO,GAAG,MAAM,CAAC,eAAe,CAAC;gBACjC,MAAM;YACR,KAAK,oBAAoB;gBACvB,OAAO,GAAG,MAAM,CAAC,sBAAsB,CAAC;gBACxC,MAAM;YACR;gBACE,OAAO,GAAG,MAAM,CAAC,aAAa,CAAC;gBAC/B,MAAM;SACT;QAED,OAAO;YACL,IAAI,EAAE,MAAM,CAAC,EAAE;YACf,OAAO,EAAE,OAAO,IAAI,CAAC;YACrB,IAAI,EAAE,MAAM,CAAC,WAAW;YACxB,QAAQ,EAAE,MAAM,CAAC,QAAQ;YACzB,MAAM,EAAE,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,MAAM;YACjE,uBAAuB,EAAE,MAAM,CAAC,uBAAuB;YACvD,eAAe,EAAE,MAAM,CAAC,eAAe;YACvC,aAAa,EAAE,MAAM;SACP,CAAC;IACnB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Arrangement } from '../models/items.model';\n\n/**\n * Method to extract ProductKind array from ProductsummaryGET response\n *\n * @param res\n */\nexport const responseToProductList = (res: ProductSummaryItem[]): Arrangement[] => {\n  return res?.map(record => {\n    let balance: number | undefined;\n    switch (record.productKindName) {\n      case 'Term Deposit':\n        balance = record.principalAmount;\n        break;\n      case 'Investment Account':\n        balance = record.currentInvestmentValue;\n        break;\n      default:\n        balance = record.bookedBalance;\n        break;\n    }\n\n    return {\n      uuid: record.id,\n      balance: balance || 0,\n      name: record.displayName,\n      currency: record.currency,\n      number: record.IBAN || record.BBAN || record.BIC || record.number,\n      externalTransferAllowed: record.externalTransferAllowed,\n      productKindName: record.productKindName,\n      defaultRecord: record,\n    } as Arrangement;\n  });\n};\n"]}