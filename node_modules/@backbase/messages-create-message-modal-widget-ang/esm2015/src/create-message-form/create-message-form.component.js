import { Component, Directive } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { BaseCreateMessageFormComponent, BaseCreateMessageFormService, BaseUploadAttachmentsService, MessagesClientUploadAttachmentsService, topicPlaceholderConfig, } from '@backbase/messages-common';
import { CreateMessageFormService } from './create-message-form.service';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/messages-common";
import * as i2 from "@angular/forms";
import * as i3 from "@backbase/ui-ang/dropdown-single-select";
import * as i4 from "@backbase/ui-ang/input-validation-message";
import * as i5 from "@backbase/ui-ang/input-text";
import * as i6 from "@backbase/ui-ang/rich-text-editor";
import * as i7 from "@backbase/ui-ang/load-button";
import * as i8 from "@angular/common";
import * as i9 from "@backbase/ui-ang/button";
export class CreateMessageFormComponent extends BaseCreateMessageFormComponent {
    constructor(messagesService, encodingService, fb, cd, sharedService, confirmModalService, uploadService) {
        super(sharedService, confirmModalService, cd, messagesService, fb, encodingService, uploadService);
        this.messagesService = messagesService;
        this.encodingService = encodingService;
        this.fb = fb;
        this.cd = cd;
        this.sharedService = sharedService;
        this.confirmModalService = confirmModalService;
        this.uploadService = uploadService;
        /**
         * Configs for topic selector placeholder
         */
        this.topicPlaceholderConfig = topicPlaceholderConfig;
    }
    /**
     * The method to submit the message form and create a new message.
     */
    onConfirm() {
        this.newMessageFormGroup.markAllAsTouched();
        this.newMessageFormGroup.markAsDirty();
        const { value, valid } = this.newMessageFormGroup;
        if (valid) {
            const finalValue = Object.assign({ subject: '', body: '', topic: '' }, this.getSimpleFormVal(value));
            this.createMessage(finalValue);
        }
    }
}
CreateMessageFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: CreateMessageFormComponent, deps: [{ token: i1.BaseCreateMessageFormService }, { token: i1.MessagesEncodingService }, { token: i2.FormBuilder }, { token: i0.ChangeDetectorRef }, { token: i1.SharedMethodsService }, { token: i1.MessagesManipulationConfirmModalService }, { token: i1.MessagesUploadAttachmentsService }], target: i0.ɵɵFactoryTarget.Component });
CreateMessageFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.14", type: CreateMessageFormComponent, selector: "bb-create-message-form-ui", providers: [
        {
            provide: BaseCreateMessageFormService,
            useClass: CreateMessageFormService,
        },
        {
            provide: BaseUploadAttachmentsService,
            useClass: MessagesClientUploadAttachmentsService,
        },
    ], usesInheritance: true, ngImport: i0, template: "<ng-container\n  bbCreateMessageFormCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    topics: topics | async\n  }\"\n></ng-container>\n\n<ng-template bbCreateMessageFormCustomizable let-host let-topics=\"context.topics\">\n  <form [formGroup]=\"host.newMessageFormGroup\" data-role=\"form\" (submit)=\"host.onConfirm()\">\n    <div class=\"form-group\">\n      <div class=\"form-row\">\n        <div class=\"col-12 col-md-8\">\n          <bb-dropdown-single-select-ui\n            *ngIf=\"\n              topics?.length\n                ? topicPlaceholderConfig.selectTopicPlaceholder\n                : topicPlaceholderConfig.noTopicsPlaceholder as topicPlaceholder\n            \"\n            label=\"Topic\"\n            i18n-label=\"Topic label text@@messages.createMessage.composeMessageForm.topicLabel\"\n            aria-label=\"Topic\"\n            data-role=\"topics\"\n            i18n-aria-label=\"Topic aria-label text@@messages.createMessage.composeMessageForm.topicAriaLabel\"\n            [aria-invalid]=\"host.isInvalidControl('topic')\"\n            aria-describedby=\"messages-topic-error-message\"\n            [options]=\"topics\"\n            displayAttributePath=\"name\"\n            [attr.placeholder]=\"topicPlaceholder\"\n            [placeholder]=\"topicPlaceholder\"\n            formControlName=\"topic\"\n            (blur)=\"host.resetFormOnElementBlur()\"\n          ></bb-dropdown-single-select-ui>\n          <bb-input-validation-message-ui\n            id=\"messages-topic-error-message\"\n            [showErrors]=\"host.isInvalidControl('topic')\"\n          >\n            <span\n              data-role=\"messages-topic-required-error-message\"\n              *ngIf=\"host.hasError('topic', 'required')\"\n              i18n=\"\n                Error message if subject field is\n                required@@messages.createMessage.composeMessageForm.errors.subjectRequired\"\n            >\n              Field is required\n            </span>\n          </bb-input-validation-message-ui>\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <bb-input-text-ui\n        data-role=\"subject\"\n        label=\"Subject\"\n        [aria-invalid]=\"host.isInvalidControl('subject')\"\n        i18n-label=\"Subject label text@@messages.createMessage.composeMessageForm.subjectLabel\"\n        aria-label=\"Subject\"\n        i18n-aria-label=\"Subject aria-label text@@messages.createMessage.composeMessageForm.subjectAriaLabel\"\n        aria-describedby=\"messages-subject-error-message\"\n        placeholder=\"Write subject\"\n        i18n-placeholder=\"Subject placeholder text@@messages.createMessage.composeMessageForm.subjectPlaceholder\"\n        formControlName=\"subject\"\n        [maxlength]=\"host.maxSubjectLength\"\n      ></bb-input-text-ui>\n      <bb-input-validation-message-ui\n        id=\"messages-subject-error-message\"\n        [showErrors]=\"host.isInvalidControl('subject')\"\n      >\n        <span\n          *ngIf=\"host.hasError('subject', 'required')\"\n          i18n=\"\n            Error message if subject field is empty@@messages.createMessage.composeMessageForm.errors.subjectRequired\"\n          data-role=\"messages-subject-required-error-message\"\n        >\n          Field is required\n        </span>\n        <span\n          *ngIf=\"host.hasError('subject', 'maxlength')\"\n          i18n=\"\n            Error message if subject value is more then maxlength\n            value@@messages.createMessage.composeMessageForm.errors.subjectMaxlength\"\n          data-role=\"messages-subject-maxlength-exceeded-error-message\"\n        >\n          Your input of {{ newMessageFormGroup?.get('subject')?.value?.length }} characters exceeds the limit of\n          {{ host.maxSubjectLength }}. Please rephrase.\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n    <div class=\"form-group\">\n      <bb-rich-text-editor-ui\n        label=\"Message\"\n        i18n-label=\"Message label text@@messages.createMessage.composeMessageForm.messageLabel\"\n        aria-label=\"Message\"\n        i18n-aria-label=\"Message aria-label text@@messages.createMessage.composeMessageForm.messageAriaLabel\"\n        [aria-invalid]=\"host.isInvalidControl('body')\"\n        aria-describedby=\"messages-body-error-message\"\n        name=\"message\"\n        [maxLength]=\"host.maxMessageLength\"\n        formControlName=\"body\"\n        placeholder=\"Write some text\"\n        i18n-placeholder=\"Message placeholder text@@messages.createMessage.composeMessageForm.messagePlaceholder\"\n        counter=\"true\"\n        [required]=\"true\"\n      >\n        <ng-template #actions bbRichTextEditorActions>\n          <bb-rich-text-editor-bold-action></bb-rich-text-editor-bold-action>\n          <bb-rich-text-editor-italic-action></bb-rich-text-editor-italic-action>\n          <bb-rich-text-editor-underline-action></bb-rich-text-editor-underline-action>\n          <bb-rich-text-editor-strikethrough-action> </bb-rich-text-editor-strikethrough-action>\n          <bb-rich-text-editor-olist-action></bb-rich-text-editor-olist-action>\n          <bb-rich-text-editor-ulist-action> </bb-rich-text-editor-ulist-action>\n          <bb-rich-text-editor-link-action></bb-rich-text-editor-link-action>\n        </ng-template>\n      </bb-rich-text-editor-ui>\n      <bb-input-validation-message-ui [showErrors]=\"host.isInvalidControl('body')\" id=\"messages-body-error-message\">\n        <span\n          *ngIf=\"host.hasError('body', 'required')\"\n          i18n=\"Error message if field is required@@messages.createMessage.composeMessageForm.errors.messageRequired\"\n          data-role=\"messages-body-required-error-message\"\n        >\n          Field is required\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n    <div class=\"form-group\">\n      <bb-messages-upload-attachments\n        [maxSize]=\"host.maxAttachmentSize\"\n        [initAttachments]=\"attachments\"\n        formControlName=\"attachments\"\n      ></bb-messages-upload-attachments>\n    </div>\n    <div class=\"bb-button-bar\">\n      <bb-load-button-ui\n        type=\"submit\"\n        data-role=\"submit\"\n        aria-label=\"Send\"\n        i18n-aria-label=\"Send button aria-label text@@messages.createMessage.composeMessageForm.submitButtonAriaLabel\"\n        i18n=\"Submit button text@@messages.createMessage.composeMessageForm.submitButton\"\n        [isLoading]=\"host.formLoading\"\n      >\n        Send\n      </bb-load-button-ui>\n      <button\n        bbButton\n        bbPreventBubbleDown\n        class=\"bb-button-bar__button\"\n        color=\"secondary\"\n        data-role=\"discard\"\n        aria-label=\"Discard\"\n        i18n-aria-label=\"\n          Discard button aria-label text@@messages.createMessage.composeMessageForm.discardButtonAriaLabel\"\n        i18n=\"Discard button text@@messages.createMessage.composeMessageForm.discardButton\"\n        (click)=\"\n          host.confirmModalService.toggleModal(\n            true,\n            host.manipulationTypes.discard,\n            host.newMessageFormGroup,\n            host.draftFormValue\n          )\n        \"\n      >\n        Discard\n      </button>\n      <button\n        bbButton\n        class=\"bb-button-bar__button--across\"\n        color=\"link\"\n        data-role=\"save-and-close\"\n        aria-label=\"Save and close\"\n        i18n-aria-label=\"\n          Save and close button aria-label@@messages.createMessage.composeMessageForm.saveAsDraftButtonTextAriaLabel\"\n        i18n=\"Save & Close button text@@messages.createMessage.composeMessageForm.saveAsDraftButtonText\"\n        (click)=\"host.onSave(host.getSimpleFormVal(host.newMessageFormGroup.value))\"\n      >\n        Save & Close\n      </button>\n    </div>\n  </form>\n\n  <bb-messages-manipulation-confirm-modal\n    [isOpen]=\"host.confirmationModal.opened\"\n    [type]=\"host.confirmationModal.type\"\n    (cancel)=\"host.confirmModalService.toggleModal(false)\"\n    (confirm)=\"host.confirmConfirmationModal()\"\n  ></bb-messages-manipulation-confirm-modal>\n</ng-template>\n\n<ng-template #messageComposeSuccess>\n  <span\n    i18n=\"\n      Your message has been successfully sent.|Text of successful conversation\n      compose@@messages.createMessage.composeMessageForm.messageSuccessCompose\"\n    >Your message has been successfully sent.</span\n  >\n</ng-template>\n\n<ng-template #messageSaveDraftSuccess>\n  <span\n    i18n=\"\n      Your draft has been successfully saved.|Text of successful conversation\n      saving@@messages.createMessage.composeMessageForm.messageSuccessSaveDraft\"\n    >Your draft has been successfully saved.</span\n  >\n</ng-template>\n\n<ng-template #messageUpdateDraftSuccess>\n  <span\n    i18n=\"\n      Your draft has been successfully updated.|Text of successful conversation\n      saving@@messages.createMessage.composeMessageForm.messageSuccessUpdateDraft\"\n    >Your draft has been successfully updated.</span\n  >\n</ng-template>\n\n<ng-template #messageComposeError>\n  <span\n    i18n=\"\n      There is an error sending message.|Text of failed conversation\n      compose@@messages.createMessage.composeMessageForm.messageErrorCompose\"\n    >There is an error sending message.</span\n  >\n</ng-template>\n\n<ng-template #messageSaveDraftError>\n  <span\n    i18n=\"\n      There is an error saving draft.|Text of failed conversation\n      saving@@messages.createMessage.composeMessageForm.messageErrorSaveDraft\"\n    >There is an error saving draft.</span\n  >\n</ng-template>\n\n<ng-template #messageUpdateDraftError>\n  <span\n    i18n=\"\n      There is an error updating draft.|Text of failed conversation\n      saving@@messages.createMessage.composeMessageForm.messageErrorUpdateDraft\"\n    >There is an error updating draft.</span\n  >\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i3.DropdownSingleSelectComponent; }), selector: "bb-dropdown-single-select-ui", inputs: ["placeholder", "defaultOptionAsPlaceholder", "options", "displayAttributePath", "iconName", "compareWithFn"] }, { type: i0.forwardRef(function () { return i4.InputValidationMessageComponent; }), selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i0.forwardRef(function () { return i5.InputTextComponent; }), selector: "bb-input-text-ui", inputs: ["placeholder", "maxLength", "minLength", "autocomplete", "readonly", "mask", "maskValidator", "showCharCounter"], outputs: ["valueChange"] }, { type: i0.forwardRef(function () { return i6.RichTextEditorComponent; }), selector: "bb-rich-text-editor-ui", inputs: ["maxLength", "minLength", "placeholder", "counter", "readonly", "actionsTooltipPlacement"] }, { type: i0.forwardRef(function () { return i6.RichTextEditorBoldActionComponent; }), selector: "bb-rich-text-editor-bold-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorItalicActionComponent; }), selector: "bb-rich-text-editor-italic-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorUnderlineActionComponent; }), selector: "bb-rich-text-editor-underline-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorStrikethroughActionComponent; }), selector: "bb-rich-text-editor-strikethrough-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorOlistActionComponent; }), selector: "bb-rich-text-editor-olist-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorUlistActionComponent; }), selector: "bb-rich-text-editor-ulist-action" }, { type: i0.forwardRef(function () { return i6.RichTextEditorLinkActionComponent; }), selector: "bb-rich-text-editor-link-action", inputs: ["contentClassNames"], outputs: ["linkAdded"] }, { type: i0.forwardRef(function () { return i1.MessagesUploadAttachmentsComponent; }), selector: "bb-messages-upload-attachments-ui, bb-messages-upload-attachments", inputs: ["maxSize", "initAttachments", "disabled", "multiple", "attachmentButtonText", "accept"] }, { type: i0.forwardRef(function () { return i7.LoadButtonComponent; }), selector: "bb-load-button-ui", inputs: ["isLoading", "from", "size", "circle", "totalCount"], outputs: ["paramChange"] }, { type: i0.forwardRef(function () { return i1.ӨMessagesManipulationConfirmModalComponent; }), selector: "bb-messages-manipulation-confirm-modal", inputs: ["type"] }], directives: [{ type: i0.forwardRef(function () { return CreateMessageFormCustomizableDirective; }), selector: "[bbCreateMessageFormCustomizable]" }, { type: i0.forwardRef(function () { return i2.ɵNgNoValidate; }), selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i0.forwardRef(function () { return i2.NgControlStatusGroup; }), selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i0.forwardRef(function () { return i2.FormGroupDirective; }), selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i0.forwardRef(function () { return i8.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i2.NgControlStatus; }), selector: "[formControlName],[ngModel],[formControl]" }, { type: i0.forwardRef(function () { return i2.FormControlName; }), selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i0.forwardRef(function () { return i2.MaxLengthValidator; }), selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { type: i0.forwardRef(function () { return i2.RequiredValidator; }), selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i0.forwardRef(function () { return i6.RichTextEditorActionsDirective; }), selector: "ng-template[bbRichTextEditorActions]" }, { type: i0.forwardRef(function () { return i9.ButtonDirective; }), selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i0.forwardRef(function () { return i1.PreventBubbleDownDirective; }), selector: "[bbPreventBubbleDown]" }], pipes: { "async": i0.forwardRef(function () { return i8.AsyncPipe; }) } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: CreateMessageFormComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-create-message-form-ui',
                    templateUrl: './create-message-form.component.html',
                    providers: [
                        {
                            provide: BaseCreateMessageFormService,
                            useClass: CreateMessageFormService,
                        },
                        {
                            provide: BaseUploadAttachmentsService,
                            useClass: MessagesClientUploadAttachmentsService,
                        },
                    ],
                }]
        }], ctorParameters: function () { return [{ type: i1.BaseCreateMessageFormService }, { type: i1.MessagesEncodingService }, { type: i2.FormBuilder }, { type: i0.ChangeDetectorRef }, { type: i1.SharedMethodsService }, { type: i1.MessagesManipulationConfirmModalService }, { type: i1.MessagesUploadAttachmentsService }]; } });
export class CreateMessageFormCustomizableDirective extends BbTemplate {
}
CreateMessageFormCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: CreateMessageFormCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
CreateMessageFormCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.14", type: CreateMessageFormCustomizableDirective, selector: "[bbCreateMessageFormCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: CreateMessageFormCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbCreateMessageFormCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLW1lc3NhZ2UtZm9ybS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL21lc3NhZ2VzLWNyZWF0ZS1tZXNzYWdlLW1vZGFsLXdpZGdldC1hbmcvc3JjL2NyZWF0ZS1tZXNzYWdlLWZvcm0vY3JlYXRlLW1lc3NhZ2UtZm9ybS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL21lc3NhZ2VzLWNyZWF0ZS1tZXNzYWdlLW1vZGFsLXdpZGdldC1hbmcvc3JjL2NyZWF0ZS1tZXNzYWdlLWZvcm0vY3JlYXRlLW1lc3NhZ2UtZm9ybS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQXFCLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzNELE9BQU8sRUFDTCw4QkFBOEIsRUFDOUIsNEJBQTRCLEVBQzVCLDRCQUE0QixFQUM1QixzQ0FBc0MsRUFLdEMsc0JBQXNCLEdBQ3ZCLE1BQU0sMkJBQTJCLENBQUM7QUFFbkMsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7Ozs7Ozs7O0FBZ0J6RSxNQUFNLE9BQU8sMEJBQTJCLFNBQVEsOEJBQWtFO0lBTWhILFlBQ1csZUFBaUYsRUFDakYsZUFBd0MsRUFDeEMsRUFBZSxFQUNmLEVBQXFCLEVBQ3JCLGFBQW1DLEVBQ25DLG1CQUE0RCxFQUM1RCxhQUErQztRQUV4RCxLQUFLLENBQUMsYUFBYSxFQUFFLG1CQUFtQixFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsRUFBRSxFQUFFLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztRQVIxRixvQkFBZSxHQUFmLGVBQWUsQ0FBa0U7UUFDakYsb0JBQWUsR0FBZixlQUFlLENBQXlCO1FBQ3hDLE9BQUUsR0FBRixFQUFFLENBQWE7UUFDZixPQUFFLEdBQUYsRUFBRSxDQUFtQjtRQUNyQixrQkFBYSxHQUFiLGFBQWEsQ0FBc0I7UUFDbkMsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUF5QztRQUM1RCxrQkFBYSxHQUFiLGFBQWEsQ0FBa0M7UUFaMUQ7O1dBRUc7UUFDYSwyQkFBc0IsR0FBRyxzQkFBc0IsQ0FBQztJQVloRSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRXZDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ2xELElBQUksS0FBSyxFQUFFO1lBQ1QsTUFBTSxVQUFVLG1CQUNkLE9BQU8sRUFBRSxFQUFFLEVBQ1gsSUFBSSxFQUFFLEVBQUUsRUFDUixLQUFLLEVBQUUsRUFBRSxJQUNOLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FDaEMsQ0FBQztZQUNGLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDOzt3SEFuQ1UsMEJBQTBCOzRHQUExQiwwQkFBMEIsb0RBWDFCO1FBQ1Q7WUFDRSxPQUFPLEVBQUUsNEJBQTRCO1lBQ3JDLFFBQVEsRUFBRSx3QkFBd0I7U0FDbkM7UUFDRDtZQUNFLE9BQU8sRUFBRSw0QkFBNEI7WUFDckMsUUFBUSxFQUFFLHNDQUFzQztTQUNqRDtLQUNGLGlEQzdCSCw4c1RBZ1BBLDBoRkR4S2Esc0NBQXNDOzRGQXpDdEMsMEJBQTBCO2tCQWR0QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSwyQkFBMkI7b0JBQ3JDLFdBQVcsRUFBRSxzQ0FBc0M7b0JBQ25ELFNBQVMsRUFBRTt3QkFDVDs0QkFDRSxPQUFPLEVBQUUsNEJBQTRCOzRCQUNyQyxRQUFRLEVBQUUsd0JBQXdCO3lCQUNuQzt3QkFDRDs0QkFDRSxPQUFPLEVBQUUsNEJBQTRCOzRCQUNyQyxRQUFRLEVBQUUsc0NBQXNDO3lCQUNqRDtxQkFDRjtpQkFDRjs7QUEwQ0QsTUFBTSxPQUFPLHNDQUF1QyxTQUFRLFVBRzNEOztvSUFIWSxzQ0FBc0M7d0hBQXRDLHNDQUFzQzs0RkFBdEMsc0NBQXNDO2tCQUhsRCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxtQ0FBbUM7aUJBQzlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEJiVGVtcGxhdGUgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQge1xuICBCYXNlQ3JlYXRlTWVzc2FnZUZvcm1Db21wb25lbnQsXG4gIEJhc2VDcmVhdGVNZXNzYWdlRm9ybVNlcnZpY2UsXG4gIEJhc2VVcGxvYWRBdHRhY2htZW50c1NlcnZpY2UsXG4gIE1lc3NhZ2VzQ2xpZW50VXBsb2FkQXR0YWNobWVudHNTZXJ2aWNlLFxuICBNZXNzYWdlc0VuY29kaW5nU2VydmljZSxcbiAgTWVzc2FnZXNNYW5pcHVsYXRpb25Db25maXJtTW9kYWxTZXJ2aWNlLFxuICBNZXNzYWdlc1VwbG9hZEF0dGFjaG1lbnRzU2VydmljZSxcbiAgU2hhcmVkTWV0aG9kc1NlcnZpY2UsXG4gIHRvcGljUGxhY2Vob2xkZXJDb25maWcsXG59IGZyb20gJ0BiYWNrYmFzZS9tZXNzYWdlcy1jb21tb24nO1xuaW1wb3J0IHsgUHJlc2VudGF0aW9uTWVzc2FnZVBvc3RSZXF1ZXN0Qm9keSwgVG9waWNzR2V0UmVzcG9uc2VCb2R5IH0gZnJvbSAnQGJhY2tiYXNlL21lc3NhZ2VzLXY1LWh0dHAtYW5nJztcbmltcG9ydCB7IENyZWF0ZU1lc3NhZ2VGb3JtU2VydmljZSB9IGZyb20gJy4vY3JlYXRlLW1lc3NhZ2UtZm9ybS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItY3JlYXRlLW1lc3NhZ2UtZm9ybS11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9jcmVhdGUtbWVzc2FnZS1mb3JtLmNvbXBvbmVudC5odG1sJyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQmFzZUNyZWF0ZU1lc3NhZ2VGb3JtU2VydmljZSxcbiAgICAgIHVzZUNsYXNzOiBDcmVhdGVNZXNzYWdlRm9ybVNlcnZpY2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlVXBsb2FkQXR0YWNobWVudHNTZXJ2aWNlLFxuICAgICAgdXNlQ2xhc3M6IE1lc3NhZ2VzQ2xpZW50VXBsb2FkQXR0YWNobWVudHNTZXJ2aWNlLFxuICAgIH0sXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIENyZWF0ZU1lc3NhZ2VGb3JtQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNyZWF0ZU1lc3NhZ2VGb3JtQ29tcG9uZW50PFByZXNlbnRhdGlvbk1lc3NhZ2VQb3N0UmVxdWVzdEJvZHk+IHtcbiAgLyoqXG4gICAqIENvbmZpZ3MgZm9yIHRvcGljIHNlbGVjdG9yIHBsYWNlaG9sZGVyXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgdG9waWNQbGFjZWhvbGRlckNvbmZpZyA9IHRvcGljUGxhY2Vob2xkZXJDb25maWc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgbWVzc2FnZXNTZXJ2aWNlOiBCYXNlQ3JlYXRlTWVzc2FnZUZvcm1TZXJ2aWNlPFByZXNlbnRhdGlvbk1lc3NhZ2VQb3N0UmVxdWVzdEJvZHk+LFxuICAgIHJlYWRvbmx5IGVuY29kaW5nU2VydmljZTogTWVzc2FnZXNFbmNvZGluZ1NlcnZpY2UsXG4gICAgcmVhZG9ubHkgZmI6IEZvcm1CdWlsZGVyLFxuICAgIHJlYWRvbmx5IGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICByZWFkb25seSBzaGFyZWRTZXJ2aWNlOiBTaGFyZWRNZXRob2RzU2VydmljZSxcbiAgICByZWFkb25seSBjb25maXJtTW9kYWxTZXJ2aWNlOiBNZXNzYWdlc01hbmlwdWxhdGlvbkNvbmZpcm1Nb2RhbFNlcnZpY2UsXG4gICAgcmVhZG9ubHkgdXBsb2FkU2VydmljZTogTWVzc2FnZXNVcGxvYWRBdHRhY2htZW50c1NlcnZpY2UsXG4gICkge1xuICAgIHN1cGVyKHNoYXJlZFNlcnZpY2UsIGNvbmZpcm1Nb2RhbFNlcnZpY2UsIGNkLCBtZXNzYWdlc1NlcnZpY2UsIGZiLCBlbmNvZGluZ1NlcnZpY2UsIHVwbG9hZFNlcnZpY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBtZXRob2QgdG8gc3VibWl0IHRoZSBtZXNzYWdlIGZvcm0gYW5kIGNyZWF0ZSBhIG5ldyBtZXNzYWdlLlxuICAgKi9cbiAgb25Db25maXJtKCkge1xuICAgIHRoaXMubmV3TWVzc2FnZUZvcm1Hcm91cC5tYXJrQWxsQXNUb3VjaGVkKCk7XG4gICAgdGhpcy5uZXdNZXNzYWdlRm9ybUdyb3VwLm1hcmtBc0RpcnR5KCk7XG5cbiAgICBjb25zdCB7IHZhbHVlLCB2YWxpZCB9ID0gdGhpcy5uZXdNZXNzYWdlRm9ybUdyb3VwO1xuICAgIGlmICh2YWxpZCkge1xuICAgICAgY29uc3QgZmluYWxWYWx1ZTogUHJlc2VudGF0aW9uTWVzc2FnZVBvc3RSZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgc3ViamVjdDogJycsXG4gICAgICAgIGJvZHk6ICcnLFxuICAgICAgICB0b3BpYzogJycsXG4gICAgICAgIC4uLnRoaXMuZ2V0U2ltcGxlRm9ybVZhbCh2YWx1ZSksXG4gICAgICB9O1xuICAgICAgdGhpcy5jcmVhdGVNZXNzYWdlKGZpbmFsVmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJDcmVhdGVNZXNzYWdlRm9ybUN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBDcmVhdGVNZXNzYWdlRm9ybUN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIENyZWF0ZU1lc3NhZ2VGb3JtQ29tcG9uZW50LFxuICB7IHRvcGljczogVG9waWNzR2V0UmVzcG9uc2VCb2R5W10gfVxuPiB7fVxuIiwiPG5nLWNvbnRhaW5lclxuICBiYkNyZWF0ZU1lc3NhZ2VGb3JtQ3VzdG9taXphYmxlXG4gIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiXG4gIFtiYlRlbXBsYXRlQ29udGV4dF09XCJ7XG4gICAgdG9waWNzOiB0b3BpY3MgfCBhc3luY1xuICB9XCJcbj48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlIGJiQ3JlYXRlTWVzc2FnZUZvcm1DdXN0b21pemFibGUgbGV0LWhvc3QgbGV0LXRvcGljcz1cImNvbnRleHQudG9waWNzXCI+XG4gIDxmb3JtIFtmb3JtR3JvdXBdPVwiaG9zdC5uZXdNZXNzYWdlRm9ybUdyb3VwXCIgZGF0YS1yb2xlPVwiZm9ybVwiIChzdWJtaXQpPVwiaG9zdC5vbkNvbmZpcm0oKVwiPlxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtOFwiPlxuICAgICAgICAgIDxiYi1kcm9wZG93bi1zaW5nbGUtc2VsZWN0LXVpXG4gICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICB0b3BpY3M/Lmxlbmd0aFxuICAgICAgICAgICAgICAgID8gdG9waWNQbGFjZWhvbGRlckNvbmZpZy5zZWxlY3RUb3BpY1BsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgOiB0b3BpY1BsYWNlaG9sZGVyQ29uZmlnLm5vVG9waWNzUGxhY2Vob2xkZXIgYXMgdG9waWNQbGFjZWhvbGRlclxuICAgICAgICAgICAgXCJcbiAgICAgICAgICAgIGxhYmVsPVwiVG9waWNcIlxuICAgICAgICAgICAgaTE4bi1sYWJlbD1cIlRvcGljIGxhYmVsIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnRvcGljTGFiZWxcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRvcGljXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInRvcGljc1wiXG4gICAgICAgICAgICBpMThuLWFyaWEtbGFiZWw9XCJUb3BpYyBhcmlhLWxhYmVsIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnRvcGljQXJpYUxhYmVsXCJcbiAgICAgICAgICAgIFthcmlhLWludmFsaWRdPVwiaG9zdC5pc0ludmFsaWRDb250cm9sKCd0b3BpYycpXCJcbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJtZXNzYWdlcy10b3BpYy1lcnJvci1tZXNzYWdlXCJcbiAgICAgICAgICAgIFtvcHRpb25zXT1cInRvcGljc1wiXG4gICAgICAgICAgICBkaXNwbGF5QXR0cmlidXRlUGF0aD1cIm5hbWVcIlxuICAgICAgICAgICAgW2F0dHIucGxhY2Vob2xkZXJdPVwidG9waWNQbGFjZWhvbGRlclwiXG4gICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwidG9waWNQbGFjZWhvbGRlclwiXG4gICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJ0b3BpY1wiXG4gICAgICAgICAgICAoYmx1cik9XCJob3N0LnJlc2V0Rm9ybU9uRWxlbWVudEJsdXIoKVwiXG4gICAgICAgICAgPjwvYmItZHJvcGRvd24tc2luZ2xlLXNlbGVjdC11aT5cbiAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpXG4gICAgICAgICAgICBpZD1cIm1lc3NhZ2VzLXRvcGljLWVycm9yLW1lc3NhZ2VcIlxuICAgICAgICAgICAgW3Nob3dFcnJvcnNdPVwiaG9zdC5pc0ludmFsaWRDb250cm9sKCd0b3BpYycpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJtZXNzYWdlcy10b3BpYy1yZXF1aXJlZC1lcnJvci1tZXNzYWdlXCJcbiAgICAgICAgICAgICAgKm5nSWY9XCJob3N0Lmhhc0Vycm9yKCd0b3BpYycsICdyZXF1aXJlZCcpXCJcbiAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgIEVycm9yIG1lc3NhZ2UgaWYgc3ViamVjdCBmaWVsZCBpc1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkQEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5lcnJvcnMuc3ViamVjdFJlcXVpcmVkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRmllbGQgaXMgcmVxdWlyZWRcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgPGJiLWlucHV0LXRleHQtdWlcbiAgICAgICAgZGF0YS1yb2xlPVwic3ViamVjdFwiXG4gICAgICAgIGxhYmVsPVwiU3ViamVjdFwiXG4gICAgICAgIFthcmlhLWludmFsaWRdPVwiaG9zdC5pc0ludmFsaWRDb250cm9sKCdzdWJqZWN0JylcIlxuICAgICAgICBpMThuLWxhYmVsPVwiU3ViamVjdCBsYWJlbCB0ZXh0QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5zdWJqZWN0TGFiZWxcIlxuICAgICAgICBhcmlhLWxhYmVsPVwiU3ViamVjdFwiXG4gICAgICAgIGkxOG4tYXJpYS1sYWJlbD1cIlN1YmplY3QgYXJpYS1sYWJlbCB0ZXh0QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5zdWJqZWN0QXJpYUxhYmVsXCJcbiAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cIm1lc3NhZ2VzLXN1YmplY3QtZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiV3JpdGUgc3ViamVjdFwiXG4gICAgICAgIGkxOG4tcGxhY2Vob2xkZXI9XCJTdWJqZWN0IHBsYWNlaG9sZGVyIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnN1YmplY3RQbGFjZWhvbGRlclwiXG4gICAgICAgIGZvcm1Db250cm9sTmFtZT1cInN1YmplY3RcIlxuICAgICAgICBbbWF4bGVuZ3RoXT1cImhvc3QubWF4U3ViamVjdExlbmd0aFwiXG4gICAgICA+PC9iYi1pbnB1dC10ZXh0LXVpPlxuICAgICAgPGJiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aVxuICAgICAgICBpZD1cIm1lc3NhZ2VzLXN1YmplY3QtZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgIFtzaG93RXJyb3JzXT1cImhvc3QuaXNJbnZhbGlkQ29udHJvbCgnc3ViamVjdCcpXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICAqbmdJZj1cImhvc3QuaGFzRXJyb3IoJ3N1YmplY3QnLCAncmVxdWlyZWQnKVwiXG4gICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgRXJyb3IgbWVzc2FnZSBpZiBzdWJqZWN0IGZpZWxkIGlzIGVtcHR5QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5lcnJvcnMuc3ViamVjdFJlcXVpcmVkXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJtZXNzYWdlcy1zdWJqZWN0LXJlcXVpcmVkLWVycm9yLW1lc3NhZ2VcIlxuICAgICAgICA+XG4gICAgICAgICAgRmllbGQgaXMgcmVxdWlyZWRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhblxuICAgICAgICAgICpuZ0lmPVwiaG9zdC5oYXNFcnJvcignc3ViamVjdCcsICdtYXhsZW5ndGgnKVwiXG4gICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgRXJyb3IgbWVzc2FnZSBpZiBzdWJqZWN0IHZhbHVlIGlzIG1vcmUgdGhlbiBtYXhsZW5ndGhcbiAgICAgICAgICAgIHZhbHVlQEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5lcnJvcnMuc3ViamVjdE1heGxlbmd0aFwiXG4gICAgICAgICAgZGF0YS1yb2xlPVwibWVzc2FnZXMtc3ViamVjdC1tYXhsZW5ndGgtZXhjZWVkZWQtZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgID5cbiAgICAgICAgICBZb3VyIGlucHV0IG9mIHt7IG5ld01lc3NhZ2VGb3JtR3JvdXA/LmdldCgnc3ViamVjdCcpPy52YWx1ZT8ubGVuZ3RoIH19IGNoYXJhY3RlcnMgZXhjZWVkcyB0aGUgbGltaXQgb2ZcbiAgICAgICAgICB7eyBob3N0Lm1heFN1YmplY3RMZW5ndGggfX0uIFBsZWFzZSByZXBocmFzZS5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgIDxiYi1yaWNoLXRleHQtZWRpdG9yLXVpXG4gICAgICAgIGxhYmVsPVwiTWVzc2FnZVwiXG4gICAgICAgIGkxOG4tbGFiZWw9XCJNZXNzYWdlIGxhYmVsIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VMYWJlbFwiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJNZXNzYWdlXCJcbiAgICAgICAgaTE4bi1hcmlhLWxhYmVsPVwiTWVzc2FnZSBhcmlhLWxhYmVsIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VBcmlhTGFiZWxcIlxuICAgICAgICBbYXJpYS1pbnZhbGlkXT1cImhvc3QuaXNJbnZhbGlkQ29udHJvbCgnYm9keScpXCJcbiAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cIm1lc3NhZ2VzLWJvZHktZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgIG5hbWU9XCJtZXNzYWdlXCJcbiAgICAgICAgW21heExlbmd0aF09XCJob3N0Lm1heE1lc3NhZ2VMZW5ndGhcIlxuICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJib2R5XCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJXcml0ZSBzb21lIHRleHRcIlxuICAgICAgICBpMThuLXBsYWNlaG9sZGVyPVwiTWVzc2FnZSBwbGFjZWhvbGRlciB0ZXh0QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5tZXNzYWdlUGxhY2Vob2xkZXJcIlxuICAgICAgICBjb3VudGVyPVwidHJ1ZVwiXG4gICAgICAgIFtyZXF1aXJlZF09XCJ0cnVlXCJcbiAgICAgID5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNhY3Rpb25zIGJiUmljaFRleHRFZGl0b3JBY3Rpb25zPlxuICAgICAgICAgIDxiYi1yaWNoLXRleHQtZWRpdG9yLWJvbGQtYWN0aW9uPjwvYmItcmljaC10ZXh0LWVkaXRvci1ib2xkLWFjdGlvbj5cbiAgICAgICAgICA8YmItcmljaC10ZXh0LWVkaXRvci1pdGFsaWMtYWN0aW9uPjwvYmItcmljaC10ZXh0LWVkaXRvci1pdGFsaWMtYWN0aW9uPlxuICAgICAgICAgIDxiYi1yaWNoLXRleHQtZWRpdG9yLXVuZGVybGluZS1hY3Rpb24+PC9iYi1yaWNoLXRleHQtZWRpdG9yLXVuZGVybGluZS1hY3Rpb24+XG4gICAgICAgICAgPGJiLXJpY2gtdGV4dC1lZGl0b3Itc3RyaWtldGhyb3VnaC1hY3Rpb24+IDwvYmItcmljaC10ZXh0LWVkaXRvci1zdHJpa2V0aHJvdWdoLWFjdGlvbj5cbiAgICAgICAgICA8YmItcmljaC10ZXh0LWVkaXRvci1vbGlzdC1hY3Rpb24+PC9iYi1yaWNoLXRleHQtZWRpdG9yLW9saXN0LWFjdGlvbj5cbiAgICAgICAgICA8YmItcmljaC10ZXh0LWVkaXRvci11bGlzdC1hY3Rpb24+IDwvYmItcmljaC10ZXh0LWVkaXRvci11bGlzdC1hY3Rpb24+XG4gICAgICAgICAgPGJiLXJpY2gtdGV4dC1lZGl0b3ItbGluay1hY3Rpb24+PC9iYi1yaWNoLXRleHQtZWRpdG9yLWxpbmstYWN0aW9uPlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9iYi1yaWNoLXRleHQtZWRpdG9yLXVpPlxuICAgICAgPGJiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aSBbc2hvd0Vycm9yc109XCJob3N0LmlzSW52YWxpZENvbnRyb2woJ2JvZHknKVwiIGlkPVwibWVzc2FnZXMtYm9keS1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgKm5nSWY9XCJob3N0Lmhhc0Vycm9yKCdib2R5JywgJ3JlcXVpcmVkJylcIlxuICAgICAgICAgIGkxOG49XCJFcnJvciBtZXNzYWdlIGlmIGZpZWxkIGlzIHJlcXVpcmVkQEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5lcnJvcnMubWVzc2FnZVJlcXVpcmVkXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJtZXNzYWdlcy1ib2R5LXJlcXVpcmVkLWVycm9yLW1lc3NhZ2VcIlxuICAgICAgICA+XG4gICAgICAgICAgRmllbGQgaXMgcmVxdWlyZWRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgIDxiYi1tZXNzYWdlcy11cGxvYWQtYXR0YWNobWVudHNcbiAgICAgICAgW21heFNpemVdPVwiaG9zdC5tYXhBdHRhY2htZW50U2l6ZVwiXG4gICAgICAgIFtpbml0QXR0YWNobWVudHNdPVwiYXR0YWNobWVudHNcIlxuICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJhdHRhY2htZW50c1wiXG4gICAgICA+PC9iYi1tZXNzYWdlcy11cGxvYWQtYXR0YWNobWVudHM+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXJcIj5cbiAgICAgIDxiYi1sb2FkLWJ1dHRvbi11aVxuICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgZGF0YS1yb2xlPVwic3VibWl0XCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIlNlbmRcIlxuICAgICAgICBpMThuLWFyaWEtbGFiZWw9XCJTZW5kIGJ1dHRvbiBhcmlhLWxhYmVsIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnN1Ym1pdEJ1dHRvbkFyaWFMYWJlbFwiXG4gICAgICAgIGkxOG49XCJTdWJtaXQgYnV0dG9uIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnN1Ym1pdEJ1dHRvblwiXG4gICAgICAgIFtpc0xvYWRpbmddPVwiaG9zdC5mb3JtTG9hZGluZ1wiXG4gICAgICA+XG4gICAgICAgIFNlbmRcbiAgICAgIDwvYmItbG9hZC1idXR0b24tdWk+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGJiQnV0dG9uXG4gICAgICAgIGJiUHJldmVudEJ1YmJsZURvd25cbiAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b25cIlxuICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgIGRhdGEtcm9sZT1cImRpc2NhcmRcIlxuICAgICAgICBhcmlhLWxhYmVsPVwiRGlzY2FyZFwiXG4gICAgICAgIGkxOG4tYXJpYS1sYWJlbD1cIlxuICAgICAgICAgIERpc2NhcmQgYnV0dG9uIGFyaWEtbGFiZWwgdGV4dEBAbWVzc2FnZXMuY3JlYXRlTWVzc2FnZS5jb21wb3NlTWVzc2FnZUZvcm0uZGlzY2FyZEJ1dHRvbkFyaWFMYWJlbFwiXG4gICAgICAgIGkxOG49XCJEaXNjYXJkIGJ1dHRvbiB0ZXh0QEBtZXNzYWdlcy5jcmVhdGVNZXNzYWdlLmNvbXBvc2VNZXNzYWdlRm9ybS5kaXNjYXJkQnV0dG9uXCJcbiAgICAgICAgKGNsaWNrKT1cIlxuICAgICAgICAgIGhvc3QuY29uZmlybU1vZGFsU2VydmljZS50b2dnbGVNb2RhbChcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBob3N0Lm1hbmlwdWxhdGlvblR5cGVzLmRpc2NhcmQsXG4gICAgICAgICAgICBob3N0Lm5ld01lc3NhZ2VGb3JtR3JvdXAsXG4gICAgICAgICAgICBob3N0LmRyYWZ0Rm9ybVZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICBcIlxuICAgICAgPlxuICAgICAgICBEaXNjYXJkXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYmJCdXR0b25cbiAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b24tLWFjcm9zc1wiXG4gICAgICAgIGNvbG9yPVwibGlua1wiXG4gICAgICAgIGRhdGEtcm9sZT1cInNhdmUtYW5kLWNsb3NlXCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIlNhdmUgYW5kIGNsb3NlXCJcbiAgICAgICAgaTE4bi1hcmlhLWxhYmVsPVwiXG4gICAgICAgICAgU2F2ZSBhbmQgY2xvc2UgYnV0dG9uIGFyaWEtbGFiZWxAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnNhdmVBc0RyYWZ0QnV0dG9uVGV4dEFyaWFMYWJlbFwiXG4gICAgICAgIGkxOG49XCJTYXZlICYgQ2xvc2UgYnV0dG9uIHRleHRAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLnNhdmVBc0RyYWZ0QnV0dG9uVGV4dFwiXG4gICAgICAgIChjbGljayk9XCJob3N0Lm9uU2F2ZShob3N0LmdldFNpbXBsZUZvcm1WYWwoaG9zdC5uZXdNZXNzYWdlRm9ybUdyb3VwLnZhbHVlKSlcIlxuICAgICAgPlxuICAgICAgICBTYXZlICYgQ2xvc2VcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Zvcm0+XG5cbiAgPGJiLW1lc3NhZ2VzLW1hbmlwdWxhdGlvbi1jb25maXJtLW1vZGFsXG4gICAgW2lzT3Blbl09XCJob3N0LmNvbmZpcm1hdGlvbk1vZGFsLm9wZW5lZFwiXG4gICAgW3R5cGVdPVwiaG9zdC5jb25maXJtYXRpb25Nb2RhbC50eXBlXCJcbiAgICAoY2FuY2VsKT1cImhvc3QuY29uZmlybU1vZGFsU2VydmljZS50b2dnbGVNb2RhbChmYWxzZSlcIlxuICAgIChjb25maXJtKT1cImhvc3QuY29uZmlybUNvbmZpcm1hdGlvbk1vZGFsKClcIlxuICA+PC9iYi1tZXNzYWdlcy1tYW5pcHVsYXRpb24tY29uZmlybS1tb2RhbD5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjbWVzc2FnZUNvbXBvc2VTdWNjZXNzPlxuICA8c3BhblxuICAgIGkxOG49XCJcbiAgICAgIFlvdXIgbWVzc2FnZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgc2VudC58VGV4dCBvZiBzdWNjZXNzZnVsIGNvbnZlcnNhdGlvblxuICAgICAgY29tcG9zZUBAbWVzc2FnZXMuY3JlYXRlTWVzc2FnZS5jb21wb3NlTWVzc2FnZUZvcm0ubWVzc2FnZVN1Y2Nlc3NDb21wb3NlXCJcbiAgICA+WW91ciBtZXNzYWdlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBzZW50Ljwvc3BhblxuICA+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI21lc3NhZ2VTYXZlRHJhZnRTdWNjZXNzPlxuICA8c3BhblxuICAgIGkxOG49XCJcbiAgICAgIFlvdXIgZHJhZnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNhdmVkLnxUZXh0IG9mIHN1Y2Nlc3NmdWwgY29udmVyc2F0aW9uXG4gICAgICBzYXZpbmdAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VTdWNjZXNzU2F2ZURyYWZ0XCJcbiAgICA+WW91ciBkcmFmdCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgc2F2ZWQuPC9zcGFuXG4gID5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjbWVzc2FnZVVwZGF0ZURyYWZ0U3VjY2Vzcz5cbiAgPHNwYW5cbiAgICBpMThuPVwiXG4gICAgICBZb3VyIGRyYWZ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB1cGRhdGVkLnxUZXh0IG9mIHN1Y2Nlc3NmdWwgY29udmVyc2F0aW9uXG4gICAgICBzYXZpbmdAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VTdWNjZXNzVXBkYXRlRHJhZnRcIlxuICAgID5Zb3VyIGRyYWZ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB1cGRhdGVkLjwvc3BhblxuICA+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI21lc3NhZ2VDb21wb3NlRXJyb3I+XG4gIDxzcGFuXG4gICAgaTE4bj1cIlxuICAgICAgVGhlcmUgaXMgYW4gZXJyb3Igc2VuZGluZyBtZXNzYWdlLnxUZXh0IG9mIGZhaWxlZCBjb252ZXJzYXRpb25cbiAgICAgIGNvbXBvc2VAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VFcnJvckNvbXBvc2VcIlxuICAgID5UaGVyZSBpcyBhbiBlcnJvciBzZW5kaW5nIG1lc3NhZ2UuPC9zcGFuXG4gID5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjbWVzc2FnZVNhdmVEcmFmdEVycm9yPlxuICA8c3BhblxuICAgIGkxOG49XCJcbiAgICAgIFRoZXJlIGlzIGFuIGVycm9yIHNhdmluZyBkcmFmdC58VGV4dCBvZiBmYWlsZWQgY29udmVyc2F0aW9uXG4gICAgICBzYXZpbmdAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VFcnJvclNhdmVEcmFmdFwiXG4gICAgPlRoZXJlIGlzIGFuIGVycm9yIHNhdmluZyBkcmFmdC48L3NwYW5cbiAgPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNtZXNzYWdlVXBkYXRlRHJhZnRFcnJvcj5cbiAgPHNwYW5cbiAgICBpMThuPVwiXG4gICAgICBUaGVyZSBpcyBhbiBlcnJvciB1cGRhdGluZyBkcmFmdC58VGV4dCBvZiBmYWlsZWQgY29udmVyc2F0aW9uXG4gICAgICBzYXZpbmdAQG1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2UuY29tcG9zZU1lc3NhZ2VGb3JtLm1lc3NhZ2VFcnJvclVwZGF0ZURyYWZ0XCJcbiAgICA+VGhlcmUgaXMgYW4gZXJyb3IgdXBkYXRpbmcgZHJhZnQuPC9zcGFuXG4gID5cbjwvbmctdGVtcGxhdGU+XG4iXX0=