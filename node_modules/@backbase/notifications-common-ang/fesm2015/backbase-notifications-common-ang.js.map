{"version":3,"file":"backbase-notifications-common-ang.js","sources":["../../../../libs/notifications-common-ang/src/lib/pipes/notification-localization.pipe.ts","../../../../libs/notifications-common-ang/src/lib/pipes/interpolate-link.pipe.ts","../../../../libs/notifications-common-ang/src/lib/models/notification-origins.ts","../../../../libs/notifications-common-ang/src/lib/constants/notification-origin-icons.ts","../../../../libs/notifications-common-ang/src/lib/components/notifications-capability-icon/notifications-capability-icon.component.ts","../../../../libs/notifications-common-ang/src/lib/components/notifications-capability-icon/notifications-capability-icon.component.html","../../../../libs/notifications-common-ang/src/lib/helpers/is-truncated.ts","../../../../libs/notifications-common-ang/src/lib/directives/is-element-content-truncated.directive.ts","../../../../libs/notifications-common-ang/src/lib/notifications-common.module.ts","../../../../libs/notifications-common-ang/src/lib/constants/pubsub-events.ts","../../../../libs/notifications-common-ang/src/lib/helpers/item-model-property.ts","../../../../libs/notifications-common-ang/src/lib/helpers/rxjs-operators.ts","../../../../libs/notifications-common-ang/src/lib/helpers/type-helpers.ts","../../../../libs/notifications-common-ang/src/lib/services/base-widget-properties.service.ts","../../../../libs/notifications-common-ang/src/lib/helpers/format-date.ts","../../../../libs/notifications-common-ang/src/lib/helpers/ng-zone.ts","../../../../libs/notifications-common-ang/src/backbase-notifications-common-ang.ts"],"sourcesContent":["import { Inject, LOCALE_ID, Pipe, PipeTransform } from '@angular/core';\nimport { NotificationItem } from '../models/notification-item';\n\nexport interface NotificationLocalization {\n  [key: string]: {\n    message: string;\n    title: string;\n  };\n}\n\n@Pipe({\n  name: 'notificationLocalization',\n})\nexport class NotificationLocalizationPipe implements PipeTransform {\n  constructor(@Inject(LOCALE_ID) private readonly locale: string) {}\n\n  transform(notification: NotificationItem, property: 'message' | 'title'): string {\n    return (\n      (((notification.translations || {}) as NotificationLocalization)[this.locale] || notification)[property] || ''\n    );\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { NotificationItem } from '../models/notification-item';\n\nconst linkRegexp = /{{(.*)}}/;\n\n@Pipe({\n  name: 'interpolateLink',\n})\nexport class InterpolateLinkPipe implements PipeTransform {\n  transform(\n    template: string,\n    value: NotificationItem,\n    focusableLink: boolean = true,\n    classLink = '',\n  ): string | undefined {\n    return template.replace(\n      linkRegexp,\n      (_: string, linkText: string) =>\n        `<a${classLink && ' class=\"' + classLink + '\"'} href=\"${\n          value.link\n        }\" target=\"_blank\" rel=\"noopener noreferrer\" tabindex=\"${focusableLink ? '0' : '-1'}\">${\n          linkText || value.link\n        }</a>`,\n    );\n  }\n}\n","export enum NotificationOrigins {\n  Accounts = 'Accounts',\n  Transactions = 'Transaction',\n  Messages = 'MessageCenter',\n  Payments = 'Payment',\n  Limits = 'Limits',\n  Contact = 'Contact',\n  SavingGoals = 'PFM',\n  AccountStatement = 'AccountStatement',\n  FinancialInsights = 'FinancialInsights',\n}\n","import { NotificationOrigins } from '../models/notification-origins';\n\nexport const NOTIFICAION_ORIGIN_ICONS: { [key in NotificationOrigins]: string } = {\n  [NotificationOrigins.Accounts]: 'current-accounts',\n  [NotificationOrigins.Transactions]: 'swap-horiz',\n  [NotificationOrigins.Messages]: 'mail-outline',\n  [NotificationOrigins.SavingGoals]: 'donut-large',\n  [NotificationOrigins.Contact]: 'contacts',\n  [NotificationOrigins.Payments]: 'payments',\n  [NotificationOrigins.AccountStatement]: 'description',\n  [NotificationOrigins.Limits]: 'how-to-reg',\n  [NotificationOrigins.FinancialInsights]: 'pie_chart_outline',\n};\n","import { Component, Directive, Input } from '@angular/core';\nimport { NotificationOrigins } from '../../models/notification-origins';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { NOTIFICAION_ORIGIN_ICONS } from '../../constants/notification-origin-icons';\n\n@Component({\n  selector: 'bb-notifications-capability-icon',\n  templateUrl: './notifications-capability-icon.component.html',\n})\nexport class NotificationsCapabilityIconComponent {\n  /**\n   * Notification origin taked from `NotificationOrigins`\n   */\n  @Input() origin?: NotificationOrigins | string;\n\n  /**\n   * Notification origin types\n   */\n  readonly originTypes = NotificationOrigins;\n\n  /**\n   * Notification origin icons\n   */\n  readonly originIcons = NOTIFICAION_ORIGIN_ICONS;\n}\n\n@Directive({\n  selector: '[bbNotificationsCapabilityIconCustomizable]',\n})\nexport class NotificationsCapabilityIconCustomizableDirective extends BbTemplate<\n  NotificationsCapabilityIconComponent,\n  { origin: NotificationOrigins | string }\n> {}\n","<ng-container\n  bbNotificationsCapabilityIconCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    origin: origin\n  }\"\n></ng-container>\n\n<ng-template bbNotificationsCapabilityIconCustomizable let-origin=\"context.origin\" let-host>\n  <div *ngIf=\"host.originIcons[origin]\" class=\"bb-stack bb-stack--align-center bb-text-support\">\n    <bb-icon-ui\n      size=\"sm\"\n      class=\"bb-stack__item bb-stack__item--spacing-sm\"\n      [name]=\"host.originIcons[origin]\"\n      data-role=\"notifications-capability-icon\"\n    ></bb-icon-ui>\n    <span\n      class=\"bb-stack__item bb-subheader bb-subheader--regular\"\n      data-role=\"notifications-capability-icon-label\"\n      i18n=\"Notification origin label@@notifications-capability-icon.origin.label\"\n    >\n      { origin, select, Accounts {Accounts} Transaction {Transactions} MessageCenter {Messages} Limits {Limits} Payment\n      {Payments} AccountStatement {Account Statement} Contact {Contact} PFM {Saving Goals} FinancialInsights {Financial\n      Insights} }\n    </span>\n  </div>\n</ng-template>\n","/**\n * Check if element is truncated with overflow:ellipsis\n */\n\nexport function isElementContentTruncated({ offsetHeight, scrollHeight }: HTMLElement): boolean {\n  return offsetHeight < scrollHeight;\n}\n","import { ChangeDetectorRef, Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\nimport { CheckTruncation } from '../models/check-truncation.model';\nimport { isElementContentTruncated } from './../helpers/is-truncated';\n\n@Directive({\n  selector: '[bbIsElementContentTruncated]',\n})\nexport class IsElementContentTruncatedDirective implements AfterViewInit {\n  constructor(private readonly elementRef: ElementRef, private readonly cd: ChangeDetectorRef) {}\n\n  @Input() hostRef!: CheckTruncation;\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.setIsContentTruncatedInParentComponent();\n    });\n  }\n\n  private setIsContentTruncatedInParentComponent(): void {\n    const isContentTruncated = isElementContentTruncated(this.elementRef.nativeElement);\n    this.hostRef.setIsContentTruncated(isContentTruncated);\n    this.cd.markForCheck();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NotificationLocalizationPipe } from './pipes/notification-localization.pipe';\nimport { InterpolateLinkPipe } from './pipes/interpolate-link.pipe';\nimport {\n  NotificationsCapabilityIconComponent,\n  NotificationsCapabilityIconCustomizableDirective,\n} from './components/notifications-capability-icon/notifications-capability-icon.component';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { IsElementContentTruncatedDirective } from './directives/is-element-content-truncated.directive';\n\nconst pipes = [NotificationLocalizationPipe, InterpolateLinkPipe];\nconst components = [NotificationsCapabilityIconComponent];\nconst directives = [NotificationsCapabilityIconCustomizableDirective, IsElementContentTruncatedDirective];\nconst uiModules = [IconModule];\n\n@NgModule({\n  imports: [CommonModule, ...uiModules],\n  declarations: [...pipes, ...components, ...directives],\n  exports: [...pipes, ...components, ...directives, ...uiModules],\n})\nexport class NotificationsCommonModule {}\n","export const NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT = 'bb.event.notifications-badge.force-update';\nexport const NOTIFICATIONS_CREATE_LOCAL_EVENT = 'bb.event.notifications-popups.notify';\n","import { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport const getPropertyValue = <T>(input: Observable<T | undefined>, prop: Observable<T>): Observable<T> =>\n  combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));\n","import { Observable, OperatorFunction } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\nexport function propertiesListToArray(): OperatorFunction<string, string[]> {\n  return source$ =>\n    source$.pipe(\n      map(properties => properties.replace(/\\s/g, '').split(',')),\n      map(properties => properties.filter(Boolean)),\n    );\n}\n\nexport const shareReplayOnce = () =>\n  function <T>(source: Observable<T>) {\n    // use refCount: true to prevent memory leaks issue with shareReplay\n    return source.pipe(shareReplay({ refCount: true, bufferSize: 1 }));\n  };\n","export const modelItemToBoolean = (value: string | boolean): boolean => {\n  if (typeof value === 'boolean') {\n    return value;\n  }\n\n  return value.trim() === 'true';\n};\n\nexport const modelItemToArray = (value: string): string[] => value.replace(/\\s/g, '').split(',');\n\nexport const secondsToMilliseconds = (seconds: number) => seconds * 1000;\n","import { Injectable, Optional } from '@angular/core';\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, defer, Observable, of } from 'rxjs';\nimport { first, publishReplay, refCount } from 'rxjs/operators';\nimport { getPropertyValue } from '../helpers/item-model-property';\nimport { propertiesListToArray } from '../helpers/rxjs-operators';\nimport { modelItemToArray } from '../helpers/type-helpers';\n\nexport interface BaseWidgetProperties {\n  allowedRoutes: string[];\n  origins: string[];\n  severityLevels: string[];\n}\n\nexport const DefaultBaseWidgetProperties: BaseWidgetProperties = {\n  allowedRoutes: [],\n  origins: [],\n  severityLevels: [],\n};\n\n@Injectable()\nexport class BaseWidgetPropertiesService {\n  constructor(@Optional() protected readonly itemModel?: ItemModel) {}\n\n  private readonly allowedRoutes$$ = new BehaviorSubject<string[] | undefined>(undefined);\n  private readonly origins$$ = new BehaviorSubject<string[] | undefined>(undefined);\n  private readonly severityLevels$$ = new BehaviorSubject<string[] | undefined>(undefined);\n\n  readonly allowedRoutes$ = getPropertyValue(this.allowedRoutes$$, this.allowedRoutes);\n  readonly origins$ = getPropertyValue(this.origins$$, this.origins);\n  readonly severityLevels$ = getPropertyValue(this.severityLevels$$, this.severityLevels);\n\n  private get allowedRoutes(): Observable<string[]> {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.allowedRoutes);\n    }\n\n    return this.itemModel.property('allowedRoutes', '').pipe(first(), propertiesListToArray());\n  }\n\n  private get origins(): Observable<string[]> {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.origins);\n    }\n\n    return this.itemModel.property('origins', '').pipe(propertiesListToArray());\n  }\n\n  private get severityLevels(): Observable<string[]> {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.severityLevels);\n    }\n\n    return this.itemModel.property('severityLevels', '').pipe(propertiesListToArray());\n  }\n\n  setAllowedRoutes(value: string): void {\n    this.allowedRoutes$$.next(modelItemToArray(value));\n  }\n\n  setOrigins(value: string): void {\n    this.origins$$.next(modelItemToArray(value));\n  }\n\n  setSeverityLevels(value: string): void {\n    this.severityLevels$$.next(modelItemToArray(value));\n  }\n\n  protected defaultModelObservable<T>(value: T): Observable<T> {\n    return defer(() => of(value)).pipe(publishReplay(1), refCount());\n  }\n}\n","export function toISOExtendedFormat(value: string) {\n  // eslint-disable-next-line max-len\n  // The date's format `2020-04-09T10:55:03.576+0000` from BE doesn't support in IE, Safari. Prevent `Invalid Date` result\n\n  const offsetSign = value.slice(-5, -4);\n\n  return offsetSign === '+' || '-' === offsetSign ? `${value.slice(0, -2)}:${value.slice(-2)}` : value;\n}\n","import { SchedulerLike, Subscription } from 'rxjs';\nimport { NgZone } from '@angular/core';\n\nclass LeaveZoneScheduler implements SchedulerLike {\n  constructor(private readonly zone: NgZone, private readonly scheduler: SchedulerLike) {}\n\n  schedule(...args: any[]): Subscription {\n    // eslint-disable-next-line prefer-spread\n    return this.zone.runOutsideAngular(() => this.scheduler.schedule.apply(this.scheduler, args as any));\n  }\n\n  now(): number {\n    return this.scheduler.now();\n  }\n}\n\nclass EnterZoneScheduler implements SchedulerLike {\n  constructor(private readonly zone: NgZone, private readonly scheduler: SchedulerLike) {}\n\n  schedule(...args: any[]): Subscription {\n    // eslint-disable-next-line prefer-spread\n    return this.zone.run(() => this.scheduler.schedule.apply(this.scheduler, args as any));\n  }\n\n  now(): number {\n    return this.scheduler.now();\n  }\n}\n\nexport function leaveZone(zone: NgZone, scheduler: SchedulerLike): SchedulerLike {\n  return new LeaveZoneScheduler(zone, scheduler);\n}\n\nexport function enterZone(zone: NgZone, scheduler: SchedulerLike): SchedulerLike {\n  return new EnterZoneScheduler(zone, scheduler);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1"],"mappings":"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"}