{"version":3,"file":"reducer.js","sourceRoot":"","sources":["../../../../../../../libs/retail-loans-journey/src/lib/store/loans/reducer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAU,aAAa,EAAE,EAAE,EAAE,MAAM,aAAa,CAAC;AAExD,OAAO,EACL,uBAAuB,EACvB,yBAAyB,EACzB,aAAa,EACb,kBAAkB,EAClB,oBAAoB,EACpB,SAAS,EACT,cAAc,EACd,gBAAgB,EAChB,eAAe,EACf,oBAAoB,EACpB,sBAAsB,GACvB,MAAM,WAAW,CAAC;AAEnB,OAAO,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC;AAE7D,MAAM,CAAC,MAAM,QAAQ,GAAG,kBAAkB,CAAC;AAE3C,MAAM,CAAC,MAAM,YAAY,GAAoB;IAC3C,KAAK,EAAE,EAAE;IACT,gBAAgB,EAAE,CAAC;IACnB,eAAe,EAAE,SAAS;IAC1B,cAAc,EAAE,YAAY,CAAC,IAAI;IACjC,IAAI,EAAE,SAAS;IACf,aAAa,EAAE,YAAY,CAAC,IAAI;IAChC,oBAAoB,EAAE,YAAY,CAAC,IAAI;CACxC,CAAC;AAEF,MAAM,aAAa,GAAG,aAAa,CACjC,YAAY,EACZ,EAAE,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,iCAAM,KAAK,KAAE,cAAc,EAAE,YAAY,CAAC,OAAO,EAAE,gBAAgB,EAAE,IAAI,IAAG,CAAC,EAChH,EAAE,CAAC,gBAAgB,EAAE,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,CAAC,iCAC/E,KAAK,KACR,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAClD,eAAe,EAAE,UAAU,EAC3B,cAAc,EAAE,YAAY,CAAC,MAAM,IACnC,CAAC,EACH,EAAE,CAAC,cAAc,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCACpC,KAAK,KACR,cAAc,EAAE,EAAE,KAAK,EAAE,IACzB,CAAC,EACH,EAAE,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCAAM,KAAK,KAAE,aAAa,EAAE,YAAY,CAAC,OAAO,IAAG,CAAC,EACjF,EAAE,CAAC,oBAAoB,EAAE,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,iCACzC,KAAK,KACR,IAAI,EACJ,aAAa,EAAE,YAAY,CAAC,MAAM,IAClC,CAAC,EACH,EAAE,CAAC,kBAAkB,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCACxC,KAAK,KACR,aAAa,EAAE,EAAE,KAAK,EAAE,IACxB,CAAC,EACH,EAAE,CAAC,yBAAyB,EAAE,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,iCACpD,KAAK,KACR,eAAe,EAAE,UAAU,IAC3B,CAAC,EACH,EAAE,CAAC,uBAAuB,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCAClC,KAAK,KACR,eAAe,EAAE,SAAS,IAC1B,CAAC,EACH,EAAE,CAAC,eAAe,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCAC1B,KAAK,KACR,oBAAoB,EAAE,YAAY,CAAC,OAAO,IAC1C,CAAC,EACH,EAAE,CAAC,sBAAsB,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCACjC,KAAK,KACR,oBAAoB,EAAE,YAAY,CAAC,MAAM,IACzC,CAAC,EACH,EAAE,CAAC,oBAAoB,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCAC1C,KAAK,KACR,oBAAoB,EAAE,EAAE,KAAK,EAAE,IAC/B,CAAC,CACJ,CAAC;AAEF,MAAM,UAAU,YAAY,CAAC,KAAsB,EAAE,MAAc;IACjE,OAAO,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACtC,CAAC","sourcesContent":["import { Action, createReducer, on } from '@ngrx/store';\n\nimport {\n  fetchAmountOfLoansError,\n  fetchAmountOfLoansSuccess,\n  fetchLoanById,\n  fetchLoanByIdError,\n  fetchLoanByIdSuccess,\n  loadLoans,\n  loadLoansError,\n  loadLoansSuccess,\n  updateLoanAlias,\n  updateLoanAliasError,\n  updateLoanAliasSuccess,\n} from './actions';\nimport { LoansStoreState } from './store.model';\nimport { LoadingState } from '../../models/call-state.model';\n\nexport const storeKey = 'loansJourneyBase';\n\nexport const initialState: LoansStoreState = {\n  loans: [],\n  loansCurrentPage: 0,\n  loansTotalCount: undefined,\n  loansCallState: LoadingState.Init,\n  loan: undefined,\n  loanCallState: LoadingState.Init,\n  aliasUpdateCallState: LoadingState.Init,\n};\n\nconst _loansReducer = createReducer<LoansStoreState>(\n  initialState,\n  on(loadLoans, (state, { page }) => ({ ...state, loansCallState: LoadingState.Loading, loansCurrentPage: page })),\n  on(loadLoansSuccess, (state, { append, response: { items: loans, totalCount } }) => ({\n    ...state,\n    loans: append ? [...state.loans, ...loans] : loans,\n    loansTotalCount: totalCount,\n    loansCallState: LoadingState.Loaded,\n  })),\n  on(loadLoansError, (state, { error }) => ({\n    ...state,\n    loansCallState: { error },\n  })),\n  on(fetchLoanById, (state) => ({ ...state, loanCallState: LoadingState.Loading })),\n  on(fetchLoanByIdSuccess, (state, { loan }) => ({\n    ...state,\n    loan,\n    loanCallState: LoadingState.Loaded,\n  })),\n  on(fetchLoanByIdError, (state, { error }) => ({\n    ...state,\n    loanCallState: { error },\n  })),\n  on(fetchAmountOfLoansSuccess, (state, { totalCount }) => ({\n    ...state,\n    loansTotalCount: totalCount,\n  })),\n  on(fetchAmountOfLoansError, (state) => ({\n    ...state,\n    loansTotalCount: undefined,\n  })),\n  on(updateLoanAlias, (state) => ({\n    ...state,\n    aliasUpdateCallState: LoadingState.Loading,\n  })),\n  on(updateLoanAliasSuccess, (state) => ({\n    ...state,\n    aliasUpdateCallState: LoadingState.Loaded,\n  })),\n  on(updateLoanAliasError, (state, { error }) => ({\n    ...state,\n    aliasUpdateCallState: { error },\n  })),\n);\n\nexport function loansReducer(state: LoansStoreState, action: Action) {\n  return _loansReducer(state, action);\n}\n"]}