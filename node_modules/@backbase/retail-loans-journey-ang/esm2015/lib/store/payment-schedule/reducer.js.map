{"version":3,"file":"reducer.js","sourceRoot":"","sources":["../../../../../../../libs/retail-loans-journey/src/lib/store/payment-schedule/reducer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAU,aAAa,EAAE,EAAE,EAAE,MAAM,aAAa,CAAC;AAExD,OAAO,EACL,wBAAwB,EACxB,6BAA6B,EAC7B,+BAA+B,EAC/B,yBAAyB,EACzB,8BAA8B,EAC9B,gCAAgC,GACjC,MAAM,WAAW,CAAC;AACnB,OAAO,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC;AAG7D,MAAM,CAAC,MAAM,uBAAuB,GAAG,6BAA6B,CAAC;AAErE,MAAM,CAAC,MAAM,YAAY,GAAyB;IAChD,iBAAiB,EAAE,EAAE;IACrB,2BAA2B,EAAE,CAAC;IAC9B,2BAA2B,EAAE,CAAC;IAC9B,0BAA0B,EAAE,YAAY,CAAC,IAAI;IAC7C,gBAAgB,EAAE,SAAS;IAC3B,yBAAyB,EAAE,YAAY,CAAC,IAAI;CAC7C,CAAC;AAEF,MAAM,OAAO,GAAG,aAAa,CAC3B,YAAY,EACZ,EAAE,CAAC,yBAAyB,EAAE,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,iCAC1D,KAAK,KACR,0BAA0B,EAAE,YAAY,CAAC,OAAO,EAChD,2BAA2B,EAAE,IAAc,IAC3C,CAAC,EACH,EAAE,CAAC,gCAAgC,EAAE,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,CAAC,iCACxF,KAAK,KACR,iBAAiB,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,iBAAiB,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAC1E,2BAA2B,EAAE,UAAU,EACvC,0BAA0B,EAAE,YAAY,CAAC,MAAM,IAC/C,CAAC,EACH,EAAE,CAAC,8BAA8B,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCACpD,KAAK,KACR,0BAA0B,EAAE,EAAE,KAAK,EAAE,IACrC,CAAC,EACH,EAAE,CAAC,wBAAwB,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCACnC,KAAK,KACR,yBAAyB,EAAE,YAAY,CAAC,OAAO,IAC/C,CAAC,EACH,EAAE,CAAC,+BAA+B,EAAE,CAAC,KAAK,EAAE,EAAE,gBAAgB,EAAE,EAAE,EAAE,CAAC,iCAChE,KAAK,KACR,gBAAgB,EAChB,yBAAyB,EAAE,YAAY,CAAC,MAAM,IAC9C,CAAC,EACH,EAAE,CAAC,6BAA6B,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCACnD,KAAK,KACR,yBAAyB,EAAE,EAAE,KAAK,EAAE,IACpC,CAAC,CACJ,CAAC;AAEF,MAAM,UAAU,sBAAsB,CAAC,KAA2B,EAAE,MAAc;IAChF,OAAO,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAChC,CAAC","sourcesContent":["import { Action, createReducer, on } from '@ngrx/store';\n\nimport {\n  fetchAmortizationPayment,\n  fetchAmortizationPaymentError,\n  fetchAmortizationPaymentSuccess,\n  fetchAmortizationSchedule,\n  fetchAmortizationScheduleError,\n  fetchAmortizationScheduleSuccess,\n} from './actions';\nimport { LoadingState } from '../../models/call-state.model';\nimport { PaymentScheduleState } from './store.model';\n\nexport const paymentScheduleStoreKey = 'loansJourneyPaymentSchedule';\n\nexport const initialState: PaymentScheduleState = {\n  amortizedPayments: [],\n  amortizedPaymentsTotalCount: 0,\n  amortizedPaymentsCurrenPage: 0,\n  amortizedPaymentsCallState: LoadingState.Init,\n  amortizedPayment: undefined,\n  amortizedPaymentCallState: LoadingState.Init,\n};\n\nconst reducer = createReducer<PaymentScheduleState>(\n  initialState,\n  on(fetchAmortizationSchedule, (state, { params: { from } }) => ({\n    ...state,\n    amortizedPaymentsCallState: LoadingState.Loading,\n    amortizedPaymentsCurrenPage: from as number,\n  })),\n  on(fetchAmortizationScheduleSuccess, (state, { append, response: { items, totalCount } }) => ({\n    ...state,\n    amortizedPayments: append ? [...state.amortizedPayments, ...items] : items,\n    amortizedPaymentsTotalCount: totalCount,\n    amortizedPaymentsCallState: LoadingState.Loaded,\n  })),\n  on(fetchAmortizationScheduleError, (state, { error }) => ({\n    ...state,\n    amortizedPaymentsCallState: { error },\n  })),\n  on(fetchAmortizationPayment, (state) => ({\n    ...state,\n    amortizedPaymentCallState: LoadingState.Loading,\n  })),\n  on(fetchAmortizationPaymentSuccess, (state, { amortizedPayment }) => ({\n    ...state,\n    amortizedPayment,\n    amortizedPaymentCallState: LoadingState.Loaded,\n  })),\n  on(fetchAmortizationPaymentError, (state, { error }) => ({\n    ...state,\n    amortizedPaymentCallState: { error },\n  })),\n);\n\nexport function paymentScheduleReducer(state: PaymentScheduleState, action: Action) {\n  return reducer(state, action);\n}\n"]}