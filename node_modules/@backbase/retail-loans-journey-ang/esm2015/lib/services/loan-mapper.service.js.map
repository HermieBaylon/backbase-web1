{"version":3,"file":"loan-mapper.service.js","sourceRoot":"","sources":["../../../../../../libs/retail-loans-journey/src/lib/services/loan-mapper.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAK3C,OAAO,EAAE,gCAAgC,EAAE,MAAM,gCAAgC,CAAC;;;AAGlF,MAAM,OAAO,iBAAiB;IAC5B,YAA6B,aAA+C;QAA/C,kBAAa,GAAb,aAAa,CAAkC;QAE5E;;WAEG;QACM,gBAAW,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAL2B,CAAC;IAOxE,YAAY,CAAC,IAAsB;QACzC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QAE5D,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,gBAAgB,QAAQ,6CAA6C,CAAC,CAAC;SACxF;QAED,uCACK,IAAI,KACP,QAAQ,EAAE,MAAM,CAAC,QAAQ,EACzB,aAAa,EAAE,MAAM,CAAC,SAAS,IAAI,QAAQ,IAC3C;IACJ,CAAC;;kIArBU,iBAAiB;sIAAjB,iBAAiB;4FAAjB,iBAAiB;kBAD7B,UAAU","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { PresentationLoan } from '@backbase/data-ang/loans';\nimport { Loan } from '@backbase/loans-collection-ui-ang';\n\nimport { LoansJourneyConfigurationService } from '../loans-journey-configuration';\n\n@Injectable()\nexport class LoanMapperService {\n  constructor(private readonly configuration: LoansJourneyConfigurationService) {}\n\n  /**\n   * Loan mapper func\n   */\n  readonly toLoanModel = this._toLoanModel.bind(this);\n\n  private _toLoanModel(loan: PresentationLoan): Loan {\n    const loanType = loan.loanType;\n    const config = this.configuration.loanTypeMapping[loanType];\n\n    if (!config) {\n      throw new Error(`[bb-loans]: \"${loanType}\" type was not configured for loans journey`);\n    }\n\n    return {\n      ...loan,\n      viewType: config.viewType,\n      loanTypeAlias: config.typeAlias || loanType,\n    };\n  }\n}\n"]}