export var TransactionIconType;
(function (TransactionIconType) {
    TransactionIconType[TransactionIconType["category"] = 1] = "category";
    TransactionIconType[TransactionIconType["type"] = 2] = "type";
    TransactionIconType[TransactionIconType["creditDebit"] = 3] = "creditDebit";
})(TransactionIconType || (TransactionIconType = {}));
export class BaseTransactionIcon {
    cleanClassName(text) {
        const result = text.toLowerCase().replace(/\W/g, '-').replace(/-{2,}/g, '-');
        if (result.endsWith('-')) {
            return result.slice(0, -1);
        }
        else {
            return result;
        }
    }
    throwIfIncorrect() {
        if (!this.isValid) {
            throw new Error(`Invalid transaction provided to ${this.constructor.name}`);
        }
    }
    constructor() {
        this.throwIfIncorrect();
    }
}
export class TransactionCategoryIcon extends BaseTransactionIcon {
    constructor(transaction) {
        super();
        this.transaction = transaction;
    }
    get title() {
        return !this.transaction.isPending ? this.transaction.category || '' : 'pending';
    }
    get type() {
        return TransactionIconType.category;
    }
    isValid() {
        return this.transaction.isPending || (this.transaction !== undefined && this.transaction.category !== undefined);
    }
    formatClassName() {
        return `bb-transaction-category-${this.cleanClassName(this.transaction.category || 'pending')}`;
    }
}
export class TransactionTypeIcon extends BaseTransactionIcon {
    constructor(transaction) {
        super();
        this.transaction = transaction;
    }
    get title() {
        return this.transaction.type || '';
    }
    get type() {
        return TransactionIconType.type;
    }
    isValid() {
        return !!this.transaction && !!this.transaction.type;
    }
    formatClassName() {
        return this.transaction.type ? `bb-icon-transaction-type-${this.cleanClassName(this.transaction.type)}` : '';
    }
}
export class TransactionCreditDebitIcon extends BaseTransactionIcon {
    constructor(transaction) {
        super();
        this.transaction = transaction;
    }
    get title() {
        return this.indicator;
    }
    get type() {
        return TransactionIconType.creditDebit;
    }
    formatClassName() {
        return this.transaction.transactionAmountCurrency
            ? `bb-icon-credit-debit-indicator-${this.cleanClassName(this.indicator)}`
            : '';
    }
    get indicator() {
        if (this.transaction.transactionAmountCurrency) {
            return parseInt(this.transaction.transactionAmountCurrency.amount, 10) > 0 ? 'incoming' : 'outgoing';
        }
        return '';
    }
    isValid() {
        return this.transaction !== undefined && this.transaction.transactionAmountCurrency !== undefined;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb24tY2F0ZWdvcnkubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3RyYW5zYWN0aW9ucy1jb21tb24tYW5nL3NyYy9tb2RlbC90cmFuc2FjdGlvbi1jYXRlZ29yeS5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQU4sSUFBWSxtQkFJWDtBQUpELFdBQVksbUJBQW1CO0lBQzdCLHFFQUFZLENBQUE7SUFDWiw2REFBUSxDQUFBO0lBQ1IsMkVBQWUsQ0FBQTtBQUNqQixDQUFDLEVBSlcsbUJBQW1CLEtBQW5CLG1CQUFtQixRQUk5QjtBQUNELE1BQU0sT0FBZ0IsbUJBQW1CO0lBTTdCLGNBQWMsQ0FBQyxJQUFZO1FBQ25DLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFN0UsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM1QjthQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUM7U0FDZjtJQUNILENBQUM7SUFFTyxnQkFBZ0I7UUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQzdFO0lBQ0gsQ0FBQztJQUVEO1FBQ0UsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUIsQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFPLHVCQUF3QixTQUFRLG1CQUFtQjtJQWlCOUQsWUFBc0IsV0FBd0I7UUFDNUMsS0FBSyxFQUFFLENBQUM7UUFEWSxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtJQUU5QyxDQUFDO0lBbEJELElBQVcsS0FBSztRQUNkLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDbkYsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNiLE9BQU8sbUJBQW1CLENBQUMsUUFBUSxDQUFDO0lBQ3RDLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQyxDQUFDO0lBQ25ILENBQUM7SUFFTSxlQUFlO1FBQ3BCLE9BQU8sMkJBQTJCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQztJQUNsRyxDQUFDO0NBS0Y7QUFFRCxNQUFNLE9BQU8sbUJBQW9CLFNBQVEsbUJBQW1CO0lBaUIxRCxZQUFzQixXQUF3QjtRQUM1QyxLQUFLLEVBQUUsQ0FBQztRQURZLGdCQUFXLEdBQVgsV0FBVyxDQUFhO0lBRTlDLENBQUM7SUFsQkQsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNiLE9BQU8sbUJBQW1CLENBQUMsSUFBSSxDQUFDO0lBQ2xDLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7SUFDdkQsQ0FBQztJQUVNLGVBQWU7UUFDcEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsNEJBQTRCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDL0csQ0FBQztDQUtGO0FBRUQsTUFBTSxPQUFPLDBCQUEyQixTQUFRLG1CQUFtQjtJQTJCakUsWUFBc0IsV0FBd0I7UUFDNUMsS0FBSyxFQUFFLENBQUM7UUFEWSxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtJQUU5QyxDQUFDO0lBNUJELElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ2IsT0FBTyxtQkFBbUIsQ0FBQyxXQUFXLENBQUM7SUFDekMsQ0FBQztJQUVNLGVBQWU7UUFDcEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLHlCQUF5QjtZQUMvQyxDQUFDLENBQUMsa0NBQWtDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3pFLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDVCxDQUFDO0lBRUQsSUFBWSxTQUFTO1FBQ25CLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsRUFBRTtZQUM5QyxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO1NBQ3RHO1FBRUQsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsS0FBSyxTQUFTLENBQUM7SUFDcEcsQ0FBQztDQUtGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNhY3Rpb24gfSBmcm9tICcuL3RyYW5zYWN0aW9uLm1vZGVsJztcblxuZXhwb3J0IGVudW0gVHJhbnNhY3Rpb25JY29uVHlwZSB7XG4gIGNhdGVnb3J5ID0gMSxcbiAgdHlwZSA9IDIsXG4gIGNyZWRpdERlYml0ID0gMyxcbn1cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlVHJhbnNhY3Rpb25JY29uIHtcbiAgcHVibGljIGFic3RyYWN0IGdldCB0aXRsZSgpOiBzdHJpbmc7XG4gIHB1YmxpYyBhYnN0cmFjdCBmb3JtYXRDbGFzc05hbWUoKTogc3RyaW5nO1xuICBwdWJsaWMgYWJzdHJhY3QgaXNWYWxpZCgpOiBib29sZWFuO1xuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IHR5cGUoKTogVHJhbnNhY3Rpb25JY29uVHlwZTtcblxuICBwcm90ZWN0ZWQgY2xlYW5DbGFzc05hbWUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCByZXN1bHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxXL2csICctJykucmVwbGFjZSgvLXsyLH0vZywgJy0nKTtcblxuICAgIGlmIChyZXN1bHQuZW5kc1dpdGgoJy0nKSkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5zbGljZSgwLCAtMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0aHJvd0lmSW5jb3JyZWN0KCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHJhbnNhY3Rpb24gcHJvdmlkZWQgdG8gJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50aHJvd0lmSW5jb3JyZWN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zYWN0aW9uQ2F0ZWdvcnlJY29uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uSWNvbiB7XG4gIHB1YmxpYyBnZXQgdGl0bGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gIXRoaXMudHJhbnNhY3Rpb24uaXNQZW5kaW5nID8gdGhpcy50cmFuc2FjdGlvbi5jYXRlZ29yeSB8fCAnJyA6ICdwZW5kaW5nJztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdHlwZSgpOiBUcmFuc2FjdGlvbkljb25UeXBlIHtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb25JY29uVHlwZS5jYXRlZ29yeTtcbiAgfVxuXG4gIHB1YmxpYyBpc1ZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLmlzUGVuZGluZyB8fCAodGhpcy50cmFuc2FjdGlvbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMudHJhbnNhY3Rpb24uY2F0ZWdvcnkgIT09IHVuZGVmaW5lZCk7XG4gIH1cblxuICBwdWJsaWMgZm9ybWF0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBiYi10cmFuc2FjdGlvbi1jYXRlZ29yeS0ke3RoaXMuY2xlYW5DbGFzc05hbWUodGhpcy50cmFuc2FjdGlvbi5jYXRlZ29yeSB8fCAncGVuZGluZycpfWA7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgdHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25UeXBlSWNvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbkljb24ge1xuICBwdWJsaWMgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24udHlwZSB8fCAnJztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdHlwZSgpOiBUcmFuc2FjdGlvbkljb25UeXBlIHtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb25JY29uVHlwZS50eXBlO1xuICB9XG5cbiAgcHVibGljIGlzVmFsaWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy50cmFuc2FjdGlvbiAmJiAhIXRoaXMudHJhbnNhY3Rpb24udHlwZTtcbiAgfVxuXG4gIHB1YmxpYyBmb3JtYXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi50eXBlID8gYGJiLWljb24tdHJhbnNhY3Rpb24tdHlwZS0ke3RoaXMuY2xlYW5DbGFzc05hbWUodGhpcy50cmFuc2FjdGlvbi50eXBlKX1gIDogJyc7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgdHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25DcmVkaXREZWJpdEljb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb25JY29uIHtcbiAgcHVibGljIGdldCB0aXRsZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmluZGljYXRvcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdHlwZSgpOiBUcmFuc2FjdGlvbkljb25UeXBlIHtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb25JY29uVHlwZS5jcmVkaXREZWJpdDtcbiAgfVxuXG4gIHB1YmxpYyBmb3JtYXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi50cmFuc2FjdGlvbkFtb3VudEN1cnJlbmN5XG4gICAgICA/IGBiYi1pY29uLWNyZWRpdC1kZWJpdC1pbmRpY2F0b3ItJHt0aGlzLmNsZWFuQ2xhc3NOYW1lKHRoaXMuaW5kaWNhdG9yKX1gXG4gICAgICA6ICcnO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgaW5kaWNhdG9yKCkge1xuICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uQW1vdW50Q3VycmVuY3kpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uQW1vdW50Q3VycmVuY3kuYW1vdW50LCAxMCkgPiAwID8gJ2luY29taW5nJyA6ICdvdXRnb2luZyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcHVibGljIGlzVmFsaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uQW1vdW50Q3VycmVuY3kgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG4iXX0=