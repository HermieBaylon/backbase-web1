import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
import { AvailableFilterEnum } from './model/available-filters.model';
/**
 * Dropdown values for credit/debit indicator filter.
 */
export const creditDebitIndicatorEnumValues = [
    {
        name: 'All',
    },
    {
        value: 'CRDT',
        name: 'Credit',
    },
    {
        value: 'DBIT',
        name: 'Debit',
    },
];
/**
 * Fallback dropdown values for transaction type filter.
 */
export const defaultTransactionTypeEnumValues = [
    {
        value: 'ATM',
        name: 'ATM',
    },
    {
        value: 'ACH',
        name: 'Ach',
    },
    {
        value: 'Bill Payment',
        name: 'Bill Payment',
    },
    {
        value: 'Cash',
        name: 'Cash',
    },
    {
        name: 'Cheques',
        value: 'Cheques',
    },
    {
        value: 'CreditDebit Card',
        name: 'Credit/Debit Card',
    },
    {
        value: 'Check',
        name: 'Check',
    },
    {
        value: 'Deposit',
        name: 'Deposit',
    },
    {
        value: 'Fee',
        name: 'Fee',
    },
    {
        value: 'POS',
        name: 'POS',
    },
    {
        value: 'Withdrawal',
        name: 'Withdrawal',
    },
];
/**
 * Fallback dropdown values for billing status filter.
 */
export const defaultBillingStatusEnumValues = [
    {
        value: 'PENDING',
        name: 'Pending',
    },
    {
        value: 'BILLED',
        name: 'Billed',
    },
    {
        value: 'UNBILLED',
        name: 'Unbilled',
    },
];
/**
 * Name of different check images status
 */
export var CheckImagesAvailability;
(function (CheckImagesAvailability) {
    CheckImagesAvailability["available"] = "AVAILABLE";
    CheckImagesAvailability["unavailable"] = "UNAVAILABLE";
})(CheckImagesAvailability || (CheckImagesAvailability = {}));
export var BillingStatusEnum;
(function (BillingStatusEnum) {
    BillingStatusEnum["billed"] = "BILLED";
    BillingStatusEnum["unbilled"] = "UNBILLED";
    BillingStatusEnum["pending"] = "PENDING";
})(BillingStatusEnum || (BillingStatusEnum = {}));
/**
 * Name of response header that contains the total amount of results.
 */
export const totalCountHeader = 'X-Total-Count';
/**
 * Name of response header that contains the available export types.
 */
export const availableExportTypes = 'X-Available-Export-Types';
export const unvailableExportTypesReasons = 'X-Unavailable-Export-Types-Reasons';
/**
 * Name of response header that contains the sort configuration.
 */
export const sortFieldsDirectionHeader = 'X-Sort-Fields-Direction';
/**
 * Notification time to live in ms.
 */
export const notificationTtl = 5000;
/**
 * Which category level should be retrieved for category change modal list.
 */
export const categoryListLevelParam = 'PARENTS';
export const defaultAvailableFiltersConfig = {
    'Current Account': [
        AvailableFilterEnum.Date,
        AvailableFilterEnum.CreditDebitIndicator,
        AvailableFilterEnum.Amount,
        AvailableFilterEnum.Types,
        AvailableFilterEnum.BillingStatus,
        AvailableFilterEnum.CheckSerialNumber,
    ],
    'Savings Account': [
        AvailableFilterEnum.Date,
        AvailableFilterEnum.CreditDebitIndicator,
        AvailableFilterEnum.Amount,
        AvailableFilterEnum.Types,
        AvailableFilterEnum.BillingStatus,
        AvailableFilterEnum.CheckSerialNumber,
    ],
    'Credit Card': [
        AvailableFilterEnum.Date,
        AvailableFilterEnum.CreditDebitIndicator,
        AvailableFilterEnum.Amount,
        AvailableFilterEnum.Types,
        AvailableFilterEnum.BillingStatus,
    ],
    Loan: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],
    'Term Deposit': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],
    'Debit Card': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],
    'Investment Account': [
        AvailableFilterEnum.Date,
        AvailableFilterEnum.CreditDebitIndicator,
        AvailableFilterEnum.Amount,
    ],
    defaultFilters: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],
};
export const deserialize = (propertyValue) => {
    const params = propertyValue.split('&');
    return params.reduce((acc, param) => {
        const [key, val] = param.split('=');
        return Object.assign(Object.assign({}, acc), { [decodeURIComponent(key)]: decodeURIComponent(val) });
    }, {});
};
export const parseSortOptions = (propertyValue) => {
    if (!propertyValue.length) {
        return undefined;
    }
    const sortOption = propertyValue
        .split(',')[0]
        .trim()
        .replace(/\s{2,}/g, ' ');
    const [orderBy, direction] = sortOption.split(' ');
    if (!orderBy || (direction !== 'ASC' && direction !== 'DESC')) {
        throw new Error(`Invalid value for "initialSortOptions" property.
      Please use "<orderBy> <direction>" format, e.g., "bookingDate DESC", or leave it empty.`);
    }
    return {
        orderBy,
        direction,
    };
};
export const filterInputParameters = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => inputVal !== null && inputVal !== void 0 ? inputVal : propVal));
export const b64Encode = (str) => btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (_match, p1) {
    return String.fromCharCode(parseInt(p1, 16));
}));
export const truncateDate = (date) => new Date(date.getFullYear(), date.getMonth(), date.getDate());
export const daysDiff = (date1, date2) => {
    const diff = truncateDate(new Date(date1)).getTime() - truncateDate(new Date(date2)).getTime();
    return Math.ceil(diff / (1000 * 3600 * 24));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy90cmFuc2FjdGlvbnMtY29tbW9uLWFuZy9zcmMvY29uc3RhbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDakQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBR3JDLE9BQU8sRUFBRSxtQkFBbUIsRUFBMEIsTUFBTSxpQ0FBaUMsQ0FBQztBQUU5Rjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLDhCQUE4QixHQUFpQztJQUMxRTtRQUNFLElBQUksRUFBRSxLQUFLO0tBQ1o7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsSUFBSSxFQUFFLFFBQVE7S0FDZjtJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixJQUFJLEVBQUUsT0FBTztLQUNkO0NBQ0YsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZ0NBQWdDLEdBQWlDO0lBQzVFO1FBQ0UsS0FBSyxFQUFFLEtBQUs7UUFDWixJQUFJLEVBQUUsS0FBSztLQUNaO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsS0FBSztRQUNaLElBQUksRUFBRSxLQUFLO0tBQ1o7SUFDRDtRQUNFLEtBQUssRUFBRSxjQUFjO1FBQ3JCLElBQUksRUFBRSxjQUFjO0tBQ3JCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLElBQUksRUFBRSxNQUFNO0tBQ2I7SUFDRDtRQUNFLElBQUksRUFBRSxTQUFTO1FBQ2YsS0FBSyxFQUFFLFNBQVM7S0FDakI7SUFDRDtRQUNFLEtBQUssRUFBRSxrQkFBa0I7UUFDekIsSUFBSSxFQUFFLG1CQUFtQjtLQUMxQjtJQUNEO1FBQ0UsS0FBSyxFQUFFLE9BQU87UUFDZCxJQUFJLEVBQUUsT0FBTztLQUNkO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsU0FBUztRQUNoQixJ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QUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBRS9GLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDOUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25zRW51bVZhbHVlIH0gZnJvbSAnLi9tb2RlbC90cmFuc2FjdGlvbnMtZW51bS12YWx1ZS5tb2RlbCc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbnNTb3J0T3B0aW9ucyB9IGZyb20gJy4vbW9kZWwvdHJhbnNhY3Rpb25zLXNvcnQtb3B0aW9ucy5tb2RlbCc7XG5pbXBvcnQgeyBBdmFpbGFibGVGaWx0ZXJFbnVtLCBBdmFpbGFibGVGaWx0ZXJzQ29uZmlnIH0gZnJvbSAnLi9tb2RlbC9hdmFpbGFibGUtZmlsdGVycy5tb2RlbCc7XG5cbi8qKlxuICogRHJvcGRvd24gdmFsdWVzIGZvciBjcmVkaXQvZGViaXQgaW5kaWNhdG9yIGZpbHRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWRpdERlYml0SW5kaWNhdG9yRW51bVZhbHVlczogQXJyYXk8VHJhbnNhY3Rpb25zRW51bVZhbHVlPiA9IFtcbiAge1xuICAgIG5hbWU6ICdBbGwnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdDUkRUJyxcbiAgICBuYW1lOiAnQ3JlZGl0JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnREJJVCcsXG4gICAgbmFtZTogJ0RlYml0JyxcbiAgfSxcbl07XG5cbi8qKlxuICogRmFsbGJhY2sgZHJvcGRvd24gdmFsdWVzIGZvciB0cmFuc2FjdGlvbiB0eXBlIGZpbHRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRUcmFuc2FjdGlvblR5cGVFbnVtVmFsdWVzOiBBcnJheTxUcmFuc2FjdGlvbnNFbnVtVmFsdWU+ID0gW1xuICB7XG4gICAgdmFsdWU6ICdBVE0nLFxuICAgIG5hbWU6ICdBVE0nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdBQ0gnLFxuICAgIG5hbWU6ICdBY2gnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdCaWxsIFBheW1lbnQnLFxuICAgIG5hbWU6ICdCaWxsIFBheW1lbnQnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdDYXNoJyxcbiAgICBuYW1lOiAnQ2FzaCcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQ2hlcXVlcycsXG4gICAgdmFsdWU6ICdDaGVxdWVzJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnQ3JlZGl0RGViaXQgQ2FyZCcsXG4gICAgbmFtZTogJ0NyZWRpdC9EZWJpdCBDYXJkJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnQ2hlY2snLFxuICAgIG5hbWU6ICdDaGVjaycsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0RlcG9zaXQnLFxuICAgIG5hbWU6ICdEZXBvc2l0JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnRmVlJyxcbiAgICBuYW1lOiAnRmVlJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnUE9TJyxcbiAgICBuYW1lOiAnUE9TJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnV2l0aGRyYXdhbCcsXG4gICAgbmFtZTogJ1dpdGhkcmF3YWwnLFxuICB9LFxuXTtcblxuLyoqXG4gKiBGYWxsYmFjayBkcm9wZG93biB2YWx1ZXMgZm9yIGJpbGxpbmcgc3RhdHVzIGZpbHRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRCaWxsaW5nU3RhdHVzRW51bVZhbHVlczogQXJyYXk8VHJhbnNhY3Rpb25zRW51bVZhbHVlPiA9IFtcbiAge1xuICAgIHZhbHVlOiAnUEVORElORycsXG4gICAgbmFtZTogJ1BlbmRpbmcnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdCSUxMRUQnLFxuICAgIG5hbWU6ICdCaWxsZWQnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdVTkJJTExFRCcsXG4gICAgbmFtZTogJ1VuYmlsbGVkJyxcbiAgfSxcbl07XG5cbi8qKlxuICogTmFtZSBvZiBkaWZmZXJlbnQgY2hlY2sgaW1hZ2VzIHN0YXR1c1xuICovXG5leHBvcnQgZW51bSBDaGVja0ltYWdlc0F2YWlsYWJpbGl0eSB7XG4gIGF2YWlsYWJsZSA9ICdBVkFJTEFCTEUnLFxuICB1bmF2YWlsYWJsZSA9ICdVTkFWQUlMQUJMRScsXG59XG5cbmV4cG9ydCBlbnVtIEJpbGxpbmdTdGF0dXNFbnVtIHtcbiAgYmlsbGVkID0gJ0JJTExFRCcsXG4gIHVuYmlsbGVkID0gJ1VOQklMTEVEJyxcbiAgcGVuZGluZyA9ICdQRU5ESU5HJyxcbn1cblxuLyoqXG4gKiBOYW1lIG9mIHJlc3BvbnNlIGhlYWRlciB0aGF0IGNvbnRhaW5zIHRoZSB0b3RhbCBhbW91bnQgb2YgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvdGFsQ291bnRIZWFkZXIgPSAnWC1Ub3RhbC1Db3VudCc7XG4vKipcbiAqIE5hbWUgb2YgcmVzcG9uc2UgaGVhZGVyIHRoYXQgY29udGFpbnMgdGhlIGF2YWlsYWJsZSBleHBvcnQgdHlwZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBhdmFpbGFibGVFeHBvcnRUeXBlcyA9ICdYLUF2YWlsYWJsZS1FeHBvcnQtVHlwZXMnO1xuZXhwb3J0IGNvbnN0IHVudmFpbGFibGVFeHBvcnRUeXBlc1JlYXNvbnMgPSAnWC1VbmF2YWlsYWJsZS1FeHBvcnQtVHlwZXMtUmVhc29ucyc7XG4vKipcbiAqIE5hbWUgb2YgcmVzcG9uc2UgaGVhZGVyIHRoYXQgY29udGFpbnMgdGhlIHNvcnQgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IHNvcnRGaWVsZHNEaXJlY3Rpb25IZWFkZXIgPSAnWC1Tb3J0LUZpZWxkcy1EaXJlY3Rpb24nO1xuXG4vKipcbiAqIE5vdGlmaWNhdGlvbiB0aW1lIHRvIGxpdmUgaW4gbXMuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25UdGwgPSA1MDAwO1xuXG4vKipcbiAqIFdoaWNoIGNhdGVnb3J5IGxldmVsIHNob3VsZCBiZSByZXRyaWV2ZWQgZm9yIGNhdGVnb3J5IGNoYW5nZSBtb2RhbCBsaXN0LlxuICovXG5leHBvcnQgY29uc3QgY2F0ZWdvcnlMaXN0TGV2ZWxQYXJhbSA9ICdQQVJFTlRTJztcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRBdmFpbGFibGVGaWx0ZXJzQ29uZmlnOiBBdmFpbGFibGVGaWx0ZXJzQ29uZmlnID0ge1xuICAnQ3VycmVudCBBY2NvdW50JzogW1xuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uRGF0ZSxcbiAgICBBdmFpbGFibGVGaWx0ZXJFbnVtLkNyZWRpdERlYml0SW5kaWNhdG9yLFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uQW1vdW50LFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uVHlwZXMsXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5CaWxsaW5nU3RhdHVzLFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uQ2hlY2tTZXJpYWxOdW1iZXIsXG4gIF0sXG4gICdTYXZpbmdzIEFjY291bnQnOiBbXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5EYXRlLFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uQ3JlZGl0RGViaXRJbmRpY2F0b3IsXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5BbW91bnQsXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5UeXBlcyxcbiAgICBBdmFpbGFibGVGaWx0ZXJFbnVtLkJpbGxpbmdTdGF0dXMsXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5DaGVja1NlcmlhbE51bWJlcixcbiAgXSxcbiAgJ0NyZWRpdCBDYXJkJzogW1xuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uRGF0ZSxcbiAgICBBdmFpbGFibGVGaWx0ZXJFbnVtLkNyZWRpdERlYml0SW5kaWNhdG9yLFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uQW1vdW50LFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uVHlwZXMsXG4gICAgQXZhaWxhYmxlRmlsdGVyRW51bS5CaWxsaW5nU3RhdHVzLFxuICBdLFxuICBMb2FuOiBbQXZhaWxhYmxlRmlsdGVyRW51bS5EYXRlLCBBdmFpbGFibGVGaWx0ZXJFbnVtLkNyZWRpdERlYml0SW5kaWNhdG9yLCBBdmFpbGFibGVGaWx0ZXJFbnVtLkFtb3VudF0sXG4gICdUZXJtIERlcG9zaXQnOiBbQXZhaWxhYmxlRmlsdGVyRW51bS5EYXRlLCBBdmFpbGFibGVGaWx0ZXJFbnVtLkNyZWRpdERlYml0SW5kaWNhdG9yLCBBdmFpbGFibGVGaWx0ZXJFbnVtLkFtb3VudF0sXG4gICdEZWJpdCBDYXJkJzogW0F2YWlsYWJsZUZpbHRlckVudW0uRGF0ZSwgQXZhaWxhYmxlRmlsdGVyRW51bS5DcmVkaXREZWJpdEluZGljYXRvciwgQXZhaWxhYmxlRmlsdGVyRW51bS5BbW91bnRdLFxuICAnSW52ZXN0bWVudCBBY2NvdW50JzogW1xuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uRGF0ZSxcbiAgICBBdmFpbGFibGVGaWx0ZXJFbnVtLkNyZWRpdERlYml0SW5kaWNhdG9yLFxuICAgIEF2YWlsYWJsZUZpbHRlckVudW0uQW1vdW50LFxuICBdLFxuICBkZWZhdWx0RmlsdGVyczogW0F2YWlsYWJsZUZpbHRlckVudW0uRGF0ZSwgQXZhaWxhYmxlRmlsdGVyRW51bS5DcmVkaXREZWJpdEluZGljYXRvciwgQXZhaWxhYmxlRmlsdGVyRW51bS5BbW91bnRdLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlc2VyaWFsaXplID0gKHByb3BlcnR5VmFsdWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBwYXJhbXMgPSBwcm9wZXJ0eVZhbHVlLnNwbGl0KCcmJyk7XG5cbiAgcmV0dXJuIHBhcmFtcy5yZWR1Y2UoKGFjYzogb2JqZWN0LCBwYXJhbTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgW2tleSwgdmFsXSA9IHBhcmFtLnNwbGl0KCc9Jyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWNjLFxuICAgICAgW2RlY29kZVVSSUNvbXBvbmVudChrZXkpXTogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCksXG4gICAgfTtcbiAgfSwge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlU29ydE9wdGlvbnMgPSAocHJvcGVydHlWYWx1ZTogc3RyaW5nKTogVHJhbnNhY3Rpb25zU29ydE9wdGlvbnMgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXByb3BlcnR5VmFsdWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHNvcnRPcHRpb24gPSBwcm9wZXJ0eVZhbHVlXG4gICAgLnNwbGl0KCcsJylbMF1cbiAgICAudHJpbSgpXG4gICAgLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKTtcblxuICBjb25zdCBbb3JkZXJCeSwgZGlyZWN0aW9uXSA9IHNvcnRPcHRpb24uc3BsaXQoJyAnKTtcblxuICBpZiAoIW9yZGVyQnkgfHwgKGRpcmVjdGlvbiAhPT0gJ0FTQycgJiYgZGlyZWN0aW9uICE9PSAnREVTQycpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgdmFsdWUgZm9yIFwiaW5pdGlhbFNvcnRPcHRpb25zXCIgcHJvcGVydHkuXG4gICAgICBQbGVhc2UgdXNlIFwiPG9yZGVyQnk+IDxkaXJlY3Rpb24+XCIgZm9ybWF0LCBlLmcuLCBcImJvb2tpbmdEYXRlIERFU0NcIiwgb3IgbGVhdmUgaXQgZW1wdHkuYCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBvcmRlckJ5LFxuICAgIGRpcmVjdGlvbixcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJJbnB1dFBhcmFtZXRlcnMgPSA8VD4oaW5wdXQ6IE9ic2VydmFibGU8VCB8IHVuZGVmaW5lZD4sIHByb3A6IE9ic2VydmFibGU8VD4pOiBPYnNlcnZhYmxlPFQ+ID0+XG4gIGNvbWJpbmVMYXRlc3QoW2lucHV0LCBwcm9wXSkucGlwZShtYXAoKFtpbnB1dFZhbCwgcHJvcFZhbF0pID0+IGlucHV0VmFsID8/IHByb3BWYWwpKTtcblxuZXhwb3J0IGNvbnN0IGI2NEVuY29kZSA9IChzdHI6IHN0cmluZykgPT5cbiAgYnRvYShcbiAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLCBmdW5jdGlvbiAoX21hdGNoLCBwMSkge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQocDEsIDE2KSk7XG4gICAgfSksXG4gICk7XG5cbmV4cG9ydCBjb25zdCB0cnVuY2F0ZURhdGUgPSAoZGF0ZTogRGF0ZSkgPT4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKTtcblxuZXhwb3J0IGNvbnN0IGRheXNEaWZmID0gKGRhdGUxOiBEYXRlIHwgc3RyaW5nLCBkYXRlMjogRGF0ZSB8IHN0cmluZykgPT4ge1xuICBjb25zdCBkaWZmID0gdHJ1bmNhdGVEYXRlKG5ldyBEYXRlKGRhdGUxKSkuZ2V0VGltZSgpIC0gdHJ1bmNhdGVEYXRlKG5ldyBEYXRlKGRhdGUyKSkuZ2V0VGltZSgpO1xuXG4gIHJldHVybiBNYXRoLmNlaWwoZGlmZiAvICgxMDAwICogMzYwMCAqIDI0KSk7XG59O1xuIl19