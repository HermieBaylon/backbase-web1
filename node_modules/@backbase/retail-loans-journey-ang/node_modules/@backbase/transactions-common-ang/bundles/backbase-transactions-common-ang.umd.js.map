{"version":3,"file":"backbase-transactions-common-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/transactions-common-ang/src/model/transactions-list-options.model.ts","../../../../libs/transactions-common-ang/src/model/transactions-filter-options.model.ts","../../../../libs/transactions-common-ang/src/model/available-filters.model.ts","../../../../libs/transactions-common-ang/src/constants.ts","../../../../libs/transactions-common-ang/src/model/transactions-list.model.ts","../../../../libs/transactions-common-ang/src/model/transactions-list-utils.model.ts","../../../../libs/transactions-common-ang/src/services/widget-properties.service.ts","../../../../libs/transactions-common-ang/src/model/account-list.model.ts","../../../../libs/transactions-common-ang/src/services/accounts.service.ts","../../../../libs/transactions-common-ang/src/services/transactions.service.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-number-of-results-found.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-number-of-results-found.component.html","../../../../libs/transactions-common-ang/src/model/transactions-check-images.model.ts","../../../../libs/transactions-common-ang/src/model/transactions-details.model.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/accessibility-keyboard.directive.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image-item.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image-item.component.html","../../../../libs/transactions-common-ang/src/model/UI/document-viewer-commons.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-backdrop/document-viewer-backdrop.component.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-backdrop/document-viewer-backdrop.component.html","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-header/document-viewer-header.component.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-header/document-viewer-header.component.html","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-interactor/document-viewer-interactor.component.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-interactor/document-viewer-interactor.component.html","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/image-viewer/image-viewer.component.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/image-viewer/image-viewer.component.html","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-container/document-viewer-container.component.ts","../../../../libs/transactions-common-ang/src/components/document-viewer-ui/document-viewer-container/document-viewer-container.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image-document-viewer.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image-document-viewer.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-check-image.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-inquiry-dispute.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-inquiry-dispute.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-dispute-status-tag.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-dispute-status-tag.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-dispute-banner.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-dispute-banner.component.html","../../../../libs/transactions-common-ang/src/model/transactions-backend-error.model.ts","../../../../libs/transactions-common-ang/src/model/transactions-export-options.model.ts","../../../../libs/transactions-common-ang/src/services/pending-transactions.service.ts","../../../../libs/transactions-common-ang/src/model/transactions-map.model.ts","../../../../libs/transactions-common-ang/src/services/map-api-loader.service.ts","../../../../libs/transactions-common-ang/src/services/payments-batch.service.ts","../../../../libs/transactions-common-ang/src/services/transaction-details.service.ts","../../../../libs/transactions-common-ang/src/services/available-filters-config.service.ts","../../../../libs/transactions-common-ang/src/components/base-transactions-container.ts","../../../../libs/transactions-common-ang/src/components/capitalize.pipe.ts","../../../../libs/transactions-common-ang/src/model/transaction-category.model.ts","../../../../libs/transactions-common-ang/src/services/transactions-icon-categories-factory.service.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-category-icon.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-category-icon.component.html","../../../../libs/transactions-common-ang/src/services/transaction-update.service.ts","../../../../libs/transactions-common-ang/src/model/transactions-enum-value.model.ts","../../../../libs/transactions-common-ang/src/services/enum-values.service.ts","../../../../libs/transactions-common-ang/src/model/categories-list.ts","../../../../libs/transactions-common-ang/src/services/categories.service.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-map-ui.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transactions-map-ui.component.html","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-geo-location-map.component.ts","../../../../libs/transactions-common-ang/src/components/transactions-controls/transaction-geo-location-map.component.html","../../../../libs/transactions-common-ang/src/services/dom-attributes.service.ts","../../../../libs/transactions-common-ang/src/components/dynamic-id.directive.ts","../../../../libs/transactions-common-ang/src/services/messages.service.ts","../../../../libs/transactions-common-ang/src/services/transactions-inquire-and-dispute-ui.service.ts","../../../../libs/transactions-common-ang/src/transactions-common.module.ts","../../../../libs/transactions-common-ang/src/services/navigation.service.ts","../../../../libs/transactions-common-ang/src/model/transactions-get-params.model.ts","../../../../libs/transactions-common-ang/src/model/transactions-grouped-by-date.model.ts","../../../../libs/transactions-common-ang/src/components/base-transactions-widget.ts","../../../../libs/transactions-common-ang/src/components/base-transactions-controls.ts","../../../../libs/transactions-common-ang/backbase-transactions-common-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { TransactionsAccountOptions } from './transactions-account-options.model';\nimport { TransactionsFilterOptions } from './transactions-filter-options.model';\nimport { TransactionsSearchOptions } from './transactions-search-options.model';\nimport { TransactionsSortOptions } from './transactions-sort-options.model';\nimport { TransactionsExportOptions } from './transactions-export-options.model';\n\nexport enum OnLoadAction {\n  Replace,\n  Append,\n  ReplacePage,\n}\n\nexport enum TransactionState {\n  completed = 'COMPLETED',\n  uncompleted = 'UNCOMPLETED',\n}\n\nexport interface TransactionsListOptions {\n  account: TransactionsAccountOptions;\n  search?: TransactionsSearchOptions;\n  filter?: TransactionsFilterOptions;\n  state?: TransactionState;\n  pagination: {\n    from: number;\n    size: number;\n  };\n  sort?: TransactionsSortOptions;\n  onLoad?: OnLoadAction;\n}\n\nexport const defaultAccountOptions: Pick<TransactionsListOptions, 'account'> = {\n  account: {},\n};\n\nexport const defaultSearchOptions: Pick<TransactionsListOptions, 'search'> = {\n  search: {},\n};\n\nexport const defaultFilterOptions: Pick<TransactionsListOptions, 'filter'> = {\n  filter: {},\n};\n\nexport const defaultSortOptions: Pick<TransactionsListOptions, 'sort'> = {};\n\nexport const defaultPaginationOptions: Pick<TransactionsListOptions, 'pagination'> = {\n  pagination: {\n    from: 0,\n    size: 10,\n  },\n};\n\nexport const defaultInitialListOptions: TransactionsListOptions = {\n  ...defaultAccountOptions,\n  ...defaultSearchOptions,\n  ...defaultFilterOptions,\n  ...defaultSortOptions,\n  ...defaultPaginationOptions,\n  onLoad: OnLoadAction.Replace,\n};\n\nexport const defaultInitialExportOptions: TransactionsExportOptions = {\n  ...defaultAccountOptions,\n  ...defaultSearchOptions,\n  ...defaultFilterOptions,\n  ...defaultSortOptions,\n  exportType: 'csv',\n  locale: 'en-US',\n};\n","import { TransactionsEnumValue } from './transactions-enum-value.model';\n\nexport interface TransactionsFilterOptions {\n  creditDebitIndicator?: TransactionsEnumValue;\n  types?: TransactionsEnumValue[] | TransactionsEnumValue;\n  billingStatus?: TransactionsEnumValue;\n  amount?: {\n    from?: number;\n    to?: number;\n  };\n  date?: {\n    from?: string;\n    to?: string;\n  };\n  categories?: string[];\n  checkSerialNumber?: {\n    from?: number;\n    to?: number;\n  };\n}\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsFilterOptions {\n  export function isEmpty(options: TransactionsFilterOptions | object): boolean {\n    return Object.values(options)\n      .filter((value) => typeof value !== 'undefined')\n      .every((value) => !value || (typeof value === 'object' && isEmpty(value)));\n  }\n\n  // converts a Date object to `dddd-MM-yy` string format\n  // eslint-disable-next-line complexity\n  const formatDate = (date: Date) => {\n    const year = date.getFullYear().toString();\n    const month = (date.getMonth() + 1).toString();\n    const day = date.getDate().toString();\n\n    return `${year}-${month[1] ? month : '0' + month[0]}-${day[1] ? day : '0' + day[0]}`;\n  };\n\n  export function toHttpGetParams(options: TransactionsFilterOptions = {}) {\n    const params: any = {};\n\n    const setIfExists = (paramName: string, conditionFn: (option: any) => any, valueFn: (option: any) => any) => {\n      if (conditionFn(options)) {\n        params[paramName] = valueFn(options);\n      }\n    };\n\n    setIfExists(\n      'creditDebitIndicator',\n      (option) => option.creditDebitIndicator !== undefined && option.creditDebitIndicator.value !== undefined,\n      (option) => option.creditDebitIndicator.value,\n    );\n    setIfExists(\n      'types',\n      (option) => option.type !== undefined && option.type.value !== undefined,\n      (option) => (Array.isArray(option.type.value) ? option.type.value : [option.type.value]),\n    );\n    setIfExists(\n      'billingStatus',\n      (option) => option.billingStatus !== undefined && option.billingStatus.value !== undefined,\n      (option) => option.billingStatus.value,\n    );\n    setIfExists(\n      'amountGreaterThan',\n      (option) => option.amount && option.amount.from,\n      (option) => option.amount.from,\n    );\n    setIfExists(\n      'amountLessThan',\n      (option) => option.amount && option.amount.to,\n      (option) => option.amount.to,\n    );\n    setIfExists(\n      'bookingDateGreaterThan',\n      (option) => option.date && option.date.from && Object.keys(option.date.from).length,\n      (option) => formatDate(new Date(option.date.from)),\n    );\n    setIfExists(\n      'bookingDateLessThan',\n      (option) => option.date && option.date.to && Object.keys(option.date.to).length,\n      (option) => formatDate(new Date(option.date.to)),\n    );\n    setIfExists(\n      'fromCheckSerialNumber',\n      (option) => option.checkSerialNumber && option.checkSerialNumber.from,\n      (option) => option.checkSerialNumber.from,\n    );\n    setIfExists(\n      'toCheckSerialNumber',\n      (option) => option.checkSerialNumber && option.checkSerialNumber.to,\n      (option) => option.checkSerialNumber.to,\n    );\n\n    return params;\n  }\n  // eslint-disable-next-line complexity\n  export function fromHttpGetParams(params: any): TransactionsFilterOptions {\n    const options: TransactionsFilterOptions = {};\n\n    if (params.creditDebitIndicator) {\n      options.creditDebitIndicator = { value: params.creditDebitIndicator };\n    }\n\n    if (params.type) {\n      if (Array.isArray(params.type)) {\n        options.types = params.type.map((value: any) => ({ value }));\n      } else {\n        options.types = { value: params.type };\n      }\n    }\n\n    if (params.billingStatus) {\n      options.billingStatus = { value: params.billingStatus };\n    }\n\n    if (params.amountGreaterThan) {\n      options.amount = { from: parseInt(params.amountGreaterThan, 10) };\n    }\n\n    if (params.amountLessThan) {\n      options.amount = {\n        ...options.amount,\n        to: parseInt(params.amountLessThan, 10),\n      };\n    }\n\n    if (params.bookingDateGreaterThan) {\n      options.date = {\n        from: params.bookingDateGreaterThan,\n      };\n    }\n\n    if (params.bookingDateLessThan) {\n      options.date = {\n        ...options.date,\n        to: params.bookingDateLessThan,\n      };\n    }\n\n    if (params.fromCheckSerialNumber) {\n      options.checkSerialNumber = {\n        from: parseInt(params.fromCheckSerialNumber, 10),\n      };\n    }\n\n    if (params.toCheckSerialNumber) {\n      options.checkSerialNumber = {\n        ...options.checkSerialNumber,\n        to: parseInt(params.toCheckSerialNumber, 10),\n      };\n    }\n\n    return options;\n  }\n}\n/* eslint-enable no-redeclare*/\n","export type ProductKindName =\n  | 'Current Account'\n  | 'Savings Account'\n  | 'Credit Card'\n  | 'Loan'\n  | 'Term Deposit'\n  | 'Debit Card'\n  | 'Investment Account'\n  | string;\n\nexport type AvailableFiltersConfig = Record<ProductKindName, ProductKind>;\n\nexport enum AvailableFilterEnum {\n  CreditDebitIndicator = 'creditDebitIndicator',\n  Types = 'types',\n  BillingStatus = 'billingStatus',\n  Amount = 'amount',\n  Date = 'date',\n  Categories = 'categories',\n  CheckSerialNumber = 'checkSerialNumber',\n}\n\nexport type AvailableFilters = Array<AvailableFilterEnum>;\n\nexport type ProductKind = ProductType | AvailableFilters;\n\nexport interface ProductType {\n  [key: string]: AvailableFilters;\n}\n","import { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { TransactionsEnumValue } from './model/transactions-enum-value.model';\nimport { TransactionsSortOptions } from './model/transactions-sort-options.model';\nimport { AvailableFilterEnum, AvailableFiltersConfig } from './model/available-filters.model';\n\n/**\n * Dropdown values for credit/debit indicator filter.\n */\nexport const creditDebitIndicatorEnumValues: Array<TransactionsEnumValue> = [\n  {\n    name: 'All',\n  },\n  {\n    value: 'CRDT',\n    name: 'Credit',\n  },\n  {\n    value: 'DBIT',\n    name: 'Debit',\n  },\n];\n\n/**\n * Fallback dropdown values for transaction type filter.\n */\nexport const defaultTransactionTypeEnumValues: Array<TransactionsEnumValue> = [\n  {\n    value: 'ATM',\n    name: 'ATM',\n  },\n  {\n    value: 'ACH',\n    name: 'Ach',\n  },\n  {\n    value: 'Bill Payment',\n    name: 'Bill Payment',\n  },\n  {\n    value: 'Cash',\n    name: 'Cash',\n  },\n  {\n    name: 'Cheques',\n    value: 'Cheques',\n  },\n  {\n    value: 'CreditDebit Card',\n    name: 'Credit/Debit Card',\n  },\n  {\n    value: 'Check',\n    name: 'Check',\n  },\n  {\n    value: 'Deposit',\n    name: 'Deposit',\n  },\n  {\n    value: 'Fee',\n    name: 'Fee',\n  },\n  {\n    value: 'POS',\n    name: 'POS',\n  },\n  {\n    value: 'Withdrawal',\n    name: 'Withdrawal',\n  },\n];\n\n/**\n * Fallback dropdown values for billing status filter.\n */\nexport const defaultBillingStatusEnumValues: Array<TransactionsEnumValue> = [\n  {\n    value: 'PENDING',\n    name: 'Pending',\n  },\n  {\n    value: 'BILLED',\n    name: 'Billed',\n  },\n  {\n    value: 'UNBILLED',\n    name: 'Unbilled',\n  },\n];\n\n/**\n * Name of different check images status\n */\nexport enum CheckImagesAvailability {\n  available = 'AVAILABLE',\n  unavailable = 'UNAVAILABLE',\n}\n\nexport enum BillingStatusEnum {\n  billed = 'BILLED',\n  unbilled = 'UNBILLED',\n  pending = 'PENDING',\n}\n\n/**\n * Name of response header that contains the total amount of results.\n */\nexport const totalCountHeader = 'X-Total-Count';\n/**\n * Name of response header that contains the available export types.\n */\nexport const availableExportTypes = 'X-Available-Export-Types';\nexport const unvailableExportTypesReasons = 'X-Unavailable-Export-Types-Reasons';\n/**\n * Name of response header that contains the sort configuration.\n */\nexport const sortFieldsDirectionHeader = 'X-Sort-Fields-Direction';\n\n/**\n * Notification time to live in ms.\n */\nexport const notificationTtl = 5000;\n\n/**\n * Which category level should be retrieved for category change modal list.\n */\nexport const categoryListLevelParam = 'PARENTS';\n\nexport const defaultAvailableFiltersConfig: AvailableFiltersConfig = {\n  'Current Account': [\n    AvailableFilterEnum.Date,\n    AvailableFilterEnum.CreditDebitIndicator,\n    AvailableFilterEnum.Amount,\n    AvailableFilterEnum.Types,\n    AvailableFilterEnum.BillingStatus,\n    AvailableFilterEnum.CheckSerialNumber,\n  ],\n  'Savings Account': [\n    AvailableFilterEnum.Date,\n    AvailableFilterEnum.CreditDebitIndicator,\n    AvailableFilterEnum.Amount,\n    AvailableFilterEnum.Types,\n    AvailableFilterEnum.BillingStatus,\n    AvailableFilterEnum.CheckSerialNumber,\n  ],\n  'Credit Card': [\n    AvailableFilterEnum.Date,\n    AvailableFilterEnum.CreditDebitIndicator,\n    AvailableFilterEnum.Amount,\n    AvailableFilterEnum.Types,\n    AvailableFilterEnum.BillingStatus,\n  ],\n  Loan: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Term Deposit': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Debit Card': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Investment Account': [\n    AvailableFilterEnum.Date,\n    AvailableFilterEnum.CreditDebitIndicator,\n    AvailableFilterEnum.Amount,\n  ],\n  defaultFilters: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n};\n\nexport const deserialize = (propertyValue: string) => {\n  const params = propertyValue.split('&');\n\n  return params.reduce((acc: object, param: string) => {\n    const [key, val] = param.split('=');\n\n    return {\n      ...acc,\n      [decodeURIComponent(key)]: decodeURIComponent(val),\n    };\n  }, {});\n};\n\nexport const parseSortOptions = (propertyValue: string): TransactionsSortOptions | undefined => {\n  if (!propertyValue.length) {\n    return undefined;\n  }\n\n  const sortOption = propertyValue\n    .split(',')[0]\n    .trim()\n    .replace(/\\s{2,}/g, ' ');\n\n  const [orderBy, direction] = sortOption.split(' ');\n\n  if (!orderBy || (direction !== 'ASC' && direction !== 'DESC')) {\n    throw new Error(\n      `Invalid value for \"initialSortOptions\" property.\n      Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\", or leave it empty.`,\n    );\n  }\n\n  return {\n    orderBy,\n    direction,\n  };\n};\n\nexport const filterInputParameters = <T>(input: Observable<T | undefined>, prop: Observable<T>): Observable<T> =>\n  combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => inputVal ?? propVal));\n\nexport const b64Encode = (str: string) =>\n  btoa(\n    encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (_match, p1) {\n      return String.fromCharCode(parseInt(p1, 16));\n    }),\n  );\n\nexport const truncateDate = (date: Date) => new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\nexport const daysDiff = (date1: Date | string, date2: Date | string) => {\n  const diff = truncateDate(new Date(date1)).getTime() - truncateDate(new Date(date2)).getTime();\n\n  return Math.ceil(diff / (1000 * 3600 * 24));\n};\n","import { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { GetTransactionsRequestParams, TransactionItem } from '@backbase/data-ang/transactions';\n\nimport { Transaction } from './transaction.model';\nimport { TransactionsSortOptions } from './transactions-sort-options.model';\nimport {\n  sortFieldsDirectionHeader,\n  totalCountHeader,\n  availableExportTypes,\n  unvailableExportTypesReasons,\n  BillingStatusEnum,\n} from '../constants';\nimport { TransactionsExportOptions, UnavailableExportTypeReasons } from './transactions-export-options.model';\nimport { TransactionsListOptions } from './transactions-list-options.model';\nimport { TransactionsEnumValue } from './transactions-enum-value.model';\n\nexport interface TransactionsList {\n  items: Transaction[];\n  totalCount: number;\n  sort?: TransactionsSortOptions;\n  availableExportTypesHeader?: string;\n  httpResponseError?: HttpErrorResponse;\n  unavailableExportTypesReasonsHeader?: UnavailableExportTypeReasons;\n  initialRequest?: boolean;\n}\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsList {\n  // eslint-disable-next-line complexity\n  const processTransaction = (transaction: Transaction) => {\n    const amountSign = transaction.creditDebitIndicator === 'DBIT' ? -1 : 1;\n    const formattedTransaction: Transaction = {\n      ...transaction,\n      isPending: (function isPending(data) {\n        let result = false;\n        if (data && data.billingStatus) {\n          const billingStatus = data.billingStatus.toUpperCase();\n          result = billingStatus === BillingStatusEnum.pending || billingStatus === BillingStatusEnum.unbilled;\n        }\n\n        return result;\n      })(transaction),\n      ...(transaction.merchant\n        ? {\n            merchant: {\n              id: transaction.merchant.id,\n              name: transaction.merchant.name,\n              ...(transaction.merchant.logo ? { logo: transaction.merchant.logo } : {}),\n              ...(transaction.merchant.website ? { website: transaction.merchant.website } : {}),\n            },\n          }\n        : {}),\n    };\n\n    if (transaction.transactionAmountCurrency) {\n      const amountNumber = parseFloat(transaction.transactionAmountCurrency.amount);\n\n      formattedTransaction.transactionAmountCurrency = {\n        ...transaction.transactionAmountCurrency,\n        unsignedAmount: amountNumber,\n        amount: (amountSign * (amountNumber || 0)).toString(),\n      };\n    }\n\n    if (transaction.instructedAmountCurrency) {\n      const amountNumber = parseFloat(transaction.instructedAmountCurrency.amount);\n\n      formattedTransaction.instructedAmountCurrency = {\n        ...transaction.instructedAmountCurrency,\n        unsignedAmount: amountNumber,\n        amount: (amountSign * (amountNumber || 0)).toString(),\n      };\n    }\n\n    formattedTransaction.currencyExchangeAvailability =\n      !!transaction.instructedAmountCurrency &&\n      !!transaction.transactionAmountCurrency &&\n      !!transaction.currencyExchangeRate;\n\n    return formattedTransaction;\n  };\n\n  const processTransactions = (transactionsList: TransactionsList) => ({\n    ...transactionsList,\n    items: transactionsList.items.map(processTransaction),\n  });\n\n  const processTotalCountHeader = (totalCount: string | null) => (totalCount ? parseInt(totalCount, 10) : 0);\n\n  const processAvailableExportTypes = (availableExports: string | null) => availableExports || '';\n\n  const processUnavailableExportTypesReasons = (unavilableExportTypesReasonsValue: string | null) =>\n    JSON.parse(unavilableExportTypesReasonsValue || '{}');\n\n  const processSortFieldsDirectionHeader = (\n    sortFieldsDirection: string | null,\n  ): TransactionsSortOptions | undefined => {\n    if (sortFieldsDirection === null || !sortFieldsDirection.length) {\n      return undefined;\n    }\n\n    const sortOption = sortFieldsDirection\n      .split(',')[0]\n      .trim()\n      .replace(/\\s{2,}/g, ' ');\n\n    const [orderBy, direction] = sortOption.split(' ');\n\n    if (!orderBy || (direction !== 'ASC' && direction !== 'DESC')) {\n      throw new Error(\n        `Invalid value for \"initialSortOptions\" property.\n        Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\",\n        or leave it empty.`,\n      );\n    }\n\n    return {\n      orderBy,\n      direction,\n    };\n  };\n\n  function padValueWithZeros(value: number, size = 2) {\n    return (value + '').padStart(size, '0');\n  }\n\n  function formatDate(date: string | undefined) {\n    const safeDate = date || '';\n    if (/^[0-9]{4}\\-[0-9]{2}\\-[0-9]{2}/.exec(safeDate)) {\n      const localDate = new Date(safeDate);\n      const month = padValueWithZeros(localDate.getMonth() + 1);\n      const day = padValueWithZeros(localDate.getDate());\n      const year = localDate.getFullYear();\n\n      return `${year}-${month}-${day}`;\n    } else if (date !== undefined) {\n      console.error(`invalid date provided ${date}`);\n    }\n\n    return undefined;\n  }\n\n  export const fromHttpResponse = (response: HttpResponse<TransactionItem[]>): TransactionsList => {\n    const totalCount = processTotalCountHeader(response.headers.get(totalCountHeader));\n    const sort = processSortFieldsDirectionHeader(response.headers.get(sortFieldsDirectionHeader));\n    const availableExportTypesHeader = processAvailableExportTypes(response.headers.get(availableExportTypes));\n    const unavailableExportTypesReasonsHeader = processUnavailableExportTypesReasons(\n      response.headers.get(unvailableExportTypesReasons),\n    );\n\n    return processTransactions({\n      items: (response.body as Transaction[]) || [],\n      totalCount,\n      ...(sort ? { sort } : {}),\n      availableExportTypesHeader,\n      unavailableExportTypesReasonsHeader,\n    });\n  };\n\n  export const concat = (transactionsList1: TransactionsList, transactionsList2: TransactionsList) => {\n    if (transactionsList2.httpResponseError) {\n      return {\n        ...transactionsList1,\n        items: [...transactionsList1.items],\n        httpResponseError: transactionsList2.httpResponseError,\n      };\n    }\n\n    return {\n      items: [...transactionsList1.items, ...transactionsList2.items],\n      totalCount: transactionsList1.totalCount,\n      ...(transactionsList2.sort ? { sort: transactionsList2.sort } : {}),\n      ...(transactionsList2.availableExportTypesHeader\n        ? { availableExportTypesHeader: transactionsList2.availableExportTypesHeader }\n        : {}),\n      ...(transactionsList2.unavailableExportTypesReasonsHeader\n        ? { unavailableExportTypesReasonsHeader: transactionsList2.unavailableExportTypesReasonsHeader }\n        : {}),\n      httpResponseError: transactionsList2.httpResponseError,\n    };\n  };\n\n  export const hasLoadedAll = (transactionsList: TransactionsList) =>\n    transactionsList.items.length === transactionsList.totalCount;\n\n  export const toHttpRequest = (\n    listOptions: TransactionsListOptions | TransactionsExportOptions,\n  ): GetTransactionsRequestParams => {\n    const turnIntoArrayObject = (value: any, name: any, fn: (param: any) => any) => {\n      if (!value) {\n        return {};\n      }\n\n      return Array.isArray(value) ? { [name]: fn(value) } : { [name]: [fn(value)] };\n    };\n\n    const optionalItem = <T>(name: string, value: T) => (value !== undefined ? { [name]: value } : {});\n\n    const isTransactionListOption = (data: any): data is TransactionsListOptions =>\n      Object.prototype.hasOwnProperty.call(data, 'pagination');\n\n    const isTransactionExportOptions = (data: any): data is TransactionsExportOptions =>\n      Object.prototype.hasOwnProperty.call(data, 'exportType');\n\n    return {\n      ...turnIntoArrayObject(listOptions.account.arrangementId, 'arrangementsIds', (value) => value),\n      ...optionalItem('query', listOptions.search?.query),\n      ...optionalItem('amountGreaterThan', listOptions.filter?.amount?.from),\n      ...optionalItem('amountLessThan', listOptions.filter?.amount?.to),\n      ...optionalItem(\n        'bookingDateGreaterThan',\n        listOptions.filter?.date?.from === '' ? undefined : formatDate(listOptions.filter?.date?.from),\n      ),\n      ...optionalItem(\n        'bookingDateLessThan',\n        listOptions.filter?.date?.to === '' ? undefined : formatDate(listOptions.filter?.date?.to),\n      ),\n      ...optionalItem('categories', listOptions.filter?.categories),\n      ...optionalItem('fromCheckSerialNumber', listOptions.filter?.checkSerialNumber?.from),\n      ...optionalItem('toCheckSerialNumber', listOptions.filter?.checkSerialNumber?.to),\n      ...optionalItem('orderBy', listOptions.sort?.orderBy),\n      ...optionalItem('direction', listOptions.sort?.direction),\n      ...optionalItem('state', isTransactionListOption(listOptions) ? listOptions.state : undefined),\n      ...optionalItem('from', isTransactionListOption(listOptions) ? listOptions.pagination?.from : undefined),\n      ...optionalItem('size', isTransactionListOption(listOptions) ? listOptions.pagination?.size : undefined),\n      ...optionalItem('billingStatus', listOptions.filter?.billingStatus?.value),\n      ...optionalItem('creditDebitIndicator', listOptions.filter?.creditDebitIndicator?.value),\n      ...optionalItem('exportType', isTransactionExportOptions(listOptions) ? listOptions.exportType : undefined),\n      ...optionalItem('locale', isTransactionExportOptions(listOptions) ? listOptions.locale : undefined),\n      ...turnIntoArrayObject(listOptions.filter?.types, 'types', (value: TransactionsEnumValue) => value.value),\n    };\n  };\n}\n/* eslint-enable no-redeclare*/\n","import { HttpResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { switchMap, publishReplay, refCount } from 'rxjs/operators';\nimport { TransactionsListOptions, OnLoadAction } from './transactions-list-options.model';\nimport { TransactionsList } from './transactions-list.model';\n\nexport const deepEqual = (x: any, y: any): boolean => {\n  const ok = Object.keys;\n  const tx = typeof x;\n  const ty = typeof y;\n\n  return x && y && tx === 'object' && tx === ty\n    ? ok(x).length === ok(y).length && ok(x).every((key) => deepEqual(x[key], y[key]))\n    : x === y;\n};\n\nexport const cacheRequest =\n  <Params, Result>(request: (params: Params) => Observable<Result>) =>\n  (source: Observable<Params>): Observable<Result> =>\n    source.pipe(switchMap(request), publishReplay(1), refCount());\n\nexport const multipleAccountsPredicate = (listOptions: TransactionsListOptions) => () =>\n  Array.isArray(listOptions.account.arrangementId);\n\nexport const onLoadTransactions = (\n  acc: TransactionsList,\n  curr: { transactionsList: TransactionsList; onLoad: OnLoadAction },\n) =>\n  curr.onLoad === OnLoadAction.Append ? TransactionsList.concat(acc, curr.transactionsList) : curr.transactionsList;\n\nexport const getNameFromContentDispositionHeader = (response: HttpResponse<Blob>) => {\n  const contentDisposition = response.headers.get('Content-Disposition');\n  let fileName = '';\n  if (contentDisposition) {\n    const result = /filename[^;=\\n]*=(?:(\\\\?['\"])(.*?)\\1|(?:[^\\s]+'.*?')?([^;\\n]*))/i.exec(contentDisposition);\n    fileName = result ? result[2] : '';\n  }\n\n  return fileName;\n};\n","import { Injectable, Optional } from '@angular/core';\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { defer, Observable, of } from 'rxjs';\nimport { catchError, map, publishReplay, refCount } from 'rxjs/operators';\nimport { deserialize, parseSortOptions } from '../constants';\n\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { TransactionsSortOptions } from '../model/transactions-sort-options.model';\n\nconst WidgetProperties = {\n  pageSize: 'bb.transaction.pageSize',\n  maxNavPages: 'bb.transaction.maxNavPages',\n  paginationType: 'bb.transaction.paginationType',\n  initialFilterOptions: 'bb.transaction.initialFilterOptions',\n  initialSortOptions: 'bb.transaction.initialSortOptions',\n  showControls: 'bb.transaction.showControls',\n  showChangeCategory: 'bb.transaction.showChangeCategory',\n  refreshTransactionsListEvents: 'event.refreshTransactionsList',\n  showPendingTransactionsOnTop: 'bb.transaction.showPendingTransactionsOnTop',\n  showCheckImage: 'bb.transaction.showCheckImage',\n  gmapsAPIKey: 'bb.transaction.gmapsAPIKey',\n  showManageNotes: 'bb.transaction.showManageNotes',\n  getOrPostEndpoints: 'bb.transaction.getOrPostEndpoints',\n  disputeByBillingStatus: 'disputeByBillingStatus',\n  disputeEligibilityDays: 'disputeEligibilityDays',\n  disputeTransactionTypes: 'disputeTransactionTypes',\n  enableDisputeAndInquiry: 'enableDisputeAndInquiry',\n  inquireTopicId: 'inquireTopicId',\n  disputeTopicId: 'disputeTopicId',\n};\n\nexport const defaultPageSize = 10;\n\nexport const defaultMaxNavPage = 3;\n\nexport const defaultInitialFilterOptions = '';\n\nexport const defaultInitialSortOptions = '';\n\nexport enum PaginationType {\n  LOAD_MORE = 'load-more',\n  PAGINATION = 'pagination',\n  INFINITE_SCROLL = 'infinite-scroll',\n}\n\nexport enum EndpointType {\n  GET_REQUEST = 'get-request',\n  POST_REQUEST = 'post-request',\n}\n\nconst defaultModelObservable = <T>(value: T): Observable<T> =>\n  defer(() => of(value)).pipe(publishReplay(1), refCount());\n\n@Injectable()\nexport class WidgetPropertiesService {\n  get pageSize(): Observable<number> {\n    if (!this.itemModel) {\n      return defaultModelObservable(defaultPageSize);\n    }\n\n    return this.itemModel.property(WidgetProperties.pageSize).pipe(\n      map((propertyValue) => parseInt(propertyValue as string, 10)),\n      map((pageSize) => (pageSize > 0 ? pageSize : defaultPageSize)),\n    );\n  }\n\n  get maxNavPages(): Observable<number> {\n    if (!this.itemModel) {\n      return defaultModelObservable(defaultMaxNavPage);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.maxNavPages)\n      .pipe(map((propertyValue) => parseInt(propertyValue as string, 10)));\n  }\n\n  get paginationType(): Observable<PaginationType> {\n    if (!this.itemModel) {\n      return defaultModelObservable(PaginationType.LOAD_MORE);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.paginationType)\n      .pipe(map((propertyValue) => propertyValue as PaginationType));\n  }\n\n  get initialFilterOptions(): Observable<TransactionsFilterOptions> {\n    if (!this.itemModel) {\n      return defaultModelObservable({});\n    }\n\n    return this.itemModel.property(WidgetProperties.initialFilterOptions, defaultInitialFilterOptions).pipe(\n      map(deserialize),\n      map((params) => TransactionsFilterOptions.fromHttpGetParams(params)),\n    );\n  }\n\n  get initialSortOptions(): Observable<TransactionsSortOptions | undefined> {\n    if (!this.itemModel) {\n      return defaultModelObservable(parseSortOptions(defaultInitialSortOptions));\n    }\n\n    return this.itemModel.property(WidgetProperties.initialSortOptions, defaultInitialSortOptions).pipe(\n      map(parseSortOptions),\n      catchError((err: string) => {\n        console.warn(`initialSortOptions property ignored: ${err}`);\n\n        return of(undefined);\n      }),\n    );\n  }\n\n  get showControls(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.showControls)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get showChangeCategory(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.showChangeCategory)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get refreshTransactionsListEvents(): Observable<string> {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.refreshTransactionsListEvents)\n      .pipe(map((propertyValue) => propertyValue as string));\n  }\n\n  get showPendingTransactionsOnTop(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(false);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.showPendingTransactionsOnTop)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get showCheckImage(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.showCheckImage)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get showManageNotes(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.showManageNotes)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get getOrPostEndpoints(): Observable<EndpointType> {\n    if (!this.itemModel) {\n      return defaultModelObservable(EndpointType.POST_REQUEST);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.getOrPostEndpoints)\n      .pipe(map((propertyValue) => propertyValue as EndpointType));\n  }\n\n  get gmapsAPIKey(): Observable<string> {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel.property(WidgetProperties.gmapsAPIKey).pipe(map((propertyValue) => propertyValue as string));\n  }\n\n  get disputeByBillingStatus(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.disputeByBillingStatus)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get disputeEligibilityDays(): Observable<number> {\n    if (!this.itemModel) {\n      return defaultModelObservable(120);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.disputeEligibilityDays, '120')\n      .pipe(map((propertyValue) => parseInt(propertyValue as string, 10)));\n  }\n\n  get disputeTransactionTypes(): Observable<Array<string>> {\n    if (!this.itemModel) {\n      return defaultModelObservable(['Credit/Debit Card']);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.disputeTransactionTypes, 'Credit/Debit Card')\n      .pipe(map((propertyValue) => (propertyValue as string).split(',')));\n  }\n\n  get enableDisputeAndInquiry(): Observable<boolean> {\n    if (!this.itemModel) {\n      return defaultModelObservable(false);\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.enableDisputeAndInquiry)\n      .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n  }\n\n  get inquireTopicId(): Observable<string> {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.inquireTopicId)\n      .pipe(map((propertyValue) => propertyValue as string));\n  }\n\n  get disputeTopicId(): Observable<string> {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel\n      .property(WidgetProperties.disputeTopicId)\n      .pipe(map((propertyValue) => propertyValue as string));\n  }\n\n  constructor(@Optional() private readonly itemModel?: ItemModel) {}\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Account } from './account.model';\n\nexport function fromArrangementsResponse(response: HttpResponse<ProductSummaryItem[]>): Account[] {\n  return (response.body || []).map((item: ProductSummaryItem) => ({\n    id: item.id,\n    name: item.name,\n    displayName: item.displayName,\n    alias: item.bankAlias,\n    IBAN: item.IBAN,\n    BBAN: item.BBAN,\n    currency: item.currency,\n  }));\n}\n","import { Injectable } from '@angular/core';\n\nimport { ProductSummaryHttpService, ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Account } from '../model/account.model';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { fromArrangementsResponse } from '../model/account-list.model';\n\n@Injectable()\nexport class AccountsService {\n  constructor(protected readonly productSummaryDataHttpService: ProductSummaryHttpService) {}\n\n  getAllArrangements(): Observable<Account[]> {\n    return this.productSummaryDataHttpService\n      .getArrangementsByBusinessFunction(\n        {\n          businessFunction: 'Product Summary',\n          resourceName: 'Product Summary',\n          privilege: 'view',\n          size: 1000000,\n        },\n        'response',\n      )\n      .pipe(map(fromArrangementsResponse));\n  }\n\n  getProductSummary(): Observable<ProductSummaryItem[]> {\n    return this.productSummaryDataHttpService.getArrangementsByBusinessFunction(\n      {\n        businessFunction: 'Product Summary',\n        resourceName: 'Product Summary',\n        privilege: 'view',\n        size: 1000000,\n      },\n      'body',\n    );\n  }\n}\n","import { Inject, Injectable, InjectionToken, LOCALE_ID, OnDestroy } from '@angular/core';\nimport {\n  GetTransactionsExportWithPostRequestParams,\n  GetTransactionsWithPostRequestParams,\n  TransactionClientHttpService,\n  TransactionItem,\n} from '@backbase/data-ang/transactions';\nimport { BehaviorSubject, combineLatest, iif, merge, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport { catchError, distinctUntilChanged, filter, first, map, scan, switchMap, tap } from 'rxjs/operators';\nimport {\n  defaultFilterOptions,\n  defaultInitialExportOptions,\n  defaultInitialListOptions,\n  defaultPaginationOptions,\n  defaultSearchOptions,\n  OnLoadAction,\n  TransactionsListOptions,\n  TransactionState,\n} from '../model/transactions-list-options.model';\nimport { TransactionsExportOptions } from '../model/transactions-export-options.model';\nimport { TransactionsSearchOptions } from '../model/transactions-search-options.model';\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { TransactionsList } from '../model/transactions-list.model';\nimport { TransactionsSortOptions } from '../model/transactions-sort-options.model';\nimport { AccountsService } from './accounts.service';\nimport { Account } from '../model/account.model';\nimport {\n  cacheRequest,\n  deepEqual,\n  multipleAccountsPredicate,\n  onLoadTransactions,\n} from '../model/transactions-list-utils.model';\nimport { HttpResponse } from '@angular/common/http';\nimport { EndpointType } from './widget-properties.service';\nimport { DeprecationsService } from '@backbase/foundation-ang/core';\n\nexport enum LoadingState {\n  NotLoaded = 'NotLoaded',\n  LoadingMore = 'LoadingMore',\n  LoadingPage = 'LoadingPage',\n  Loading = 'Loading',\n  Loaded = 'Loaded',\n}\n\nexport const showDetailsConfigToken = new InjectionToken<boolean>('shows the transactions details modal');\n\n@Injectable()\nexport class TransactionsService implements OnDestroy {\n  private readonly selectedAccount = new ReplaySubject<string[]>(1);\n  private readonly pageSize = new ReplaySubject<number>(1);\n  private readonly initialListOptions = new ReplaySubject<Partial<TransactionsListOptions>>(1);\n  private readonly options = new BehaviorSubject<Partial<TransactionsListOptions>>({});\n  private readonly listRefresh = new Subject<TransactionsListOptions>();\n  private readonly listOptions = new BehaviorSubject<TransactionsListOptions>(defaultInitialListOptions);\n  private readonly exportOptions = new BehaviorSubject<TransactionsExportOptions>(defaultInitialExportOptions);\n  private readonly showPendingTransactionsOnTop = new ReplaySubject<boolean>(1);\n  private readonly getOrPostEndpoint = new BehaviorSubject<EndpointType>(EndpointType.GET_REQUEST);\n  private readonly transactionsList: Observable<TransactionsList> = merge(\n    this.listOptions.pipe(\n      filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'),\n      distinctUntilChanged(deepEqual),\n    ),\n    this.listRefresh,\n  ).pipe(\n    cacheRequest((listOptions) => {\n      this.loadingState.next(\n        listOptions.onLoad === OnLoadAction.Append\n          ? LoadingState.LoadingMore\n          : listOptions.onLoad === OnLoadAction.ReplacePage\n          ? LoadingState.LoadingPage\n          : LoadingState.Loading,\n      );\n\n      return combineLatest([\n        this.loadTransactions(listOptions).pipe(\n          tap(() => {\n            this.loadingState.next(LoadingState.Loaded);\n          }),\n          map((transactionsList) => ({ transactionsList, onLoad: listOptions.onLoad })),\n        ),\n        iif(\n          multipleAccountsPredicate(listOptions),\n          this.accountService.getAllArrangements().pipe(\n            map((accounts) => {\n              const accountMap = new Map<string, Account>();\n              accounts.forEach((account) => {\n                accountMap.set(account.id, account);\n              });\n\n              return accountMap;\n            }),\n          ),\n          of(new Map()),\n        ),\n        this.isFilterApplied,\n        this.isSearchApplied,\n      ]).pipe(\n        map(([transactions, accountMap, isFilterApplied, isSearchApplied]) => {\n          transactions.transactionsList.items = transactions.transactionsList.items.map((transaction) => ({\n            ...transaction,\n            account: accountMap.get(transaction.arrangementId || ''),\n          }));\n          transactions.transactionsList.initialRequest = !(isFilterApplied || isSearchApplied);\n\n          return transactions;\n        }),\n      );\n    }),\n    scan(onLoadTransactions, { items: [], totalCount: 0 }),\n  );\n\n  public readonly loadingState = new BehaviorSubject<LoadingState>(LoadingState.NotLoaded);\n\n  public readonly isFilterApplied = this.listOptions.pipe(\n    map((options) => !TransactionsFilterOptions.isEmpty(options.filter || {})),\n  );\n\n  public readonly isSearchApplied = this.listOptions.pipe(\n    map((options) => !TransactionsFilterOptions.isEmpty(options.search || {})),\n  );\n\n  private loadTransactions(listOptions: TransactionsListOptions): Observable<TransactionsList> {\n    const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n    let transactionsResponse: Observable<HttpResponse<Array<TransactionItem>>> | undefined;\n\n    if (this.isUsingPostEndpoints) {\n      transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost(\n        { transactionListRequest: transactionPayload } as GetTransactionsWithPostRequestParams,\n        'response',\n      );\n    } else {\n      this.deprecationsService.logDeprecatedFeature(\n        '[TransactionsService: loadTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration',\n      );\n      transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n    }\n\n    return transactionsResponse.pipe(\n      map(TransactionsList.fromHttpResponse),\n      catchError((err) =>\n        of({\n          items: [],\n          totalCount: 0,\n          httpResponseError: err,\n        }),\n      ),\n    );\n  }\n\n  private exportTransactions(exportOptions: TransactionsExportOptions): Observable<HttpResponse<Blob>> {\n    const exportPayload = TransactionsList.toHttpRequest({\n      ...exportOptions,\n      locale: this.locale,\n    });\n\n    if (this.isUsingPostEndpoints) {\n      return this.transactionsDataHttpService.getTransactionsExportWithPost(\n        { transactionListRequest: exportPayload } as GetTransactionsExportWithPostRequestParams,\n        'response',\n      );\n    } else {\n      this.deprecationsService.logDeprecatedFeature(\n        '[TransactionsService: exportTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration',\n      );\n\n      return this.transactionsDataHttpService.getTransactionsExport(exportPayload, 'response');\n    }\n  }\n\n  search(query: string) {\n    const searchOptions: TransactionsSearchOptions = {\n      query,\n    };\n\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultSearchOptions,\n      pagination: paginationOptions,\n      search: searchOptions,\n      onLoad: OnLoadAction.Replace,\n    });\n  }\n\n  clearSearch() {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultSearchOptions,\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Replace,\n    });\n  }\n\n  filter(filterOptions: TransactionsFilterOptions) {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultFilterOptions,\n      pagination: paginationOptions,\n      filter: { ...filterOptions },\n      onLoad: OnLoadAction.Replace,\n    });\n  }\n\n  clearFilter() {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultFilterOptions,\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Replace,\n    });\n  }\n\n  exportToType(type: string) {\n    return this.exportOptions.pipe(\n      first(),\n      switchMap((exportOptions: TransactionsExportOptions) =>\n        this.exportTransactions({\n          ...exportOptions,\n          exportType: type,\n        }),\n      ),\n    );\n  }\n\n  loadMore() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = {\n      ...currentPaginationOptions,\n      from: currentPaginationOptions.from + 1,\n    };\n\n    this.options.next({\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Append,\n    });\n  }\n\n  sort(sortOptions: TransactionsSortOptions) {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    this.options.next({\n      sort: { ...sortOptions },\n      pagination: {\n        ...currentPaginationOptions,\n        from: 0,\n      },\n      onLoad: OnLoadAction.ReplacePage,\n    });\n  }\n\n  pageChange(page: number) {\n    const paginationOptions = {\n      ...defaultPaginationOptions.pagination,\n      ...this.options.getValue().pagination,\n      from: page,\n    };\n\n    this.options.next({\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.ReplacePage,\n    });\n  }\n\n  getTransactionsFrom(\n    selectedAccount: Observable<string[]>,\n    pageSize: Observable<number>,\n    initialListOptions: Observable<Partial<TransactionsListOptions>> = of({}),\n    showPendingTransactionsOnTop: Observable<boolean> = of(false),\n    getOrPostEndpoint: Observable<EndpointType> = of(EndpointType.GET_REQUEST),\n  ) {\n    selectedAccount.subscribe(this.selectedAccount);\n    pageSize.subscribe(this.pageSize);\n    initialListOptions.subscribe(this.initialListOptions);\n    showPendingTransactionsOnTop.subscribe(this.showPendingTransactionsOnTop);\n    getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n  }\n\n  getCurrentPage() {\n    return this.listOptions.pipe(map((options) => (options.pagination || defaultPaginationOptions.pagination).from));\n  }\n\n  getTransactionsList() {\n    return this.transactionsList;\n  }\n\n  retryFiltering() {\n    this.listRefresh.next(this.listOptions.getValue());\n  }\n\n  refreshTransactions() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = {\n      ...currentPaginationOptions,\n      from: 0,\n    };\n\n    const newOptions = {\n      ...this.listOptions.getValue(),\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.ReplacePage,\n    };\n\n    if (deepEqual(newOptions, this.listOptions.getValue())) {\n      this.listRefresh.next(this.listOptions.getValue());\n    } else {\n      this.options.next({\n        pagination: paginationOptions,\n        onLoad: OnLoadAction.ReplacePage,\n      });\n    }\n  }\n\n  private get isUsingPostEndpoints() {\n    return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n  }\n\n  ngOnDestroy() {\n    this.listRefresh.complete();\n    this.selectedAccount.complete();\n    this.pageSize.complete();\n    this.initialListOptions.complete();\n    this.options.complete();\n    this.listOptions.complete();\n    this.exportOptions.complete();\n    this.showPendingTransactionsOnTop.complete();\n    this.loadingState.complete();\n    this.getOrPostEndpoint.complete();\n  }\n\n  constructor(\n    private readonly transactionsDataHttpService: TransactionClientHttpService,\n    private readonly accountService: AccountsService,\n    private readonly deprecationsService: DeprecationsService,\n    @Inject(LOCALE_ID) private readonly locale: string,\n  ) {\n    // Base this.options on this.selectedAccount, this.pageSize, this.initialListOptions\n    combineLatest([this.selectedAccount, this.pageSize, this.initialListOptions, this.showPendingTransactionsOnTop])\n      .pipe(\n        map(([selectedAccount, pageSize, initialListOptions, showPendingTransactionsOnTop]) => ({\n          ...(showPendingTransactionsOnTop ? { state: TransactionState.completed } : {}),\n          account: {\n            arrangementId: selectedAccount,\n          },\n          pagination: {\n            from: 0,\n            size: pageSize,\n          },\n          onLoad: OnLoadAction.Replace,\n          ...initialListOptions,\n        })),\n      )\n      .subscribe(this.options);\n\n    // Base this.listOptions on this.options\n    this.options\n      .pipe(scan((acc: any, curr) => Object.assign({}, acc, curr), defaultInitialListOptions))\n      .subscribe(this.listOptions);\n\n    // Base this.exportOptions on this.listOptions\n    this.listOptions\n      .pipe(\n        filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'),\n        map((params) => ({\n          ...params,\n          pagination: undefined,\n          state: undefined,\n          exportType: 'csv',\n          locale: 'en-US',\n        })),\n      )\n      .subscribe(this.exportOptions);\n  }\n}\n","import { ChangeDetectionStrategy, Component, Directive, Input } from '@angular/core';\nimport { LoadingState } from '../../services/transactions.service';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\n@Component({\n  selector: 'bb-transactions-number-of-results-found',\n  templateUrl: 'transactions-number-of-results-found.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionsNumberOfResultsFoundComponent {\n  /**\n   * Reference to instance of customizable component.\n   */\n  readonly hostRef = this;\n  /**\n   * Number of results found after filtering or searching.\n   */\n  @Input() numberOfResultsFound = 0;\n  /**\n   * The loading state of the transactions list.\n   */\n  @Input() loadingState: LoadingState = LoadingState.NotLoaded;\n  /**\n   * Whether filter is applied or not.\n   */\n  @Input() isFilterApplied = false;\n  /**\n   * Whether search is applied or not.\n   */\n  @Input() isSearchApplied = false;\n\n  /**\n   * Whether loading has finished or not.\n   */\n  get isLoaded(): boolean {\n    return this.loadingState === LoadingState.Loaded;\n  }\n}\n\n@Directive({\n  selector: '[bbTransactionsNumberOfResultsFoundCustomizable]',\n})\nexport class TransactionsNumberOfResultsFoundCustomizableDirective extends BbTemplate<\n  TransactionsNumberOfResultsFoundComponent,\n  undefined\n> {}\n","<ng-container\n  bbTransactionsNumberOfResultsFoundCustomizable\n  [bbHostRef]=\"hostRef\"\n></ng-container>\n\n\n<ng-template bbTransactionsNumberOfResultsFoundCustomizable let-hostRef>\n  <div\n    class=\"bb-card__header bb-subtitle\"\n    [ngClass]=\"{ 'sr-only': hostRef.numberOfResultsFound <= 0 }\"\n    i18n=\"Number of results found for the applied filter@@transactions.list.numberOfResultsFound\"\n    *ngIf=\"hostRef.isLoaded && (hostRef.isFilterApplied || hostRef.isSearchApplied)\"\n    aria-live=\"assertive\"\n  >\n    {hostRef.numberOfResultsFound, plural, =0 {No results} =1 {1 result} other {{{ hostRef.numberOfResultsFound }} results}} found\n  </div>\n</ng-template>","import { HttpResponse } from '@angular/common/http';\nimport { TransactionCheckImagesResponse, TransactionCheckImagesItem } from '@backbase/data-ang/transactions';\n\nexport enum TransactionsCheckImageType {\n  PNG = 'image/png',\n  JPEG = 'image/jpeg',\n}\n\nexport enum TransactionsCheckImageSide {\n  FRONT = 'FRONT',\n  BACK = 'BACK',\n}\n\nexport interface TransactionsCheckImage {\n  side: TransactionsCheckImageSide;\n  mimeType: TransactionsCheckImageType;\n  content: string;\n}\n\nexport interface TransactionCheckImageResponse {\n  images: TransactionsCheckImage[];\n}\n\nexport namespace TransactionsCheckImages {\n  function processImages(imageObject: TransactionCheckImagesItem): TransactionsCheckImage {\n    return {\n      side: imageObject.side as TransactionsCheckImageSide,\n      mimeType: imageObject.mimeType as TransactionsCheckImageType,\n      content: imageObject.content,\n    };\n  }\n\n  export function fromHttpResponse(\n    response: HttpResponse<TransactionCheckImagesResponse>,\n  ): TransactionCheckImageResponse {\n    const imagesArray = (response.body && response.body.images) || [];\n    const mappedImages = imagesArray.map(processImages);\n\n    return {\n      images: mappedImages,\n    };\n  }\n}\n","export enum TransactionsDetailsLoadingState {\n  error = -1,\n  serverError = -2,\n  badRequestError = -3,\n  notFoundError = -4,\n  loading = 0,\n  done = 1,\n  notLoaded = 2,\n  notStarted = 3,\n}\n\nexport enum DisputeStatusEnum {\n  Refunded = 'REFUNDED',\n  Undisputed = 'UNDISPUTED',\n  Pending = 'PENDING',\n  Rejected = 'REJECTED',\n}\n\nexport type TransactionsDetailsLoadingType =\n  | 'checkImages'\n  | 'geolocation'\n  | 'enableDisputeAndInquiry'\n  | 'disputeOption'\n  | 'batchOrder';\n\nexport type TransactionsDetailsLoading = Partial<\n  Record<TransactionsDetailsLoadingType, TransactionsDetailsLoadingState>\n>;\n","import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[bbAccessibilityKeyboard]',\n})\nexport class AccessibilityKeyboardDirective {\n  constructor(readonly element: ElementRef) {\n    element.nativeElement.tabIndex = 0;\n  }\n\n  // eslint-disable-next-line\n  @HostListener('keydown.enter', ['$event'])\n  // eslint-disable-next-line\n  @HostListener('keydown.space', ['$event'])\n  eventListener(event: any) {\n    this.element.nativeElement.click(event);\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Transaction } from '../../model/transaction.model';\nimport { TransactionsCheckImage } from '../../model/transactions-check-images.model';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'bb-transaction-check-image-item',\n  templateUrl: 'transaction-check-image-item.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionCheckImageItemComponent {\n  @Input() image: TransactionsCheckImage | undefined;\n  @Input() transaction: Transaction | undefined;\n  @Input() sideText = '';\n  @Input() imageAlt = '';\n\n  @Output() selectImage = new EventEmitter<void>();\n\n  get imageFileName() {\n    const fileType = this.image ? this.image.mimeType.replace('image/', '') : '';\n    const side = this.image ? this.image.side : '';\n\n    return `${this.imageCheckNumber}-${side}.${fileType}`;\n  }\n\n  get formatedImageSource() {\n    const mimeType = this.image ? this.image.mimeType : '';\n    const content = this.image ? this.image.content : '';\n\n    return `data:${mimeType};base64,${content}`;\n  }\n\n  private get imageCheckNumber() {\n    return this.transaction && this.transaction.checkSerialNumber;\n  }\n\n  createImageSource() {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(this.formatedImageSource);\n  }\n\n  toggleDocumentViewer() {\n    this.selectImage.emit();\n  }\n\n  constructor(private readonly sanitizer: DomSanitizer) {}\n}\n","<ng-container>\n  <span>{{sideText}}</span>\n  <div\n    role=\"img\"\n    data-role=\"check-image-item\"\n    class=\"bb-check-img-container\" \n    (click)=\"!!image && toggleDocumentViewer()\" \n    attr.aria-label=\"{{sideText}} image container\"\n    i18n-aria-label=\"Image container for front or back check image@@transaction-check-image-item.aria-label.image-container\"\n    bbAccessibilityKeyboard\n  >\n    <ng-container *ngIf=\"!!image else noImage\">\n      <div class=\"bb-check-img-container-state\">\n        <div class=\"bb-check-img-container-state__container\">\n          <bb-icon-ui \n            name=\"remove-red-eye\" \n            size=\"lg\" \n            color=\"white\"\n            aria-label=\"Expand Image\"\n            i18n-aria-label=\"Expand image@@transaction-check-image-item.aria-label.expand-icon\"\n          ></bb-icon-ui>\n        </div>\n      </div>\n      <img class=\"bb-check-img-container__img\" alt={{imageAlt}} [src]=\"createImageSource()\">\n    </ng-container>\n  </div>\n</ng-container>\n\n<ng-template #noImage>\n  <div class=\"bb-check-no-img\">\n    <div class=\"bb-check-no-img__icon\">\n      <bb-icon-ui\n        name=\"broken-image\" \n        size=\"lg\"\n        aria-label=\"No image\"\n        i18n-aria-label=\"No image@@transaction-check-image-item.aria-label.no-image-icon\"\n      ></bb-icon-ui>\n    </div>\n  </div>\n</ng-template>","export const DOCUMENT_LOAD_DELAY_MS = 400;\n\nimport { Observable } from 'rxjs';\n\nexport type Styles = { [key in string]: string };\n\nexport enum DocumentViewerType {\n  JPEG = 'image/jpeg',\n  JPG = 'image/jpg',\n  PNG = 'image/png',\n  WEBP = 'image/webp',\n  GIF = 'image/gif',\n  BMP = 'image/bmp',\n}\n\nexport interface DocumentRefSrc {\n  filename: string;\n  filetype: DocumentViewerType;\n  src: Observable<string>;\n}\n\nexport interface DocumentViewerOptions {\n  container?: {\n    styles?: Styles;\n  };\n  scale?: number;\n}\n\nexport interface NavigationState {\n  currIdx: number;\n  total: number;\n}\n\nexport const isDocumentViewerType = (type: string): type is DocumentViewerType =>\n  Object.values(DocumentViewerType).includes(type as DocumentViewerType);\n\nexport const downloadFile = (url: string, fileName: string) => {\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = `${fileName}`;\n  link.click();\n};\n\nexport enum KEY_CODES {\n  UP = 'ArrowUp',\n  DOWN = 'ArrowDown',\n  ENTER = 'Enter',\n  SPACE = ' ',\n  TAB = 'Tab',\n  BACKSPACE = 'Backspace',\n  DELETE = 'Delete',\n  ESCAPE = 'Escape',\n  X = 'x',\n  V = 'v',\n  LEFT = 'ArrowLeft',\n  RIGHT = 'ArrowRight',\n}\n\nconst KEY_CODE_TO_CODE = {\n  9: KEY_CODES.TAB,\n  38: KEY_CODES.UP,\n  40: KEY_CODES.DOWN,\n  32: KEY_CODES.SPACE,\n  13: KEY_CODES.ENTER,\n  46: KEY_CODES.DELETE,\n  8: KEY_CODES.BACKSPACE,\n  27: KEY_CODES.ESCAPE,\n  88: KEY_CODES.X,\n  86: KEY_CODES.V,\n} as any;\n\nfunction browserIsMsie() {\n  return navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident/') > -1;\n}\n\nexport function getKeyCode(event: KeyboardEvent): KEY_CODES {\n  // NOTE: detect IE\n  if (browserIsMsie()) {\n    return KEY_CODE_TO_CODE[event.keyCode] as KEY_CODES;\n  }\n\n  return event.code as KEY_CODES;\n}\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { DocumentViewerOptions, Styles } from '../../../model/UI/document-viewer-commons';\n\n@Component({\n  selector: 'bb-document-viewer-backdrop',\n  templateUrl: './document-viewer-backdrop.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DocumentViewerBackdropComponent {\n  @Input() options?: DocumentViewerOptions;\n\n  get containerStyles(): Styles | undefined {\n    return this.options?.container?.styles;\n  }\n\n  get hasCustomStyles(): boolean {\n    return Boolean(this.options?.container?.styles);\n  }\n}\n","<div\n  class=\"bb-document-viewer-backdrop modal-backdrop show\"\n  aria-hidden=\"true\"\n  [class.bb-document-viewer-backdrop-default-off]=\"hasCustomStyles\"\n  [ngStyle]=\"containerStyles\"\n></div>","import { ChangeDetectionStrategy, Component, Input, Output, EventEmitter, NgZone, OnDestroy } from '@angular/core';\nimport { DocumentViewerType, downloadFile } from '../../../model/UI/document-viewer-commons';\n\n@Component({\n  selector: 'bb-document-viewer-header',\n  templateUrl: './document-viewer-header.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DocumentViewerHeaderComponent implements OnDestroy {\n  @Input() filename!: string;\n  @Input() filetype?: DocumentViewerType;\n  @Input() set source(src: string | undefined) {\n    if (src) {\n      this.revokeObjectURL();\n      this.documentObjectURL = src;\n    }\n  }\n  @Input() isLoading = false;\n  @Output() close = new EventEmitter<void>();\n  private documentObjectURL?: string;\n\n  constructor(private readonly ngZone: NgZone) {}\n\n  ngOnDestroy() {\n    this.revokeObjectURL();\n  }\n\n  onOpenDocument(): void {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    this.openImage(this.documentObjectURL);\n  }\n\n  onPrintDocument(): void {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    this.printWindow(this.openImage(this.documentObjectURL));\n  }\n\n  onDownloadDocument(): void {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    downloadFile(this.documentObjectURL, this.filename);\n  }\n\n  private openImage(documentObjectURL: string): Window {\n    const image = new Image();\n    const newWindow = window.open('about:blank', '_new') as Window;\n    image.src = documentObjectURL;\n    newWindow.document.write(image.outerHTML);\n\n    return newWindow;\n  }\n\n  private printWindow(window: Window): void {\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        window.focus();\n        window.print();\n      }, 0);\n    });\n  }\n\n  private revokeObjectURL(): void {\n    if (this.documentObjectURL) {\n      window.URL.revokeObjectURL(this.documentObjectURL);\n    }\n  }\n}\n","<div class=\"bb-document-viewer-header\">\n  <span class=\"bb-document-viewer-header__title bb-stack\">\n    <bb-icon-ui \n      class=\"bb-stack__item bb-stack__item--spacing-sm\" \n      data-role=\"document-viewer-header-icon\"\n      name=\"description\" \n      size=\"md\"\n    ></bb-icon-ui>\n    <span class=\"bb-stack__item\" data-role=\"document-viewer-header-filename\">{{ filename }}</span>\n  </span>\n  <div class=\"bb-stack\">\n    <!-- web view -->\n    <div class=\"bb-stack__item bb-stack__item--spacing-none bb-stack__item--push-right bb-document-viewer-header-controls__web-view\">\n      <button\n        bbButton \n        data-role=\"print-document-btn\" \n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\" \n        aria-label=\"print\"\n        i18n-aria-label=\"Print document button@@document-viewer-header.aria-label.print-document-btn\"\n        buttonSize=\"sm\"\n        (click)=\"!isLoading && onPrintDocument()\"\n      >\n        <bb-icon-ui name=\"local-printshop\" size=\"md\" color=\"light\"></bb-icon-ui>\n      </button>\n\n      <button\n        bbButton\n        data-role=\"download-document-btn\" \n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\" \n        aria-label=\"download\"\n        i18n-aria-label=\"Download document button@document-viewer-header.aria-label.download-document-btn\"\n        buttonSize=\"sm\"\n        (click)=\"!isLoading && onDownloadDocument()\"\n      >\n        <bb-icon-ui name=\"save-alt\" size=\"md\" color=\"light\"></bb-icon-ui>\n      </button>\n      \n      <button \n        bbButton\n        data-role=\"open-document-btn\" \n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\" \n        aria-label=\"new tab\"\n        i18n-aria-label=\"Open document in new tab button@@document-viewer-header.aria-label.open-document-new-tab-btn\"\n        buttonSize=\"sm\"\n        (click)=\"!isLoading && onOpenDocument()\"\n      >\n        <bb-icon-ui name=\"open-in-new\" size=\"md\" color=\"light\"></bb-icon-ui>\n      </button>\n\n      <button \n        bbButton\n        data-role=\"close-document-btn\" \n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\" \n        aria-label=\"close\"\n        i18n-aria-label=\"Close document button@@document-viewer-header.aria-label.close-btn\"\n        buttonSize=\"sm\" \n        (click)=\"close.emit()\"\n      >\n        <bb-icon-ui name=\"times\" size=\"md\" color=\"light\"></bb-icon-ui>\n      </button>\n    </div>\n\n    <!-- mobile view -->\n    <div class=\"bb-stack__item bb-stack__item--spacing-none bb-stack__item--push-right bb-document-viewer-header-controls__mobile-view\">\n      <div class=\"bb-stack\">\n        <bb-dropdown-menu-ui \n          container=\"body\"\n          data-role=\"options-menu-dropdown\"\n          class=\"bb-stack__item\"\n          icon=\"ellipsis-h\" \n          btnColor=\"muted\"\n          buttonSize=\"sm\"\n          btnCircle=\"true\"\n          iconSize=\"md\"\n          iconColor=\"light\"\n          ariaLabel=\"Check image export dropdown menu\"\n          i18n-ariaLabel=\"Check image export dropdown menu@@document-viewer-header.export-dropdown-menu.ariaLabel\"\n        >\n          <ng-template bbDropdownMenuItem>\n            <a \n              role=\"menuitem\" \n              class=\"dropdown-item\"\n              data-role=\"open-document-item\"\n              (click)=\"!isLoading && onOpenDocument()\" \n              href=\"javaScript:void(0);\" \n            >\n              <bb-icon-ui class=\"bb-document-viewer-header__dropdown-icon\" name=\"open-in-new\" size=\"md\"></bb-icon-ui>\n              <span\n                i18n=\"Open image in new tab@@document-viewer-header.controlsList.open-in-new-tab\"\n              >Open in new tab</span>\n            </a>\n            <a \n              role=\"menuitem\" \n              class=\"dropdown-item\"\n              data-role=\"download-document-item\"\n              (click)=\"!isLoading && onDownloadDocument()\" \n              href=\"javaScript:void(0);\"\n            >\n              <bb-icon-ui class=\"bb-document-viewer-header__dropdown-icon\" name=\"save-alt\" size=\"md\"></bb-icon-ui>\n              <span\n                i18n=\"Download image@@document-viewer-header.controlsList.download-image\"\n              >Download</span>\n            </a>\n            <a \n              role=\"menuitem\" \n              class=\"dropdown-item\"\n              data-role=\"print-document-item\"\n              (click)=\"!isLoading && onPrintDocument()\" \n              href=\"javaScript:void(0);\"\n            >\n              <bb-icon-ui class=\"bb-document-viewer-header__dropdown-icon\" name=\"local-printshop\" size=\"md\"></bb-icon-ui>\n              <span\n                i18n=\"Print image@@document-viewer-header.controlsList.print-image\"\n              >Print</span>\n            </a>\n          </ng-template>\n        </bb-dropdown-menu-ui>\n        <button \n          bbButton\n          data-role=\"close-document-btn\" \n          class=\"bb-stack__item bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\" \n          aria-label=\"close\"\n          i18n-aria-label=\"Close document button@@document-viewer-header.aria-label.close-btn\"\n          buttonSize=\"sm\" \n          (click)=\"close.emit()\"\n        >\n          <bb-icon-ui name=\"times\" size=\"md\" color=\"light\"></bb-icon-ui>\n        </button>\n      </div>\n    </div>\n    \n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { NavigationState } from '../../../model/UI/document-viewer-commons';\n\n@Component({\n  selector: 'bb-document-viewer-interactor',\n  templateUrl: './document-viewer-interactor.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DocumentViewerInteractorComponent {\n  @Input() navigationState: NavigationState = { currIdx: 0, total: 0 };\n  @Input() canZoomOut = true;\n  @Input() canZoomIn = true;\n  @Output() navigate = new EventEmitter<number>();\n  @Output() zoomIn = new EventEmitter<void>();\n  @Output() zoomOut = new EventEmitter<void>();\n\n  get navigationStatus(): string {\n    return this.navigationState.currIdx + 1 + '/' + this.navigationState.total;\n  }\n\n  get hasNextNavigation(): boolean {\n    return this.navigationState.currIdx + 1 < this.navigationState.total;\n  }\n\n  get hasPrevNavigation(): boolean {\n    return this.navigationState.currIdx > 0;\n  }\n\n  prev(): void {\n    this.navigate.emit(this.navigationState.currIdx - 1);\n  }\n\n  next(): void {\n    this.navigate.emit(this.navigationState.currIdx + 1);\n  }\n}\n","<div class=\"bb-document-viewer-interactor\">\n  <div class=\"bb-document-viewer-interactor__container\" (click)=\"$event.stopPropagation()\">\n    <div class=\"bb-document-viewer-interactor-controls\">\n      <button \n        bbButton\n        data-role=\"previous-document-btn\" \n        *ngIf=\"hasPrevNavigation\"\n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer\"\n        buttonSize=\"sm\" \n        (click)=\"prev()\"\n        aria-label=\"previous\"\n        i18n-aria-label=\"Previous document button@@document-viewer-interactor.aria-label.previous-document-button\"\n      >\n        <bb-icon-ui \n          name=\"angle-left\" \n          color=\"light\" \n          size=\"md\"\n        ></bb-icon-ui>\n      </button>\n      <span class=\"bb-document-viewer-interactor-controls__spacer\">{{ navigationStatus }}</span>\n      <button \n        bbButton\n        data-role=\"next-document-btn\" \n        *ngIf=\"hasNextNavigation\"\n        class=\"bb-document-viewer-interactor-controls__button\"\n        buttonSize=\"sm\" \n        (click)=\"next()\"\n        aria-label=\"next\"\n        i18n-aria-label=\"Next document button@@document-viewer-interactor.aria-label.next-document-button\"\n      >\n        <bb-icon-ui \n          name=\"angle-right\" \n          color=\"light\" \n          size=\"md\"\n        ></bb-icon-ui>\n      </button>\n    </div>\n    <div class=\"bb-document-viewer-interactor-separator\"></div>\n    <div class=\"bb-document-viewer-interactor-controls\">\n      <button \n        bbButton\n        data-role=\"zoom-out-btn\"\n        class=\"bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer\" \n        [disabled]=\"!canZoomOut\" \n        buttonSize=\"sm\" \n        (click)=\"zoomOut.emit()\"\n        aria-label=\"zoom out\"\n        i18n-aria-label=\"Zoom out document button@@document-viewer-interactor.aria-label.zoomOut-document-button\"\n      >\n        <bb-icon-ui \n          name=\"zoom-out\" \n          color=\"light\" \n          size=\"md\"\n        ></bb-icon-ui>\n      </button>\n      <button \n        bbButton\n        data-role=\"zoom-in-btn\"\n        class=\"bb-document-viewer-interactor-controls__button\"\n        [disabled]=\"!canZoomIn\" \n        aria-label=\"zoom in\"\n        buttonSize=\"sm\" \n        (click)=\"zoomIn.emit()\"\n        i18n-aria-label=\"Zoom in document button@@document-viewer-interactor.aria-label.zoomIn-document-button\"\n      >\n        <bb-icon-ui \n          name=\"zoom-in\" \n          color=\"light\" \n          size=\"md\"\n        ></bb-icon-ui>\n      </button>\n    </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component, Output, EventEmitter, Input, OnDestroy } from '@angular/core';\nimport { DomSanitizer, SafeStyle, SafeUrl } from '@angular/platform-browser';\nimport { NavigationState } from '../../../model/UI/document-viewer-commons';\n\ninterface ImageUIState {\n  scale: number;\n}\n\nconst ZOOM_FACTOR = 1.1;\nconst ZOOM_IN_THRESHOLD = 4;\nconst ZOOM_OUT_THRESHOLD = 0.1;\n\n@Component({\n  selector: 'bb-image-viewer',\n  templateUrl: './image-viewer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ImageViewerComponent implements OnDestroy {\n  @Input() set source(src: string | undefined) {\n    if (src) {\n      this.revokeObjectURLIfNeeded();\n      this.imageObjectUrl = src;\n\n      this.imageObjectTrustedUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(this.imageObjectUrl);\n    }\n  }\n  @Input() navigationState: NavigationState = { currIdx: 0, total: 0 };\n  @Output() navigate = new EventEmitter<number>();\n  imageObjectTrustedUrl: SafeUrl | undefined;\n  imageUiState: ImageUIState = { scale: 1 };\n\n  /**\n   * Internal\n   */\n  private imageObjectUrl: string | undefined;\n\n  constructor(private readonly domSanitizer: DomSanitizer) {}\n\n  get canZoomOut(): boolean {\n    return this.imageUiState.scale >= ZOOM_OUT_THRESHOLD;\n  }\n\n  get canZoomIn(): boolean {\n    return this.imageUiState.scale <= ZOOM_IN_THRESHOLD;\n  }\n\n  get scale(): SafeStyle {\n    return this.domSanitizer.bypassSecurityTrustStyle(`scale(${this.imageUiState.scale})`);\n  }\n\n  ngOnDestroy() {\n    this.revokeObjectURLIfNeeded();\n  }\n\n  zoomIn(): void {\n    if (this.canZoomIn) {\n      this.imageUiState.scale *= ZOOM_FACTOR;\n    }\n  }\n\n  zoomOut(): void {\n    if (this.canZoomOut) {\n      this.imageUiState.scale /= ZOOM_FACTOR;\n    }\n  }\n\n  private revokeObjectURLIfNeeded(): void {\n    if (this.imageObjectUrl) {\n      window.URL.revokeObjectURL(this.imageObjectUrl);\n    }\n  }\n}\n","<div class=\"bb-img-viewer-container bb-stack bb-stack--center\">\n  <img \n    #imgRef \n    class=\"bb-img-viewer-container__img\" \n    [style.transform]=\"scale\" \n    [src]=\"imageObjectTrustedUrl\"\n    alt='Transaction check image' \n    (click)=\"$event.stopPropagation()\"\n  >\n</div>\n<bb-document-viewer-interactor\n[navigationState]=\"navigationState\" \n[canZoomOut]=\"canZoomOut\" \n[canZoomIn]=\"canZoomIn\"\n(navigate)=\"navigate.emit($event)\" \n(zoomIn)=\"zoomIn()\" \n(zoomOut)=\"zoomOut()\"\n></bb-document-viewer-interactor>\n\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ElementRef,\n  HostListener,\n  ViewContainerRef,\n  ViewChild,\n  OnDestroy,\n} from '@angular/core';\nimport {\n  DocumentRefSrc,\n  DocumentViewerOptions,\n  DocumentViewerType,\n  DOCUMENT_LOAD_DELAY_MS,\n  NavigationState,\n  Styles,\n} from '../../../model/UI/document-viewer-commons';\nimport { Observable, ReplaySubject, combineLatest, timer, BehaviorSubject, Subject } from 'rxjs';\nimport { catchError, distinctUntilChanged, finalize, map, share, switchMap, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'bb-document-viewer-container',\n  templateUrl: './document-viewer-container.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DocumentViewerContainerComponent implements OnInit, OnDestroy {\n  @Input() documentRefSrcs: DocumentRefSrc[] = [];\n  @Input() set activeDocumentRefIdx(idx: number) {\n    this.activeDocumentRefIdx$.next(idx);\n  }\n  @Input() options?: DocumentViewerOptions;\n  @Output() close = new EventEmitter<void>();\n  // eslint-disable-next-line\n  @ViewChild('viewerContainer', { static: true, read: ViewContainerRef }) readonly viewContainer!: ViewContainerRef;\n  documentSrc$!: Observable<string>;\n  documentFilename$!: Observable<string>;\n  documentFiletype$!: Observable<DocumentViewerType>;\n  navigationState$!: Observable<NavigationState>;\n  readonly isLoading$ = new BehaviorSubject(false);\n  readonly isHttpError$ = new BehaviorSubject(false);\n  readonly documentType = DocumentViewerType;\n  /**\n   * Internal\n   */\n  private readonly activeDocumentRefIdx$ = new ReplaySubject<number>(1);\n  private readonly destroy$ = new Subject<void>();\n\n  constructor(private readonly elemRef: ElementRef) {}\n\n  get containerStyles(): Styles | undefined {\n    return this.options?.container?.styles;\n  }\n\n  get viewerScale(): number | undefined {\n    return this.options?.scale;\n  }\n\n  ngOnInit() {\n    this.setDocumentRefChangeSources();\n    this.setFocus();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  @HostListener('document:keydown.escape') onEscape() {\n    this.close.emit();\n  }\n\n  closeDialog() {\n    this.close.emit();\n  }\n\n  onNavigate(idx: number): void {\n    this.activeDocumentRefIdx$.next(idx);\n  }\n\n  private setDocumentRefChangeSources(): void {\n    this.documentSrc$ = this.activeDocumentRefIdx$.pipe(\n      distinctUntilChanged(),\n      tap(() => {\n        this.isLoading$.next(true);\n        this.isHttpError$.next(false);\n      }),\n      switchMap((idx) =>\n        combineLatest([this.documentRefSrcs[idx].src, timer(DOCUMENT_LOAD_DELAY_MS)]).pipe(\n          map(([src]) => src),\n          finalize(() => {\n            this.isLoading$.next(false);\n          }),\n        ),\n      ),\n      catchError((error) => {\n        this.isHttpError$.next(true);\n\n        throw error;\n      }),\n      share(),\n    );\n    this.documentFilename$ = this.activeDocumentRefIdx$.pipe(map((idx) => this.documentRefSrcs[idx].filename));\n    this.documentFiletype$ = this.activeDocumentRefIdx$.pipe(map((idx) => this.documentRefSrcs[idx].filetype));\n    this.navigationState$ = this.activeDocumentRefIdx$.pipe(\n      map((idx) => ({ currIdx: idx, total: this.documentRefSrcs.length })),\n    );\n  }\n\n  private setFocus(): void {\n    this.elemRef.nativeElement.focus();\n  }\n}\n","<div \n  class=\"bb-document-viewer-container show\" \n  role=\"dialog\" \n  aria-modal=\"true\" \n  tabindex=\"-1\" \n  [ngStyle]=\"containerStyles\" \n  cdkTrapFocus\n  cdkTrapFocusAutoCapture=\"true\"\n  >\n  <div class=\"bb-document-viewer-container__wrapper\">\n    <bb-document-viewer-header \n      data-role=\"document-viewer-header\"\n      [filename]=\"documentFilename$ | async\" \n      [source]=\"documentSrc$ | async\"\n      [filetype]=\"documentFiletype$ | async\" \n      [isLoading]=\"isLoading$ | async\" \n      (close)=\"close.emit()\"\n    ></bb-document-viewer-header>\n\n    <ng-container *ngIf=\"documentSrc$ | async as source\">\n      <ng-container *ngIf=\"!(isLoading$ | async) && !(isHttpError$ | async)\">\n        <div \n          class=\"bb-document-viewer-container-image\" \n          *ngIf=\"documentFiletype$ | async as documentFiletype\"\n          (click)=\"closeDialog()\"\n        >\n          <bb-image-viewer \n            data-role=\"document-viewer-image\"\n            [source]=\"source\" \n            [navigationState]=\"navigationState$ | async\"\n            (navigate)=\"onNavigate($event)\"\n          ></bb-image-viewer>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <bb-loading-indicator-ui \n      *ngIf=\"isLoading$ | async\"\n      class=\"bb-document-viewer-container__state\" \n      data-role=\"document-viewer-loading-state\"\n      loaderSize=\"lg\">\n    </bb-loading-indicator-ui>\n\n    <bb-empty-state-ui \n      *ngIf=\"!(isLoading$ | async) && (isHttpError$ | async)\" \n      data-role=\"document-viewer-error-state\"\n      class=\"bb-document-viewer-container__state\" \n      iconColor=\"white\"\n      iconModifier=\"error-outline\"\n      iconSize=\"xxl\"\n      title=\"Unknown Error\" \n      i18n-title=\"Unknown http error title@@document-viewer-component.uknown-error-title\"\n      subtitle=\"Try to reload the page or contact the system administrator\" \n      i18n-subtitle=\"Try to reload the page or contact the system administrator@@document-viewer-component.uknown-error-subtitle\" \n    ></bb-empty-state-ui>\n  </div>\n</div>\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { of } from 'rxjs';\nimport { TransactionsCheckImage } from '../../model/transactions-check-images.model';\nimport { DocumentRefSrc, getKeyCode, KEY_CODES } from '../../model/UI/document-viewer-commons';\ntype OptionalCheckImage = TransactionsCheckImage | undefined;\n\n@Component({\n  selector: 'bb-transaction-check-image-document-viewer',\n  templateUrl: 'transaction-check-image-document-viewer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionCheckImageDocumentViewerComponent {\n  @Input() imageCheckNumber: string | undefined;\n  @Input() imageFront: TransactionsCheckImage | undefined;\n  @Input() imageBack: TransactionsCheckImage | undefined;\n  @Input() position: number | undefined;\n\n  @Output() closeViewer = new EventEmitter<void>();\n\n  private toDocumentRefSrc(...images: OptionalCheckImage[]): DocumentRefSrc[] {\n    return images\n      .filter((item) => !!item)\n      .map((image) => {\n        const { mimeType, content, side } = image as TransactionsCheckImage;\n        const fileType = image?.mimeType.replace('image/', '');\n        const filename = `${this.imageCheckNumber}-${side}.${fileType}`;\n\n        return {\n          filename,\n          filetype: image?.mimeType as any,\n          src: of(`data:${mimeType};base64,${content}`),\n        };\n      });\n  }\n\n  get imagesRefsSrc() {\n    return this.toDocumentRefSrc(this.imageFront, this.imageBack);\n  }\n\n  closeDocumentViewer() {\n    this.closeViewer.emit();\n  }\n\n  trapKeyEvent(event: KeyboardEvent) {\n    if (getKeyCode(event) !== KEY_CODES.ESCAPE) {\n      event.stopPropagation();\n    }\n  }\n}\n","<div\n  (keydown)=\"trapKeyEvent($event)\"\n  (keyup)=\"trapKeyEvent($event)\"\n>\n  <bb-document-viewer-backdrop></bb-document-viewer-backdrop>\n  <bb-document-viewer-container\n    [documentRefSrcs]=\"imagesRefsSrc\"\n    [activeDocumentRefIdx]=\"position\"\n    cdkTrapFocus\n    (close)=\"closeDocumentViewer()\"\n  ></bb-document-viewer-container>\n</div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport {\n  TransactionCheckImageResponse,\n  TransactionsCheckImageSide,\n  TransactionsCheckImage,\n} from '../../model/transactions-check-images.model';\nimport { Transaction } from '../../model/transaction.model';\nimport { TransactionsDetailsLoading, TransactionsDetailsLoadingState } from '../../model/transactions-details.model';\n\n@Component({\n  selector: 'bb-transaction-check-image',\n  templateUrl: './transaction-check-image.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionCheckImageComponent {\n  /**\n   * The transaction object\n   */\n  @Input() transaction: Transaction | undefined;\n  /**\n   * The check image object.\n   */\n  // eslint-disable-next-line\n  @Input()\n  set checkImagesList(value: TransactionCheckImageResponse) {\n    this.imageFront = value && value.images.find((data) => data.side === TransactionsCheckImageSide.FRONT);\n    this.imageBack = value && value.images.find((data) => data.side === TransactionsCheckImageSide.BACK);\n  }\n  /**\n   * The transaction details loading status.\n   */\n  @Input() transactionDetailsLoadingStatus: TransactionsDetailsLoading | undefined;\n  readonly loadingStateEnum = TransactionsDetailsLoadingState;\n\n  /**\n   * Sides of the check after being proccesed by formatter class\n   */\n  imageFront: TransactionsCheckImage | undefined;\n  imageBack: TransactionsCheckImage | undefined;\n\n  /**\n   * Index to display in the document viewer. For the purpose of hidding and showing\n   * the viewer this will be base 1\n   * when the value is 0 the document viewer will not be visible\n   */\n  index = 0;\n\n  get hasErrors() {\n    return (\n      this.transactionDetailsLoadingStatus &&\n      this.transactionDetailsLoadingStatus.checkImages &&\n      this.transactionDetailsLoadingStatus.checkImages < 0\n    );\n  }\n\n  get isDone() {\n    return (\n      this.transactionDetailsLoadingStatus &&\n      this.transactionDetailsLoadingStatus.checkImages === TransactionsDetailsLoadingState.done\n    );\n  }\n\n  onClose() {\n    this.index = 0;\n  }\n\n  selectImage(index: number) {\n    this.index = index;\n  }\n}\n","<ng-container *ngIf=\"isDone || hasErrors; else loadingState\">\n  <div class=\"bb-stack bb-stack--wrap\">\n    <div class=\"bb-stack__item\">\n      <bb-transaction-check-image-item\n        *ngIf=\"!!imageFront || hasErrors\"\n        [image]=\"imageFront\"\n        data-role=\"check-image-item-front\"\n        (selectImage)=\"selectImage(1)\"\n        [transaction]=\"transaction\"\n        sideText=\"Front\"\n        imageAlt=\"Front check image\"\n        i18n-sideText=\"Front side title of check image@@transactions.detail.check-image.front.title\"\n        i18n-imageAlt=\"Front side alt of check image@@transactions.detail.check-image.front.alt-image\"\n      ></bb-transaction-check-image-item>\n    </div>\n\n    <div class=\"bb-stack__item\">\n      <bb-transaction-check-image-item\n        *ngIf=\"!!imageBack || hasErrors\"\n        data-role=\"check-image-item-back\"\n        (selectImage)=\"selectImage(imageFront ? 2 : 1)\"\n        [image]=\"imageBack\"\n        [transaction]=\"transaction\"\n        sideText=\"Back\"\n        imageAlt=\"Back check image\"\n        i18n-sideText=\"Back side title of check image@@transactions.detail.check-image.back.title\"\n        i18n-imageAlt=\"Back side alt of check image@@transactions.detail.check-image.back.alt-image\"\n      ></bb-transaction-check-image-item>\n    </div>\n  </div>\n\n  <bb-transaction-check-image-document-viewer \n    *ngIf=\"index>0\"\n    data-role=\"check-image-document-viewer\"\n    [imageCheckNumber]=\"transaction?.checkSerialNumber\"\n    [imageFront]=\"imageFront\"\n    [imageBack]=\"imageBack\"\n    [position]=\"index-1\"\n    (closeViewer)=\"onClose()\"\n  ></bb-transaction-check-image-document-viewer>\n\n  <ng-container *ngIf=\"hasErrors\">\n    <span \n      i18n=\"Something went wrong@@transactions.detail.check-image.server-error\"\n      class=\"bb-input-validation-message\"\n      data-role=\"check-image-server-error-state\"\n      *ngIf=\"transactionDetailsLoadingStatus?.checkImages===loadingStateEnum?.serverError\"\n    >\n      Something went wrong. Please try again later.\n    </span>\n  \n    <span\n      i18n=\"Check images cannot be viewed at the moment@@transactions.detail.check-image.bad-request-error\"\n      class=\"bb-input-validation-message\"\n      data-role=\"check-image-bad-request-error-state\"\n      *ngIf=\"transactionDetailsLoadingStatus?.checkImages===loadingStateEnum?.badRequestError\"\n    >\n      Check images cannot be viewed at the moment, please try again later or contact your financial institution.\n    </span>\n  \n    <span\n      i18n=\"Check images cannot be viewed at the moment@@transactions.detail.check-image.not-found-error\"\n      class=\"bb-input-validation-message\"\n      data-role=\"check-image-not-found-error-state\"\n      *ngIf=\"transactionDetailsLoadingStatus?.checkImages===loadingStateEnum?.notFoundError\"\n    >\n      Check images cannot be viewed at the moment, please try again later or contact your financial institution.\n    </span>\n  </ng-container>\n</ng-container>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui loaderSize=\"lg\"></bb-loading-indicator-ui>\n</ng-template>","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { AbstractControl, FormBuilder } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { InquireAndDisputeFile, InquireAndDisputeTopics, MessageForm } from '../../model/messages.model';\nimport { TransactionsDetailsLoadingState } from '../../model/transactions-details.model';\n\n@Component({\n  selector: 'bb-transactions-inquiry-dispute',\n  templateUrl: 'transactions-inquiry-dispute.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionsInquiryDisputeComponent implements OnInit, OnDestroy {\n  @Input() message: MessageForm | undefined;\n  @Input() enableDispute = false;\n  /**\n   * Whether the dispute & inquiry form is sending or not.\n   */\n  @Input() state = TransactionsDetailsLoadingState.notStarted;\n  @Input() inquireAndDisputeTopics: InquireAndDisputeTopics | undefined;\n\n  @Output() submitReport = new EventEmitter<MessageForm>();\n\n  @Output() cancelReport = new EventEmitter<void>();\n\n  @Output() messageChange = new EventEmitter<MessageForm>();\n\n  @Output() fileChange = new EventEmitter<File>();\n  @Output() fileRemoved = new EventEmitter<InquireAndDisputeFile>();\n\n  confirmationDialogActive = false;\n  labels = {\n    inquire: $localize`:Inquire tooltip@@transactions.dispute.inquire.inquireLabel:Inquire for more information`,\n    dispute: $localize`:Dispute tooltip@@transactions.dispute.inquire.disputeLabel:Dispute this transaction`,\n  };\n\n  readonly loadingStateEnum = TransactionsDetailsLoadingState;\n\n  private unsubscribeSubject = new Subject<void>();\n\n  private topicRequired(control: AbstractControl): Record<'required', string> | null {\n    return control.value?.value === '' ? { required: 'value is required' } : null;\n  }\n\n  transactionReportForm = this.fb.group({\n    topic: [{ value: '' }, this.topicRequired],\n    attachment: [undefined],\n    subject: [{ name: '' }],\n    body: [''],\n  });\n\n  private getControl(field: string): AbstractControl | undefined {\n    return this.transactionReportForm.controls[field];\n  }\n\n  private setFormValue(values: MessageForm) {\n    this.transactionReportForm.patchValue(\n      {\n        body: values.body,\n        attachments: values.attachments,\n      },\n      { emitEvent: false },\n    );\n  }\n\n  hasError(field: string, type: string) {\n    const control = this.getControl(field);\n\n    return control && control.errors && control.errors[type];\n  }\n\n  isInvalidControl(field: string): boolean {\n    const control = this.getControl(field);\n\n    return !!control && control.touched && control.invalid;\n  }\n\n  saveReport() {\n    if (this.transactionReportForm.valid) {\n      this.submitReport.emit(this.message);\n    } else {\n      this.transactionReportForm.markAllAsTouched();\n    }\n  }\n\n  closeReportForm() {\n    this.cancelReport.emit();\n    this.closeConfirmationDialog();\n  }\n\n  closeConfirmationDialog() {\n    this.confirmationDialogActive = false;\n  }\n\n  processLabel(label: string) {\n    const arr = label.split(' ');\n    const last = arr.splice(arr.length - 1, 1);\n\n    return [arr.join(' ') + ' ', ...last];\n  }\n\n  ngOnInit() {\n    if (this.message) {\n      this.setFormValue(this.message);\n    }\n\n    this.transactionReportForm.valueChanges.pipe(takeUntil(this.unsubscribeSubject)).subscribe({\n      next: (formValue) => {\n        this.messageChange.emit({ ...this.message, ...formValue });\n      },\n    });\n  }\n\n  uploadFile(input: HTMLInputElement) {\n    if (input.files && input.files[0]) {\n      const file: File = input.files[0];\n      this.fileChange.emit(file);\n      input.value = '';\n    }\n  }\n\n  removeAttachment(attachment: InquireAndDisputeFile) {\n    this.fileRemoved.emit(attachment);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeSubject.next();\n    this.unsubscribeSubject.complete();\n  }\n\n  constructor(private readonly fb: FormBuilder) {}\n}\n","<div class=\"bb-transaction-list-item-detail-additional-info\">\n  <form [formGroup]=\"transactionReportForm\">\n    <div class=\"bb-block bb-block--lg\" bbAccessibilityKeyboard>\n      <h5 \n        class=\"bb-transaction-list-item-detail-additional-info__title\"\n        data-role=\"dispute-inquiry-header\"\n        i18n=\"dispute and inquiry form header@@transactions.dispute.inquiry.header\"\n      >\n        Does this transaction seem suspicious or incorrect?\n      </h5>\n      <p \n        class=\"bb-text-support text-small\" \n        data-role=\"dispute-inquiry-subHeader\"\n        i18n=\"dispute and inquiry form subHeader@@transactions.dispute.inquiry.subHeader\"\n      >\n        It’s important to provide as much detail as possible for the bank employee to quickly and accurately review your issue.\n      </p>\n    </div>\n  \n    <div class=\"form-group bb-block bb-block--lg\">      \n      <bb-input-radio-group-ui\n        aria-labelledby=\"'label-transaction-dispute'\"\n        [horizontal]=\"false\"\n        formControlName=\"topic\"\n        verticalAlign=\"top\"\n      >\n        <bb-input-radio-ui \n          value=\"dispute\"\n          [labelTemplate]=\"optionsLabel\"\n          labelTemplateContext=\"dispute\"\n          [disabled]=\"!enableDispute\"\n        ></bb-input-radio-ui>\n        <bb-input-radio-ui \n          value=\"inquire\"\n          [labelTemplate]=\"optionsLabel\"\n          labelTemplateContext=\"inquire\"\n        ></bb-input-radio-ui>\n      </bb-input-radio-group-ui>\n      <bb-input-validation-message-ui [showErrors]=\"isInvalidControl('topic')\">\n        <span\n          *ngIf=\"hasError('topic', 'required')\"\n          i18n=\"Error message if field is required@@transactions.dispute.errors.operationRequired\"\n        >\n          Required field\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n\n    <div class=\"form-group bb-block\" [ngClass]=\"{'bb-block--sm': isInvalidControl('body')}\"> \n      <bb-rich-text-editor-ui\n        aria-label=\"Report body\"\n        formControlName=\"body\"\n        placeholder=\"Please tell us more about this transaction...\"\n        i18n-aria-label=\"label report body body@@transactions.dispute.inquiry.body.label\"\n        i18n-placeholder=\"Place holder for messages body@@transactions.dispute.inquiry.body.message\"\n        [readonly]=\"false\"\n        [required]=\"true\"\n      ></bb-rich-text-editor-ui>\n\n      <bb-input-validation-message-ui [showErrors]=\"isInvalidControl('body')\">\n        <span\n          *ngIf=\"hasError('body', 'required')\"\n          i18n=\"Error message if field is required@@transactions.dispute.errors.bodyRequired\"\n        >\n          Required field\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n\n    <div class=\"form-group bb-block bb-block--sm\">\n      <bb-input-file-ui\n        label=\"Default file input\"\n        data-role=\"attachment-file-input\"\n        [disabled]=\"state === loadingStateEnum.loading\"\n        (change)=\"uploadFile($event.target)\"\n      ></bb-input-file-ui>\n    </div>\n\n    <div class=\"row bb-inquire-dispute-attachments\" *ngIf=\"message?.attachments?.length\">\n      <div *ngFor=\"let attachment of message?.attachments\" class=\"col-md-6 bb-inquire-dispute-attachments__item\">\n        <div class=\"bb-block bb-block--md\">\n          <bb-file-attachment-ui\n            data-role=\"attachment-file\"\n            [name]=\"attachment.name\" \n            [size]=\"attachment.size\"\n            [fileContent]=\"attachment.content\"\n            [block]=\"true\"\n            [loading]=\"attachment.id === undefined\"\n            [deletable]=\"attachment.id !== undefined\"\n            (delete)=\"removeAttachment(attachment)\"\n          ></bb-file-attachment-ui>\n        </div>\n      </div>\n    </div>\n   \n    <div class=\"bb-block bb-block--xl bb-text-align-left\">\n      <ng-container *ngIf=\"state === loadingStateEnum.error\">\n        <bb-alert-ui\n          title=\"Couldn’t send your message\"\n          data-role=\"send-report-failed\"\n          message=\"Something went wrong. Please try again.\"\n          i18n-title=\"\n            Send report failed notification|Message for a notification displayed when sending transaction\n            report request has failed@@transactions.notification.error.send.title\"\n          i18n-message=\"Send report failed notification message@@transactions.notification.error.send.message\"\n        ></bb-alert-ui>\n      </ng-container>\n    </div>\n  \n    <div class=\"bb-button-bar\">\n      <bb-load-button-ui\n        bbButton\n        color=\"primary\"\n        class=\"bb-button-bar__button\"\n        data-role=\"dispute-inquiry-send-button\"\n        [isLoading]=\"state === loadingStateEnum.loading\"\n        (click)=\"state !== loadingStateEnum.loading && saveReport()\"\n        i18n=\"Send button@@transactions.dispute.inquiry.button.send\"\n      >\n        Send\n      </bb-load-button-ui>\n      <button\n        *ngIf=\"state !== loadingStateEnum.loading \"\n        bbButton\n        type=\"button\"\n        color=\"secondary\"\n        data-role=\"dispute-inquiry-cancel-button\"\n        class=\"bb-button-bar__button\"\n        (click)=\"confirmationDialogActive = true\"\n        i18n=\"Cancel button@@transactions.dispute.inquiry.button.cancel\"\n      >\n        Cancel\n      </button>\n    </div>\n  </form>\n</div>\n\n<ng-template #disputeTipContent>\n  <div class=\"bb-text-align-left\">\n    <span i18n=\"Description inside a tooltip@@transactions.dispute.inquiry.tooltip.description\">\n      If this transaction is incorrect, you can raise a claim for a refund.\n    </span>\n  </div>\n</ng-template>\n\n<ng-template #inqueryTipContent>\n  <div class=\"bb-text-align-left\">\n    <span i18n=\"Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.description\">\n      If you are suspicious about this transaction, you can ask the bank to gather more information about it.\n    </span>\n  </div>\n</ng-template>\n\n<ng-template #optionsLabel let-context=\"labelTemplateContext\">\n  <ng-container *ngIf=\"context === 'dispute'\">\n    <span \n      class=\"bb-input-radio-group__radio-label\"\n    >\n      {{processLabel(labels.dispute)[0]}}\n    </span>\n    <span class=\"d-inline-block\">\n      <span class=\"bb-input-radio-group__radio-label\">\n        {{processLabel(labels.dispute)[1]}}\n      </span>\n      <bb-icon-ui \n        class=\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--md-top\"\n        role=\"tooltip\" \n        name=\"info\" \n        size=\"md\" \n        [bbTooltip]=\"disputeTipContent\" \n        triggers=\"hover click\"\n        placement=\"right\"\n        bbAccessibilityKeyboard\n      ></bb-icon-ui>\n      <bb-icon-ui \n        class=\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--sm-bottom\"\n        role=\"tooltip\" \n        name=\"info\" \n        size=\"md\" \n        [bbTooltip]=\"disputeTipContent\" \n        triggers=\"hover click\"\n        placement=\"left\"\n        bbAccessibilityKeyboard\n      ></bb-icon-ui>\n      <span class=\"sr-only\" i18n=\"Description inside a tooltip@@transactions.dispute.inquiry.tooltip.hidden.description\">\n        If this transaction is incorrect, you can raise a claim for a refund.\n      </span>\n    </span>\n  </ng-container>\n\n  <ng-container *ngIf=\"context === 'inquire'\">\n    <span \n      class=\"bb-input-radio-group__radio-label\"\n    >\n      {{processLabel(labels.inquire)[0]}}\n    </span>\n    <span class=\"d-inline-block\">\n      <span class=\"bb-input-radio-group__radio-label\">\n        {{processLabel(labels.inquire)[1]}}\n      </span>\n      <bb-icon-ui \n        class=\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--md-top\"\n        role=\"tooltip\" \n        name=\"info\" \n        size=\"md\" \n        [bbTooltip]=\"inqueryTipContent\" \n        triggers=\"hover click\"\n        placement=\"right\"\n        bbAccessibilityKeyboard\n      ></bb-icon-ui>\n      <bb-icon-ui \n        class=\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--sm-bottom\"\n        role=\"tooltip\" \n        name=\"info\" \n        size=\"md\" \n        [bbTooltip]=\"inqueryTipContent\" \n        triggers=\"hover click\"\n        placement=\"top\"\n        bbAccessibilityKeyboard\n      ></bb-icon-ui>\n      <span class=\"sr-only\" i18n=\"Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.hidden.description\">\n        If you are suspicious about this transaction, you can ask the bank to gather more information about it.\n      </span>\n    </span> \n  </ng-container>\n</ng-template>\n\n<!-- Cancel Dispute or Inquiry -->\n<bb-modal-ui\n  [isOpen]=\"confirmationDialogActive\"\n  (cancel)=\"closeConfirmationDialog()\"\n>\n  <div class=\"modal-header\">\n    <h2\n      id=\"modal-basic-title\"\n      class=\"modal-title\"\n      data-role=\"discard-report-modal-header\" \n      i18n=\"Discard your report?|Discard report modal title@@transactions.dispute.inquiry.discard.report.modal.title\"\n    >\n      Discard your report?\n    </h2>\n  </div>\n\n  <div class=\"modal-body\">\n    <span \n      data-role=\"discard-report-modal-subHeader\" \n      i18n=\"All entered data will be lost.|Discard report info@@transactions.dispute.inquiry.discard.report.modal.info\">\n      All entered data will be lost.\n    </span>\n  </div>\n\n  <div class=\"modal-footer\">\n    <div class=\"bb-button-bar\">\n      <button \n        bbButton\n        color=\"danger\" \n        class=\"bb-button-bar__button\"\n        data-role=\"discard-report-modal-discard-button\"\n        (click)=\"closeReportForm()\" \n        i18n=\"Discard|Discard report button label@@transactions.dispute.inquiry.discard.report.modal.discard.button\"\n      >\n        Discard\n      </button>\n\n      <button\n        bbButton\n        color=\"secondary\"\n        class=\"bb-button-bar__button\"\n        data-role=\"discard-report-modal-cancel-button\"\n        (click)=\"closeConfirmationDialog()\"\n        i18n=\"Cancel|Cancel button label@@transactions.dispute.inquiry.discard.report.modal.cancel.button\"\n      >\n        Cancel\n      </button>\n    </div>\n  </div>\n</bb-modal-ui>","import { Component, Input } from '@angular/core';\nimport { DisputeStatus } from '@backbase/data-ang/transactions';\n\n@Component({\n  selector: 'bb-dispute-status-tag',\n  templateUrl: 'transaction-dispute-status-tag.component.html',\n})\nexport class TransactionsDisputeStatusTagComponent {\n  @Input() status: DisputeStatus | undefined;\n}\n","<ng-container *ngIf=\"status === 'PENDING'\">\n  <bb-badge-ui\n    text=\"Dispute Pending\"\n    i18n-text=\"Dispute pending|Text for pending disputed transaction label@@transaction.dispute.status.pending\"\n    color=\"warning\"\n    data-role=\"dispute-pending-tag\"\n  ></bb-badge-ui>\n</ng-container>\n\n<ng-container *ngIf=\"status === 'REFUNDED'\">\n  <bb-badge-ui\n    text=\"Refunded\"\n    i18n-text=\"Dispute refunded|Text for refunded disputed transaction label@@transaction.dispute.status.refunded\"\n    color=\"success\"\n    data-role=\"dispute-refunded-tag\"\n  ></bb-badge-ui>\n</ng-container>\n\n<ng-container *ngIf=\"status === 'REJECTED'\">\n  <bb-badge-ui\n    text=\"Dispute Rejected\"\n    i18n-text=\"Dispute rejected|Text for rejected disputed transaction label@@transaction.dispute.status.rejected\"\n    color=\"danger\"\n    data-role=\"dispute-rejected-tag\"\n  ></bb-badge-ui>\n</ng-container>","import { Component, Input } from '@angular/core';\nimport { Transaction } from '../../model/transaction.model';\nimport { DisputeStatusEnum } from '../../model/transactions-details.model';\n\n@Component({\n  selector: 'bb-dispute-banner',\n  templateUrl: 'transaction-dispute-banner.component.html',\n})\nexport class TransactionsDisputeBannerComponent {\n  @Input() transaction: Transaction | undefined;\n  readonly disputeStatus = DisputeStatusEnum;\n}\n","<ng-container>\n  <bb-alert-ui\n    *ngIf=\"transaction?.disputeStatus === disputeStatus.Pending\"\n    modifier=\"info\"\n    data-role=\"dispute-pending-banner\"\n    title=\"You’ve disputed this transaction\"\n    i18n-title=\"\n      Send dispute report success notification|Message for a notification displayed when sending transaction\n      dispute report request has succeed@@transactions.notification.success.send.dispute.title\"\n    message=\"Please go to Messages to view any responses to your request.\"\n    i18n-message=\"Send dispute report success notification message@@transactions.notification.success.send.dispute.message\"\n  ></bb-alert-ui>\n\n  <bb-alert-ui\n    *ngIf=\"transaction?.disputeStatus === disputeStatus.Refunded\"\n    modifier=\"success\"\n    data-role=\"dispute-refunded-banner\"\n    title=\"Your dispute was approved\"\n    i18n-title=\"\n      Dispute report refunded notification|Message for a notification displayed when transaction\n      dispute report request has refunded@@transactions.notification.dispute.refunded.title\"\n    message=\"Please go to Messages to view the process of your refund.\"\n    i18n-message=\"Dispute report reunded notification message@@transactions.notification.dispute.refunded.message\"\n  ></bb-alert-ui>\n\n  <bb-alert-ui\n    *ngIf=\"transaction?.disputeStatus === disputeStatus.Rejected\"\n    modifier=\"error\"\n    data-role=\"dispute-rejected-banner\"\n    title=\"Your dispute was rejected\"\n    i18n-title=\"\n      Dispute report rejected notification|Message for a notification displayed when transaction\n      dispute report request has rejected@@transactions.notification.dispute.rejected.title\"\n    message=\"Please go to Messages to view the reason for this rejection.\"\n    i18n-message=\"Dispute report rejected notification message@@transactions.notification.dispute.rejected.message\"\n  ></bb-alert-ui>\n</ng-container>","import { HttpErrorResponse } from '@angular/common/http';\n\n/**\n * This interface is used by the template to display what is wrong to the user.\n */\nexport interface TransactionsBackendError {\n  message: string;\n  key?: string;\n  context?: { [key: string]: string };\n}\n\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsBackendError {\n  const getMessageFromResponse = (error: HttpErrorResponse): string[] | undefined => {\n    const responseBody = error.error;\n    if (Array.isArray(responseBody?.errors)) {\n      return responseBody.errors.map((data: TransactionsBackendError) => {\n        const { context = {} } = data;\n        const message = data.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g, (match) => {\n          const result = context[match.replace(/[\\{\\}']+/g, '')];\n\n          return result !== undefined ? result : match;\n        });\n\n        return `Error ${error.status}: ${message}`;\n      });\n    } else {\n      return undefined;\n    }\n  };\n  /* eslint-enable no-redeclare*/\n  /**\n   * @name fromHttpErrorResponse\n   * @param errorResponse The error response\n   * @returns An object containing a user-friendly error message\n   *\n   * @description\n   * Parse an HttpErrorResponse and return a TransactionsError object that can be used to display a\n   * user-friendly error message.\n   */\n  export const fromHttpErrorResponse = (errorResponse: HttpErrorResponse): TransactionsBackendError => {\n    if (errorResponse.error instanceof ErrorEvent) {\n      // Client-side or network error.\n      return {\n        message: 'An unexpected error occurred',\n      };\n    } else {\n      const error = getMessageFromResponse(errorResponse) || [];\n\n      return {\n        message: error[0] || `Error ${errorResponse.status}`,\n      };\n    }\n  };\n\n  export const fromHttpErrorsResponse = (errorResponse: HttpErrorResponse): TransactionsBackendError[] => {\n    if (errorResponse.error instanceof ErrorEvent || !errorResponse.status) {\n      // Client-side or network error.\n      return [\n        {\n          message: 'An unexpected error occurred',\n        },\n      ];\n    } else {\n      const errors = getMessageFromResponse(errorResponse) || [`Error ${errorResponse.status}`];\n\n      return errors.map((message) => ({ message }));\n    }\n  };\n}\n","import { TransactionsAccountOptions } from './transactions-account-options.model';\nimport { TransactionsFilterOptions } from './transactions-filter-options.model';\nimport { TransactionsSearchOptions } from './transactions-search-options.model';\nimport { TransactionsSortOptions } from './transactions-sort-options.model';\n\nexport interface TransactionsExportOptions {\n  account: TransactionsAccountOptions;\n  search?: TransactionsSearchOptions;\n  filter?: TransactionsFilterOptions;\n  sort?: TransactionsSortOptions;\n  exportType: string;\n  locale: string;\n}\n\nexport interface TransactionsExportTypeElement {\n  name: string;\n  reason?: TransactionsExportErrorType;\n  isAvailable: boolean;\n}\n\nexport enum TransactionsExportErrorType {\n  MIXED_PRODUCT_KINDS = 'MIXED_PRODUCT_KINDS',\n  UNSUPPORTED_PRODUCT_KIND = 'UNSUPPORTED_PRODUCT_KIND',\n  TOO_MANY_ITEMS = 'TOO_MANY_ITEMS',\n  MULTIPLE_PRODUCTS = 'MULTIPLE_PRODUCTS',\n  UNKNOWN_ERROR = 'UNKNOWN_ERROR',\n}\n\nexport interface UnavailableExportTypeReasons {\n  [reason: string]: TransactionsExportErrorType[];\n}\n\nexport interface TransactionsExportConfig {\n  availableExportTypesHeader?: string;\n  unavailableExportTypesReasonsHeader?: UnavailableExportTypeReasons;\n}\n\nexport function combineExportTypesConfig(exportConfig: TransactionsExportConfig): TransactionsExportTypeElement[] {\n  let exportTypesArr = [];\n  const { availableExportTypesHeader = '', unavailableExportTypesReasonsHeader } = exportConfig;\n  const availableExportTypesArray = availableExportTypesHeader.split(',');\n  const availableTypes = availableExportTypesArray\n    .filter((name) => name !== '')\n    .map((name: string) => ({\n      name,\n      reason: undefined,\n      isAvailable: true,\n    }));\n\n  if (unavailableExportTypesReasonsHeader) {\n    const unavailableTypes = Object.keys(unavailableExportTypesReasonsHeader).map((name) => {\n      if (unavailableExportTypesReasonsHeader && Array.isArray(unavailableExportTypesReasonsHeader[name])) {\n        return {\n          name,\n          reason: unavailableExportTypesReasonsHeader[name][0],\n          isAvailable: false,\n        };\n      }\n\n      return {\n        name,\n        reason: TransactionsExportErrorType.UNKNOWN_ERROR,\n        isAvailable: false,\n      };\n    });\n\n    exportTypesArr = [...availableTypes, ...unavailableTypes];\n  } else {\n    exportTypesArr = [...availableTypes];\n  }\n\n  return [...exportTypesArr].sort((left, right) => {\n    if (left.name === right.name) {\n      return 0;\n    }\n\n    return left.name > right.name ? 1 : -1;\n  });\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport {\n  TransactionClientHttpService,\n  GetTransactionsWithPostRequestParams,\n  TransactionItem,\n} from '@backbase/data-ang/transactions';\nimport { AccountsService } from './accounts.service';\nimport { ReplaySubject, BehaviorSubject, combineLatest, Observable, of, merge, Subject, iif } from 'rxjs';\nimport {\n  TransactionsListOptions,\n  defaultInitialListOptions,\n  defaultPaginationOptions,\n  defaultSearchOptions,\n  defaultFilterOptions,\n  OnLoadAction,\n  TransactionState,\n} from '../model/transactions-list-options.model';\nimport { map, scan, filter, distinctUntilChanged, tap, catchError } from 'rxjs/operators';\nimport { TransactionsList } from '../model/transactions-list.model';\nimport { TransactionsSearchOptions } from '../model/transactions-search-options.model';\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { TransactionsSortOptions } from '../model/transactions-sort-options.model';\nimport { Account } from '../model/account.model';\nimport {\n  deepEqual,\n  cacheRequest,\n  multipleAccountsPredicate,\n  onLoadTransactions,\n} from '../model/transactions-list-utils.model';\nimport { LoadingState } from './transactions.service';\nimport { EndpointType } from './widget-properties.service';\nimport { HttpResponse } from '@angular/common/http';\nimport { DeprecationsService } from '@backbase/foundation-ang/core';\n\n@Injectable()\nexport class PendingTransactionsService implements OnDestroy {\n  private readonly initialListOptions = new ReplaySubject<Partial<TransactionsListOptions>>(1);\n  private readonly selectedAccount = new ReplaySubject<string[]>(1);\n  private readonly options = new BehaviorSubject<Partial<TransactionsListOptions>>({});\n  private readonly listOptions = new BehaviorSubject<TransactionsListOptions>(defaultInitialListOptions);\n  private readonly listRefresh = new Subject<TransactionsListOptions>();\n  private readonly getOrPostEndpoint = new BehaviorSubject<EndpointType>(EndpointType.GET_REQUEST);\n  private readonly transactionsList: Observable<TransactionsList> = merge(\n    this.listOptions.pipe(\n      filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'),\n      distinctUntilChanged(deepEqual),\n    ),\n    this.listRefresh,\n  ).pipe(\n    cacheRequest((listOptions) => {\n      this.loadingState.next(\n        listOptions.onLoad === OnLoadAction.Append\n          ? LoadingState.LoadingMore\n          : listOptions.onLoad === OnLoadAction.ReplacePage\n          ? LoadingState.LoadingPage\n          : LoadingState.Loading,\n      );\n\n      return combineLatest([\n        this.loadTransactions(listOptions).pipe(\n          tap(() => {\n            this.loadingState.next(LoadingState.Loaded);\n          }),\n          map((transactionsList) => ({ transactionsList, onLoad: OnLoadAction.ReplacePage })),\n        ),\n        iif(\n          multipleAccountsPredicate(listOptions),\n          this.accountService.getAllArrangements().pipe(\n            map((accounts) => {\n              const accountMap = new Map<string, Account>();\n              accounts.forEach((account) => {\n                accountMap.set(account.id, account);\n              });\n\n              return accountMap;\n            }),\n          ),\n          of(new Map()),\n        ),\n      ]).pipe(\n        map(([transactions, accountMap]) => {\n          transactions.transactionsList.items = transactions.transactionsList.items.map((transaction) => ({\n            ...transaction,\n            account: accountMap.get(transaction.arrangementId || ''),\n          }));\n\n          return transactions;\n        }),\n      );\n    }),\n    scan(onLoadTransactions, { items: [], totalCount: 0 }),\n  );\n\n  public readonly loadingState = new BehaviorSubject<LoadingState>(LoadingState.NotLoaded);\n\n  public readonly isFilterApplied = this.listOptions.pipe(\n    map((options) => !TransactionsFilterOptions.isEmpty(options.filter || {})),\n  );\n\n  public readonly isSearchApplied = this.listOptions.pipe(\n    map((options) => !TransactionsFilterOptions.isEmpty(options.search || {})),\n  );\n\n  private loadTransactions(listOptions: TransactionsListOptions): Observable<TransactionsList> {\n    const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n    let transactionsResponse: Observable<HttpResponse<Array<TransactionItem>>> | undefined;\n\n    if (this.isUsingPostEndpoints) {\n      transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost(\n        { transactionListRequest: transactionPayload } as GetTransactionsWithPostRequestParams,\n        'response',\n      );\n    } else {\n      this.deprecationsService.logDeprecatedFeature(\n        '[PendingTransactionsService: loadTransactions] GET endpoints are deprecated. Please use POST endpoints by changing CXP configuration',\n      );\n      transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n    }\n\n    return transactionsResponse.pipe(\n      map(TransactionsList.fromHttpResponse),\n      catchError((err) =>\n        of({\n          items: [],\n          totalCount: 0,\n          httpResponseError: err,\n        }),\n      ),\n    );\n  }\n\n  getTransactionsFrom(\n    selectedAccount: Observable<string[]>,\n    initialListOptions: Observable<Partial<TransactionsListOptions>> = of({}),\n    getOrPostEndpoint: Observable<EndpointType> = of(EndpointType.GET_REQUEST),\n  ) {\n    selectedAccount.subscribe(this.selectedAccount);\n    initialListOptions.subscribe(this.initialListOptions);\n    getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n  }\n\n  getTransactionsList() {\n    return this.transactionsList;\n  }\n\n  search(query: string) {\n    const searchOptions: TransactionsSearchOptions = {\n      query,\n    };\n\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultSearchOptions,\n      pagination: paginationOptions,\n      search: searchOptions,\n    });\n  }\n\n  clearSearch() {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultSearchOptions,\n      pagination: paginationOptions,\n    });\n  }\n\n  filter(filterOptions: TransactionsFilterOptions) {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultFilterOptions,\n      pagination: paginationOptions,\n      filter: { ...filterOptions },\n    });\n  }\n\n  clearFilter() {\n    const paginationOptions = {\n      ...(this.options.getValue().pagination || defaultPaginationOptions.pagination),\n      from: 0, // reset to 0\n    };\n\n    this.options.next({\n      ...this.options.getValue(),\n      ...defaultFilterOptions,\n      pagination: paginationOptions,\n    });\n  }\n\n  sort(sortOptions: TransactionsSortOptions) {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    this.options.next({\n      sort: { ...sortOptions },\n      pagination: {\n        ...currentPaginationOptions,\n        from: 0,\n      },\n    });\n  }\n\n  retryFiltering() {\n    this.listRefresh.next(this.listOptions.getValue());\n  }\n\n  refreshTransactions() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = {\n      ...currentPaginationOptions,\n      from: 0,\n    };\n\n    const newOptions = {\n      ...this.listOptions.getValue(),\n      pagination: paginationOptions,\n    };\n\n    if (deepEqual(newOptions, this.listOptions.getValue())) {\n      this.listRefresh.next(this.listOptions.getValue());\n    } else {\n      this.options.next({\n        pagination: paginationOptions,\n      });\n    }\n  }\n\n  private get isUsingPostEndpoints() {\n    return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n  }\n\n  ngOnDestroy() {\n    this.listRefresh.complete();\n    this.selectedAccount.complete();\n    this.initialListOptions.complete();\n    this.options.complete();\n    this.listOptions.complete();\n    this.loadingState.complete();\n    this.getOrPostEndpoint.complete();\n  }\n\n  constructor(\n    private readonly transactionsDataHttpService: TransactionClientHttpService,\n    private readonly accountService: AccountsService,\n    private readonly deprecationsService: DeprecationsService,\n  ) {\n    combineLatest([this.selectedAccount, this.initialListOptions])\n      .pipe(\n        map(([selectedAccount, initialListOptions]) => ({\n          account: {\n            arrangementId: selectedAccount,\n          },\n          pagination: {\n            from: 0,\n            size: 250,\n          },\n          state: TransactionState.uncompleted,\n          ...initialListOptions,\n        })),\n      )\n      .subscribe(this.options);\n\n    // Base this.listOptions on this.options\n    this.options\n      .pipe(scan((acc: any, curr) => Object.assign({}, acc, curr), defaultInitialListOptions))\n      .subscribe(this.listOptions);\n  }\n}\n","export enum GoogleMapsScriptProtocol {\n  HTTP = 1,\n  HTTPS = 2,\n  AUTO = 3,\n}\n\n/**\n * Configuration for the {@link MapAPILoaderService}.\n */\nexport interface MapsAPIConfig {\n  /**\n   * The Google Maps API Key (see:\n   * https://developers.google.com/maps/documentation/javascript/get-api-key)\n   */\n  apiKey?: string;\n\n  /**\n   * The Google Maps client ID (for premium plans).\n   * When you have a Google Maps APIs Premium Plan license, you must authenticate\n   * your application with either an API key or a client ID.\n   * The Google Maps API will fail to load if both a client ID and an API key are included.\n   */\n  clientId?: string;\n\n  /**\n   * The Google Maps channel name (for premium plans).\n   * A channel parameter is an optional parameter that allows you to track usage under your client\n   * ID by assigning a distinct channel to each of your applications.\n   */\n  channel?: string;\n\n  /**\n   * Google Maps API version.\n   */\n  apiVersion?: string;\n\n  /**\n   * Host and Path used for the `<script>` tag.\n   */\n  hostAndPath?: string;\n\n  /**\n   * Protocol used for the `<script>` tag.\n   */\n  protocol?: GoogleMapsScriptProtocol;\n\n  /**\n   * Defines which Google Maps libraries should get loaded.\n   */\n  libraries?: string[];\n\n  /**\n   * The default bias for the map behavior is US.\n   * If you wish to alter your application to serve different map tiles or bias the\n   * application, you can overwrite the default behavior (US) by defining a `region`.\n   * See https://developers.google.com/maps/documentation/javascript/basics#Region\n   */\n  region?: string;\n\n  /**\n   * The Google Maps API uses the browser's preferred language when displaying\n   * textual information. If you wish to overwrite this behavior and force the API\n   * to use a given language, you can use this setting.\n   * See https://developers.google.com/maps/documentation/javascript/basics#Language\n   */\n  language?: string;\n}\n\nexport interface MarkerOptions extends google.maps.MarkerOptions {\n  locationId: string;\n}\n\nexport interface Marker extends google.maps.Marker {\n  locationId: string;\n}\n","import { Injectable } from '@angular/core';\nimport { MapsAPIConfig, GoogleMapsScriptProtocol } from '../model/transactions-map.model';\n\n@Injectable()\nexport class MapAPILoaderService {\n  private readonly scriptID: string = 'bbGoogleMapsApiScript';\n  private readonly callbackName: string = 'bbMapsAPILoader';\n  private readonly apiLoadPromiseName: string = 'bbMapsAPILoaderPromise';\n  private readonly windowRef: Window = window;\n  private readonly documentRef: Document = document;\n  private configValue: MapsAPIConfig = {};\n\n  get config() {\n    return this.configValue;\n  }\n\n  set config(config: MapsAPIConfig) {\n    this.configValue = config;\n  }\n\n  get loadAPIPromise() {\n    return (this.windowRef as any)[this.apiLoadPromiseName];\n  }\n\n  private assignScriptLoadingPromise(scriptElem: HTMLElement) {\n    (this.windowRef as any)[this.apiLoadPromiseName] = new Promise<void>((resolve: Function, reject: Function) => {\n      (this.windowRef as any)[this.callbackName] = () => {\n        resolve();\n      };\n\n      scriptElem.onerror = (error: Event | string) => {\n        reject(error);\n      };\n    });\n  }\n\n  private getScriptSrc(callbackName: string): string {\n    const protocolType: GoogleMapsScriptProtocol =\n      (this.configValue && this.configValue.protocol) || GoogleMapsScriptProtocol.HTTPS;\n    let protocol = '';\n\n    switch (protocolType) {\n      case GoogleMapsScriptProtocol.HTTP:\n        protocol = 'http:';\n        break;\n      case GoogleMapsScriptProtocol.HTTPS:\n        protocol = 'https:';\n        break;\n    }\n\n    const hostAndPath: string = this.configValue.hostAndPath || 'maps.googleapis.com/maps/api/js';\n    // make sure we have places library for search component\n    const libraries: string[] = this.configValue.libraries || [];\n    if (libraries.indexOf('places') === -1) {\n      this.configValue.libraries = [...libraries, 'places'];\n    }\n\n    const queryParams: { [key: string]: string | string[] | undefined } = {\n      v: this.configValue.apiVersion || 'quarterly',\n      callback: callbackName,\n      key: this.configValue.apiKey,\n      client: this.configValue.clientId,\n      channel: this.configValue.channel,\n      libraries: this.configValue.libraries,\n      region: this.configValue.region,\n      language: this.configValue.language,\n    };\n    const params: string = Object.keys(queryParams)\n      .filter((key: string) => queryParams[key] !== undefined)\n      .filter(\n        (key: string) =>\n          // remove empty arrays\n          !Array.isArray(queryParams[key]) ||\n          (Array.isArray(queryParams[key]) && (queryParams[key] as string[]).length > 0),\n      )\n      .map((key: string) => {\n        let value = queryParams[key] as string | string[];\n        if (Array.isArray(value)) {\n          // join arrays as comma seperated strings\n          value = value.join(',');\n        }\n\n        return `${key}=${value}`;\n      })\n      .join('&');\n\n    return `${protocol}//${hostAndPath}?${params}`;\n  }\n\n  load(): Promise<void> {\n    const window = this.windowRef as any;\n    if (window.google && window.google.maps) {\n      // Google maps already loaded on the page.\n      return Promise.resolve();\n    }\n\n    if (this.loadAPIPromise) {\n      return this.loadAPIPromise;\n    }\n\n    const script = this.documentRef.createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.defer = true;\n    script.id = this.scriptID;\n    script.src = this.getScriptSrc(this.callbackName);\n\n    this.assignScriptLoadingPromise(script);\n    this.documentRef.body.appendChild(script);\n\n    return this.loadAPIPromise;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { BatchOrder } from '../model/batch-order.model';\nimport { BatchOrdersHttpService } from '@backbase/data-ang/payment-batch';\n\n@Injectable()\nexport class PaymentsBatchService {\n  getBatch(batchOrderId: string): Observable<BatchOrder> {\n    return this.batchOrdersHttpService.getBatchOrdersById({ batchOrderId });\n  }\n\n  constructor(private readonly batchOrdersHttpService: BatchOrdersHttpService) {}\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { TransactionClientHttpService } from '@backbase/data-ang/transactions';\nimport { Subject, Observable, of, ReplaySubject, combineLatest, from } from 'rxjs';\nimport { TransactionCheckImageResponse, TransactionsCheckImages } from '../model/transactions-check-images.model';\nimport { switchMap, map, tap, scan, catchError, filter, mergeMap } from 'rxjs/operators';\nimport { TransactionsDetailsLoadingState, TransactionsDetailsLoading } from '../model/transactions-details.model';\nimport { HttpResponse } from '@angular/common/http';\nimport { Transaction } from '../model/transaction.model';\nimport { CheckImagesAvailability, daysDiff } from '../constants';\nimport { MapAPILoaderService } from './map-api-loader.service';\nimport { MessagesDisputeAndInquiryConfig } from '../model/messages.model';\nimport { PaymentsBatchService } from './payments-batch.service';\nimport { BatchOrder } from '../model/batch-order.model';\n\nclass ConfigManager {\n  constructor(private config: MessagesDisputeAndInquiryConfig) {}\n\n  isDisputable(transaction: Transaction) {\n    return (\n      this.isBillingStatusApproved(transaction) && !this.isOld(transaction) && this.isOfRestrictedType(transaction)\n    );\n  }\n\n  private isBillingStatusApproved(transaction: Transaction) {\n    if (!this.config?.byBillingStatus) {\n      return true;\n    }\n\n    return !transaction?.isPending;\n  }\n\n  private isOld(transaction: Transaction) {\n    if (!transaction?.bookingDate) {\n      return false;\n    }\n    const days = daysDiff(new Date(), transaction.bookingDate);\n    const byEligitibilityDays = this.config?.byEligitibilityDays || 0;\n\n    return days > byEligitibilityDays;\n  }\n\n  private isOfRestrictedType(transaction: Transaction) {\n    return transaction?.type ? (this.config?.byTransactionTypes || []).includes(transaction.type) : false;\n  }\n}\n\n@Injectable()\nexport class TransactionDetailsService implements OnDestroy {\n  /**\n   * watches the transaction that is shown in the details\n   */\n  private readonly transactionSelection = new Subject<Transaction>();\n  /**\n   * watches the configuration from CXP that can disable/enable check images\n   */\n  private readonly hasCheckImages = new ReplaySubject<boolean>();\n  /**\n   * general status of each feature that runs asynchronously\n   */\n  private readonly transactionsDetailsStatus = new ReplaySubject<TransactionsDetailsLoading>();\n\n  private readonly mapsApiKey = new ReplaySubject<string>();\n\n  set enableDisputeAndInquiry(value: boolean) {\n    this.transactionsDetailsStatus.next({\n      enableDisputeAndInquiry: value ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notLoaded,\n    });\n  }\n\n  fromInquiryAndDispute(\n    enableDisputeAndInquiry: Observable<boolean>,\n    disputeByBillingStatus: Observable<boolean>,\n    disputeEligibilityDays: Observable<number>,\n    disputeTransactionTypes: Observable<Array<string>>,\n  ) {\n    const config = combineLatest([\n      enableDisputeAndInquiry,\n      disputeByBillingStatus,\n      disputeEligibilityDays,\n      disputeTransactionTypes,\n    ]).pipe(\n      map(([enabled, byBillingStatus, byEligitibilityDays, byTransactionTypes]) =>\n        enabled ? { byBillingStatus, byEligitibilityDays, byTransactionTypes } : undefined,\n      ),\n    );\n\n    combineLatest([this.transactionSelection, config]).subscribe({\n      next: ([transactionSelection, inquiryAndDispute]) => {\n        if (!inquiryAndDispute) {\n          this.transactionsDetailsStatus.next({\n            enableDisputeAndInquiry: TransactionsDetailsLoadingState.notLoaded,\n            disputeOption: TransactionsDetailsLoadingState.notLoaded,\n          });\n        } else {\n          const configuration = new ConfigManager(inquiryAndDispute);\n\n          this.transactionsDetailsStatus.next({\n            enableDisputeAndInquiry: TransactionsDetailsLoadingState.done,\n            disputeOption: configuration.isDisputable(transactionSelection)\n              ? TransactionsDetailsLoadingState.done\n              : TransactionsDetailsLoadingState.notLoaded,\n          });\n        }\n      },\n    });\n  }\n  /**\n   *\n   * @param transactionId\n   * triggers a new action that will cause transcations details reload and change an image\n   */\n  selectTransaction(transaction: Transaction) {\n    this.transactionSelection.next(transaction);\n  }\n\n  /**\n   * Key-value pair that controls the loading status in transactions details\n   */\n  get loadingState(): Observable<TransactionsDetailsLoading> {\n    return this.transactionsDetailsStatus.pipe(scan((acc, curr) => ({ ...acc, ...curr }), {}));\n  }\n\n  /**\n   *\n   * @param hasCheckImages\n   * Configuration for check images reactive functionality\n   */\n  fromCheckImages(hasCheckImages: Observable<boolean>): Observable<TransactionCheckImageResponse> {\n    hasCheckImages.subscribe(this.hasCheckImages);\n\n    hasCheckImages\n      .pipe(\n        map((value) => ({\n          checkImages: value ? TransactionsDetailsLoadingState.loading : TransactionsDetailsLoadingState.notLoaded,\n        })),\n      )\n      .subscribe({\n        next: (value) => {\n          this.transactionsDetailsStatus.next(value);\n        },\n      });\n\n    return this.setCondition(this.transactionSelection, this.hasCheckImages).pipe(\n      tap(() => {\n        this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.loading });\n      }),\n      filter((transaction) => transaction.checkImageAvailability === CheckImagesAvailability.available),\n      switchMap(({ id: transactionId = '' }) =>\n        this.transactionsDataHttpService.getTransactionCheckImages({ transactionId }, 'response').pipe(\n          tap(() => {\n            this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.done });\n          }),\n          catchError((error) => {\n            switch (error.status) {\n              case 500: {\n                this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.serverError });\n                break;\n              }\n              case 400: {\n                this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.badRequestError });\n                break;\n              }\n              case 404: {\n                this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.notFoundError });\n                break;\n              }\n              default: {\n                this.transactionsDetailsStatus.next({ checkImages: TransactionsDetailsLoadingState.error });\n              }\n            }\n\n            return of(\n              new HttpResponse({\n                body: {\n                  images: [],\n                },\n              }),\n            );\n          }),\n          map(TransactionsCheckImages.fromHttpResponse),\n        ),\n      ),\n    );\n  }\n\n  fromGeolocation(mapsApiKey: Observable<string>): Observable<boolean> {\n    mapsApiKey.subscribe(this.mapsApiKey);\n\n    return combineLatest([this.transactionSelection, this.mapsApiKey]).pipe(\n      map(([transaction, apiKey]) => {\n        this.mapApiLoader.config = {\n          apiKey,\n          libraries: ['geometry'],\n        };\n\n        this.transactionsDetailsStatus.next({ geolocation: TransactionsDetailsLoadingState.loading });\n\n        if (!apiKey || !transaction.location || !transaction.location.latitude || !transaction.location.longitude) {\n          this.transactionsDetailsStatus.next({ geolocation: TransactionsDetailsLoadingState.notLoaded });\n\n          return Promise.resolve(false);\n        }\n\n        return this.mapApiLoader.load().then(\n          () => {\n            this.transactionsDetailsStatus.next({ geolocation: TransactionsDetailsLoadingState.done });\n\n            return true;\n          },\n          () => {\n            this.transactionsDetailsStatus.next({ geolocation: TransactionsDetailsLoadingState.error });\n\n            return false;\n          },\n        );\n      }),\n      mergeMap((promise) => from(promise)),\n    );\n  }\n\n  batchOrder: Observable<BatchOrder | undefined> = this.transactionSelection.pipe(\n    tap(() => {\n      this.transactionsDetailsStatus.next({\n        batchOrder: TransactionsDetailsLoadingState.loading,\n      });\n    }),\n    mergeMap((transaction) => {\n      if (!transaction.batchOrderId) {\n        return of(undefined);\n      }\n\n      return this.paymentsBatchService.getBatch(transaction.batchOrderId).pipe(\n        catchError(() => {\n          this.transactionsDetailsStatus.next({\n            batchOrder: TransactionsDetailsLoadingState.error,\n          });\n\n          return of(undefined);\n        }),\n      );\n    }),\n    map((data) => {\n      this.transactionsDetailsStatus.next({\n        batchOrder: data ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notStarted,\n      });\n\n      return data;\n    }),\n  );\n\n  /**\n   * destroy lifecycle hook that will release resources\n   */\n  ngOnDestroy() {\n    this.transactionSelection.complete();\n    this.transactionsDetailsStatus.complete();\n    this.mapsApiKey.complete();\n  }\n\n  /**\n   *\n   * @param feature\n   * @param toggle\n   *\n   * Prevents from emiting values if the cxp configuration is set as disabled\n   */\n  private setCondition<T>(feature: Observable<T>, toggle: ReplaySubject<boolean>): Observable<T> {\n    return combineLatest([feature, toggle]).pipe(\n      filter(([, condition]) => condition),\n      map(([value]) => value),\n    );\n  }\n\n  constructor(\n    private readonly transactionsDataHttpService: TransactionClientHttpService,\n    private readonly mapApiLoader: MapAPILoaderService,\n    private readonly paymentsBatchService: PaymentsBatchService,\n  ) {\n    this.transactionsDetailsStatus.next({\n      checkImages: TransactionsDetailsLoadingState.notStarted,\n      geolocation: TransactionsDetailsLoadingState.notStarted,\n      enableDisputeAndInquiry: TransactionsDetailsLoadingState.notStarted,\n      disputeOption: TransactionsDetailsLoadingState.notStarted,\n      batchOrder: TransactionsDetailsLoadingState.notStarted,\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AvailableFilters, AvailableFiltersConfig, ProductKind } from '../model/available-filters.model';\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { defaultAvailableFiltersConfig } from '../constants';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { AccountsService } from './accounts.service';\n\n@Injectable()\nexport class AvailableFiltersConfigService {\n  availableFilters$: Observable<AvailableFilters>;\n\n  private productSummary$: Observable<ProductSummaryItem[]>;\n  private readonly availableFiltersConfig$: ReplaySubject<AvailableFiltersConfig> =\n    new ReplaySubject<AvailableFiltersConfig>(1);\n  private readonly selectedAccounts$: ReplaySubject<string[]> = new ReplaySubject<string[]>(1);\n\n  constructor(private readonly accountsService: AccountsService) {\n    this.productSummary$ = this.getProductSummaryForSelectedAccounts();\n    this.availableFilters$ = this.getAvailableFilters();\n  }\n\n  setFilterConfigurationAndAccount(\n    availableFiltersConfig: Observable<AvailableFiltersConfig>,\n    selectedAccounts: Observable<string[]>,\n  ): void {\n    availableFiltersConfig.subscribe(this.availableFiltersConfig$);\n    selectedAccounts.subscribe(this.selectedAccounts$);\n  }\n\n  private getProductSummaryForSelectedAccounts(): Observable<ProductSummaryItem[]> {\n    return combineLatest([this.accountsService.getProductSummary(), this.selectedAccounts$]).pipe(\n      map(([productSummaryItems, selectedAccounts]) =>\n        productSummaryItems.filter((productSummaryItem: ProductSummaryItem) =>\n          selectedAccounts?.includes(productSummaryItem.id),\n        ),\n      ),\n    );\n  }\n\n  private getAvailableFilters(): Observable<AvailableFilters> {\n    return combineLatest([this.availableFiltersConfig$, this.productSummary$]).pipe(\n      map(([availableFiltersConfig, productSummaryItems]) => {\n        const availableFilters: AvailableFilters = productSummaryItems.reduce(\n          (filters: AvailableFilters, productSummaryItem: ProductSummaryItem): AvailableFilters =>\n            filters.concat(this.getFiltersFromConfigs(productSummaryItem, availableFiltersConfig)),\n          [],\n        );\n\n        return Array.from(new Set(availableFilters));\n      }),\n    );\n  }\n\n  private getFiltersFromConfigs(\n    productSummaryItem: ProductSummaryItem,\n    availableFiltersConfig: AvailableFiltersConfig,\n  ): AvailableFilters {\n    const availableFilters: AvailableFilters | undefined =\n      this.getFiltersFromConfigObject(availableFiltersConfig, productSummaryItem) ??\n      this.getFiltersFromConfigObject(defaultAvailableFiltersConfig, productSummaryItem);\n\n    return availableFilters ?? (defaultAvailableFiltersConfig.defaultFilters as AvailableFilters);\n  }\n\n  private getFiltersFromConfigObject(\n    config: AvailableFiltersConfig,\n    productSummaryItem: ProductSummaryItem,\n  ): AvailableFilters | undefined {\n    if (productSummaryItem.productKindName !== undefined) {\n      const productKind: ProductKind | undefined = config[productSummaryItem.productKindName];\n\n      if (productKind === undefined) return undefined;\n\n      if (Array.isArray(productKind)) return productKind;\n\n      if (productSummaryItem.productTypeName === undefined) return undefined;\n\n      return productKind[productSummaryItem.productTypeName];\n    }\n\n    return undefined;\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { BehaviorSubject, combineLatest, iif, merge, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport { TransactionsBackendError } from '../model/transactions-backend-error.model';\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { TransactionsList } from '../model/transactions-list.model';\nimport { LoadingState, TransactionsService } from '../services/transactions.service';\nimport { EndpointType, PaginationType, WidgetPropertiesService } from '../services/widget-properties.service';\nimport { TransactionsListOptions } from '../model/transactions-list-options.model';\nimport { map, mergeMap, publishReplay, refCount, scan, takeUntil, tap } from 'rxjs/operators';\nimport { Pubsub } from '@backbase/foundation-ang/web-sdk';\nimport { TransactionsSortOptions } from '../model/transactions-sort-options.model';\n\nimport { filterInputParameters, notificationTtl } from '../constants';\nimport {\n  combineExportTypesConfig,\n  TransactionsExportConfig,\n  TransactionsExportTypeElement,\n} from '../model/transactions-export-options.model';\nimport { PendingTransactionsService } from '../services/pending-transactions.service';\nimport { TransactionCheckImageResponse } from '../model/transactions-check-images.model';\nimport { Transaction } from '../model/transaction.model';\nimport { TransactionDetailsService } from '../services/transaction-details.service';\nimport { TransactionsDetailsLoading } from '../model/transactions-details.model';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { getNameFromContentDispositionHeader } from '../model/transactions-list-utils.model';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { InquireAndDisputeTopics } from '../model/messages.model';\nimport { AvailableFilters, AvailableFiltersConfig } from '../model/available-filters.model';\nimport { AvailableFiltersConfigService } from '../services/available-filters-config.service';\nimport { NotificationService } from '@backbase/ui-ang/notification';\n\n@Directive()\n// eslint-disable-next-line\nexport class BaseTransactionsContainer implements OnInit, OnDestroy {\n  // eslint-disable-next-line\n  @ViewChild('notificationErrorUpdateHeader') notificationErrorUpdateHeaderTemplate: TemplateRef<string> | undefined;\n  // eslint-disable-next-line\n  @ViewChild('notificationErrorUpdateMessage') notificationErrorUpdateMessageTemplate: TemplateRef<string> | undefined;\n  // eslint-disable-next-line\n  @ViewChild('notificationServerErrorHeader', { static: false })\n  notificationServerErrorHeader: TemplateRef<string> | undefined;\n  // eslint-disable-next-line\n  @ViewChild('notificationServerErrorMessage', { static: false })\n  notificationServerErrorMessage: TemplateRef<string> | undefined;\n  /**\n   * Reference to instance of customizable component.\n   */\n  readonly hostRef = this;\n  private readonly apiKeySubject = new BehaviorSubject<string | undefined>(undefined);\n  /**\n   * API key needed for the google maps to work.\n   */\n  // eslint-disable-next-line\n  @Input()\n  set googleAPIKey(key: string | undefined) {\n    this.apiKeySubject.next(key);\n  }\n  /**\n   * Observable of the arrangement ID this component should retrieve the transactions for.\n   */\n  @Input() selectedAccount: Observable<Array<string>> | undefined;\n  /**\n   * Observable of options to initialize the filter with.  By default, it is empty.\n   */\n  @Input() initialFilterOptions: Observable<TransactionsFilterOptions> = of({});\n  /**\n   * Observable of options to initialize the sort options with.  By default, it is empty.\n   */\n  @Input() initialSortOptions: Observable<TransactionsSortOptions | undefined> = of(undefined);\n\n  /**\n   * input parameters that will take the place of model properties--\n   */\n\n  @Input('pageSize') set pageSizeValue(value: number) {\n    this.pageSizeSubject.next(value);\n  }\n  @Input('maxNavPages') set maxNavPagesValue(value: number) {\n    this.maxNavPagesSubject.next(value);\n  }\n  @Input('paginationType') set paginationTypeValue(value: string) {\n    this.paginationTypeSubject.next(value as PaginationType);\n  }\n  @Input('showControls') set showControlsValue(value: boolean) {\n    this.showControlsSubject.next(value);\n  }\n  @Input('showChangeCategory') set showChangeCategoryValue(value: boolean) {\n    this.showChangeCategorySubject.next(value);\n  }\n  @Input('showPendingTransactionsOnTop') set showPendingTransactionsOnTopValue(value: boolean) {\n    this.showPendingTransactionsOnTopSubject.next(value);\n  }\n  @Input('showCheckImage') set showCheckImageValue(value: boolean) {\n    this.showCheckImageSubject.next(value);\n  }\n  @Input('showManageNotes') set showManageNotesValue(value: boolean) {\n    this.showManageNotesSubject.next(value);\n  }\n  @Input('getOrPostEndpoints') set getOrPostEndpointsValue(value: EndpointType) {\n    this.getOrPostEndpointsSubject.next(value);\n  }\n  @Input('disputeByBillingStatus') set disputeByBillingStatusValue(value: string | boolean) {\n    this.disputeByBillingStatusSubject.next(typeof value === 'boolean' ? value : value === 'true');\n  }\n  @Input('disputeEligibilityDays') set disputeEligibilityDaysValue(value: number) {\n    this.disputeEligibilityDaysSubject.next(value);\n  }\n  @Input('disputeTransactionTypes') set disputeTransactionTypesValue(value: string | undefined) {\n    this.disputeTransactionTypesSubject.next((value || '').split(','));\n  }\n\n  @Input('enableDisputeAndInquiry') set enableDisputeAndInquiryValue(value: string | boolean) {\n    this.enableDisputeAndInquirySubject.next(typeof value === 'boolean' ? value : value === 'true');\n  }\n  @Input('availableFiltersConfig') set availableFiltersValue(availableFiltersConfig: AvailableFiltersConfig) {\n    this.availableFiltersConfig.next(availableFiltersConfig);\n  }\n\n  @Input('inquireTopicId') inquireTopicIdValue: string | undefined;\n  @Input('disputeTopicId') disputeTopicIdValue: string | undefined;\n\n  @Output() transactionSelected = new EventEmitter<any>();\n  @Output() transactionsLoaded = new EventEmitter<TransactionsList | null>();\n\n  private pageSizeSubject = new BehaviorSubject<number | undefined>(undefined);\n  private maxNavPagesSubject = new BehaviorSubject<number | undefined>(undefined);\n  private paginationTypeSubject = new BehaviorSubject<PaginationType | undefined>(undefined);\n  private showControlsSubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private showChangeCategorySubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private showPendingTransactionsOnTopSubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private showCheckImageSubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private showManageNotesSubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private getOrPostEndpointsSubject = new BehaviorSubject<EndpointType | undefined>(undefined);\n  private disputeByBillingStatusSubject = new BehaviorSubject<boolean | undefined>(undefined);\n  private disputeEligibilityDaysSubject = new BehaviorSubject<number | undefined>(undefined);\n  private disputeTransactionTypesSubject = new BehaviorSubject<Array<string> | undefined>(undefined);\n  private enableDisputeAndInquirySubject = new BehaviorSubject<boolean>(false);\n  private inquireTopicIdSubject = new BehaviorSubject<string>('');\n  private disputeTopicIdSubject = new BehaviorSubject<string>('');\n  /** end input parameters--- */\n\n  /**\n   * Information about the backend error, if it occurs.\n   */\n  /**\n   * @deprecated will be removed in 11.0.0\n   */\n  get error(): TransactionsBackendError | undefined {\n    return this.errors && this.errors[0];\n  }\n\n  errors: TransactionsBackendError[] | undefined;\n  /**\n   * Observable of the transactions list.\n   */\n  transactionsList: Observable<TransactionsList | null> | undefined;\n  /**\n   * Observable of the transactions list.\n   */\n  pendingTransactionsList: Observable<TransactionsList | null> | undefined;\n  /**\n   * Observable of the current page.\n   */\n  currentPage: Observable<number> | undefined;\n  /**\n   * Observable of the loading state of the service.\n   */\n  loadingState: Observable<LoadingState> | undefined;\n  /**\n   * Observable of the loading state of the pending transactions service.\n   */\n  loadingPendingState: Observable<LoadingState> | undefined;\n  loadingDetails: Observable<TransactionsDetailsLoading> | undefined;\n  /**\n   * Events registered to transactions widgets\n   */\n  private registeredRefreshTransactionsListEvents: string[] = [];\n  private unsubscribeSubject = new Subject<void>();\n  /**\n   * Subject that listens the transactionsList observable and provides the export types\n   */\n  exportConfig = new BehaviorSubject<TransactionsExportConfig>({});\n  exportErrorMessagesRef: { [key: string]: TemplateRef<string> | undefined } = {};\n  storedExportType: TransactionsExportTypeElement | undefined;\n  numberOfResultsFound = new ReplaySubject<number>();\n  numberOfResultsDisplayed = new ReplaySubject<number>();\n  checkImagesList: Observable<TransactionCheckImageResponse> | undefined;\n  transactionDetailsLoadingStatus: Observable<TransactionsDetailsLoading> | undefined;\n  availableFiltersConfig: ReplaySubject<AvailableFiltersConfig> = new ReplaySubject<AvailableFiltersConfig>(1);\n  availableFilters: Observable<AvailableFilters> = this.availableFiltersConfigService.availableFilters$;\n\n  private readonly refreshTransactionsListHandler = () => {\n    this.model.refreshTransactions();\n  };\n\n  private clearRefreshTransactionsListEvents() {\n    this.registeredRefreshTransactionsListEvents.forEach((eventName) => {\n      this.eventBusService.unsubscribe(eventName, this.refreshTransactionsListHandler);\n    });\n\n    this.registeredRefreshTransactionsListEvents = [];\n  }\n\n  retry() {\n    this.model.retryFiltering();\n    this.pendingTransactionsService.retryFiltering();\n  }\n\n  ngOnDestroy() {\n    this.clearRefreshTransactionsListEvents();\n    this.unsubscribeSubject.next();\n    this.unsubscribeSubject.complete();\n  }\n\n  /**\n   * @deprecated will be removed in 11.0.0\n   */\n  handleError = (errorResponse: HttpErrorResponse) => {\n    this.errors = TransactionsBackendError.fromHttpErrorsResponse(errorResponse);\n\n    return of({\n      items: [],\n      totalCount: 0,\n    });\n  };\n\n  get pageSize(): Observable<number> {\n    return filterInputParameters(this.pageSizeSubject.asObservable(), this.widgetProperties.pageSize);\n  }\n\n  get maxNavPages(): Observable<number> {\n    return filterInputParameters(this.maxNavPagesSubject.asObservable(), this.widgetProperties.maxNavPages);\n  }\n\n  get showControls(): Observable<boolean> {\n    return filterInputParameters(this.showControlsSubject.asObservable(), this.widgetProperties.showControls);\n  }\n\n  get isFilterApplied() {\n    return this.model.isFilterApplied;\n  }\n\n  get isSearchApplied() {\n    return this.model.isSearchApplied;\n  }\n\n  get paginationType(): Observable<PaginationType> {\n    return filterInputParameters(this.paginationTypeSubject.asObservable(), this.widgetProperties.paginationType);\n  }\n\n  get showPendingTransactionsOnTop(): Observable<boolean> {\n    return filterInputParameters(\n      this.showPendingTransactionsOnTopSubject.asObservable(),\n      this.widgetProperties.showPendingTransactionsOnTop,\n    );\n  }\n\n  get showChangeCategory(): Observable<boolean> {\n    return filterInputParameters(\n      this.showChangeCategorySubject.asObservable(),\n      this.widgetProperties.showChangeCategory,\n    );\n  }\n\n  get showCheckImage(): Observable<boolean> {\n    return filterInputParameters(this.showCheckImageSubject.asObservable(), this.widgetProperties.showCheckImage);\n  }\n\n  get showManageNotes(): Observable<boolean> {\n    return filterInputParameters(this.showManageNotesSubject, this.widgetProperties.showManageNotes);\n  }\n\n  get getOrPostEndpoint(): Observable<EndpointType> {\n    return filterInputParameters(\n      this.getOrPostEndpointsSubject.asObservable(),\n      this.widgetProperties.getOrPostEndpoints,\n    );\n  }\n\n  get gmapsAPIKey(): Observable<string> {\n    return combineLatest([this.apiKeySubject.asObservable(), this.widgetProperties.gmapsAPIKey]).pipe(\n      map(([inputVal, propVal]) => inputVal || propVal),\n    );\n  }\n\n  get enableDisputeAndInquiry() {\n    return filterInputParameters(\n      this.enableDisputeAndInquirySubject.asObservable(),\n      this.widgetProperties.enableDisputeAndInquiry,\n    );\n  }\n\n  get disputeByBillingStatus(): Observable<boolean> {\n    return filterInputParameters(\n      this.disputeByBillingStatusSubject.asObservable(),\n      this.widgetProperties.disputeByBillingStatus,\n    );\n  }\n\n  get disputeEligibilityDays(): Observable<number> {\n    return filterInputParameters(\n      this.disputeEligibilityDaysSubject.asObservable(),\n      this.widgetProperties.disputeEligibilityDays,\n    );\n  }\n\n  get disputeTransactionTypes(): Observable<Array<string>> {\n    return filterInputParameters(\n      this.disputeTransactionTypesSubject.asObservable(),\n      this.widgetProperties.disputeTransactionTypes,\n    );\n  }\n\n  private inquireTopicId = filterInputParameters(\n    this.inquireTopicIdSubject.asObservable(),\n    this.widgetProperties.inquireTopicId,\n  );\n\n  private disputeTopicId = filterInputParameters(\n    this.disputeTopicIdSubject.asObservable(),\n    this.widgetProperties.disputeTopicId,\n  );\n\n  inquireAndDisputeTopics: Observable<InquireAndDisputeTopics> = combineLatest([\n    this.inquireTopicId,\n    this.disputeTopicId,\n  ]).pipe(map(([inquire, dispute]) => ({ inquire, dispute })));\n\n  onLoadMore() {\n    this.model.loadMore();\n  }\n\n  ngOnInit() {\n    if (typeof this.selectedAccount === 'undefined') {\n      throw new Error(`\"selectedAccount\" input is required in \"${this.constructor.name}\"`);\n    }\n\n    const initialListOptions: Observable<Partial<TransactionsListOptions>> = combineLatest([\n      this.initialFilterOptions,\n      this.initialSortOptions,\n    ]).pipe(\n      map(([initialFilterOptions, initialSortOptions]) => ({\n        filter: initialFilterOptions,\n        sort: initialSortOptions,\n      })),\n    );\n\n    this.model.getTransactionsFrom(\n      this.selectedAccount,\n      this.pageSize,\n      initialListOptions,\n      this.showPendingTransactionsOnTop,\n      this.getOrPostEndpoint,\n    );\n    if (this.showDetailsConfig) {\n      this.checkImagesList = this.transactionDetailsService.fromCheckImages(this.showCheckImage);\n\n      this.transactionDetailsLoadingStatus = this.transactionDetailsService.loadingState;\n\n      this.transactionDetailsService\n        .fromGeolocation(this.gmapsAPIKey)\n        .pipe(takeUntil(this.unsubscribeSubject))\n        .subscribe();\n    }\n\n    this.transactionsList = this.model.getTransactionsList().pipe(\n      publishReplay(1),\n      refCount(),\n      tap((data) => {\n        this.errors = data.httpResponseError\n          ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError)\n          : undefined;\n        this.cd.markForCheck();\n      }),\n    );\n\n    this.pendingTransactionsService.getTransactionsFrom(\n      this.selectedAccount,\n      initialListOptions,\n      this.getOrPostEndpoint,\n    );\n    this.pendingTransactionsList = this.pendingTransactionsService.getTransactionsList().pipe(\n      publishReplay(1),\n      refCount(),\n      tap((data) => {\n        this.errors = data.httpResponseError\n          ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError)\n          : undefined;\n        this.cd.markForCheck();\n      }),\n    );\n\n    this.transactionsList\n      .pipe(\n        takeUntil(this.unsubscribeSubject),\n        map((transactionsList) => {\n          if (!transactionsList) {\n            return {};\n          }\n\n          const { availableExportTypesHeader, unavailableExportTypesReasonsHeader } = transactionsList;\n\n          return combineExportTypesConfig({\n            availableExportTypesHeader,\n            unavailableExportTypesReasonsHeader,\n          });\n        }),\n      )\n      .subscribe(this.exportConfig);\n\n    const transactionsListCount = this.transactionsList.pipe(\n      map((trans) => ({ history: trans ? trans.totalCount : 0 })),\n    );\n\n    const pendingTransactionsListCount = this.pendingTransactionsList.pipe(\n      map((trans) => ({ pending: trans ? trans.totalCount : 0 })),\n    );\n\n    const transactionsListItemsToDisplay = this.transactionsList.pipe(\n      map((trans) => ({ history: trans ? trans.items.length : 0 })),\n    );\n\n    const pendingTransactionsListItemsToDisplay = this.pendingTransactionsList.pipe(\n      map((trans) => ({ pending: trans ? trans.items.length : 0 })),\n    );\n\n    this.sumTransactionsResults(transactionsListCount, pendingTransactionsListCount)\n      .pipe(takeUntil(this.unsubscribeSubject))\n      .subscribe(this.numberOfResultsFound);\n\n    this.sumTransactionsResults(transactionsListItemsToDisplay, pendingTransactionsListItemsToDisplay)\n      .pipe(takeUntil(this.unsubscribeSubject))\n      .subscribe(this.numberOfResultsDisplayed);\n\n    this.currentPage = this.model.getCurrentPage();\n    this.loadingState = this.model.loadingState;\n    this.loadingPendingState = this.pendingTransactionsService.loadingState;\n\n    this.widgetProperties.refreshTransactionsListEvents.pipe(takeUntil(this.unsubscribeSubject)).subscribe((events) => {\n      this.clearRefreshTransactionsListEvents();\n      if (events) {\n        this.registeredRefreshTransactionsListEvents = events.split(',');\n        this.registeredRefreshTransactionsListEvents.forEach((eventName) => {\n          this.eventBusService.subscribe(eventName, this.refreshTransactionsListHandler);\n        });\n      }\n    });\n\n    this.configureTransctionsDetailsOutputBehaviour();\n\n    this.transactionDetailsService.fromInquiryAndDispute(\n      this.enableDisputeAndInquiry,\n      this.disputeByBillingStatus,\n      this.disputeEligibilityDays,\n      this.disputeTransactionTypes,\n    );\n\n    this.availableFiltersConfigService.setFilterConfigurationAndAccount(\n      this.availableFiltersConfig.asObservable(),\n      this.selectedAccount,\n    );\n  }\n\n  private configureTransctionsDetailsOutputBehaviour() {\n    if (this.transactionsList && this.pendingTransactionsList && !this.showDetailsConfig) {\n      const pending = this.showPendingTransactionsOnTop.pipe(\n        mergeMap((cond) =>\n          iif(() => cond, this.pendingTransactionsList, of({ items: [], totalCount: 0 } as TransactionsList)),\n        ),\n      );\n\n      combineLatest([pending, this.transactionsList])\n        .pipe(\n          takeUntil(this.unsubscribeSubject),\n          map(([pendingTransactionsList, transactionsList]) => {\n            const pendingTransactions = pendingTransactionsList ? pendingTransactionsList.items : [];\n            const transactions = transactionsList ? transactionsList.items : [];\n\n            const mixed: TransactionsList = {\n              items: [...pendingTransactions, ...transactions],\n              totalCount: (pendingTransactionsList?.totalCount || 0) + (transactionsList?.totalCount || 0),\n            };\n\n            return mixed;\n          }),\n        )\n        .subscribe((data) => {\n          this.transactionsLoaded.emit(data);\n        });\n    }\n  }\n\n  private sumTransactionsResults(historyCount: Observable<any>, pendingCount: Observable<any>) {\n    return this.showPendingTransactionsOnTop.pipe(\n      mergeMap((showPendingTransactionsOnTop) =>\n        iif(() => showPendingTransactionsOnTop, merge(historyCount, pendingCount), historyCount),\n      ),\n      scan((acc, curr) => ({ ...acc, ...curr }), { history: 0, pending: 0 }),\n      map(({ history = 0, pending = 0 }) => history + pending),\n    );\n  }\n\n  onPageChange(page: number) {\n    this.model.pageChange(page);\n  }\n\n  onSearch(query: string) {\n    // search ui component sends an unexpected event\n    // that is type Event. To avoid calling backend with that event\n    // it has to be string\n    if (typeof query === 'string') {\n      this.model.search(query);\n      this.pendingTransactionsService.search(query);\n    }\n  }\n\n  onFilter(filterOptions: TransactionsFilterOptions) {\n    this.model.filter(filterOptions);\n    this.pendingTransactionsService.filter(filterOptions);\n  }\n\n  onSort(sortOptions: TransactionsSortOptions) {\n    this.model.sort(sortOptions);\n  }\n\n  onPrint() {\n    window.print();\n  }\n\n  onExport(exportType: TransactionsExportTypeElement) {\n    this.storedExportType = { ...exportType };\n    if (exportType.isAvailable) {\n      this.model\n        .exportToType(exportType.name)\n        .pipe(takeUntil(this.unsubscribeSubject))\n        .subscribe(\n          (response) => {\n            const anchorTag = document.createElement('a');\n            anchorTag.href = URL.createObjectURL(response.body);\n\n            const fileName = getNameFromContentDispositionHeader(response);\n            const defaultName = exportType.name.toLowerCase() === 'pdf' ? 'Account Activities' : 'transactions';\n\n            anchorTag.download = fileName !== '' ? fileName : defaultName;\n            anchorTag.click();\n          },\n          () => {\n            this.notificationService.showNotification({\n              header: this.notificationServerErrorHeader,\n              message: this.notificationServerErrorMessage || '',\n              modifier: 'error',\n            });\n          },\n        );\n    } else {\n      this.pushNotification({\n        header: this.notificationErrorUpdateHeaderTemplate,\n        message: this.notificationErrorUpdateMessageTemplate,\n        modifier: 'error',\n      });\n    }\n  }\n\n  onDetailOpen(transaction: Transaction) {\n    if (!this.showDetailsConfig) {\n      this.transactionSelected.emit(transaction);\n    } else {\n      this.transactionDetailsService.selectTransaction(transaction);\n    }\n  }\n\n  private pushNotification(notificationMessage: {\n    header: TemplateRef<any> | string | undefined;\n    message: any;\n    modifier: 'error' | 'success' | 'info' | 'warning' | 'alert' | undefined;\n  }) {\n    this.notificationService.showNotification({\n      dismissible: true,\n      ttl: notificationTtl,\n      ...notificationMessage,\n    });\n  }\n\n  constructor(\n    protected readonly model: TransactionsService,\n    protected readonly widgetProperties: WidgetPropertiesService,\n    protected readonly cd: ChangeDetectorRef,\n    protected readonly eventBusService: Pubsub,\n    protected readonly notificationService: NotificationService,\n    protected readonly pendingTransactionsService: PendingTransactionsService,\n    protected readonly transactionDetailsService: TransactionDetailsService,\n    protected readonly availableFiltersConfigService: AvailableFiltersConfigService,\n    protected readonly showDetailsConfig?: boolean,\n  ) {}\n}\n\n@Directive({\n  selector: '[bbTransactionsNoAccountSelectedStateCustomizable]',\n})\nexport class TransactionsNoAccountSelectedStateCustomizableDirective extends BbTemplate<\n  BaseTransactionsContainer,\n  undefined\n> {}\n\n@Directive({\n  selector: '[bbTransactionsErrorStateCustomizable]',\n})\nexport class TransactionsErrorStateCustomizableDirective extends BbTemplate<BaseTransactionsContainer, undefined> {}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'bbCapitalizePipe' })\nexport class CapitalizePipe implements PipeTransform {\n  transform(value: string): string {\n    return value[0].toUpperCase() + value.substr(1).toLowerCase();\n  }\n}\n","import { Transaction } from './transaction.model';\n\nexport enum TransactionIconType {\n  category = 1,\n  type = 2,\n  creditDebit = 3,\n}\nexport abstract class BaseTransactionIcon {\n  public abstract get title(): string;\n  public abstract formatClassName(): string;\n  public abstract isValid(): boolean;\n  public abstract get type(): TransactionIconType;\n\n  protected cleanClassName(text: string): string {\n    const result = text.toLowerCase().replace(/\\W/g, '-').replace(/-{2,}/g, '-');\n\n    if (result.endsWith('-')) {\n      return result.slice(0, -1);\n    } else {\n      return result;\n    }\n  }\n\n  private throwIfIncorrect() {\n    if (!this.isValid) {\n      throw new Error(`Invalid transaction provided to ${this.constructor.name}`);\n    }\n  }\n\n  constructor() {\n    this.throwIfIncorrect();\n  }\n}\n\nexport class TransactionCategoryIcon extends BaseTransactionIcon {\n  public get title(): string {\n    return !this.transaction.isPending ? this.transaction.category || '' : 'pending';\n  }\n\n  public get type(): TransactionIconType {\n    return TransactionIconType.category;\n  }\n\n  public isValid() {\n    return this.transaction.isPending || (this.transaction !== undefined && this.transaction.category !== undefined);\n  }\n\n  public formatClassName(): string {\n    return `bb-transaction-category-${this.cleanClassName(this.transaction.category || 'pending')}`;\n  }\n\n  constructor(protected transaction: Transaction) {\n    super();\n  }\n}\n\nexport class TransactionTypeIcon extends BaseTransactionIcon {\n  public get title(): string {\n    return this.transaction.type || '';\n  }\n\n  public get type(): TransactionIconType {\n    return TransactionIconType.type;\n  }\n\n  public isValid() {\n    return !!this.transaction && !!this.transaction.type;\n  }\n\n  public formatClassName(): string {\n    return this.transaction.type ? `bb-icon-transaction-type-${this.cleanClassName(this.transaction.type)}` : '';\n  }\n\n  constructor(protected transaction: Transaction) {\n    super();\n  }\n}\n\nexport class TransactionCreditDebitIcon extends BaseTransactionIcon {\n  public get title(): string {\n    return this.indicator;\n  }\n\n  public get type(): TransactionIconType {\n    return TransactionIconType.creditDebit;\n  }\n\n  public formatClassName(): string {\n    return this.transaction.transactionAmountCurrency\n      ? `bb-icon-credit-debit-indicator-${this.cleanClassName(this.indicator)}`\n      : '';\n  }\n\n  private get indicator() {\n    if (this.transaction.transactionAmountCurrency) {\n      return parseInt(this.transaction.transactionAmountCurrency.amount, 10) > 0 ? 'incoming' : 'outgoing';\n    }\n\n    return '';\n  }\n\n  public isValid() {\n    return this.transaction !== undefined && this.transaction.transactionAmountCurrency !== undefined;\n  }\n\n  constructor(protected transaction: Transaction) {\n    super();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Transaction } from '../model/transaction.model';\nimport {\n  TransactionCategoryIcon,\n  TransactionTypeIcon,\n  TransactionCreditDebitIcon,\n  BaseTransactionIcon,\n} from '../model/transaction-category.model';\n\n@Injectable()\nexport class TransactionsIconCategoriesFactoryService {\n  create(transaction: Transaction): BaseTransactionIcon {\n    if (transaction.category || transaction.isPending) {\n      return new TransactionCategoryIcon(transaction);\n    } else if (transaction.type) {\n      return new TransactionTypeIcon(transaction);\n    } else {\n      return new TransactionCreditDebitIcon(transaction);\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  ViewChild,\n  AfterViewInit,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport { Transaction } from '../../model/transaction.model';\nimport { BaseTransactionIcon } from '../../model/transaction-category.model';\nimport { TransactionsIconCategoriesFactoryService } from '../../services/transactions-icon-categories-factory.service';\n\n@Component({\n  selector: 'bb-transaction-category-icon',\n  templateUrl: './transaction-category-icon.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionCategoryIconComponent implements OnInit, AfterViewInit {\n  /**\n   * The transaction this component shows the category icon of.\n   */\n  @Input() transaction: Transaction | undefined;\n  /**\n   * Whether to show the icon in a circle.\n   */\n  @Input() circle = false;\n  /**\n   * Whether to show different sizes of icons.\n   */\n  @Input() size: 'small' | 'large' | undefined;\n  /* eslint-disable */\n  @ViewChild('categoryImage') categoryImage: ElementRef | undefined;\n  /* eslint-enable */\n\n  /**\n   * Determines if the image is done loading.\n   */\n  hasImageLoaded = false;\n\n  /**\n   * Contains the transaction class name that has to be used together\n   * with the title of the icon\n   */\n  transactionIcon: BaseTransactionIcon | undefined;\n\n  ngOnInit() {\n    if (this.transaction === undefined) {\n      throw new Error(`\"transaction\" input is required in \"${this.constructor.name}\"`);\n    }\n\n    this.transactionIcon = this.transactionsIconCategoriesFactory.create(this.transaction);\n  }\n\n  ngAfterViewInit() {\n    if (this.categoryImage) {\n      this.categoryImage.nativeElement.onload = () => {\n        this.hasImageLoaded = true;\n        this.cd.markForCheck();\n      };\n    }\n  }\n\n  constructor(\n    private transactionsIconCategoriesFactory: TransactionsIconCategoriesFactoryService,\n    private readonly cd: ChangeDetectorRef,\n  ) {}\n}\n","<div\n  aria-hidden=\"true\"\n  class=\"bb-transaction-category bb-transaction-category--enriched\"\n  title=\"{{ transaction?.merchant ? transaction?.merchant?.name : transactionIcon?.title }}\"\n  [ngClass]=\"[\n    circle ? 'bb-transaction-category-icon-circle' : 'bb-transaction-category-icon',\n    size ? 'bb-transaction-category--' + size : '',\n    !transaction?.merchant?.logo || !hasImageLoaded ? transactionIcon?.formatClassName() : ''\n  ]\"\n>\n  <img\n    class=\"bb-transaction-category__image\"\n    *ngIf=\"transaction?.merchant?.logo\" \n    [hidden]=\"!hasImageLoaded\" \n    [src]=\"transaction?.merchant?.logo\" \n    #categoryImage \n  />\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { DisputeStatus, TransactionClientHttpService } from '@backbase/data-ang/transactions';\nimport { throwError, Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport { Transaction } from '../model/transaction.model';\n\n@Injectable()\nexport class TransactionUpdateService {\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred.  Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    }\n\n    // Return an observable with a user-facing error message.\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  update(transaction: Transaction, update: Partial<Transaction>): Observable<HttpResponse<any>> {\n    if (typeof transaction.id === 'undefined' || typeof transaction.arrangementId === 'undefined') {\n      return throwError('updateNotes: invalid transaction');\n    }\n\n    return this.transactionsDataHttpService\n      .patchTransactions(\n        {\n          transactionsClientPatchRequestBody: [\n            {\n              id: transaction.id,\n              arrangementId: transaction.arrangementId,\n              notes: update.notes,\n              disputeStatus: update.disputeStatus,\n              category: update.category,\n            },\n          ],\n        },\n        'response',\n      )\n      .pipe(catchError(this.handleError));\n  }\n\n  setDisputeStatus(transaction: Transaction, disputeStatus: DisputeStatus) {\n    return this.update(transaction, { disputeStatus });\n  }\n\n  updateNotes(transaction: Transaction, notes: string) {\n    return this.update(transaction, { notes });\n  }\n\n  constructor(private readonly transactionsDataHttpService: TransactionClientHttpService) {}\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { EnumValuesByAttributeNameGetResponseBody } from '@backbase/data-ang/transactions';\n\nexport interface TransactionsEnumValue {\n  value?: string;\n  name?: string;\n}\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsEnumValue {\n  function toTitleCase(text: string | undefined) {\n    if (!text) {\n      return '';\n    }\n\n    return `${text.charAt(0).toUpperCase()}${text.substr(1).toLowerCase()}`;\n  }\n\n  // Until Angular supports i18n in typescript, this is the way to go\n  function processEnumValue(enumValue: TransactionsEnumValue) {\n    switch (enumValue.value) {\n      case 'CRDT':\n        return {\n          ...enumValue,\n          name: 'Credit',\n        };\n      case 'DBIT':\n        return {\n          ...enumValue,\n          name: 'Debit',\n        };\n      case 'BILLED':\n      case 'UNBILLED':\n      case 'PENDING':\n        return {\n          ...enumValue,\n          name: enumValue.name || toTitleCase(enumValue.value),\n        };\n      default:\n        return {\n          ...enumValue,\n          name: enumValue.name || enumValue.value,\n        };\n    }\n  }\n\n  function processEnumValues(enumValues: Array<TransactionsEnumValue>) {\n    return enumValues.map(processEnumValue);\n  }\n\n  export function fromHttpResponse(\n    response: HttpResponse<EnumValuesByAttributeNameGetResponseBody[]>,\n  ): Array<TransactionsEnumValue> {\n    return processEnumValues((response.body as Array<{ value: string }>) || []);\n  }\n}\n/* eslint-enable no-redeclare*/\n","import { Injectable } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { TransactionClientHttpService } from '@backbase/data-ang/transactions';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\nimport { TransactionsEnumValue } from '../model/transactions-enum-value.model';\n\n@Injectable()\nexport class EnumValuesService {\n  private readonly enumValues: { [attributeName: string]: Observable<Array<TransactionsEnumValue>> } = {};\n\n  constructor(private readonly transactionsDataHttpService: TransactionClientHttpService) {}\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred.  Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    }\n\n    // Return an observable with a user-facing error message.\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  private loadEnumValues(attributeName: string): Observable<Array<TransactionsEnumValue>> {\n    return this.transactionsDataHttpService\n      .getEnumValuesByAttributeName({ attributeName }, 'response')\n      .pipe(map(TransactionsEnumValue.fromHttpResponse), catchError(this.handleError));\n  }\n\n  getEnumValues(attributeName: string) {\n    if (typeof this.enumValues[attributeName] === 'undefined') {\n      this.enumValues[attributeName] = this.loadEnumValues(attributeName);\n    }\n\n    return this.enumValues[attributeName];\n  }\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { Category } from '@backbase/data-ang/categories-management';\nimport { Customizable } from './customizable.model';\n\nexport interface CategoryItem extends Customizable {\n  categoryId: number;\n  categoryName: string;\n}\n\nexport function categoriesManagementMap(item: Category): CategoryItem {\n  return { ...item };\n}\n\nexport function fromCategoriesManagementResponse(response: HttpResponse<Array<Category>>): CategoryItem[] {\n  return (response.body || []).map(categoriesManagementMap);\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\nimport { CategoriesHttpService } from '@backbase/data-ang/categories-management';\nimport { fromCategoriesManagementResponse, CategoryItem } from '../model/categories-list';\nimport { categoryListLevelParam } from '../constants';\n\n@Injectable()\nexport class CategoriesService {\n  constructor(private readonly categoriesManagementDataHttpService: CategoriesHttpService) {}\n\n  getCategories(): Observable<CategoryItem[]> {\n    return this.categoriesManagementDataHttpService\n      .getCategories(\n        {\n          level: categoryListLevelParam,\n        },\n        'response',\n      )\n      .pipe(shareReplay(), map(fromCategoriesManagementResponse));\n  }\n}\n","import { Component, ViewChild, AfterViewInit, Input, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { TransactionLocation } from '@backbase/data-ang/transactions';\n\n@Component({\n  selector: 'bb-transactions-map-ui',\n  templateUrl: 'transactions-map-ui.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionsMapUiComponent implements AfterViewInit {\n  /* eslint-disable */\n  @ViewChild('bbMapContainer') mapContainer: ElementRef<HTMLElement> | undefined;\n  /* eslint-enable */\n  @Input() location: TransactionLocation | undefined;\n\n  private buildMapOptions(location: TransactionLocation): google.maps.MapOptions | undefined {\n    if (location.latitude && location.longitude) {\n      return {\n        center: {\n          lat: location.latitude,\n          lng: location.longitude,\n        },\n        zoom: 10,\n        disableDefaultUI: true,\n        zoomControl: false,\n        styles: [\n          {\n            featureType: 'poi',\n            stylers: [{ visibility: 'off' }],\n          },\n        ],\n      };\n    }\n\n    return undefined;\n  }\n\n  getFullAddress(location: TransactionLocation): string {\n    return encodeURI(`${location.latitude}, ${location.longitude}`);\n  }\n\n  ngAfterViewInit() {\n    if (this.location && this.mapContainer) {\n      const options = this.buildMapOptions(this.location);\n      const map = new google.maps.Map(this.mapContainer.nativeElement, options);\n      if (this.location && this.location.latitude && this.location.longitude) {\n        const mapUrl = this.getFullAddress(this.location);\n        const marker = new google.maps.Marker({\n          position: {\n            lat: this.location.latitude,\n            lng: this.location.longitude,\n          },\n          map,\n        });\n        marker.addListener('click', () => {\n          window.open('https://www.google.com/maps/dir//' + mapUrl, '_blank');\n        });\n      }\n    }\n  }\n}\n","<div class=\"bb-transcations-geolocation-map\" #bbMapContainer></div>","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { Transaction } from '../../model/transaction.model';\nimport { TransactionsDetailsLoadingState } from '../../model/transactions-details.model';\n\n@Component({\n  selector: 'bb-transaction-geo-location-map',\n  templateUrl: './transaction-geo-location-map.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TransactionGeoLocationMapComponent {\n  @Input() transaction: Transaction | undefined;\n  @Input() loadingStatus: TransactionsDetailsLoadingState | undefined;\n  loadingStateEnum = TransactionsDetailsLoadingState;\n}\n","<div class=\"bb-transactions-geolocation\">\n  <span class=\"bb-inline-stack bb-block bb-block--sm\" *ngIf=\"transaction?.location?.address\">\n    <bb-icon-ui\n      class=\"bb-inline-stack__item\" \n      name=\"location-on\" \n      size=\"md\"\n    ></bb-icon-ui>\n    <span class=\"bb-inline-stack__item bb-transactions-geolocation__address\">{{transaction?.location?.address}}</span>\n  </span>\n  <ng-container *ngIf=\"loadingStatus!==loadingStateEnum.notStarted\">\n    <ng-container *ngIf=\"loadingStatus!==loadingStateEnum.notLoaded\">\n      <ng-container *ngIf=\"loadingStatus!==loadingStateEnum.error; else errorState\">\n        <ng-container *ngIf=\"loadingStatus!==loadingStateEnum.loading; else loadingState\">\n          <bb-transactions-map-ui [location]=\"transaction?.location\"></bb-transactions-map-ui>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui loaderSize=\"lg\"></bb-loading-indicator-ui>\n</ng-template>\n\n<ng-template #errorState>\n  <!-- Error state is not defined yet -->\n</ng-template>","import { Injectable } from '@angular/core';\n\n/**\n * Utility service for DOM manipulations\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class DomAttributesService {\n  private basePrefix = 'bb_transactions';\n  private idCounter = 0;\n\n  public nextId(prefix?: string) {\n    return `${this.basePrefix}-${!!prefix ? prefix : 'default'}-${Date.now()}-${this.idCounter++}`;\n  }\n}\n","import { Directive, Input, ElementRef, Renderer2, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { DomAttributesService } from '../services/dom-attributes.service';\n\n@Directive({\n  selector: '[bbDynamicId]',\n  exportAs: 'bbDynamicId',\n})\nexport class DynamicIdDirective implements OnInit {\n  constructor(\n    private readonly _elRef: ElementRef,\n    private readonly _renderer: Renderer2,\n    private readonly domAttributesService: DomAttributesService,\n    private readonly cd: ChangeDetectorRef,\n  ) {}\n\n  @Input() bbDynamicId: string | undefined;\n\n  ngOnInit() {\n    setTimeout(() => {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'id', this.domAttributesService.nextId(this.bbDynamicId));\n      this.cd.markForCheck();\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MessagecenterHttpService } from '@backbase/data-ang/messages';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { b64Encode } from '../constants';\nimport { Message, MessagesResponse } from '../model/messages.model';\nimport { Transaction } from '../model/transaction.model';\n\n@Injectable()\nexport class MessagesService {\n  constructor(private readonly messageCenterHttpService: MessagecenterHttpService) {}\n\n  saveMessages(message: Message): Observable<MessagesResponse> {\n    return this.messageCenterHttpService.postMessages({ presentationMessagePostRequestBody: message });\n  }\n\n  saveAttachment(attachment: Blob): Observable<string> {\n    return this.messageCenterHttpService.postMessageAttachments({ attachment }).pipe(map((data) => data.id));\n  }\n\n  deleteAttachments(attachmentIds: Array<string>): Observable<Array<string>> {\n    return this.messageCenterHttpService\n      .deleteMessageAttachments({ ids: attachmentIds })\n      .pipe(map((data) => data.deleted));\n  }\n\n  createDefaultBody(transaction: Transaction) {\n    return `transactionID: ${transaction.id}\nreferenceNumber: ${transaction.reference}\narranagementID: ${transaction.arrangementId}\nbookingDate: ${transaction.bookingDate}\namount: ${transaction.transactionAmountCurrency?.amount}\nmerchantName: ${transaction.merchant?.name}\ncounterpartyName: ${transaction.counterPartyName}\ndescription: ${transaction.description}\ntype: ${transaction.type}`;\n  }\n\n  // TODO: default message is out of scope\n  defaultMessage: Observable<Message> = of({\n    body: b64Encode('test message'),\n    subject: 'no subject',\n    topic: 'no topic',\n    sender: {\n      name: 'test sender',\n    },\n  });\n}\n","import { from, of, Subject } from 'rxjs';\nimport {\n  InquireAndDisputeFile,\n  InquireAndDisputeTopics,\n  Message,\n  MessageForm,\n  SubjectReportMap,\n} from '../model/messages.model';\nimport { TransactionsDetailsLoadingState } from '../model/transactions-details.model';\nimport { MessagesService } from '../services/messages.service';\nimport '@angular/localize/init';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { b64Encode } from '../constants';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { Transaction } from '../model/transaction.model';\n/* eslint-disable  @typescript-eslint/no-non-null-assertion */\n\n@Injectable()\nexport class TransactionsInquireAndDisputeUIService {\n  private showReportSubject = new Subject<boolean>();\n  private readonly DEFAULT_MESSAGE: MessageForm = {\n    attachments: [],\n    body: '',\n    topic: 'inquire',\n  };\n\n  showReport: Observable<boolean> = this.showReportSubject.asObservable();\n  message: MessageForm = { ...this.DEFAULT_MESSAGE };\n  reportState = TransactionsDetailsLoadingState.notStarted;\n\n  private subjectReportMap: SubjectReportMap = {\n    dispute: $localize`:Dispute subject@@transactions.dispute.subject:Transaction dispute raised on`,\n    inquire: $localize`:Inquiry subject@@transactions.inquire.subject:Transaction inquiry raised on`,\n  };\n\n  formatMessage(\n    messageForm: MessageForm,\n    defaultBody: string,\n    inquireAndDisputeTopics: InquireAndDisputeTopics,\n    transaction: Transaction | undefined,\n  ): Message {\n    const { topic = 'inquire', body = '', attachments = [] } = messageForm;\n\n    return {\n      body: b64Encode([defaultBody, body].join('\\n')),\n      topic: inquireAndDisputeTopics[topic],\n      attachments: attachments.map((data) => data.id || ''),\n      subject: `${this.subjectReportMap[topic]} ${transaction?.arrangementId}`,\n    };\n  }\n\n  // TODO: Add unit tests when the functionality is complete\n  saveReport(message: Message): Observable<Message | undefined> {\n    this.reportState = TransactionsDetailsLoadingState.loading;\n\n    return this.messagesService.saveMessages(message).pipe(\n      map(() => {\n        this.message = this.DEFAULT_MESSAGE;\n        this.showReportForm(false);\n        this.reportState = TransactionsDetailsLoadingState.done;\n\n        return message;\n      }),\n      catchError(() => {\n        this.reportState = TransactionsDetailsLoadingState.error;\n\n        return of(undefined);\n      }),\n    );\n  }\n\n  showReportForm(display: boolean) {\n    this.showReportSubject.next(display);\n  }\n\n  cancelReport() {\n    this.removeAllFiles();\n    this.reportState = TransactionsDetailsLoadingState.notStarted;\n    this.message = this.DEFAULT_MESSAGE;\n    this.showReportForm(false);\n  }\n\n  fileChange(file: File) {\n    let attachment: InquireAndDisputeFile = {\n      name: file.name,\n      size: file.size,\n      content: from(file.arrayBuffer()),\n    };\n\n    const currentAttachments = this.message!.attachments || [];\n\n    this.message!.attachments = [...currentAttachments, attachment];\n    const state = this.reportState;\n    this.reportState = TransactionsDetailsLoadingState.loading;\n\n    return this.messagesService.saveAttachment(file).pipe(\n      map((id) => {\n        attachment = {\n          id,\n          ...attachment,\n        };\n        this.reportState = TransactionsDetailsLoadingState.notStarted;\n        this.message!.attachments = [...currentAttachments, attachment];\n\n        return id;\n      }),\n      catchError(() => {\n        this.reportState = state;\n        this.message!.attachments = [...currentAttachments];\n\n        return of('');\n        //TODO: add error message\n      }),\n    );\n  }\n\n  deleteReportForm() {\n    //TODO: this is just a placeholder for now\n  }\n\n  fileRemoved(attachment: InquireAndDisputeFile) {\n    const { id = '' } = attachment;\n\n    return this.messagesService.deleteAttachments([id]).pipe(\n      tap(() => {\n        this.message!.attachments = this.message!.attachments.filter((item) => item.id !== id);\n      }),\n    );\n  }\n\n  removeAllFiles() {\n    if (this.message!.attachments.length > 0) {\n      const files = this.message!.attachments.map((item) => item.id || '');\n      this.messagesService.deleteAttachments(files).subscribe({\n        next: () => {\n          this.message!.attachments = [];\n        },\n      });\n    }\n  }\n\n  constructor(private readonly messagesService: MessagesService) {}\n}\n/* eslint-enable  @typescript-eslint/no-non-null-assertion */\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TransactionUpdateService } from './services/transaction-update.service';\nimport { EnumValuesService } from './services/enum-values.service';\nimport {\n  TransactionsNumberOfResultsFoundComponent,\n  TransactionsNumberOfResultsFoundCustomizableDirective,\n} from './components/transactions-controls/transactions-number-of-results-found.component';\nimport { CategoriesService } from './services/categories.service';\nimport {\n  TransactionsErrorStateCustomizableDirective,\n  TransactionsNoAccountSelectedStateCustomizableDirective,\n} from './components/base-transactions-container';\nimport { AccountsService } from './services/accounts.service';\nimport { AccessibilityKeyboardDirective } from './components/transactions-controls/accessibility-keyboard.directive';\nimport { TransactionCheckImageComponent } from './components/transactions-controls/transaction-check-image.component';\nimport { TransactionGeoLocationMapComponent } from './components/transactions-controls/transaction-geo-location-map.component';\nimport { MapAPILoaderService } from './services/map-api-loader.service';\nimport { TransactionsMapUiComponent } from './components/transactions-controls/transactions-map-ui.component';\nimport { TransactionCategoryIconComponent } from './components/transactions-controls/transaction-category-icon.component';\nimport { TransactionsIconCategoriesFactoryService } from './services/transactions-icon-categories-factory.service';\nimport { CapitalizePipe } from './components/capitalize.pipe';\nimport { TransactionCheckImageItemComponent } from './components/transactions-controls/transaction-check-image-item.component';\nimport { DocumentViewerBackdropComponent } from './components/document-viewer-ui/document-viewer-backdrop/document-viewer-backdrop.component';\nimport { DocumentViewerContainerComponent } from './components/document-viewer-ui/document-viewer-container/document-viewer-container.component';\nimport { DocumentViewerHeaderComponent } from './components/document-viewer-ui/document-viewer-header/document-viewer-header.component';\nimport { DocumentViewerInteractorComponent } from './components/document-viewer-ui/document-viewer-interactor/document-viewer-interactor.component';\nimport { ImageViewerComponent } from './components/document-viewer-ui/image-viewer/image-viewer.component';\nimport { TransactionCheckImageDocumentViewerComponent } from './components/transactions-controls/transaction-check-image-document-viewer.component';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport { DomAttributesService } from './services/dom-attributes.service';\nimport { DynamicIdDirective } from './components/dynamic-id.directive';\nimport { MessagesService } from './services/messages.service';\nimport { TransactionsInquiryDisputeComponent } from './components/transactions-controls/transactions-inquiry-dispute.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TransactionsInquireAndDisputeUIService } from './services/transactions-inquire-and-dispute-ui.service';\nimport { AvailableFiltersConfigService } from './services/available-filters-config.service';\nimport { PaymentsBatchService } from './services/payments-batch.service';\nimport { TransactionsDisputeStatusTagComponent } from './components/transactions-controls/transaction-dispute-status-tag.component';\nimport { TransactionsDisputeBannerComponent } from './components/transactions-controls/transaction-dispute-banner.component';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { InputRadioGroupModule } from '@backbase/ui-ang/input-radio-group';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport { RichTextEditorModule } from '@backbase/ui-ang/rich-text-editor';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { InputFileModule } from '@backbase/ui-ang/input-file';\nimport { FileAttachmentModule } from '@backbase/ui-ang/file-attachment';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IconModule,\n    ButtonModule,\n    LoadButtonModule,\n    InputRadioGroupModule,\n    TooltipModule,\n    ReactiveFormsModule,\n    LoadingIndicatorModule,\n    EmptyStateModule,\n    DropdownMenuModule,\n    A11yModule,\n    RichTextEditorModule,\n    InputValidationMessageModule,\n    InputFileModule,\n    FileAttachmentModule,\n    AlertModule,\n    ModalModule,\n    BadgeModule,\n  ],\n  providers: [\n    TransactionUpdateService,\n    EnumValuesService,\n    CategoriesService,\n    AccountsService,\n    TransactionsIconCategoriesFactoryService,\n    MapAPILoaderService,\n    DomAttributesService,\n    MessagesService,\n    TransactionsInquireAndDisputeUIService,\n    PaymentsBatchService,\n    AvailableFiltersConfigService,\n  ],\n  declarations: [\n    TransactionsNumberOfResultsFoundComponent,\n    TransactionCheckImageComponent,\n    TransactionGeoLocationMapComponent,\n    TransactionsErrorStateCustomizableDirective,\n    TransactionsNoAccountSelectedStateCustomizableDirective,\n    AccessibilityKeyboardDirective,\n    TransactionsNumberOfResultsFoundCustomizableDirective,\n    TransactionsMapUiComponent,\n    TransactionCategoryIconComponent,\n    TransactionCheckImageItemComponent,\n    CapitalizePipe,\n    DocumentViewerBackdropComponent,\n    DocumentViewerContainerComponent,\n    DocumentViewerHeaderComponent,\n    DocumentViewerInteractorComponent,\n    ImageViewerComponent,\n    TransactionCheckImageDocumentViewerComponent,\n    DynamicIdDirective,\n    TransactionsInquiryDisputeComponent,\n    TransactionsDisputeStatusTagComponent,\n    TransactionsDisputeBannerComponent,\n  ],\n  exports: [\n    TransactionsNumberOfResultsFoundComponent,\n    TransactionsErrorStateCustomizableDirective,\n    TransactionsNoAccountSelectedStateCustomizableDirective,\n    AccessibilityKeyboardDirective,\n    TransactionCheckImageComponent,\n    TransactionCheckImageItemComponent,\n    TransactionGeoLocationMapComponent,\n    TransactionsNumberOfResultsFoundCustomizableDirective,\n    IconModule,\n    A11yModule,\n    TransactionsMapUiComponent,\n    TransactionCategoryIconComponent,\n    CapitalizePipe,\n    DocumentViewerBackdropComponent,\n    DocumentViewerContainerComponent,\n    DocumentViewerHeaderComponent,\n    DocumentViewerInteractorComponent,\n    ImageViewerComponent,\n    TransactionCheckImageDocumentViewerComponent,\n    EmptyStateModule,\n    LoadingIndicatorModule,\n    DropdownMenuModule,\n    DynamicIdDirective,\n    TransactionsInquiryDisputeComponent,\n    TransactionsDisputeStatusTagComponent,\n    TransactionsDisputeBannerComponent,\n  ],\n})\nexport class TransactionsCommonModule {}\n","import { Injectable } from '@angular/core';\nimport { RouterService } from '@backbase/foundation-ang/core';\n\n@Injectable()\nexport class NavigationService {\n  constructor(private readonly routerService: RouterService) {}\n\n  view(arrangementId: string): Promise<boolean> {\n    return this.routerService.navigate(['/', arrangementId]);\n  }\n}\n","import { TransactionsListOptions } from './transactions-list-options.model';\nimport { TransactionsExportOptions } from './transactions-export-options.model';\nimport { TransactionsFilterOptions } from './transactions-filter-options.model';\n\nexport interface TransactionsGetParams {\n  amountGreaterThan?: number;\n  amountLessThan?: number;\n  bookingDateGreaterThan?: string;\n  bookingDateLessThan?: string;\n  description?: string;\n  reference?: string;\n  counterPartyName?: string;\n  counterPartyAccountNumber?: string;\n  creditDebitIndicator?: string;\n  categories?: string[];\n  billingStatus?: string;\n  currency?: string;\n  notes?: number;\n  id?: string;\n  locale?: string;\n  arrangementsIds?: string[];\n  fromCheckSerialNumber?: number;\n  toCheckSerialNumber?: number;\n  checkSerialNumbers?: string[];\n  query?: string;\n  from?: number;\n  cursor?: string;\n  size?: number;\n  orderBy?: string;\n  direction?: string;\n  secDirection?: string;\n  exportType?: string;\n  state?: string;\n  types?: string[];\n  typeGroups?: string[];\n}\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsGetParams {\n  // eslint-disable-next-line complexity\n  export const toHttpGetParams = (getParams: TransactionsListOptions | TransactionsExportOptions) => {\n    const params: TransactionsGetParams = { ...TransactionsFilterOptions.toHttpGetParams(getParams.filter) };\n\n    if (getParams.account && getParams.account.arrangementId) {\n      params['arrangementsIds'] = Array.isArray(getParams.account.arrangementId)\n        ? getParams.account.arrangementId\n        : [getParams.account.arrangementId];\n    }\n\n    if (getParams.search && getParams.search.query) {\n      params['query'] = getParams.search.query;\n    }\n\n    if ((getParams as TransactionsListOptions).pagination) {\n      params['from'] = (getParams as TransactionsListOptions).pagination.from;\n      params['size'] = (getParams as TransactionsListOptions).pagination.size;\n    }\n\n    if (getParams.sort) {\n      params['orderBy'] = getParams.sort.orderBy.toString();\n      params['direction'] = getParams.sort.direction.toString();\n    }\n\n    if ((getParams as TransactionsExportOptions).exportType) {\n      params['exportType'] = (getParams as TransactionsExportOptions).exportType;\n    }\n\n    if ((getParams as TransactionsExportOptions).locale) {\n      params['locale'] = (getParams as TransactionsExportOptions).locale;\n    }\n\n    if ((getParams as TransactionsListOptions).state) {\n      params['state'] = (getParams as TransactionsListOptions).state;\n    }\n\n    return params;\n  };\n}\n/* eslint-enable no-redeclare*/\n","import { Transaction } from './transaction.model';\nimport { TransactionsList } from './transactions-list.model';\n\nexport interface TransactionsGroupedByDate {\n  [date: string]: Transaction[];\n}\n/* eslint-disable no-redeclare*/\nexport namespace TransactionsGroupedByDate {\n  function getDate(transaction: Transaction) {\n    const date = transaction.bookingDate ? new Date(transaction.bookingDate) : new Date();\n\n    return date.toISOString().slice(0, 10);\n  }\n\n  export function groupByDate(transactionsList: TransactionsList | undefined): TransactionsGroupedByDate {\n    const transactions = transactionsList && transactionsList.items !== null ? transactionsList.items : [];\n\n    return transactions.reduce((transactionsGroupedByDate: TransactionsGroupedByDate, transaction: Transaction) => {\n      const transactionDate = getDate(transaction);\n\n      if (transactionsGroupedByDate[transactionDate]) {\n        transactionsGroupedByDate[transactionDate].push(transaction);\n      } else {\n        transactionsGroupedByDate[transactionDate] = [transaction];\n      }\n\n      return transactionsGroupedByDate;\n    }, {});\n  }\n}\n/* eslint-enable no-redeclare*/\n","import { map, pluck } from 'rxjs/operators';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { TransactionsSortOptions } from '../model/transactions-sort-options.model';\nimport { WidgetPropertiesService } from '../services/widget-properties.service';\nimport { Input, Directive, Output, EventEmitter } from '@angular/core';\nimport { defaultAvailableFiltersConfig, deserialize, filterInputParameters, parseSortOptions } from '../constants';\nimport { AvailableFiltersConfig } from '../model/available-filters.model';\nimport { Transaction } from '../model/transaction.model';\nimport { TransactionsList } from '../model/transactions-list.model';\n\n/* eslint-disable */\n@Directive()\nexport class BaseTransactionsWidget {\n  /**\n   * API key needed for the google maps to work.\n   */\n  @Input() googleAPIKey: string | undefined;\n\n  @Input('initialFilterOptions') set initialFilterOptionsValue(value: string) {\n    const deseralizedValue = deserialize(value);\n    this.initialFilterOptionsSubject.next(TransactionsFilterOptions.fromHttpGetParams(deseralizedValue));\n  }\n  @Input('initialSortOptions') set initialSortOptionsValue(value: string) {\n    const options = parseSortOptions(value);\n    this.initialSortOptionsSubject.next(options);\n  }\n\n  @Input() pageSize: number | undefined;\n  @Input() maxNavPages: number | undefined;\n  @Input() paginationType: string | undefined;\n  @Input() showControls: boolean | undefined;\n  @Input() showChangeCategory: boolean | undefined;\n  @Input() showPendingTransactionsOnTop: boolean | undefined;\n  @Input() showCheckImage: boolean | undefined;\n  @Input() showManageNotes: boolean | undefined;\n  @Input() getOrPostEndpoints: string | undefined;\n  @Input() enableDisputeAndInquiry: boolean = false;\n  @Input() disputeByBillingStatus: boolean | undefined;\n  @Input() disputeEligibilityDays: number | undefined;\n  @Input() disputeTransactionTypes: string | undefined;\n  @Input() inquireTopicId: string | undefined;\n  @Input() disputeTopicId: string | undefined;\n  @Input() availableFiltersConfig: AvailableFiltersConfig = defaultAvailableFiltersConfig;\n\n  @Output() transactionSelected = new EventEmitter<Transaction>();\n  @Output() transactionsLoaded = new EventEmitter<TransactionsList | null>();\n\n  private readonly initialFilterOptionsSubject = new BehaviorSubject<TransactionsFilterOptions | undefined>(undefined);\n  private readonly initialSortOptionsSubject = new BehaviorSubject<TransactionsSortOptions | undefined>(undefined);\n\n  readonly selectedAccount = this.getRouteParam(this.route, 'selectedAccount').pipe(\n    map((selectedAccount) => selectedAccount as string),\n    map((selectedAccount) =>\n      typeof selectedAccount !== 'undefined' && selectedAccount.includes(',')\n        ? selectedAccount.split(',')\n        : selectedAccount,\n    ),\n  );\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // Ensure that level that has actual value keeps it from being cleared.\n    return combineLatest([paramValue, this.getRouteParam(route.parent, param)]).pipe(\n      map((params) => params[0] || params[1]),\n    );\n  }\n\n  get initialFilterOptions(): Observable<TransactionsFilterOptions> {\n    return filterInputParameters(\n      this.initialFilterOptionsSubject.asObservable(),\n      this.widgetProperties.initialFilterOptions,\n    );\n  }\n\n  get initialSortOptions(): Observable<TransactionsSortOptions | undefined> {\n    return filterInputParameters(\n      this.initialSortOptionsSubject.asObservable(),\n      this.widgetProperties.initialSortOptions,\n    );\n  }\n\n  constructor(protected readonly route: ActivatedRoute, protected readonly widgetProperties: WidgetPropertiesService) {}\n\n  onDetailOpen(transaction: Transaction) {\n    this.transactionSelected.emit(transaction);\n  }\n\n  onTransactionsLoaded(transactionsList: TransactionsList) {\n    this.transactionsLoaded.emit(transactionsList);\n  }\n}\n/* eslint-enable */\n","import { TransactionsExportTypeElement } from '../model/transactions-export-options.model';\nimport { Input, Output, EventEmitter, OnInit, Directive } from '@angular/core';\nimport { TransactionsFilterOptions } from '../model/transactions-filter-options.model';\nimport { AvailableFilters } from '../model/available-filters.model';\n\n@Directive()\n// eslint-disable-next-line\nexport class BaseTransactionsControls implements OnInit {\n  /**\n   * Whether a filter is applied on the transactions.\n   */\n  @Input() isFilterApplied = false;\n  /**\n   * Configurations for exporting transactions.\n   */\n  // eslint-disable-next-line\n  @Input()\n  exportConfig = [\n    {\n      name: 'CSV',\n      isAvailable: true,\n    },\n    {\n      name: 'OFX',\n      isAvailable: true,\n    },\n  ];\n  /**\n   * Configuration parameter to show/hide filters\n   */\n  @Input() availableFilters: AvailableFilters = [];\n\n  /**\n   * EventEmitter for triggering a filter action.\n   */\n  @Output() readonly filter = new EventEmitter<TransactionsFilterOptions>();\n  /**\n   * EventEmitter for triggering a search action.\n   */\n  @Output() readonly search = new EventEmitter<string>();\n  /**\n   * EventEmitter for triggering an export action.\n   */\n  @Output() readonly export = new EventEmitter<TransactionsExportTypeElement>();\n  /**\n   * Whether the filter form is shown.\n   */\n  isFilterOpen = false;\n\n  /**\n   * Search event callback\n   */\n  onSearch(searchParam: string) {\n    this.search.emit(searchParam);\n  }\n  /**\n   * Filter event callback\n   */\n  onFilter(filterParams: TransactionsFilterOptions) {\n    this.filter.emit(filterParams);\n  }\n  /**\n   * Export event callback\n   */\n  onExport(type: TransactionsExportTypeElement) {\n    this.export.emit(type);\n  }\n  /**\n   * Close event callback to hide the filters controls\n   */\n  onClose() {\n    this.isFilterOpen = false;\n  }\n  /**\n   * Toogle method to hide or show the filter form\n   */\n  toggleFilter() {\n    this.isFilterOpen = !this.isFilterOpen;\n  }\n\n  ngOnInit() {\n    if (typeof this.exportConfig === 'undefined') {\n      throw new Error(`\"exportConfig\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["OnLoadAction","TransactionState","TransactionsFilterOptions","AvailableFilterEnum","CheckImagesAvailability","BillingStatusEnum","combineLatest","map","TransactionsList","switchMap","publishReplay","refCount","PaginationType","EndpointType","defer","of","catchError","Injectable","Optional","LoadingState","InjectionToken","ReplaySubject","BehaviorSubject","Subject","merge","filter","distinctUntilChanged","tap","iif","scan","first","LOCALE_ID","Inject","Component","ChangeDetectionStrategy","Input","BbTemplate","Directive","TransactionsCheckImageType","TransactionsCheckImageSide","TransactionsCheckImages","TransactionsDetailsLoadingState","DisputeStatusEnum","HostListener","EventEmitter","Output","timer","finalize","share","ViewContainerRef","ViewChild","takeUntil","TransactionsBackendError","TransactionsExportErrorType","mergeMap","HttpResponse","from","Pipe","TransactionIconType","throwError","TransactionsEnumValue","shareReplay","CommonModule","IconModule","ButtonModule","LoadButtonModule","InputRadioGroupModule","TooltipModule","ReactiveFormsModule","LoadingIndicatorModule","EmptyStateModule","DropdownMenuModule","A11yModule","RichTextEditorModule","InputValidationMessageModule","InputFileModule","FileAttachmentModule","AlertModule","ModalModule","BadgeModule","NgModule","TransactionsGetParams","TransactionsGroupedByDate","pluck"],"mappings":"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"}