# Changelog

All notable changes to this project will be documented in this file.

This project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## 12.0.3

### Fixed

- Fixed `showPendingTransactionsOnTop` to default to `false` [TRANS-6882]

## 12.0.2

### Fixed

- Fixed `filterInputParameters` when dealing with falsy values [TRANS-6881]

## 12.0.1

### Fixed

- Fixed missing `title` in `EmptyStateComponent` [TRANS-6797]

## 12.0.0

### Added

- Updated to angular 12 [TRANS-6791]

## 11.19.0

### Added

- Added id to `BatchOrder` model. [TRANS-6019]

## 11.18.1

### Fixed

- Fixed `Category Item` hardcoded model. [MAINT-13586]

## 11.18.0

### Added

- Move `transactionSelected` and `transactionsLoaded` from transactions-list-widget to **BaseTransactionsWidget**. [TRANS-6769]

## 11.17.0

### Added

- Add locale to PDF export. [TRANS-6429]

## 11.16.0

### Added

- Add displayName to Account type. [TRANS-6570]

## 11.15.0

### Updated

- Update product kind in available filter configuration to be optional. [TRANS-6720]

## 11.14.0

### Added

- Added 'infinite-scroll' as new config for PaginationType. [WEB2-1235] 

## 11.13.1

### Fixed

- Fix case where selected account is `undefined`. [TRANS-6593] 

## 11.13.0

### Added

- Add `availableFilters` input to `base-transactions-controls.ts`. [TRANS-6638] 

## 11.12.0

### Added

- Add `AvailableFiltersConfigService` to show/hide available filters. [TRANS-6237]

## 11.11.0

### Added

- Add data-roles for dispute banners and tags. [TRANS-6630] 

## 11.10.0

### Added

- Add `TransactionsDisputeBannerComponent` to show dispute banners. [TRANS-6629]
- Fix dispute status tag text. [TRANS-6629]
- Fix dispute and inquiry tooltips content.

## 11.9.0

### Added

- Add `TransactionsDisputeStatusTagComponent` to show dispute status. [TRANS-6628]

## 11.8.1

### Fixed

- Fix batch orders that shows error state to transactions with valid batch order id. [TRANS-6569]

## 11.8.0

### Added

- Add `PaymentsBatchService` to get batch order data. [TRANS-6367]

### Fixed

- fix batch order flow draft. [TRANS-6424]

## 11.7.3

### Fixed

- Correctly process `disputeTransactionTypes` input.

## 11.7.2

### Fixed

- `initialRequest` state was not always correct. [MAINT-12056]

## 11.7.1

### Fixed

- Add `initialRequest` property to `TransactionsList` to determine the request call. [MAINT-12056]

## 11.7.0

### Added

- Add Discard report modal on cancel dispute or inquiry. [TRANS-6122]

## 11.6.1

### Fixed

- Fix handling types for `enableDisputeAndInquiry`, `disputeByBillingStatus` configurations. [TRANS-6319]

## 11.6.0

### Added

- Add new field `disputeStatus` in transaction model. [TRANS-6309]

## 11.5.0

### Added

- Add configurations for message topic and design fixes. [TRANS-6080]

## 11.4.0

### Added

- Message API Attributes - add default transaction fields to the message body. [TRANS-6053]

## 11.3.1

### Fixed

- Refactor transactions inquire and dispute [TRANS-6080]

## 11.3.0

### Added

- Making Messages API Calls in the UI (via Service Layer) with adding success and error alerts. [TRANS-6051]
- Adding Attachments to Dispute & Inquiry component. [TRANS-6080]

## 11.2.2

### Fixed

- Fixed radio buttons and align buttons in dispute and inquire component [TRANS-6048]

## 11.2.1

### Fixed

- Removed warnings from unit tests
- Optimizations of the libraries by unsubscribing from observables, using trackBy and changing check detection strategy.

## 11.2.0

### Added

- Building the UI for dispute and inquery (Using Messages UI Components). [TRANS-6048]

## 11.1.1

### Fixed

- Fix typo in `disputeEligibility` parameter [TRANS-6052].
- Fix issue with exact dates in `disputeEligibility` parameter [TRANS-6052].

## 11.1.0

### Added

- Added configuration to dispute radio button [TRANS-6052].

## 11.0.3

### Fixed

- Added encoding to default message sent with dispute and inquiry feature.

## 11.0.2

### Fixed

- Fix style for Report button. [TRANS-6079]

## 11.0.1

### Fixed

- Make `transactionsDetailsStatus` independent from observables in `transaction-details.service` to avoid completing the subject unexpectedly [TRANS-6150]
- Remove unnecessary change detection from directive [TRANS-6147]

## 11.0.0

### Added

- Update to angular 11.
- Add data-role to document viewer component. [TRANS-5787]
- Add messages service and static enable feature static configuration [TRANS-6047]

### Fixed

- Number of results found now announce via aria-live when no results are found [TRANS-6011]

## 10.10.2

### Fixed

- Fixed unexpected double call to transactions. [TRANS-6040]

## 10.10.1

### Fixed

- Fixed various screen reader accesibility issues [TRANS-6011]

## 10.10.0

- Make ItemModel service optional [TRANS-5934]

## 10.9.0

### Fixed

- Fixed enlarged check images in independent modal from journey. [TRANS-5785]

## 10.8.1

### Fixed

- Added missing `aria-label` on check image hover icons [TRANS-5925]

## 10.8.0

### Added

- Created Dynamic ID Generator service and implementation directive [TRANS-5951]

## 10.7.0

### Added

- Added responsive view for enlarged check images. [TRANS-5785]

## 10.6.0

### Added

- Added `showDetailsConfigToken` injectable token for transactions list [TRANS-5911]

## 10.5.2

### Fixed

- Block check image click event if there is no image selected. [TRANS-3653]

## 10.5.1

### Fixed

- Enlarged Check Images - Fix focus and Accessibility issues. [TRANS-3653]

## 10.5.0

### Added

- Enlarged Check Images - Entry Point, Toolbar and Component. [TRANS-3653]

## 10.4.1

### Fixed

- Add support for multiple http response errors [MAINT-10443]

## 10.4.0

### Added

- Transaction model now supports `originalDescription` property [TRANS-5424]

## 10.3.0

### Added

- New CXP configuration to define if using POST or GET request [TRANS-4657]

## 10.2.0

### Added

- Added messages to http errors [MAINT-10443]

## 10.1.2

### Fixed

- Fixed formatting in enum types by removing `toTitleCase` function [MAINT-10566]

## 10.1.1

### Fixed

- Fixed formatting in enum types [MAINT-10566]

## 10.1.0

### Added

- Allow transactions to be reloaded on demand [MAINT-10569]

## 10.0.1

## Fixed

- Allow files to be named during download [TRANS-5659].

## 10.0.0

### Changed

- Use new data module for Http requests

## 9.0.0

### Changed

- Use new data module for Http requests

### Removed

- Remove deprecations [TRANS-5472]

## 8.2.0

### Added

- Input support for page model properties. [NOJIRA]
- Remove redundant card container. [TRANS-4023]

## 8.1.1

### Updated

- Updated prettier version and formated the module [NOJIRA]

## 8.1.0

### Added

- Add `showManageNotes` property. [TRANS-1943]

## 8.0.0

### Updated

- Upgrade to foundation-ang 6 and angular 10

## 7.2.1

### Fixed

- Fix issue with missing input in `bb-transaction-check-image-item`

## 7.2.0

### Added

- Add error states to checkImages. [TRANS-3649]
- Added `transaction-check-image-item` component to take care of image rendering [TRANS-3649]

## 7.1.0

### Added

- `googleAPIKey` input added to the `BaseTransactionsContainer` to pass maps API key [WEB2-468]

## 7.0.0

### Updated

- Updated foundation-ang to v5.0.0

## 6.3.2

### Fixed

- Added proper sign to Instructed Amount property following logic of Transaction Amount [TRANS-4467]

## 6.3.1

### Removed

- Removed `productId` field from get parameters

## 6.3.0

### Added

- New property to define Currency Exchange availability [TRANS-4059]

## 6.2.0

### Added

- Error message and handling for `MULTIPLE_PRODUCTS` export response [TRANS-437]

## 6.1.0

### Remove

- Remove deprecated request parameters `type`, `arrangementId` and `category`

## 6.0.0

### Removed

- Removed deprecated properties and methods [TRANS-4123]

## 5.2.0

### Added

- `ui-ang` added as peerDependency on widgets

### Changed 

- `ui-ang` imports are now made directly instead of using `foundation-ang` [TRANS-4669]

## 5.1.1

### Fixed

- Added `bbCapitalizePipe` pipe [TRANS-4497]


## 5.1.0

### Added

- Reworked Transaction Category Icon to use a more general `size` property for icon size, `large` property is now deprecated [TRANS-4324]

## 5.0.0

### Added 

- Refactor `TransactionsIconCategoriesFactoryService` [TRANS-4499]

## 4.4.0

### Added

- Added geo location to transaction details [TRANS-4093]
- Implement google maps api in transactions details [TRANS-4014]
- Added `merchant` property to the Transaction Model [TRANS-4453]
- Added click event to the map marker [TRANS-4320]
- Added `bb-transaction-category-icon` and created flow service for transaction icons [TRANS-4457]
- Added BEM notation for `transaction-category-icon.component` [TRANS-3968]  

### Fixed

- Implement transaction object instead of transactionId for checkImages [NOGIRA]
- Check images was using transaction id, it now uses `checkSerialNumber` [TRANS-3651]
- Change geo location icon size [TRANS-4015]
- Implement change detector for non-angular events in transaction-category-icon [TRANS-4457]

## 4.3.1

### Fixed

- Check images was using transaction id, it now uses `checkSerialNumber` [TRANS-3651]

## 4.3.0

### Added

- CXP configuration for Google maps API [TRANS-4090]
- Added `location` property to Transaction model [TRANS-4091]
- New `instructedAmountCurrency` property inside Transactions added to replace `instructedCurrency` and `instructedAmount` [TRANS-3392]
- Added `fileExtension` property to check image Model
- Implemented download of check images [TRANS-3651]

### Fixed 

- Remove space from image source to fix Safari issue [TRANS-4143]
- Replace cxp configuration flow from passing properties to handle reactive state [TRANS-3645]
- Refactor `TransactionDetailsService` to handle transaction object instead of transactionId
- Fixed incoming and outgoing icon and description from transaction table details [TRANS-3416]
- Removed negative sign on transaction table details [TRANS-3392]
- Fix CXP configuration for check-images

## 4.2.0

### Fixed

- New `transactionAmountCurrency` property inside Transactions added to replace `currency` and `amount` [TRANS-3392]

## 4.1.0

### Added

- CXP configuration for `showCheckImages` [TRANS-4119]
- Check images model [TRANS-4140]
- Exposed fn to interact with the check image http service [TRANS-4120]
- Created `transactionsDetailsService` and add event handler when opening a transaction details [TRANS-4173]
- Created `bb-transaction-check-image` component [TRANS-4173]

### Fixed
- data-ang method rename in check images

## 4.0.1 

### Fixed

- Fixed font-size for `bb-transactions-number-of-results-found` [TRANS-3660]

## 4.0.0

###  Added

- Replaced util class from `bb-transactions-number-of-results-found` [TRANS-3190]

### Fixed

- Change transactions list widget to relay on a new observable that counts displayed transactions rather than the transactions count header.
- Fixed memory leak in transactions widget by completing all subjects from transaction service [MAINT-9023]
- Fixed paddings and margins for number of transactions displayed [TRANS-3562]
- Fixed color for `bb-transactions-number-of-results-found` [TRANS-3808]

## 3.16.2

### Fixed

- Change transactions list widget to relay on a new observable that counts displayed transactions rather than the transactions count header.

## 3.16.1

### Fixed

- Fixed memory leak in transactions widget by completing all subjects from transaction service [MAINT-9023]

## 3.16.0

### Added

- Added descriptions to i18n tags [`TRANS-1796`]
- Add `pendingTransactionsService` [TRANS-2910]
- Updated `Transaction` model to include the `status` property ['TRANS-2911']
- Implemented new method `isSearchApplied` [TRANS-3171]
- Add `numberOfResultsFound` to calculate number of results for both pending and transactions list [TRANS-2909] 
- Implemented an ngSwitch to decide which message to be displayed when an export fails [TRANS-2903]
- Remove `state` field from transactions and use `billingStatus` for handling category icons
- Removed state property from exportOptions object to avoid it being sent as parameter when exporting [TRANS-2903]
- Fix `exportConfig` options to be accessible [TRANS-3071] 
- Add missing `availableExportTypesHeader`and `transactionsList2.availableExportTypesHeader` to transactions-list.model     [TRANS-3328]
- New Observable to fetch the state of the `Show Category` property [`TRANS-3343`]

## 3.15.0

### Added

- Add `bb.transaction.showPendingTransactionsOnTop` configuration parameter and remove pending transactions when such parameter is set as true [TRANS-2908]

## 3.14.0

### Added 

- Added configurations for the new Jenkins Pipeline and fixed a breaking e2e test because of timezone differences  [TRANS-3068]

## 3.13.2

### Fixed

- Search textbox was causing the services call twice the backend API and it was not possible to filter and search at the same time [TRANS-3171]

## 3.13.1

### Fixed

- `bbTransactionsNumberOfResultsFoundCustomizable` was missing hostRef references on the used variables. [TRANS-2817]

## 3.13.0

### Added

- `bb-transactions-number-of-results-found` is now an extension slot with proper UT
named `bbTransactionsNumberOfResultsFoundCustomizable`. [TRANS-2817]

## 3.12.0

### Added

- Fix breaking change after introducing OFX headers

## 3.11.0

### Added

- Remove transactions export directive and move OFX errors to container level
- Fix breaking change from product summary when renaming `alias` field to `bankAlias`

## 3.10.0

### Added

- Implement additional response headers for OFX export functionality

## 3.9.0

### Fixed

- Transactions export when filters are applied [TRANS-2686]

## 3.6.0

### Added

- Upgrade to foundation-ang@4.8.0

### Fixed

- Removed unnecessary dependecy

## 3.5.0

### Added 

- Added export type configuration [TRANS-1264]

## 3.4.0

### Added 

- Added `AccountDataHttpModule` to transactions-common-module

## 3.3.1

### Fix

- Fix issues with karma

## 3.3.0

### Added 

- Show Own Account number [TRANS-2265]

## 3.2.0

### Added 

- Add filter by transaction type functionality [TRANS-2281]

## 3.1.0

### Added

- Change category modal [LF-4288]
- `bbTransactionsErrorStateCustomizable`, customizable template for when an error occurs
  [MAINT-7345]
- `bbTransactionsEmptyStateCustomizable`, customizable template for when a transactions query
  returns 0 results [MAINT-7345]

## 3.0.0

### Dependency updates 

- Add change category button to transaction-details [LF-4286]

## 3.0.0-alpha.6

### Dependency updates 

- Migrate to `angular@8.0.0` [TRANS-2255]

## 3.0.0-alpha.5

### Added

- Added `sort` field to `TransactionsList` model, which contains the sorting configuration of the
  response [MAINT-7076]

## 3.0.0-alpha.4

### Fixes

- Fix breaking changes from product summary

## 3.0.0-alpha.3

### Fixes

Remove `Object.assign` calls from the get-params model.

## 3.0.0-alpha.2

### Fixes

Remove `Object.assign` calls from the transactions services.

## 3.0.0-alpha.1

- Update peer dependencies

## 3.0.0-alpha.0

- Update peerDependencies to use angular 8

## 2.2.1 
## 2.4.0

### Added

- Updated list options model to accept array of `arrangementId`s [TRANS-1849]
- Updated service to pass `arrangementsIds` in case multiple accounts are passed [TRANS-1849]

## 2.3.1

### Added

- Added `sort` field to `TransactionsList` model, which contains the sorting configuration of the
  response [MAINT-7076]

## 2.3.0

### Changed

- `TransactionsSortOptions` model aligned with spec [TRANS-2105]

## 2.2.0

### Added

- Add `initialSortOptions` to `BaseTransactionsContainer` [MAINT-7076]
- Read `bb.transaction.initialSortOptions` from widget preferences [MAINT-7076]

### Changed

- Changed default sort parameters in `TransactionsService` from "bookingDate DESC" to empty
  [MAINT-7076]
- Add All option to `transactions-filter-option.module` and `constants.ts` [TRANS-1944]

## 2.1.0 

### Added

- Add sort model to transactions services and transactions base classes [TRANS-1793]
- Add `TransactionsNumberOfResultsFoundComponent` [TRANS-1946]

## 2.0.0

### Changed

- Remove deprecated properties and customizable templates [TRANS-1934]

## 1.4.1

### Fixed

- Fix undefined value sent in the transaction.service [TRANS-1942]

## 1.4.0

### Added

- Add event listener to refresh transaction list [TRANS-1942]

## 1.3.0

### Added

- Add fields to transactions model

## 1.2.3

### Fixed

- Internal code improvements

## 1.2.2

### Fixed

- Unit tests improved

## 1.2.1

### Fixed

- Internal code formatting improved

## 1.0.0

### Added

- Add Filter features to `base-transactions-container` [TRANS-1792]
- Add Search features to `base-transactions-container` [TRANS-1791]
- Add pagination features to `base-transactions-container` [TRANS-1848]
- Add common services and models from transactions-list-widget and transactions-table-widget [TRANS-1788]
