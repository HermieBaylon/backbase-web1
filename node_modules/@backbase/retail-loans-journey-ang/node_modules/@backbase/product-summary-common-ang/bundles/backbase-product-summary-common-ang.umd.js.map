{"version":3,"file":"backbase-product-summary-common-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/product-summary-common-ang/src/classes/product-summary-account-details-base/product-summary-account-details-base.component.ts","../../../../libs/product-summary-common-ang/src/classes/product-summary-account-details-base/product-summary-account-details-base.module.ts","../../../../libs/product-summary-common-ang/src/classes/responsive-container/constants.ts","../../../../libs/product-summary-common-ang/src/classes/responsive-container/responsive-container.component.ts","../../../../libs/product-summary-common-ang/src/classes/responsive-container/responsive-container.module.ts","../../../../libs/product-summary-common-ang/src/model/providers.ts","../../../../libs/product-summary-common-ang/src/product-summary-common-ang.module.ts","../../../../libs/product-summary-common-ang/src/services/download-resources.service.ts","../../../../libs/product-summary-common-ang/src/services/dom-attributes.service.ts","../../../../libs/product-summary-common-ang/src/model/types.ts","../../../../libs/product-summary-common-ang/src/model/constants.ts","../../../../libs/product-summary-common-ang/src/services/balance-history/colors-helper.ts","../../../../libs/product-summary-common-ang/src/errors/balance-history-service-errors.ts","../../../../libs/product-summary-common-ang/src/services/balance-history/balance-history.service.ts","../../../../libs/product-summary-common-ang/src/errors/accounts-overview-service-error.ts","../../../../libs/product-summary-common-ang/src/services/accounts/product-summary-accounts.service.ts","../../../../libs/product-summary-common-ang/src/helpers/helpers.ts","../../../../libs/product-summary-common-ang/src/services/accounts/products-external-info.service.ts","../../../../libs/product-summary-common-ang/src/services/user/product-summary-user-permissions.service.ts","../../../../libs/product-summary-common-ang/src/services/widget-properties/product-summary-widget-properties.service.ts","../../../../libs/product-summary-common-ang/src/model/currency-to-country-map.ts","../../../../libs/product-summary-common-ang/src/model/test-mock.ts","../../../../libs/product-summary-common-ang/src/helpers/comparison.ts","../../../../libs/product-summary-common-ang/src/helpers/test-helper.ts","../../../../libs/product-summary-common-ang/src/pipes/format/absolute-value.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/format/format.module.ts","../../../../libs/product-summary-common-ang/src/pipes/product-number/product-number-value.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/product-number/product-number-type.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/product-number/product-number-format.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/product-number/product-number.module.ts","../../../../libs/product-summary-common-ang/src/pipes/validation/is-defined.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/validation/is-in-array.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/validation/is-percent-value.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/validation/is-product-kind.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/validation/validation.module.ts","../../../../libs/product-summary-common-ang/src/pipes/date/date-updated-ago.pipe.ts","../../../../libs/product-summary-common-ang/src/pipes/date/date.module.ts","../../../../libs/product-summary-common-ang/backbase-product-summary-common-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MaskableAttribute } from '@backbase/data-ang/arrangements';\nimport {\n  ProductDetailsAvailability,\n  ProductMaskableAttribute,\n  AccountArrangementItem,\n} from '../../model/product-summary-types';\n\n@Component({ template: '' })\nexport class ProductSummaryAccountDetailsBaseComponent {\n  /**\n   * Product type data that this component displays.\n   */\n  @Input() set product(data: AccountArrangementItem | undefined) {\n    this._product = data;\n    this.infoAvailability = this.getProductInfoAvailability(data);\n  }\n  get product(): AccountArrangementItem | undefined {\n    return this._product;\n  }\n  private _product: AccountArrangementItem | undefined;\n  /**\n   * List of maskable attributes. Holds states of the attributes.\n   */\n  @Input() maskableAttributes: ProductMaskableAttribute[] = [];\n  /**\n   * Event when a user clicked on the `unmask-attribute-button` button\n   */\n  @Output() unmaskAttribute: EventEmitter<MaskableAttribute> = new EventEmitter<MaskableAttribute>();\n  /**\n   * Event when a user clicked on the `mask-attribute-button` button\n   */\n  @Output() maskAttribute: EventEmitter<MaskableAttribute> = new EventEmitter<MaskableAttribute>();\n\n  /**\n   * All unmaskable attributes\n   */\n  readonly maskableAttribute = MaskableAttribute;\n  /**\n   * Details info sections availability\n   */\n  infoAvailability: ProductDetailsAvailability = {};\n\n  /**\n   * Returns `true` if the given `attributeName` is masked\n   *\n   * @param attributeName\n   */\n  isMasked(attributeName: MaskableAttribute): boolean {\n    const maskableAttribute = this.maskableAttributes.find(attribute => attribute.attributeName === attributeName);\n    return maskableAttribute?.masked === undefined ? true : maskableAttribute?.masked;\n  }\n  /**\n   * Event handler for the `click` event of the unmask buttons\n   * Emits `MaskableAttribute` to the `unmaskAttribute` Output\n   *\n   * @param attributeName\n   */\n  onUnmaskAttribute(attributeName: MaskableAttribute) {\n    if (Object.values(MaskableAttribute).includes(attributeName)) {\n      this.unmaskAttribute.emit(attributeName);\n    }\n  }\n  /**\n   * Event handler for the `click` event of the mask buttons\n   * Emits `MaskableAttribute` to the `maskAttribute` Output\n   *\n   * @param attributeName\n   */\n  onMaskAttribute(attributeName: MaskableAttribute) {\n    if (Object.values(MaskableAttribute).includes(attributeName)) {\n      this.maskAttribute.emit(attributeName);\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars,no-unused-vars\n  protected getProductInfoAvailability(product: AccountArrangementItem | undefined): ProductDetailsAvailability {\n    return {};\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ProductSummaryAccountDetailsBaseComponent } from './product-summary-account-details-base.component';\n\n@NgModule({\n  declarations: [ProductSummaryAccountDetailsBaseComponent],\n  exports: [ProductSummaryAccountDetailsBaseComponent],\n})\nexport class ProductSummaryAccountDetailsBaseModule {}\n","export const SIZE_TABLET_DEFAULT = 768;\nexport const SIZE_MOBILE_DEFAULT = 375;\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, HostListener, Input } from '@angular/core';\nimport { SIZE_MOBILE_DEFAULT, SIZE_TABLET_DEFAULT } from './constants';\nimport { ResponsiveView } from './types';\n\n@Component({ template: '' })\nexport class ResponsiveContainerComponent implements AfterViewInit {\n  @Input()\n  get responsiveView(): ResponsiveView {\n    return this._customResponsiveView || this._responsiveView;\n  }\n\n  set responsiveView(value: ResponsiveView) {\n    this._customResponsiveView = value;\n  }\n  get sizeMobile(): number {\n    return this._sizeMobile;\n  }\n\n  set sizeMobile(value: number) {\n    this._sizeMobile = value;\n  }\n  get sizeTablet(): number {\n    return this._sizeTablet;\n  }\n\n  set sizeTablet(value: number) {\n    this._sizeTablet = value;\n  }\n  /**\n   * Specifies screen size: `mobile` | `tablet` | 'screen'\n   *\n   * @default 'screen'\n   */\n  private _responsiveView: ResponsiveView = 'screen';\n  private _customResponsiveView: ResponsiveView | undefined;\n  private _element: ElementRef<HTMLElement>;\n  private _changeDetector: ChangeDetectorRef;\n  private _sizeTablet = SIZE_TABLET_DEFAULT;\n  private _sizeMobile = SIZE_MOBILE_DEFAULT;\n\n  constructor(element: ElementRef<HTMLElement>, changeDetector: ChangeDetectorRef) {\n    this._element = element;\n    this._changeDetector = changeDetector;\n  }\n\n  /**\n   * @internal\n   */\n  ngAfterViewInit() {\n    if (!this._customResponsiveView) {\n      this.checkElementSize();\n      this._changeDetector.detectChanges();\n    }\n  }\n\n  /**\n   * Event handler on `windows:resize`\n   * Checks size of the container\n   */\n  @HostListener('window:resize', [])\n  onResize() {\n    if (!this._customResponsiveView) {\n      this.checkElementSize();\n    }\n  }\n\n  /**\n   * Checks width of the parent container and updates `isSmallScreen$` and `isExtraSmallScreen$`\n   */\n  checkElementSize() {\n    const containerWidth = this._element.nativeElement?.firstElementChild?.getBoundingClientRect().width || 0;\n    this._responsiveView = this.getResponsiveView(containerWidth);\n  }\n\n  private getResponsiveView(containerWidth: number): ResponsiveView {\n    let responseView: ResponsiveView = 'screen';\n    if (containerWidth <= this.sizeMobile) {\n      responseView = 'mobile';\n    } else if (containerWidth <= this.sizeTablet) {\n      responseView = 'tablet';\n    }\n    return responseView;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ResponsiveContainerComponent } from './responsive-container.component';\n\n@NgModule({\n  declarations: [ResponsiveContainerComponent],\n  exports: [ResponsiveContainerComponent],\n})\nexport class ResponsiveContainerModule {}\n","import { InjectionToken } from '@angular/core';\nimport { AccountAliasDisplayingLevel } from './types';\n\nexport type LocalWindow = Window & typeof globalThis;\n\nexport const WINDOW = new InjectionToken<string>('ProductSummaryCommon :: WindowToken');\n\nexport const windowFactory = () => window;\n\nexport const WindowProvider = {\n  provide: WINDOW,\n  useFactory: windowFactory,\n};\n\n/**\n * Injection token for widget properties configuration\n */\nexport const PRODUCT_SUMMARY_WIDGET_PROPERTIES = new InjectionToken('ProductSummaryCommon :: WidgetProperties');\n\n/**\n * Injection token for account alias displaying level configuration\n */\nexport const ACCOUNT_ALIAS_DISPLAYING_LEVEL = new InjectionToken<AccountAliasDisplayingLevel>(\n  'ProductSummaryCommon :: AccountAliasDisplayingLevel',\n);\n","import '@angular/localize/init';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NotificationModule } from '@backbase/ui-ang/notification';\nimport { ProductSummaryAccountDetailsBaseModule } from './classes/product-summary-account-details-base/product-summary-account-details-base.module';\nimport { ResponsiveContainerModule } from './classes/responsive-container/responsive-container.module';\nimport { WindowProvider } from './model/providers';\n\nconst sharedModules = [NotificationModule, ProductSummaryAccountDetailsBaseModule, ResponsiveContainerModule];\n\n@NgModule({\n  imports: [CommonModule, ...sharedModules],\n  exports: [...sharedModules],\n  providers: [WindowProvider],\n})\nexport class ProductSummaryCommon {}\n","import { Inject, Injectable } from '@angular/core';\nimport { WINDOW, LocalWindow } from '../model/providers';\n\n@Injectable()\nexport class DownloadResourcesService {\n  constructor(@Inject(WINDOW) private readonly localWindow: LocalWindow) {}\n\n  downloadFile(name: string, type: string, data: BlobPart) {\n    const fileData = new Blob([data], { type });\n    if (this.isFileSaverAvailable()) {\n      this.downloadViaFileSaver(name, fileData);\n    } else {\n      this.downloadViaLink(name, fileData);\n    }\n  }\n\n  private isFileSaverAvailable(): boolean {\n    const { navigator } = this.localWindow;\n    // @ts-ignore\n    return navigator !== undefined && navigator.msSaveOrOpenBlob !== undefined;\n  }\n\n  private downloadViaFileSaver(name: string, data: Blob) {\n    const { navigator } = this.localWindow;\n    // @ts-ignore\n    navigator.msSaveOrOpenBlob(data, name);\n  }\n\n  private downloadViaLink(name: string, data: Blob) {\n    const { document, URL } = this.localWindow;\n    const downloadLink = document.createElement('a');\n    downloadLink.href = URL.createObjectURL(data);\n    downloadLink.download = name;\n    downloadLink.click();\n    downloadLink.remove();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n/**\n * Utility service for DOM manipulations\n */\n@Injectable()\nexport class DomAttributesService {\n  private idPrefix = 'bb_product_summary_element_';\n  private nextId = 0;\n\n  /**\n   * Generates unique Id for product-summary DOM elements\n   */\n  generateId(): string {\n    return `${this.idPrefix}${this.nextId++}`;\n  }\n}\n","import { PageParams } from '@backbase/foundation-ang/data-http';\nimport {\n  ProductSummaryItem,\n  AccountBalanceHistoryItem,\n  OrderByField,\n  SortDirection,\n} from '@backbase/data-ang/arrangements';\nimport { AlertType } from '@backbase/ui-ang/alert';\nimport { PaymentCardNumberFormat } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { ProductDetailsAvailability, AccountArrangementItem } from './product-summary-types';\n\nexport enum HttpResponseType {\n  BODY = 'body',\n  RESPONSE = 'response',\n  EVENT = 'event',\n}\n\nexport interface Customizable {\n  [key: string]: any;\n}\n\nexport interface BalanceHistoryPaginated {\n  count: number;\n  items: Array<AccountBalanceHistoryItem>;\n  params: any;\n}\n\nexport interface WidgetProperties {\n  businessFunction: string;\n  privilege: string;\n  resourceName: string;\n  size: number;\n}\n\nexport interface ListParams {\n  pagination: PageParams;\n  paginationType: string;\n}\n\nexport interface BalanceHistorySeriesParams extends Customizable {\n  dateFrom?: string;\n  dateTo?: string;\n  timePeriod?: string;\n  format?: string;\n  paginationType?: string;\n}\n\nexport interface BalanceHistoryPaginationParams extends Customizable {\n  dateFrom?: string;\n  dateTo?: string;\n  timePeriod?: string;\n  format?: string;\n  from: number;\n  size?: number;\n  paginationType?: string;\n}\n\nexport interface GetBalanceHistoryRequestSeriesObjectType extends Customizable {\n  arrangementIds: string;\n  params: BalanceHistorySeriesParams;\n}\n\nexport interface GetBalanceHistoryRequestPaginatedObjectType extends Customizable {\n  arrangementId: string;\n  params: BalanceHistoryPaginationParams;\n}\n\nexport interface BalanceHistoryItem extends Customizable {\n  dateFrom: string;\n  dateTo: string;\n  valuePtc: string;\n  value: {\n    currency?: string;\n    balance?: string | number;\n  };\n}\n\nexport interface BalanceHistoryData extends Customizable {\n  name: any;\n  value: string | number | undefined;\n}\n\nexport interface BalanceHistoryDataSeries extends Customizable {\n  name: string;\n  series: BalanceHistoryData[];\n}\n\nexport enum BalanceHistoryExportFormat {\n  JSON = 'application/json',\n  CSV = 'text/csv',\n}\n\nexport interface BalanceHistoryExportData<T = any> {\n  name: string;\n  content: T;\n}\n\nexport interface Series {\n  name: Date;\n  value: number;\n}\n\nexport interface DataSetExtraColors {\n  positive: string;\n  negative: string;\n}\n\nexport interface DataSetExtra {\n  colors?: DataSetExtraColors;\n}\n\nexport interface DataSet {\n  name: string;\n  extra?: DataSetExtra;\n  series: Array<Series>;\n}\n\nexport interface Accounts {\n  count: number;\n  items: ProductSummaryItem[];\n  params: any;\n}\n\nexport enum PaginationType {\n  LOAD_MORE = 'load-more',\n  PAGINATION = 'pagination',\n}\n\nexport enum ProductKindNames {\n  CURRENT_ACCOUNT = 'Current Account',\n  SAVINGS_ACCOUNT = 'Savings Account',\n  TERM_DEPOSIT = 'Term Deposit',\n  LOAN = 'Loan',\n  CREDIT_CARD = 'Credit Card',\n  DEBIT_CARD = 'Debit Card',\n  INVESTMENT_ACCOUNT = 'Investment Account',\n}\n\n/**\n * Default values of \"kindUri\" per product kind\n */\nexport enum ProductKindUri {\n  CREDIT_CARD = 'credit-card',\n  CURRENT_ACCOUNT = 'current-account',\n  DEBIT_CARD = 'debit-card',\n  INVESTMENT_ACCOUNT = 'investment-account',\n  LOAN = 'loan',\n  POCKET = 'pocket',\n  POCKET_PARENT = 'pocket-parent',\n  SAVINGS_ACCOUNT = 'savings-account',\n  TERM_DEPOSIT = 'term-deposit',\n}\n\nexport interface GetProductsummaryRequest extends Customizable {\n  businessFunction: string;\n  resourceName: string;\n  privilege: string;\n  withLatestBalances?: boolean;\n  debitAccount?: boolean;\n  creditAccount?: boolean;\n  externalTransferAllowed?: boolean;\n  productKindName?: string;\n  legalEntityIds?: string[];\n  favorite?: boolean;\n  favoriteFirst?: boolean;\n  searchTerm?: string;\n  from?: number;\n  cursor?: string;\n  size?: number;\n  orderBy?: Array<OrderByField>;\n  direction?: SortDirection;\n  paginationType?: PaginationType | string;\n}\n\nexport interface SwitchViewButtonClass {\n  cards: string | undefined;\n  table: string | undefined;\n}\n\nexport interface AccountState {\n  stateName: string;\n  severity: AlertType;\n}\n\n/**\n * An object representing details content\n */\nexport interface ProductSummaryDetailsCustomizableContext {\n  /**\n   * The product type\n   */\n  product: AccountArrangementItem | undefined;\n  /**\n   * The product card number format\n   */\n  productNumberFormat: PaymentCardNumberFormat | undefined;\n  /**\n   * The product details info availability\n   */\n  infoAvailability: ProductDetailsAvailability;\n}\n\n/**\n * Available navigation types from account\n */\nexport enum AccountNavigationType {\n  PAYMENTS = 'PAYMENTS',\n  TRANSACTIONS = 'TRANSACTIONS',\n  BALANCE_HISTORY = 'BALANCE_HISTORY',\n  STATEMENTS = 'STATEMENTS',\n}\n\n/**\n * Privileges applicable to product summary business functions\n */\nexport enum ProductSummaryPrivilege {\n  VIEW = 'view',\n  EDIT = 'edit',\n}\n\n/**\n * Displaying level of account aliases\n */\nexport enum AccountAliasDisplayingLevel {\n  ACCOUNT = 'ACCOUNT',\n  USER = 'USER',\n}\n\n/**\n * Duplicates validation settings from the `user-preferences` schema of fe-presentation-spec\n * TODO: remove these constants, when min/max length settings will be part of the generated client API\n */\nexport const UserPreferencesValidationSettings = {\n  ALIAS_MAX_LENGTH: 50,\n};\n","import { AccountNavigationType } from './types';\n\n//TODO: check if this can be like id\nexport const defaultArrangementName = '';\n\nexport const WidgetProperty = {\n  BUSINESS_FUNCTION: 'businessFunction',\n  RESOURCE_NAME: 'resourceName',\n  PRIVILEGE_TYPE: 'privilege',\n  SIZE: 'size',\n  ACTIVE_VIEW: 'activeView',\n};\n\nexport const SMALL_SCREEN_SIZE = 640;\n\nexport const EXTRA_SMALL_SCREEN_SIZE = 576;\n\nexport const DEFAULT_DEBOUNCE_TIME = 300;\n\nexport enum DefaultProductKindNameList {\n  CURRENT_ACCOUNT = 'current-account',\n  SAVINGS_ACCOUNT = 'savings-account',\n  TERM_DEPOSIT = 'term-deposit',\n  LOAN = 'loan',\n  CREDIT_CARD = 'credit-card',\n  DEBIT_CARD = 'debit-card',\n  INVESTMENT_ACCOUNT = 'investment-account',\n}\n\nexport const DefaultProductKindName = DefaultProductKindNameList.CURRENT_ACCOUNT;\n\nexport const CardProductKindName = ['credit card', 'debit card'];\n\n/**\n * Default value for allowed navigation types per account,\n * by default all navigation types are allowed\n */\nexport const DefaultAllowedNavigationTypes: AccountNavigationType[] = [\n  AccountNavigationType.BALANCE_HISTORY,\n  AccountNavigationType.PAYMENTS,\n  AccountNavigationType.TRANSACTIONS,\n  AccountNavigationType.STATEMENTS,\n];\n","import { DataSet, Series } from '../../model/types';\n\nexport type Trend = 1 | -1;\n\nexport const getColorTrend = (index: number, series: Series[]): Trend => {\n  const serie = series[index];\n  if (serie.value === 0) {\n    if (index > 0) {\n      return getColorTrend(index - 1, series);\n    }\n\n    if (series.length > 1) {\n      return series[1].value < 0 ? -1 : 1;\n    }\n  }\n\n  if (serie.value < 0) {\n    return -1;\n  }\n\n  return 1;\n};\n\nexport const getCurrentSeriesName = (trend: Trend): 'positive' | 'negative' => (trend === -1 ? 'negative' : 'positive');\n\nexport const getFirstSeries = (datum: Series, trend: Trend): Array<DataSet> => [\n  {\n    name: getCurrentSeriesName(trend),\n    series: [datum],\n  },\n];\n\nexport const createNewSeries = (\n  result: Array<DataSet>,\n  lastResult: DataSet,\n  series: Series,\n  trend: Trend,\n): Array<DataSet> => {\n  const lastName: Date = lastResult.series[lastResult.series.length - 1].name;\n  const lastValue: number = lastResult.series[lastResult.series.length - 1].value;\n  const valuesSum: number = Math.abs(lastValue) + Math.abs(series.value);\n  const step: number = series.name.getTime() - lastName.getTime();\n  const valuesRatio: number = Math.abs(lastValue) / valuesSum;\n  const prevValue = lastResult.series[lastResult.series.length - 1].value;\n  const crossingPoint: Series = { name: new Date(lastName.getTime() + step * valuesRatio), value: 0 };\n  const crossPointSection = prevValue ? [crossingPoint] : [];\n\n  return [\n    ...result.slice(0, -1),\n    {\n      name: lastResult.name,\n      series: [...lastResult.series, ...crossPointSection],\n    },\n    {\n      name: getCurrentSeriesName(trend),\n      series: [crossingPoint, series],\n    },\n  ];\n};\n\nexport const concatExistingSeries = (result: Array<DataSet>, lastResult: DataSet, series: Series): Array<DataSet> => {\n  const name = lastResult.name;\n  return [\n    ...result.slice(0, -1),\n    {\n      name,\n      series: [...lastResult.series, series],\n    },\n  ];\n};\n\nexport const splitDataByTrend = (series: Array<Series>): Array<DataSet> =>\n  series.reduce((result: Array<DataSet>, seriesData: Series, i: number) => {\n    const currentTrend = getColorTrend(i, series);\n\n    if (i === 0) {\n      return getFirstSeries(seriesData, currentTrend);\n    }\n\n    const previousTrend = getColorTrend(i - 1, series);\n    const lastResult = result[result.length - 1];\n\n    if (previousTrend === currentTrend) {\n      return concatExistingSeries(result, lastResult, seriesData);\n    } else {\n      return createNewSeries(result, lastResult, seriesData, currentTrend);\n    }\n  }, []);\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class BalanceHistoryNotFound {\n  messages: string[];\n  kind: 'BalanceHistoryNotFound' = 'BalanceHistoryNotFound';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class BalanceHistoryBadRequest {\n  messages: string[];\n  kind: 'BalanceHistoryBadRequest' = 'BalanceHistoryBadRequest';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class BalanceHistoryAccessDenied {\n  messages: string[];\n  kind: 'BalanceHistoryAccessDenied' = 'BalanceHistoryAccessDenied';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class BalanceHistoryUnknownError {\n  messages: string[];\n  kind: 'BalanceHistoryUnknownError' = 'BalanceHistoryUnknownError';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = [response.message];\n  }\n}\n\nexport class BalanceHistoryConnectivityError {\n  messages: string[];\n  kind: 'BalanceHistoryConnectivityError' = 'BalanceHistoryConnectivityError';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport type BalanceHistoryError =\n  | BalanceHistoryAccessDenied\n  | BalanceHistoryBadRequest\n  | BalanceHistoryNotFound\n  | BalanceHistoryConnectivityError\n  | BalanceHistoryUnknownError;\n\nexport const parseBalanceHistoryError = (error: HttpErrorResponse): BalanceHistoryError => {\n  if (error.error instanceof ErrorEvent) {\n    return new BalanceHistoryUnknownError(error);\n  } else {\n    switch (error.status) {\n      case 0:\n        return new BalanceHistoryConnectivityError(error);\n      case 401:\n        return new BalanceHistoryAccessDenied(error);\n      case 403:\n        return new BalanceHistoryAccessDenied(error);\n      case 400:\n        return new BalanceHistoryBadRequest(error);\n      case 404:\n        return new BalanceHistoryNotFound(error);\n      default:\n        return new BalanceHistoryUnknownError(error);\n    }\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { HttpErrorResponse, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport {\n  AccountBalanceHistory,\n  AccountBalanceHistoryItem,\n  AccountsHttpService,\n  GetBalanceHistoryForArrangementRequestParams,\n  GetBalanceHistoryRequestParams,\n  TimePeriod,\n} from '@backbase/data-ang/arrangements';\nimport { BehaviorSubject, Observable, of, ReplaySubject } from 'rxjs';\nimport { catchError, distinctUntilChanged, filter, map, scan, switchMap, tap } from 'rxjs/operators';\nimport {\n  BalanceHistoryDataSeries,\n  BalanceHistoryExportData,\n  BalanceHistoryExportFormat,\n  BalanceHistoryPaginated,\n  BalanceHistoryPaginationParams,\n  BalanceHistorySeriesParams,\n  GetBalanceHistoryRequestPaginatedObjectType,\n  GetBalanceHistoryRequestSeriesObjectType,\n  HttpResponseType,\n  PaginationType,\n} from '../../model/types';\nimport { defaultArrangementName } from '../../model/constants';\nimport { splitDataByTrend } from './colors-helper';\nimport {\n  BalanceHistoryError,\n  parseBalanceHistoryError,\n  /**\n   * these unused imports here because of issue in api-extractor\n   * issue: https://github.com/microsoft/rushstack/issues/2140\n   */\n  /* eslint-disable @typescript-eslint/no-unused-vars,no-unused-vars */\n  BalanceHistoryAccessDenied,\n  BalanceHistoryBadRequest,\n  BalanceHistoryNotFound,\n  BalanceHistoryConnectivityError,\n  BalanceHistoryUnknownError,\n  /* eslint-enable */\n} from '../../errors/balance-history-service-errors';\n\n@Injectable()\nexport class BalanceHistoryCommonService {\n  private readonly reportDefaultFileName = {\n    [BalanceHistoryExportFormat.CSV]: 'balance-history.csv',\n    [BalanceHistoryExportFormat.JSON]: 'balance-history.json',\n  };\n  private readonly requestObjectSeries = new ReplaySubject<GetBalanceHistoryRequestSeriesObjectType>(1);\n  private readonly requestObjectPaginated = new ReplaySubject<GetBalanceHistoryRequestPaginatedObjectType>(1);\n\n  constructor(private readonly accountDataService: AccountsHttpService) {}\n\n  readonly errorSeries = new BehaviorSubject<BalanceHistoryError | undefined>(undefined);\n  readonly errorPaginated = new BehaviorSubject<BalanceHistoryError | undefined>(undefined);\n\n  readonly loadingPaginated = new BehaviorSubject<boolean>(true);\n  readonly loadingSeries = new BehaviorSubject<boolean>(true);\n\n  readonly balanceHistorySeries: Observable<AccountBalanceHistory | undefined> = this.requestObjectSeries.pipe(\n    distinctUntilChanged(),\n    filter(param => !!param.arrangementIds),\n    tap(() => this.loadingSeries.next(true)),\n    tap(() => this.errorSeries.next(undefined)),\n    switchMap(res =>\n      this.getBalanceHistorySeries(res).pipe(\n        catchError((errorSeries: BalanceHistoryError) => {\n          this.errorSeries.next(errorSeries);\n          return of(undefined);\n        }),\n      ),\n    ),\n    tap(() => this.loadingSeries.next(false)),\n  );\n\n  readonly balanceHistoryPaginated: Observable<BalanceHistoryPaginated | undefined> = this.requestObjectPaginated.pipe(\n    distinctUntilChanged(),\n    filter(param => !!param.arrangementId),\n    tap(() => this.loadingPaginated.next(true)),\n    tap(() => this.errorPaginated.next(undefined)),\n    switchMap(res =>\n      this.getBalanceHistoryPaginated(res).pipe(\n        catchError((errorPaginated: BalanceHistoryError) => {\n          this.errorPaginated.next(errorPaginated);\n          return of({\n            count: 0,\n            items: [],\n            params: res,\n          });\n        }),\n      ),\n    ),\n    scan(\n      (acc: BalanceHistoryPaginated, curr: BalanceHistoryPaginated): BalanceHistoryPaginated => ({\n        count: curr.count,\n        items: this.responsesMerge(acc, curr),\n        params: curr.params,\n      }),\n    ),\n    tap(() => this.loadingPaginated.next(false)),\n  );\n\n  getBalanceHistorySeries(request: GetBalanceHistoryRequestSeriesObjectType) {\n    const parameters = this.getBalanceHistoryRequestParameters(request);\n    return this.accountDataService.getBalanceHistory(parameters).pipe(\n      catchError((error: HttpErrorResponse) => {\n        throw parseBalanceHistoryError(error);\n      }),\n    );\n  }\n\n  getBalanceHistoryPaginated(request: GetBalanceHistoryRequestPaginatedObjectType) {\n    const paginationType = request.params ? request.params.paginationType || '' : '';\n    const from = request.params ? request.params.from || 0 : 0;\n    const parameters = this.getBalanceHistoryForArrangementRequestParameters(request);\n    return this.accountDataService.getBalanceHistoryForArrangement(parameters, HttpResponseType.RESPONSE).pipe(\n      map((res: HttpResponse<Array<AccountBalanceHistoryItem>>) =>\n        this.mapResponseWithCount(res, { from, paginationType }),\n      ),\n      catchError((error: HttpErrorResponse) => {\n        throw parseBalanceHistoryError(error);\n      }),\n    );\n  }\n\n  loadBalanceHistorySeries(requestObjectSeries: Observable<GetBalanceHistoryRequestSeriesObjectType>) {\n    requestObjectSeries.subscribe(this.requestObjectSeries);\n  }\n\n  loadBalanceHistoryPaginated(requestObjectPaginated: Observable<GetBalanceHistoryRequestPaginatedObjectType>) {\n    requestObjectPaginated.subscribe(this.requestObjectPaginated);\n  }\n\n  /**\n   * Returns URL for fetching balance history data\n   *\n   * @param format\n   * @param exportParameters\n   */\n  exportBalanceHistory(\n    format: BalanceHistoryExportFormat,\n    exportParameters: GetBalanceHistoryRequestSeriesObjectType,\n  ): string {\n    const parameters = this.getBalanceHistoryRequestParameters(exportParameters, format);\n    return this.accountDataService.getBalanceHistoryUrl(parameters);\n  }\n\n  /**\n   * Fetches balance history data in one of the available formats\n   *\n   * @param format\n   * @param exportParameters\n   */\n  getBalanceHistory(\n    format: BalanceHistoryExportFormat,\n    exportParameters: GetBalanceHistoryRequestSeriesObjectType,\n  ): Observable<BalanceHistoryExportData> {\n    const parameters = this.getBalanceHistoryRequestParameters(exportParameters, format);\n    const options = { httpHeaderAccept: format as BalanceHistoryExportFormat.CSV };\n\n    return this.accountDataService.getBalanceHistory(parameters, HttpResponseType.RESPONSE, false, options).pipe(\n      map(({ headers, body }: HttpResponse<any>) => {\n        const defaultFileName = this.reportDefaultFileName[format];\n        const fileNameInHeaders = this.getFileNameFromHeaders(headers);\n        return { name: fileNameInHeaders || defaultFileName, content: body };\n      }),\n    );\n  }\n\n  private responsesMerge(\n    acc: BalanceHistoryPaginated,\n    current: BalanceHistoryPaginated,\n  ): Array<AccountBalanceHistoryItem> {\n    if (\n      acc &&\n      acc.items &&\n      current &&\n      current.items &&\n      acc.params.paginationType === PaginationType.LOAD_MORE &&\n      current.params.from !== 0\n    ) {\n      return [...acc.items, ...current.items];\n    }\n\n    return current.items;\n  }\n\n  processBalanceHistory(balanceHistory: AccountBalanceHistory): BalanceHistoryDataSeries[] {\n    const [balanceHistoryItem] = balanceHistory.items;\n    const defaultSeries = {\n      name: defaultArrangementName,\n      series: balanceHistoryItem.balanceHistory.map(({ dateTo, value, valuePtc }) => ({\n        name: new Date(dateTo),\n        value: ((value ? value.balance : valuePtc) as unknown) as number,\n      })),\n    };\n\n    return defaultSeries ? splitDataByTrend(defaultSeries.series) : [];\n  }\n\n  private mapResponseWithCount(\n    response: HttpResponse<Array<AccountBalanceHistoryItem>>,\n    { from, paginationType }: { from: number; paginationType: PaginationType | string },\n  ): BalanceHistoryPaginated {\n    // eslint-disable-next-line no-null/no-null\n    if (response.body === null) {\n      throw new Error();\n    }\n    const headerCount = response.headers ? response.headers.get('x-total-count') : undefined;\n    const counter = headerCount ? parseInt(headerCount, 10) : response.body.length || 0;\n\n    return {\n      count: counter,\n      items: response.body,\n      params: { from, paginationType },\n    };\n  }\n\n  private getBalanceHistoryRequestParameters(\n    { arrangementIds, params }: GetBalanceHistoryRequestSeriesObjectType,\n    requestFormat?: string,\n  ): GetBalanceHistoryRequestParams {\n    const format = requestFormat ?? params.format;\n    return { arrangementIds, ...this.toRequestParameters({ ...params, format }) };\n  }\n\n  private getBalanceHistoryForArrangementRequestParameters({\n    arrangementId,\n    params,\n  }: GetBalanceHistoryRequestPaginatedObjectType): GetBalanceHistoryForArrangementRequestParams {\n    const format = undefined;\n    return { arrangementId, ...this.toRequestParameters({ ...params, format }) };\n  }\n\n  private toRequestParameters(\n    params: BalanceHistorySeriesParams | BalanceHistoryPaginationParams,\n  ): Partial<GetBalanceHistoryRequestParams | GetBalanceHistoryForArrangementRequestParams> {\n    const requestParameters = { ...params, timePeriod: params.timePeriod as TimePeriod | undefined };\n    delete requestParameters.paginationType;\n    if (!requestParameters.format) {\n      delete requestParameters.format;\n    }\n    if (requestParameters.timePeriod) {\n      delete requestParameters.dateFrom;\n      delete requestParameters.dateTo;\n    } else {\n      delete requestParameters.timePeriod;\n    }\n    return requestParameters;\n  }\n\n  private getFileNameFromHeaders(headers?: HttpHeaders): string | undefined {\n    const contentDisposition = (headers && headers.get('content-disposition')) || '';\n    const contentDispositionWithoutQuotes = contentDisposition.replace(/['\"]*/g, '');\n    return (contentDispositionWithoutQuotes.match(/filename[^;=\\n]*=([^;\\n]*)/) || [])[1];\n  }\n}\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class AccountsOverviewNotFound {\n  messages: string[];\n  kind: 'AccountsOverviewNotFound' = 'AccountsOverviewNotFound';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class AccountsOverviewBadRequest {\n  messages: string[];\n  kind: 'AccountsOverviewBadRequest' = 'AccountsOverviewBadRequest';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class AccountsOverviewAccessDenied {\n  messages: string[];\n  kind: 'AccountsOverviewAccessDenied' = 'AccountsOverviewAccessDenied';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class AccountsOverviewUnknownError {\n  messages: string[];\n  kind: 'AccountsOverviewUnknownError' = 'AccountsOverviewUnknownError';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = [response.message];\n  }\n}\n\nexport class AccountsOverviewConnectivityError {\n  messages: string[];\n  kind: 'AccountsOverviewConnectivityError' = 'AccountsOverviewConnectivityError';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport type AccountsOverviewError =\n  | AccountsOverviewAccessDenied\n  | AccountsOverviewBadRequest\n  | AccountsOverviewNotFound\n  | AccountsOverviewConnectivityError\n  | AccountsOverviewUnknownError;\n\nexport const parseError = (error: HttpErrorResponse): AccountsOverviewError => {\n  if (error.error instanceof ErrorEvent) {\n    return new AccountsOverviewUnknownError(error);\n  } else {\n    switch (error.status) {\n      case 0:\n        return new AccountsOverviewConnectivityError(error);\n      case 401:\n        return new AccountsOverviewAccessDenied(error);\n      case 403:\n        return new AccountsOverviewAccessDenied(error);\n      case 400:\n        return new AccountsOverviewBadRequest(error);\n      case 404:\n        return new AccountsOverviewNotFound(error);\n      default:\n        return new AccountsOverviewUnknownError(error);\n    }\n  }\n};\n","import { Injectable, TemplateRef, Inject } from '@angular/core';\nimport {\n  ProductSummaryHttpService,\n  ArrangementsHttpService,\n  BalancesHttpService,\n  AccountUserPreferences,\n  AggregatedBalances,\n  UnmaskedAttributeRequestParams,\n} from '@backbase/data-ang/arrangements';\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { Accounts, GetProductsummaryRequest, HttpResponseType, PaginationType } from '../../model/types';\nimport { BehaviorSubject, combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { catchError, distinctUntilChanged, map, scan, switchMap, take, tap } from 'rxjs/operators';\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { Pubsub, PUBSUB } from '@backbase/foundation-ang/web-sdk';\nimport { AccountAggregatedBalanceCurrency } from '@backbase/data-ang/arrangements';\nimport { AccountArrangementItem, ProductSummaryItem } from '../../model/product-summary-types';\nimport {\n  AccountsOverviewError,\n  parseError,\n  /**\n   * these unused imports here because of issue in api-extractor\n   * issue: https://github.com/microsoft/rushstack/issues/2140\n   */\n  /* eslint-disable @typescript-eslint/no-unused-vars,no-unused-vars */\n  AccountsOverviewAccessDenied,\n  AccountsOverviewBadRequest,\n  AccountsOverviewNotFound,\n  AccountsOverviewConnectivityError,\n  AccountsOverviewUnknownError,\n  /* eslint-enable */\n} from '../../errors/accounts-overview-service-error';\n\nexport const bbEventToggleAccountFavoriteUpdate = 'bb.event.toggle-account-favorite.update';\n\n@Injectable()\nexport class ProductSummaryAccountsService {\n  constructor(\n    private readonly productSummaryDataService: ProductSummaryHttpService,\n    private readonly accountDataService: ArrangementsHttpService,\n    private readonly balancesHttpService: BalancesHttpService,\n    private readonly notificationService: NotificationService,\n    @Inject(PUBSUB) private readonly pubSub: Pubsub,\n  ) {\n    this.pubSub.subscribe(bbEventToggleAccountFavoriteUpdate, this.retriggerGetAccounts.bind(this));\n  }\n\n  private readonly requestObject = new ReplaySubject<GetProductsummaryRequest>(1);\n  private readonly favoriteRequestComplete = new BehaviorSubject<boolean>(true);\n  readonly updateError: BehaviorSubject<AccountsOverviewError | undefined> = new BehaviorSubject<\n    AccountsOverviewError | undefined\n  >(undefined);\n  readonly error: BehaviorSubject<AccountsOverviewError | undefined> = new BehaviorSubject<\n    AccountsOverviewError | undefined\n  >(undefined);\n  readonly loading = new BehaviorSubject<boolean>(true);\n  private readonly aggregatedBalancesErrorSubject = new BehaviorSubject<HttpErrorResponse | undefined>(undefined);\n  readonly aggregatedBalancesError = this.aggregatedBalancesErrorSubject.asObservable();\n  private readonly loadingAggregatedBalancesSubject = new BehaviorSubject<boolean>(false);\n  readonly loadingAggregatedBalances = this.loadingAggregatedBalancesSubject.asObservable();\n  private readonly refreshAggregatedBalancesSubject = new BehaviorSubject<boolean>(false);\n\n  readonly accountsList: Observable<Accounts | undefined> = combineLatest([\n    this.requestObject,\n    this.favoriteRequestComplete,\n  ]).pipe(\n    distinctUntilChanged(),\n    tap(() => this.loading.next(true)),\n    switchMap(([requestObject]) => this.getAccounts(requestObject)),\n    scan(\n      (acc: Accounts, curr: Accounts): Accounts => ({\n        count: curr.count,\n        items: this.mergeResponses(acc, curr),\n        params: curr.params,\n      }),\n    ),\n    tap(() => this.error.next(undefined)),\n    catchError((error: AccountsOverviewError) => {\n      this.error.next(error);\n      return of(undefined);\n    }),\n    tap(() => this.loading.next(false)),\n  );\n\n  readonly aggregatedBalances: Observable<AccountAggregatedBalanceCurrency[] | undefined> = combineLatest([\n    this.refreshAggregatedBalancesSubject,\n  ]).pipe(\n    tap(() => this.loadingAggregatedBalancesSubject.next(true)),\n    switchMap(() => this.getAggregatedBalances()),\n    tap(() => this.loadingAggregatedBalancesSubject.next(false)),\n  );\n\n  getAccountById(arrangementId: string): Observable<AccountArrangementItem> {\n    return this.accountDataService.getArrangementById({ arrangementId });\n  }\n  /**\n   * Fetches an unmasked attribute for the given `UnmaskedAttributeRequestParams`\n   *\n   * @param requestParameters\n   */\n  getUnmaskedAttribute(requestParameters: UnmaskedAttributeRequestParams): Observable<string> {\n    return this.accountDataService.unmaskedAttribute(requestParameters, 'body', false, {\n      httpHeaderAccept: 'text/plain',\n    });\n  }\n\n  toggleAccountFavorite(\n    body: AccountUserPreferences,\n    errorTemplateRef: TemplateRef<any> | string,\n    successTemplateRef: TemplateRef<any> | string,\n  ): Observable<any | undefined> {\n    return this.putAccountFavorite(body).pipe(\n      take(1),\n      tap(() => {\n        this.showNotification(successTemplateRef, 'success');\n        this.updateError.next(undefined);\n        this.pubSub.publish(bbEventToggleAccountFavoriteUpdate, undefined);\n      }),\n      catchError((error: AccountsOverviewError) => {\n        this.updateError.next(error);\n        this.showNotification(errorTemplateRef, 'error');\n        return of(undefined);\n      }),\n    );\n  }\n\n  private putAccountFavorite(accountUserPreferences: AccountUserPreferences): Observable<HttpResponse<any>> {\n    return this.accountDataService.updateUserPreferences({ accountUserPreferences }).pipe(\n      catchError((error: HttpErrorResponse) => {\n        throw parseError(error);\n      }),\n    );\n  }\n\n  private getAccounts(requestObject: GetProductsummaryRequest): Observable<Accounts> {\n    const paginationType = requestObject.paginationType || '';\n    const from = requestObject.from || 0;\n    const params = { ...requestObject };\n    delete params.paginationType;\n    return this.productSummaryDataService.getArrangementsByBusinessFunction(params, HttpResponseType.RESPONSE).pipe(\n      map(res => this.mapResponseWithCount(res, { from, paginationType })),\n      catchError((error: HttpErrorResponse) => {\n        throw parseError(error);\n      }),\n    );\n  }\n\n  private mapResponseWithCount(\n    response: HttpResponse<ProductSummaryItem[]>,\n    { from, paginationType }: { from: number; paginationType: PaginationType | string },\n  ): Accounts {\n    // eslint-disable-next-line no-null/no-null\n    if (response.body === null) {\n      throw new Error();\n    }\n    const headerCount = response.headers ? response.headers.get('x-total-count') : undefined;\n    const counter = headerCount ? parseInt(headerCount, 10) : response.body.length || 0;\n\n    return {\n      count: counter,\n      items: response.body || [],\n      params: { from, paginationType },\n    };\n  }\n\n  private mergeResponses(acc: Accounts, current: Accounts): ProductSummaryItem[] {\n    if (\n      acc &&\n      acc.items &&\n      current &&\n      current.items &&\n      acc.params.paginationType === PaginationType.LOAD_MORE &&\n      current.params.from !== 0\n    ) {\n      return [...acc.items, ...current.items];\n    }\n    return current.items;\n  }\n\n  private showNotification(templateRef: TemplateRef<any> | string, modifier: 'success' | 'error') {\n    this.notificationService.showNotification({\n      header: templateRef,\n      modifier,\n      message: '',\n    });\n  }\n\n  getAccountsFrom(requestObject: Observable<GetProductsummaryRequest>) {\n    requestObject.subscribe(this.requestObject);\n  }\n\n  refreshAggregatedBalances() {\n    this.refreshAggregatedBalancesSubject.next(true);\n  }\n\n  private getAggregatedBalances(): Observable<AccountAggregatedBalanceCurrency[] | undefined> {\n    const requestParameters = {};\n    return this.balancesHttpService.getAggregations(requestParameters).pipe(\n      map(response => this.mapResponseToAggregatedBalances(response)),\n      tap(() => this.aggregatedBalancesErrorSubject.next(undefined)),\n      catchError(error => this.parseAggregatedBalanceError(error)),\n    );\n  }\n\n  private mapResponseToAggregatedBalances(aggregations: AggregatedBalances[]) {\n    const allBalances = (aggregations || [{}])[0];\n    return allBalances && allBalances.aggregatedBalances;\n  }\n\n  private parseAggregatedBalanceError(error: HttpErrorResponse) {\n    this.aggregatedBalancesErrorSubject.next(error);\n    return of(undefined);\n  }\n\n  private retriggerGetAccounts() {\n    this.favoriteRequestComplete.next(true);\n  }\n}\n","import { publishReplay, refCount, switchMap } from 'rxjs/operators';\nimport { Observable, combineLatest } from 'rxjs';\nimport { map, pluck } from 'rxjs/operators';\nimport { CardProductKindName, DefaultProductKindNameList } from '../model/constants';\nimport { AccountNumberType } from '@backbase/ui-ang/account-number-pipe';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { Arrangement } from '../model/product-summary-types';\n\nexport const toKebabCase = (accountType = '') =>\n  accountType ? accountType.trim().toLowerCase().split(' ').join('-') : '';\n\nexport const isCardNumber = (account: Arrangement): boolean =>\n  Boolean(account.productKindName && CardProductKindName.includes(account.productKindName.toLowerCase()));\n\nexport const modelItemToBoolean = (value: string | boolean): boolean => {\n  if (typeof value === 'boolean') {\n    return value;\n  }\n  return value === 'true';\n};\n\nexport const isFavorite = (account: Arrangement) => {\n  const accountPreferencesFavoriteValue = account.userPreferences && account.userPreferences.favorite;\n  const accountFavoriteValue = 'favorite' in account ? account.favorite : undefined;\n\n  return accountPreferencesFavoriteValue ?? accountFavoriteValue;\n};\n\nexport const isProductVisible = (product: Arrangement): boolean => {\n  if (product.userPreferences && product.userPreferences.visible !== undefined) {\n    return product.userPreferences.visible;\n  } else if (product.visible !== undefined) {\n    return product.visible;\n  }\n  return true;\n};\n\nexport const isFunction = (param: any) => typeof param === 'function';\n\nexport const findBy = <T = any>(collection: T[], key: string, value: string): T | undefined =>\n  collection.find(item => item && (item as any)[key] === value) as T;\n\nexport const findByName = <T = any>(collection: T[], name: string): T | undefined => findBy(collection, 'name', name);\n\nexport const getAccountAlias = (account: any): string | undefined => {\n  if (account.userPreferences) {\n    return account.userPreferences.alias ? account.userPreferences.alias : account.bankAlias || account.name;\n  } else {\n    return account.bankAlias || account.name || ''; // todo: replace with `??` typesScript is upgraded to 3.7.0\n  }\n};\n\nexport const getProductKindIconName = (productKindName: string): string => {\n  let iconName = toKebabCase(productKindName);\n  const isDefaultProductKindName = Object.values(DefaultProductKindNameList).some(name => iconName === name);\n\n  if (!isDefaultProductKindName) {\n    iconName = 'account';\n  }\n\n  return `${iconName}s`;\n};\n\n/**\n * Gets a valid product number type for a given product\n *\n * @param product\n *\n * for CreditCard/DebitCard:\n * - returns `number` if exists\n * - else `IBAN` if exists\n * - otherwise `BBAN`\n * for other products:\n * - returns `IBAN` if exists\n * - else `BBAN` if exists\n * - otherwise `number`\n */\nexport const getProductNumberType = (product: Arrangement): AccountNumberType => {\n  const isCardFormat = isCardNumber(product);\n\n  if (isCardFormat && 'number' in product) {\n    return 'cardNumber';\n  } else if ('IBAN' in product) {\n    return 'iban';\n  } else if ('BBAN' in product || isCardFormat) {\n    return 'bban';\n  } else {\n    return 'cardNumber';\n  }\n};\n\nexport const processErrorMessages = (messages: string[] | undefined): string | undefined =>\n  messages ? messages.join(' ') : undefined;\n\n/**\n * Sets the passed unmasked attribute to the item\n *\n * @param item\n * @param attributeName\n * @param attributeValue\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const setAttribute = <T = Object>(item: T, attributeName: string, attributeValue: any): T => ({\n  ...(item ? item : ({} as T)),\n  ...(attributeName ? { [attributeName]: attributeValue } : {}),\n});\n\n/**\n * Verifies if values is defined (not null and not undefined)\n *\n * @param value\n */\n// eslint-disable-next-line no-null/no-null\nexport const isDefined = (value: any): boolean => value !== null && value !== undefined;\n/**\n * Returns configuration property based on the priority\n */\nexport const filterInputParameters = <T>(input: Observable<T | undefined>, prop: Observable<T>): Observable<T> =>\n  combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));\n\n/**\n * Caches the request (shares between subscribers)\n *\n * @param request\n */\nexport const cacheRequest = <Params, Result>(request: (params: Params) => Observable<Result>) => (\n  source: Observable<Params>,\n): Observable<Result> => source.pipe(switchMap(request), publishReplay(1), refCount());\n\n/**\n * Returns route parameter\n * takes parameter from component route if parameter exists, otherwise looks for parameter in parent routes\n *\n * @param route\n * @param param\n */\nexport const getRouteParameter = (route: ActivatedRoute, param: string): Observable<string> => {\n  const routeParam = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n  const allParams = route.parent ? [routeParam, getRouteParameter(route.parent, param)] : [routeParam];\n\n  return combineLatest(allParams).pipe(\n    map(params => params[0] || params[1]),\n    map(value => value ?? ''),\n  );\n};\n\n/**\n * Returns true if product has external info (external logo, alias, etc.)\n *\n * @param product\n */\nexport const hasExternalInfo = (product: Arrangement): boolean => product.financialInstitutionId !== undefined;\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map, pluck } from 'rxjs/operators';\nimport {\n  FinancialInstitutionManagerClientHttpService,\n  FinancialInstitution,\n} from '@backbase/data-ang/financial-institution-manager';\nimport { Arrangement, ExternalProductInfo } from '../../model/product-summary-types';\nimport { hasExternalInfo } from '../../helpers/helpers';\n\n/**\n * A service for getting external info for products\n */\n@Injectable()\nexport class ProductsExternalInfoService {\n  constructor(private readonly financialInstitutionsHttpService: FinancialInstitutionManagerClientHttpService) {}\n\n  /**\n   * Fetches external info for products or a single product,\n   * returns products or a single product with external info included\n   */\n  getProductsWithExternalInfo<T extends ExternalProductInfo = Arrangement>(products: T): Observable<T>;\n  getProductsWithExternalInfo<T extends ExternalProductInfo = Arrangement>(products: T[]): Observable<T[]>;\n  getProductsWithExternalInfo<T extends ExternalProductInfo = Arrangement>(products: T | T[]): Observable<T | T[]> {\n    const productsList = Array.isArray(products) ? products : [products];\n    const financialInstitutionIds = this.getAssignedFinancialInstitutionIds(productsList);\n\n    return financialInstitutionIds.length\n      ? this.getFinancialInstitutions(financialInstitutionIds).pipe(\n          map(institutions =>\n            Array.isArray(products)\n              ? productsList.map(product => this.addExternalInfoToProduct(product, institutions))\n              : this.addExternalInfoToProduct(products, institutions),\n          ),\n        )\n      : of(products);\n  }\n\n  private getAssignedFinancialInstitutionIds<T extends ExternalProductInfo = Arrangement>(items: T[]): number[] {\n    const itemsWithExternalInfo = items.filter(hasExternalInfo);\n    const financialInstitutionIds = itemsWithExternalInfo.map(item => item.financialInstitutionId) as number[];\n    return financialInstitutionIds.filter((item, index) => financialInstitutionIds.indexOf(item, index + 1) === -1);\n  }\n\n  private addExternalInfoToProduct<T extends ExternalProductInfo = Arrangement>(\n    product: T,\n    institutions: FinancialInstitution[],\n  ): T {\n    return { ...product, ...this.getExternalInfo(product, institutions) };\n  }\n\n  private getExternalInfo<T extends ExternalProductInfo = Arrangement>(\n    product: T,\n    institutions: FinancialInstitution[],\n  ): ExternalProductInfo {\n    const isExternalInfoAvailable = hasExternalInfo(product);\n    return isExternalInfoAvailable\n      ? { financialInstitution: institutions.find(institution => institution.id === product.financialInstitutionId) }\n      : {};\n  }\n\n  private getFinancialInstitutions(ids: number[]): Observable<FinancialInstitution[]> {\n    return this.financialInstitutionsHttpService.getFinancialInstitutions({ ids }).pipe(pluck('financialInstitutions'));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { GetUserPrivilegesRequestParams, UsersHttpService } from '@backbase/data-ang/accesscontrol';\nimport { AccountNavigationType, ProductSummaryPrivilege } from '../../model/types';\nimport { DefaultAllowedNavigationTypes } from '../../model/constants';\n\n@Injectable()\nexport class ProductSummaryUserPermissionsService {\n  private readonly productSummaryPermissionParameters: GetUserPrivilegesRequestParams = {\n    resourceName: 'Product Summary',\n    functionName: 'Product Summary',\n  };\n  private readonly manageArrangementsPermissionParameters: GetUserPrivilegesRequestParams = {\n    resourceName: 'Product Summary',\n    functionName: 'Manage Arrangement Alias',\n  };\n\n  private readonly productSummaryPrivileges: Observable<\n    ProductSummaryPrivilege[]\n  > = this.usersDataService.getUserPrivileges(this.productSummaryPermissionParameters).pipe(\n    map(privileges => privileges.map(({ privilege }) => privilege as ProductSummaryPrivilege)),\n    shareReplay(),\n  );\n  private readonly managerArrangementsPrivileges: Observable<\n    ProductSummaryPrivilege[]\n  > = this.usersDataService.getUserPrivileges(this.manageArrangementsPermissionParameters).pipe(\n    map(privileges => privileges.map(({ privilege }) => privilege as ProductSummaryPrivilege)),\n    shareReplay(),\n  );\n\n  readonly hasFullViewPermission: Observable<boolean> = this.productSummaryPrivileges.pipe(\n    map(privileges => privileges.includes(ProductSummaryPrivilege.VIEW)),\n    shareReplay(),\n  );\n\n  readonly hasFullEditPermission: Observable<boolean> = this.productSummaryPrivileges.pipe(\n    map(privileges => privileges.includes(ProductSummaryPrivilege.EDIT)),\n    shareReplay(),\n  );\n\n  readonly hasArrangementAliasEditPermission: Observable<boolean> = this.managerArrangementsPrivileges.pipe(\n    map(privileges => privileges.includes(ProductSummaryPrivilege.EDIT)),\n    shareReplay(),\n  );\n\n  readonly allowedAccountNavigationTypes: Observable<AccountNavigationType[]> = this.hasFullViewPermission.pipe(\n    map(hasFullViewPermission =>\n      hasFullViewPermission\n        ? DefaultAllowedNavigationTypes\n        : DefaultAllowedNavigationTypes.filter(type => type !== AccountNavigationType.BALANCE_HISTORY),\n    ),\n    shareReplay(),\n  );\n\n  constructor(private readonly usersDataService: UsersHttpService) {}\n}\n","import { Observable, of, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { Property } from '@backbase/foundation-ang/web-sdk';\nimport { Inject, Injectable, Optional } from '@angular/core';\nimport { PRODUCT_SUMMARY_WIDGET_PROPERTIES } from '../../model/providers';\n\n/** @dynamic */\n@Injectable()\nexport class ProductSummaryWidgetPropertiesService<\n  WidgetProperties extends Record<string, any> = Record<string, Property>\n> {\n  /**\n   * Widget properties\n   */\n  readonly properties: Observable<WidgetProperties>;\n  /**\n   * Widget properties configuration\n   */\n  private readonly configuration = new BehaviorSubject<Partial<WidgetProperties>>({});\n\n  /**\n   * @internal\n   * @param defaultConfiguration\n   * @param itemModel\n   */\n  constructor(\n    @Inject(PRODUCT_SUMMARY_WIDGET_PROPERTIES) private readonly defaultConfiguration: WidgetProperties,\n    @Optional() private readonly itemModel?: ItemModel,\n  ) {\n    /**\n     * Gets a property value for each value in `propertyNames` input,\n     * joins them into `WidgetProperties` structure\n     */\n    const propertyNames = Object.keys(defaultConfiguration);\n    this.properties = combineLatest(propertyNames.map(propertyName => this.getWidgetProperty(propertyName))).pipe(\n      map(properties =>\n        propertyNames.reduce(\n          (widgetProperties, propertyName, index) => ({ ...widgetProperties, [propertyName]: properties[index] }),\n          {} as WidgetProperties,\n        ),\n      ),\n    );\n  }\n\n  /**\n   * Sets widget properties\n   *\n   * @param config\n   */\n  setConfiguration(config: Partial<WidgetProperties>) {\n    this.configuration.next(config);\n  }\n\n  /**\n   * Returns observable with a widget property\n   *\n   * @param propertyName\n   */\n  getProperty<\n    WidgetPropertyName extends keyof WidgetProperties,\n    WidgetPropertyValue extends WidgetProperties[WidgetPropertyName]\n  >(propertyName: WidgetPropertyName): Observable<WidgetPropertyValue> {\n    return this.properties.pipe(map(properties => properties[propertyName]));\n  }\n\n  /**\n   * Returns a widget configuration property,\n   * takes the value in the following order:\n   * - configuration value if exists (widget input)\n   * - item-model value if exists (CXP configuration)\n   * - default value (constant value)\n   */\n  private getWidgetProperty<\n    WidgetPropertyName extends keyof WidgetProperties,\n    WidgetPropertyValue extends WidgetProperties[WidgetPropertyName]\n  >(propertyName: WidgetPropertyName): Observable<WidgetPropertyValue> {\n    const defaultValue = this.defaultConfiguration[propertyName];\n    const configurationValue$ = this.configuration.pipe(\n      map(configuration => configuration[propertyName] as WidgetPropertyValue | undefined),\n    );\n    const modelValue$ = this.itemModel\n      ? this.itemModel.property(propertyName as string, defaultValue)\n      : of(defaultValue);\n\n    return combineLatest([configurationValue$, modelValue$]).pipe(\n      map(([configurationValue, modelValue]) => (configurationValue !== undefined ? configurationValue : modelValue)),\n    );\n  }\n}\n","export const CurrencyToCountryMap: { [key: string]: string } = {\n  BDT: 'BD',\n  EUR: 'EU',\n  XOF: 'TG',\n  BGN: 'BG',\n  BAM: 'BA',\n  BBD: 'BB',\n  XPF: 'NC',\n  BMD: 'BM',\n  BND: 'BN',\n  BOB: 'BO',\n  BHD: 'BH',\n  BIF: 'BI',\n  BTN: 'BT',\n  JMD: 'JM',\n  NOK: 'NO',\n  BWP: 'BW',\n  WST: 'WS',\n  USD: 'US',\n  BRL: 'BR',\n  BSD: 'BS',\n  GBP: 'IM',\n  BYR: 'BY',\n  BZD: 'BZ',\n  RUB: 'RU',\n  RWF: 'RW',\n  RSD: 'RS',\n  TMT: 'TM',\n  TJS: 'TJ',\n  RON: 'RO',\n  NZD: 'CK',\n  GTQ: 'GT',\n  XAF: 'TD',\n  JPY: 'JP',\n  GYD: 'GY',\n  GEL: 'GE',\n  XCD: 'AI',\n  GNF: 'GN',\n  GMD: 'GM',\n  DKK: 'DK',\n  GIP: 'GI',\n  GHS: 'GH',\n  OMR: 'OM',\n  TND: 'TN',\n  JOD: 'JO',\n  HRK: 'HR',\n  HTG: 'HT',\n  HUF: 'HU',\n  HKD: 'HK',\n  HNL: 'HN',\n  AUD: 'AU',\n  VEF: 'VE',\n  ILS: 'IL',\n  PYG: 'PY',\n  IQD: 'IQ',\n  PAB: 'PA',\n  PGK: 'PG',\n  PEN: 'PE',\n  PKR: 'PK',\n  PHP: 'PH',\n  PLN: 'PL',\n  ZMK: 'ZM',\n  MAD: 'MA',\n  EGP: 'EG',\n  ZAR: 'ZA',\n  VND: 'VN',\n  SBD: 'SB',\n  ETB: 'ET',\n  SOS: 'SO',\n  ZWL: 'ZW',\n  SAR: 'SA',\n  ERN: 'ER',\n  MDL: 'MD',\n  MGA: 'MG',\n  UZS: 'UZ',\n  MMK: 'MM',\n  MOP: 'MO',\n  MNT: 'MN',\n  MKD: 'MK',\n  MUR: 'MU',\n  MWK: 'MW',\n  MVR: 'MV',\n  MRO: 'MR',\n  UGX: 'UG',\n  TZS: 'TZ',\n  MYR: 'MY',\n  MXN: 'MX',\n  SHP: 'SH',\n  FJD: 'FJ',\n  FKP: 'FK',\n  NIO: 'NI',\n  NAD: 'NA',\n  VUV: 'VU',\n  NGN: 'NG',\n  NPR: 'NP',\n  CHF: 'LI',\n  COP: 'CO',\n  CNY: 'CN',\n  CLP: 'CL',\n  CAD: 'CA',\n  CDF: 'CD',\n  CZK: 'CZ',\n  CRC: 'CR',\n  ANG: 'SX',\n  CVE: 'CV',\n  CUP: 'CU',\n  SZL: 'SZ',\n  SYP: 'SY',\n  KGS: 'KG',\n  KES: 'KE',\n  SSP: 'SS',\n  SRD: 'SR',\n  KHR: 'KH',\n  KMF: 'KM',\n  STD: 'ST',\n  KRW: 'KR',\n  KPW: 'KP',\n  KWD: 'KW',\n  SLL: 'SL',\n  SCR: 'SC',\n  KZT: 'KZ',\n  KYD: 'KY',\n  SGD: 'SG',\n  SEK: 'SE',\n  SDG: 'SD',\n  DOP: 'DO',\n  DJF: 'DJ',\n  YER: 'YE',\n  DZD: 'DZ',\n  UYU: 'UY',\n  LBP: 'LB',\n  LAK: 'LA',\n  TWD: 'TW',\n  TTD: 'TT',\n  TRY: 'TR',\n  LKR: 'LK',\n  TOP: 'TO',\n  LTL: 'LT',\n  LRD: 'LR',\n  LSL: 'LS',\n  THB: 'TH',\n  LYD: 'LY',\n  AED: 'AE',\n  AFN: 'AF',\n  ISK: 'IS',\n  IRR: 'IR',\n  AMD: 'AM',\n  ALL: 'AL',\n  AOA: 'AO',\n  ARS: 'AR',\n  AWG: 'AW',\n  INR: 'IN',\n  AZN: 'AZ',\n  IDR: 'ID',\n  UAH: 'UA',\n  QAR: 'QA',\n  MZN: 'MZ',\n};\n","import { AccountBalanceHistory, AccountBalanceHistoryItem } from '@backbase/data-ang/arrangements';\nimport {\n  GetBalanceHistoryRequestSeriesObjectType,\n  BalanceHistoryDataSeries,\n  BalanceHistoryPaginated,\n  GetBalanceHistoryRequestPaginatedObjectType,\n} from './types';\nimport { defaultArrangementName } from './constants';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Accounts, GetProductsummaryRequest, PaginationType } from './types';\n\nexport const balanceHistorySeriesMock: AccountBalanceHistory = {\n  items: [\n    {\n      arrangementId: '3cdb2224-8926-4b4d-a99f-1c9dfbbb4699',\n      balanceHistory: [\n        {\n          dateFrom: '2017-05-10T00:00:00.000Z',\n          dateTo: '2017-06-01T00:00:00.000Z',\n          value: {\n            currency: 'EUR',\n            balance: '12',\n          },\n          valuePtc: '12',\n        },\n        {\n          dateFrom: '2017-05-11T00:00:00Z',\n          dateTo: '2017-06-01T00:00:00Z',\n          value: {\n            currency: 'EUR',\n            balance: '22',\n          },\n          valuePtc: '22',\n        },\n        {\n          dateFrom: '2017-05-23T00:00:00+0000',\n          dateTo: '2017-06-01T00:00:00+0000',\n          value: {\n            currency: 'EUR',\n            balance: '32',\n          },\n          valuePtc: '32',\n        },\n        {\n          dateFrom: '2017-06-01T00:00:00.000Z',\n          dateTo: '2017-06-01T00:00:00.000Z',\n          value: {\n            currency: 'EUR',\n            balance: '54',\n          },\n          valuePtc: '54',\n        },\n        {\n          dateFrom: '2017-06-02T00:00:00.000Z',\n          dateTo: '2017-06-01T00:00:00.000Z',\n          value: {\n            currency: 'EUR',\n            balance: '34',\n          },\n          valuePtc: '34',\n        },\n        {\n          dateFrom: '2017-06-12T00:00:00.000Z',\n          dateTo: '2017-06-01T00:00:00.000Z',\n          value: {\n            currency: 'EUR',\n            balance: '4',\n          },\n          valuePtc: '4',\n        },\n        {\n          dateFrom: '2017-06-18T00:00:00.000Z',\n          dateTo: '2017-06-01T00:00:00.000Z',\n          value: {\n            currency: 'EUR',\n            balance: '-14',\n          },\n          valuePtc: '-14',\n        },\n      ],\n    },\n  ],\n};\n\nexport const balanceHistoryPaginatedMock: Array<AccountBalanceHistoryItem> = [\n  {\n    dateFrom: '2017-05-10T00:00:00.000Z',\n    dateTo: '2017-06-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '12',\n    },\n    valuePtc: '12',\n  },\n  {\n    dateFrom: '2017-05-11T00:00:00.000Z',\n    dateTo: '2017-06-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '22',\n    },\n    valuePtc: '22',\n  },\n  {\n    dateFrom: '2017-05-23T00:00:00.000Z',\n    dateTo: '2017-06-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '32',\n    },\n    valuePtc: '32',\n  },\n  {\n    dateFrom: '2017-06-01T00:00:00.000Z',\n    dateTo: '2017-06-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '54',\n    },\n    valuePtc: '54',\n  },\n  {\n    dateFrom: '2017-06-02T00:00:00.000Z',\n    dateTo: '2017-07-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '34',\n    },\n    valuePtc: '34',\n  },\n  {\n    dateFrom: '2017-06-12T00:00:00.000Z',\n    dateTo: '2017-07-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '4',\n    },\n    valuePtc: '4',\n  },\n  {\n    dateFrom: '2017-06-18T00:00:00.000Z',\n    dateTo: '2017-07-01T00:00:00.000Z',\n    value: {\n      currency: 'EUR',\n      balance: '-14',\n    },\n    valuePtc: '-14',\n  },\n];\n\nexport const balanceHistoryPaginatedMockWithCount: BalanceHistoryPaginated = {\n  count: 3,\n  items: balanceHistoryPaginatedMock,\n  params: { from: 1, paginationType: 'load-more' },\n};\n\nexport const emptyBalanceHistoryPaginatedMockWithCount: BalanceHistoryPaginated = {\n  count: 0,\n  items: [],\n  params: { from: 0, paginationType: 'pagination' },\n};\n\nexport const requestObjectMockSeries: GetBalanceHistoryRequestSeriesObjectType = {\n  arrangementIds: '1',\n  params: {\n    dateFrom: '2017-06-18',\n    dateTo: '2017-06-18',\n    timePeriod: '',\n    format: '',\n    paginationType: 'pagination',\n    from: 0,\n  },\n};\n\nexport const requestObjectMockPaginated: GetBalanceHistoryRequestPaginatedObjectType = {\n  arrangementId: '1',\n  params: {\n    dateFrom: '2017-06-18',\n    dateTo: '2017-06-18',\n    timePeriod: '',\n    format: '',\n    paginationType: 'pagination',\n    from: 0,\n  },\n};\n\nexport const processedBalanceHistoryMock: BalanceHistoryDataSeries[] = [\n  {\n    name: defaultArrangementName,\n    series: [\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: '12',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00Z'),\n        value: '22',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00+0000'),\n        value: '32',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: '54',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: '34',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: '4',\n      },\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: 0,\n      },\n    ],\n  },\n  {\n    name: defaultArrangementName,\n    series: [\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: 0,\n      },\n      {\n        name: new Date('2017-06-01T00:00:00.000Z'),\n        value: '-14',\n      },\n    ],\n  },\n];\n\nexport const mockRequestObject: GetProductsummaryRequest = {\n  businessFunction: '',\n  resourceName: '',\n  privilege: '',\n  paginationType: PaginationType.LOAD_MORE,\n};\n\nexport const mockAccountsResponse: ProductSummaryItem[] = [\n  {\n    id: '1cdb2224-8926-4b4d-a99f-1c9dfbbb4699',\n    externalArrangementId: 'kjh4567-asd1-11e7-b114-b2f933d50000',\n    externalLegalEntityId: 'COOOOO1',\n    externalProductId: '1234567',\n    name: 'Mr and Mrs J. Smith',\n    productKindName: 'Current Account',\n    bankAlias: 'Secret account',\n    bookedBalance: 100.1,\n    availableBalance: 100.2,\n    creditLimit: 100.3,\n    IBAN: 'GB29NWBK60161331926819',\n    BBAN: 'BBAN',\n    currency: 'EUR',\n    externalTransferAllowed: true,\n    urgentTransferAllowed: false,\n    accruedInterest: 2.2,\n    principalAmount: 100.4,\n    currentInvestmentValue: 100.5,\n    legalEntityIds: ['257da57a-11e4-4553-9175-54baf755069b', 'cd83683b-13f2-43d8-882b-39c9ab27d499'],\n    productId: '36c8fc42-ec97-4f83-8a7c-d622625007f3',\n    productTypeName: 'Current Account',\n    BIC: 'BICExample1',\n    bankBranchCode: 'bankBranchCode1',\n    accountOpeningDate: '2016-01-28T16:41:41.090Z',\n    accountInterestRate: 100.2,\n    valueDateBalance: 100.1,\n    creditLimitUsage: 100.3,\n    creditLimitInterestRate: 100.4,\n    creditLimitExpiryDate: '2019-09-28T16:41:41.090Z',\n    debitCards: [\n      {\n        number: '4578',\n        expiryDate: '2018-08-22T16:41:41.090Z',\n      },\n      {\n        number: '3241',\n        expiryDate: '2019-01-14T16:41:41.090Z',\n      },\n    ],\n    startDate: '2016-02-28T16:41:41.090Z',\n    termUnit: 'Y',\n    termNumber: 50,\n    maturityDate: '2017-02-28T16:41:41.090Z',\n    maturityAmount: 99.5,\n    autoRenewalIndicator: true,\n    interestPaymentFrequencyUnit: 'M',\n    interestPaymentFrequencyNumber: 15,\n    interestSettlementAccount: 'interestSettlementAccount1',\n    outstandingPrincipalAmount: 100.2,\n    monthlyInstalmentAmount: 100.1,\n    amountInArrear: 100.3,\n    minimumRequiredBalance: 80.4,\n    creditCardAccountNumber: '123456',\n    validThru: '2019-02-28T16:41:41.090Z',\n    applicableInterestRate: 101.2,\n    remainingCredit: 50,\n    outstandingPayment: 105.5,\n    minimumPayment: 51.1,\n    minimumPaymentDueDate: '2018-02-28T16:41:41.090Z',\n    totalInvestmentValue: 110.2,\n    accountHolderAddressLine1: 'accountHolderAddressLine11',\n    accountHolderAddressLine2: 'accountHolderAddressLine12',\n    creditAccount: true,\n    debitAccount: true,\n    visible: true,\n    lastUpdateDate: '2019-09-28T16:41:41.090Z',\n  },\n  {\n    id: '2222222-8926-4b4d-a99f-1c9dfbbb4610',\n    externalArrangementId: 'kjh4567-asd1-11e7-b114-b2f933d50000',\n    externalLegalEntityId: 'COOOOO1',\n    externalProductId: '1234567',\n    name: 'Mr and Mrs J. Smith second one',\n    productKindName: 'Current Account',\n    bankAlias: 'Secret account Mr and Mrs J. Smith second one',\n    bookedBalance: 100.1,\n    availableBalance: 100.2,\n    creditLimit: 100.3,\n    IBAN: 'GB29NWBK60161331926819',\n    BBAN: 'BBAN',\n    currency: 'EUR',\n    externalTransferAllowed: true,\n    urgentTransferAllowed: false,\n    accruedInterest: 2.2,\n    principalAmount: 100.4,\n    currentInvestmentValue: 100.5,\n    legalEntityIds: ['257da57a-11e4-4553-9175-54baf755069b', 'cd83683b-13f2-43d8-882b-39c9ab27d499'],\n    productId: '36c8fc42-ec97-4f83-8a7c-d622625007f3',\n    productTypeName: 'Current Account',\n    BIC: 'BICExample2',\n    bankBranchCode: 'bankBranchCode1',\n    accountOpeningDate: '2016-01-28T16:41:41.090Z',\n    accountInterestRate: 100.2,\n    valueDateBalance: 100.1,\n    creditLimitUsage: 100.3,\n    creditLimitInterestRate: 100.4,\n    creditLimitExpiryDate: '2019-09-28T16:41:41.090Z',\n    debitCards: [\n      {\n        number: '6378',\n        expiryDate: '2018-02-12T16:41:41.090Z',\n      },\n      {\n        number: '5111',\n        expiryDate: '2019-03-24T16:41:41.090Z',\n      },\n    ],\n    startDate: '2016-02-28T16:41:41.090Z',\n    termUnit: 'Y',\n    termNumber: 50,\n    maturityDate: '2017-02-28T16:41:41.090Z',\n    maturityAmount: 99.5,\n    autoRenewalIndicator: true,\n    interestPaymentFrequencyUnit: 'M',\n    interestPaymentFrequencyNumber: 15,\n    interestSettlementAccount: 'interestSettlementAccount1',\n    outstandingPrincipalAmount: 100.2,\n    monthlyInstalmentAmount: 100.1,\n    amountInArrear: 100.3,\n    minimumRequiredBalance: 80.4,\n    creditCardAccountNumber: '123456',\n    validThru: '2019-02-28T16:41:41.090Z',\n    applicableInterestRate: 101.2,\n    remainingCredit: 50,\n    outstandingPayment: 105.5,\n    minimumPayment: 51.1,\n    minimumPaymentDueDate: '2018-02-28T16:41:41.090Z',\n    totalInvestmentValue: 110.2,\n    accountHolderAddressLine1: 'accountHolderAddressLine11',\n    accountHolderAddressLine2: 'accountHolderAddressLine12',\n    creditAccount: true,\n    debitAccount: true,\n    visible: true,\n    lastUpdateDate: '2019-09-28T16:41:41.090Z',\n    userPreferences: {\n      visible: true,\n      alias: 'nice',\n      favorite: true,\n    },\n  },\n  {\n    id: '1cdb2224-8926-4b4d-a99f-1c9dfbbb4699',\n    externalArrangementId: 'kjh4567-asd1-11e7-b114-b2f933d50000',\n    externalLegalEntityId: 'COOOOO1',\n    externalProductId: '1234567',\n    name: 'Mr and Mrs J. Smith',\n    productKindName: 'Current Account',\n    bankAlias: 'Secret account',\n    bookedBalance: 100.1,\n    availableBalance: 100.2,\n    creditLimit: 100.3,\n    IBAN: 'GB29NWBK60161331926819',\n    BBAN: 'BBAN',\n    currency: 'EUR',\n    externalTransferAllowed: true,\n    urgentTransferAllowed: false,\n    accruedInterest: 2.2,\n    principalAmount: 100.4,\n    currentInvestmentValue: 100.5,\n    legalEntityIds: ['257da57a-11e4-4553-9175-54baf755069b', 'cd83683b-13f2-43d8-882b-39c9ab27d499'],\n    productId: '36c8fc42-ec97-4f83-8a7c-d622625007f3',\n    productTypeName: 'Current Account',\n    BIC: 'BICExample1',\n    bankBranchCode: 'bankBranchCode1',\n    accountOpeningDate: '2016-01-28T16:41:41.090Z',\n    accountInterestRate: 100.2,\n    valueDateBalance: 100.1,\n    creditLimitUsage: 100.3,\n    creditLimitInterestRate: 100.4,\n    creditLimitExpiryDate: '2019-09-28T16:41:41.090Z',\n    debitCards: [\n      {\n        number: '4578',\n        expiryDate: '2018-08-22T16:41:41.090Z',\n      },\n      {\n        number: '3241',\n        expiryDate: '2019-01-14T16:41:41.090Z',\n      },\n    ],\n    startDate: '2016-02-28T16:41:41.090Z',\n    termUnit: 'Y',\n    termNumber: 50,\n    maturityDate: '2017-02-28T16:41:41.090Z',\n    maturityAmount: 99.5,\n    autoRenewalIndicator: true,\n    interestPaymentFrequencyUnit: 'M',\n    interestPaymentFrequencyNumber: 15,\n    interestSettlementAccount: 'interestSettlementAccount1',\n    outstandingPrincipalAmount: 100.2,\n    monthlyInstalmentAmount: 100.1,\n    amountInArrear: 100.3,\n    minimumRequiredBalance: 80.4,\n    creditCardAccountNumber: '123456',\n    validThru: '2019-02-28T16:41:41.090Z',\n    applicableInterestRate: 101.2,\n    remainingCredit: 50,\n    outstandingPayment: 105.5,\n    minimumPayment: 51.1,\n    minimumPaymentDueDate: '2018-02-28T16:41:41.090Z',\n    totalInvestmentValue: 110.2,\n    accountHolderAddressLine1: 'accountHolderAddressLine11',\n    accountHolderAddressLine2: 'accountHolderAddressLine12',\n    creditAccount: true,\n    debitAccount: true,\n    visible: true,\n    lastUpdateDate: '2019-09-28T16:41:41.090Z',\n    userPreferences: {\n      alias: 'nice',\n    },\n  },\n];\n\nexport const accountsWithCount: Accounts = {\n  count: 3,\n  items: mockAccountsResponse,\n  params: { from: 1, paginationType: 'load-more' },\n};\n\nexport const balanceAggregationResponseMock = [\n  {\n    aggregatedBalances: [\n      {\n        currencyCode: 'EUR',\n        amount: '3289.0',\n        numberOfArrangements: 3,\n      },\n      {\n        currencyCode: 'USD',\n        amount: '2500.0',\n        numberOfArrangements: 10,\n      },\n    ],\n  },\n];\n","/* eslint-disable @typescript-eslint/ban-types */\nexport type PlainValue<T> = T extends string | number | boolean | null | undefined\n  ? T\n  : T extends Function\n  ? never\n  : T extends object\n  ? { [K in keyof T]: PlainValue<T[K]> }\n  : never;\n/* eslint-enable */\n\n// eslint-disable-next-line no-null/no-null\nexport const isPlainObject = <T>(obj: PlainValue<T>): boolean => typeof obj === 'object' && obj !== null;\n\n/**\n * Equality check between two \"plain\" (i.e. JSON compatible) values.\n * By \"plain\" value, we mean a primitive or an object/array that contains only other primitives and no methods or internal state.\n */\nexport const isEqual = <A extends unknown, B extends unknown>(a: PlainValue<A>, b: PlainValue<B>): boolean => {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every((aValue, i) => isEqual(aValue, b[i]));\n  }\n  if (Array.isArray(a) || Array.isArray(b)) {\n    return false;\n  }\n\n  if (isPlainObject(a) && isPlainObject(b)) {\n    const aObject = a as PlainValue<Record<string, PlainValue<any>>>;\n    const bObject = b as PlainValue<Record<string, PlainValue<any>>>;\n    const aKeys = Object.keys(aObject);\n    const bKeys = Object.keys(bObject);\n    return aKeys.length === bKeys.length && aKeys.every(aKey => isEqual(aObject[aKey], bObject[aKey]));\n  }\n\n  return a === b;\n};\n","import { DebugElement } from '@angular/core';\nimport { ComponentFixture } from '@angular/core/testing';\nimport { By } from '@angular/platform-browser';\nimport { isDefined } from './helpers';\n\nexport class TestHelper<T> {\n  private _fixture: ComponentFixture<T>;\n\n  constructor(fixture: ComponentFixture<T>) {\n    this._fixture = fixture;\n  }\n\n  getElement(locator: string): DebugElement | null {\n    return this._fixture.debugElement.query(By.css(locator));\n  }\n\n  getElements(locator: string): DebugElement[] | null {\n    return this._fixture.debugElement.queryAll(By.css(locator));\n  }\n\n  getText(locator: string): string | undefined {\n    const element: DebugElement | null = this.getElement(locator);\n    if (element) {\n      return element.nativeElement.textContent.trim();\n    }\n    return undefined;\n  }\n\n  isElementPresent(locator: string): boolean {\n    return isDefined(this.getElement(locator));\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Converts number to an absolute value\n * {{ -100 | bbAbsoluteValue }}\n */\n@Pipe({\n  name: 'bbAbsoluteValue',\n})\nexport class AbsoluteValuePipe implements PipeTransform {\n  /**\n   * @name AbsoluteValuePipe#transform\n   * @param value - number value\n   *\n   * @description\n   * Converts number to an absolute value\n   */\n  transform(value?: number): number {\n    return value !== undefined ? Math.abs(value) : NaN;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AccountNumberPipeModule } from '@backbase/ui-ang/account-number-pipe';\nimport { PaymentCardNumberModule } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { AbsoluteValuePipe } from './absolute-value.pipe';\n\nconst sharedPipes = [AccountNumberPipeModule, PaymentCardNumberModule];\nconst pipes = [AbsoluteValuePipe];\n\n@NgModule({\n  imports: [CommonModule, ...sharedPipes],\n  declarations: [...pipes],\n  exports: [...sharedPipes, ...pipes],\n})\nexport class FormatPipeModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Product } from '../../model/product-summary-types';\nimport { getProductNumberType } from '../../helpers/helpers';\n\n/**\n * Gets a valid account number that should be displayed for Product (iban, bban or cardNumber)\n */\n@Pipe({\n  name: 'bbProductNumberValue',\n})\nexport class ProductNumberValuePipe implements PipeTransform {\n  /**\n   * @name ProductNumberValuePipe#transform\n   * @param product - a product that contains account number\n   *\n   * @description\n   * Provides a valid account number for the product,\n   * for example:\n   * - IBAN for CurrentAccount product\n   * - BBAN for CurrentAccount product that doesn't have IBAN\n   * - number for CreditCard product\n   */\n  transform(product: ProductSummaryItem | Product): string {\n    const productNumberType = getProductNumberType(product);\n\n    if (productNumberType === 'iban' && 'IBAN' in product) {\n      return product.IBAN as string;\n    } else if (productNumberType === 'bban' && 'BBAN' in product) {\n      return product.BBAN as string;\n    } else if ('number' in product) {\n      return product.number as string;\n    }\n\n    return '';\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { AccountNumberType } from '@backbase/ui-ang/account-number-pipe';\nimport { getProductNumberType } from '../../helpers/helpers';\nimport { Product } from '../../model/product-summary-types';\n\n/**\n * Gets a valid account number type that should be displayed for Product (iban, bban or cardNumber)\n */\n@Pipe({\n  name: 'bbProductNumberType',\n})\nexport class ProductNumberTypePipe implements PipeTransform {\n  /**\n   * @name ProductNumberTypePipe#transform\n   * @param product - a product that contains account number\n   *\n   * @description\n   * Provides a valid account number for the product,\n   * for example:\n   * - 'iban' for CurrentAccount product\n   * - 'bban' for CurrentAccount product that doesn't have IBAN\n   * - 'cardNumber' for CreditCard product\n   */\n  transform(product: ProductSummaryItem | Product): AccountNumberType {\n    return getProductNumberType(product);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { AccountNumberType, AccountsDisplayingFormatService } from '@backbase/ui-ang/account-number-pipe';\nimport { PaymentCardNumberFormat } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Product } from '../../model/product-summary-types';\nimport { getProductNumberType } from '../../helpers/helpers';\n\n/**\n * Provides numbers format per product or number type\n * a format includes masking and formatting configuration\n *\n * TODO: remove this pipe when all necessary ui-ang components support using `bbAccountNumber` pipe\n */\n@Pipe({\n  name: 'bbProductNumberFormat',\n})\nexport class ProductNumberFormatPipe implements PipeTransform {\n  /**\n   * @name ProductNumberFormatPipe#constructor\n   * @param accountsDisplayingFormatService - AccountsDisplayingFormatService\n   *\n   * @internal\n   */\n  constructor(private readonly accountsDisplayingFormatService: AccountsDisplayingFormatService) {}\n\n  /**\n   * @name ProductNumberFormatPipe#transform\n   * @param product - product that should be formatted or specific product number type\n   *\n   * @description\n   * Formats account numbers\n   */\n  transform(product: ProductSummaryItem | Product | AccountNumberType): PaymentCardNumberFormat {\n    const productType = typeof product === 'object' ? getProductNumberType(product) : product;\n    const displayingFormat = this.accountsDisplayingFormatService.getDefaultFormat(productType);\n\n    return { length: 0, maskRange: [0, 0], ...displayingFormat };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AccountNumberPipeModule } from '@backbase/ui-ang/account-number-pipe';\nimport { PaymentCardNumberModule } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { ProductNumberValuePipe } from './product-number-value.pipe';\nimport { ProductNumberTypePipe } from './product-number-type.pipe';\nimport { ProductNumberFormatPipe } from './product-number-format.pipe';\n\nconst sharedPipes = [AccountNumberPipeModule, PaymentCardNumberModule];\nconst pipes = [ProductNumberValuePipe, ProductNumberTypePipe, ProductNumberFormatPipe];\n\n@NgModule({\n  imports: [CommonModule, ...sharedPipes],\n  declarations: [...pipes],\n  exports: [...sharedPipes, ...pipes],\n})\nexport class ProductNumberPipeModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { isDefined } from '../../helpers/helpers';\n\n/**\n * Verifies if values is defined (not null and not undefined)\n */\n@Pipe({\n  name: 'bbIsDefined',\n})\nexport class IsDefinedPipe implements PipeTransform {\n  /**\n   * @name IsDefinedPipe#transform\n   * @param value - value of any type\n   *\n   * @description\n   * Verifies if values is defined\n   * for example:\n   * - true for '' string\n   * - true for 0 number\n   * - false for undefined value\n   */\n  transform(value: any): boolean {\n    return isDefined(value);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Verifies if the passed item is presented in the array\n * Note: deep-equal is not supported\n *\n * @usageNotes\n * ### Example\n * ```html\n * <div *ngIf=\"{{ item|bbIsArray:array }}\"></div>\n * ```\n */\n@Pipe({ name: 'bbIsInArray' })\nexport class IsInArrayPipe implements PipeTransform {\n  /**\n   * Verifies if `item` is presented in `array`\n   *\n   * @param item\n   * @param array\n   */\n  transform<T>(item: T, array: T[]): boolean {\n    if (array && array.length) {\n      return array.indexOf(item) !== -1;\n    }\n    return false;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { isDefined } from '../../helpers/helpers';\n\n/**\n * Verifies if the passed item is a percent value\n *\n * @usageNotes\n * ### Example\n * ```html\n * <div *ngIf=\"{{ \"10%\"|bbIsPercentValue }}\"></div>\n * ```\n */\n@Pipe({ name: 'bbIsPercentValue' })\nexport class IsPercentValue implements PipeTransform {\n  /**\n   * Verifies if the passed item is a percent value\n   *\n   * @param item\n   */\n  transform<T>(item: T): boolean {\n    if (isDefined(item) && typeof item === 'string') {\n      const percentIndex = item.indexOf('%');\n      return percentIndex === 0 || percentIndex === item.length - 1;\n    }\n    return false;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ExternalProductKindItem, SummaryProductKindItem, ProductKindItem } from '@backbase/data-ang/arrangements';\nimport { ProductKindUri } from '../../model/types';\nimport { isDefined } from '../../helpers/helpers';\n\n/**\n * Verifies if \"kind\" of productKindItem is equal to expected \"kind\"\n *\n * @usageNotes\n * ### Example\n * ```html\n * <div *ngIf=\"productKind | bbIsProductKind:expectedProductKindType\"></div>\n * ```\n */\n@Pipe({ name: 'bbIsProductKind' })\nexport class IsProductKindPipe implements PipeTransform {\n  /**\n   * Verifies if \"kind\" of productKindItem is equal to expected \"kind\"\n   *\n   * @param productKindItem\n   * @param expectedProductKindType\n   */\n  transform(\n    productKindItem: ExternalProductKindItem | SummaryProductKindItem | ProductKindItem | undefined,\n    expectedProductKindType: ProductKindUri | ProductKindUri[],\n  ): boolean {\n    if (isDefined(productKindItem?.kindUri)) {\n      return Array.isArray(expectedProductKindType)\n        ? expectedProductKindType.includes(productKindItem?.kindUri as ProductKindUri)\n        : productKindItem?.kindUri === expectedProductKindType;\n    }\n    return false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IsDefinedPipe } from './is-defined.pipe';\nimport { IsInArrayPipe } from './is-in-array.pipe';\nimport { IsPercentValue } from './is-percent-value.pipe';\nimport { IsProductKindPipe } from './is-product-kind.pipe';\n\nconst pipes = [IsDefinedPipe, IsInArrayPipe, IsPercentValue, IsProductKindPipe];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [...pipes],\n  exports: [...pipes],\n})\nexport class ValidationModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { BbDatePipe } from '@backbase/ui-ang/date-pipe';\n\n/**\n * Returns localised info of date of update\n *\n * @usageNotes\n * ### Example\n * ```html\n * <p>{{ '2020-10-10' | bbDateUpdateAgo }}</p>\n * <p>{{ '2020-10-10' | bbDateUpdateAgo:'mediumDate' }}</p>\n * ```\n */\n@Pipe({\n  name: 'bbDateUpdatedAgo',\n})\nexport class DateUpdatedAgoPipe implements PipeTransform {\n  private readonly millisecondsInPeriod = {\n    day: 86400000,\n    hours: 7200000,\n    hour: 3600000,\n    minutes: 120000,\n    minute: 60000,\n  };\n  private readonly localisationByPeriod = {\n    date: (date: string) => $localize`:@@product-summary.update-date.date:Updated on ${date}`,\n    hours: (hours: number) => $localize`:@@product-summary.update-date.hours:Updated ${hours} hours ago`,\n    hour: () => $localize`:@@product-summary.update-date.hour:Updated 1 hour ago`,\n    minutes: (minutes: number) => $localize`:@@product-summary.update-date.minutes:Updated ${minutes} minutes ago`,\n    minute: () => $localize`:@@product-summary.update-date.minute:Updated 1 minute ago`,\n  };\n\n  /**\n   * @name DateUpdatedAgoPipe#constructor\n   * @param datePipe - BbDatePipe\n   *\n   * @internal\n   */\n  constructor(private datePipe: BbDatePipe) {}\n\n  /**\n   * @name DateUpdatedAgoPipe#transform\n   * @param updateTimestamp - update date\n   * @param dateFormat - the format type for the date to be formatted (for update time >= 1 day ago)\n   *\n   * @description\n   * Returns localised info of date of update\n   *\n   * Example:\n   *  transform(hourAgo) - 'Updated 1 hour ago'\n   *  transform(minuteAgo) - 'Updated 1 minute ago'\n   */\n  transform(updateTimestamp: string, dateFormat = 'longDate'): string {\n    const millisecondsAgo = Math.max(new Date().getTime() - new Date(updateTimestamp).getTime(), 0);\n\n    if (millisecondsAgo < this.millisecondsInPeriod.minutes) {\n      return this.localisationByPeriod.minute();\n    } else if (millisecondsAgo < this.millisecondsInPeriod.hour) {\n      const minutesAgo = Math.floor(millisecondsAgo / this.millisecondsInPeriod.minute);\n      return this.localisationByPeriod.minutes(minutesAgo);\n    } else if (millisecondsAgo < this.millisecondsInPeriod.hours) {\n      return this.localisationByPeriod.hour();\n    } else if (millisecondsAgo < this.millisecondsInPeriod.day) {\n      const hoursAgo = Math.floor(millisecondsAgo / this.millisecondsInPeriod.hour);\n      return this.localisationByPeriod.hours(hoursAgo);\n    } else {\n      const updateDate = this.datePipe.transform(updateTimestamp, dateFormat) as string;\n      return this.localisationByPeriod.date(updateDate);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BbDatePipe, BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\nimport { DateUpdatedAgoPipe } from './date-updated-ago.pipe';\n\nconst sharedPipes = [BbDatePipeModule];\nconst pipes = [DateUpdatedAgoPipe];\n\n@NgModule({\n  imports: [CommonModule, ...sharedPipes],\n  declarations: [...pipes],\n  exports: [...pipes, ...sharedPipes],\n  providers: [BbDatePipe],\n})\nexport class DatePipeModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","MaskableAttribute","Component","Input","Output","NgModule","HostListener","InjectionToken","NotificationModule","CommonModule","Injectable","Inject","HttpResponseType","BalanceHistoryExportFormat","PaginationType","ProductKindNames","ProductKindUri","AccountNavigationType","ProductSummaryPrivilege","AccountAliasDisplayingLevel","DefaultProductKindNameList","ReplaySubject","BehaviorSubject","distinctUntilChanged","filter","tap","switchMap","catchError","of","scan","map","combineLatest","take","PUBSUB","publishReplay","refCount","pluck","shareReplay","Optional","By","Pipe","sharedPipes","AccountNumberPipeModule","PaymentCardNumberModule","pipes","BbDatePipeModule","BbDatePipe"],"mappings":"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;QAC7D,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;;;QCjJE,wBAAwB,GAA0B;QAC7D,KAAK,EAAE;YACL;gBACE,aAAa,EAAE,sCAAsC;gBACrD,cAAc,EAAE;oBACd;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,IAAI;yBACd;wBACD,QAAQ,EAAE,IAAI;qBACf;oBACD;wBACE,QAAQ,EAAE,sBAAsB;wBAChC,MAAM,EAAE,sBAAsB;wBAC9B,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,IAAI;yBACd;wBACD,QAAQ,EAAE,IAAI;qBACf;oBACD;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,IAAI;yBACd;wBACD,QAAQ,EAAE,IAAI;qBACf;oBACD;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,IAAI;yBACd;wBACD,QAAQ,EAAE,IAAI;qBACf;oBACD;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,IAAI;yBACd;wBACD,QAAQ,EAAE,IAAI;qBACf;oBACD;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,GAAG;yBACb;wBACD,QAAQ,EAAE,GAAG;qBACd;oBACD;wBACE,QAAQ,EAAE,0BAA0B;wBACpC,MAAM,EAAE,0BAA0B;wBAClC,KAAK,EAAE;4BACL,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE,KAAK;yBACf;wBACD,QAAQ,EAAE,KAAK;qBAChB;iBACF;aACF;SACF;MACD;QAEW,2BAA2B,GAAqC;QAC3E;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE,IAAI;SACf;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE,IAAI;SACf;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE,IAAI;SACf;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE,IAAI;SACf;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE,IAAI;SACf;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,GAAG;aACb;YACD,QAAQ,EAAE,GAAG;SACd;QACD;YACE,QAAQ,EAAE,0BAA0B;YACpC,MAAM,EAAE,0BAA0B;YAClC,KAAK,EAAE;gBACL,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,KAAK;aACf;YACD,QAAQ,EAAE,KAAK;SAChB;MACD;QAEW,oCAAoC,GAA4B;QAC3E,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,2BAA2B;QAClC,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,cAAc,EAAE,WAAW,EAAE;MAChD;QAEW,yCAAyC,GAA4B;QAChF,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,cAAc,EAAE,YAAY,EAAE;MACjD;QAEW,uBAAuB,GAA6C;QAC/E,cAAc,EAAE,GAAG;QACnB,MAAM,EAAE;YACN,QAAQ,EAAE,YAAY;YACtB,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,EAAE;YACd,MAAM,EAAE,EAAE;YACV,cAAc,EAAE,YAAY;YAC5B,IAAI,EAAE,CAAC;SACR;MACD;QAEW,0BAA0B,GAAgD;QACrF,aAAa,EAAE,GAAG;QAClB,MAAM,EAAE;YACN,QAAQ,EAAE,YAAY;YACtB,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,EAAE;YACd,MAAM,EAAE,EAAE;YACV,cAAc,EAAE,YAAY;YAC5B,IAAI,EAAE,CAAC;SACR;MACD;QAEW,2BAA2B,GAA+B;QACrE;YACE,IAAI,EAAE,sBAAsB;YAC5B,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,sBAAsB,CAAC;oBACtC,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,GAAG;iBACX;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,CAAC;iBACT;aACF;SACF;QACD;YACE,IAAI,EAAE,sBAAsB;YAC5B,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,CAAC;iBACT;gBACD;oBACE,IAAI,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC;oBAC1C,KAAK,EAAE,KAAK;iBACb;aACF;SACF;MACD;QAEW,iBAAiB,GAA6B;QACzD,gBAAgB,EAAE,EAAE;QACpB,YAAY,EAAE,EAAE;QAChB,SAAS,EAAE,EAAE;QACb,cAAc,EAAExB,sBAAc,CAAC,SAAS;MACxC;QAEW,oBAAoB,GAAyB;QACxD;YACE,EAAE,EAAE,sCAAsC;YAC1C,qBAAqB,EAAE,qCAAqC;YAC5D,qBAAqB,EAAE,SAAS;YAChC,iBAAiB,EAAE,SAAS;YAC5B,IAAI,EAAE,qBAAqB;YAC3B,eAAe,EAAE,iBAAiB;YAClC,SAAS,EAAE,gBAAgB;YAC3B,aAAa,EAAE,KAAK;YACpB,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,KAAK;YAClB,IAAI,EAAE,wBAAwB;YAC9B,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,KAAK;YACf,uBAAuB,EAAE,IAAI;YAC7B,qBAAqB,EAAE,KAAK;YAC5B,eAAe,EAAE,GAAG;YACpB,eAAe,EAAE,KAAK;YACtB,sBAAsB,EAAE,KAAK;YAC7B,cAAc,EAAE,CAAC,sCAAsC,EAAE,sCAAsC,CAAC;YAChG,SAAS,EAAE,sCAAsC;YACjD,eAAe,EAAE,iBAAiB;YAClC,GAAG,EAAE,aAAa;YAClB,cAAc,EAAE,iBAAiB;YACjC,kBAAkB,EAAE,0BAA0B;YAC9C,mBAAmB,EAAE,KAAK;YAC1B,gBAAgB,EAAE,KAAK;YACvB,gBAAgB,EAAE,KAAK;YACvB,uBAAuB,EAAE,KAAK;YAC9B,qBAAqB,EAAE,0BAA0B;YACjD,UAAU,EAAE;gBACV;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;gBACD;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;aACF;YACD,SAAS,EAAE,0BAA0B;YACrC,QAAQ,EAAE,GAAG;YACb,UAAU,EAAE,EAAE;YACd,YAAY,EAAE,0BAA0B;YACxC,cAAc,EAAE,IAAI;YACpB,oBAAoB,EAAE,IAAI;YAC1B,4BAA4B,EAAE,GAAG;YACjC,8BAA8B,EAAE,EAAE;YAClC,yBAAyB,EAAE,4BAA4B;YACvD,0BAA0B,EAAE,KAAK;YACjC,uBAAuB,EAAE,KAAK;YAC9B,cAAc,EAAE,KAAK;YACrB,sBAAsB,EAAE,IAAI;YAC5B,uBAAuB,EAAE,QAAQ;YACjC,SAAS,EAAE,0BAA0B;YACrC,sBAAsB,EAAE,KAAK;YAC7B,eAAe,EAAE,EAAE;YACnB,kBAAkB,EAAE,KAAK;YACzB,cAAc,EAAE,IAAI;YACpB,qBAAqB,EAAE,0BAA0B;YACjD,oBAAoB,EAAE,KAAK;YAC3B,yBAAyB,EAAE,4BAA4B;YACvD,yBAAyB,EAAE,4BAA4B;YACvD,aAAa,EAAE,IAAI;YACnB,YAAY,EAAE,IAAI;YAClB,OAAO,EAAE,IAAI;YACb,cAAc,EAAE,0BAA0B;SAC3C;QACD;YACE,EAAE,EAAE,qCAAqC;YACzC,qBAAqB,EAAE,qCAAqC;YAC5D,qBAAqB,EAAE,SAAS;YAChC,iBAAiB,EAAE,SAAS;YAC5B,IAAI,EAAE,gCAAgC;YACtC,eAAe,EAAE,iBAAiB;YAClC,SAAS,EAAE,+CAA+C;YAC1D,aAAa,EAAE,KAAK;YACpB,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,KAAK;YAClB,IAAI,EAAE,wBAAwB;YAC9B,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,KAAK;YACf,uBAAuB,EAAE,IAAI;YAC7B,qBAAqB,EAAE,KAAK;YAC5B,eAAe,EAAE,GAAG;YACpB,eAAe,EAAE,KAAK;YACtB,sBAAsB,EAAE,KAAK;YAC7B,cAAc,EAAE,CAAC,sCAAsC,EAAE,sCAAsC,CAAC;YAChG,SAAS,EAAE,sCAAsC;YACjD,eAAe,EAAE,iBAAiB;YAClC,GAAG,EAAE,aAAa;YAClB,cAAc,EAAE,iBAAiB;YACjC,kBAAkB,EAAE,0BAA0B;YAC9C,mBAAmB,EAAE,KAAK;YAC1B,gBAAgB,EAAE,KAAK;YACvB,gBAAgB,EAAE,KAAK;YACvB,uBAAuB,EAAE,KAAK;YAC9B,qBAAqB,EAAE,0BAA0B;YACjD,UAAU,EAAE;gBACV;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;gBACD;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;aACF;YACD,SAAS,EAAE,0BAA0B;YACrC,QAAQ,EAAE,GAAG;YACb,UAAU,EAAE,EAAE;YACd,YAAY,EAAE,0BAA0B;YACxC,cAAc,EAAE,IAAI;YACpB,oBAAoB,EAAE,IAAI;YAC1B,4BAA4B,EAAE,GAAG;YACjC,8BAA8B,EAAE,EAAE;YAClC,yBAAyB,EAAE,4BAA4B;YACvD,0BAA0B,EAAE,KAAK;YACjC,uBAAuB,EAAE,KAAK;YAC9B,cAAc,EAAE,KAAK;YACrB,sBAAsB,EAAE,IAAI;YAC5B,uBAAuB,EAAE,QAAQ;YACjC,SAAS,EAAE,0BAA0B;YACrC,sBAAsB,EAAE,KAAK;YAC7B,eAAe,EAAE,EAAE;YACnB,kBAAkB,EAAE,KAAK;YACzB,cAAc,EAAE,IAAI;YACpB,qBAAqB,EAAE,0BAA0B;YACjD,oBAAoB,EAAE,KAAK;YAC3B,yBAAyB,EAAE,4BAA4B;YACvD,yBAAyB,EAAE,4BAA4B;YACvD,aAAa,EAAE,IAAI;YACnB,YAAY,EAAE,IAAI;YAClB,OAAO,EAAE,IAAI;YACb,cAAc,EAAE,0BAA0B;YAC1C,eAAe,EAAE;gBACf,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,MAAM;gBACb,QAAQ,EAAE,IAAI;aACf;SACF;QACD;YACE,EAAE,EAAE,sCAAsC;YAC1C,qBAAqB,EAAE,qCAAqC;YAC5D,qBAAqB,EAAE,SAAS;YAChC,iBAAiB,EAAE,SAAS;YAC5B,IAAI,EAAE,qBAAqB;YAC3B,eAAe,EAAE,iBAAiB;YAClC,SAAS,EAAE,gBAAgB;YAC3B,aAAa,EAAE,KAAK;YACpB,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,KAAK;YAClB,IAAI,EAAE,wBAAwB;YAC9B,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,KAAK;YACf,uBAAuB,EAAE,IAAI;YAC7B,qBAAqB,EAAE,KAAK;YAC5B,eAAe,EAAE,GAAG;YACpB,eAAe,EAAE,KAAK;YACtB,sBAAsB,EAAE,KAAK;YAC7B,cAAc,EAAE,CAAC,sCAAsC,EAAE,sCAAsC,CAAC;YAChG,SAAS,EAAE,sCAAsC;YACjD,eAAe,EAAE,iBAAiB;YAClC,GAAG,EAAE,aAAa;YAClB,cAAc,EAAE,iBAAiB;YACjC,kBAAkB,EAAE,0BAA0B;YAC9C,mBAAmB,EAAE,KAAK;YAC1B,gBAAgB,EAAE,KAAK;YACvB,gBAAgB,EAAE,KAAK;YACvB,uBAAuB,EAAE,KAAK;YAC9B,qBAAqB,EAAE,0BAA0B;YACjD,UAAU,EAAE;gBACV;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;gBACD;oBACE,MAAM,EAAE,MAAM;oBACd,UAAU,EAAE,0BAA0B;iBACvC;aACF;YACD,SAAS,EAAE,0BAA0B;YACrC,QAAQ,EAAE,GAAG;YACb,UAAU,EAAE,EAAE;YACd,YAAY,EAAE,0BAA0B;YACxC,cAAc,EAAE,IAAI;YACpB,oBAAoB,EAAE,IAAI;YAC1B,4BAA4B,EAAE,GAAG;YACjC,8BAA8B,EAAE,EAAE;YAClC,yBAAyB,EAAE,4BAA4B;YACvD,0BAA0B,EAAE,KAAK;YACjC,uBAAuB,EAAE,KAAK;YAC9B,cAAc,EAAE,KAAK;YACrB,sBAAsB,EAAE,IAAI;YAC5B,uBAAuB,EAAE,QAAQ;YACjC,SAAS,EAAE,0BAA0B;YACrC,sBAAsB,EAAE,KAAK;YAC7B,eAAe,EAAE,EAAE;YACnB,kBAAkB,EAAE,KAAK;YACzB,cAAc,EAAE,IAAI;YACpB,qBAAqB,EAAE,0BAA0B;YACjD,oBAAoB,EAAE,KAAK;YAC3B,yBAAyB,EAAE,4BAA4B;YACvD,yBAAyB,EAAE,4BAA4B;YACvD,aAAa,EAAE,IAAI;YACnB,YAAY,EAAE,IAAI;YAClB,OAAO,EAAE,IAAI;YACb,cAAc,EAAE,0BAA0B;YAC1C,eAAe,EAAE;gBACf,KAAK,EAAE,MAAM;aACd;SACF;MACD;QAEW,iBAAiB,GAAa;QACzC,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,oBAAoB;QAC3B,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,cAAc,EAAE,WAAW,EAAE;MAChD;QAEW,8BAA8B,GAAG;QAC5C;YACE,kBAAkB,EAAE;gBAClB;oBACE,YAAY,EAAE,KAAK;oBACnB,MAAM,EAAE,QAAQ;oBAChB,oBAAoB,EAAE,CAAC;iBACxB;gBACD;oBACE,YAAY,EAAE,KAAK;oBACnB,MAAM,EAAE,QAAQ;oBAChB,oBAAoB,EAAE,EAAE;iBACzB;aACF;SACF;;;ICrdH;IAEA;QACa,aAAa,GAAG,UAAI,GAAkB,IAAc,OAAA,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,IAAC;IAEzG;;;;QAIa,OAAO,GAAG,UAAuC,CAAgB,EAAE,CAAgB;QAC9F,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACxC,OAAO,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,KAAK,CAAC,UAAC,MAAM,EAAE,CAAC,IAAK,OAAA,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;SAC/E;QACD,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACxC,OAAO,KAAK,CAAC;SACd;QAED,IAAI,aAAa,CAAC,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,EAAE;YACxC,IAAM,SAAO,GAAG,CAAgD,CAAC;YACjE,IAAM,SAAO,GAAG,CAAgD,CAAC;YACjE,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,SAAO,CAAC,CAAC;YACnC,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,SAAO,CAAC,CAAC;YACnC,OAAO,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,CAAC,SAAO,CAAC,IAAI,CAAC,EAAE,SAAO,CAAC,IAAI,CAAC,CAAC,GAAA,CAAC,CAAC;SACpG;QAED,OAAO,CAAC,KAAK,CAAC,CAAC;IACjB;;;QC1BE,oBAAY,OAA4B;YACtC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACzB;QAED,+BAAU,GAAV,UAAW,OAAe;YACxB,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAACyB,kBAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;SAC1D;QAED,gCAAW,GAAX,UAAY,OAAe;YACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAACA,kBAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;SAC7D;QAED,4BAAO,GAAP,UAAQ,OAAe;YACrB,IAAM,OAAO,GAAwB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YAC9D,IAAI,OAAO,EAAE;gBACX,OAAO,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;aACjD;YACD,OAAO,SAAS,CAAC;SAClB;QAED,qCAAgB,GAAhB,UAAiB,OAAe;YAC9B,OAAO,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;SAC5C;yBACF;KAAA;;IC7BD;;;;;QAOA;;;;;;;;;QAQE,qCAAS,GAAT,UAAU,KAAc;YACtB,OAAO,KAAK,KAAK,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;SACpD;;;yIAVU,iBAAiB;uIAAjB,iBAAiB;sHAAjB,iBAAiB;sBAH7BC,OAAI;uBAAC;wBACJ,IAAI,EAAE,iBAAiB;qBACxB;;;ICFD,IAAMC,aAAW,GAAG,CAACC,4BAAuB,EAAEC,6CAAuB,CAAC,CAAC;IACvE,IAAMC,OAAK,GAAG,CAAC,iBAAiB,CAAC,CAAC;;QAOlC;;;;wIAAa,gBAAgB;yIAAhB,gBAAgB,iBAPd,iBAAiB,aAGpBnC,mBAAY,EAJHiC,4BAAuB,EAAEC,6CAAuB,aAAhDD,4BAAuB,EAAEC,6CAAuB,EACtD,iBAAiB;yIAOnB,gBAAgB,2BAJjBlC,mBAAY,UAAKgC,aAAW,IAJnBC,4BAAuB,EAAEC,6CAAuB;sHAQxD,gBAAgB;sBAL5BtC,WAAQ;uBAAC;wBACR,OAAO,iBAAGI,mBAAY,UAAKgC,aAAW,EAAC;wBACvC,YAAY,2BAAMG,OAAK,EAAC;wBACxB,OAAO,yCAAMH,aAAW,WAAKG,OAAK,EAAC;qBACpC;;;ICRD;;;;QAMA;;;;;;;;;;;;;QAYE,0CAAS,GAAT,UAAU,OAAqC;YAC7C,IAAM,iBAAiB,GAAG,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAExD,IAAI,iBAAiB,KAAK,MAAM,IAAI,MAAM,IAAI,OAAO,EAAE;gBACrD,OAAO,OAAO,CAAC,IAAc,CAAC;aAC/B;iBAAM,IAAI,iBAAiB,KAAK,MAAM,IAAI,MAAM,IAAI,OAAO,EAAE;gBAC5D,OAAO,OAAO,CAAC,IAAc,CAAC;aAC/B;iBAAM,IAAI,QAAQ,IAAI,OAAO,EAAE;gBAC9B,OAAO,OAAO,CAAC,MAAgB,CAAC;aACjC;YAED,OAAO,EAAE,CAAC;SACX;;;8IAxBU,sBAAsB;4IAAtB,sBAAsB;sHAAtB,sBAAsB;sBAHlCJ,OAAI;uBAAC;wBACJ,IAAI,EAAE,sBAAsB;qBAC7B;;;ICJD;;;;QAMA;;;;;;;;;;;;;QAYE,yCAAS,GAAT,UAAU,OAAqC;YAC7C,OAAO,oBAAoB,CAAC,OAAO,CAAC,CAAC;SACtC;;;6IAdU,qBAAqB;2IAArB,qBAAqB;sHAArB,qBAAqB;sBAHjCA,OAAI;uBAAC;wBACJ,IAAI,EAAE,qBAAqB;qBAC5B;;;ICJD;;;;;;;;;;;;;QAgBE,iCAA6B,+BAAgE;YAAhE,oCAA+B,GAA/B,+BAA+B,CAAiC;SAAI;;;;;;;;QASjG,2CAAS,GAAT,UAAU,OAAyD;YACjE,IAAM,WAAW,GAAG,OAAO,OAAO,KAAK,QAAQ,GAAG,oBAAoB,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;YAC1F,IAAM,gBAAgB,GAAG,IAAI,CAAC,+BAA+B,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;YAE5F,uBAAS,MAAM,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAK,gBAAgB,EAAG;SAC9D;;;+IArBU,uBAAuB;6IAAvB,uBAAuB;sHAAvB,uBAAuB;sBAHnCA,OAAI;uBAAC;wBACJ,IAAI,EAAE,uBAAuB;qBAC9B;;;ICPD,IAAMC,aAAW,GAAG,CAACC,4BAAuB,EAAEC,6CAAuB,CAAC,CAAC;IACvE,IAAMC,OAAK,GAAG,CAAC,sBAAsB,EAAE,qBAAqB,EAAE,uBAAuB,CAAC,CAAC;;QAOvF;;;;+IAAa,uBAAuB;gJAAvB,uBAAuB,iBAPrB,sBAAsB,EAAE,qBAAqB,EAAE,uBAAuB,aAGzEnC,mBAAY,EAJHiC,4BAAuB,EAAEC,6CAAuB,aAAhDD,4BAAuB,EAAEC,6CAAuB,EACtD,sBAAsB,EAAE,qBAAqB,EAAE,uBAAuB;gJAOxE,uBAAuB,2BAJxBlC,mBAAY,UAAKgC,aAAW,IAJnBC,4BAAuB,EAAEC,6CAAuB;sHAQxD,uBAAuB;sBALnCtC,WAAQ;uBAAC;wBACR,OAAO,iBAAGI,mBAAY,UAAKgC,aAAW,EAAC;wBACvC,YAAY,2BAAMG,OAAK,EAAC;wBACxB,OAAO,yCAAMH,aAAW,WAAKG,OAAK,EAAC;qBACpC;;;ICZD;;;;QAMA;;;;;;;;;;;;;QAYE,iCAAS,GAAT,UAAU,KAAU;YAClB,OAAO,SAAS,CAAC,KAAK,CAAC,CAAC;SACzB;;;qIAdU,aAAa;mIAAb,aAAa;sHAAb,aAAa;sBAHzBJ,OAAI;uBAAC;wBACJ,IAAI,EAAE,aAAa;qBACpB;;;ICND;;;;;;;;;;;QAWA;;;;;;;;QAOE,iCAAS,GAAT,UAAa,IAAO,EAAE,KAAU;YAC9B,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;gBACzB,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aACnC;YACD,OAAO,KAAK,CAAC;SACd;;;qIAZU,aAAa;mIAAb,aAAa;sHAAb,aAAa;sBADzBA,OAAI;uBAAC,EAAE,IAAI,EAAE,aAAa,EAAE;;;ICT7B;;;;;;;;;;QAUA;;;;;;;QAME,kCAAS,GAAT,UAAa,IAAO;YAClB,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gBAC/C,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACvC,OAAO,YAAY,KAAK,CAAC,IAAI,YAAY,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;aAC/D;YACD,OAAO,KAAK,CAAC;SACd;;;sIAZU,cAAc;oIAAd,cAAc;sHAAd,cAAc;sBAD1BA,OAAI;uBAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE;;;ICPlC;;;;;;;;;;QAUA;;;;;;;;QAOE,qCAAS,GAAT,UACE,eAA+F,EAC/F,uBAA0D;YAE1D,IAAI,SAAS,CAAC,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,OAAO,CAAC,EAAE;gBACvC,OAAO,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC;sBACzC,uBAAuB,CAAC,QAAQ,CAAC,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,OAAyB,CAAC;sBAC5E,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,OAAO,MAAK,uBAAuB,CAAC;aAC1D;YACD,OAAO,KAAK,CAAC;SACd;;;yIAjBU,iBAAiB;uIAAjB,iBAAiB;sHAAjB,iBAAiB;sBAD7BA,OAAI;uBAAC,EAAE,IAAI,EAAE,iBAAiB,EAAE;;;ICPjC,IAAMI,OAAK,GAAG,CAAC,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC;;QAOhF;;;;wIAAa,gBAAgB;yIAAhB,gBAAgB,iBAPd,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,iBAAiB,aAGlEnC,mBAAY,aAHT,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,iBAAiB;yIAOjE,gBAAgB,YAJlB,CAACA,mBAAY,CAAC;sHAIZ,gBAAgB;sBAL5BJ,WAAQ;uBAAC;wBACR,OAAO,EAAE,CAACI,mBAAY,CAAC;wBACvB,YAAY,2BAAMmC,OAAK,EAAC;wBACxB,OAAO,2BAAMA,OAAK,EAAC;qBACpB;;;ICVD;;;;;;;;;;;;;;;;;QAmCE,4BAAoB,QAAoB;YAApB,aAAQ,GAAR,QAAQ,CAAY;YArBvB,yBAAoB,GAAG;gBACtC,GAAG,EAAE,QAAQ;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,OAAO;gBACb,OAAO,EAAE,MAAM;gBACf,MAAM,EAAE,KAAK;aACd,CAAC;YACe,yBAAoB,GAAG;gBACtC,IAAI,EAAE,UAAC,IAAY,IAAK,OAAA,SAAS,wHAAA,iDAAkD,EAAI,EAAE,KAAN,IAAI,IAAE;gBACzF,KAAK,EAAE,UAAC,KAAa,IAAK,OAAA,SAAS,gIAAA,+CAAgD,EAAK,YAAY,KAAjB,KAAK,IAAY;gBACpG,IAAI,EAAE,cAAM,OAAA,SAAS,2HAAA,wDAAwD,OAAA;gBAC7E,OAAO,EAAE,UAAC,OAAe,IAAK,OAAA,SAAS,oIAAA,iDAAkD,EAAO,cAAc,KAArB,OAAO,IAAc;gBAC9G,MAAM,EAAE,cAAM,OAAA,SAAS,+HAAA,4DAA4D,OAAA;aACpF,CAAC;SAQ0C;;;;;;;;;;;;;QAc5C,sCAAS,GAAT,UAAU,eAAuB,EAAE,UAAuB;YAAvB,2BAAA,EAAA,uBAAuB;YACxD,IAAM,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;YAEhG,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE;gBACvD,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;aAC3C;iBAAM,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE;gBAC3D,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAClF,OAAO,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aACtD;iBAAM,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE;gBAC5D,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;aACzC;iBAAM,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE;gBAC1D,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBAC9E,OAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;aAClD;iBAAM;gBACL,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,EAAE,UAAU,CAAW,CAAC;gBAClF,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACnD;SACF;;;0IArDU,kBAAkB;wIAAlB,kBAAkB;sHAAlB,kBAAkB;sBAH9BJ,OAAI;uBAAC;wBACJ,IAAI,EAAE,kBAAkB;qBACzB;;;;ICVD,IAAM,WAAW,GAAG,CAACK,qBAAgB,CAAC,CAAC;IACvC,IAAM,KAAK,GAAG,CAAC,kBAAkB,CAAC,CAAC;;QAQnC;;;;sIAAa,cAAc;uIAAd,cAAc,iBARZ,kBAAkB,aAGrBpC,mBAAY,EAJHoC,qBAAgB,aACtB,kBAAkB,EADZA,qBAAgB;uIASxB,cAAc,aAFd,CAACC,eAAU,CAAC,2BAHbrC,mBAAY,UAAK,WAAW,IAJnBoC,qBAAgB;sHASxB,cAAc;sBAN1BxC,WAAQ;uBAAC;wBACR,OAAO,iBAAGI,mBAAY,UAAK,WAAW,EAAC;wBACvC,YAAY,2BAAM,KAAK,EAAC;wBACxB,OAAO,yCAAM,KAAK,WAAK,WAAW,EAAC;wBACnC,SAAS,EAAE,CAACqC,eAAU,CAAC;qBACxB;;;ICbD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}