{"version":3,"file":"backbase-accessgroup-ui.js","sources":["../../../../libs/accessgroup-ui/src/lib/accessgroup-error/component/accessgroup-error.component.ts","../../../../libs/accessgroup-ui/src/lib/accessgroup-error/component/accessgroup-error.component.html","../../../../libs/accessgroup-ui/src/lib/accessgroup-header/accessgroup-header.component.ts","../../../../libs/accessgroup-ui/src/lib/accessgroup-header/accessgroup-header.component.html","../../../../libs/accessgroup-ui/src/lib/model/approval-status.enum.ts","../../../../libs/accessgroup-ui/src/lib/accessgroup-approval-log/accessgroup-approval-log.component.ts","../../../../libs/accessgroup-ui/src/lib/accessgroup-approval-log/accessgroup-approval-log.component.html","../../../../libs/accessgroup-ui/src/lib/business-function-group-name/business-function-group-name.component.ts","../../../../libs/accessgroup-ui/src/lib/business-function-group-name/business-function-group-name.component.html","../../../../libs/accessgroup-ui/src/lib/business-function-name/business-function-name.component.ts","../../../../libs/accessgroup-ui/src/lib/business-function-name/business-function-name.component.html","../../../../libs/accessgroup-ui/src/lib/business-function-privileges-name/business-function-privileges-name.component.ts","../../../../libs/accessgroup-ui/src/lib/business-function-privileges-name/business-function-privileges-name.component.html","../../../../libs/accessgroup-ui/src/lib/data-group-items-table/data-group-items-table.component.ts","../../../../libs/accessgroup-ui/src/lib/data-group-items-table/data-group-items-table.component.html","../../../../libs/accessgroup-ui/src/lib/discard-changes-modal/discard-changes-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/discard-changes-modal/discard-changes-modal.component.html","../../../../libs/accessgroup-ui/src/lib/model/helpers.ts","../../../../libs/accessgroup-ui/src/lib/time-bounds/time-bounds.component.ts","../../../../libs/accessgroup-ui/src/lib/time-bounds/time-bounds.component.html","../../../../libs/accessgroup-ui/src/lib/function-group-time-bounds/function-group-time-bounds.component.ts","../../../../libs/accessgroup-ui/src/lib/function-group-time-bounds/function-group-time-bounds.component.html","../../../../libs/accessgroup-ui/src/lib/privilege-indicator/privilege-indicator.component.ts","../../../../libs/accessgroup-ui/src/lib/privilege-indicator/privilege-indicator.component.html","../../../../libs/accessgroup-ui/src/lib/privilege-indicator-list/privilege-indicator-list.component.ts","../../../../libs/accessgroup-ui/src/lib/privilege-indicator-list/privilege-indicator-list.component.html","../../../../libs/accessgroup-ui/src/lib/select-items-modal/select-items-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/select-items-modal/select-items-modal.component.html","../../../../libs/accessgroup-ui/src/lib/select-items-modal/select-items-modal.module.ts","../../../../libs/accessgroup-ui/src/lib/user-context-icon/user-context-icon.component.ts","../../../../libs/accessgroup-ui/src/lib/user-context-icon/user-context-icon.component.html","../../../../libs/accessgroup-ui/src/lib/self-approval-modal/self-approve-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/self-approval-modal/self-approve-modal.component.html","../../../../libs/accessgroup-ui/src/lib/payee-item-detail/payee-item-detail.component.ts","../../../../libs/accessgroup-ui/src/lib/payee-item-detail/payee-item-detail.component.html","../../../../libs/accessgroup-ui/src/lib/payee-group-table-row/payee-group-table-row.component.ts","../../../../libs/accessgroup-ui/src/lib/payee-group-table-row/payee-group-table-row.component.html","../../../../libs/accessgroup-ui/src/lib/payee-group-detail-modal/payee-group-detail-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/payee-group-detail-modal/payee-group-detail-modal.component.html","../../../../libs/accessgroup-ui/src/lib/account-group-detail-modal/account-group-detail-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/account-group-detail-modal/account-group-detail-modal.component.html","../../../../libs/accessgroup-ui/src/lib/unassign-data-group/unassign-data-group-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/unassign-data-group/unassign-data-group-modal.component.html","../../../../libs/accessgroup-ui/src/lib/user-permissions-item/user-permissions-item.component.ts","../../../../libs/accessgroup-ui/src/lib/user-permissions-item/user-permissions-item.component.html","../../../../libs/accessgroup-ui/src/lib/accessgroup-ui.module.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/services/business-functions.service.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/models/types.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/services/job-role-detail-business-function-group.service.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/job-role-detail-privilege-indicator-list/job-role-detail-privilege-indicator-list.component.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/job-role-detail-privilege-indicator-list/job-role-detail-privilege-indicator-list.component.html","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/job-role-detail-modal.component.ts","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/job-role-detail-modal.component.html","../../../../libs/accessgroup-ui/src/lib/job-role-detail-modal/job-role-detail-modal.module.ts","../../../../libs/accessgroup-ui/src/lib/accessgroup-error/error.ts","../../../../libs/accessgroup-ui/src/backbase-accessgroup-ui.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { Error } from '../error';\n\n@Component({\n  selector: 'bb-accessgroup-error',\n  templateUrl: './accessgroup-error.component.html',\n})\nexport class AccessgroupErrorComponent {\n  /**\n   * Error\n   */\n  @Input() error: Error | undefined;\n}\n","<ng-container *ngIf=\"error\" [ngSwitch]=\"error?.kind\">\n  <bb-empty-state-ui\n    *ngSwitchCase=\"'AccessgroupUIAccessDenied'\"\n    title=\"Permissions required\"\n    i18n-title=\"\n      Permissions required|Error state label when user does not have permissions to view User\n      Permissons@@accessgroup-ui.error.accessDenied.title\"\n    subtitle=\"You don't have permissions to view User Permissions.\"\n    i18n-subtitle=\"\n      No Permissions Subtitle|Error state message label when user does not have permissions to view User\n      Permissons@@accessgroup-ui.error.accessDenied.subtitle\"\n    iconModifier=\"lock\"\n    iconColor=\"muted\"\n    iconSize=\"xxl\"></bb-empty-state-ui>\n\n  <bb-empty-state-ui\n    *ngSwitchCase=\"'AccessgroupUIConnectivityError'\"\n    title=\"Connectivity Error\"\n    i18n-title=\"\n      Connectivity Error title|Empty state label when there is connectivity\n      error@@accessgroup-ui.error.connectivity.title\"\n    subtitle=\"Are you connected to the internet? Please check your connection and try again.\"\n    i18n-subtitle=\"\n      Connectivity Error message|Empty state message label when there is connectivity\n      error@@accessgroup-ui.error.connectivity.subtitle\"\n    iconModifier=\"error-outline\"\n    iconColor=\"muted\"\n    iconSize=\"xxl\"></bb-empty-state-ui>\n\n  <!-- AccessgroupUIUnknownError-->\n  <bb-empty-state-ui\n    *ngSwitchDefault\n    title=\"Unknown Error\"\n    i18n-title=\"\n      Unknown Error title|Empty state label when there is an unknown error@@accessgroup-ui.error.unknown.title\"\n    subtitle=\"Try to reload the page or contact the system administrator.\"\n    i18n-subtitle=\"\n      Unknown Error message|Empty state message label when there is an unknown\n      error@@accessgroup-ui.error.unknown.subtitle\"\n    iconModifier=\"error-outline\"\n    iconColor=\"muted\"\n    iconSize=\"xxl\"></bb-empty-state-ui>\n</ng-container>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-accessgroup-header',\n  templateUrl: './accessgroup-header.component.html',\n})\nexport class AccessgroupHeaderComponent {\n  /**\n   * Title of the Header\n   */\n  @Input() heading: string | undefined;\n  /**\n   * Description of the Header\n   */\n  @Input() description: string | undefined;\n}\n","<div>\n  <bb-header-ui [heading]=\"heading\" data-role=\"widget-header-heading\" headingType=\"h2\"></bb-header-ui>\n  <div data-role=\"widget-header-description\" class=\"bb-text-support\">{{ description }}</div>\n  <hr class=\"bb-block bb-block--lg\" />\n</div>\n","export enum ApprovalStatus {\n  APPROVED = 'APPROVED',\n  REJECTED = 'REJECTED',\n}","import { Component, Input } from '@angular/core';\nimport '@angular/localize/init';\nimport { ApprovalStatus } from '../model/approval-status.enum';\nimport { ApprovalLogRecord } from '../model/approval-log-record.interface';\nimport { PresentationApprovalDetailDto } from '@backbase/consolidated-approvals-beta-http-ang/model/presentationApprovalDetailDto';\n\nconst translations = {\n  approved: $localize`:Approved status@@approvals-journey.approval-log.status.approved:Approved`,\n  rejected: $localize`:Rejected status@@approvals-journey.approval-log.status.rejected:Rejected`,\n};\n\n@Component({\n  selector: 'bb-accessgroup-approval-log',\n  templateUrl: './accessgroup-approval-log.component.html',\n})\nexport class AccessgroupApprovalLogComponent {\n  /** Is pending status */\n  @Input() isPending = false;\n\n  /** Approval info setter */\n  @Input() set approvalInfo(value: PresentationApprovalDetailDto) {\n    this.records = [];\n    if (value.records) {\n      value.records.forEach((el: ApprovalLogRecord) => {\n        el.approvalLevel = value?.approvalTypes?.find(item => item.id === el.approvalTypeId)?.name;\n        this.records.push(el);\n      });\n    }\n  }\n\n  records: ApprovalLogRecord[] = [];\n\n  /** Status name (translated) reference object */\n  readonly statusName = {\n    [ApprovalStatus.REJECTED]: translations.rejected,\n    [ApprovalStatus.APPROVED]: translations.approved,\n  };\n\n  /** Icon name reference object */\n  readonly iconName = {\n    [ApprovalStatus.REJECTED]: 'cancel',\n    [ApprovalStatus.APPROVED]: 'success',\n  };\n\n  /** Icon color reference object */\n  readonly iconColor = {\n    [ApprovalStatus.REJECTED]: 'danger',\n    [ApprovalStatus.APPROVED]: 'success',\n  };\n}\n","<div class=\"bb-item-log bb-accessgroup-approval-log\">\n  <div *ngFor=\"let itemLogRecord of records\" class=\"bb-item-log__record\" data-role=\"approval-log-record\">\n    <div class=\"bb-stack bb-stack--align-top bb-stack--wrap\">\n      <bb-icon-ui\n        class=\"bb-item-log-record__icon\"\n        size=\"md\"\n        [name]=\"iconName[itemLogRecord.status]\"\n        [color]=\"iconColor[itemLogRecord.status]\"></bb-icon-ui>\n      <div class=\"bb-item-log-record__details\">\n        <span class=\"bb-text-bold\">{{ statusName[itemLogRecord.status] }} </span>\n\n        <!-- TODO: Replace letter with component -->\n        <span\n          *ngIf=\"itemLogRecord.approvalLevel\"\n          class=\"d-inline-block px-2 mx-1\"\n          style=\"background-color: #dedede; border-radius: 4px\"\n          >{{ itemLogRecord.approvalLevel }}</span\n        >\n\n        <small>\n          <ng-container> {{ itemLogRecord.userFullName }}</ng-container>\n          <ng-container *ngIf=\"itemLogRecord.externalUserId\"> ({{ itemLogRecord.externalUserId }})</ng-container>\n        </small>\n\n        <div class=\"bb-item-log-record__time\">\n          <time> {{ itemLogRecord.createdAt | date: 'd MMM YYYY' }}</time>\n          <ng-container i18n=\"At (used in date info)@@approvals-journey.approval-log.date.at\"> at</ng-container>\n          <time> {{ itemLogRecord.createdAt | date: 'shortTime' }}</time>\n        </div>\n      </div>\n\n      <div *ngIf=\"itemLogRecord.comment\" class=\"w-100 mt-3 mr-4 mb-2 ml-4\">\n        <div class=\"bb-card bb-card--sm bb-card--shadowless ml-2 bb-accessgroup-approval-log__comment\">\n          <div class=\"bb-card__body\">\n            <small>{{ itemLogRecord.comment }}</small>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"isPending\" class=\"bb-item-log__record\" data-role=\"approval-log-pending\">\n    <bb-icon-ui class=\"bb-text-support bb-item-log-record__icon\" name=\"watch-later\" size=\"md\"></bb-icon-ui>\n    <div\n      class=\"bb-item-log__pending-record--details bb-text-bold\"\n      i18n=\"Waiting for further approval(s)@@approvals-journey.approval-log.pending.title\">\n      Waiting for further approval(s)\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { TranslationsService } from '@backbase/accessgroup-common-ang';\n\n@Component({\n  selector: 'bb-business-function-group-name',\n  templateUrl: './business-function-group-name.component.html',\n})\nexport class BusinessFunctionGroupNameComponent {\n  /**\n   * Business function groupKey for which the name is shown\n   */\n  @Input() groupKey: string | undefined;\n\n  constructor(private translationsService: TranslationsService) {}\n\n  get groupName(): string | undefined {\n    if (!this.groupKey) return '';\n    return this.translationsService.getBusinessFunctionGroupName(this.groupKey) || this.groupKey;\n  }\n}\n","{{ groupName }}","import { Component, Input } from '@angular/core';\nimport { BusinessFunction } from '../model/types';\nimport { TranslationsService } from '@backbase/accessgroup-common-ang';\n\n@Component({\n  selector: 'bb-business-function-name',\n  templateUrl: './business-function-name.component.html',\n})\nexport class BusinessFunctionNameComponent {\n  /**\n   * Business function for which the name is shown\n   */\n  @Input() businessFunction: BusinessFunction | undefined;\n\n  constructor(private translationsService: TranslationsService) {}\n\n  get name(): string | undefined {\n    if (!this.businessFunction) return '';\n\n    return this.translationsService.getBusinessFunctionName(this.businessFunction.functionCode) || this.businessFunction.name;\n  }\n}\n","{{ name }}","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-business-function-privileges-name',\n  templateUrl: './business-function-privileges-name.component.html',\n})\nexport class BusinessFunctionPrivilegesNameComponent {\n  /**\n   * Flag for hiding execute name\n   */\n  @Input() hideExecute = false;\n}\n","<span\n  data-role=\"Execute\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Execute privilege@@accessgroup-ui.label.privilege.execute\"\n  *ngIf=\"!hideExecute\">\n  Execute\n</span>\n<span\n  data-role=\"View\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"View privilege@@accessgroup-ui.label.privilege.view\">\n  View\n</span>\n<span\n  data-role=\"Create\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Create privilege@@accessgroup-ui.label.privilege.create\">\n  Create\n</span>\n<span\n  data-role=\"Edit\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Edit privilege@@accessgroup-ui.label.privilege.edit\">\n  Edit\n</span>\n<span\n  data-role=\"Delete\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Delete privilege@@accessgroup-ui.label.privilege.delete\">\n  Delete\n</span>\n\n<span\n  data-role=\"Cancel\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Cancel privilege@@accessgroup-ui.label.privilege.cancel\">\n  Cancel\n</span>\n\n<span\n  data-role=\"Approve\"\n  class=\"col bb-business-function-privilege-name-item bb-text-align-center\"\n  i18n=\"Approve privilege@@accessgroup-ui.label.privilege.approve\">\n  Approve\n</span>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AccountItem } from '@backbase/accessgroup-common-ang';\n\n@Component({\n  selector: 'bb-data-group-items-table',\n  templateUrl: './data-group-items-table.component.html',\n})\nexport class DataGroupItemsTableComponent {\n  /**\n   * List of Data Group Items\n   */\n  @Input() items: AccountItem[] = [];\n\n  /**\n   * If enabled, last column is shown\n   */\n  @Input() showDeleteColumn = false;\n\n  /**\n   * Event that fires when user clicks button to delete Data Group\n   */\n  @Output() removeItem = new EventEmitter<AccountItem>();\n\n  onRemoveItem(item: AccountItem) {\n    if (this.showDeleteColumn) {\n      this.removeItem.emit(item);\n    }\n  }\n}\n","<table class=\"table\" bbTableFocus [bbTable]=\"items\">\n  <caption class=\"sr-only\" i18n=\"Accounts in this group@@data-group-items-table.label.table-with-accounts\">\n    Table with accounts in this group\n  </caption>\n  <thead>\n    <tr>\n      <th scope=\"col\" i18n=\"Name, type@@data-group-items-table.table.header.name\">Name, type</th>\n      <th scope=\"col\" i18n=\"Number@@data-group-items-table.table.header.number\">Number</th>\n      <th scope=\"col\" i18n=\"Ccy@@data-group-items-table.table.header.ccy\">Ccy</th>\n      <th *ngIf=\"showDeleteColumn\" scope=\"col\"></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let item of items\" [bbRow]=\"item\">\n      <td class=\"break-word\">\n        <div class=\"bb-text-bold\">{{ item.displayName }}</div>\n        <div>{{ item.productTypeName }}</div>\n      </td>\n      <td class=\"break-word\">\n        {{ item.IBAN || item.BBAN || item.productNumber || item.number }}\n      </td>\n      <td class=\"break-word\">{{ item.currency }}</td>\n      <td *ngIf=\"showDeleteColumn\" class=\"bb-text-align-right\">\n        <button\n          bbButton\n          (click)=\"onRemoveItem(item)\"\n          (keyup.enter)=\"onRemoveItem(item)\"\n          aria-label=\"Remove Account\"\n          i18n-aria-label=\"Remove Account@@data-group-items-table.aria.label.remove-account\"\n          [circle]=\"true\"\n          [color]=\"$any('icon-link')\">\n          <bb-icon-ui name=\"delete\"></bb-icon-ui>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'bb-discard-changes-modal',\n  templateUrl: './discard-changes-modal.component.html',\n})\nexport class DiscardChangesModalComponent {\n  /**\n   * Is modal open\n   */\n  @Input() isOpen = false;\n  /**\n   * Modal title\n   */\n  @Input() title = '';\n  /**\n   * Label for the discard changes button\n   */\n  @Input() discardButtonLabel = '';\n  /**\n   * Label for the cancel button\n   */\n  @Input() cancelButtonLabel = '';\n  /**\n   * Event emitter that emits the chosen action.\n   * true to continue with action, false to cancel\n   */\n  @Output() resolve = new EventEmitter<boolean>();\n\n  cancel() {\n    this.resolve.emit(false);\n  }\n\n  discard() {\n    this.resolve.emit(true);\n  }\n}\n","<bb-modal-ui [isOpen]=\"isOpen\" (cancel)=\"cancel()\" data-role=\"discard-changes-modal\">\n  <bb-modal-header-ui data-role=\"discard-changes-modal-title\" [title]=\"title\"></bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <ng-content></ng-content>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"danger\"\n          class=\"bb-button-bar__button\"\n          (click)=\"discard()\"\n          data-role=\"discard-changes-modal-discard-button\">\n          {{ discardButtonLabel }}\n        </button>\n        <button\n          bbButton\n          color=\"secondary\"\n          class=\"bb-button-bar__button\"\n          (click)=\"cancel()\"\n          data-role=\"discard-changes-modal-cancel-button\">\n          {{ cancelButtonLabel }}\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n","export const formatDate = (dateString: string | undefined): Date | undefined => {\n  if (dateString) {\n    const [year, month, date] = dateString.split('-');\n    return new Date(parseInt(year, 10), parseInt(month, 10) - 1, parseInt(date, 10));\n  }\n\n  return undefined;\n};\n\nexport const formatTime = (date: Date | undefined, timeString: string | undefined): Date | undefined => {\n  if (date && timeString) {\n    const [hour, minute, second] = timeString.split(':');\n    return new Date(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      parseInt(hour, 10),\n      parseInt(minute, 10),\n      parseInt(second, 10),\n    );\n  }\n\n  return undefined;\n};\n","import { Component, Input } from '@angular/core';\nimport { formatDate, formatTime } from '../model/helpers';\nimport { TimeBounds, ValidityFormat } from '../model/types';\n\n@Component({\n  selector: 'bb-time-bounds',\n  templateUrl: './time-bounds.component.html',\n})\nexport class TimeBoundsComponent {\n  private timeBoundsValue: TimeBounds | undefined;\n\n  fromDate: Date | undefined;\n  fromTime: Date | undefined;\n  untilDate: Date | undefined;\n  untilTime: Date | undefined;\n  validityFormat: ValidityFormat = '';\n\n  /**\n   * Function group\n   */\n  @Input() set timeBounds(value: TimeBounds | undefined) {\n    if (value) {\n      this.timeBoundsValue = value;\n      this.fromDate = formatDate(value.validFromDate);\n      this.fromTime = formatTime(this.fromDate, value.validFromTime);\n      this.untilDate = formatDate(value.validUntilDate);\n      this.untilTime = formatTime(this.untilDate, value.validUntilTime);\n      this.setValidityPeriod();\n    }\n  }\n\n  get timeBounds(): TimeBounds | undefined {\n    return this.timeBoundsValue;\n  }\n\n  private setValidityPeriod() {\n    this.validityFormat = '';\n    if (this.fromDate && !this.untilDate) {\n      this.validityFormat = 'validFromOnly';\n    }\n    if (!this.fromDate && this.untilDate) {\n      this.validityFormat = 'validUntilOnly';\n    }\n    if (this.fromDate && this.untilDate) {\n      this.validityFormat = 'validFromUntil';\n    }\n  }\n}\n","<div *ngIf=\"timeBounds && (fromDate || untilDate)\" class=\"bb-stack\" data-role=\"time-bounds\">\n  <bb-icon-ui name=\"access-time\" class=\"bb-stack__item bb-stack__item--spacing-sm\" size=\"sm\"></bb-icon-ui>\n  <div\n    class=\"bb-stack__item bb-subheader bb-subheader--regular\"\n    i18n=\"Time bound label@@time-bounds.label.validity-period\">\n    { validityFormat, select, validFromOnly {Active from\n    <span class=\"bb-text-bold\">{{ fromDate | date: 'mediumDate' }} {{ fromTime | date: 'shortTime' }}</span\n    >} validUntilOnly {Active until\n    <span class=\"bb-text-bold\">{{ untilDate | date: 'mediumDate' }} {{ untilTime | date: 'shortTime' }}</span\n    >} validFromUntil {Active from\n    <span class=\"bb-text-bold\">{{ fromDate | date: 'mediumDate' }} {{ fromTime | date: 'shortTime' }}</span> until\n    <span class=\"bb-text-bold\">{{ untilDate | date: 'mediumDate' }} {{ untilTime | date: 'shortTime' }}</span\n    >} }\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { formatDate, formatTime } from '../model/helpers';\nimport { FunctionGroup, ValidityFormat } from '../model/types';\n\n@Component({\n  selector: 'bb-function-group-time-bounds',\n  templateUrl: './function-group-time-bounds.component.html',\n})\nexport class FunctionGroupTimeBoundsComponent {\n  private functionGroupValue: FunctionGroup | undefined;\n\n  fromDate: Date | undefined;\n  fromTime: Date | undefined;\n  untilDate: Date | undefined;\n  untilTime: Date | undefined;\n  validityFormat: ValidityFormat = '';\n\n  /**\n   * Function group\n   */\n  @Input() set functionGroup(value: FunctionGroup | undefined) {\n    if (value) {\n      this.functionGroupValue = value;\n      this.fromDate = formatDate(value.validFromDate);\n      this.fromTime = formatTime(this.fromDate, value.validFromTime);\n      this.untilDate = formatDate(value.validUntilDate);\n      this.untilTime = formatTime(this.untilDate, value.validUntilTime);\n      this.setValidityPeriod();\n    }\n  }\n\n  get functionGroup(): FunctionGroup | undefined {\n    return this.functionGroupValue;\n  }\n\n  private setValidityPeriod() {\n    this.validityFormat = '';\n    if (this.fromDate && !this.untilDate) {\n      this.validityFormat = 'validFromOnly';\n    }\n    if (!this.fromDate && this.untilDate) {\n      this.validityFormat = 'validUntilOnly';\n    }\n    if (this.fromDate && this.untilDate) {\n      this.validityFormat = 'validFromUntil';\n    }\n  }\n}\n","<bb-time-bounds [timeBounds]=\"functionGroup\"></bb-time-bounds>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-privilege-indicator',\n  templateUrl: './privilege-indicator.component.html',\n})\nexport class PrivilegeIndicatorComponent {\n  /**\n   * Flag to indicate if the privilege is applicable. Default is false\n   */\n  @Input() applicable: boolean | undefined = false;\n  /**\n   * Flag to indicate if the privilege is assigned. Default is false\n   */\n  @Input() assigned: boolean | undefined = false;\n  /**\n   * Icon class name for changed indicator. Default is empty string\n   */\n  @Input() iconClass = '';\n  /**\n   * Color of privilege indicator, different color when item is removed in approval log. Default is empty string\n   */\n  @Input() color = '';\n}\n","<ng-container *ngIf=\"applicable\">\n  <bb-icon-ui\n    *ngIf=\"assigned\"\n    [color]=\"color || 'success'\"\n    name=\"check\"\n    aria-label=\"Permitted\"\n    i18n-aria-label=\"Permitted aria label@@function-group-list.details.permission.aria.permitted\"\n    bbTooltip=\"Permitted\"\n    i18n-bbTooltip=\"Permitted tooltip@@function-group-list.details.permission.tooltip.permitted\"\n    triggers=\"hover\"\n    [class]=\"iconClass\"></bb-icon-ui>\n  <bb-icon-ui\n    *ngIf=\"!assigned\"\n    [color]=\"color || 'muted'\"\n    name=\"times\"\n    aria-label=\"Not permitted\"\n    i18n-aria-label=\"Not permitted aria label@@function-group-list.details.permission.aria.not-permitted\"\n    bbTooltip=\"Not permitted\"\n    i18n-bbTooltip=\"Not permitted tooltip@@function-group-list.details.permission.tooltip.not-permitted\"\n    triggers=\"hover\"\n    [class]=\"iconClass\"></bb-icon-ui>\n</ng-container>\n<ng-container *ngIf=\"!applicable\">\n  <bb-icon-ui\n    name=\"remove\"\n    [color]=\"color || 'muted'\"\n    aria-label=\"Not applicable for this business function\"\n    i18n-aria-label=\"Not applicable aria label@@function-group-list.details.permission.aria.not-applicable\"\n    bbTooltip=\"Not applicable for this function\"\n    i18n-bbTooltip=\"Not applicable tooltip@@function-group-list.details.permission.tooltip.not-applicable\"\n    triggers=\"hover\"></bb-icon-ui>\n</ng-container>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { LimitBound } from '@backbase/accessgroup-common-ang';\nimport { BusinessFunction } from '../model/types';\n\n@Component({\n  selector: 'bb-privilege-indicator-list',\n  templateUrl: './privilege-indicator-list.component.html',\n})\nexport class PrivilegeIndicatorListComponent {\n  /**\n   * Business Function to check privileges against\n   */\n  @Input() businessFunction: BusinessFunction | undefined;\n\n  /**\n   * Limit grouped by id and type of permission\n   */\n  @Input() limitData: any;\n\n  /**\n   * Permission base on cxp and user permission\n   */\n  @Input() userPermission: any;\n\n  /**\n   * Function group id\n   */\n  @Input() functionGroupId: string | undefined;\n\n  /**\n   * Business Function to check privileges against\n   */\n  @Output() emitLimitData = new EventEmitter();\n\n  /**\n   * Check whether limit is allowed for specific privilege\n   */\n  showLimit(privilege: string): boolean {\n    // @ts-ignore\n    const fgKey = this.functionGroupId + this.businessFunction?.functionId + privilege;\n    return (\n      this.limitData &&\n      (this.limitData[this.businessFunction?.functionId + privilege] || this.limitData[fgKey]) &&\n      this.businessFunction?.privileges[privilege].assigned &&\n      this.businessFunction?.privileges[privilege].applicable\n    );\n  }\n\n  /**\n   * Get limit context object\n   */\n  getLimitContext(privilege: string) {\n    return {\n      limit: this.functionGroupId\n        ? this.limitData[this.functionGroupId + this.businessFunction?.functionId + privilege]\n        : this.limitData[this.businessFunction?.functionId + privilege],\n      id: this.businessFunction?.functionId,\n      type: privilege,\n    };\n  }\n\n  /**\n   * Emit limit data\n   */\n  emitLimit(emitData: any) {\n    if (this.functionGroupId) {\n      this.emitLimitData.emit({\n        ...emitData,\n        functionGroupId: this.functionGroupId,\n      });\n    } else {\n      this.emitLimitData.emit(emitData);\n    }\n  }\n\n  /**\n   * Track when control has no amount and no limits button should be shown\n   */\n  isLimitBoundsEmpty(limitData: { limitBounds: LimitBound[] }): boolean {\n    const limitBounds = limitData.limitBounds;\n    return limitBounds?.every(bound => !bound.regular?.amount && !bound.shadow?.amount);\n  }\n}\n","<ng-container *ngIf=\"businessFunction\">\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-execute-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Execute privilege\"\n      i18n-aria-label=\"Execute privilege@@privilege-indicator-list.label.privilege.aria.execute\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-execute'\"\n      [applicable]=\"businessFunction.privileges.execute.applicable\"\n      [assigned]=\"businessFunction.privileges.execute.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('execute')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('execute')\">\n    </ng-container>\n  </span>\n\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-view-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"View privilege\"\n      i18n-aria-label=\"View privilege@@privilege-indicator-list.label.privilege.aria.view\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-view'\"\n      [applicable]=\"businessFunction.privileges.view.applicable\"\n      [assigned]=\"businessFunction.privileges.view.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('view')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('view')\">\n    </ng-container>\n  </span>\n\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-create-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Create privilege\"\n      i18n-aria-label=\"Create privilege@@privilege-indicator-list.label.privilege.aria.create\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-create'\"\n      [applicable]=\"businessFunction.privileges.create.applicable\"\n      [assigned]=\"businessFunction.privileges.create.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('create')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('create')\">\n    </ng-container>\n  </span>\n\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-edit-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Edit privilege\"\n      i18n-aria-label=\"Edit privilege@@privilege-indicator-list.label.privilege.aria.edit\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-edit'\"\n      [applicable]=\"businessFunction.privileges.edit.applicable\"\n      [assigned]=\"businessFunction.privileges.edit.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('edit')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('edit')\">\n    </ng-container>\n  </span>\n\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-delete-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Delete privilege\"\n      i18n-aria-label=\"Delete privilege@@privilege-indicator-list.label.privilege.aria.delete\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-delete'\"\n      [applicable]=\"businessFunction.privileges.delete.applicable\"\n      [assigned]=\"businessFunction.privileges.delete.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('delete')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('delete')\">\n    </ng-container>\n  </span>\n\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-cancel-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Cancel privilege\"\n      i18n-aria-label=\"Cancel privilege@@privilege-indicator-list.label.privilege.aria.cancel\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-cancel'\"\n      [applicable]=\"businessFunction.privileges.cancel.applicable\"\n      [assigned]=\"businessFunction.privileges.cancel.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('cancel')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('cancel')\">\n    </ng-container>\n  </span>\n  <span\n    class=\"col bb-privilege-indicator-list-item bb-text-align-center\"\n    data-role=\"privilege-indicator-list-approve-item\">\n    <span\n      class=\"sr-only\"\n      aria-label=\"Approve privilege\"\n      i18n-aria-label=\"Approve privilege@@privilege-indicator-list.label.privilege.aria.approve\">\n    </span>\n    <bb-privilege-indicator\n      [attr.data-role]=\"businessFunction.name + '-approve'\"\n      [applicable]=\"businessFunction.privileges.approve.applicable\"\n      [assigned]=\"businessFunction.privileges.approve.assigned\"></bb-privilege-indicator>\n    <ng-container\n      *ngIf=\"showLimit('approve')\"\n      [ngTemplateOutlet]=\"limitTemplate\"\n      [ngTemplateOutletContext]=\"getLimitContext('approve')\">\n    </ng-container>\n  </span>\n</ng-container>\n\n<ng-template #limitTemplate let-limit=\"limit\" let-type=\"type\" let-id=\"id\">\n  <button\n    data-role=\"privilege-indicator-list-limit-create\"\n    bbButton\n    aria-label=\"Create Limit\"\n    i18n-aria-label=\"Create limit button@@privilege-indicator-list.limit.aria.label.create-limit\"\n    class=\"align-top bb-job-role-limit-icon\"\n    color=\"link-text-light\"\n    bbTooltip=\"Click to set limit\"\n    container=\"body\"\n    i18n-bbTooltip=\"Set limit button tooltip@@privilege-indicator-list.limit.set-limit.tooltip\"\n    triggers=\"hover\"\n    (bbKeyboardClick)=\"emitLimit({ type: 'create', limit: limit, privilegesType: type, id: id })\"\n    *ngIf=\"!limit?.created && (userPermission.regularLimit.create || userPermission.shadowLimit.create)\">\n    <bb-icon-ui name=\"control-point\" size=\"sm\" color=\"primary\"></bb-icon-ui>\n  </button>\n\n  <button\n    data-role=\"privilege-indicator-list-limit-edit\"\n    class=\"align-top bb-job-role-limit-icon\"\n    aria-label=\"Edit Limit\"\n    i18n-aria-label=\"Edit limit button@@privilege-indicator-list.limit.aria.label.edit-limit\"\n    color=\"link-text-light\"\n    bbButton\n    container=\"body\"\n    bbTooltip=\"Click to edit limit\"\n    i18n-bbTooltip=\"Edit limit button tooltip@@privilege-indicator-list.limit.edit-limit.tooltip\"\n    triggers=\"hover\"\n    (bbKeyboardClick)=\"emitLimit({ type: 'edit', limit: limit, privilegesType: type, id: id })\"\n    *ngIf=\"\n      limit?.created &&\n      (userPermission.regularLimit.edit || userPermission.shadowLimit.edit) &&\n      !limit?.pending &&\n      !isLimitBoundsEmpty(limit)\n    \">\n    <bb-icon-ui name=\"create\" size=\"sm\" color=\"primary\"></bb-icon-ui>\n  </button>\n\n  <button\n    data-role=\"privilege-indicator-list-limit-create-empty\"\n    class=\"align-top bb-job-role-limit-icon\"\n    aria-label=\"Create Limit\"\n    i18n-aria-label=\"Create limit button@@privilege-indicator-list.limit.aria.label.create-empty-limit\"\n    color=\"link-text-light\"\n    bbButton\n    container=\"body\"\n    bbTooltip=\"Click to set limit\"\n    i18n-bbTooltip=\"Set limit button tooltip@@privilege-indicator-list.limit.create-empty-limit.tooltip\"\n    triggers=\"hover\"\n    (bbKeyboardClick)=\"emitLimit({ type: 'edit', limit: limit, privilegesType: type, id: id })\"\n    *ngIf=\"\n      limit?.created &&\n      (userPermission.regularLimit.edit || userPermission.shadowLimit.edit) &&\n      !limit?.pending &&\n      isLimitBoundsEmpty(limit)\n    \">\n    <bb-icon-ui name=\"control-point\" size=\"sm\" color=\"primary\"></bb-icon-ui>\n  </button>\n\n  <button\n    data-role=\"privilege-indicator-list-limit-pending\"\n    aria-label=\"Pending Limit\"\n    i18n-aria-label=\"Pending limit button@@privilege-indicator-list.limit.aria.label.pending-limit\"\n    class=\"align-top bb-job-role-limit-icon\"\n    color=\"link-text-light\"\n    bbButton\n    container=\"body\"\n    bbTooltip=\"Limit awaiting approval\"\n    i18n-bbTooltip=\"Pending view limit button tooltip@@privilege-indicator-list.limit.pending-limit.tooltip\"\n    triggers=\"hover\"\n    (bbKeyboardClick)=\"emitLimit({ type: 'view', limit: limit, privilegesType: type, id: id })\"\n    *ngIf=\"limit?.pending\">\n    <bb-icon-ui name=\"access-time\" size=\"sm\" color=\"primary\"></bb-icon-ui>\n  </button>\n\n  <button\n    data-role=\"privilege-indicator-list-limit-view\"\n    aria-label=\"View Limit\"\n    i18n-aria-label=\"View limit button@@privilege-indicator-list.limit.aria.label.view-limit\"\n    *ngIf=\"\n      limit?.created &&\n      !userPermission.regularLimit.edit &&\n      !userPermission.shadowLimit.edit &&\n      !limit?.pending &&\n      (userPermission.regularLimit.view || userPermission.shadowLimit.view)\n    \"\n    class=\"align-top bb-job-role-limit-icon\"\n    (bbKeyboardClick)=\"emitLimit({ type: 'view', limit: limit, privilegesType: type, id: id })\"\n    color=\"link-text-light\"\n    bbTooltip=\"Click to view limit\"\n    i18n-bbTooltip=\"View limit button tooltip@@privilege-indicator-list.limit.view-limit.tooltip\"\n    triggers=\"hover\"\n    container=\"body\"\n    bbButton>\n    <bb-icon-ui name=\"remove-red-eye\" size=\"sm\" color=\"primary\"></bb-icon-ui>\n  </button>\n</ng-template>\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  Directive,\n  EventEmitter,\n  Input,\n  Output,\n  TemplateRef,\n} from '@angular/core';\nimport { NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\n\n@Directive({ selector: 'ng-template[bbSelectItemsSearch]' })\nexport class SelectItemsSearchDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Directive({ selector: 'ng-template[bbSelectItemsItemHeader]' })\nexport class SelectItemsItemHeaderDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Directive({ selector: 'ng-template[bbSelectItemsItem]' })\nexport class SelectItemsItemDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Directive({ selector: 'ng-template[bbSelectItemsLoading]' })\nexport class SelectItemsLoadingDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Directive({ selector: 'ng-template[bbSelectItemsError]' })\nexport class SelectItemsErrorDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Directive({ selector: 'ng-template[bbSelectItemsEmpty]' })\nexport class SelectItemsEmptyDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Component({\n  selector: 'bb-select-items-modal',\n  templateUrl: './select-items-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SelectItemsModalComponent<T = any> implements AfterContentInit {\n  @ContentChild(SelectItemsSearchDirective) searchTemplate: SelectItemsSearchDirective | undefined;\n  @ContentChild(SelectItemsItemHeaderDirective) itemHeaderTemplate: SelectItemsItemHeaderDirective | undefined;\n  @ContentChild(SelectItemsItemDirective) itemTemplate: SelectItemsItemDirective | undefined;\n  @ContentChild(SelectItemsLoadingDirective) loadingTemplate: SelectItemsLoadingDirective | null = null;\n  @ContentChild(SelectItemsErrorDirective) errorTemplate: SelectItemsErrorDirective | null = null;\n  @ContentChild(SelectItemsEmptyDirective) emptyTemplate: SelectItemsEmptyDirective | null = null;\n\n  private readonly selectedItems = new Map<T[keyof T], T>();\n  private _allItems: T[] = [];\n  private _items: T[] = [];\n  private _isOpen = false;\n\n  searchValue = '';\n\n  @Input()\n  set isOpen(value) {\n    this._isOpen = value;\n\n    this.selectedItems.clear();\n    this.searchValue = '';\n    this.allSelected = false;\n    this.someSelected = false;\n  }\n\n  /**\n   * Modal heading\n   */\n  @Input() title = '';\n\n  /**\n   * List of items to select from\n   */\n  @Input() set items(items: T[]) {\n    this._items = items;\n    this.updateSelectFlags();\n  }\n\n  /**\n   * List of all available items (to manage toggleAll over not loaded items)\n   * @param items\n   */\n  @Input() set allItems(items: T[]) {\n    if (items) {\n      this._allItems = items;\n      this.toggleSelection(items, this.areAllItemsSelected(items));\n    }\n  }\n\n  /**\n   * Number of items\n   */\n  @Input() totalCount = 0;\n  /**\n   * Loading flag\n   */\n  @Input() loading = false;\n  /**\n   * Loading flag when loading more\n   */\n  @Input() loadingMore = false;\n  /**\n   * Error flag\n   */\n  @Input() error = false;\n  /**\n   * Should the search box be shown\n   */\n  @Input() searchEnabled = false;\n  /**\n   * Indicates button group separation for selection\n   */\n  @Input() selectGroupsEnabled = false;\n  /**\n   * Placeholder for search box\n   */\n  @Input() searchPlaceholder = '';\n  /**\n   * Label for the submit button\n   */\n  @Input() submitLabel = '';\n  /**\n   * Dialog options. Defaults to empty object.\n   */\n  @Input() modalOptions: NgbModalOptions = {};\n  /**\n   * Unique identifier for the items\n   */\n  @Input() itemIdProperty: keyof T = 'id' as keyof T;\n  /**\n   * Event emitter that emits on confirm\n   * The event contains a list of the items that were selected\n   */\n  @Output() confirm = new EventEmitter<T[]>();\n  /**\n   * Event emitter that emits a search string\n   */\n  @Output() search = new EventEmitter<string>();\n  /**\n   * Event emitter that emits when canceling the selection\n   */\n  @Output() cancel = new EventEmitter<void>();\n  /**\n   * Event emitter which emits on modal close\n   */\n  @Output() isOpenChange = new EventEmitter<boolean>();\n  /**\n   * Event emitter which emits when end of list is reached\n   */\n  @Output() loadMore = new EventEmitter<void>();\n  /**\n   * Event emitter which emits when all items should be loaded\n   */\n  @Output() loadAllItems = new EventEmitter<void>();\n\n  allSelected = false;\n  someSelected = false;\n\n  // eslint-disable-next-line @typescript-eslint/adjacent-overload-signatures\n  get isOpen(): boolean {\n    return this._isOpen;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/adjacent-overload-signatures\n  get items(): T[] {\n    return this._items;\n  }\n\n  get selectedItemsLength(): number {\n    return this.selectedItems.size;\n  }\n\n  /**\n   * Case when totalCount > 0 indicates that we have paginated API\n   *\n   * TODO: Replace with optional chaining(?.) once prettier will be updated to 2.1.*\n   */\n  get areAllScrollableItemsLoaded(): boolean {\n    return this.totalCount === 0 || (this._items && this._items.length === this.totalCount);\n  }\n\n  ngAfterContentInit() {\n    if (!this.itemHeaderTemplate || !this.itemTemplate) {\n      throw new Error('itemHeaderTemplate and itemTemplate are mandatory');\n    }\n  }\n\n  isItemSelected(item: T): boolean {\n    return this.selectedItems.has(item[this.itemIdProperty]);\n  }\n\n  toggleOpen(event: boolean) {\n    this.isOpenChange.emit(event);\n  }\n\n  onToggleAll(event: Event) {\n    event.preventDefault();\n\n    // this.loadAndToggleAll.observers.length === 0 will keep backwards compatibility\n    if (this.areAllScrollableItemsLoaded || this.loadAllItems.observers.length === 0) {\n      this.toggleSelection(this._items, this.allSelected);\n    } else {\n      this.checkForAllLoadedItems();\n    }\n  }\n\n  onToggleItem(event: Event, item: T) {\n    event.preventDefault();\n\n    this.toggleSelection([item], this.selectedItems.has(item[this.itemIdProperty]));\n  }\n\n  onLastFocused() {\n    if (!this.areAllScrollableItemsLoaded) {\n      this.onLoadMore();\n    }\n  }\n\n  onCancel() {\n    this.isOpenChange.emit(false);\n  }\n\n  onSubmit() {\n    this.confirm.emit(Array.from(this.selectedItems.values()));\n    this.isOpenChange.emit(false);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  onSearch(query: string | boolean | Object | null) {\n    if (typeof query === 'string') {\n      this.search.emit(query);\n      this._allItems = [];\n    }\n  }\n\n  onLoadMore() {\n    this.loadMore.emit();\n  }\n\n  trackByItemProp(_index: number, item: T): T[keyof T] {\n    return item[this.itemIdProperty];\n  }\n\n  private checkForAllLoadedItems() {\n    // checking if we already loaded all items\n    if (this._allItems.length === this.totalCount) {\n      this.toggleSelection(this._allItems, this.areAllItemsSelected(this._allItems));\n    } else {\n      this.loadAllItems.emit();\n    }\n  }\n\n  private toggleSelection(items: T[], allSelected: boolean) {\n    if (allSelected) {\n      items.forEach(item => this.selectedItems.delete(item[this.itemIdProperty]));\n    } else {\n      items.forEach(item => this.selectedItems.set(item[this.itemIdProperty], item));\n    }\n\n    this.updateSelectFlags();\n  }\n\n  // TODO: Replace with optional chaining(?.) once prettier will be updated to 2.1.*\n  private updateSelectFlags() {\n    this.allSelected = this.areAllItemsSelected(this._items);\n    this.someSelected =\n      !this.allSelected && this._items && this._items.some(item => this.selectedItems.has(item[this.itemIdProperty]));\n  }\n\n  // TODO: Replace with optional chaining(?.) once prettier will be updated to 2.1.*\n  private areAllItemsSelected(items: T[] | undefined): boolean {\n    return Boolean(items && items.every(item => this.selectedItems.has(item[this.itemIdProperty])));\n  }\n}\n","<bb-modal-ui\n  data-role=\"select-items-modal\"\n  *ngIf=\"isOpen\"\n  [isOpen]=\"true\"\n  [modalOptions]=\"modalOptions\"\n  (isOpenChange)=\"toggleOpen($event)\">\n  <bb-modal-header-ui data-role=\"select-items-modal__header-label\" [title]=\"title\"></bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <div class=\"bb-select-items bb-outline-spacer bb-outline-spacer--all\">\n        <ng-container *ngIf=\"searchEnabled\">\n          <ng-container *ngTemplateOutlet=\"searchTpl\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"!error; else errorTpl\">\n          <ng-container *ngIf=\"!loading; else loadingTpl\">\n            <ng-container *ngIf=\"items?.length! > 0; else emptyTpl\">\n              <bb-infinite-scroll-ui\n                class=\"bb-infinite-scroll bb-outline-spacer bb-outline-spacer--left\"\n                data-role=\"select-items-modal__infinite-scroll\"\n                [offset]=\"5\"\n                [disableScrollEnd]=\"areAllScrollableItemsLoaded\"\n                (scrollEnd)=\"onLoadMore()\">\n                <div class=\"bb-list bb-list--density-sm\">\n                  <div\n                    class=\"\n                      sticky-top\n                      position-sticky\n                      bb-select-items__sticky-header-top\n                      bb-outline-spacer bb-outline-spacer--left\n                    \">\n                    <div class=\"bb-list__item\">\n                      <ng-container *ngIf=\"itemHeaderTemplate\">\n                        <div\n                          class=\"bb-stack bb-stack--density-sm bb_block bb-block--sm\"\n                          data-role=\"select-items-modal__items-header\">\n                          <div\n                            class=\"bb-stack__item\"\n                            data-role=\"select-items-modal__toggle-all\"\n                            (click)=\"onToggleAll($event)\"\n                            (keyup.space)=\"onToggleAll($event)\">\n                            <bb-input-checkbox-ui\n                              label=\"&nbsp;\"\n                              aria-label=\"Checkbox value to toggle all items\"\n                              i18n-aria-label=\"\n                                Checkbox value to toggle all items@@select-items-modal.label.aria.checkbox-for-all\"\n                              [ngModel]=\"allSelected\"\n                              [indeterminate]=\"someSelected\"></bb-input-checkbox-ui>\n                          </div>\n                          <div\n                            class=\"bb-stack__item bb-stack__item--fill\"\n                            data-role=\"select-items-modal__items-header-template\">\n                            <ng-container *ngTemplateOutlet=\"itemHeaderTemplate!.templateRef\"> </ng-container>\n                          </div>\n                        </div>\n                      </ng-container>\n                    </div>\n                    <!-- this div needed for border in bb-list__item above -->\n                    <div></div>\n                  </div>\n                  <div *ngIf=\"itemTemplate\" data-role=\"select-items-modal__list\" role=\"list\">\n                    <div\n                      *ngFor=\"let item of items; let last = last; trackBy: trackByItemProp\"\n                      class=\"bb-list__item\"\n                      (click)=\"onToggleItem($event, item)\"\n                      (keyup.space)=\"onToggleItem($event, item)\"\n                      data-role=\"select-items-modal__list-item\"\n                      role=\"listitem\">\n                      <div class=\"bb-stack bb-stack--density-sm\" role=\"button\">\n                        <bb-input-checkbox-ui\n                          label=\"&nbsp;\"\n                          aria-label=\"Checkbox value for the next item\"\n                          i18n-aria-label=\"\n                            Checkbox value for the next item@@select-items-modal.label.aria.checkbox-for-item\"\n                          [ngModel]=\"isItemSelected(item)\"\n                          (focus)=\"last && onLastFocused()\"\n                          class=\"bb-stack__item\"></bb-input-checkbox-ui>\n                        <div\n                          class=\"bb-stack__item bb-stack__item--fill\"\n                          data-role=\"select-items-modal__list-item-template\">\n                          <ng-container\n                            *ngTemplateOutlet=\"\n                              itemTemplate!.templateRef;\n                              context: {\n                                item: item,\n                                isSelected: isItemSelected(item),\n                                toggleItem: onToggleItem.bind(this)\n                              }\n                            \">\n                          </ng-container>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  *ngIf=\"!areAllScrollableItemsLoaded\"\n                  [class.invisible]=\"!loadingMore\"\n                  class=\"bb-block bb-block--sm\"\n                  data-role=\"select-items-modal__list-load-more-spinner\">\n                  <bb-loading-indicator-ui loaderSize=\"sm\"></bb-loading-indicator-ui>\n                </div>\n              </bb-infinite-scroll-ui>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n      </div>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          class=\"bb-button-bar__button\"\n          data-role=\"select-items-modal__add-btn\"\n          bbButton\n          (click)=\"onSubmit()\"\n          [disabled]=\"selectedItemsLength === 0\">\n          <ng-container *ngIf=\"!submitLabel; else submitLabelRef\" i18n=\"Submit@@select-items-modal.label.button.submit\"\n            >Submit</ng-container\n          >\n          <span data-role=\"select-items-modal__number-of-selected-items\" *ngIf=\"selectedItemsLength\"\n            >&nbsp;({{ selectedItemsLength }})</span\n          >\n          <ng-template #submitLabelRef>{{ submitLabel }}</ng-template>\n        </button>\n        <button\n          class=\"bb-button-bar__button\"\n          bbButton\n          (click)=\"onCancel()\"\n          color=\"secondary\"\n          i18n=\"Cancel@@select-items-modal.label.button.cancel\"\n          data-role=\"select-items-modal__cancel-btn\">\n          Cancel\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n\n<ng-template #errorTpl>\n  <ng-container *ngIf=\"errorTemplate; else defaultErrorTemplate\">\n    <ng-container *ngTemplateOutlet=\"errorTemplate!.templateRef\"> </ng-container>\n  </ng-container>\n\n  <ng-template #defaultErrorTemplate>\n    <div class=\"bb-state-container bb-select-items__state\" data-role=\"select-items-modal__error-state\">\n      <bb-empty-state-ui\n        iconModifier=\"error\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"\n        title=\"Unknown error\"\n        i18n-title=\"Unknown error@@select-items-modal.label.fallback.error.title\"\n        subtitle=\"Please try again later\"\n        i18n-subtitle=\"Please try again later@@select-items-modal.label.fallback.error.message\"></bb-empty-state-ui>\n    </div>\n  </ng-template>\n</ng-template>\n\n<ng-template #searchTpl>\n  <ng-container *ngIf=\"searchTemplate; else defaultSearchTemplate\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        searchTemplate!.templateRef;\n        context: {\n          searchPlaceholder: searchPlaceholder,\n          searchValue: searchValue,\n          onSearch: onSearch.bind(this)\n        }\n      \">\n    </ng-container>\n  </ng-container>\n\n  <ng-template #defaultSearchTemplate>\n    <div class=\"bb-block bb-block--sm\">\n      <bb-search-box-ui\n        data-role=\"select-items-modal__search\"\n        class=\"bb-select-items__search-box\"\n        [aria-label]=\"searchPlaceholder\"\n        [showClear]=\"true\"\n        [showSearch]=\"true\"\n        [(ngModel)]=\"searchValue\"\n        [placeholder]=\"searchPlaceholder\"\n        (submit)=\"onSearch($event)\"\n        (clear)=\"onSearch('')\"></bb-search-box-ui>\n    </div>\n  </ng-template>\n</ng-template>\n\n<ng-template #loadingTpl>\n  <ng-container *ngIf=\"loadingTemplate; else defaultLoadingTemplate\">\n    <ng-container *ngTemplateOutlet=\"loadingTemplate!.templateRef\"> </ng-container>\n  </ng-container>\n\n  <ng-template #defaultLoadingTemplate>\n    <div class=\"bb-state-container bb-select-items__state\" data-role=\"select-items-modal__loading-state\">\n      <bb-loading-indicator-ui></bb-loading-indicator-ui>\n    </div>\n  </ng-template>\n</ng-template>\n\n<ng-template #emptyTpl>\n  <ng-container *ngIf=\"emptyTemplate; else defaultEmptyTemplate\">\n    <ng-container *ngTemplateOutlet=\"emptyTemplate!.templateRef\"> </ng-container>\n  </ng-container>\n\n  <ng-template #defaultEmptyTemplate>\n    <div class=\"bb-state-container bb-select-items__state\" data-role=\"select-items-modal__empty-state\">\n      <bb-empty-state-ui\n        data-role=\"empty-state\"\n        title=\"No items\"\n        i18n-title=\"No items@@select-items-modal.label.fallback.empty.title\"></bb-empty-state-ui>\n    </div>\n  </ng-template>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { InfiniteScrollModule } from '@backbase/ui-ang/infinite-scroll';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { SearchBoxModule } from '@backbase/ui-ang/search-box';\nimport {\n  SelectItemsEmptyDirective,\n  SelectItemsErrorDirective,\n  SelectItemsItemDirective,\n  SelectItemsItemHeaderDirective,\n  SelectItemsLoadingDirective,\n  SelectItemsModalComponent,\n  SelectItemsSearchDirective,\n} from './select-items-modal.component';\n\nconst uiModules = [\n  ModalModule,\n  SearchBoxModule,\n  ButtonModule,\n  InputCheckboxModule,\n  InfiniteScrollModule,\n  LoadingIndicatorModule,\n  EmptyStateModule,\n];\n\nconst uiComponents = [\n  SelectItemsModalComponent,\n  SelectItemsItemHeaderDirective,\n  SelectItemsItemDirective,\n  SelectItemsLoadingDirective,\n  SelectItemsSearchDirective,\n  SelectItemsErrorDirective,\n  SelectItemsEmptyDirective,\n];\n\n@NgModule({\n  declarations: [...uiComponents],\n  imports: [CommonModule, FormsModule, ...uiModules],\n  exports: [...uiModules, ...uiComponents],\n})\nexport class SelectItemsModalModule {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-user-context-icon-ui',\n  templateUrl: './user-context-icon.component.html',\n})\nexport class UserContextIconComponent {\n  @Input() isMaster: boolean | undefined;\n  @Input() name: string | undefined;\n\n  get formattedName(): string {\n    if (this.name) {\n      const short = this.name\n        .split(/\\s/)\n        .reduce((r: string, w: string) => (r += w.slice(0, 1)), '')\n        .substring(0, 2);\n      return short.toLocaleUpperCase();\n    }\n    return '';\n  }\n}\n","<div class=\"bb-user-context-icon-ui user-context__icon\">\n  <div *ngIf=\"!isMaster\" class=\"bb-user-context-icon-text\">\n    {{ formattedName }}\n  </div>\n  <bb-icon-ui *ngIf=\"isMaster\" name=\"home\" color=\"white\" size=\"lg\"></bb-icon-ui>\n</div>\n","import { Component, Directive, ChangeDetectionStrategy, Input, Output, EventEmitter } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { GetUser as User } from '@backbase/data-ang/user';\nimport { FormControl } from '@angular/forms';\nimport { CurrencyRegistryResponse } from '@backbase/data-ang/limits';\nimport { BusinessFunction, SelfApprovalPolicies } from '../model/types';\n\n@Component({\n  selector: 'bb-self-approve-modal',\n  templateUrl: './self-approve-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SelfApproveModalComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: SelfApproveModalComponent = this;\n\n  /**\n   * Flag to show modal\n   */\n  @Input() isOpen = false;\n\n  /**\n   * User info\n   */\n  @Input() user: User | undefined;\n\n  /**\n   * Currency info\n   */\n  @Input() set currencyList(val: CurrencyRegistryResponse) {\n    if (val) {\n      if (!this.currency) {\n        this.currency = val.defaultCurrency;\n      }\n      this.supportedCurrencies = val.allowedCurrencyList;\n    }\n  }\n\n  /**\n   * Business function\n   */\n  @Input() bf: BusinessFunction | undefined;\n\n  /**\n   * Job Role name\n   */\n  @Input() jobRoleName: string | undefined;\n\n  /**\n   *  Type of action\n   */\n  @Input() type: string | undefined;\n\n  /**\n   * Flag if support limits\n   */\n  @Input() isLimitSupport: boolean | undefined;\n\n  /**\n   * SelfApproval item setter\n   */\n  @Input() set selfApproveItemData(val: SelfApprovalPolicies | undefined) {\n    if (val) {\n      this._selfApproveItemData = val;\n      if (this._selfApproveItemData.bounds && this._selfApproveItemData.bounds.length) {\n        this.isCurrencySet = true;\n        // For MVP scope, in future change\n        this.currency = this._selfApproveItemData.bounds[0].currencyCode;\n        this.currencyHistory = this._selfApproveItemData.bounds[0].currencyCode;\n        this.amountHistory = this._selfApproveItemData.bounds[0].amount;\n        this.amount.patchValue({\n          amount: this._selfApproveItemData.bounds[0].amount,\n          currency: this._selfApproveItemData.bounds[0].currencyCode,\n        });\n      }\n    }\n  }\n\n  currencyHistory: string | undefined = '';\n  amountHistory: string | undefined = '';\n\n  /**\n   * Event emitter that emits on cancel button click\n   */\n  @Output() cancel = new EventEmitter<void>();\n\n  /**\n   * Event emitter that emits data on any action\n   */\n  @Output() selfApprovalDataEmit = new EventEmitter();\n\n  /**\n   * SelfApproval item\n   */\n  _selfApproveItemData: SelfApprovalPolicies | undefined;\n\n  /**\n   * Amount form\n   */\n  public amount = new FormControl({ currency: 'undefined' });\n\n  /**\n   * Supported currency list\n   */\n  supportedCurrencies: string[] | undefined = [];\n\n  /**\n   * Currency\n   */\n  currency: string | undefined = '';\n\n  /**\n   * Flag if max amount need to be set\n   */\n  isCurrencySet = false;\n\n  /**\n   * Emit cancel event\n   */\n  onCancel() {\n    this.cancel.emit();\n  }\n\n  /**\n   * Emit data on save && enable action\n   */\n  onSave() {\n    let dataForSelfApprove: SelfApprovalPolicies = { businessFunctionName: '', canSelfApprove: false };\n    if (this.bf) {\n      dataForSelfApprove = { businessFunctionName: this.bf.name, canSelfApprove: true };\n    }\n    if (this.isCurrencySet && this.amount.value && this.amount.value.amount) {\n      dataForSelfApprove.bounds = [];\n      dataForSelfApprove.bounds.push({\n        currencyCode: this.currency,\n        amount: this.amount.value.amount,\n      });\n    }\n    this.selfApprovalDataEmit.emit(dataForSelfApprove);\n  }\n\n  /**\n   * Emit data on disable action\n   */\n  onDisabled() {\n    let dataForSelfApprove = {};\n    if (this.bf) {\n      dataForSelfApprove = { businessFunctionName: this.bf.name, canSelfApprove: false };\n    }\n    this.selfApprovalDataEmit.emit(dataForSelfApprove);\n  }\n\n  setForm(state: boolean) {\n    this.isCurrencySet = state;\n    this.amount.patchValue({ currency: 'undefined' });\n    this.amount.markAsTouched();\n  }\n}\n\n@Directive({\n  selector: '[bbSelfApproveModalCustomizable]',\n})\nexport class SelfApproveModalCustomizableDirective extends BbTemplate<SelfApproveModalComponent, void> {}\n","<ng-container bbSelfApproveModalCustomizable [bbHostRef]=\"hostRef\"> </ng-container>\n\n<ng-template bbSelfApproveModalCustomizable let-hostRef>\n  <bb-modal-ui [isOpen]=\"hostRef.isOpen\" (cancel)=\"hostRef.onCancel()\" data-role=\"self-approval-for-user-modal\">\n    <bb-modal-header-ui\n      *ngIf=\"hostRef.type === 'enable'\"\n      i18n-title=\"Enable self approval header text@@self-approval-modal.enable.header.text\"\n      title=\"Enable self-approval for user?\"\n      data-role=\"account-modal-enable-header\"></bb-modal-header-ui>\n    <bb-modal-header-ui\n      *ngIf=\"hostRef.type === 'edit' && hostRef.isLimitSupport\"\n      i18n-title=\"Edit self approval header text@@self-approval-modal.edit.header.text\"\n      title=\"Edit self-approval for user?\"\n      data-role=\"account-modal-edit-header\"></bb-modal-header-ui>\n    <bb-modal-header-ui\n      *ngIf=\"hostRef.type === 'edit' && !hostRef.isLimitSupport\"\n      i18n-title=\"Disable self approval header text@@self-approval-modal.disable.header.text\"\n      title=\"Disable self-approval for user?\"\n      data-role=\"account-modal-disable-header\"></bb-modal-header-ui>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <div *ngIf=\"hostRef.user\" class=\"bb-block bb-block--md\" data-role=\"approval-modal-body\">\n          <div class=\"bb-card bb-card--highlight bb-card--sm\">\n            <div class=\"bb-card__body\">\n              <div class=\"bb-stack bb-stack--density-lg\">\n                <bb-avatar-ui\n                  [name]=\"hostRef.user?.fullName\"\n                  data-role=\"self-approval-avatar\"\n                  size=\"lg\"\n                  class=\"bb-stack__item bb-stack__item--spacing-md\"></bb-avatar-ui>\n                <div class=\"bb-stack__item\">\n                  <h5 class=\"bb-block bb-header bb-text-bold bb-block--xs\" data-role=\"self-approval-header\">\n                    {{ hostRef.user?.fullName }}\n                  </h5>\n                  <div class=\"bb-block bb-header bb-block--xs\">\n                    <span\n                      class=\"bb-subtitle bb-text-support bb-text-bold\"\n                      i18n=\"User external ID label@@self-approval-modal.external.id.label\">\n                      ID:\n                    </span>\n                    <span class=\"bb-subtitle bb-text-support break-word\" data-role=\"self-approval-external-id\">{{\n                      hostRef.user?.externalId\n                    }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"bb-block bb-block--md\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div>\n                <strong i18n=\"Job Role section text@@self-approval-modal.job-role.section.text\"> Job role </strong>\n              </div>\n              <div class=\"bb-inline-stack\">\n                <bb-icon-ui class=\"bb-inline-stack__item bb-text-bold\" name=\"users\" size=\"md\"></bb-icon-ui>\n                <span class=\"bb-inline-stack__item\" data-role=\"self-approval-job-role-name\">\n                  {{ hostRef.jobRoleName }}\n                </span>\n              </div>\n            </div>\n            <div class=\"col-6\">\n              <div>\n                <strong i18n=\"Business Function section text@@self-approval-modal.bf.section.text\">\n                  Business Function\n                </strong>\n              </div>\n              <div>\n                <bb-business-function-name [businessFunction]=\"hostRef.bf\"></bb-business-function-name>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"bb-block bb-block--md\"\n          *ngIf=\"hostRef.isLimitSupport && hostRef.supportedCurrencies.length\"\n          data-role=\"limit-support-block\">\n          <div class=\"bb-block bb-block--md\">\n            <div class=\"bb-inline-stack\">\n              <strong\n                class=\"bb-inline-stack__item\"\n                i18n=\"Info label for max amount for self approve@@self-approval-modal.max-amount.section.text\">\n                Max amount for self-approve\n              </strong>\n            </div>\n          </div>\n          <div\n            class=\"bb-block bb-block--md\"\n            *ngIf=\"!hostRef.selfApproveItemData && !hostRef.isCurrencySet\"\n            data-role=\"no-currency-set-item-data-block\">\n            <button\n              bbButton\n              color=\"link-text\"\n              buttonSize=\"sm\"\n              data-role=\"currency-set-button\"\n              (click)=\"hostRef.setForm(true)\">\n              <bb-icon-ui name=\"add-outline\" [size]=\"'sm'\" cropped></bb-icon-ui>\n              <span i18n=\"Set max amount button text@@self-approval-modal.max-amount.button.text\">Set max amount</span>\n            </button>\n          </div>\n          <div class=\"bb-stack\" *ngIf=\"hostRef.isCurrencySet\" data-role=\"is-currency-set-block\">\n            <div class=\"bb-stack__item bb-stack__item--fill\">\n              <div class=\"row\">\n                <div class=\"col-3\" *ngIf=\"hostRef.supportedCurrencies.length\" data-role=\"supported-currencies-block\">\n                  <bb-dropdown-single-select-ui\n                    label=\"Currency\"\n                    i18n-label=\"\n                      Label text for currency amount for self approve@@self-approval-modal.currency.amount.integerLabel\"\n                    [options]=\"hostRef.supportedCurrencies\"\n                    [required]=\"true\"\n                    [(ngModel)]=\"hostRef.currency\"\n                    class=\"d-block bb-block bb-block--lg\">\n                  </bb-dropdown-single-select-ui>\n                </div>\n\n                <div class=\"col\">\n                  <bb-currency-input-ui\n                    i18n-integerLabel=\"\n                      Label text for to amount for self approve@@self-approval-modal.to.amount.integerLabel\"\n                    integerLabel=\"To(including)\"\n                    [integer]=\"true\"\n                    resultType=\"number\"\n                    [formControl]=\"hostRef.amount\"\n                    placeholder=\"\"></bb-currency-input-ui>\n                </div>\n              </div>\n            </div>\n            <div class=\"bb-stack__item bb-stack__item--push-right align-self-center\">\n              <button\n                bbButton\n                color=\"link-text\"\n                [circle]=\"true\"\n                buttonSize=\"md\"\n                (click)=\"hostRef.setForm(false)\"\n                data-role=\"close-currency-block-button\">\n                <bb-icon-ui name=\"delete\"></bb-icon-ui>\n              </button>\n            </div>\n          </div>\n        </div>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui>\n      <ng-template bbCustomModalFooter>\n        <div class=\"bb-button-bar\">\n          <ng-container *ngIf=\"hostRef.type === 'edit' && hostRef.isLimitSupport; else disabledButton\"></ng-container>\n          <button\n            *ngIf=\"hostRef.type === 'edit' && hostRef.isLimitSupport\"\n            bbButton\n            color=\"primary\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onSave()\"\n            data-role=\"edit-type-save-btn\"\n            [disabled]=\"\n              (hostRef.currencyHistory === hostRef.currency && hostRef.amountHistory === hostRef.amount.value.amount) ||\n              (!hostRef.amount.value.amount && hostRef.isCurrencySet) ||\n              (!hostRef.isCurrencySet && !hostRef.currencyHistory && !hostRef.amountHistory)\n            \"\n            i18n=\"Save button text for self approve@self-approval-modal.save-btn.text\">\n            Save\n          </button>\n          <button\n            *ngIf=\"hostRef.type === 'enable'\"\n            bbButton\n            color=\"primary\"\n            class=\"bb-button-bar__button\"\n            data-role=\"enable-type-save-btn\"\n            (click)=\"hostRef.onSave()\"\n            i18n=\"Enable button text for self approve@self-approval-modal.enable-btn.text\">\n            Enable\n          </button>\n          <button\n            bbButton\n            color=\"secondary\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onCancel()\"\n            data-role=\"cancel-btn\"\n            i18n=\"Cancel button text for self approve@self-approval-modal.cancel-btn.text\">\n            Cancel\n          </button>\n\n          <ng-container *ngIf=\"hostRef.type === 'edit' && !hostRef.isLimitSupport; else disabledButton\"></ng-container>\n\n          <ng-template #disabledButton>\n            <button\n              *ngIf=\"hostRef.type === 'edit'\"\n              bbButton\n              color=\"danger\"\n              class=\"bb-button-bar__button bb-button-bar__button--across\"\n              (click)=\"hostRef.onDisabled()\"\n              data-role=\"edit-type-disable-btn\"\n              i18n=\"Disable button text for self approve@self-approval-modal.disable-btn.text\">\n              Disable\n            </button>\n          </ng-template>\n        </div>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n</ng-template>\n","import { Component, Directive, Input } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\n@Component({\n  selector: 'bb-payee-item-detail',\n  templateUrl: './payee-item-detail.component.html',\n})\nexport class PayeeItemDetailComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: PayeeItemDetailComponent = this;\n\n  @Input() payeeDetail: any;\n\n  /**\n   * Padding on top\n   */\n  @Input() isPaddingTop = true;\n\n  getAddress(detail: any): string | undefined {\n    const keys = ['addressLine1', 'addressLine2', 'streetName', 'postCode', 'town', 'countrySubDivision', 'country'];\n    return this.getAddressString(keys, detail);\n  }\n\n  getBankAddress(account: any): string | undefined {\n    const keys = [\n      'bankAddressLine1',\n      'bankAddressLine2',\n      'bankStreetName',\n      'bankPostCode',\n      'bankTown',\n      'bankCountrySubDivision',\n      'bankCountry',\n    ];\n    return this.getAddressString(keys, account);\n  }\n\n  getHoldersAddress(account: any): string | undefined {\n    const keys = [\n      'accountHolderAddressLine1',\n      'accountHolderAddressLine2',\n      'accountHolderStreetName',\n      'accountHolderPostCode',\n      'accountHolderTown',\n      'accountHolderCountrySubDivision',\n      'accountHolderCountry',\n    ];\n    return this.getAddressString(keys, account);\n  }\n\n  getAddressString(keys: any[], detail: any): string | undefined {\n    const addressData: any[] = [];\n    keys.forEach((key: string) => {\n      if (detail[key]) {\n        addressData.push(detail[key]);\n      }\n    });\n    return addressData.length ? addressData.join(', ') : undefined;\n  }\n}\n\n@Directive({\n  selector: '[bbPayeeItemDetailCustomizable]',\n})\nexport class PayeeItemDetailCustomizableDirective extends BbTemplate<PayeeItemDetailComponent, void> {}\n","<ng-container bbPayeeItemDetailCustomizable [bbHostRef]=\"hostRef\"> </ng-container>\n\n<ng-template bbPayeeItemDetailCustomizable let-hostRef>\n  <div [ngClass]=\"{ isPaddingTop: 'pt-4' }\">\n    <bb-header-ui\n      headingType=\"h2\"\n      tabindex=\"0\"\n      [heading]=\"hostRef.payeeDetail.name\"\n      data-role=\"payee-item-detail-header-label\"></bb-header-ui>\n    <div tabindex=\"0\" class=\"bb-text-support bb-block bb-block--lg\">\n      <div data-role=\"payee-item-detail-header-definition\">\n        {{ hostRef.payeeDetail.alias }}\n      </div>\n    </div>\n    <hr class=\"bb-block\" />\n    <div class=\"row\">\n      <div tabindex=\"0\" class=\"col-6\" *ngIf=\"hostRef.payeeDetail.phoneNumber\">\n        <p class=\"bb-block bb-block--no-margin\">\n          <b i18n=\"Contact phone number@@payee-item-detail.contact.phone\"> Phone number </b>\n        </p>\n        <p data-role=\"payee-item-detail-phone-number\">\n          {{ hostRef.payeeDetail.phoneNumber }}\n        </p>\n      </div>\n      <div tabindex=\"0\" class=\"col-6\" *ngIf=\"hostRef.payeeDetail.emailId\">\n        <p class=\"bb-block bb-block--no-margin\">\n          <b i18n=\"Contact email@@payee-item-detail.contact.email\"> Email address </b>\n        </p>\n        <p data-role=\"payee-item-detail-email\">\n          {{ hostRef.payeeDetail.emailId }}\n        </p>\n      </div>\n      <div tabindex=\"0\" class=\"col-12\" *ngIf=\"hostRef.payeeDetail.contactPerson\">\n        <p class=\"bb-block bb-block--no-margin\">\n          <b i18n=\"Contact person for contact@@payee-item-detail.contact.contactPerson\"> Contact person </b>\n        </p>\n        <p data-role=\"payee-item-detail-contact-person\">\n          {{ hostRef.payeeDetail.contactPerson }}\n        </p>\n      </div>\n      <div tabindex=\"0\" class=\"col-12\" *ngIf=\"hostRef.getAddress(hostRef.payeeDetail)\">\n        <p class=\"bb-block bb-block--no-margin\">\n          <b i18n=\"Contact address@@payee-item-detail.contact.address\"> Contact address </b>\n        </p>\n        <p data-role=\"payee-item-detail-contact-address\">\n          {{ hostRef.getAddress(hostRef.payeeDetail) }}\n        </p>\n      </div>\n      <div\n        class=\"col-12\"\n        tabindex=\"0\"\n        role=\"list\"\n        *ngIf=\"hostRef.payeeDetail.accounts && hostRef.payeeDetail.accounts.length\">\n        <div class=\"bb-stack\">\n          <div class=\"bb-stack__item\">\n            <bb-header-ui\n              headingType=\"h3\"\n              heading=\"Account information\"\n              i18n-heading=\"Account information header text@@payee-item-detail.account.information.text\"></bb-header-ui>\n          </div>\n          <div class=\"bb-stack__item bb-stack__item--push-right\">\n            <p [ngPlural]=\"hostRef.payeeDetail.accounts.length\" data-role=\"payee-item-detail-account-info\">\n              {{ hostRef.payeeDetail.accounts.length }}\n              <ng-template ngPluralCase=\"=1\" i18n=\"Account@@payee-item-detail.contact.account.info.text\"\n                >account</ng-template\n              >\n              <ng-template ngPluralCase=\"other\" i18n=\"Accounts@@payee-item-detail.contact.accounts.info.text\"\n                >accounts</ng-template\n              >\n            </p>\n          </div>\n        </div>\n        <div\n          data-role=\"payee-account-block\"\n          tabindex=\"0\"\n          role=\"listitem\"\n          *ngFor=\"let account of hostRef.payeeDetail.accounts\"\n          class=\"bb-block bb-block--lg card card-sm bg-gray-lighter rounded\">\n          <div class=\"card-body\">\n            <div class=\"bb-stack\">\n              <div class=\"bb-stack__item bb-stack__item--align-top\">\n                <bb-icon-ui\n                  class=\"bb-text-support\"\n                  name=\"account\"\n                  size=\"md\"\n                  color=\"support\"\n                  cropped=\"true\"></bb-icon-ui>\n              </div>\n              <div class=\"bb-stack__item\">\n                <div class=\"bb-block bb-block--md\">\n                  <p class=\"bb-block bb-block--no-margin\">\n                    <b data-role=\"payee-item-detail-account-name\">\n                      {{ account.name }}\n                    </b>\n                  </p>\n                  <p data-role=\"payee-item-detail-account-alias\">\n                    {{ account.alias }}\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"account.IBAN\"\n                    data-role=\"payee-item-detail-account-iban\">\n                    <b i18n=\"Account IBAN@@payee-item-detail.contact.account.iban.label\">IBAN: </b>\n                    {{ account.IBAN }}\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"account.accountNumber\"\n                    data-role=\"payee-item-detail-account-accountNumber\">\n                    <b i18n=\"Account accountNumber@@payee-item-detail.contact.account.accountNumber.label\">Account Number: </b>\n                    {{ account.accountNumber }}\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"account.bankName\"\n                    data-role=\"payee-item-detail-account-bank-name\">\n                    <b i18n=\"Account Bank@@payee-item-detail.contact.account.bank.label\">Bank: </b>\n                    {{ account.bankName }}\n                  </p>\n                  <p class=\"bb-block bb-block--no-margin\" *ngIf=\"account.BIC\" data-role=\"payee-item-detail-account-bic\">\n                    <b i18n=\"Account BIC@@payee-item-detail.contact.account.bic.label\">BIC: </b>\n                    {{ account.BIC }}\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"account.bankCode\"\n                    data-role=\"payee-item-detail-account-bank-code\">\n                    <b i18n=\"Account Bank code@@payee-item-detail.contact.account.bankCode.label\">Bank code: </b>\n                    {{ account.bankCode }}\n                  </p>\n                </div>\n\n                <div class=\"bb-block\">\n                  <p class=\"bb-block bb-block--no-margin\" *ngIf=\"hostRef.getBankAddress(account)\">\n                    <b i18n=\"Account Bank Address@@payee-item-detail.contact.account.bank.address.label\"\n                      >Bank branch address:</b\n                    >\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"hostRef.getBankAddress(account)\"\n                    data-role=\"payee-item-detail-account-bank-address\">\n                    {{ hostRef.getBankAddress(account) }}\n                  </p>\n\n                  <p class=\"bb-block bb-block--no-margin\" *ngIf=\"hostRef.getHoldersAddress(account)\">\n                    <b i18n=\"Account holders address@@payee-item-detail.contact.account.holders.address.label\"\n                      >Account holder`s address:</b\n                    >\n                  </p>\n                  <p\n                    class=\"bb-block bb-block--no-margin\"\n                    *ngIf=\"hostRef.getHoldersAddress(account)\"\n                    data-role=\"payee-item-detail-account-holders-address\">\n                    {{ hostRef.getHoldersAddress(account) }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Payee } from '@backbase/accessgroup-common-ang';\n\n@Component({\n  selector: 'bb-payee-group-table-row',\n  templateUrl: './payee-group-table-row.component.html',\n})\nexport class PayeeGroupTableRowComponent {\n  /**\n   * Payee\n   */\n  @Input() payee!: Payee;\n\n  /**\n   * Checkbox enabled flag\n   */\n  @Input() checkboxEnabled = false;\n\n  /**\n   * Checkbox form control\n   */\n  @Input() checkboxFormControl: FormControl = new FormControl();\n\n  /**\n   * Row view modifier\n   */\n  @Input() modifier: 'highlight' | 'line-thru' | 'none' = 'none';\n\n  /**\n   * Checkbox change event emitter\n   */\n  @Output() checkboxChange: EventEmitter<any> = new EventEmitter<any>();\n}\n","<bb-collapsible-ui #collapsible>\n  <ng-template bbCollapsibleHeader let-toggle=\"toggle\" let-isOpen=\"isOpen\">\n    <div\n      class=\"row no-gutters\"\n      role=\"button\"\n      (click)=\"toggle()\"\n      (keydown.enter)=\"toggle()\"\n      tabindex=\"0\"\n      [attr.aria-expanded]=\"isOpen\">\n      <div class=\"col-auto\" *ngIf=\"checkboxEnabled\">\n        <bb-input-checkbox-ui\n          data-role=\"payee-group-table-item-checkbox\"\n          label=\"&nbsp;\"\n          [formControl]=\"checkboxFormControl\"\n          (change)=\"checkboxChange.emit($event)\"></bb-input-checkbox-ui>\n      </div>\n      <div class=\"col-4 mr-auto\">\n        <div class=\"bb-inline-stack\">\n          <span\n            class=\"bb-inline-stack__item bb-subtitle\"\n            data-role=\"payee-group-table-row-name-container\"\n            [ngClass]=\"{\n              'bb-approval-log-item-bound-value--highlight': modifier === 'highlight',\n              'bb-text-bold': modifier === 'highlight' || modifier === 'line-thru'\n            }\">\n            <bb-ellipsis-ui\n              data-role=\"payee-group-table-row-name\"\n              [text]=\"payee.name\"\n              tooltipTriggers=\"hover\"></bb-ellipsis-ui>\n          </span>\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <bb-icon-ui [name]=\"collapsible.isOpen ? 'toggle-up' : 'toggle-down'\" [inverse]=\"true\" size=\"md\"></bb-icon-ui>\n      </div>\n    </div>\n  </ng-template>\n  <ng-template bbCollapsibleBody>\n    <bb-payee-item-detail [payeeDetail]=\"payee\"></bb-payee-item-detail>\n  </ng-template>\n</bb-collapsible-ui>\n","import { Component, Directive, ChangeDetectionStrategy, Input, Output, EventEmitter } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, combineLatest, merge, Observable, of, ReplaySubject } from 'rxjs';\nimport { auditTime, catchError, map, mapTo, shareReplay, switchMap } from 'rxjs/operators';\nimport {\n  getRouteParams,\n  ServiceAgreementWithParticipants,\n  UserPermissionsDataGroupDetailsService,\n} from '@backbase/accessgroup-common-ang';\nimport { ActivatedRoute } from '@angular/router';\nconst PAYEE_GROUP_DETAILS_ERROR = 'PAYEE_GROUP_DETAILS_ERROR';\n@Component({\n  selector: 'bb-payee-group-detail-modal',\n  templateUrl: './payee-group-detail-modal.component.html',\n  providers: [],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PayeeGroupDetailModalComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: PayeeGroupDetailModalComponent = this;\n\n  itemsPerPage = 10;\n\n  /**\n   * Flag to show modal\n   */\n  @Input() isOpen = false;\n\n  /**\n   * Payee group name\n   */\n  @Input() payeeGroupName = '';\n  @Input() targetSaId = '';\n\n  /**\n   * Setter for payee Ids\n   */\n  @Input() set payeeIds(val: Array<string> | undefined) {\n    if (val) {\n      this.selectedPayeeGroupSubject.next(val);\n      this.selectedPayeeGroupPayeesCurrentPageSubject.next(0);\n      this.selectedPayeeGroupPayeesSearchQuerySubject.next('');\n    }\n  }\n\n  /**\n   * Event emitter that emits on cancel button click\n   */\n  @Output() cancel = new EventEmitter<void>();\n\n  private readonly selectedPayeeGroupPayeesCurrentPageSubject = new BehaviorSubject<number>(0);\n  readonly selectedPayeeGroupPayeesCurrentPage$ = this.selectedPayeeGroupPayeesCurrentPageSubject.asObservable();\n\n  private readonly selectedPayeeGroupPayeesSearchQuerySubject = new BehaviorSubject<string>('');\n  readonly selectedPayeeGroupPayeesSearchQuery$ = this.selectedPayeeGroupPayeesSearchQuerySubject.asObservable();\n\n  private readonly selectedPayeeGroupSubject = new ReplaySubject<any>();\n  readonly selectedPayeeGroup$ = this.selectedPayeeGroupSubject.asObservable();\n\n  readonly serviceAgreement$: Observable<ServiceAgreementWithParticipants> = getRouteParams(\n    this.activeRoute,\n    'serviceAgreementId',\n  ).pipe(\n    switchMap((id: string | null) => {\n      let idSa = id;\n      if (this.targetSaId && !id) {\n        idSa = this.targetSaId;\n      }\n      return idSa\n        ? this.dataGroupDetailsService.getServiceAgreement(idSa)\n        : this.dataGroupDetailsService.serviceAgreementFromContext;\n    }),\n    shareReplay(1),\n  );\n\n  readonly selectedPayeeGroupDetails$: Observable<any> = combineLatest([\n    this.selectedPayeeGroup$,\n    this.selectedPayeeGroupPayeesCurrentPage$,\n    this.selectedPayeeGroupPayeesSearchQuery$,\n    this.serviceAgreement$,\n  ]).pipe(\n    auditTime(100),\n    switchMap(([items, from, query, serviceAgreement]) => {\n      if (items.length) {\n        return this.dataGroupDetailsService\n          .getPayeeGroupContacts(items, { from, query, targetSaId: serviceAgreement.serviceAgreement.id })\n          .pipe(\n            map(payees => ({\n              data: payees.data,\n              totalCount: payees.totalCount,\n            })),\n            catchError(() => {\n              return of(PAYEE_GROUP_DETAILS_ERROR);\n            }),\n          );\n      }\n      return of();\n    }),\n    shareReplay(1),\n  );\n\n  readonly selectedPayeeGroupError$: Observable<boolean> = this.selectedPayeeGroupDetails$.pipe(\n    map((data: any) => data === PAYEE_GROUP_DETAILS_ERROR),\n  );\n\n  readonly loadingSelectedPayee$ = merge(\n    this.selectedPayeeGroupSubject.pipe(mapTo(true)),\n    this.selectedPayeeGroupPayeesCurrentPageSubject.pipe(mapTo(true)),\n    this.selectedPayeeGroupPayeesSearchQuerySubject.pipe(mapTo(true)),\n    this.selectedPayeeGroupDetails$.pipe(mapTo(false)),\n  );\n\n  constructor(\n    private dataGroupDetailsService: UserPermissionsDataGroupDetailsService,\n    private readonly activeRoute: ActivatedRoute,\n  ) {}\n\n  onCancel() {\n    this.cancel.emit();\n  }\n\n  pageChange(page: number) {\n    this.selectedPayeeGroupPayeesCurrentPageSubject.next(page);\n  }\n\n  searchSubmit(query: string) {\n    this.selectedPayeeGroupPayeesCurrentPageSubject.next(0);\n    this.selectedPayeeGroupPayeesSearchQuerySubject.next(query);\n  }\n}\n\n@Directive({\n  selector: '[bbPayeeGroupDetailModalCustomizable]',\n})\nexport class PayeeGroupDetailModalCustomizableDirective extends BbTemplate<\n  PayeeGroupDetailModalComponent,\n  {\n    selectedPayeeGroupDetails: null;\n    loadingSelectedPayee: boolean | null;\n    selectedPayeeGroupPayeesCurrentPage: number | null;\n    selectedPayeeGroupError: boolean | null;\n    selectedPayeeGroup: null;\n  }\n> {}\n","<ng-container\n  bbPayeeGroupDetailModalCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    selectedPayeeGroupDetails: selectedPayeeGroupDetails$ | async,\n    loadingSelectedPayee: loadingSelectedPayee$ | async,\n    selectedPayeeGroupPayeesCurrentPage: selectedPayeeGroupPayeesCurrentPage$ | async,\n    selectedPayeeGroupError: selectedPayeeGroupError$ | async,\n    selectedPayeeGroup: selectedPayeeGroup$ | async\n  }\">\n</ng-container>\n\n<ng-template\n  bbPayeeGroupDetailModalCustomizable\n  let-hostRef\n  let-selectedPayeeGroupDetails=\"context.selectedPayeeGroupDetails\"\n  let-loadingSelectedPayee=\"context.loadingSelectedPayee\"\n  let-selectedPayeeGroupPayeesCurrentPage=\"context.selectedPayeeGroupPayeesCurrentPage\"\n  let-selectedPayeeGroupError=\"context.selectedPayeeGroupError\"\n  let-selectedPayeeGroup=\"context.selectedPayeeGroup\">\n  <bb-modal-ui [isOpen]=\"hostRef.isOpen\" (cancel)=\"hostRef.onCancel()\" data-role=\"payee-group-detail-modal\">\n    <bb-modal-header-ui\n      title=\"Detail for {{ hostRef.payeeGroupName }}\"\n      i18n-title=\"Title of payee group modal detail@payee-group-detail-modal.title\"\n      data-role=\"payee-modal-title\"></bb-modal-header-ui>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <ng-container *ngIf=\"!selectedPayeeGroupError; else errorTemplate\">\n          <ng-container *ngIf=\"selectedPayeeGroup && selectedPayeeGroup.length; else empty\">\n            <div data-role=\"payee-group-modal-detail\">\n              <bb-search-box-ui\n                *ngIf=\"hostRef.isOpen\"\n                size=\"md\"\n                placeholder=\"Search\"\n                i18n-placeholder=\"Search placeholder@@payee-group-detail-modal.search.placeholder\"\n                [showClear]=\"true\"\n                [showSearch]=\"true\"\n                (clear)=\"hostRef.searchSubmit('')\"\n                (submit)=\"hostRef.searchSubmit($event)\"\n                data-role=\"payee-group-table-search\"></bb-search-box-ui>\n              <ng-container *ngIf=\"selectedPayeeGroupDetails && !loadingSelectedPayee; else loadingTemplate\">\n                <ng-container *ngIf=\"selectedPayeeGroupDetails.data.length; else empty\">\n                  <div class=\"bb-inline-stack\">\n                    <span\n                      class=\"bb-inline-stack__item bb-subheader bb-subheader--regular bb-text-bold\"\n                      i18n=\"Table header name@@payee-group-detail-modal.row.header.name\"\n                      >Name</span\n                    >\n                  </div>\n                  <hr />\n                  <div *ngFor=\"let payee of selectedPayeeGroupDetails.data\">\n                    <bb-payee-group-table-row data-role=\"payee-item\" [payee]=\"payee\"></bb-payee-group-table-row>\n                    <hr />\n                  </div>\n                  <bb-pagination-ui\n                    data-role=\"payee-group-table-pagination\"\n                    [page]=\"selectedPayeeGroupPayeesCurrentPage\"\n                    [boundaryLinks]=\"true\"\n                    [directionLinks]=\"true\"\n                    [totalItems]=\"selectedPayeeGroupDetails.totalCount\"\n                    [itemsPerPage]=\"itemsPerPage\"\n                    (pageChange)=\"hostRef.pageChange($event)\"></bb-pagination-ui>\n                </ng-container>\n              </ng-container>\n            </div>\n          </ng-container>\n        </ng-container>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui>\n      <ng-template bbCustomModalFooter>\n        <div class=\"bb-button-bar\">\n          <button\n            bbButton\n            color=\"secondary\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onCancel()\"\n            i18n=\"Cancel button@payee-group-detail-modal.cancel-btn\"\n            data-role=\"payee-group-modal-detail-cancel-btn\">\n            Cancel\n          </button>\n        </div>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n</ng-template>\n\n<ng-template #loadingTemplate>\n  <div class=\"bb-state-container bb-state-container--min-height\" data-role=\"payee-detail-loading\">\n    <bb-loading-indicator-ui></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n\n<ng-template #errorTemplate>\n  <bb-empty-state-ui\n    data-role=\"general-error-state\"\n    title=\"Unknown Error\"\n    i18n-title=\"Title for error state for payee group errors@@payee-group-detail-modal.unknown.title\"\n    subtitle=\"Try to reload the page or contact the system<br> administrator.\"\n    i18n-subtitle=\"Message for error state for payee group errors@@payee-group-detail-modal.unknown.subtitle\"\n    iconSize=\"xxl\"\n    iconModifier=\"error-outline\"></bb-empty-state-ui>\n</ng-template>\n\n<ng-template #empty>\n  <div class=\"bb-state-container bb-state-container--min-height\" data-role=\"payee-group-table-empty-state\">\n    <bb-empty-state-ui\n      iconSize=\"xxl\"\n      iconModifier=\"info\"\n      title=\"No payees found\"\n      i18n-title=\"Label for empty list of payees@@payee-group-detail-modal.empty.title\"\n      subtitle=\"You don't have any payees to be displayed.\"\n      i18n-subtitle=\"Payees empty state message@@payee-group-detail-modal.empty.subtitle\"></bb-empty-state-ui>\n  </div>\n</ng-template>\n","import { Component, Directive, ChangeDetectionStrategy, Input, Output, EventEmitter } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, combineLatest, merge, Observable, of, ReplaySubject } from 'rxjs';\nimport { auditTime, catchError, map, mapTo, shareReplay, switchMap } from 'rxjs/operators';\nimport {\n  getRouteParams,\n  ServiceAgreementWithParticipants,\n  UserPermissionsDataGroupDetailsService,\n} from '@backbase/accessgroup-common-ang';\nimport { ServiceAgreementParticipantsGetResponseBody } from '@backbase/data-ang/accesscontrol';\nimport { ActivatedRoute } from '@angular/router';\n\nconst ACCOUNT_GROUP_DETAILS_ERROR = 'ACCOUNT_GROUP_DETAILS_ERROR';\n\n@Component({\n  selector: 'bb-account-group-detail-modal',\n  templateUrl: './account-group-detail-modal.component.html',\n  providers: [],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountGroupDetailModalComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: AccountGroupDetailModalComponent = this;\n\n  itemsPerPage = 10;\n\n  /**\n   * Flag to show modal\n   */\n  @Input() isOpen = false;\n\n  @Input() targetSaId = '';\n\n  /**\n   * Account group name\n   */\n  @Input() accountGroupName = '';\n\n  @Input() legalEntityIds = [];\n\n  /**\n   * Setter for account Ids\n   */\n  @Input() set accountIds(val: Array<string> | undefined) {\n    if (val) {\n      this.selectedAccountGroupSubject.next(val);\n      this.selectedAccountGroupAccountsCurrentPageSubject.next(0);\n      this.selectedAccountGroupAccountsSearchQuerySubject.next('');\n    }\n  }\n\n  /**\n   * Event emitter that emits on cancel button click\n   */\n  @Output() cancel = new EventEmitter<void>();\n\n  readonly serviceAgreement$: Observable<ServiceAgreementWithParticipants> = getRouteParams(\n    this.activeRoute,\n    'serviceAgreementId',\n  ).pipe(\n    switchMap((id: string | null) => {\n      let idSa = id;\n      if (this.targetSaId && !id) {\n        idSa = this.targetSaId;\n      }\n      return idSa\n        ? this.dataGroupDetailsService.getServiceAgreement(idSa)\n        : this.dataGroupDetailsService.serviceAgreementFromContext;\n    }),\n    shareReplay(1),\n  );\n\n  private readonly selectedAccountGroupAccountsCurrentPageSubject = new BehaviorSubject<number>(0);\n  readonly selectedAccountGroupAccountsCurrentPage$ =\n    this.selectedAccountGroupAccountsCurrentPageSubject.asObservable();\n\n  private readonly selectedAccountGroupAccountsSearchQuerySubject = new BehaviorSubject<string>('');\n  readonly selectedAccountGroupAccountsSearchQuery$ =\n    this.selectedAccountGroupAccountsSearchQuerySubject.asObservable();\n\n  private readonly selectedAccountGroupSubject = new ReplaySubject<any>();\n  readonly selectedAccountGroup$ = this.selectedAccountGroupSubject.asObservable();\n\n  readonly selectedAccountGroupDetails$: Observable<any> = combineLatest([\n    this.selectedAccountGroup$,\n    this.selectedAccountGroupAccountsCurrentPage$,\n    this.selectedAccountGroupAccountsSearchQuery$,\n    this.serviceAgreement$,\n  ]).pipe(\n    auditTime(100),\n    switchMap(([items, from, searchQuery, serviceAgreement]) => {\n      let legalEntityIds: Array<string> = this.legalEntityIds;\n      if (serviceAgreement.participants) {\n        legalEntityIds = [];\n        serviceAgreement.participants.forEach((el: ServiceAgreementParticipantsGetResponseBody) => {\n          if (el.sharingAccounts) {\n            legalEntityIds.push(el.id);\n          }\n        });\n      }\n      if (items.length) {\n        return this.dataGroupDetailsService\n          .getAccountGroupItems({\n            items: items,\n            from: from,\n            size: this.itemsPerPage,\n            searchTerm: searchQuery,\n            legalEntityIds: legalEntityIds,\n          })\n          .pipe(\n            map(accounts => ({\n              data: accounts.items,\n              totalCount: accounts.totalCount,\n            })),\n            catchError(() => {\n              return of(ACCOUNT_GROUP_DETAILS_ERROR);\n            }),\n          );\n      }\n      return of();\n    }),\n    shareReplay(1),\n  );\n\n  readonly selectedAccountGroupError$: Observable<boolean> = this.selectedAccountGroupDetails$.pipe(\n    map((data: any) => data === ACCOUNT_GROUP_DETAILS_ERROR),\n  );\n\n  readonly loadingSelectedAccount$ = merge(\n    this.selectedAccountGroupSubject.pipe(mapTo(true)),\n    this.selectedAccountGroupAccountsCurrentPageSubject.pipe(mapTo(true)),\n    this.selectedAccountGroupAccountsSearchQuerySubject.pipe(mapTo(true)),\n    this.selectedAccountGroupDetails$.pipe(mapTo(false)),\n  );\n\n  constructor(\n    private dataGroupDetailsService: UserPermissionsDataGroupDetailsService,\n    private readonly activeRoute: ActivatedRoute,\n  ) {}\n\n  onCancel() {\n    this.cancel.emit();\n  }\n\n  pageChange(page: number) {\n    this.selectedAccountGroupAccountsCurrentPageSubject.next(page);\n  }\n\n  searchSubmit(query: string) {\n    this.selectedAccountGroupAccountsCurrentPageSubject.next(0);\n    this.selectedAccountGroupAccountsSearchQuerySubject.next(query);\n  }\n}\n\n@Directive({\n  selector: '[bbAccountGroupDetailModalCustomizable]',\n})\nexport class AccountGroupDetailModalCustomizableDirective extends BbTemplate<\n  AccountGroupDetailModalComponent,\n  {\n    selectedAccountGroupDetails: null;\n    loadingSelectedAccount: boolean | null;\n    selectedAccountGroupAccountsCurrentPage: number | null;\n    selectedAccountGroupError: boolean | null;\n    selectedAccountGroup: null;\n  }\n> {}\n","<ng-container\n  bbAccountGroupDetailModalCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    selectedAccountGroupDetails: selectedAccountGroupDetails$ | async,\n    loadingSelectedAccount: loadingSelectedAccount$ | async,\n    selectedAccountGroupAccountsCurrentPage: selectedAccountGroupAccountsCurrentPage$ | async,\n    selectedAccountGroupError: selectedAccountGroupError$ | async,\n    selectedAccountGroup: selectedAccountGroup$ | async\n  }\">\n</ng-container>\n\n<ng-template\n  bbAccountGroupDetailModalCustomizable\n  let-hostRef\n  let-selectedAccountGroupDetails=\"context.selectedAccountGroupDetails\"\n  let-loadingSelectedAccount=\"context.loadingSelectedAccount\"\n  let-selectedAccountGroupAccountsCurrentPage=\"context.selectedAccountGroupAccountsCurrentPage\"\n  let-selectedAccountGroupError=\"context.selectedAccountGroupError\"\n  let-selectedAccountGroup=\"context.selectedAccountGroup\">\n  <bb-modal-ui [isOpen]=\"hostRef.isOpen\" (cancel)=\"hostRef.onCancel()\" data-role=\"account-group-detail-modal\">\n    <bb-modal-header-ui\n      title=\"Detail for {{ hostRef.accountGroupName }}\"\n      i18n-title=\"Title of account group modal detail@account-group-detail-modal.title\"\n      data-role=\"account-modal-title\"></bb-modal-header-ui>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <ng-container *ngIf=\"!selectedAccountGroupError; else errorTemplate\">\n          <ng-container *ngIf=\"selectedAccountGroup && selectedAccountGroup.length; else empty\">\n            <div data-role=\"account-group-modal-detail\">\n              <bb-search-box-ui\n                *ngIf=\"hostRef.isOpen\"\n                size=\"md\"\n                placeholder=\"Search\"\n                i18n-placeholder=\"Search placeholder@@account-group-detail-modal.search.placeholder\"\n                [showClear]=\"true\"\n                [showSearch]=\"true\"\n                (clear)=\"hostRef.searchSubmit('')\"\n                (submit)=\"hostRef.searchSubmit($event)\"\n                data-role=\"account-group-table-search\"></bb-search-box-ui>\n              <ng-container *ngIf=\"selectedAccountGroupDetails && !loadingSelectedAccount; else loadingTemplate\">\n                <ng-container *ngIf=\"selectedAccountGroupDetails.data.length; else empty\">\n                  <div class=\"row\">\n                    <div class=\"col-6\">\n                      <span\n                        class=\"bb-subheader bb-subheader--regular bb-text-bold\"\n                        i18n=\"Table header name@@account-group-detail-modal.row.header.name\"\n                        >Name</span\n                      >\n                    </div>\n                    <div class=\"col-4\">\n                      <span\n                        class=\"bb-subheader bb-subheader--regular bb-text-bold\"\n                        i18n=\"Table header name@@account-group-detail-modal.row.header.number\">\n                        Number\n                      </span>\n                    </div>\n\n                    <div class=\"col-2\">\n                      <span\n                        class=\"bb-subheader bb-subheader--regular bb-text-bold\"\n                        i18n=\"Table header name@@account-group-detail-modal.row.header.currency\">\n                        Currency\n                      </span>\n                    </div>\n                  </div>\n                  <hr />\n                  <div *ngFor=\"let account of selectedAccountGroupDetails.data\" data-role=\"account-item\">\n                    <div class=\"row\">\n                      <div class=\"col-6\">\n                        <div data-role=\"account-detail-name\">\n                          {{ account.displayName }}\n                        </div>\n                        <div class=\"bb-text-support text-small\" data-role=\"account-detail-type\">\n                          {{ account.productTypeName }}\n                        </div>\n                      </div>\n                      <div class=\"col-4\">\n                        <span class=\"text-small\" data-role=\"account-detail-number\">\n                          {{ account.IBAN || account.BBAN || account.productNumber || account.number }}\n                        </span>\n                      </div>\n\n                      <div class=\"col-2\">\n                        <span class=\"text-small\" data-role=\"account-detail-currency\">\n                          {{ account.currency }}\n                        </span>\n                      </div>\n                    </div>\n                    <hr />\n                  </div>\n\n                  <bb-pagination-ui\n                    data-role=\"account-group-table-pagination\"\n                    [page]=\"selectedAccountGroupAccountsCurrentPage\"\n                    [boundaryLinks]=\"true\"\n                    [directionLinks]=\"true\"\n                    [totalItems]=\"selectedAccountGroupDetails.totalCount\"\n                    [itemsPerPage]=\"itemsPerPage\"\n                    (pageChange)=\"hostRef.pageChange($event)\"></bb-pagination-ui>\n                </ng-container>\n              </ng-container>\n            </div>\n          </ng-container>\n        </ng-container>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui>\n      <ng-template bbCustomModalFooter>\n        <div class=\"bb-button-bar\">\n          <button\n            bbButton\n            color=\"secondary\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onCancel()\"\n            i18n=\"Cancel button@account-group-detail-modal.cancel-btn\"\n            data-role=\"account-group-modal-detail-cancel-btn\">\n            Cancel\n          </button>\n        </div>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n</ng-template>\n\n<ng-template #loadingTemplate>\n  <div class=\"bb-state-container bb-state-container--min-height\" data-role=\"account-detail-loading\">\n    <bb-loading-indicator-ui></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n\n<ng-template #errorTemplate>\n  <bb-empty-state-ui\n    data-role=\"general-error-state\"\n    title=\"Unknown Error\"\n    i18n-title=\"Title for error state for account group errors@@account-group-detail-modal.unknown.title\"\n    subtitle=\"Try to reload the page or contact the system<br> administrator.\"\n    i18n-subtitle=\"Message for error state for account group errors@@account-group-detail-modal.unknown.subtitle\"\n    iconSize=\"xxl\"\n    iconModifier=\"error-outline\"></bb-empty-state-ui>\n</ng-template>\n\n<ng-template #empty>\n  <div class=\"bb-state-container bb-state-container--min-height\" data-role=\"account-group-table-empty-state\">\n    <bb-empty-state-ui\n      iconSize=\"xxl\"\n      iconModifier=\"info\"\n      title=\"No accounts found\"\n      i18n-title=\"Label for empty list of accounts@@account-group-detail-modal.empty.title\"\n      subtitle=\"You don't have any accounts to be displayed.\"\n      i18n-subtitle=\"Accounts empty state message@@account-group-detail-modal.empty.subtitle\"></bb-empty-state-ui>\n  </div>\n</ng-template>\n","import { Component, Directive, Output, EventEmitter, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\n@Component({\n  selector: 'bb-unassign-data-group-modal',\n  templateUrl: './unassign-data-group-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UnassignDataGroupModalComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: UnassignDataGroupModalComponent = this;\n\n  /**\n   * Flag to show modal\n   */\n  @Input() isOpen = false;\n\n  @Input() activeDataGroup = 'account';\n  @Input() jobRole!: string | undefined;\n  @Input() accountGroupName!: string;\n  @Input() payeeGroupName!: string;\n\n  /**\n   * Event emitter that emits on cancel button click\n   */\n  @Output() cancel = new EventEmitter<void>();\n\n  /**\n   * Event emitter that emits on confirm button click\n   */\n  @Output() confirm = new EventEmitter<void>();\n\n  /**\n   * Function to call on cancel button click\n   */\n  onCancel(): void {\n    this.cancel.emit();\n  }\n\n  /**\n   * Function to call on confirm button click\n   */\n  onConfirm(): void {\n    this.confirm.emit();\n  }\n}\n\n@Directive({\n  selector: '[bbUnassignDataGroupModalCustomizable]',\n})\nexport class UnassignDataGroupModalCustomizableDirective extends BbTemplate<UnassignDataGroupModalComponent, void> {}\n","<ng-container bbUnassignDataGroupModalCustomizable [bbHostRef]=\"hostRef\"> </ng-container>\n\n<ng-template bbUnassignDataGroupModalCustomizable let-hostRef>\n  <bb-modal-ui [isOpen]=\"hostRef.isOpen\" (cancel)=\"hostRef.onCancel()\" data-role=\"unassign-data-group-modal\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        hostRef.activeDataGroup === 'account' ? unassignAccountGroupHeader : unassignPayeeHeader\n      \"></ng-container>\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <ng-content></ng-content>\n      </ng-template>\n    </bb-modal-body-ui>\n    <bb-modal-footer-ui>\n      <ng-template bbCustomModalFooter>\n        <div class=\"bb-button-bar\">\n          <button\n            bbButton\n            color=\"danger\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onConfirm()\"\n            i18n=\"Delete button@payee-group-delete-modal.delete-btn\"\n            data-role=\"unassign-data-group-modal-unassign-btn\">\n            Unassign\n          </button>\n          <button\n            bbButton\n            color=\"secondary\"\n            class=\"bb-button-bar__button\"\n            (click)=\"hostRef.onCancel()\"\n            i18n=\"Cancel button@payee-group-delete-modal.cancel-btn\"\n            data-role=\"unassign-data-group-modal-cancel-btn\">\n            Cancel\n          </button>\n        </div>\n      </ng-template>\n    </bb-modal-footer-ui>\n  </bb-modal-ui>\n\n  <ng-template #unassignPayeeHeader>\n    <bb-modal-header-ui\n      title=\"Unassign '{{ hostRef.payeeGroupName }}' Payee Group from {{ hostRef.accountGroupName }} in the '{{\n        hostRef.jobRole\n      }}' job role?\"\n      i18n-title=\"Title of unassign payee modal@unassign-data-group-modal.title\"\n      data-role=\"unassign-payee-modal-modal-title\"></bb-modal-header-ui>\n  </ng-template>\n\n  <ng-template #unassignAccountGroupHeader>\n    <bb-modal-header-ui\n      title=\"Unassign '{{ hostRef.accountGroupName }}' Account Group from '{{ hostRef.jobRole }}' job role?\"\n      i18n-title=\"Title of unassign account group modal@unassign-data-group-modal.title\"\n      data-role=\"unassign-account-group-modal-title\"></bb-modal-header-ui>\n  </ng-template>\n</ng-template>\n","import { Component, ContentChild, Directive, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\nimport { ApprovalLevelStatus, DataGroup } from '@backbase/accessgroup-common-ang';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { GetUser as User } from '@backbase/data-ang/user';\nimport { map } from 'rxjs/operators';\nimport {\n  BusinessFunction,\n  BusinessFunctionPrivileges,\n  DataGroupWithPayee,\n  SelfApprovalDefaultBehavior,\n  SelfApprovalPolicies,\n  UserPermissions,\n} from '../model/types';\n\n@Directive({\n  selector: 'ng-template[bbUserPermissionsItemBusinessFunction]',\n})\nexport class UserPermissionsItemBusinessFunctionDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n@Directive({\n  selector: 'ng-template[bbUserPermissionsItemBusinessFunctionGroupName]',\n})\nexport class UserPermissionsItemBusinessFunctionGroupNameDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n\n@Component({\n  selector: 'bb-user-permissions-item',\n  templateUrl: './user-permissions-item.component.html',\n})\nexport class UserPermissionsItemComponent {\n  @ContentChild(UserPermissionsItemBusinessFunctionDirective)\n  businessFunctionTemplate: UserPermissionsItemBusinessFunctionDirective | undefined;\n  @ContentChild(UserPermissionsItemBusinessFunctionGroupNameDirective)\n  businessFunctionGroupKeyTemplate: UserPermissionsItemBusinessFunctionGroupNameDirective | undefined;\n  _userPermissions: UserPermissions | undefined;\n  allLinkedPayee: any;\n  dataGroups: DataGroupWithPayee[] = [];\n\n  selectedDataGroups$: BehaviorSubject<any> = new BehaviorSubject([]);\n  selectedDataGroupsForPayee$: BehaviorSubject<any> = new BehaviorSubject([]);\n  selectedPayeeGroups$: BehaviorSubject<any> = new BehaviorSubject([]);\n  readonly dataGroups$ = new BehaviorSubject([]);\n  readonly payeeGroups$ = new BehaviorSubject([]);\n  payeeDetailModal = false;\n  accountDetailModal = false;\n\n  selfApproveItemData: SelfApprovalPolicies | undefined = undefined;\n  typeOfSelfApproveAction = '';\n  selectedBFForSelfApprove: BusinessFunction | undefined = undefined;\n\n  readonly approvalLevelStatus = ApprovalLevelStatus;\n\n  /**\n   * User info\n   */\n  @Input() user: User | undefined;\n\n  /**\n   * Currency info\n   */\n  @Input() currencyList: any | undefined;\n\n  /**\n   * selfApproveDefaultBehavior\n   */\n  @Input() selfApproveDefaultBehavior: SelfApprovalDefaultBehavior | undefined = 'disable';\n\n  /**\n   * Whether to show approval level\n   */\n  @Input() showApprovalLevel = false;\n\n  /**\n   * Approval level\n   */\n  @Input() approvalLevel?: string | ApprovalLevelStatus;\n\n  /**\n   * Approval level loading flag\n   */\n  @Input() approvalLevelLoading: boolean | undefined;\n\n  /**\n   * Approval level error flag\n   */\n  @Input() approvalLevelError: boolean | undefined;\n\n  /**\n   * Limit data\n   */\n  @Input() limitData: Array<any> | undefined;\n\n  /**\n   * Permission base on cxp and user permission\n   */\n  @Input() userLimitsPermission: any | undefined;\n\n  /**\n   * Business Function to check privileges against\n   */\n  @Output() emitLimitData = new EventEmitter();\n\n  emitLimit(emitData: any, bfName: string, jrName: string) {\n    this.emitLimitData.emit({\n      ...emitData,\n      bfName,\n      jrName\n    });\n  }\n\n  /**\n   * Self approval data\n   */\n  selfApprovalPolicies: Array<SelfApprovalPolicies> | undefined;\n\n  /**\n   * Self approval data\n   */\n  selfApprovalPoliciesHistory: Array<SelfApprovalPolicies> | undefined;\n\n  /**\n   * User Permissions Object consisting of a\n   * Function Group, Grouped Business Function, Data Groups\n   */\n  @Input() set userPermissions(val: UserPermissions | undefined) {\n    if (val) {\n      this._userPermissions = val;\n      if (val.dataGroups) {\n        this.dataGroups = JSON.parse(JSON.stringify(val.dataGroups));\n        this.selfApprovalPolicies = val.selfApprovalPolicies;\n        if (!this.selfApprovalPoliciesHistory) {\n          this.selfApprovalPoliciesHistory = val.selfApprovalPolicies;\n        }\n        this.selectedDataGroups$.next(val.dataGroups);\n        this.getAllLinkedPayees(val.dataGroups);\n        this.emitRequestObject();\n        this.preEditDataGroupState = JSON.parse(JSON.stringify(this.dataGroups));\n      }\n    }\n  }\n\n  /**\n   * Account Group setter\n   */\n  @Input() set dataGroup(val: any) {\n    if (val) {\n      this.dataGroups$.next(val);\n    }\n  }\n\n  /**\n   * Payee Group setter\n   */\n  @Input() set payeeGroups(val: any) {\n    if (val) {\n      this.payeeGroups$.next(val);\n    }\n  }\n  /**\n   * Whether to show unassign buttons\n   */\n  @Input() showActions = false;\n\n  /**\n   * Whether to show self approval section\n   */\n  @Input() enableSelfApproval = false;\n\n  /**\n   * Whether to show payee table row\n   */\n  @Input() showPayee = true;\n  /**\n   * Whether to show unassign buttons\n   */\n  @Input() showFunctionGroupType = false;\n  /**\n   * Whether to disable save button\n   */\n  @Input() disableSaveButton = true;\n  /**\n   * Flag to indicate edit view\n   */\n  @Input() editView = false;\n\n  /**\n   * Legal Entity Id\n   */\n  @Input() legalEntityId = '';\n\n  @Input() editedFunctionId: string | undefined = '';\n  /**\n   * Event emitter emiting on unassigning function group\n   */\n  @Output() removeFunctionGroup = new EventEmitter<void>();\n  /**\n   * Event emitter emiting on unassigning data group\n   */\n  @Output() removeDataGroup = new EventEmitter<DataGroup>();\n\n  @Output() requestObjectEmit = new EventEmitter();\n\n  @Output() editedFunctionIdEmit = new EventEmitter();\n  @Output() changesMadedEmit = new EventEmitter();\n\n  readonly availableDataGroupsSearchTerm$ = new BehaviorSubject<string>('');\n  readonly availableDataGroupsForPayeesSearchTerm$ = new BehaviorSubject<string>('');\n  readonly availablePayeeGroupsSearchTerm$ = new BehaviorSubject<string>('');\n  /**\n   * Switcher state data\n   * @private\n   */\n  private defaultSwitcherData = false;\n\n  /**\n   * Switcher value for account\n   */\n  switchAccountType$ = new BehaviorSubject<boolean>(false);\n\n  readonly splittedAccountsByType$ = combineLatest([this.selectedDataGroups$, this.dataGroups$]).pipe(\n    map(([selectedDataGroups, dataGroups]: [DataGroup[], DataGroup[] | undefined]) => {\n      const wizardAccounts: DataGroup[] = [];\n      const customAccounts: DataGroup[] = [];\n      if (dataGroups) {\n        const allDataGroups = dataGroups.filter((item: DataGroup) => !selectedDataGroups.find(o => o.id === item.id));\n        allDataGroups.forEach((item: any) => {\n          if (item.metadata?.generated) {\n            wizardAccounts.push(Object.assign({ ...item }));\n          } else {\n            customAccounts.push(Object.assign({ ...item }));\n          }\n        });\n      }\n      return { allAccounts: [...customAccounts, ...wizardAccounts], wizardAccounts, customAccounts };\n    }),\n  );\n\n  readonly availableDataGroups: Observable<DataGroup[]> = combineLatest([\n    this.splittedAccountsByType$,\n    this.switchAccountType$,\n    this.availableDataGroupsSearchTerm$,\n  ]).pipe(\n    map(([splittedAccounts, switcherType, query]) => {\n      let accounts = [];\n      if (!switcherType && splittedAccounts.customAccounts.length) {\n        accounts = splittedAccounts.customAccounts;\n      } else {\n        accounts = splittedAccounts.allAccounts;\n      }\n      accounts = accounts.filter(f => f.name.toLowerCase().includes(query.toLowerCase()));\n      return accounts;\n    }),\n  );\n\n  readonly availableDataGroupsForPayee: Observable<DataGroup[]> = combineLatest([\n    this.selectedDataGroupsForPayee$,\n    this.selectedDataGroups$,\n    this.availableDataGroupsForPayeesSearchTerm$,\n  ]).pipe(\n    map(([selectedDataGroups, dataGroups, query]: [DataGroup[], DataGroup[] | undefined, string]) => {\n      if (dataGroups) {\n        return dataGroups\n          .filter((item: DataGroup) => !selectedDataGroups.find(o => o.id === item.id))\n          .filter(f => f.name.toLowerCase().includes(query.toLowerCase()));\n      }\n      return [];\n    }),\n  );\n\n  readonly availablePayeeGroups: Observable<DataGroup[]> = combineLatest([\n    this.selectedPayeeGroups$,\n    this.payeeGroups$,\n    this.availablePayeeGroupsSearchTerm$,\n  ]).pipe(\n    map(([selectedDataGroups, dataGroups, query]: [DataGroup[], DataGroup[] | undefined, string]) => {\n      if (dataGroups) {\n        return dataGroups\n          .filter((item: DataGroup) => !selectedDataGroups.find(o => o.id === item.id))\n          .filter(f => f.name.toLowerCase().includes(query.toLowerCase()));\n      }\n      return [];\n    }),\n  );\n\n  payeeIds = undefined;\n  accountIds = undefined;\n  payeeGroupName = '';\n  accountGroupName = '';\n\n  selectAccountGroupsModalOpened = false;\n  selectAccountGroupsForPayeesModalOpened = false;\n  selectPayeeGroupsModalOpened = false;\n\n  selectedForAssignAccountGroup!: DataGroupWithPayee | undefined;\n  selectedForAssignAccountGroupForPayee!: DataGroupWithPayee | undefined;\n\n  selectedDg: any;\n  selectedPg: any;\n  activeView = 'table';\n  activeDataGroup = 'account';\n  preEditDataGroupState!: DataGroupWithPayee[];\n  objectForRequest: any;\n\n  dataGroupForRemove: any;\n\n  switchAccounts() {\n    this.defaultSwitcherData = !this.defaultSwitcherData;\n    this.switchAccountType$.next(this.defaultSwitcherData);\n  }\n\n  onRemoveFunctionGroup() {\n    this.removeFunctionGroup.emit();\n  }\n\n  onRemoveDataGroup(dg: DataGroup) {\n    this.removeDataGroup.emit(dg);\n  }\n\n  showLinkedPayee(dg: any) {\n    this.selectedPg = undefined;\n    if (this.selectedDg === dg) {\n      this.selectedDg = undefined;\n    } else {\n      this.selectedDg = dg;\n    }\n  }\n\n  selectedPG(pg: any) {\n    if (this.selectedPg === pg) {\n      this.selectedPg = undefined;\n    } else {\n      this.selectedPg = pg;\n    }\n  }\n\n  checkInclude(payees: any) {\n    if (payees && this.selectedPg) {\n      return payees.filter((val: any) => {\n        return val.id === this.selectedPg.id;\n      }).length;\n    }\n    return false;\n  }\n\n  getAccountGroupLinked(payee: any) {\n    const accountGroups: any = [];\n    this.dataGroups.forEach((el: any) => {\n      if (\n        el['payees'] &&\n        el['payees'].filter((val: any) => {\n          return val.id === payee.id;\n        }).length\n      ) {\n        accountGroups.push(el);\n      }\n    });\n    return accountGroups;\n  }\n\n  getAccountGroupLinkedString(payee: any) {\n    let accountGroups: any = '';\n    this.dataGroups.forEach((el: any, idx: number, array: any) => {\n      if (\n        el['payees'] &&\n        el['payees'].filter((val: any) => {\n          return val.id === payee.id;\n        }).length\n      ) {\n        accountGroups = accountGroups + \"'\" + el.name + \"'\";\n        if (idx !== array.length - 1) {\n          accountGroups = accountGroups + ', ';\n        }\n      }\n    });\n    return accountGroups;\n  }\n\n  assignDataGroups(val: DataGroupWithPayee[]) {\n    val.forEach((item: DataGroupWithPayee) => {\n      this.dataGroups.push(Object.assign({}, item));\n    });\n    this.selectedDataGroups$.next(this.dataGroups);\n    this.emitRequestObject();\n  }\n\n  searchAvailableDataGroups(val: string) {\n    this.availableDataGroupsSearchTerm$.next(val);\n  }\n\n  searchAvailablePayeeGroups(val: string) {\n    this.availablePayeeGroupsSearchTerm$.next(val);\n  }\n\n  searchAvailableDataGroupsForPayees(val: string) {\n    this.availableDataGroupsForPayeesSearchTerm$.next(val);\n  }\n\n  addAccountGroup() {\n    this.defaultSwitcherData = false;\n    this.switchAccountType$.next(false);\n    this.availableDataGroupsSearchTerm$.next('');\n    this.selectAccountGroupsModalOpened = true;\n  }\n\n  assignPayee(payees: any, dataGroups: any) {\n    this.availablePayeeGroupsSearchTerm$.next('');\n    this.selectedPayeeGroups$.next(payees ? payees : []);\n    this.selectPayeeGroupsModalOpened = true;\n    this.selectedForAssignAccountGroup = this.dataGroups.find(o => o.id === dataGroups.id);\n  }\n\n  assignPayeeGroups(val: any) {\n    this.dataGroups.forEach((element, index) => {\n      if (this.selectedForAssignAccountGroup && element.id === this.selectedForAssignAccountGroup.id) {\n        if (this.dataGroups[index].payees) {\n          val.forEach((item: DataGroupWithPayee) => {\n            this.dataGroups[index].payees.push(Object.assign({}, item));\n          });\n        } else {\n          this.dataGroups[index].payees = val;\n        }\n      }\n    });\n    if (this._userPermissions) {\n      this.getAllLinkedPayees(this.dataGroups);\n    }\n    this.emitRequestObject();\n  }\n\n  assignDataGroupsForPayee(val: any) {\n    val.forEach((el: any) => {\n      const filteredDataGroup = this.dataGroups.find(o => o.id === el.id);\n      if (!filteredDataGroup) {\n        this.dataGroups.push(...val);\n      }\n      const findObject = this.dataGroups.find(o => o.id === el.id);\n      if (findObject) {\n        if (filteredDataGroup && filteredDataGroup.payees && this.selectedForAssignAccountGroupForPayee) {\n          findObject.payees.push(this.selectedForAssignAccountGroupForPayee);\n        } else {\n          findObject.payees = [];\n          if (this.selectedForAssignAccountGroupForPayee) {\n            findObject.payees.push(this.selectedForAssignAccountGroupForPayee);\n          }\n        }\n      }\n    });\n    this.getAllLinkedPayees(this.dataGroups);\n    this.emitRequestObject();\n  }\n\n  addAccountGroupToPayee(payee: any) {\n    this.selectedForAssignAccountGroupForPayee = payee;\n    this.selectedDataGroupsForPayee$.next(this.getAccountGroupLinked(payee));\n    this.selectAccountGroupsForPayeesModalOpened = true;\n  }\n\n  getAllLinkedPayees(val: DataGroupWithPayee[]) {\n    const payees: string | any[] = [];\n    val.forEach((el: any) => {\n      if (el['payees']) {\n        payees.push(...el['payees']);\n      }\n    });\n    this.allLinkedPayee = payees.filter((v, i, a) => a.findIndex(t => t.id === v.id) === i);\n  }\n\n  removeAccountGroup(accountGroup: DataGroup) {\n    this.dataGroups = this.dataGroups.filter(item => {\n      this.dataGroupForRemove = undefined;\n      return item.id !== accountGroup.id;\n    });\n\n    this.getAllLinkedPayees(this.dataGroups);\n    this.selectedDataGroups$.next(this.dataGroups);\n    this.emitRequestObject();\n  }\n\n  removedPayeeGroup(payyeGroup: DataGroup, accountGroup: DataGroup) {\n    this.dataGroups.forEach((el: DataGroupWithPayee) => {\n      if (el.id === accountGroup.id) {\n        el.payees = [\n          ...el.payees.filter(item => {\n            return item !== payyeGroup;\n          }),\n        ];\n      }\n    });\n\n    this.getAllLinkedPayees(this.dataGroups);\n    this.emitRequestObject();\n  }\n\n  removePayeeGroupLinking(payee: DataGroup) {\n    this.dataGroups.forEach((el: DataGroupWithPayee) => {\n      if (el.payees) {\n        this.dataGroupForRemove = undefined;\n        el.payees = el.payees.filter(value => {\n          return value.id !== payee.id;\n        });\n      }\n    });\n\n    this.getAllLinkedPayees(this.dataGroups);\n    if (this.allLinkedPayee.length === 0) {\n      this.activeDataGroup = 'account';\n    }\n    this.emitRequestObject();\n  }\n\n  removedAccountGroupFromPayee(payee: DataGroup, account: DataGroup) {\n    this.dataGroups.forEach((el: DataGroupWithPayee) => {\n      if (el.id === account.id) {\n        el.payees = el.payees.filter(value => {\n          return value.id !== payee.id;\n        });\n      }\n    });\n    this.getAllLinkedPayees(this.dataGroups);\n    if (this.allLinkedPayee.length === 0) {\n      this.activeDataGroup = 'account';\n    }\n    this.emitRequestObject();\n  }\n\n  onEditPayee() {\n    this.preEditDataGroupState = JSON.parse(JSON.stringify(this.dataGroups));\n    this.editedFunctionIdEmit.emit(this._userPermissions ? this._userPermissions.id : undefined);\n  }\n\n  onCancel() {\n    this.editView = false;\n    this.dataGroups = JSON.parse(JSON.stringify(this.preEditDataGroupState));\n    this.getAllLinkedPayees(this.dataGroups);\n    this.selectedDataGroups$.next(this.dataGroups);\n    this.editedFunctionIdEmit.emit(undefined);\n  }\n\n  emitRequestObject() {\n    this.objectForRequest = [];\n    this.dataGroups.forEach((accountGroup: DataGroupWithPayee) => {\n      if (this._userPermissions) {\n        const dataObj = [];\n        dataObj.push({ id: accountGroup.id });\n        if (accountGroup.payees) {\n          accountGroup.payees.forEach((payeeGroup: DataGroup) => {\n            dataObj.push({ id: payeeGroup.id });\n          });\n        }\n        this.objectForRequest.push({ functionGroupId: this._userPermissions.id, dataGroupIds: dataObj });\n      }\n    });\n    if (this.objectForRequest.length === 0 && this._userPermissions) {\n      this.objectForRequest.push({ functionGroupId: this._userPermissions.id, dataGroupIds: [] });\n    }\n    if (this.objectForRequest.length !== 0 && this.selfApprovalPolicies && this.selfApprovalPolicies.length) {\n      this.objectForRequest.forEach((el: any) => {\n        el.selfApprovalPolicies = this.selfApprovalPolicies?.filter(\n          (item: SelfApprovalPolicies) => !this.checkForUnsetPolicies(item),\n        );\n      });\n    }\n    this.requestObjectEmit.emit(this.objectForRequest);\n    if (this._userPermissions && this.dataGroups && this.preEditDataGroupState) {\n      this.changesMadedEmit.emit({ [this._userPermissions.id]: this.checkChanges() });\n    }\n  }\n\n  onSave() {\n    this.emitRequestObject();\n  }\n\n  checkForUnsetPolicies(el: SelfApprovalPolicies) {\n    return (\n      (el.canSelfApprove && this.selfApproveDefaultBehavior === 'enable' && !el.bounds?.length) ||\n      (!el.canSelfApprove && this.selfApproveDefaultBehavior === 'disable' && !el.bounds?.length)\n    );\n  }\n\n  checkChanges(): boolean {\n    if (this.dataGroups.length !== this.preEditDataGroupState.length) {\n      return false;\n    } else {\n      for (let i = 0; i < this.dataGroups.length; i++) {\n        const savedObject = this.preEditDataGroupState.find(el => el.id === this.dataGroups[i].id);\n        if (!savedObject) {\n          return false;\n        } else if (this.checkPayeesForChanges(savedObject.payees, this.dataGroups[i].payees)) {\n          return false;\n        }\n      }\n    }\n\n    const resultA = this.selfApprovalPoliciesHistory?.filter(\n      elm => !this.selfApprovalPolicies?.map(elm => JSON.stringify(elm)).includes(JSON.stringify(elm)),\n    );\n    const resultB = this.selfApprovalPolicies?.filter(\n      elm => !this.selfApprovalPoliciesHistory?.map(elm => JSON.stringify(elm)).includes(JSON.stringify(elm)),\n    );\n\n    if (resultA?.length || resultB?.length) {\n      return false;\n    }\n    return true;\n  }\n\n  checkPayeesForChanges(savedObjects: DataGroup[], dataGroupPayeeObjects: DataGroup[]): boolean {\n    if (\n      (!savedObjects && dataGroupPayeeObjects && dataGroupPayeeObjects.length) ||\n      (savedObjects && savedObjects.length && !dataGroupPayeeObjects)\n    ) {\n      return true;\n    }\n    if (savedObjects && dataGroupPayeeObjects && savedObjects.length !== dataGroupPayeeObjects.length) {\n      return true;\n    }\n    if (savedObjects && dataGroupPayeeObjects && savedObjects.length === dataGroupPayeeObjects.length) {\n      for (let j = 0; j < dataGroupPayeeObjects.length; j++) {\n        const savedObjectPayee = savedObjects.find(el => el.id === dataGroupPayeeObjects[j].id);\n        if (!savedObjectPayee) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  onOpenUnassignModal(dataGroup: DataGroupWithPayee) {\n    this.dataGroupForRemove = dataGroup;\n  }\n\n  openPayeeGroupDetail(payee: DataGroup) {\n    // @ts-ignore\n    this.payeeIds = payee.items;\n    this.payeeGroupName = payee.name;\n    this.payeeDetailModal = true;\n  }\n\n  openAccountGroupDetail(account: DataGroup) {\n    // @ts-ignore\n    this.accountIds = account.items;\n    this.accountGroupName = account.name;\n    this.accountDetailModal = true;\n  }\n\n  /**\n   * Return flag of financial BF and bound support for self approve\n   * @param item - BF privileges\n   */\n  checkIfSelfApproveLimitsSupport(item: BusinessFunctionPrivileges) {\n    let countOfSupportLimit = 0;\n    for (const property in item) {\n      if (item[property].supportsLimits) {\n        countOfSupportLimit++;\n      }\n    }\n    return item.approve && item.approve.assigned && countOfSupportLimit > 0;\n  }\n\n  /**\n   * Return flag of self approve supported\n   * @param item - BF privileges\n   */\n  checkIfSelfApprove(item: BusinessFunctionPrivileges) {\n    return item.approve && item.approve.assigned;\n  }\n\n  /**\n   * Return flag of present any self approval item in group of BF\n   * @param items - BF privileges in Group\n   */\n  checkIfGroupHasSelfApprove(items: BusinessFunction[]) {\n    let appovePrivelegCount = 0;\n    items.forEach((el: any) => {\n      if (this.checkIfSelfApprove(el.privileges)) {\n        appovePrivelegCount++;\n      }\n    });\n\n    return appovePrivelegCount > 0;\n  }\n\n  /**\n   * Return flag of state of self approval\n   * @param name - name of BF\n   */\n  checkIfSelfApprovalPoliciesSetted(name: string) {\n    return this.selfApprovalPolicies?.find((el: SelfApprovalPolicies) => el.businessFunctionName === name)\n      ?.canSelfApprove;\n  }\n\n  /**\n   * Return flag of disabled of self approval\n   * @param name - name of BF\n   */\n  checkIfSelfApprovalDisabled(name: string) {\n    if (this.selfApprovalPolicies?.find((el: SelfApprovalPolicies) => el.businessFunctionName === name)) {\n      return !this.selfApprovalPolicies?.find((el: SelfApprovalPolicies) => el.businessFunctionName === name)\n        ?.canSelfApprove;\n    }\n    return false;\n  }\n\n  /**\n   * Return bounds for self approve\n   * @param name - name of BF\n   */\n  getBoundsForSelfApprove(name: string) {\n    return this.selfApprovalPolicies?.find((el: SelfApprovalPolicies) => el.businessFunctionName === name)?.bounds;\n  }\n\n  /**\n   * Open modal for edit self Approve\n   * @param bf -  BF\n   */\n  editSelfApprove(bf: BusinessFunction) {\n    this.selfApproveItemData = this.selfApprovalPolicies?.find(\n      (el: SelfApprovalPolicies) => el.businessFunctionName === bf.name,\n    );\n    this.typeOfSelfApproveAction = 'edit';\n    this.selectedBFForSelfApprove = bf;\n  }\n\n  /**\n   * Open modal for enable self Approve\n   * @param bf -  BF\n   */\n  enableSelfApprove(bf: BusinessFunction) {\n    this.selfApproveItemData = this.selfApprovalPolicies?.find(\n      (el: SelfApprovalPolicies) => el.businessFunctionName === bf.name,\n    );\n    this.typeOfSelfApproveAction = 'enable';\n    this.selectedBFForSelfApprove = bf;\n  }\n\n  /**\n   * Changed response object when self approval item changed\n   * @param event -  SelfApprovalPolicies\n   */\n  onSelfApproveChanges(event: SelfApprovalPolicies) {\n    this.selfApprovalPolicies = this.selfApprovalPolicies?.filter((obj: SelfApprovalPolicies) => {\n      return obj.businessFunctionName !== event.businessFunctionName;\n    });\n    if (this.selfApprovalPolicies && this.selfApprovalPolicies.length) {\n      this.selfApprovalPolicies.push(event);\n    } else {\n      this.selfApprovalPolicies = [];\n      this.selfApprovalPolicies.push(event);\n    }\n    this.emitRequestObject();\n  }\n}\n","<div\n  *ngIf=\"_userPermissions && dataGroups\"\n  [attr.data-role]=\"_userPermissions.name + '-container'\"\n  class=\"bb-user-permission-item bb-block bb-block--sm\">\n  <div class=\"bb-block bb-block--sm\">\n    <div class=\"bb-stack\">\n      <div class=\"bb-stack__item bb-stack__item--align-bottom bb-heading-3 break-word\">\n        {{ _userPermissions.name }}\n      </div>\n\n      <div class=\"bb-stack__item\" *ngIf=\"showFunctionGroupType\">\n        <bb-badge-ui\n          *ngIf=\"_userPermissions.type === 'TEMPLATE'\"\n          data-role=\"function-group-reference-badge\"\n          color=\"secondary\"\n          text=\"Reference\"\n          i18n-text=\"Reference function group@@user-permissions-item.function-group.type.reference\">\n        </bb-badge-ui>\n\n        <bb-badge-ui\n          *ngIf=\"_userPermissions.type === 'REGULAR'\"\n          data-role=\"function-group-custom-badge\"\n          color=\"secondary\"\n          text=\"Custom\"\n          i18n-text=\"Custom function group@@user-permissions-item.function-group.type.regular\">\n        </bb-badge-ui>\n\n        <bb-badge-ui\n          *ngIf=\"$any(_userPermissions.type) === 'SYSTEM'\"\n          data-role=\"function-group-system-badge\"\n          color=\"secondary\"\n          text=\"System\"\n          i18n-text=\"System function group@@user-permissions-item.function-group.type.System\">\n        </bb-badge-ui>\n      </div>\n\n      <div class=\"bb-stack__item bb-stack__item--push-right bb-stack__item--no-shrink\">\n        <button\n          [attr.data-role]=\"'unassign-function-group-' + _userPermissions.name\"\n          *ngIf=\"showActions && $any(_userPermissions.type) !== 'SYSTEM'\"\n          bbButton\n          (click)=\"onRemoveFunctionGroup()\"\n          color=\"link\"\n          buttonSize=\"sm\">\n          <span i18n=\"Unassign job role@@user-permissions-item.label.unassign-function-group\"> Unassign job role </span>\n        </button>\n        <ng-container *ngIf=\"$any(_userPermissions.type) === 'SYSTEM'\">\n          <bb-badge-ui\n            data-role=\"locked-badge\"\n            i18n=\"Locked@@user-permissions-item.locked.budge.text\"\n            text=\"Locked\"\n            color=\"secondary\"\n            [abbr]=\"false\"\n            [circle]=\"false\"></bb-badge-ui>\n          <bb-icon-ui data-role=\"locked-icon\" class=\"bb-text-support align-middle\" name=\"lock\" size=\"md\"></bb-icon-ui>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n  <div data-role=\"function-group-description\" class=\"bb-block bb-block--md bb-text-support break-word\">\n    {{ _userPermissions.description }}\n  </div>\n\n  <ng-container *ngIf=\"showApprovalLevel\">\n    <ng-container *ngIf=\"!approvalLevelLoading; else loadingTmp\">\n      <ng-container *ngIf=\"approvalLevel !== approvalLevelStatus.ERROR; else errorTmp\">\n        <div class=\"bb-block bb-block--md\" data-role=\"approval-level-info\">\n          <div class=\"bb-stack\">\n            <div class=\"bb-stack__item bb-stack__item--spacing-sm bb-stack__item--align-bottom\">\n              <bb-icon-ui\n                *ngIf=\"approvalLevel && $any(approvalLevel !== approvalLevelStatus.EMPTY); else noApprovalLevelIcon\"\n                name=\"authorizations\"\n                size=\"md\"\n                data-role=\"approval-level-icon\"></bb-icon-ui>\n              <ng-template #noApprovalLevelIcon>\n                <bb-icon-ui name=\"warning\" size=\"md\" color=\"warning\" data-role=\"no-approval-level-icon\"></bb-icon-ui>\n              </ng-template>\n            </div>\n            <div class=\"bb-stack__item bb-stack__item--align-top\">\n              <span\n                *ngIf=\"approvalLevel && $any(approvalLevel !== approvalLevelStatus.EMPTY); else noApprovalLevel\"\n                data-role=\"approval-level-details\"\n                i18n=\"Approval level type@@user-permissions-item.approval-level.info\"\n                class=\"bb-text-bold bb-text-support text-small\">\n                Approval level \"{{ approvalLevel }}\"\n              </span>\n              <ng-template #noApprovalLevel>\n                <span\n                  data-role=\"no-approval-level-assigned\"\n                  i18n=\"No approval level warning@@@user-permissions-item.approval-level.no-assigned\"\n                  class=\"bb-text-bold text-small text-warning\">\n                  No approval level\n                </span>\n              </ng-template>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n\n  <ng-template #loadingTmp>\n    <bb-loading-indicator-ui\n      data-role=\"approval-level-loading-spinner\"\n      loaderSize=\"sm\"\n      [inline]=\"true\"></bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-template #errorTmp>\n    <div class=\"bb-stack\" data-role=\"approval-level-error\">\n      <bb-icon-ui\n        class=\"bb-stack__item bb-stack__item--spacing-sm bb-stack__item--align-bottom\"\n        name=\"warning\"\n        color=\"danger\"\n        size=\"md\"></bb-icon-ui>\n      <span\n        class=\"bb-text-bold text-small text-danger\"\n        i18n=\"Approval level error@@user-permissions-item.approval-level.error\">\n        Could not retrieve approval level\n      </span>\n    </div>\n  </ng-template>\n\n  <div class=\"bb-block bb-block--md bb-text-support\">\n    <bb-function-group-time-bounds [functionGroup]=\"_userPermissions\"></bb-function-group-time-bounds>\n  </div>\n\n  <div class=\"bb-block bb-block--sm\">\n    <u\n      class=\"bb-text-semi-bold bb-subtitle break-word\"\n      i18n=\"Permissions Within@@user-permissions-item.label.permissionsWithin\">\n      Permissions within '{{ _userPermissions.name }}'\n    </u>\n  </div>\n\n  <div class=\"bb-block bb-block--md\" *ngFor=\"let bfGroups of _userPermissions.groupedBusinessFunctions\">\n    <div class=\"bb-stack bb-block bb-block--md row no-gutters\">\n      <div class=\"bb-stack__item bb-stack__item--spacing-none bb-text-semi-bold col-3\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            businessFunctionGroupKeyTemplate?.templateRef || null;\n            context: { groupKey: bfGroups.groupKey }\n          \">\n        </ng-container>\n      </div>\n\n      <bb-business-function-privileges-name\n        class=\"col-6 bb-user-permission-item__business-function-privileges-name bb-subheader bb-subheader--regular\">\n      </bb-business-function-privileges-name>\n      <div\n        class=\"bb-user-permission-item__business-function-privileges-name bb-subheader bb-subheader--regular col-3\"\n        *ngIf=\"enableSelfApproval\"\n        data-role=\"self-approval-header\">\n        <span\n          [attr.data-role]=\"'self-approval-header-for-' + bfGroups.groupKey\"\n          class=\"bb-business-function-privilege-name-item bb-text-align-center\"\n          i18n=\"Self Approval header text@@user-permissions-item.self-approval.header.text\"\n          >Self Approve</span\n        >\n      </div>\n    </div>\n\n    <div *ngFor=\"let bf of bfGroups.businessFunctions\" class=\"bb-stack bb-block bb-block--md row no-gutters\">\n      <div class=\"bb-stack__item bb-stack__item--spacing-none col-3\">\n        <div class=\"bb-user-permission-item__function-item__label bb-subtitle\">\n          <ng-container\n            *ngTemplateOutlet=\"businessFunctionTemplate?.templateRef || null; context: { businessFunction: bf }\">\n          </ng-container>\n        </div>\n      </div>\n\n      <bb-privilege-indicator-list\n        class=\"bb-stack col-6\"\n        [businessFunction]=\"bf\"\n        [limitData]=\"limitData\"\n        [userPermission]=\"userLimitsPermission\"\n        [functionGroupId]=\"_userPermissions.id\"\n        (emitLimitData)=\"emitLimit($event, bf.name, _userPermissions.name)\">\n      </bb-privilege-indicator-list>\n\n      <div\n        class=\"col-3 bb-block bb-subheader bb-subheader--regular\"\n        data-role=\"self-approval-info-block\"\n        *ngIf=\"checkIfSelfApprove(bf.privileges) && enableSelfApproval\">\n        <div [attr.data-role]=\"'self-approval-for-' + bf.name\">\n          <div class=\"bb-inline-stack\">\n            <ng-container\n              *ngIf=\"\n                checkIfSelfApprovalDisabled(bf.name) ||\n                (!checkIfSelfApprovalPoliciesSetted(bf.name) && selfApproveDefaultBehavior !== 'enable')\n              \">\n              <bb-icon-ui\n                class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-text-support\"\n                name=\"cancel\"\n                size=\"sm\"\n                color=\"support\"></bb-icon-ui>\n              <span\n                data-role=\"self-approval-disabled-indicator\"\n                i18n=\"\n                  Self Approval disabled indicator text@@user-permissions-item.self-approval.disabled.indicator.text\"\n                class=\"bb-inline-stack__item bb-inline-stack__item--spacing-lg bb-text-support\">\n                Disabled\n              </span>\n            </ng-container>\n\n            <ng-container\n              *ngIf=\"\n                !checkIfSelfApprovalDisabled(bf.name) &&\n                (checkIfSelfApprovalPoliciesSetted(bf.name) || selfApproveDefaultBehavior === 'enable')\n              \">\n              <bb-icon-ui\n                class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-text-bold\"\n                name=\"authorizations\"\n                size=\"sm\"\n                color=\"support\"></bb-icon-ui>\n              <span\n                data-role=\"self-approval-enabled-indicator\"\n                i18n=\"Self Approval enabled indicator text@@user-permissions-item.self-approval.enabled.indicator.text\"\n                class=\"bb-inline-stack__item bb-inline-stack__item--spacing-lg bb-text-bold\">\n                Enabled\n              </span>\n            </ng-container>\n\n            <ng-container\n              *ngIf=\"\n                !checkIfSelfApprovalDisabled(bf.name) &&\n                (checkIfSelfApprovalPoliciesSetted(bf.name) || selfApproveDefaultBehavior === 'enable') &&\n                editView\n              \">\n              <button bbButton color=\"link-text\" data-role=\"self-approve-edit-button\" (click)=\"editSelfApprove(bf)\">\n                <ng-container *ngIf=\"checkIfSelfApproveLimitsSupport(bf.privileges); else disabledButton\">\n                  <bb-icon-ui\n                    class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-text-bold\"\n                    name=\"edit\"\n                    size=\"sm\"></bb-icon-ui>\n                  <span\n                    class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-subheader bb-subheader--regular\"\n                    i18n=\"Self Approval edit button text@@user-permissions-item.self-approval.edit.button.text\">\n                    Edit\n                  </span>\n                </ng-container>\n                <ng-template #disabledButton>\n                  <bb-icon-ui\n                    class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-text-bold\"\n                    name=\"cancel\"\n                    size=\"sm\"\n                    color=\"danger\"></bb-icon-ui>\n                  <span\n                    class=\"\n                      bb-inline-stack__item bb-inline-stack__item--spacing-none\n                      bb-subheader bb-subheader--regular\n                      bb-text-danger\n                    \"\n                    i18n=\"Self Approval disable button text@@user-permissions-item.self-approval.disable.button.text\">\n                    Disable\n                  </span>\n                </ng-template>\n              </button>\n            </ng-container>\n\n            <ng-container\n              *ngIf=\"\n                (checkIfSelfApprovalDisabled(bf.name) ||\n                  (!checkIfSelfApprovalPoliciesSetted(bf.name) && selfApproveDefaultBehavior !== 'enable')) &&\n                editView\n              \">\n              <button bbButton color=\"link-text\" data-role=\"self-approve-enable-button\" (click)=\"enableSelfApprove(bf)\">\n                <bb-icon-ui\n                  class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-text-bold\"\n                  name=\"edit\"\n                  size=\"sm\"></bb-icon-ui>\n                <span\n                  class=\"bb-inline-stack__item bb-inline-stack__item--spacing-none bb-subheader bb-subheader--regular\"\n                  i18n=\"Self Approval enable button text@@user-permissions-item.self-approval.enable.button.text\">\n                  Enable\n                </span>\n              </button>\n            </ng-container>\n          </div>\n          <ng-container *ngIf=\"checkIfSelfApproveLimitsSupport(bf.privileges)\">\n            <div\n              class=\"bb-block bb-text-bold bb-text-support\"\n              *ngFor=\"let bound of getBoundsForSelfApprove(bf.name)\"\n              data-role=\"self-approve-bound\">\n              <span>0 - </span>\n              <bb-amount-ui\n                data-role=\"self-approve-bound-amount\"\n                [amount]=\"$any(bound.amount)\"\n                [mapCurrency]=\"true\"\n                [showPlusSign]=\"false\"\n                [abbreviate]=\"false\"></bb-amount-ui>\n              <span> {{ bound.currencyCode }}</span>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n\n      <div\n        class=\"bb-user-permission-item__function-item__label\"\n        data-role=\"self-approve-not-applicable-icon\"\n        *ngIf=\"!checkIfSelfApprove(bf.privileges) && enableSelfApproval\">\n        <bb-icon-ui\n          name=\"remove\"\n          [color]=\"'muted'\"\n          aria-label=\"Not applicable for this business function\"\n          i18n-aria-label=\"Not applicable aria label@@user-permissions-item.self-approve.aria.not-applicable\"\n          bbTooltip=\"Not applicable for this function\"\n          i18n-bbTooltip=\"Not applicable tooltip@@user-permissions-item.self-approve..tooltip.not-applicable\"\n          triggers=\"hover\"></bb-icon-ui>\n      </div>\n    </div>\n  </div>\n  <bb-self-approve-modal\n    *ngIf=\"selectedBFForSelfApprove\"\n    [isOpen]=\"$any(selectedBFForSelfApprove)\"\n    [user]=\"user\"\n    [bf]=\"selectedBFForSelfApprove\"\n    [jobRoleName]=\"_userPermissions.name\"\n    [type]=\"typeOfSelfApproveAction\"\n    [selfApproveItemData]=\"selfApproveItemData\"\n    [isLimitSupport]=\"checkIfSelfApproveLimitsSupport(selectedBFForSelfApprove.privileges)\"\n    [currencyList]=\"currencyList\"\n    (cancel)=\"selectedBFForSelfApprove = undefined\"\n    (selfApprovalDataEmit)=\"onSelfApproveChanges($event); selectedBFForSelfApprove = undefined\"\n    data-role=\"self-approve-modal\">\n  </bb-self-approve-modal>\n\n  <!--different view, will be added after release MVP-->\n  <ng-template>\n    <div class=\"bb-stack\">\n      <div class=\"btn-group btn-group-sm bb-stack__item bb-stack__item--push-right\" data-role=\"btn-group-sm-icons\">\n        <button (click)=\"activeView = 'table'\" [color]=\"activeView === 'table' ? 'primary' : 'secondary'\" bbButton>\n          <bb-icon-ui name=\"view-module\"></bb-icon-ui>\n        </button>\n        <button (click)=\"activeView = 'list'\" [color]=\"activeView === 'list' ? 'primary' : 'secondary'\" bbButton>\n          <bb-icon-ui name=\"list\"></bb-icon-ui>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"row m-0\" *ngIf=\"activeView === 'list'\">\n      <div\n        [ngClass]=\"{ 'col-8': allLinkedPayee?.length, 'col-12': !allLinkedPayee?.length }\"\n        class=\"bb-account-group-item col-8\">\n        <div class=\"card bb-account-group-item__card\" *ngIf=\"!($any(_userPermissions.type) === 'SYSTEM')\">\n          <div class=\"card-body\">\n            <div class=\"bb-block bb-block--sm\">\n              <u\n                class=\"bb-text-semi-bold bb-subtitle\"\n                i18n=\"Account Groups Assigned@@user-permissions-item.label.accountGroupsAssigned\">\n                { dataGroups.length, plural, =0 { No account groups assigned } =1 { 1 account group assigned } other {\n                {{ dataGroups.length }} account groups assigned } }\n              </u>\n            </div>\n\n            <div *ngIf=\"dataGroups.length\" class=\"row\">\n              <div *ngFor=\"let dataGroup of dataGroups\" class=\"col-4\">\n                <div\n                  class=\"bb-stack bb-block bb-block--md bb-account-group-item__card__item\"\n                  data-role=\"assigned-data-group-item\"\n                  [ngClass]=\"{ 'bb-account-group-item__card__item--active rounded': dataGroup === selectedDg }\">\n                  <bb-icon-ui\n                    class=\"bb-stack__item bb-stack__item--spacing-sm\"\n                    *ngIf=\"!showActions\"\n                    name=\"check\"\n                    color=\"success\"></bb-icon-ui>\n                  <button\n                    *ngIf=\"showActions\"\n                    bbButton\n                    (click)=\"onRemoveDataGroup(dataGroup)\"\n                    color=\"link\"\n                    [circle]=\"true\"\n                    aria-label=\"Remove account group\"\n                    class=\"bb-stack__item bb-stack__item--spacing-sm\"\n                    i18n-aria-label=\"Remove account group@@user-permissions-item.label.remove-account-group\"\n                    [attr.data-role]=\"'user-permissions-item-data-group-name-' + dataGroup.name\">\n                    <bb-icon-ui name=\"delete\" color=\"dark\"></bb-icon-ui>\n                  </button>\n                  <span\n                    class=\"bb-stack__item bb-subtitle break-word\"\n                    data-role=\"assigned-data-group\"\n                    [ngClass]=\"{ 'text-primary': checkInclude(dataGroup['payees']) }\">\n                    {{ dataGroup.name }}\n                  </span>\n                  <bb-icon-ui\n                    class=\"bb-account-group-item__card__item--link\"\n                    *ngIf=\"dataGroup['payees'] && dataGroup['payees'].length\"\n                    name=\"link\"\n                    color=\"primary\"\n                    (click)=\"showLinkedPayee(dataGroup)\"\n                    data-role=\"linked-button\"></bb-icon-ui>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div *ngIf=\"allLinkedPayee && allLinkedPayee.length\" class=\"bb-linked-item\">\n        <div class=\"bb-linked-item__icon\">\n          <bb-icon-ui\n            circle=\"true\"\n            data-role=\"unlinked-button\"\n            backgroundType=\"circle\"\n            name=\"link\"\n            [inverse]=\"true\"\n            size=\"lg\"\n            (click)=\"selectedDg = undefined; selectedPg = undefined\"></bb-icon-ui>\n        </div>\n      </div>\n\n      <div class=\"col-4 bb-payee-group-item\" *ngIf=\"allLinkedPayee && allLinkedPayee.length\" data-role=\"linked-payees\">\n        <div class=\"card bb-payee-group-item__card\">\n          <div class=\"card-body\">\n            <div *ngIf=\"selectedDg\" data-role=\"selected-payees\">\n              <p\n                class=\"bb-subtitle bb-text-semi-bold\"\n                i18n=\"All Payee Groups Linked@@user-permissions-item.label.allPayeesLinked\">\n                { selectedDg?.payees?.length, plural, =1 { 1/{{ allLinkedPayee.length }} payee group linked } other {\n                {{ selectedDg?.payees?.length }}/{{ allLinkedPayee.length }} payee groups linked to } }\n                <b>{{ selectedDg?.name }}</b>\n              </p>\n              <p\n                *ngFor=\"let payeeGroup of selectedDg?.payees\"\n                class=\"bb-subtitle bb-payee-group-item__card__item rounded\"\n                (click)=\"selectedPG(payeeGroup)\">\n                <bb-icon-ui name=\"check\" *ngIf=\"selectedPg?.id !== payeeGroup.id\" class=\"align-bottom\"></bb-icon-ui>\n                <bb-icon-ui\n                  name=\"radio-button-checked\"\n                  *ngIf=\"selectedPg?.id === payeeGroup.id\"\n                  class=\"align-bottom\"></bb-icon-ui>\n                {{ payeeGroup.name }}\n              </p>\n            </div>\n\n            <div *ngIf=\"!selectedDg\" data-role=\"all-payees\">\n              <p\n                class=\"bb-subtitle bb-text-semi-bold\"\n                i18n=\"Selected Payee Groups Linked@@user-permissions-item.label.selectedPayeesLinked\">\n                { allLinkedPayee.length, plural, =1 { 1 payee group linked } other { {{ allLinkedPayee.length }} payee\n                groups linked } }\n              </p>\n              <p\n                *ngFor=\"let payeeGroup of allLinkedPayee\"\n                class=\"bb-subtitle bb-payee-group-item__card__item rounded\"\n                (click)=\"selectedPG(payeeGroup)\">\n                <bb-icon-ui name=\"check\" *ngIf=\"selectedPg?.id !== payeeGroup.id\" class=\"align-bottom\"></bb-icon-ui>\n                <bb-icon-ui\n                  name=\"radio-button-checked\"\n                  *ngIf=\"selectedPg?.id === payeeGroup.id\"\n                  class=\"align-bottom\"></bb-icon-ui>\n                {{ payeeGroup.name }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n  <!--different view, will be added after release MVP-->\n  <div class=\"card\" *ngIf=\"activeView === 'table'\">\n    <div\n      class=\"card-body\"\n      *ngIf=\"!($any(_userPermissions.type) === 'SYSTEM')\"\n      [attr.data-role]=\"'card-body-' + _userPermissions.name\">\n      <div *ngIf=\"!dataGroups.length\">\n        <div class=\"bb-block bb-block--sm\" data-role=\"no-assigned-item\">\n          <u\n            class=\"bb-text-semi-bold bb-subtitle\"\n            i18n=\"No Account Groups Assigned@@user-permissions-item.label.noAccountGroupsAssigned\">\n            No account groups assigned\n          </u>\n        </div>\n      </div>\n\n      <div *ngIf=\"dataGroups.length\">\n        <div\n          class=\"btn-group btn-group-sm bb-stack__item\"\n          data-role=\"btn-group-for-type-of-group\"\n          *ngIf=\"allLinkedPayee && allLinkedPayee.length\">\n          <button\n            (click)=\"activeDataGroup = 'account'\"\n            [color]=\"activeDataGroup === 'account' ? 'primary' : 'secondary'\"\n            bbButton\n            data-role=\"account-group-button\"\n            i18n=\"Account group toggle button@@user-permissions-item.toggle-button.account-group\">\n            Account Groups ({{ dataGroups.length }})\n          </button>\n          <button\n            (click)=\"activeDataGroup = 'payee'\"\n            [color]=\"activeDataGroup === 'payee' ? 'primary' : 'secondary'\"\n            bbButton\n            data-role=\"payee-group-button\"\n            i18n=\"Payee group toggle button@@user-permissions-item.toggle-button.payee-group\">\n            Payee Groups ({{ allLinkedPayee.length }})\n          </button>\n        </div>\n        <table\n          class=\"table table-striped table-hover table-fixed\"\n          bbTableFocus\n          [bbTable]=\"dataGroups\"\n          [attr.data-role]=\"'assigned-table-' + _userPermissions.name\">\n          <caption\n            class=\"sr-only\"\n            i18n=\"Linked Account Group Table@@user-permissions-item.linked-account-group.table.caption\">\n            Table with Account Groups linked to Payee Groups\n          </caption>\n\n          <thead>\n            <tr data-role=\"service-agreement-table-headers\">\n              <ng-container *ngIf=\"activeDataGroup === 'account'\">\n                <ng-container *ngTemplateOutlet=\"accountGroupHeader\"></ng-container>\n              </ng-container>\n\n              <th *ngIf=\"showPayee && ((allLinkedPayee && allLinkedPayee.length) || editView)\" scope=\"col\">\n                <span class=\"bb-stack\">\n                  <span\n                    i18n=\"Payee Groups table header name@@user-permissions-item.table.header.payee-group.name\"\n                    class=\"bb-stack__item bb-stack__item--spacing-sm\">\n                    Payee Groups\n                  </span>\n                  <bb-icon-ui\n                    name=\"info\"\n                    data-role=\"payee-group-info\"\n                    size=\"md\"\n                    class=\"bb-stack__item bb-text-support\"\n                    [bbTooltip]=\"payeeHeaderTooltip\"\n                    tabindex=\"0\"\n                    aria-labelledby=\"payeeTooltip\"\n                    triggers=\"hover\"></bb-icon-ui>\n                  <ng-template #payeeHeaderTooltip>\n                    <span\n                      i18n=\"\n                        Payee Groups table header tooltip\n                        text@@user-permissions-item.table.header.payee-group.tooltip.text\">\n                      These are the payee group(s) linked with account group(s) assigned to\n                      {{ _userPermissions.name }} Job Role\n                    </span>\n                  </ng-template>\n                  <span\n                    class=\"d-none\"\n                    id=\"payeeTooltip\"\n                    i18n=\"\n                      Payee Groups table header tooltip aria-label\n                      text@@user-permissions-item.table.header.payee-group.tooltip.aria-label.text\">\n                    These are the payee group(s) linked with account group(s) assigned to\n                    {{ _userPermissions.name }} Job Role\n                  </span>\n                </span>\n              </th>\n\n              <ng-template #accountGroupHeader>\n                <th scope=\"col\">\n                  <span class=\"bb-stack\">\n                    <span\n                      i18n=\"Account Groups table header name@@user-permissions-item.table.header.account-group.name\"\n                      class=\"bb-stack__item bb-stack__item--spacing-sm\">\n                      Account Groups\n                      <span *ngIf=\"!allLinkedPayee.length\" data-role=\"account-table-counter\"\n                        >({{ dataGroups.length }})</span\n                      >\n                    </span>\n                    <bb-icon-ui\n                      name=\"info\"\n                      data-role=\"account-group-info\"\n                      size=\"md\"\n                      class=\"bb-stack__item bb-text-support\"\n                      [bbTooltip]=\"accountHeaderTooltip\"\n                      tabindex=\"0\"\n                      aria-labelledby=\"accountTooltip\"\n                      triggers=\"hover\"></bb-icon-ui>\n                    <ng-template #accountHeaderTooltip>\n                      <span\n                        i18n=\"\n                          Account Groups table header tooltip\n                          text@@user-permissions-item.table.header.account-group.tooltip.text\">\n                        These are the account group(s) assigned to {{ _userPermissions.name }} Job Role\n                      </span>\n                    </ng-template>\n                    <span\n                      class=\"d-none\"\n                      id=\"accountTooltip\"\n                      i18n=\"\n                        Account Groups table header tooltip aria-label\n                        text@@user-permissions-item.table.header.account-group.tooltip.aria-label.text\">\n                      These are the account group(s) assigned to {{ _userPermissions.name }} Job Role\n                    </span>\n                  </span>\n                </th>\n              </ng-template>\n\n              <ng-container *ngIf=\"activeDataGroup === 'payee'\">\n                <ng-container *ngTemplateOutlet=\"accountGroupHeader\"></ng-container>\n              </ng-container>\n            </tr>\n          </thead>\n\n          <tbody *ngIf=\"activeDataGroup === 'account'\" data-role=\"account-table-body\">\n            <tr *ngFor=\"let dataGroup of dataGroups\" [bbRow]=\"dataGroup\" data-role=\"service-agreement-table-info\">\n              <td data-role=\"account-table-data-group-row\">\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    removeAccountGroupBtn;\n                    context: { $implicit: dataGroup, icon: 'remove-circle', size: 'md' }\n                  \"></ng-container>\n                <u role=\"button\" class=\"text-primary\" (bbKeyboardClick)=\"openAccountGroupDetail(dataGroup)\" tabindex=\"0\"\n                  >{{ dataGroup.name }}\n                  <i triggers=\"hover\" [bbTooltip]=\"accountNumberTooltip\" class=\"bb-text-bold\"\n                    >({{ dataGroup.items?.length }})</i\n                  >\n                </u>\n              </td>\n              <td\n                *ngIf=\"showPayee && ((allLinkedPayee && allLinkedPayee.length) || editView)\"\n                data-role=\"account-table-payee-row\">\n                <div class=\"bb-stack\">\n                  <div class=\"bb-stack__item bb-stack--center\">\n                    <ng-container\n                      *ngTemplateOutlet=\"\n                        assignPayeeBtn;\n                        context: { dataGroup: dataGroup, payees: dataGroup['payees'] }\n                      \"></ng-container>\n                  </div>\n                  <div class=\"bb-stack__item\">\n                    <ng-container *ngFor=\"let payee of dataGroup['payees']; let isLast = last\">\n                      <div class=\"bb-inline-stack bb-inline-stack__item--spacing-sm bb-text-nowrap\">\n                        <ng-container\n                          *ngTemplateOutlet=\"\n                            removePayeeBtn;\n                            context: { payee: payee, dataGroup: dataGroup, icon: 'clear', size: 'sm' }\n                          \"></ng-container>\n                        <span\n                          [attr.data-role]=\"'payee-item-account-table-' + dataGroup.name\"\n                          (bbKeyboardClick)=\"openPayeeGroupDetail(payee)\"\n                          class=\"text-primary\"\n                          role=\"button\"\n                          tabindex=\"0\">\n                          {{ payee.name\n                          }}<i triggers=\"hover\" [bbTooltip]=\"contactNumberTooltip\" class=\"bb-text-bold\" role=\"button\">\n                            ({{ payee.items?.length }})\n                          </i>\n                          <span *ngIf=\"!editView && !isLast\"> , </span>\n                        </span>\n                      </div>\n                    </ng-container>\n\n                    <span\n                      i18n=\"Not assigned payee groups@@user-permissions-item.table.no-assigned.text\"\n                      class=\"bb-text-support\"\n                      *ngIf=\"!dataGroup['payees'] || !dataGroup['payees'].length\">\n                      Not assigned\n                    </span>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <tbody *ngIf=\"activeDataGroup === 'payee'\" data-role=\"payee-table-body\">\n            <tr *ngFor=\"let payee of allLinkedPayee\" [bbRow]=\"payee\" data-role=\"service-agreement-table-info\">\n              <td data-role=\"payee-table-payee-row\">\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    removePayeeLinkingBtn;\n                    context: {\n                      payee: payee,\n                      dataGroups: getAccountGroupLinkedString(payee),\n                      icon: 'remove-circle',\n                      size: 'md'\n                    }\n                  \"></ng-container>\n                <u\n                  role=\"button\"\n                  class=\"text-primary\"\n                  [attr.data-role]=\"'payee-name-' + payee.name\"\n                  (bbKeyboardClick)=\"openPayeeGroupDetail(payee)\"\n                  tabindex=\"0\"\n                  >{{ payee.name\n                  }}<i triggers=\"hover\" [bbTooltip]=\"contactNumberTooltip\" class=\"bb-text-bold\" role=\"button\"\n                    >({{ payee.items.length }})</i\n                  ></u\n                >\n              </td>\n              <td data-role=\"payee-table-data-group-row\">\n                <div class=\"bb-stack\">\n                  <div class=\"bb-stack__item bb-stack--center\">\n                    <ng-container\n                      *ngTemplateOutlet=\"assignAccountGroupToPayeeBtn; context: { payee: payee }\"></ng-container>\n                  </div>\n                  <div class=\"bb-stack__item\">\n                    <ng-container *ngFor=\"let account of getAccountGroupLinked(payee); let isLast = last\">\n                      <div class=\"bb-inline-stack bb-text-nowrap\">\n                        <ng-container\n                          *ngTemplateOutlet=\"\n                            removeAccountGroupFromPayeeBtn;\n                            context: {\n                              payee: payee,\n                              dataGroup: account,\n                              dataGroupLength: getAccountGroupLinked(payee).length,\n                              icon: 'clear',\n                              size: 'sm'\n                            }\n                          \"></ng-container>\n                        <span data-role=\"payee-table-account-item\">\n                          <span\n                            class=\"text-primary\"\n                            role=\"button\"\n                            [attr.data-role]=\"'payee-table-account-item-' + payee.name\"\n                            (bbKeyboardClick)=\"openAccountGroupDetail(account)\"\n                            tabindex=\"0\"\n                            >{{ account.name }}\n                            <i triggers=\"hover\" [bbTooltip]=\"accountNumberTooltip\" class=\"bb-text-bold\"\n                              >({{ account.items.length }})</i\n                            >\n                          </span>\n                          <span *ngIf=\"!editView && !isLast\"> , </span>\n                        </span>\n                      </div>\n                    </ng-container>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"bb-stack__item bb-stack__item--align-top\">\n        <div\n          *ngIf=\"editView && activeDataGroup === 'account'\"\n          class=\"bb-block bb-block--sm bb-stack bb-stack--density-sm\">\n          <button bbButton color=\"link\" buttonSize=\"md\" data-role=\"add-account-groups-btn\" (click)=\"addAccountGroup()\">\n            <bb-icon-ui name=\"add\" [cropped]=\"true\"></bb-icon-ui>\n            <span i18n=\"Add Account Group@@user-permissions-item.label.add-account-group\">Add Account Groups</span>\n          </button>\n        </div>\n        <button\n          bbButton\n          (click)=\"onEditPayee()\"\n          *ngIf=\"!editView && !editedFunctionId && showActions\"\n          color=\"link\"\n          data-role=\"edit-payees-button\"\n          i18n=\"Edit payees button@@user-permissions-item.button.edit-payees\">\n          edit\n        </button>\n        <div *ngIf=\"editView && !showActions\" class=\"bb-button-bar bb-button-bar--reverse\">\n          <button\n            data-role=\"save-linking\"\n            class=\"bb-button-bar__button\"\n            (click)=\"onSave()\"\n            bbButton\n            color=\"primary\"\n            type=\"button\"\n            [disabled]=\"checkChanges()\">\n            <span i18n=\"Save button|Button to save form @@user-permissions-item.saveButton\"> Save </span>\n          </button>\n          <button\n            data-role=\"cancel-linking\"\n            class=\"bb-button-bar__button\"\n            bbButton\n            type=\"button\"\n            (click)=\"onCancel()\"\n            color=\"secondary\">\n            <span i18n=\"Cancel Button|Button to cancel @@user-permissions-item.cancelButton\"> Cancel </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <bb-payee-group-detail-modal\n    *ngIf=\"dataGroups.length\"\n    [targetSaId]=\"_userPermissions.serviceAgreementId\"\n    [isOpen]=\"payeeDetailModal\"\n    [payeeIds]=\"payeeIds\"\n    [payeeGroupName]=\"payeeGroupName\"\n    (cancel)=\"payeeDetailModal = false\"\n    data-role=\"payee-detail-modal\"></bb-payee-group-detail-modal>\n\n  <bb-account-group-detail-modal\n    *ngIf=\"dataGroups.length\"\n    [isOpen]=\"accountDetailModal\"\n    [accountIds]=\"accountIds\"\n    [accountGroupName]=\"accountGroupName\"\n    (cancel)=\"accountDetailModal = false\"\n    [legalEntityIds]=\"$any([legalEntityId])\"\n    data-role=\"account-detail-modal\"></bb-account-group-detail-modal>\n</div>\n\n<ng-template #removePayeeBtn let-payee=\"payee\" let-dataGroup=\"dataGroup\" let-icon=\"icon\" let-size=\"size\">\n  <button\n    *ngIf=\"editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"removedPayeeGroup(payee, dataGroup)\"\n    [bbTooltip]=\"removePayeeGroupTooltip\"\n    [circle]=\"true\"\n    [buttonSize]=\"size\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Remove payee group\"\n    i18n-aria-label=\"Remove payee group@@user-permissions-item.label.remove-payee-group\"\n    data-role=\"assign-payee-group-button\"\n    [attr.data-role]=\"'remove-payee-group-' + payee.name + dataGroup.name\">\n    <bb-icon-ui [name]=\"icon\" color=\"danger\"></bb-icon-ui>\n  </button>\n\n  <ng-template #removePayeeGroupTooltip>\n    <span i18n=\"Remove payee group tooltip text@@user-permissions-item.remove-payee-group.btn.tooltip.text\">\n      Remove '{{ payee.name }}' Payee Group from '{{ dataGroup.name }}' Account Group\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #removePayeeLinkingBtn let-payee=\"payee\" let-dataGroups=\"dataGroups\" let-icon=\"icon\" let-size=\"size\">\n  <button\n    *ngIf=\"editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"onOpenUnassignModal(payee)\"\n    [bbTooltip]=\"unassignPayeeGroupTooltip\"\n    [circle]=\"true\"\n    [buttonSize]=\"size\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Remove payee group linking\"\n    i18n-aria-label=\"Remove payee group linking@@user-permissions-item.label.remove-payee-group-linking\"\n    data-role=\"assign-payee-group-button\"\n    [attr.data-role]=\"'payee-unlink-button-' + payee.name\">\n    <bb-icon-ui [name]=\"icon\" color=\"danger\"></bb-icon-ui>\n  </button>\n  <bb-unassign-data-group-modal\n    [isOpen]=\"dataGroupForRemove && dataGroupForRemove.id === payee.id\"\n    [jobRole]=\"_userPermissions?.name\"\n    [activeDataGroup]=\"'payee'\"\n    [payeeGroupName]=\"payee.name\"\n    [accountGroupName]=\"dataGroups\"\n    (confirm)=\"removePayeeGroupLinking(payee)\"\n    (cancel)=\"dataGroupForRemove = undefined\"\n    data-role=\"unnasign-payee-modal\"></bb-unassign-data-group-modal>\n\n  <ng-template #unassignPayeeGroupTooltip>\n    <span i18n=\"Unassign payee group tooltip text@@user-permissions-item.unassign-payee-group.btn.tooltip.text\">\n      Remove '{{ payee.name }}' Payee Group from Account Group(s)\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #assignPayeeBtn let-dataGroup=\"dataGroup\" let-payees=\"payees\">\n  <button\n    *ngIf=\"editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"assignPayee(payees, dataGroup)\"\n    [bbTooltip]=\"assignPayeeTooltip\"\n    [circle]=\"true\"\n    buttonSize=\"md\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Assign payee group\"\n    i18n-aria-label=\"Assign payee group@@user-permissions-item.label.assign-payee-group\"\n    [attr.data-role]=\"'assign-payee-group-' + dataGroup.name\">\n    <bb-icon-ui name=\"add-circle\" color=\"primary\"></bb-icon-ui>\n  </button>\n  <ng-template #assignPayeeTooltip>\n    <span i18n=\"Add payee group(s) tooltip text@@user-permissions-item.add-payee-group.btn.tooltip.text\">\n      Add payee group(s) to '{{ dataGroup.name }}' Account Group\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #assignAccountGroupToPayeeBtn let-payee=\"payee\">\n  <button\n    *ngIf=\"editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"addAccountGroupToPayee(payee)\"\n    [bbTooltip]=\"assignAccountGroupToPayeeTooltip\"\n    [circle]=\"true\"\n    buttonSize=\"md\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Assign account group to payee\"\n    i18n-aria-label=\"Assign account group to payee group@@user-permissions-item.label.assign-account-group-to-payee\"\n    [attr.data-role]=\"'link-account-group-to-payee-' + payee.name\">\n    <bb-icon-ui name=\"add-circle\" color=\"primary\"></bb-icon-ui>\n  </button>\n  <ng-template #assignAccountGroupToPayeeTooltip>\n    <span\n      i18n=\"\n        Assign Account Group to Payee tooltip text@@user-permissions-item.assign-account-group-to-payee.btn.tooltip.text\">\n      Add '{{ payee.name }}' Payee Group to Account Group(s)\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #removeAccountGroupBtn let-dataGroup let-icon=\"icon\" let-size=\"size\">\n  <button\n    *ngIf=\"showActions || editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"onOpenUnassignModal(dataGroup)\"\n    [bbTooltip]=\"removeAccountGroupTooltip\"\n    [circle]=\"true\"\n    [buttonSize]=\"size\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Remove account group\"\n    i18n-aria-label=\"Remove account group@@user-permissions-item.label.remove-account-group\"\n    [attr.data-role]=\"'user-permissions-item-data-group-name-' + dataGroup.name\">\n    <bb-icon-ui *ngIf=\"editView\" [name]=\"icon\" color=\"danger\"></bb-icon-ui>\n  </button>\n  <bb-unassign-data-group-modal\n    [isOpen]=\"dataGroupForRemove && dataGroupForRemove.id === dataGroup.id\"\n    [accountGroupName]=\"dataGroup.name\"\n    [jobRole]=\"_userPermissions?.name\"\n    [activeDataGroup]=\"'account'\"\n    (confirm)=\"removeAccountGroup(dataGroup)\"\n    (cancel)=\"dataGroupForRemove = undefined\"\n    data-role=\"unassign-account-group-modal\"></bb-unassign-data-group-modal>\n</ng-template>\n\n<ng-template\n  #removeAccountGroupFromPayeeBtn\n  let-dataGroup=\"dataGroup\"\n  let-payee=\"payee\"\n  let-dataGroupLength=\"dataGroupLength\"\n  let-icon=\"icon\"\n  let-size=\"size\">\n  <button\n    *ngIf=\"showActions || editView\"\n    triggers=\"hover\"\n    bbButton\n    (click)=\"removedAccountGroupFromPayee(payee, dataGroup)\"\n    [bbTooltip]=\"removeAccountGroupFromPayeeTooltip\"\n    [circle]=\"true\"\n    [buttonSize]=\"size\"\n    [color]=\"$any('icon-link')\"\n    aria-label=\"Remove account group from payee\"\n    i18n-aria-label=\"Remove account group from payee@@user-permissions-item.label.remove-account-group-from-payee\"\n    [attr.data-role]=\"'unassign-account-group-from-payee-' + payee.name + dataGroup.name\">\n    <bb-icon-ui *ngIf=\"editView\" [name]=\"icon\" color=\"danger\"></bb-icon-ui>\n  </button>\n  <ng-template #removeAccountGroupFromPayeeTooltip>\n    <span\n      i18n=\"Remove Account group tooltip text@@user-permissions-item.remove-account-group-from-payee.btn.tooltip.text\">\n      Remove '{{ payee.name }}' Payee Group from '{{ dataGroup.name }}' Account Group\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #removeAccountGroupTooltip>\n  <span i18n=\"Unassign account group tooltip text@@user-permissions-item.remove-account-group.btn.tooltip.text\">\n    Unassign Account group\n  </span>\n</ng-template>\n\n<bb-select-items-modal\n  data-role=\"assign-accounts-modal\"\n  title=\"Assign Account Group(s)\"\n  i18n-title=\"Assign Account Group(s)@@user-permissions-item.select-account-groups-modal.title\"\n  itemIdProperty=\"id\"\n  submitLabel=\"Assign\"\n  i18n-submitLabel=\"Assign Account Group@@user-permissions-item.select-account-groups-modal.submit\"\n  searchPlaceholder=\"Search for Account Group(s)\"\n  i18n-searchPlaceholder=\"Search for Account Group(s)@@user-permissions-item.select-account-groups-modal.search\"\n  [(isOpen)]=\"selectAccountGroupsModalOpened\"\n  [searchEnabled]=\"true\"\n  [items]=\"$any(availableDataGroups | async)\"\n  (confirm)=\"assignDataGroups($any($event))\"\n  (search)=\"searchAvailableDataGroups($event)\">\n  <ng-template bbSelectItemsItemHeader *ngIf=\"splittedAccountsByType$ | async as splitAcc\">\n    <div class=\"bb-stack\">\n      <div\n        class=\"bb-text-bold bb-stack__item bb-subtitle\"\n        i18n=\"All@@user-permissions-item.select-account-groups-modal.header.column-all\">\n        All\n      </div>\n      <div\n        *ngIf=\"splitAcc?.wizardAccounts?.length && splitAcc?.customAccounts?.length\"\n        data-role=\"account-switcher\"\n        class=\"bb-stack__item bb-stack__item--push-right\">\n        <bb-switch-ui\n          class=\"bb-subtitle\"\n          [labelPosition]=\"'left'\"\n          label=\"Include Quick User Set Up Generated\"\n          i18n-label=\"\n            Include Quick User Set Up Generated@@user-permissions-item.select-account-groups-modal.switch.label\"\n          (change)=\"switchAccounts()\">\n        </bb-switch-ui>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template bbSelectItemsItem let-item=\"item\">\n    <div class=\"bb-stack\">\n      <div [attr.data-role]=\"'data-group-name-' + item.name\" class=\"bb-stack__item\">\n        <div class=\"bb-text-bold break-word\">{{ item.name }}</div>\n        <div class=\"bb-text-support break-word\">{{ item.description }}</div>\n      </div>\n      <div class=\"bb-stack__item bb-stack__item--push-right\" *ngIf=\"item.metadata?.generated\">\n        <bb-icon-ui [name]=\"'auto_fix_high'\" data-role=\"generated-account-icon\"></bb-icon-ui>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template bbSelectItemsEmpty>\n    <div class=\"bb-state-container bb-select-items__state\">\n      <bb-empty-state-ui\n        *ngIf=\"!(availableDataGroupsSearchTerm$ | async)\"\n        data-role=\"empty-state\"\n        title=\"No Account Groups available\"\n        i18n-title=\"No Account Groups available@@user-permissions-item.select-account-groups-modal.empty.title\"\n        subtitle=\"You can create an account group within the 'Account Groups' section.\"\n        i18n-subtitle=\"\n          You can create an account group within the 'Account Groups'\n          section.@@user-permissions-item.select-account-groups-modal.empty.subtitle\"\n        iconModifier=\"error-outline\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n\n      <bb-empty-state-ui\n        *ngIf=\"availableDataGroupsSearchTerm$ | async\"\n        data-role=\"empty-state\"\n        title=\"No search results found\"\n        i18n-title=\"No search results found@@user-permissions-item.select-account-groups-modal.search.empty.title\"\n        subtitle=\"We can't find what you're looking for. Please try a different criteria.\"\n        i18n-subtitle=\"\n          Please try a different criteria@@user-permissions-item.select-account-groups-modal.empty.search.subtitle\"\n        iconModifier=\"search\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n    </div>\n  </ng-template>\n</bb-select-items-modal>\n\n<bb-select-items-modal\n  title=\"Link Account Group(s) to &quot;{{ selectedForAssignAccountGroupForPayee?.name }}&quot; Payee Group\"\n  i18n-title=\"Link Account Group(s)@@user-permissions-item.select-account-linked-groups-modal.title\"\n  itemIdProperty=\"id\"\n  submitLabel=\"Assign\"\n  i18n-submitLabel=\"Assign Account Group@@user-permissions-item.select-account-linked-groups-modal.submit\"\n  searchPlaceholder=\"Search\"\n  i18n-searchPlaceholder=\"Search for Account Group(s)@@user-permissions-item.select-account-linked-groups-modal.search\"\n  [(isOpen)]=\"selectAccountGroupsForPayeesModalOpened\"\n  [searchEnabled]=\"true\"\n  [items]=\"$any(availableDataGroupsForPayee | async)\"\n  (confirm)=\"assignDataGroupsForPayee($event)\"\n  (search)=\"searchAvailableDataGroupsForPayees($event)\">\n  <ng-template bbSelectItemsItemHeader>\n    <div class=\"bb-text-bold\" i18n=\"All@@user-permissions-item.select-account-linked-groups-modal.header.column-all\">\n      All\n    </div>\n  </ng-template>\n\n  <ng-template bbSelectItemsItem let-item=\"item\">\n    <div [attr.data-role]=\"'data-group-name-' + item.name\">\n      <div class=\"bb-text-bold break-word\">{{ item.name }}</div>\n      <div class=\"bb-text-support break-word\">{{ item.description }}</div>\n    </div>\n  </ng-template>\n\n  <ng-template bbSelectItemsEmpty>\n    <div class=\"bb-state-container bb-select-items__state\">\n      <bb-empty-state-ui\n        *ngIf=\"!(availableDataGroupsForPayeesSearchTerm$ | async)\"\n        data-role=\"empty-state\"\n        title=\"No Account Groups available\"\n        i18n-title=\"No Account Groups available@@user-permissions-item.select-account-linked-groups-modal.empty.title\"\n        subtitle=\"All account groups assigned to &quot;{{\n          _userPermissions?.name\n        }}&quot; Job Role already linked to &quot;{{ selectedForAssignAccountGroupForPayee?.name }}&quot; payee group.\"\n        i18n-subtitle=\"All already linked.@@user-permissions-item.select-account-linked-groups-modal.empty.subtitle\"\n        iconModifier=\"error-outline\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n\n      <bb-empty-state-ui\n        *ngIf=\"availableDataGroupsForPayeesSearchTerm$ | async\"\n        data-role=\"empty-state\"\n        title=\"No search results found\"\n        i18n-title=\"\n          No search results found@@user-permissions-item.select-account-linked-groups-modal.search.empty.title\"\n        subtitle=\"We can't find what you're looking for. Please try a different criteria.\"\n        i18n-subtitle=\"\n          Please try a different\n          criteria@@user-permissions-item.select-account-linked-groups-modal.empty.search.subtitle\"\n        iconModifier=\"search\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n    </div>\n  </ng-template>\n</bb-select-items-modal>\n\n<bb-select-items-modal\n  title=\"Assign Payee Group(s) to &quot;{{ selectedForAssignAccountGroup?.name }}&quot; Account Group\"\n  i18n-title=\"Assign Payee Group(s)@@user-permissions-item.select-payee-groups-modal.title\"\n  itemIdProperty=\"id\"\n  submitLabel=\"Assign\"\n  i18n-submitLabel=\"Assign Account Group@@user-permissions-item.select-payee-groups-modal.submit\"\n  searchPlaceholder=\"Search for Payee Group(s)\"\n  i18n-searchPlaceholder=\"Search for Payee Group(s)@@user-permissions-item.select-payee-groups-modal.search\"\n  [(isOpen)]=\"selectPayeeGroupsModalOpened\"\n  [searchEnabled]=\"true\"\n  [items]=\"$any(availablePayeeGroups | async)\"\n  (confirm)=\"assignPayeeGroups($event)\"\n  (search)=\"searchAvailablePayeeGroups($event)\">\n  <ng-template bbSelectItemsItemHeader>\n    <div class=\"bb-text-bold\" i18n=\"All@@user-permissions-item.select-payee-groups-modal.header.column-all\">All</div>\n  </ng-template>\n\n  <ng-template bbSelectItemsItem let-item=\"item\">\n    <div [attr.data-role]=\"'data-group-name-' + item.name\">\n      <div class=\"bb-text-bold break-word\">{{ item.name }}</div>\n      <div class=\"bb-text-support break-word\">{{ item.description }}</div>\n    </div>\n  </ng-template>\n\n  <ng-template bbSelectItemsEmpty>\n    <div class=\"bb-state-container bb-select-items__state\">\n      <bb-empty-state-ui\n        *ngIf=\"!(availablePayeeGroupsSearchTerm$ | async)\"\n        data-role=\"empty-state\"\n        title=\"No Payee Groups available\"\n        i18n-title=\"No Payee Groups available@@user-permissions-item.select-payee-groups-modal.empty.title\"\n        subtitle=\"You can create a payee group within the 'Payee Groups' section.\"\n        i18n-subtitle=\"\n          You can create a payee group within the 'Payee Groups'\n          section.@@user-permissions-item.select-payee-groups-modal.empty.subtitle\"\n        iconModifier=\"error-outline\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n\n      <bb-empty-state-ui\n        *ngIf=\"availablePayeeGroupsSearchTerm$ | async\"\n        data-role=\"empty-state\"\n        title=\"No search results found\"\n        i18n-title=\"No search results found@@user-permissions-item.select-payee-groups-modal.search.empty.title\"\n        subtitle=\"We can't find what you're looking for. Please try a different criteria.\"\n        i18n-subtitle=\"\n          Please try a different criteria@@user-permissions-item.select-payee-groups-modal.empty.search.subtitle\"\n        iconModifier=\"search\"\n        iconColor=\"muted\"\n        iconSize=\"xxl\"></bb-empty-state-ui>\n    </div>\n  </ng-template>\n</bb-select-items-modal>\n\n<ng-template #contactNumberTooltip>\n  <span i18n=\"Number of payee Group@@user-permissions-item.number-of-payee.tooltip.text\">\n    Number of contact in Payee Group.\n  </span>\n</ng-template>\n\n<ng-template #accountNumberTooltip>\n  <span i18n=\"Number of account Group@@user-permissions-item.number-of-account.tooltip.text\">\n    Number of account in Account Group.\n  </span>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { TableModule } from '@backbase/ui-ang/table';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport { KeyboardClickModule } from '@backbase/ui-ang/keyboard-click-directive';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport { EllipsisModule } from '@backbase/ui-ang/ellipsis';\nimport { PaginationModule } from '@backbase/ui-ang/pagination';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { AvatarModule } from '@backbase/ui-ang/avatar';\nimport { CurrencyInputModule } from '@backbase/ui-ang/currency-input';\nimport { DropdownSingleSelectModule } from '@backbase/ui-ang/dropdown-single-select';\nimport { SwitchModule } from '@backbase/ui-ang/switch';\nimport { AccessgroupErrorComponent } from './accessgroup-error/component/accessgroup-error.component';\nimport { AccessgroupHeaderComponent } from './accessgroup-header/accessgroup-header.component';\nimport { AccessgroupApprovalLogComponent } from './accessgroup-approval-log/accessgroup-approval-log.component';\nimport { BusinessFunctionGroupNameComponent } from './business-function-group-name/business-function-group-name.component';\nimport { BusinessFunctionNameComponent } from './business-function-name/business-function-name.component';\nimport { BusinessFunctionPrivilegesNameComponent } from './business-function-privileges-name/business-function-privileges-name.component';\nimport { DataGroupItemsTableComponent } from './data-group-items-table/data-group-items-table.component';\nimport { DiscardChangesModalComponent } from './discard-changes-modal/discard-changes-modal.component';\nimport { FunctionGroupTimeBoundsComponent } from './function-group-time-bounds/function-group-time-bounds.component';\nimport { PrivilegeIndicatorListComponent } from './privilege-indicator-list/privilege-indicator-list.component';\nimport { PrivilegeIndicatorComponent } from './privilege-indicator/privilege-indicator.component';\nimport { SelectItemsModalModule } from './select-items-modal/select-items-modal.module';\nimport { TimeBoundsComponent } from './time-bounds/time-bounds.component';\nimport { UserContextIconComponent } from './user-context-icon/user-context-icon.component';\nimport {\n  UserPermissionsItemBusinessFunctionDirective,\n  UserPermissionsItemBusinessFunctionGroupNameDirective,\n  UserPermissionsItemComponent,\n} from './user-permissions-item/user-permissions-item.component';\nimport { PayeeGroupTableRowComponent } from './payee-group-table-row/payee-group-table-row.component';\nimport {\n  PayeeItemDetailComponent,\n  PayeeItemDetailCustomizableDirective,\n} from './payee-item-detail/payee-item-detail.component';\nimport {\n  UnassignDataGroupModalComponent,\n  UnassignDataGroupModalCustomizableDirective,\n} from './unassign-data-group/unassign-data-group-modal.component';\n\nimport {\n  PayeeGroupDetailModalComponent,\n  PayeeGroupDetailModalCustomizableDirective,\n} from './payee-group-detail-modal/payee-group-detail-modal.component';\n\nimport {\n  AccountGroupDetailModalComponent,\n  AccountGroupDetailModalCustomizableDirective,\n} from './account-group-detail-modal/account-group-detail-modal.component';\n\nimport {\n  SelfApproveModalComponent,\n  SelfApproveModalCustomizableDirective,\n} from './self-approval-modal/self-approve-modal.component';\n\nconst uiModules = [\n  IconModule,\n  TooltipModule,\n  SelectItemsModalModule,\n  ButtonModule,\n  ModalModule,\n  TableModule,\n  HeaderModule,\n  KeyboardClickModule,\n  InputCheckboxModule,\n  CollapsibleModule,\n  EllipsisModule,\n  BadgeModule,\n  PaginationModule,\n  SwitchModule,\n  AmountModule,\n  AvatarModule,\n  CurrencyInputModule,\n  DropdownSingleSelectModule,\n];\n\nconst directives = [\n  UserPermissionsItemBusinessFunctionDirective,\n  UserPermissionsItemBusinessFunctionGroupNameDirective,\n];\n\nconst uiComponents = [\n  BusinessFunctionGroupNameComponent,\n  BusinessFunctionNameComponent,\n  PrivilegeIndicatorComponent,\n  UserContextIconComponent,\n  DiscardChangesModalComponent,\n  DataGroupItemsTableComponent,\n  PrivilegeIndicatorListComponent,\n  BusinessFunctionPrivilegesNameComponent,\n  UserPermissionsItemComponent,\n  FunctionGroupTimeBoundsComponent,\n  AccessgroupErrorComponent,\n  AccessgroupHeaderComponent,\n  AccessgroupApprovalLogComponent,\n  TimeBoundsComponent,\n  PayeeGroupTableRowComponent,\n  PayeeItemDetailComponent,\n  PayeeItemDetailCustomizableDirective,\n  UnassignDataGroupModalComponent,\n  UnassignDataGroupModalCustomizableDirective,\n  PayeeGroupDetailModalComponent,\n  PayeeGroupDetailModalCustomizableDirective,\n  AccountGroupDetailModalComponent,\n  AccountGroupDetailModalCustomizableDirective,\n  SelfApproveModalComponent,\n  SelfApproveModalCustomizableDirective,\n];\n\nconst formsModules = [FormsModule, ReactiveFormsModule];\n\n@NgModule({\n  imports: [CommonModule, ...uiModules, ...formsModules],\n  declarations: [...uiComponents, ...directives],\n  exports: [...uiComponents, ...uiModules, ...directives, ...formsModules],\n})\nexport class AccessgroupUiModule {}\n","import { Injectable } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { FunctionsGetResponseBody, ServiceAgreementsHttpService } from '@backbase/data-ang/accesscontrol';\n\n@Injectable()\nexport class BusinessFunctionsService {\n  /**\n   * Business function error stream\n   */\n  readonly businessFunctionsError$ = new BehaviorSubject<HttpErrorResponse | undefined>(undefined);\n\n  constructor(private readonly serviceAgreementsHttpService: ServiceAgreementsHttpService) {}\n\n  /**\n   * Return business functions based on provided service agreement id\n   * @param id: string - service agreement id\n   */\n  getBusinessFunctions(id: string): Observable<FunctionsGetResponseBody[]> {\n    return this.serviceAgreementsHttpService.getBusinessfunctions({ id }).pipe(\n      tap(() => this.businessFunctionsError$.next(undefined)),\n      catchError((error: HttpErrorResponse) => {\n        this.businessFunctionsError$.next(error);\n        return of([]);\n      }),\n    );\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { BusinessFunctionGroupOrder, BusinessFunctionToGroupConverter } from '@backbase/accessgroup-common-ang';\n\nexport const JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_TO_GROUP_MAPPER =\n  new InjectionToken<BusinessFunctionToGroupConverter>(\n    'Job Role Detail Modal :: ENTITLEMENT_WIZARD_BUSINESS_FUNCTION_TO_GROUP_MAPPER',\n  );\n\nexport const JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_GROUP_ORDER = new InjectionToken<BusinessFunctionGroupOrder>(\n  'Job Role Detail Modal :: ENTITLEMENT_WIZARD_BUSINESS_FUNCTION_GROUP_ORDER',\n);\n","import { Injectable, Inject } from '@angular/core';\nimport { BusinessFunctionGroupService, BusinessFunctionToGroupConverter } from '@backbase/accessgroup-common-ang';\nimport {\n  JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_GROUP_ORDER,\n  JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_TO_GROUP_MAPPER,\n} from '../models/types';\n\n@Injectable()\nexport class JobRoleDetailBusinessFunctionGroupService extends BusinessFunctionGroupService {\n  constructor(\n    @Inject(JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_TO_GROUP_MAPPER)\n    businessFunctionToGroupConverter: BusinessFunctionToGroupConverter,\n    @Inject(JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_GROUP_ORDER)\n    orderedBusinessFunctionGroup: string[],\n  ) {\n    super(businessFunctionToGroupConverter, orderedBusinessFunctionGroup);\n  }\n}\n","import { Component, Directive, Input } from '@angular/core';\nimport { BusinessFunction } from '@backbase/accessgroup-common-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\n@Component({\n  selector: 'bb-job-role-detail-privilege-indicator-list',\n  templateUrl: './job-role-detail-privilege-indicator-list.component.html',\n})\nexport class JobRoleDetailPrivilegeIndicatorListComponent {\n  /**\n   * Business Function to check privileges against\n   */\n  @Input() businessFunction: BusinessFunction | undefined;\n\n  /**\n   * Flag for first row in BF group\n   */\n  @Input() first = false;\n\n  /**\n   * Flag for last row in BF group\n   */\n  @Input() last = false;\n}\n\n@Directive({\n  selector: '[bbJobRoleDetailPrivilegeIndicatorListCustomizable]',\n})\nexport class JobRoleDetailPrivilegeIndicatorListCustomizableDirective extends BbTemplate<\n  JobRoleDetailPrivilegeIndicatorListComponent,\n  void\n> {}\n","<ng-container bbJobRoleDetailPrivilegeIndicatorListCustomizable [bbHostRef]=\"this\"></ng-container>\n\n<ng-template bbJobRoleDetailPrivilegeIndicatorListCustomizable let-hostRef>\n  <ng-container *ngIf=\"hostRef.businessFunction\">\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-view\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"View privilege\"\n        i18n-aria-label=\"View privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.view\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.view.applicable && !hostRef.businessFunction.privileges.view.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-view'\"\n        [applicable]=\"hostRef.businessFunction.privileges.view.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges.view.assigned\"></bb-privilege-indicator>\n    </span>\n\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-create\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"Create privilege\"\n        i18n-aria-label=\"Create privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.create\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.create.applicable && !hostRef.businessFunction.privileges.create.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-create'\"\n        [applicable]=\"hostRef.businessFunction.privileges.create.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges.create.assigned\"></bb-privilege-indicator>\n    </span>\n\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-edit\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"Edit privilege\"\n        i18n-aria-label=\"Edit privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.edit\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.edit.applicable && !hostRef.businessFunction.privileges.edit.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-edit'\"\n        [applicable]=\"hostRef.businessFunction.privileges?.edit?.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges?.edit?.assigned\"></bb-privilege-indicator>\n    </span>\n\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-delete\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"Delete privilege\"\n        i18n-aria-label=\"Delete privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.delete\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.delete.applicable && !hostRef.businessFunction.privileges.delete.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-delete'\"\n        [applicable]=\"hostRef.businessFunction.privileges?.delete?.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges?.delete?.assigned\"></bb-privilege-indicator>\n    </span>\n\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-approve\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"Approve privilege\"\n        i18n-aria-label=\"\n          Approve privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.approve\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.approve.applicable &&\n          !hostRef.businessFunction.privileges.approve.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-approve'\"\n        [applicable]=\"hostRef.businessFunction.privileges?.approve?.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges?.approve?.assigned\"></bb-privilege-indicator>\n    </span>\n\n    <span\n      class=\"col bb-ew-privilege-indicator-item bb-text-align-center\"\n      [ngClass]=\"{\n        'bb-ew-privilege-indicator-item--first': hostRef.first,\n        'bb-ew-privilege-indicator-item--last': hostRef.last\n      }\"\n      data-role=\"jr-detail-privilege-indicator-item-cancel\">\n      <span\n        class=\"sr-only\"\n        aria-label=\"Cancel privilege\"\n        i18n-aria-label=\"Cancel privilege@@job-role-detail-modal.privilege-indicator-list.label.privileges.aria.cancel\">\n      </span>\n      <bb-privilege-indicator\n        [color]=\"\n          hostRef.businessFunction.privileges.cancel.applicable && !hostRef.businessFunction.privileges.cancel.assigned\n            ? 'danger'\n            : ''\n        \"\n        [attr.data-role]=\"hostRef.businessFunction.name + '-cancel'\"\n        [applicable]=\"hostRef.businessFunction.privileges?.cancel?.applicable\"\n        [assigned]=\"hostRef.businessFunction.privileges?.cancel?.assigned\"></bb-privilege-indicator>\n    </span>\n  </ng-container>\n</ng-template>\n","import { Component, Directive, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Subject, of, BehaviorSubject, Observable, merge } from 'rxjs';\nimport { takeUntil, catchError, map, switchMap, filter, mapTo, startWith } from 'rxjs/operators';\n\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport {\n  BusinessFunction,\n  BusinessFunctionGroup,\n  FunctionGroup,\n  getExtendedBusinessFunctions,\n} from '@backbase/accessgroup-common-ang';\nimport { FunctionsGetResponseBody, FunctionGroupItem } from '@backbase/data-ang/accesscontrol';\nimport { BusinessFunctionsService } from './services/business-functions.service';\nimport { JobRoleDetailBusinessFunctionGroupService } from './services/job-role-detail-business-function-group.service';\n\n@Component({\n  selector: 'bb-job-role-detail-modal',\n  templateUrl: 'job-role-detail-modal.component.html',\n})\nexport class JobRoleDetailModalComponent implements OnDestroy {\n  /**\n   * Information about Job Role\n   */\n  @Input() jobRoleDetail!: FunctionGroupItem;\n\n  /**\n   * Setter for serviceAgreement Id\n   */\n  @Input() set serviceAgreementId(id: string) {\n    this._serviceAgreementId$.next(id);\n  }\n\n  /**\n   * Filter hook\n   * @default false\n   */\n  @Input() filterHookEnabled = false;\n\n  private _serviceAgreementId$ = new BehaviorSubject<string | undefined>(undefined);\n\n  /**\n   * Close modal window event.\n   * Propagate event when modal window should be closed.\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() close: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * Unsubscribe stream\n   */\n  private readonly destroy$ = new Subject();\n\n  /**\n   * Stream of Grouped business functions\n   */\n  readonly groupedBusinessFunctions$: Observable<BusinessFunctionGroup[]> = this._serviceAgreementId$.pipe(\n    filter((x): x is string => !!x),\n    switchMap((id: string) => this.businessFunctionsService.getBusinessFunctions(id)),\n    map((allBusinessFunctions: FunctionsGetResponseBody[]) =>\n      getExtendedBusinessFunctions(this.jobRoleDetail as FunctionGroup, allBusinessFunctions, this.filterHookEnabled),\n    ),\n    map((businessFunctions: BusinessFunction[]) => this.groupService.convertToGroups(businessFunctions)),\n    takeUntil(this.destroy$),\n  );\n\n  /**\n   * Stream of loading state for Grouped business functions\n   */\n  readonly groupedBusinessFunctionsLoading$: Observable<boolean> = merge(\n    this.groupedBusinessFunctions$.pipe(\n      mapTo(false),\n      catchError(() => of(false)),\n    ),\n  ).pipe(startWith(true));\n\n  /**\n   * Stream of error state for Grouped business functions\n   */\n  readonly groupedBusinessFunctionsError$ = this.businessFunctionsService.businessFunctionsError$;\n\n  constructor(\n    private readonly groupService: JobRoleDetailBusinessFunctionGroupService,\n    private readonly businessFunctionsService: BusinessFunctionsService,\n  ) {}\n\n  /**\n   * OpenChange modal window event handler.\n   * @param isOpen - boolean\n   */\n  onOpenChange(isOpen: boolean): void {\n    if (!isOpen) {\n      this.close.emit();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n\n@Directive({\n  selector: '[bbJobRoleDetailModalCustomizable]',\n})\nexport class JobRoleDetailModalCustomizableDirective extends BbTemplate<\n  JobRoleDetailModalComponent,\n  {\n    groupedBusinessFunctions: BusinessFunctionGroup[] | null;\n    groupedBusinessFunctionsLoading: boolean | null;\n    groupedBusinessFunctionsError: HttpErrorResponse | undefined | null;\n  }\n> {}\n","<ng-container\n  bbJobRoleDetailModalCustomizable\n  [bbHostRef]=\"this\"\n  [bbTemplateContext]=\"{\n    groupedBusinessFunctions: groupedBusinessFunctions$ | async,\n    groupedBusinessFunctionsLoading: groupedBusinessFunctionsLoading$ | async,\n    groupedBusinessFunctionsError: groupedBusinessFunctionsError$ | async\n  }\"></ng-container>\n\n<ng-template\n  bbJobRoleDetailModalCustomizable\n  let-hostRef\n  let-groupedBusinessFunctions=\"context.groupedBusinessFunctions\"\n  let-groupedBusinessFunctionsLoading=\"context.groupedBusinessFunctionsLoading\"\n  let-groupedBusinessFunctionsError=\"context.groupedBusinessFunctionsError\">\n  <bb-modal-ui\n    data-role=\"job-role-modal\"\n    [isOpen]=\"true\"\n    [modalOptions]=\"{\n      backdrop: 'static',\n      centered: true,\n      size: 'lg'\n    }\"\n    (isOpenChange)=\"hostRef.onOpenChange($event)\">\n    <bb-modal-header-ui>\n      <ng-template bbCustomModalHeader>\n        <div class=\"bb-stack\">\n          <div class=\"bb-stack__item\">\n            <bb-header-ui\n              [heading]=\"hostRef.jobRoleDetail.name\"\n              headingType=\"h2\"\n              data-role=\"job-role-modal-header-title\"></bb-header-ui>\n            <div data-role=\"job-role-modal-header-description\" class=\"bb-text-support\">\n              {{ hostRef.jobRoleDetail.description }}\n            </div>\n          </div>\n          <div class=\"bb-stack__item bb-stack__item--push-right bb-stack__item--align-top\">\n            <button\n              (click)=\"hostRef.onOpenChange(false)\"\n              bbButton\n              class=\"bb-stack__item-sm\"\n              color=\"unstyled\"\n              aria-label=\"Close dialog\"\n              i18n-aria-label=\"Close modal button in header@@job-role-detail-modal.header.close-btn.aria-label\"\n              data-role=\"job-role-modal-header-close-btn\">\n              <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n            </button>\n          </div>\n        </div>\n      </ng-template>\n    </bb-modal-header-ui>\n\n    <bb-modal-body-ui>\n      <ng-template bbCustomModalBody>\n        <ng-container *ngIf=\"!groupedBusinessFunctionsLoading; else loadingTemplate\">\n          <ng-container *ngIf=\"!groupedBusinessFunctionsError; else errorTemplate\">\n            <ng-container *ngIf=\"groupedBusinessFunctions && groupedBusinessFunctions.length; else emptyStateTemplate\">\n              <div\n                *ngFor=\"let group of groupedBusinessFunctions\"\n                data-role=\"job-role-modal-grouped-bf\"\n                class=\"bb-block bb-block--xl\"\n                [attr.data-test-id]=\"group.groupKey\">\n                <bb-business-function-group-name\n                  [groupKey]=\"group.groupKey\"\n                  class=\"bb-highlight\"\n                  data-role=\"job-role-modal-grouped-bf-title\"></bb-business-function-group-name>\n\n                <hr />\n\n                <div class=\"row bb-block bb-block--md\">\n                  <div class=\"col-5\"></div>\n                  <div class=\"col\">\n                    <bb-business-function-privileges-name\n                      class=\"d-flex bb-text-support bb-subtitle\"\n                      [hideExecute]=\"true\"\n                      data-role=\"job-role-modal-business-function-privileges-name\"></bb-business-function-privileges-name>\n                  </div>\n                </div>\n\n                <div\n                  *ngFor=\"let bf of group.businessFunctions; first as isFirst; last as isLast\"\n                  class=\"row align-items-center\"\n                  data-role=\"job-role-modal-bf-item\">\n                  <bb-business-function-name\n                    [businessFunction]=\"bf\"\n                    class=\"col-5 bb-text-default\"\n                    data-role=\"job-role-modal-bf-name\"></bb-business-function-name>\n\n                  <div class=\"col\">\n                    <bb-job-role-detail-privilege-indicator-list\n                      class=\"d-flex\"\n                      [businessFunction]=\"bf\"\n                      [first]=\"isFirst\"\n                      [last]=\"isLast\"\n                      data-role=\"job-role-modal-privilege-indicator-list\"></bb-job-role-detail-privilege-indicator-list>\n                  </div>\n                </div>\n              </div>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n\n        <ng-template #loadingTemplate>\n          <div class=\"bb-state-container\" data-role=\"job-role-modal-loading-state-tmp\">\n            <bb-loading-indicator-ui></bb-loading-indicator-ui>\n          </div>\n        </ng-template>\n\n        <ng-template #errorTemplate>\n          <div class=\"bb-state-container\" data-role=\"job-role-modal-error-state-tmp\">\n            <bb-empty-state-ui\n              title=\"Failed to load business functions\"\n              i18n-title=\"Error status message title@@job-role-detail-modal.state.error.title\"\n              subtitle=\"Try to reload the page.<br> All data will be lost after reload.\"\n              i18n-subtitle=\"Error status message subtitle@@job-role-detail-modal.state.error.subtitle\"\n              iconSize=\"xxl\"\n              iconModifier=\"error-outline\"\n              iconColor=\"muted\">\n            </bb-empty-state-ui>\n          </div>\n        </ng-template>\n\n        <ng-template #emptyStateTemplate>\n          <div class=\"bb-state-container bb-state-container--min-height\" data-role=\"job-role-modal-empty-state-tmp\">\n            <bb-empty-state-ui\n              iconSize=\"xxl\"\n              iconModifier=\"help-outline\"\n              title=\"No business function assigned to this job role.\"\n              i18n-title=\"Empty state title message@@job-role-detail-modal.state.empty.subtitle\"></bb-empty-state-ui>\n          </div>\n        </ng-template>\n      </ng-template>\n    </bb-modal-body-ui>\n  </bb-modal-ui>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport {\n  defaultGetGroupForBusinessFunction,\n  defaultOrderedBusinessFunctionGroups,\n} from '@backbase/accessgroup-common-ang';\nimport { AccessgroupUiModule } from '../accessgroup-ui.module';\nimport {\n  JobRoleDetailModalComponent,\n  JobRoleDetailModalCustomizableDirective,\n} from './job-role-detail-modal.component';\nimport {\n  JobRoleDetailPrivilegeIndicatorListComponent,\n  JobRoleDetailPrivilegeIndicatorListCustomizableDirective,\n} from './job-role-detail-privilege-indicator-list/job-role-detail-privilege-indicator-list.component';\n\nimport { JobRoleDetailBusinessFunctionGroupService } from './services/job-role-detail-business-function-group.service';\nimport { BusinessFunctionsService } from './services/business-functions.service';\nimport {\n  JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_GROUP_ORDER,\n  JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_TO_GROUP_MAPPER,\n} from './models/types';\n\nconst uiModules: any[] = [ModalModule, HeaderModule, IconModule, ButtonModule, LoadingIndicatorModule];\n\nconst services: any[] = [\n  JobRoleDetailBusinessFunctionGroupService,\n  BusinessFunctionsService,\n  { provide: JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_TO_GROUP_MAPPER, useValue: defaultGetGroupForBusinessFunction },\n  { provide: JOB_ROLE_DETAIL_MODAL_BUSINESS_FUNCTION_GROUP_ORDER, useValue: defaultOrderedBusinessFunctionGroups },\n];\n\nconst components: any[] = [\n  JobRoleDetailModalComponent,\n  JobRoleDetailModalCustomizableDirective,\n  JobRoleDetailPrivilegeIndicatorListComponent,\n  JobRoleDetailPrivilegeIndicatorListCustomizableDirective,\n];\n\n@NgModule({\n  imports: [CommonModule, ...uiModules, AccessgroupUiModule],\n  declarations: [...components],\n  providers: [...services],\n  exports: [...components, ...uiModules],\n})\nexport class JobRoleDetailModalModule {}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { WidgetError, parseError as commonParseError } from '@backbase/accessgroup-common-ang';\n\n// Empty interface because package:apps with tsconfig.packaged.json.\n// It also fails when using type since it tries to import WidgetError in other files\nexport type Error = WidgetError;\n\nexport const parseError = (error: HttpErrorResponse): Error => commonParseError('AccessgroupUI', error);\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1","i2","i3","i1.TimeBoundsComponent","i1.PrivilegeIndicatorComponent","i5","i4","i6","i7","i8","i9","uiModules","uiComponents","i4.BusinessFunctionNameComponent","i5.PayeeItemDetailComponent","i10","i4.FunctionGroupTimeBoundsComponent","i5.BusinessFunctionPrivilegesNameComponent","i6.PrivilegeIndicatorListComponent","i8.SelfApproveModalComponent","i9.PayeeGroupDetailModalComponent","i10.AccountGroupDetailModalComponent","i11.UnassignDataGroupModalComponent","i12.SelectItemsModalComponent","i14","i15","i16","i17","i18","i19","i12.SelectItemsItemHeaderDirective","i12.SelectItemsItemDirective","i12.SelectItemsEmptyDirective","i1.JobRoleDetailBusinessFunctionGroupService","i2.BusinessFunctionsService","i6.BusinessFunctionGroupNameComponent","i7.BusinessFunctionPrivilegesNameComponent","i8.BusinessFunctionNameComponent","i9.JobRoleDetailPrivilegeIndicatorListComponent","i11","i12","i13","commonParseError"],"mappings":"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"}