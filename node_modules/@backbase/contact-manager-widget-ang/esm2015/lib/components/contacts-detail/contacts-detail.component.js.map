{"version":3,"file":"contacts-detail.component.js","sourceRoot":"","sources":["../../../../../../../libs/contact-manager-widget-ang/src/lib/components/contacts-detail/contacts-detail.component.ts","../../../../../../../libs/contact-manager-widget-ang/src/lib/components/contacts-detail/contacts-detail.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAU,MAAM,EAAE,MAAM,eAAe,CAAC;AACnH,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;AAC3D,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,EAAE,iBAAiB,EAAsB,MAAM,oBAAoB,CAAC;;;;;;;;;;AA2B3E;;;;;;;;;;;;;;;;;;;;;GAqBG;AAMH,MAAM,OAAO,uBAAuB;IA0BlC,YAAmB,OAAwB;QAAxB,YAAO,GAAP,OAAO,CAAiB;QAzBlC,YAAO,GAA4B,IAAI,CAAC;QAKjD;;WAEG;QACM,eAAU,GAAG,IAAI,CAAC;QAM3B;;WAEG;QACO,qBAAgB,GAAG,IAAI,YAAY,EAAsB,CAAC;QACpE;;WAEG;QACO,uBAAkB,GAAG,IAAI,YAAY,EAAU,CAAC;QAE1D,0BAAqB,GAAG,KAAK,CAAC;IAEgB,CAAC;IAE/C;;OAEG;IACH,QAAQ;QACN,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,4DAA4D,CAAC,CAAC;SAC/E;IACH,CAAC;IAED;;;;OAIG;IACH,IAAI,CAAC,EAAU;QACb,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACH,eAAe;QACb,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED;;OAEG;IACH,eAAe;QACb,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,cAAc;QACZ,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;IACrC,CAAC;;wIAlEU,uBAAuB;4HAAvB,uBAAuB,yNCzDpC,iiJAmGA,ypBD6Ia,mCAAmC;4FAvLnC,uBAAuB;kBALnC,SAAS;mBAAC;oBACT,QAAQ,EAAE,oBAAoB;oBAC9B,WAAW,EAAE,kCAAkC;oBAC/C,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;sGAMU,IAAI;sBAAZ,KAAK;gBAIG,UAAU;sBAAlB,KAAK;gBAKN,IAAI;sBADH,KAAK;gBAKI,gBAAgB;sBAAzB,MAAM;gBAIG,kBAAkB;sBAA3B,MAAM;;AA+CT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA8GG;AAIH,MAAM,OAAO,mCAAoC,SAAQ,UAAuD;;oJAAnG,mCAAmC;wIAAnC,mCAAmC;4FAAnC,mCAAmC;kBAH/C,SAAS;mBAAC;oBACT,QAAQ,EAAE,gCAAgC;iBAC3C","sourcesContent":["import { ChangeDetectionStrategy, Component, Directive, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { ContactsService } from '../../services/contacts.service';\nimport { AccountCreateType, SelectContactEvent } from '../../models/types';\n\n/**\n * An object representing ContactDetails.\n */\nexport interface ContactsDetailItem {\n  /*\n   * The unique id of the contact\n   */\n  id: string;\n  /*\n   * The name of the contact\n   */\n  name: string;\n  /*\n   * The surname of the contact\n   */\n  surname: string;\n  /*\n   * The iban of the contact\n   */\n  iban: string;\n  /*\n   * The initials of the contact\n   */\n  initials: string;\n}\n/**\n * Displays a detail of contact selected.\n *\n * The following extension slots are available in this component:\n *  - `ContactsDetailCustomizableDirective`\n *\n * @see ContactsDetailCustomizableDirective\n * @usageNotes\n *\n * ### Display a details of contacts\n *\n * ```html\n * <bb-contacts-detail\n *    [showDetail]=\"false\"\n *    [item]=\"hostRef.item\"\n *    [type]=\"hostRef.type\"\n *    (deleteContactsItem)=\"hostRef.deleteItemEmit()\"\n *    (editContactsItem)=\"hostRef.editContactsItem()\"\n * ></bb-contacts-detail>\n * ```\n * @ngModule ContactManagerWidgetModule\n */\n@Component({\n  selector: 'bb-contacts-detail',\n  templateUrl: './contacts-detail.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ContactsDetailComponent implements OnInit {\n  readonly hostRef: ContactsDetailComponent = this;\n  /**\n   * Account type selected from screen\n   */\n  @Input() type!: AccountCreateType;\n  /**\n   * Wether to show user details or not\n   */\n  @Input() showDetail = true;\n  /**\n   * The detail of the selected contact\n   */\n  @Input()\n  item!: ContactsDetailItem;\n  /**\n   * Event emitted when contact is edited\n   */\n  @Output() editContactsItem = new EventEmitter<SelectContactEvent>();\n  /**\n   * Event emitted when contact is deleted\n   */\n  @Output() deleteContactsItem = new EventEmitter<string>();\n\n  isDeleteConfirmOpened = false;\n\n  constructor(public service: ContactsService) {}\n\n  /**\n   * OnInit - lifecycle hook.\n   */\n  ngOnInit() {\n    if (this.item === undefined) {\n      throw new Error('`item` input is required in `bb-contacts-detail` component');\n    }\n  }\n\n  /**\n   *  Will emit the event when contact is edited.\n   *\n   * @param {string} id the contact id that has to be edited.\n   */\n  edit(id: string) {\n    this.editContactsItem.emit({ id: id, type: this.type });\n  }\n\n  /**\n   * opens modal for delete confirmation\n   */\n  openDeleteModal() {\n    this.isDeleteConfirmOpened = true;\n  }\n\n  /**\n   * event handler for confirming delete\n   */\n  onConfirmDelete() {\n    this.deleteContactsItem.emit(this.item.id);\n    this.isDeleteConfirmOpened = false;\n  }\n\n  /**\n   * event handler for rejecting delete\n   */\n  onCancelDelete() {\n    this.isDeleteConfirmOpened = false;\n  }\n}\n\n/**\n * This is an extension slot to be used for customizing an item of the contact details.\n *\n * @usageNotes\n *\n * ### Display a contact details\n *\n * ```html\n * <ng-template bbContactsDetailCustomizable let-hostRef let-item=\"item\">\n * <div class=\"bb-block bb-block--xl\">\n *   <div class=\"bb-stack bb-stack--align-bottom\">\n *     <div class=\"bb-stack__item bb-stack__item--fill\">\n *       <div\n *         class=\"bb-block\"\n *         data-role=\"contact-details-info-name\"\n *       >\n *         <span\n *           class=\"d-none\"\n *           data-role=\"create-contact-label\"\n *           aria-hidden=\"true\"\n *           i18n-heading=\"Create contact heading | Title shown when user is in\n *                        create contact@@contact-manager-detail.create.heading\"\n *          #heading\n *         >\n *           Create contact\n *         </span>\n *         <bb-header-ui\n *           data-role=\"create-new-contact-label\"\n *           headingType=\"h3\"\n *           [heading]=\"hostRef.item.name || heading.textContent\"\n *         >\n *         </bb-header-ui>\n *       </div>\n *     </div>\n *     <div\n *      *ngIf=\"hostRef.item.name\"\n *       class=\"bb-stack__item bb-stack__item--push-right\"\n *     >\n *       <span\n *         bbTooltip=\"Edit\"\n *         triggers=\"hover focus\"\n *       >\n *         <button\n *           data-role=\"contact-edit-button\"\n *           bbButton\n *           circle=\"true\"\n *           color=\"link\"\n *           (click)=\"hostRef.edit(hostRef.item.id)\"\n *           i18n=\"Edit Contact Button | Button for editing an existing contact@@contact-manager-detail.button.edit\"\n *           aria-label=\"Edit Contact\"\n *           i18n-aria-label=\"Edit Contact | Aria label edit contact menu@@contact-manager-detail.label.actions.edit\"\n *         >\n *           <bb-icon-ui\n *             name=\"edit\"\n *             color=\"dark\"\n *           ></bb-icon-ui>\n *         </button>\n *       </span>\n *       <span\n *         bbTooltip=\"Delete\"\n *         triggers=\"hover focus\"\n *       >\n *         <button data-role=\"contact-delete-button\"\n *           bbButton\n *           circle=\"true\"\n *           color=\"link\"\n *           (click)=\"hostRef.openDeleteModal(hostRef.modalContent)\"\n *           i18n=\"Delete Contact Button | Button for deleting an existing contact@@contact-manager-detail.detail.button.delete\"\n *           data-role=\"delete-button\"\n *           aria-label=\"Delete Contact\"\n *           i18n-aria-label=\"Delete Contact | Aria label delete contact menu@@contact-manager-detail.label.actions.delete\"\n *         >\n *           <bb-icon-ui name=\"delete\" color=\"dark\"></bb-icon-ui>\n *         </button>\n *       </span>\n *     </div>\n *   </div>\n *   <hr/>\n * </div>\n * <div\n *   class=\"bb-lock bb-lock bb-block--lg\"\n *  *ngIf=\"hostRef.showDetail\"\n * >\n *   <span\n *     class=\"d-none\"\n *     aria-hidden=\"true\"\n *     i18n=\"Account number | Heading for account number or\n *      IBAN or Email or Phone@@contact-manager-detail.label.account.type.heading\"\n *     #heading\n *   >\n *    {hostRef.type, select, IBAN {IBAN}  accountNumber {Account number} email { Email} phoneNumber { Phone number} other {IBAN} }\n *   </span>\n *   <bb-header-ui\n *     headingType=\"h5\"\n *     [heading]=\"heading.textContent\"\n *     class=\"bb-block bb-block-md\"\n *   >\n *   </bb-header-ui>\n *   <div\n *     class=\"bb-bock bb-block-md\"\n *     data-role=\"contact-details-info-alias\"\n *   >\n *   <span *ngIf=\"hostRef.item?.accounts[0] as account\">\n *     {{ account[hostRef.type] }}\n *   </span>\n *   </div>\n * </div>\n *</ng-template>\n * ```\n * @ngModule ContactManagerWidgetModule\n */\n@Directive({\n  selector: '[bbContactsDetailCustomizable]',\n})\nexport class ContactsDetailCustomizableDirective extends BbTemplate<ContactsDetailComponent, ContactsDetailItem> {}\n","<ng-container bbContactsDetailCustomizable [bbHostRef]=\"hostRef\" [bbTemplateContext]=\"item\"></ng-container>\n<ng-template bbContactsDetailCustomizable let-hostRef let-item=\"item\">\n  <div class=\"bb-block bb-block--xl\">\n    <div class=\"bb-stack bb-stack--align-bottom\">\n      <div class=\"bb-stack__item bb-stack__item--fill\">\n        <div class=\"bb-block\" data-role=\"contact-details-info-name\">\n          <span\n            class=\"d-none\"\n            data-role=\"create-contact-label\"\n            aria-hidden=\"true\"\n            i18n=\"Create contact heading | Title shown when user is in create contact@@contact-manager-detail.create.heading\"\n            #heading\n          >\n            Create contact\n          </span>\n          <bb-header-ui\n            data-role=\"create-new-contact-label\"\n            headingType=\"h3\"\n            headingClasses=\"break-word\"\n            [heading]=\"hostRef.item.name || heading.textContent\"\n          >\n          </bb-header-ui>\n        </div>\n      </div>\n      <div *ngIf=\"hostRef.item.name\" class=\"bb-stack__item bb-stack__item--push-right\">\n        <span bbTooltip=\"Edit\" triggers=\"hover focus\" i18n-bbTooltip=\"@@contact-manager-detail.button.edit.tooltip\">\n          <button\n            data-role=\"contact-edit-button\"\n            bbButton\n            circle=\"true\"\n            color=\"link\"\n            (click)=\"hostRef.edit(hostRef.item.id)\"\n            i18n=\"Edit Contact Button | Button for editing an existing contact@@contact-manager-detail.button.edit\"\n            aria-label=\"Edit Contact\"\n            i18n-aria-label=\"Edit Contact | Aria label edit contact menu@@contact-manager-detail.label.actions.edit\"\n          >\n            <bb-icon-ui name=\"edit\" color=\"dark\"></bb-icon-ui>\n          </button>\n        </span>\n        <span bbTooltip=\"Delete\" triggers=\"hover focus\" i18n-bbTooltip=\"@@contact-manager-detail.button.delete.tooltip\">\n          <button\n            bbButton\n            circle=\"true\"\n            color=\"link\"\n            (click)=\"hostRef.openDeleteModal()\"\n            i18n=\"Delete Contact Button | Button for deleting an existing contact@@contact-manager-detail.detail.button.delete\"\n            data-role=\"delete-button\"\n            aria-label=\"Delete Contact\"\n            i18n-aria-label=\"Delete Contact | Aria label delete contact menu@@contact-manager-detail.label.actions.delete\"\n          >\n            <bb-icon-ui name=\"delete\" color=\"dark\"></bb-icon-ui>\n          </button>\n        </span>\n      </div>\n    </div>\n    <hr />\n  </div>\n  <div class=\"bb-lock bb-lock bb-block--lg\" *ngIf=\"hostRef.showDetail\">\n    <span\n      class=\"d-none\"\n      aria-hidden=\"true\"\n      i18n=\"Account number | Heading for account number or IBAN or Email or Phone@@contact-manager-detail.label.account.type.heading\"\n      #heading\n    >\n      {hostRef.type, select, IBAN {IBAN} accountNumber {Account number} email { Email} phoneNumber { Phone number} other\n      {IBAN} }\n    </span>\n    <bb-header-ui headingType=\"h5\" [heading]=\"heading.textContent\" class=\"bb-block bb-block-md\"></bb-header-ui>\n    <div class=\"bb-bock bb-block-md\" data-role=\"contact-details-info\">\n      <ng-container *ngIf=\"hostRef.item?.accounts[0] as account\">\n        <ng-container *ngIf=\"hostRef.type === 'IBAN'; else notIban\">\n          {{ account[hostRef.type] | bbIban }}\n        </ng-container>\n        <ng-template #notIban>{{ account[hostRef.type] }} </ng-template>\n      </ng-container>\n    </div>\n  </div>\n</ng-template>\n\n<ng-container bbContactsDeleteConfirmationCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n<ng-template bbContactsDeleteConfirmationCustomizable let-hostRef>\n  <bb-confirm-action-dialog\n    [isOpen]=\"hostRef.isDeleteConfirmOpened\"\n    [confirmButtonColor]=\"'danger'\"\n    (confirm)=\"hostRef.onConfirmDelete()\"\n    (cancel)=\"hostRef.onCancelDelete()\"\n  >\n    <span title i18n=\"@@contact-manager-detail.header.delete.contact\" data-role=\"delete-contact-label\"\n      >Delete Contact</span\n    >\n    <span body i18n=\"@@contact-manager-detail.delete.confirmation\">\n      Are you sure you want to delete {{ hostRef.item.name }} from your contacts? This action cannot be undone.\n    </span>\n    <span cancelButtonLabel i18n=\"@@contact-manager-detail.button.cancel\">Not now</span>\n    <span confirmButtonLabel i18n=\"@@contact-manager-detail.button.delete\" data-role=\"confirm-delete-button\"\n      >Delete</span\n    >\n  </bb-confirm-action-dialog>\n</ng-template>\n"]}