{"version":3,"file":"adapted-review.component.js","sourceRoot":"","sources":["../../../../../../../../../../libs/payments-collection-ui-ang/src/lib/containers/initiate-payment/components/adapted-review/adapted-review-container/adapted-review.component.ts","../../../../../../../../../../libs/payments-collection-ui-ang/src/lib/containers/initiate-payment/components/adapted-review/adapted-review-container/adapted-review.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, ChangeDetectionStrategy, Input, Optional, OnInit } from '@angular/core';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { ProgressStatus, TransactionSigningService } from '@backbase/identity-auth/transaction-signing';\nimport { BaseObject, datePart, PaymentDetails, PaymentError, PaymentTypeConfig } from '@backbase/payment-orders-ang';\nimport { merge, Observable } from 'rxjs';\nimport { mapTo } from 'rxjs/operators';\nimport { P2PLimitReasonCodes } from '../../../models/create-payment.model';\n\n@Component({\n  selector: 'bb-adapted-review-container',\n  templateUrl: './adapted-review.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AdaptedReviewComponent implements OnInit {\n  /**\n   * The payment form values\n   */\n  @Input() payment?: PaymentDetails;\n  /**\n   * The status of payment progress\n   */\n  @Input() status?: string;\n  /**\n   * The payment config item\n   */\n  @Input() paymentConfig?: PaymentTypeConfig;\n  /**\n   * Methods to handle events\n   */\n  @Input() methods?: BaseObject<any>;\n  /**\n   * Limit errors from payment-order POST call\n   */\n  @Input() breachError?: PaymentError;\n  /**\n   * Asset resolver for quick-transfer widget\n   */\n  private readonly resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-payord-omni-payment-widget-ang',\n    getURIFromAssetID: (assetId: string) => `${assetId}`,\n  });\n  /**\n   * Stream of resolved success image path\n   */\n  successImg: Observable<string> = this.resolveAsset('succeed.svg');\n  /**\n   * Stream of resolved success image path\n   */\n  successImgNoMotion: Observable<string> = this.resolveAsset('no-motion.svg');\n  /**\n   * unique time to reload animated svg image everytime\n   */\n  readonly timestamp = new Date().getTime();\n  /*\n   * To identify payment request is loading.\n   */\n  isLoading$?: Observable<boolean>;\n\n  constructor(\n    private readonly assetsService: AssetsService,\n    @Optional() private readonly identityService: TransactionSigningService,\n  ) {}\n\n  ngOnInit() {\n    this.isLoading$ = merge(this.methods?.isSubmitting$(), this.identityService?.requestSubject.pipe(mapTo(false)));\n  }\n\n  /*\n   * Text for alert error content for server errors\n   */\n  get errorText(): string {\n    const amount = this.breachError?.reasonText?.split('|')[1];\n\n    if (this.isUserDeclined) {\n      return $localize`:@@initiate-payment.adapted-review.user-decline-error-message:`;\n    }\n\n    switch (this.breachError?.reasonCode) {\n      case P2PLimitReasonCodes.DAILY:\n        return $localize`:@@initiate-payment.adapted-review.P2P-daily-limit-error-message:The amount exceeds the daily limit of ${amount}`;\n      case P2PLimitReasonCodes.MONTHLY:\n        return $localize`:@@initiate-payment.adapted-review.P2P-monthly-limit-error-message:The amount exceeds the monthly limit of ${amount}`;\n      case P2PLimitReasonCodes.MAX_TRANSFER:\n        return $localize`:@@initiate-payment.adapted-review.P2P-max-limit-error-message:This amount can't exceed ${amount}`;\n      case P2PLimitReasonCodes.MIN_TRANSFER:\n        return $localize`:@@initiate-payment.adapted-review.P2P-max-limit-daily-error-message:This amount can't be lower than ${amount}`;\n      default:\n        return $localize`:@@initiate-payment.adapted-review.default-error-message:Failed to submit payment. Please try again later.`;\n    }\n  }\n\n  /*\n   * Title for alert error content for server errors\n   */\n  get errorTitle(): string {\n    if (this.breachError) {\n      return $localize`:@@initiate-payment.adapted-review.P2P-limit-error-title:Payment Failed Due to an Exceeding Limit`;\n    } else if (this.isUserDeclined) {\n      return $localize`:@@initiate-payment.adapted-review.user-declined-error-title:Your Transfer Has Been Cancelled.`;\n    } else {\n      return $localize`:@@initiate-payment.adapted-review.generic-error-title:`;\n    }\n  }\n\n  /*\n   * Boolean flag to display whether transfer date is for future\n   */\n  get isScheduledTransfer(): boolean {\n    const today = datePart();\n    const transferDate = datePart(this.payment?.schedule.startDate);\n\n    return new Date(transferDate) > new Date(today);\n  }\n\n  private get isUserDeclined(): boolean {\n    return this.status === ProgressStatus.USER_DECLINED;\n  }\n}\n","<ng-container *ngTemplateOutlet=\"status === 'SUCCESS' ? successScreen : reviewTemplate\"> </ng-container>\n\n<ng-template #reviewTemplate>\n  <div\n    *ngIf=\"isLoading$ | async\"\n    data-role=\"adapted-review-loader\"\n    class=\"bb-loading-indicator-wrapper bb-loading-indicator-wrapper--overlay\"\n  >\n    <bb-loading-indicator-ui loaderSize=\"lg\"></bb-loading-indicator-ui>\n  </div>\n\n  <fieldset class=\"bb-fieldset omni-payment-adapted-review\">\n    <legend class=\"bb-label bb-block bb-block--lg\" i18n=\"@@omni-payment-wrapper-review-page-title.label\">\n      Review your transfer\n    </legend>\n    <ng-container *ngIf=\"payment\">\n      <bb-alert-ui\n        *ngIf=\"status === 'ERROR' || status === 'USER_DECLINED' || breachError\"\n        [title]=\"errorTitle\"\n        (close)=\"(false)\"\n        modifier=\"error\"\n      >\n        <span data-role=\"failure-message\">{{ errorText }}</span>\n      </bb-alert-ui>\n\n      <div *ngIf=\"payment?.isIntraLegalEntity\" class=\"bb-block bb-block--sm bb-inline-stack bb-text-support\">\n        <div class=\"bb-inline-stack__item\">\n          <bb-icon-ui name=\"domain\"></bb-icon-ui>\n        </div>\n        <div\n          class=\"bb-inline-stack__item bb-text-bold\"\n          i18n=\"@@omni-payment-wrapper-review-payment-intra-company-payment.label\"\n        >\n          Intracompany payment\n        </div>\n      </div>\n\n      <div class=\"bb-item-log bb-block bb-block--lg\">\n        <div class=\"bb-item-log__record item-log__record--has-bullet\">\n          <div class=\"bb-stack bb-stack--align-top\">\n            <div\n              class=\"bb-item-log-record__bullet-icon bb-item-log-record__bullet-icon--filled bb-stack__item bb-stack__item--spacing-md\"\n            ></div>\n            <div class=\"bb-item-log-record__details\">\n              <bb-payment-initiator-details [data]=\"payment?.initiator\" [paymentConfig]=\"paymentConfig\">\n              </bb-payment-initiator-details>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bb-item-log__record item-log__record--has-bullet\">\n          <div class=\"bb-stack bb-stack--align-top\">\n            <div class=\"bb-item-log-record__bullet-icon bb-stack__item bb-stack__item--spacing-md\"></div>\n            <div class=\"bb-item-log-record__details\">\n              <bb-creditor-account [data]=\"payment?.counterparty\" [paymentConfig]=\"paymentConfig\">\n              </bb-creditor-account>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bb-block bb-block--lg\">\n        <bb-payment-remittance-details\n          [data]=\"payment?.remittanceInfo\"\n          [transferFee]=\"payment?.transferFee\"\n          [chargeBearer]=\"payment?.chargeBearer\"\n          [forexDetails]=\"methods?.getForexDetails(payment)\"\n          [paymentConfig]=\"paymentConfig\"\n        ></bb-payment-remittance-details>\n      </div>\n\n      <bb-payment-creditor-details\n        [data]=\"payment?.counterparty\"\n        [paymentConfig]=\"paymentConfig\"\n      ></bb-payment-creditor-details>\n\n      <bb-payment-counterparty-details\n        [data]=\"payment?.counterparty\"\n        [paymentConfig]=\"paymentConfig\"\n      ></bb-payment-counterparty-details>\n\n      <bb-payment-schedule-details\n        [data]=\"payment?.schedule\"\n        [paymentConfig]=\"paymentConfig\"\n      ></bb-payment-schedule-details>\n\n      <div\n        *ngIf=\"\n          payment?.remittanceInfo?.description ||\n          payment?.remittanceInfo?.paymentReference ||\n          payment?.counterparty.messageToBank ||\n          payment?.counterparty.remittanceInformation\n        \"\n      >\n        <div class=\"bb-block bb-block--md\" *ngIf=\"payment?.remittanceInfo?.paymentReference\">\n          <div class=\"bb-text-bold\" data-role=\"payment-reference-label\">\n            <bb-payord-dynamic-label\n              name=\"paymentReference\"\n              [config]=\"paymentConfig\"\n              parentName=\"remittanceInfo\"\n              defaultLabel=\"Payment reference\"\n              i18n-defaultLabel=\"@@omni-payment-wrapper-review-remittance-info-payment-reference.label\"\n            ></bb-payord-dynamic-label>\n          </div>\n          <div class=\"break-word\" data-role=\"payment-reference\">\n            {{ payment?.remittanceInfo?.paymentReference }}\n          </div>\n        </div>\n\n        <div class=\"bb-block bb-block--md bb-inline-stack bb-stack--align-top\">\n          <bb-icon-ui name=\"subject\" class=\"bb-stack__item bb-stack__item--spacing-sm\"></bb-icon-ui>\n          <div class=\"bb-stack__item\">\n            <div class=\"bb-text-bold\" data-role=\"payment-description-label\">\n              <bb-payord-dynamic-label\n                name=\"description\"\n                parentName=\"remittanceInfo\"\n                defaultLabel=\"Memo\"\n                i18n-defaultLabel=\"@@omni-payment-wrapper-review-remittance-info-description.label\"\n              ></bb-payord-dynamic-label>\n            </div>\n            <div class=\"break-word\" data-role=\"payment-description\">\n              {{ payment?.remittanceInfo?.description }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bb-block bb-block--md\" *ngIf=\"payment?.counterparty.remittanceInformation\">\n          <div class=\"bb-text-bold\">\n            <bb-payord-dynamic-label\n              name=\"remittanceInformation\"\n              [config]=\"paymentConfig\"\n              defaultLabel=\"Message to beneficiary\"\n              i18n-defaultLabel=\"@@omni-payment-wrapper-review-counterparty-message-to-beneficiary.label\"\n            ></bb-payord-dynamic-label>\n          </div>\n          <div class=\"break-word\">\n            {{ payment?.counterparty?.remittanceInformation }}\n          </div>\n        </div>\n\n        <div class=\"bb-block bb-block--md\" *ngIf=\"payment?.messageToBank || payment?.counterparty?.messageToBank\">\n          <div class=\"bb-text-bold\">\n            <bb-payord-dynamic-label\n              name=\"messageToBank\"\n              [config]=\"paymentConfig\"\n              defaultLabel=\"Message to beneficiary bank\"\n              i18n-defaultLabel=\"@@omni-payment-wrapper-review-message-to-bank.label\"\n            ></bb-payord-dynamic-label>\n          </div>\n          <div class=\"break-word\">\n            {{ payment?.counterparty?.messageToBank || payment?.messageToBank }}\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </fieldset>\n\n  <div class=\"bb-button-bar bb-button-bar--reverse\">\n    <button\n      bbButton\n      class=\"bb-button-bar__button\"\n      data-role=\"submit-button\"\n      (click)=\"methods?.submit()\"\n      [disabled]=\"methods?.isSubmitting$() | async\"\n      *ngIf=\"!methods?.isApprovalEnabled()\"\n      i18n=\"@@omni-payment-wrapper-review-btn-group-submit-payment.label\"\n    >\n      Confirm and Send Money\n    </button>\n    <div class=\"btn-group bb-button-bar__button\" data-role=\"button-group\" *ngIf=\"methods?.isApprovalEnabled()\">\n      <bb-load-button-ui\n        color=\"primary\"\n        [isLoading]=\"methods?.isSubmitting$() | async\"\n        (click)=\"methods?.submit()\"\n        i18n=\"@@omni-payment-wrapper-review-btn-group-submit-payment.label\"\n      >\n        Submit\n      </bb-load-button-ui>\n\n      <bb-dropdown-menu-ui\n        class=\"btn-group\"\n        btnColor=\"primary\"\n        icon=\"caret-down\"\n        data-role=\"dropdown-menu\"\n        container=\"body\"\n        position=\"top-right\"\n      >\n        <ng-template bbDropdownMenuItem>\n          <button\n            role=\"menuitem\"\n            type=\"button\"\n            class=\"dropdown-item\"\n            data-role=\"bus-submit-and-approve-button\"\n            [disabled]=\"methods?.isSubmitting$() | async\"\n            (bbKeyboardClick)=\"methods?.submit(true)\"\n            i18n=\"@@omni-payment-wrapper-review-btn-group-submit-and-approve-payment.label\"\n          >\n            Submit and Approve\n          </button>\n        </ng-template>\n      </bb-dropdown-menu-ui>\n    </div>\n    <button\n      class=\"bb-button-bar__button\"\n      bbButton\n      color=\"secondary\"\n      data-role=\"edit-button\"\n      (click)=\"methods?.edit()\"\n      [disabled]=\"methods?.isSubmitting$() | async\"\n      i18n=\"@@omni-payment-wrapper-review-btn-group-edit-payment.label\"\n    >\n      Edit\n    </button>\n    <button\n      bbButton\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      color=\"link\"\n      data-role=\"cancel-button\"\n      (click)=\"methods?.toggleDiscardDialog()\"\n      [disabled]=\"methods?.isSubmitting$() | async\"\n      i18n=\"@@omni-payment-wrapper-review-btn-group-discard-payment.label\"\n    >\n      Cancel\n    </button>\n  </div>\n</ng-template>\n\n<ng-template #successScreen>\n  <div class=\"bb-text-align-center bb-block--xl\">\n    <picture>\n      <source srcset=\"{{ successImgNoMotion | async }}\" media=\"(prefers-reduced-motion: reduce)\" />\n      <img\n        srcset=\"{{ (successImg | async) + '?' + timestamp }}\"\n        alt=\"Success!\"\n        i18n-alt=\"Success!|Text for transfer succeeded@@omni-payment-wrapper.complete.transfer-succeeded\"\n        data-role=\"transfer-success-anim\"\n        class=\"img-fluid\"\n      />\n    </picture>\n    <div></div>\n    <bb-header-ui\n      headingClasses=\"bb-text-semi-bold\"\n      headingType=\"h2\"\n      heading=\"Success!\"\n      i18n-heading=\"Success!|Text for success@@omni-payment-wrapper.complete.success\"\n    ></bb-header-ui>\n    <div data-role=\"adapted-success-message\" *ngIf=\"!payment?.paymentOrderId; else editPaymentMessageTemplate\">\n      <span\n        *ngIf=\"!isScheduledTransfer\"\n        class=\"bb-text-support\"\n        i18n=\"Success Transfer|Text for success transfer@@omni-payment-wrapper.complete.success-message\"\n      >\n        You’ve just transferred\n        {{ payment?.remittanceInfo?.amountGroup.currency }}\n        {{ payment?.remittanceInfo?.amountGroup.amount }} to {{ payment?.counterparty.name }}'s.\n      </span>\n      <span\n        *ngIf=\"isScheduledTransfer\"\n        class=\"bb-text-support\"\n        i18n=\"\n          Success Scheduled Transfer|Text for success scheduled\n          transfer@@omni-payment-wrapper.scheduled-transfer.complete.success-message\"\n      >\n        You’ve just scheduled transfer to {{ payment?.counterparty.name }}'s.\n      </span>\n    </div>\n    <ng-template #editPaymentMessageTemplate>\n      <span\n        class=\"bb-text-support\"\n        i18n=\"Success edit transfer|Text for edit transfer success@@omni-payment-wrapper.complete.success-edit-message\"\n        data-role=\"adapted-success-edit-message\"\n      >\n        You’ve just edited the scheduled transfer to\n        {{ payment?.counterparty.name }}'s.\n      </span>\n    </ng-template>\n  </div>\n  <div class=\"bb-text-align-center bb-block bb-block--xl\" *ngIf=\"payment?.counterparty?.saveNewContact\">\n    <div class=\"bb-payment-account-details-card bb-inline-stack\">\n      <div class=\"bb-inline-stack\">\n        <ng-container *ngIf=\"!!(methods?.getSaveContactResponse$ | async)?.id; else saveContactFail\">\n          <bb-icon-ui name=\"success\" color=\"success\" class=\"bb-stack__item bb-stack__item--spacing-sm\"></bb-icon-ui>\n          <span\n            i18n=\"\n              Success Save Contact|Text for success save contact@@omni-payment-wrapper.complete.success-save-contact\"\n            >{{ payment?.counterparty?.name }} is saved to your contacts</span\n          >\n        </ng-container>\n        <ng-template #saveContactFail>\n          <bb-icon-ui\n            name=\"error-outline\"\n            color=\"danger\"\n            class=\"bb-stack__item bb-stack__item--spacing-sm\"\n          ></bb-icon-ui>\n          <span i18n=\"Fail Save Contact|Text for fail save contact@@omni-payment-wrapper.complete.fail-save-contact\"\n            >Can’t save {{ payment?.counterparty?.name }} to your contacts. Please try again later.</span\n          >\n        </ng-template>\n      </div>\n    </div>\n  </div>\n  <div class=\"bb-text-align-center\">\n    <div class=\"bb-block bb-block--md\">\n      <button\n        *ngIf=\"!payment?.paymentOrderId\"\n        bbButton\n        color=\"primary\"\n        (click)=\"methods?.reset()\"\n        i18n=\"Make another transfer button|Make another transfer@@omni-payment-wrapper.complete.button.transfer-done\"\n      >\n        Make another transfer\n      </button>\n      <button\n        *ngIf=\"payment?.paymentOrderId\"\n        bbButton\n        color=\"primary\"\n        (click)=\"methods?.navigateToAfterSuccessPage()\"\n        i18n=\"\n          View scheduled transfers button|View scheduled\n          transfers@@omni-payment-wrapper.complete.button.scheduled-transfer-done\"\n      >\n        View scheduled transfers\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<bb-modal-ui\n  [isOpen]=\"methods?.showDiscardDialog()\"\n  (cancel)=\"methods?.toggleDiscardDialog()\"\n  (confirm)=\"methods?.reset()\"\n>\n  <bb-modal-header-ui\n    title=\"Discard entered data?\"\n    i18n-title=\"omni-payment-adapted-review-discard-modal-title\"\n  ></bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <ng-container i18n=\"@@omni-payment-adapted-review-discard-modal-content\">\n        Are you sure to exit and discard all changes? Entered data will be lost.\n      </ng-container>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"danger\"\n          class=\"bb-button-bar__button\"\n          (click)=\"methods?.reset()\"\n          data-role=\"discard-action-btn\"\n          i18n=\"@@omni-payment-adapted-review-discard-modal-discard-btn\"\n        >\n          Discard\n        </button>\n\n        <button\n          bbButton\n          class=\"bb-button-bar__button\"\n          color=\"link\"\n          (click)=\"methods?.toggleDiscardDialog()\"\n          data-role=\"cancel-action-btn\"\n          i18n=\"@@omni-payment-adapted-review-discard-modal-cancel-btn\"\n        >\n          Cancel\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n"]}