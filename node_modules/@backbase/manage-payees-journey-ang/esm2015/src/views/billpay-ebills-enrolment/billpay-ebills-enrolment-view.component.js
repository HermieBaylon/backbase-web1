import { Component, Input, ViewChild } from '@angular/core';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { PayverisEnrolmentState } from '../../model/payveris-enrolment-state.enum';
import { PayverisEnrolmentComponentState } from '../../model';
import * as i0 from "@angular/core";
import * as i1 from "../../services/billpay-payveris-ebills-enrolment-widget.service";
import * as i2 from "@angular/router";
import * as i3 from "../../services/manage-payees-navigation.service";
import * as i4 from "@backbase/ui-ang/icon";
import * as i5 from "@backbase/ui-ang/header";
import * as i6 from "@backbase/ui-ang/loading-indicator";
import * as i7 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-select-biller/billpay-payveris-ebills-enrolment-select-biller.component";
import * as i8 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-login/billpay-payveris-ebills-enrolment-login.component";
import * as i9 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-mfa-entry/billpay-payveris-ebills-enrolment-mfa-entry.component";
import * as i10 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-otp-select/billpay-payveris-ebills-enrolment-otp-select.component";
import * as i11 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-otp-entry/billpay-payveris-ebills-enrolment-otp-entry.component";
import * as i12 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-captcha/billpay-payveris-ebills-enrolment-captcha.component";
import * as i13 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-select-account/billpay-payveris-ebills-enrolment-select-account.component";
import * as i14 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-error/billpay-payveris-ebills-enrolment-error.component";
import * as i15 from "../../components/payveris-ebills-enrollment/billpay-payveris-ebills-enrolment-notification-success/billpay-payveris-ebills-enrolment-notification-success.component";
import * as i16 from "@backbase/ui-ang/button";
import * as i17 from "@angular/common";
export class EbillsEnrolmentViewComponent {
    /** @internal */
    constructor(payverisEbillsEnrolmentWidgetService, route, ref, routerService) {
        this.payverisEbillsEnrolmentWidgetService = payverisEbillsEnrolmentWidgetService;
        this.route = route;
        this.ref = ref;
        this.routerService = routerService;
        this.EnrolmentStates = PayverisEnrolmentState;
        this.ComponentStates = PayverisEnrolmentComponentState;
        this.destroy$ = new Subject();
        this.payverisEnrolmentSuccessHeaderMessage = '';
        this.payverisEnrolmentSuccessMessage = '';
    }
    ngOnInit() {
        this.payverisEbillsEnrolmentWidgetService.widgetStateChange.pipe(takeUntil(this.destroy$)).subscribe(() => {
            this.ref.detectChanges();
            if (this.currentState === PayverisEnrolmentState.Success) {
                this.goToPayeeList();
            }
        });
        this.payverisEbillsEnrolmentWidgetService.payeeId = this.route.snapshot.params['payeeID'] || undefined;
        if (this.payeeId) {
            this.payeeName = this.payverisEbillsEnrolmentWidgetService.getPayeeNameFromID(this.payeeId);
        }
        this.payverisEbillsEnrolmentWidgetService.onInitializeEnrolment();
    }
    submitPayeeLogin(login) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayeeLogin(login);
    }
    submitBiller(billerSelectedIndex) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitBillerSelection(billerSelectedIndex);
    }
    submitMfa() {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayverisEbillMfa();
    }
    submitOtpTransport(transportSelectedIndex) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayverisEbillOtpTransportSelection(transportSelectedIndex);
    }
    submitOtpPasscode(passcode) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayverisEbillPayeeOtpPasscode(passcode);
    }
    submitCaptcha(captcha) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayverisEbillPayeeCaptcha(captcha);
    }
    submitPayverisEbillAccountSelection(accountSelectedIndex) {
        this.payverisEbillsEnrolmentWidgetService.onSubmitPayverisEbillAccountSelection(accountSelectedIndex);
    }
    goToPayeeList() {
        this.payverisEbillsEnrolmentWidgetService.cancelEnrolment().subscribe();
        this.routerService.navigateToPayeeList({ relativeTo: this.route.parent });
    }
    get payeeId() {
        return this.payverisEbillsEnrolmentWidgetService.payeeId;
    }
    get currentState() {
        return this.payverisEbillsEnrolmentWidgetService.currentState;
    }
    get errorState() {
        return this.payverisEbillsEnrolmentWidgetService.errorState;
    }
    get loginCredentialsArray() {
        return this.payverisEbillsEnrolmentWidgetService.loginCredentialsArray;
    }
    get mfaArray() {
        return this.payverisEbillsEnrolmentWidgetService.mfaArray;
    }
    get componentState() {
        return this.payverisEbillsEnrolmentWidgetService.componentState;
    }
    get userInputFailed() {
        return this.payverisEbillsEnrolmentWidgetService.userInputFailed;
    }
    get otpTransportMethodSelected() {
        return this.payverisEbillsEnrolmentWidgetService.otpTransportMethodSelected;
    }
    get otpTransports() {
        return this.payverisEbillsEnrolmentWidgetService.otpTransports;
    }
    get captchaImageType() {
        return this.payverisEbillsEnrolmentWidgetService.captchaImageType;
    }
    get captchaImageSrc() {
        return this.payverisEbillsEnrolmentWidgetService.captchaImageSrc;
    }
    get accounts() {
        return this.payverisEbillsEnrolmentWidgetService.accounts;
    }
    get billers() {
        return this.payverisEbillsEnrolmentWidgetService.billers;
    }
    ngOnDestroy() {
        this.payverisEbillsEnrolmentWidgetService.cancelCallback();
        this.destroy$.next();
        this.destroy$.complete();
    }
}
EbillsEnrolmentViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: EbillsEnrolmentViewComponent, deps: [{ token: i1.BillpayPayverisEbillsEnrolmentWidgetService }, { token: i2.ActivatedRoute }, { token: i0.ChangeDetectorRef }, { token: i3.ManagePayeesNavigationService }], target: i0.ɵɵFactoryTarget.Component });
EbillsEnrolmentViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: EbillsEnrolmentViewComponent, selector: "bb-billpay-ebills-enrolment-view", inputs: { dismissTimeoutValue: "dismissTimeoutValue" }, viewQueries: [{ propertyName: "payverisEnrolmentSuccessHeaderMessage", first: true, predicate: ["payverisEnrolmentSuccessHeaderMessage"], descendants: true }, { propertyName: "payverisEnrolmentSuccessMessage", first: true, predicate: ["payverisEnrolmentSuccessMessage"], descendants: true }], ngImport: i0, template: "<div class=\"bb-block bb-block--xl\">\n  <button\n    bbButton\n    class=\"bb-block bb-block--md pl-0\"\n    (click)=\"goToPayeeList()\"\n    data-role=\"payveris-payee-login-return-to-payee-list-link\"\n    color=\"link\"\n  >\n    <bb-icon-ui name=\"arrow-back\" size=\"md\"></bb-icon-ui>\n    <span\n      i18n=\"\n        Back to payee list button|Button on login page for returning to payee list\n        @@bb-billpay-payveris-ebills-enrolment-login.button.back-to-payee-list\"\n      >Back to payee list</span\n    >\n  </button>\n  <bb-header-ui\n    headingType=\"h1\"\n    heading=\"Get eBills for '{{ payeeName | async }}'\"\n    i18n-heading=\"\n      Get ebills for payee|Header on payveris ebill enrolment login form\n      @@bb-billpay-payveris-ebills-enrolment-login.main-header.get-ebills-for-payee\"\n    data-role=\"payveris-payee-login-header\"\n  >\n  </bb-header-ui>\n</div>\n\n<div class=\"card card-lg\">\n  <div class=\"card-body\">\n    <ng-container [ngSwitch]=\"currentState\">\n      <ng-container *ngSwitchCase=\"EnrolmentStates.Initialize\">\n        <ng-container [ngSwitch]=\"componentState\">\n          <bb-loading-indicator-ui\n            *ngSwitchCase=\"ComponentStates.Checking\"\n            loaderSize=\"lg\"\n            text=\"Initializing...\"\n            i18n-text=\"\n              Initializing...|Ebill Payveris Enrolment Widget initializing\n              text@@bb-billpay-ebills-payveris-enrolment-widget-ang.initializing.text\"\n          >\n          </bb-loading-indicator-ui>\n\n          <bb-loading-indicator-ui\n            *ngSwitchCase=\"ComponentStates.Callback\"\n            text=\"eBill enrolment is taking a little longer than usual, please be patient...\"\n            i18n-text=\"\n              eBill enrolment is taking a little longer than usual, please be patient...|Ebill Payveris Enrolment Widget\n              taking longer than usual text@@bb-billpay-ebills-payveris-enrolment-widget-ang.initializing-callback.text\"\n            loaderSize=\"lg\"\n            data-role=\"payveris-callback-info\"\n          ></bb-loading-indicator-ui>\n        </ng-container>\n      </ng-container>\n      <ng-container *ngIf=\"payeeName | async as name\">\n        <bb-billpay-payveris-ebills-enrolment-select-biller\n          *ngSwitchCase=\"EnrolmentStates.SelectBiller\"\n          [payeeName]=\"name\"\n          [componentState]=\"componentState\"\n          [billers]=\"billers\"\n          (billerSelect)=\"submitBiller($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-select-biller>\n\n        <bb-billpay-payveris-ebills-enrolment-login\n          *ngSwitchCase=\"EnrolmentStates.Login\"\n          [payeeName]=\"name\"\n          [componentState]=\"componentState\"\n          [credentialsFailed]=\"userInputFailed\"\n          [credentialsArray]=\"loginCredentialsArray\"\n          (payeeLogin)=\"submitPayeeLogin($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-login>\n\n        <bb-billpay-payveris-ebills-enrolment-mfa-entry\n          *ngSwitchCase=\"EnrolmentStates.Mfa\"\n          [payeeName]=\"name\"\n          [mfaArray]=\"mfaArray\"\n          [componentState]=\"componentState\"\n          [mfaFailed]=\"userInputFailed\"\n          (mfaEntry)=\"submitMfa()\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-mfa-entry>\n\n        <bb-billpay-payveris-ebills-enrolment-otp-select\n          *ngSwitchCase=\"EnrolmentStates.OtpSelect\"\n          [payeeName]=\"name\"\n          [componentState]=\"componentState\"\n          [transports]=\"otpTransports\"\n          (transportSelect)=\"submitOtpTransport($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-otp-select>\n\n        <bb-billpay-payveris-ebills-enrolment-otp-entry\n          *ngSwitchCase=\"EnrolmentStates.OtpEntry\"\n          [payeeName]=\"name\"\n          [optTransportMethod]=\"otpTransportMethodSelected\"\n          [componentState]=\"componentState\"\n          [passcodeFailed]=\"userInputFailed\"\n          (passcodeEntry)=\"submitOtpPasscode($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-otp-entry>\n\n        <bb-billpay-payveris-ebills-enrolment-captcha\n          *ngSwitchCase=\"EnrolmentStates.Captcha\"\n          [payeeName]=\"name\"\n          [captchaImageType]=\"captchaImageType\"\n          [captchaImageSrc]=\"captchaImageSrc\"\n          [componentState]=\"componentState\"\n          [captchaFailed]=\"userInputFailed\"\n          (captchaEntry)=\"submitCaptcha($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-captcha>\n\n        <bb-billpay-payveris-ebills-enrolment-select-account\n          *ngSwitchCase=\"EnrolmentStates.SelectAccounts\"\n          [payeeName]=\"name\"\n          [componentState]=\"componentState\"\n          [accounts]=\"accounts\"\n          (accountSelect)=\"submitPayverisEbillAccountSelection($event)\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-select-account>\n\n        <bb-billpay-payveris-ebills-enrolment-error\n          *ngSwitchCase=\"EnrolmentStates.ErrorState\"\n          [errorState]=\"errorState\"\n          (returnToPayeeList)=\"goToPayeeList()\"\n        ></bb-billpay-payveris-ebills-enrolment-error>\n\n        <bb-billpay-payveris-ebills-enrolment-notification-success\n          *ngSwitchCase=\"EnrolmentStates.Success\"\n          [ttl]=\"dismissTimeoutValue\"\n          [header]=\"payverisEnrolmentSuccessHeaderMessage\"\n          [message]=\"payverisEnrolmentSuccessMessage2\"\n        ></bb-billpay-payveris-ebills-enrolment-notification-success>\n\n        <ng-template #payverisEnrolmentSuccessMessage2>\n          <span\n            i18n=\"\n              eBills enabled|eBills enabled successfully notification\n              message@@bb-billpay-payveris-ebills-enrolment.notification.successBody\"\n            >eBills for the payee &apos;{{ name }}&apos; have been enabled successfully</span\n          >\n        </ng-template>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>\n<ng-template #payverisEnrolmentSuccessHeaderMessage>\n  <span\n    i18n=\"\n      eBills enabled|eBills enabled successfully notification\n      header@@bb-billpay-payveris-ebills-enrolment.notification.successHeader\"\n    >eBills enabled</span\n  >\n</ng-template>\n", components: [{ type: i4.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i5.HeaderComponent, selector: "bb-header-ui", inputs: ["headingClasses", "headingType", "heading"] }, { type: i6.LoadingIndicatorComponent, selector: "bb-loading-indicator-ui", inputs: ["text", "loaderSize", "showDelay", "hasBackground", "inline"] }, { type: i7.BillpayPayverisEbillsEnrolmentSelectBillerComponent, selector: "bb-billpay-payveris-ebills-enrolment-select-biller", inputs: ["payeeName", "billers", "componentState"], outputs: ["billerSelect", "returnToPayeeList"] }, { type: i8.BillpayPayverisEbillsEnrolmentLoginComponent, selector: "bb-billpay-payveris-ebills-enrolment-login", inputs: ["payeeName", "credentialsArray", "componentState", "credentialsFailed"], outputs: ["returnToPayeeList", "payeeLogin"] }, { type: i9.BillpayPayverisEbillsEnrolmentMfaEntryComponent, selector: "bb-billpay-payveris-ebills-enrolment-mfa-entry", inputs: ["payeeName", "mfaArray", "componentState", "mfaFailed"], outputs: ["returnToPayeeList", "mfaEntry"] }, { type: i10.BillpayPayverisEbillsEnrolmentOtpSelectComponent, selector: "bb-billpay-payveris-ebills-enrolment-otp-select", inputs: ["payeeName", "transports", "componentState"], outputs: ["transportSelect", "returnToPayeeList"] }, { type: i11.BillpayPayverisEbillsEnrolmentOtpEntryComponent, selector: "bb-billpay-payveris-ebills-enrolment-otp-entry", inputs: ["payeeName", "optTransportMethod", "componentState", "passcodeFailed"], outputs: ["returnToPayeeList", "passcodeEntry"] }, { type: i12.BillpayPayverisEbillsEnrolmentCaptchaComponent, selector: "bb-billpay-payveris-ebills-enrolment-captcha", inputs: ["payeeName", "captchaImageType", "captchaImageSrc", "componentState", "captchaFailed"], outputs: ["returnToPayeeList", "captchaEntry"] }, { type: i13.BillpayPayverisEbillsEnrolmentSelectAccountComponent, selector: "bb-billpay-payveris-ebills-enrolment-select-account", inputs: ["payeeName", "accounts", "componentState"], outputs: ["accountSelect", "returnToPayeeList"] }, { type: i14.BillpayPayverisEbillsEnrolmentErrorComponent, selector: "bb-billpay-payveris-ebills-enrolment-error", inputs: ["errorState"], outputs: ["returnToPayeeList"] }, { type: i15.BillpayPayverisEbillsEnrolmentNotificationSuccessComponent, selector: "bb-billpay-payveris-ebills-enrolment-notification-success", inputs: ["ttl", "header", "message"] }], directives: [{ type: i16.ButtonDirective, selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i17.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i17.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i17.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "async": i17.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: EbillsEnrolmentViewComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-billpay-ebills-enrolment-view',
                    templateUrl: './billpay-ebills-enrolment-view.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.BillpayPayverisEbillsEnrolmentWidgetService }, { type: i2.ActivatedRoute }, { type: i0.ChangeDetectorRef }, { type: i3.ManagePayeesNavigationService }]; }, propDecorators: { dismissTimeoutValue: [{
                type: Input
            }], payverisEnrolmentSuccessHeaderMessage: [{
                type: ViewChild,
                args: ['payverisEnrolmentSuccessHeaderMessage']
            }], payverisEnrolmentSuccessMessage: [{
                type: ViewChild,
                args: ['payverisEnrolmentSuccessMessage']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlsbHBheS1lYmlsbHMtZW5yb2xtZW50LXZpZXcuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9tYW5hZ2UtcGF5ZWVzLWpvdXJuZXkvc3JjL3ZpZXdzL2JpbGxwYXktZWJpbGxzLWVucm9sbWVudC9iaWxscGF5LWViaWxscy1lbnJvbG1lbnQtdmlldy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL21hbmFnZS1wYXllZXMtam91cm5leS9zcmMvdmlld3MvYmlsbHBheS1lYmlsbHMtZW5yb2xtZW50L2JpbGxwYXktZWJpbGxzLWVucm9sbWVudC12aWV3LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBcUIsU0FBUyxFQUFFLEtBQUssRUFBcUIsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xHLE9BQU8sRUFBYyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDM0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBRW5GLE9BQU8sRUFBc0MsK0JBQStCLEVBQUUsTUFBTSxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPbEcsTUFBTSxPQUFPLDRCQUE0QjtJQVl2QyxnQkFBZ0I7SUFDaEIsWUFDbUIsb0NBQWlGLEVBQ2pGLEtBQXFCLEVBQ3JCLEdBQXNCLEVBQ3RCLGFBQTRDO1FBSDVDLHlDQUFvQyxHQUFwQyxvQ0FBb0MsQ0FBNkM7UUFDakYsVUFBSyxHQUFMLEtBQUssQ0FBZ0I7UUFDckIsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFDdEIsa0JBQWEsR0FBYixhQUFhLENBQStCO1FBaEJ0RCxvQkFBZSxHQUFHLHNCQUFzQixDQUFDO1FBQ3pDLG9CQUFlLEdBQUcsK0JBQStCLENBQUM7UUFHMUMsYUFB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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBNYW5hZ2VQYXllZXNOYXZpZ2F0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21hbmFnZS1wYXllZXMtbmF2aWdhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBFYmlsbEFjY291bnQsIEViaWxsQ3JlZGVudGlhbCwgRWJpbGxCaWxsZXIsIE90cERlbGl2ZXJ5TWV0aG9kIH0gZnJvbSAnQGJhY2tiYXNlL2RhdGEtYW5nL2JpbGxwYXknO1xuaW1wb3J0IHsgUGF5dmVyaXNFbnJvbG1lbnRTdGF0ZSB9IGZyb20gJy4uLy4uL21vZGVsL3BheXZlcmlzLWVucm9sbWVudC1zdGF0ZS5lbnVtJztcbmltcG9ydCB7IEJpbGxwYXlQYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQtd2lkZ2V0LnNlcnZpY2UnO1xuaW1wb3J0IHsgUGF5dmVyaXNPdHBQYXNzY29kZSwgUGF5dmVyaXNMb2dpbiwgUGF5dmVyaXNFbnJvbG1lbnRDb21wb25lbnRTdGF0ZSB9IGZyb20gJy4uLy4uL21vZGVsJztcbmltcG9ydCB7IFBheXZlcmlzQ2FwdGNoYSB9IGZyb20gJy4uLy4uL21vZGVsL3BheXZlcmlzLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItYmlsbHBheS1lYmlsbHMtZW5yb2xtZW50LXZpZXcnLFxuICB0ZW1wbGF0ZVVybDogJy4vYmlsbHBheS1lYmlsbHMtZW5yb2xtZW50LXZpZXcuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBFYmlsbHNFbnJvbG1lbnRWaWV3Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICByZWFkb25seSBFbnJvbG1lbnRTdGF0ZXMgPSBQYXl2ZXJpc0Vucm9sbWVudFN0YXRlO1xuICByZWFkb25seSBDb21wb25lbnRTdGF0ZXMgPSBQYXl2ZXJpc0Vucm9sbWVudENvbXBvbmVudFN0YXRlO1xuICBwYXllZU5hbWU6IE9ic2VydmFibGU8c3RyaW5nPiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBASW5wdXQoKSBkaXNtaXNzVGltZW91dFZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgQFZpZXdDaGlsZCgncGF5dmVyaXNFbnJvbG1lbnRTdWNjZXNzSGVhZGVyTWVzc2FnZScpIHBheXZlcmlzRW5yb2xtZW50U3VjY2Vzc0hlYWRlck1lc3NhZ2UgPSAnJztcbiAgQFZpZXdDaGlsZCgncGF5dmVyaXNFbnJvbG1lbnRTdWNjZXNzTWVzc2FnZScpIHBheXZlcmlzRW5yb2xtZW50U3VjY2Vzc01lc3NhZ2UgPSAnJztcblxuICAvKiogQGludGVybmFsICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlOiBCaWxscGF5UGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJvdXRlclNlcnZpY2U6IE1hbmFnZVBheWVlc05hdmlnYXRpb25TZXJ2aWNlLFxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2Uud2lkZ2V0U3RhdGVDaGFuZ2UucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IFBheXZlcmlzRW5yb2xtZW50U3RhdGUuU3VjY2Vzcykge1xuICAgICAgICB0aGlzLmdvVG9QYXllZUxpc3QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5wYXllZUlkID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbXNbJ3BheWVlSUQnXSB8fCB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMucGF5ZWVJZCkge1xuICAgICAgdGhpcy5wYXllZU5hbWUgPSB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5nZXRQYXllZU5hbWVGcm9tSUQodGhpcy5wYXllZUlkKTtcbiAgICB9XG5cbiAgICB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5vbkluaXRpYWxpemVFbnJvbG1lbnQoKTtcbiAgfVxuXG4gIHN1Ym1pdFBheWVlTG9naW4obG9naW46IFBheXZlcmlzTG9naW4pIHtcbiAgICB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5vblN1Ym1pdFBheWVlTG9naW4obG9naW4pO1xuICB9XG5cbiAgc3VibWl0QmlsbGVyKGJpbGxlclNlbGVjdGVkSW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLm9uU3VibWl0QmlsbGVyU2VsZWN0aW9uKGJpbGxlclNlbGVjdGVkSW5kZXgpO1xuICB9XG5cbiAgc3VibWl0TWZhKCkge1xuICAgIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLm9uU3VibWl0UGF5dmVyaXNFYmlsbE1mYSgpO1xuICB9XG5cbiAgc3VibWl0T3RwVHJhbnNwb3J0KHRyYW5zcG9ydFNlbGVjdGVkSW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLm9uU3VibWl0UGF5dmVyaXNFYmlsbE90cFRyYW5zcG9ydFNlbGVjdGlvbih0cmFuc3BvcnRTZWxlY3RlZEluZGV4KTtcbiAgfVxuXG4gIHN1Ym1pdE90cFBhc3Njb2RlKHBhc3Njb2RlOiBQYXl2ZXJpc090cFBhc3Njb2RlKSB7XG4gICAgdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2Uub25TdWJtaXRQYXl2ZXJpc0ViaWxsUGF5ZWVPdHBQYXNzY29kZShwYXNzY29kZSk7XG4gIH1cblxuICBzdWJtaXRDYXB0Y2hhKGNhcHRjaGE6IFBheXZlcmlzQ2FwdGNoYSkge1xuICAgIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLm9uU3VibWl0UGF5dmVyaXNFYmlsbFBheWVlQ2FwdGNoYShjYXB0Y2hhKTtcbiAgfVxuXG4gIHN1Ym1pdFBheXZlcmlzRWJpbGxBY2NvdW50U2VsZWN0aW9uKGFjY291bnRTZWxlY3RlZEluZGV4OiBudW1iZXIpIHtcbiAgICB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5vblN1Ym1pdFBheXZlcmlzRWJpbGxBY2NvdW50U2VsZWN0aW9uKGFjY291bnRTZWxlY3RlZEluZGV4KTtcbiAgfVxuXG4gIGdvVG9QYXllZUxpc3QoKSB7XG4gICAgdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UuY2FuY2VsRW5yb2xtZW50KCkuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5yb3V0ZXJTZXJ2aWNlLm5hdmlnYXRlVG9QYXllZUxpc3QoeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLnBhcmVudCB9KTtcbiAgfVxuXG4gIGdldCBwYXllZUlkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLnBheWVlSWQ7XG4gIH1cblxuICBnZXQgY3VycmVudFN0YXRlKCk6IFBheXZlcmlzRW5yb2xtZW50U3RhdGUge1xuICAgIHJldHVybiB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5jdXJyZW50U3RhdGU7XG4gIH1cblxuICBnZXQgZXJyb3JTdGF0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5lcnJvclN0YXRlO1xuICB9XG5cbiAgZ2V0IGxvZ2luQ3JlZGVudGlhbHNBcnJheSgpOiBFYmlsbENyZWRlbnRpYWxbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLmxvZ2luQ3JlZGVudGlhbHNBcnJheTtcbiAgfVxuXG4gIGdldCBtZmFBcnJheSgpOiBFYmlsbENyZWRlbnRpYWxbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLm1mYUFycmF5O1xuICB9XG5cbiAgZ2V0IGNvbXBvbmVudFN0YXRlKCk6IFBheXZlcmlzRW5yb2xtZW50Q29tcG9uZW50U3RhdGUge1xuICAgIHJldHVybiB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5jb21wb25lbnRTdGF0ZTtcbiAgfVxuXG4gIGdldCB1c2VySW5wdXRGYWlsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLnVzZXJJbnB1dEZhaWxlZDtcbiAgfVxuXG4gIGdldCBvdHBUcmFuc3BvcnRNZXRob2RTZWxlY3RlZCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5vdHBUcmFuc3BvcnRNZXRob2RTZWxlY3RlZDtcbiAgfVxuXG4gIGdldCBvdHBUcmFuc3BvcnRzKCk6IE90cERlbGl2ZXJ5TWV0aG9kW10gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnBheXZlcmlzRWJpbGxzRW5yb2xtZW50V2lkZ2V0U2VydmljZS5vdHBUcmFuc3BvcnRzO1xuICB9XG5cbiAgZ2V0IGNhcHRjaGFJbWFnZVR5cGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UuY2FwdGNoYUltYWdlVHlwZTtcbiAgfVxuXG4gIGdldCBjYXB0Y2hhSW1hZ2VTcmMoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UuY2FwdGNoYUltYWdlU3JjO1xuICB9XG5cbiAgZ2V0IGFjY291bnRzKCk6IEViaWxsQWNjb3VudFtdIHtcbiAgICByZXR1cm4gdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UuYWNjb3VudHM7XG4gIH1cblxuICBnZXQgYmlsbGVycygpOiBFYmlsbEJpbGxlcltdIHtcbiAgICByZXR1cm4gdGhpcy5wYXl2ZXJpc0ViaWxsc0Vucm9sbWVudFdpZGdldFNlcnZpY2UuYmlsbGVycztcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMucGF5dmVyaXNFYmlsbHNFbnJvbG1lbnRXaWRnZXRTZXJ2aWNlLmNhbmNlbENhbGxiYWNrKCk7XG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhsXCI+XG4gIDxidXR0b25cbiAgICBiYkJ1dHRvblxuICAgIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kIHBsLTBcIlxuICAgIChjbGljayk9XCJnb1RvUGF5ZWVMaXN0KClcIlxuICAgIGRhdGEtcm9sZT1cInBheXZlcmlzLXBheWVlLWxvZ2luLXJldHVybi10by1wYXllZS1saXN0LWxpbmtcIlxuICAgIGNvbG9yPVwibGlua1wiXG4gID5cbiAgICA8YmItaWNvbi11aSBuYW1lPVwiYXJyb3ctYmFja1wiIHNpemU9XCJtZFwiPjwvYmItaWNvbi11aT5cbiAgICA8c3BhblxuICAgICAgaTE4bj1cIlxuICAgICAgICBCYWNrIHRvIHBheWVlIGxpc3QgYnV0dG9ufEJ1dHRvbiBvbiBsb2dpbiBwYWdlIGZvciByZXR1cm5pbmcgdG8gcGF5ZWUgbGlzdFxuICAgICAgICBAQGJiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1sb2dpbi5idXR0b24uYmFjay10by1wYXllZS1saXN0XCJcbiAgICAgID5CYWNrIHRvIHBheWVlIGxpc3Q8L3NwYW5cbiAgICA+XG4gIDwvYnV0dG9uPlxuICA8YmItaGVhZGVyLXVpXG4gICAgaGVhZGluZ1R5cGU9XCJoMVwiXG4gICAgaGVhZGluZz1cIkdldCBlQmlsbHMgZm9yICd7eyBwYXllZU5hbWUgfCBhc3luYyB9fSdcIlxuICAgIGkxOG4taGVhZGluZz1cIlxuICAgICAgR2V0IGViaWxscyBmb3IgcGF5ZWV8SGVhZGVyIG9uIHBheXZlcmlzIGViaWxsIGVucm9sbWVudCBsb2dpbiBmb3JtXG4gICAgICBAQGJiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1sb2dpbi5tYWluLWhlYWRlci5nZXQtZWJpbGxzLWZvci1wYXllZVwiXG4gICAgZGF0YS1yb2xlPVwicGF5dmVyaXMtcGF5ZWUtbG9naW4taGVhZGVyXCJcbiAgPlxuICA8L2JiLWhlYWRlci11aT5cbjwvZGl2PlxuXG48ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWxnXCI+XG4gIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJjdXJyZW50U3RhdGVcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cIkVucm9sbWVudFN0YXRlcy5Jbml0aWFsaXplXCI+XG4gICAgICAgIDxuZy1jb250YWluZXIgW25nU3dpdGNoXT1cImNvbXBvbmVudFN0YXRlXCI+XG4gICAgICAgICAgPGJiLWxvYWRpbmctaW5kaWNhdG9yLXVpXG4gICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiQ29tcG9uZW50U3RhdGVzLkNoZWNraW5nXCJcbiAgICAgICAgICAgIGxvYWRlclNpemU9XCJsZ1wiXG4gICAgICAgICAgICB0ZXh0PVwiSW5pdGlhbGl6aW5nLi4uXCJcbiAgICAgICAgICAgIGkxOG4tdGV4dD1cIlxuICAgICAgICAgICAgICBJbml0aWFsaXppbmcuLi58RWJpbGwgUGF5dmVyaXMgRW5yb2xtZW50IFdpZGdldCBpbml0aWFsaXppbmdcbiAgICAgICAgICAgICAgdGV4dEBAYmItYmlsbHBheS1lYmlsbHMtcGF5dmVyaXMtZW5yb2xtZW50LXdpZGdldC1hbmcuaW5pdGlhbGl6aW5nLnRleHRcIlxuICAgICAgICAgID5cbiAgICAgICAgICA8L2JiLWxvYWRpbmctaW5kaWNhdG9yLXVpPlxuXG4gICAgICAgICAgPGJiLWxvYWRpbmctaW5kaWNhdG9yLXVpXG4gICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiQ29tcG9uZW50U3RhdGVzLkNhbGxiYWNrXCJcbiAgICAgICAgICAgIHRleHQ9XCJlQmlsbCBlbnJvbG1lbnQgaXMgdGFraW5nIGEgbGl0dGxlIGxvbmdlciB0aGFuIHVzdWFsLCBwbGVhc2UgYmUgcGF0aWVudC4uLlwiXG4gICAgICAgICAgICBpMThuLXRleHQ9XCJcbiAgICAgICAgICAgICAgZUJpbGwgZW5yb2xtZW50IGlzIHRha2luZyBhIGxpdHRsZSBsb25nZXIgdGhhbiB1c3VhbCwgcGxlYXNlIGJlIHBhdGllbnQuLi58RWJpbGwgUGF5dmVyaXMgRW5yb2xtZW50IFdpZGdldFxuICAgICAgICAgICAgICB0YWtpbmcgbG9uZ2VyIHRoYW4gdXN1YWwgdGV4dEBAYmItYmlsbHBheS1lYmlsbHMtcGF5dmVyaXMtZW5yb2xtZW50LXdpZGdldC1hbmcuaW5pdGlhbGl6aW5nLWNhbGxiYWNrLnRleHRcIlxuICAgICAgICAgICAgbG9hZGVyU2l6ZT1cImxnXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInBheXZlcmlzLWNhbGxiYWNrLWluZm9cIlxuICAgICAgICAgID48L2JiLWxvYWRpbmctaW5kaWNhdG9yLXVpPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInBheWVlTmFtZSB8IGFzeW5jIGFzIG5hbWVcIj5cbiAgICAgICAgPGJiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1zZWxlY3QtYmlsbGVyXG4gICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIkVucm9sbWVudFN0YXRlcy5TZWxlY3RCaWxsZXJcIlxuICAgICAgICAgIFtwYXllZU5hbWVdPVwibmFtZVwiXG4gICAgICAgICAgW2NvbXBvbmVudFN0YXRlXT1cImNvbXBvbmVudFN0YXRlXCJcbiAgICAgICAgICBbYmlsbGVyc109XCJiaWxsZXJzXCJcbiAgICAgICAgICAoYmlsbGVyU2VsZWN0KT1cInN1Ym1pdEJpbGxlcigkZXZlbnQpXCJcbiAgICAgICAgICAocmV0dXJuVG9QYXllZUxpc3QpPVwiZ29Ub1BheWVlTGlzdCgpXCJcbiAgICAgICAgPjwvYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LXNlbGVjdC1iaWxsZXI+XG5cbiAgICAgICAgPGJiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1sb2dpblxuICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCJFbnJvbG1lbnRTdGF0ZXMuTG9naW5cIlxuICAgICAgICAgIFtwYXllZU5hbWVdPVwibmFtZVwiXG4gICAgICAgICAgW2NvbXBvbmVudFN0YXRlXT1cImNvbXBvbmVudFN0YXRlXCJcbiAgICAgICAgICBbY3JlZGVudGlhbHNGYWlsZWRdPVwidXNlcklucHV0RmFpbGVkXCJcbiAgICAgICAgICBbY3JlZGVudGlhbHNBcnJheV09XCJsb2dpbkNyZWRlbnRpYWxzQXJyYXlcIlxuICAgICAgICAgIChwYXllZUxvZ2luKT1cInN1Ym1pdFBheWVlTG9naW4oJGV2ZW50KVwiXG4gICAgICAgICAgKHJldHVyblRvUGF5ZWVMaXN0KT1cImdvVG9QYXllZUxpc3QoKVwiXG4gICAgICAgID48L2JiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1sb2dpbj5cblxuICAgICAgICA8YmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW1mYS1lbnRyeVxuICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCJFbnJvbG1lbnRTdGF0ZXMuTWZhXCJcbiAgICAgICAgICBbcGF5ZWVOYW1lXT1cIm5hbWVcIlxuICAgICAgICAgIFttZmFBcnJheV09XCJtZmFBcnJheVwiXG4gICAgICAgICAgW2NvbXBvbmVudFN0YXRlXT1cImNvbXBvbmVudFN0YXRlXCJcbiAgICAgICAgICBbbWZhRmFpbGVkXT1cInVzZXJJbnB1dEZhaWxlZFwiXG4gICAgICAgICAgKG1mYUVudHJ5KT1cInN1Ym1pdE1mYSgpXCJcbiAgICAgICAgICAocmV0dXJuVG9QYXllZUxpc3QpPVwiZ29Ub1BheWVlTGlzdCgpXCJcbiAgICAgICAgPjwvYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW1mYS1lbnRyeT5cblxuICAgICAgICA8YmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW90cC1zZWxlY3RcbiAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiRW5yb2xtZW50U3RhdGVzLk90cFNlbGVjdFwiXG4gICAgICAgICAgW3BheWVlTmFtZV09XCJuYW1lXCJcbiAgICAgICAgICBbY29tcG9uZW50U3RhdGVdPVwiY29tcG9uZW50U3RhdGVcIlxuICAgICAgICAgIFt0cmFuc3BvcnRzXT1cIm90cFRyYW5zcG9ydHNcIlxuICAgICAgICAgICh0cmFuc3BvcnRTZWxlY3QpPVwic3VibWl0T3RwVHJhbnNwb3J0KCRldmVudClcIlxuICAgICAgICAgIChyZXR1cm5Ub1BheWVlTGlzdCk9XCJnb1RvUGF5ZWVMaXN0KClcIlxuICAgICAgICA+PC9iYi1iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQtb3RwLXNlbGVjdD5cblxuICAgICAgICA8YmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW90cC1lbnRyeVxuICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCJFbnJvbG1lbnRTdGF0ZXMuT3RwRW50cnlcIlxuICAgICAgICAgIFtwYXllZU5hbWVdPVwibmFtZVwiXG4gICAgICAgICAgW29wdFRyYW5zcG9ydE1ldGhvZF09XCJvdHBUcmFuc3BvcnRNZXRob2RTZWxlY3RlZFwiXG4gICAgICAgICAgW2NvbXBvbmVudFN0YXRlXT1cImNvbXBvbmVudFN0YXRlXCJcbiAgICAgICAgICBbcGFzc2NvZGVGYWlsZWRdPVwidXNlcklucHV0RmFpbGVkXCJcbiAgICAgICAgICAocGFzc2NvZGVFbnRyeSk9XCJzdWJtaXRPdHBQYXNzY29kZSgkZXZlbnQpXCJcbiAgICAgICAgICAocmV0dXJuVG9QYXllZUxpc3QpPVwiZ29Ub1BheWVlTGlzdCgpXCJcbiAgICAgICAgPjwvYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW90cC1lbnRyeT5cblxuICAgICAgICA8YmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LWNhcHRjaGFcbiAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiRW5yb2xtZW50U3RhdGVzLkNhcHRjaGFcIlxuICAgICAgICAgIFtwYXllZU5hbWVdPVwibmFtZVwiXG4gICAgICAgICAgW2NhcHRjaGFJbWFnZVR5cGVdPVwiY2FwdGNoYUltYWdlVHlwZVwiXG4gICAgICAgICAgW2NhcHRjaGFJbWFnZVNyY109XCJjYXB0Y2hhSW1hZ2VTcmNcIlxuICAgICAgICAgIFtjb21wb25lbnRTdGF0ZV09XCJjb21wb25lbnRTdGF0ZVwiXG4gICAgICAgICAgW2NhcHRjaGFGYWlsZWRdPVwidXNlcklucHV0RmFpbGVkXCJcbiAgICAgICAgICAoY2FwdGNoYUVudHJ5KT1cInN1Ym1pdENhcHRjaGEoJGV2ZW50KVwiXG4gICAgICAgICAgKHJldHVyblRvUGF5ZWVMaXN0KT1cImdvVG9QYXllZUxpc3QoKVwiXG4gICAgICAgID48L2JiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1jYXB0Y2hhPlxuXG4gICAgICAgIDxiYi1iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQtc2VsZWN0LWFjY291bnRcbiAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiRW5yb2xtZW50U3RhdGVzLlNlbGVjdEFjY291bnRzXCJcbiAgICAgICAgICBbcGF5ZWVOYW1lXT1cIm5hbWVcIlxuICAgICAgICAgIFtjb21wb25lbnRTdGF0ZV09XCJjb21wb25lbnRTdGF0ZVwiXG4gICAgICAgICAgW2FjY291bnRzXT1cImFjY291bnRzXCJcbiAgICAgICAgICAoYWNjb3VudFNlbGVjdCk9XCJzdWJtaXRQYXl2ZXJpc0ViaWxsQWNjb3VudFNlbGVjdGlvbigkZXZlbnQpXCJcbiAgICAgICAgICAocmV0dXJuVG9QYXllZUxpc3QpPVwiZ29Ub1BheWVlTGlzdCgpXCJcbiAgICAgICAgPjwvYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LXNlbGVjdC1hY2NvdW50PlxuXG4gICAgICAgIDxiYi1iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQtZXJyb3JcbiAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiRW5yb2xtZW50U3RhdGVzLkVycm9yU3RhdGVcIlxuICAgICAgICAgIFtlcnJvclN0YXRlXT1cImVycm9yU3RhdGVcIlxuICAgICAgICAgIChyZXR1cm5Ub1BheWVlTGlzdCk9XCJnb1RvUGF5ZWVMaXN0KClcIlxuICAgICAgICA+PC9iYi1iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQtZXJyb3I+XG5cbiAgICAgICAgPGJiLWJpbGxwYXktcGF5dmVyaXMtZWJpbGxzLWVucm9sbWVudC1ub3RpZmljYXRpb24tc3VjY2Vzc1xuICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCJFbnJvbG1lbnRTdGF0ZXMuU3VjY2Vzc1wiXG4gICAgICAgICAgW3R0bF09XCJkaXNtaXNzVGltZW91dFZhbHVlXCJcbiAgICAgICAgICBbaGVhZGVyXT1cInBheXZlcmlzRW5yb2xtZW50U3VjY2Vzc0hlYWRlck1lc3NhZ2VcIlxuICAgICAgICAgIFttZXNzYWdlXT1cInBheXZlcmlzRW5yb2xtZW50U3VjY2Vzc01lc3NhZ2UyXCJcbiAgICAgICAgPjwvYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50LW5vdGlmaWNhdGlvbi1zdWNjZXNzPlxuXG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjcGF5dmVyaXNFbnJvbG1lbnRTdWNjZXNzTWVzc2FnZTI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgZUJpbGxzIGVuYWJsZWR8ZUJpbGxzIGVuYWJsZWQgc3VjY2Vzc2Z1bGx5IG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICBtZXNzYWdlQEBiYi1iaWxscGF5LXBheXZlcmlzLWViaWxscy1lbnJvbG1lbnQubm90aWZpY2F0aW9uLnN1Y2Nlc3NCb2R5XCJcbiAgICAgICAgICAgID5lQmlsbHMgZm9yIHRoZSBwYXllZSAmYXBvczt7eyBuYW1lIH19JmFwb3M7IGhhdmUgYmVlbiBlbmFibGVkIHN1Y2Nlc3NmdWxseTwvc3BhblxuICAgICAgICAgID5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L2Rpdj5cbjwvZGl2PlxuPG5nLXRlbXBsYXRlICNwYXl2ZXJpc0Vucm9sbWVudFN1Y2Nlc3NIZWFkZXJNZXNzYWdlPlxuICA8c3BhblxuICAgIGkxOG49XCJcbiAgICAgIGVCaWxscyBlbmFibGVkfGVCaWxscyBlbmFibGVkIHN1Y2Nlc3NmdWxseSBub3RpZmljYXRpb25cbiAgICAgIGhlYWRlckBAYmItYmlsbHBheS1wYXl2ZXJpcy1lYmlsbHMtZW5yb2xtZW50Lm5vdGlmaWNhdGlvbi5zdWNjZXNzSGVhZGVyXCJcbiAgICA+ZUJpbGxzIGVuYWJsZWQ8L3NwYW5cbiAgPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==