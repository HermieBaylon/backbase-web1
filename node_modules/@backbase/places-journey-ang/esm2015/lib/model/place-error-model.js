const getMessageFromResponse = (error) => {
    const responseBody = error.error;
    if (responseBody &&
        responseBody.errors &&
        responseBody.errors[0] &&
        responseBody.errors[0].message) {
        return responseBody.errors[0].message;
    }
    else {
        return undefined;
    }
};
export const parseError = (error) => {
    // TODO: should have more user-friendly messages
    if (error.error instanceof ErrorEvent) {
        // Client-side or network error.
        return {
            message: 'An unexpected error occurred',
        };
    }
    else if (error.status && `${error.status}`.startsWith('4')) {
        // Backend returns unsuccessful response code.  In case of 400, try to get a message from the
        // response.
        return {
            message: getMessageFromResponse(error) || `Error ${error.status}`,
        };
    }
    else {
        // Backend returns 5xx
        return {
            message: 'An unexpected server error occurred',
        };
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhY2UtZXJyb3ItbW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3BsYWNlcy1qb3VybmV5L3NyYy9saWIvbW9kZWwvcGxhY2UtZXJyb3ItbW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEtBQXdCLEVBQUUsRUFBRTtJQUMxRCxNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBRWpDLElBQ0UsWUFBWTtRQUNaLFlBQVksQ0FBQyxNQUFNO1FBQ25CLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUM5QjtRQUNBLE9BQU8sWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDdkM7U0FBTTtRQUNMLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBd0IsRUFBZSxFQUFFO0lBQ2xFLGdEQUFnRDtJQUNoRCxJQUFJLEtBQUssQ0FBQyxLQUFLLFlBQVksVUFBVSxFQUFFO1FBQ3JDLGdDQUFnQztRQUNoQyxPQUFPO1lBQ0wsT0FBTyxFQUFFLDhCQUE4QjtTQUN4QyxDQUFDO0tBQ0g7U0FBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQzVELDZGQUE2RjtRQUM3RixZQUFZO1FBQ1osT0FBTztZQUNMLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxTQUFTLEtBQUssQ0FBQyxNQUFNLEVBQUU7U0FDbEUsQ0FBQztLQUNIO1NBQU07UUFDTCxzQkFBc0I7UUFDdEIsT0FBTztZQUNMLE9BQU8sRUFBRSxxQ0FBcUM7U0FDL0MsQ0FBQztLQUNIO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cEVycm9yUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxhY2VzRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGtleT86IHN0cmluZztcbiAgY29udGV4dD86IG9iamVjdDtcbn1cblxuY29uc3QgZ2V0TWVzc2FnZUZyb21SZXNwb25zZSA9IChlcnJvcjogSHR0cEVycm9yUmVzcG9uc2UpID0+IHtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gZXJyb3IuZXJyb3I7XG5cbiAgaWYgKFxuICAgIHJlc3BvbnNlQm9keSAmJlxuICAgIHJlc3BvbnNlQm9keS5lcnJvcnMgJiZcbiAgICByZXNwb25zZUJvZHkuZXJyb3JzWzBdICYmXG4gICAgcmVzcG9uc2VCb2R5LmVycm9yc1swXS5tZXNzYWdlXG4gICkge1xuICAgIHJldHVybiByZXNwb25zZUJvZHkuZXJyb3JzWzBdLm1lc3NhZ2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRXJyb3IgPSAoZXJyb3I6IEh0dHBFcnJvclJlc3BvbnNlKTogUGxhY2VzRXJyb3IgPT4ge1xuICAvLyBUT0RPOiBzaG91bGQgaGF2ZSBtb3JlIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAgaWYgKGVycm9yLmVycm9yIGluc3RhbmNlb2YgRXJyb3JFdmVudCkge1xuICAgIC8vIENsaWVudC1zaWRlIG9yIG5ldHdvcmsgZXJyb3IuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyxcbiAgICB9O1xuICB9IGVsc2UgaWYgKGVycm9yLnN0YXR1cyAmJiBgJHtlcnJvci5zdGF0dXN9YC5zdGFydHNXaXRoKCc0JykpIHtcbiAgICAvLyBCYWNrZW5kIHJldHVybnMgdW5zdWNjZXNzZnVsIHJlc3BvbnNlIGNvZGUuICBJbiBjYXNlIG9mIDQwMCwgdHJ5IHRvIGdldCBhIG1lc3NhZ2UgZnJvbSB0aGVcbiAgICAvLyByZXNwb25zZS5cbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogZ2V0TWVzc2FnZUZyb21SZXNwb25zZShlcnJvcikgfHwgYEVycm9yICR7ZXJyb3Iuc3RhdHVzfWAsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCYWNrZW5kIHJldHVybnMgNXh4XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZCcsXG4gICAgfTtcbiAgfVxufTtcbiJdfQ==