import { Injectable, Optional } from '@angular/core';
import { of } from 'rxjs';
import { map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/foundation-ang/core";
const defaultProperties = {
    dismissTimeout: 3,
    isAdminWidget: false,
};
export class DeviceInformationPreferenceService {
    constructor(model) {
        this.model = model;
    }
    getTimeoutPreference() {
        return this.model
            ? this.model.property('dismissTimeout', defaultProperties.dismissTimeout)
            : of(defaultProperties.dismissTimeout);
    }
    getAdminPreference() {
        return this.model
            ? this.model
                .property('isAdminWidget', JSON.stringify(defaultProperties.isAdminWidget))
                .pipe(map((value) => !!value && value !== 'false'))
            : of(defaultProperties.isAdminWidget);
    }
}
DeviceInformationPreferenceService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: DeviceInformationPreferenceService, deps: [{ token: i1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });
DeviceInformationPreferenceService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: DeviceInformationPreferenceService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: DeviceInformationPreferenceService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.ItemModel, decorators: [{
                    type: Optional
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2aWNlLWluZm9ybWF0aW9uLXByZWZlcmVuY2Uuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvZGV2aWNlLWluZm9ybWF0aW9uLXdpZGdldC9zcmMvc2VydmljZXMvZGV2aWNlLWluZm9ybWF0aW9uLXByZWZlcmVuY2Uuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVyRCxPQUFPLEVBQWMsRUFBRSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7O0FBT3JDLE1BQU0saUJBQWlCLEdBQXNCO0lBQzNDLGNBQWMsRUFBRSxDQUFDO0lBQ2pCLGFBQWEsRUFBRSxLQUFLO0NBQ3JCLENBQUM7QUFHRixNQUFNLE9BQU8sa0NBQWtDO0lBQzdDLFlBQXlDLEtBQWlCO1FBQWpCLFVBQUssR0FBTCxLQUFLLENBQVk7SUFBRyxDQUFDO0lBRTlELG9CQUFvQjtRQUNsQixPQUFPLElBQUksQ0FBQyxLQUFLO1lBQ2YsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFTLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLGNBQWMsQ0FBQztZQUNqRixDQUFDLENBQUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsS0FBSztZQUNmLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSztpQkFDUCxRQUFRLENBQVMsZUFBZSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLENBQUM7aUJBQ2xGLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFhLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sQ0FBQyxDQUFDO1lBQy9ELENBQUMsQ0FBQyxFQUFFLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUMsQ0FBQzs7Z0lBZlUsa0NBQWtDO29JQUFsQyxrQ0FBa0M7NEZBQWxDLGtDQUFrQztrQkFEOUMsVUFBVTs7MEJBRUksUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJdGVtTW9kZWwgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRQcm9wZXJ0aWVzIHtcbiAgZGlzbWlzc1RpbWVvdXQ6IG51bWJlcjtcbiAgaXNBZG1pbldpZGdldDogYm9vbGVhbjtcbn1cblxuY29uc3QgZGVmYXVsdFByb3BlcnRpZXM6IERlZmF1bHRQcm9wZXJ0aWVzID0ge1xuICBkaXNtaXNzVGltZW91dDogMyxcbiAgaXNBZG1pbldpZGdldDogZmFsc2UsXG59O1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGV2aWNlSW5mb3JtYXRpb25QcmVmZXJlbmNlU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIHByaXZhdGUgcmVhZG9ubHkgbW9kZWw/OiBJdGVtTW9kZWwpIHt9XG5cbiAgZ2V0VGltZW91dFByZWZlcmVuY2UoKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbFxuICAgICAgPyB0aGlzLm1vZGVsLnByb3BlcnR5PG51bWJlcj4oJ2Rpc21pc3NUaW1lb3V0JywgZGVmYXVsdFByb3BlcnRpZXMuZGlzbWlzc1RpbWVvdXQpXG4gICAgICA6IG9mKGRlZmF1bHRQcm9wZXJ0aWVzLmRpc21pc3NUaW1lb3V0KTtcbiAgfVxuXG4gIGdldEFkbWluUHJlZmVyZW5jZSgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbFxuICAgICAgPyB0aGlzLm1vZGVsXG4gICAgICAgICAgLnByb3BlcnR5PHN0cmluZz4oJ2lzQWRtaW5XaWRnZXQnLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0UHJvcGVydGllcy5pc0FkbWluV2lkZ2V0KSlcbiAgICAgICAgICAucGlwZShtYXAoKHZhbHVlOiBzdHJpbmcpID0+ICEhdmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpKVxuICAgICAgOiBvZihkZWZhdWx0UHJvcGVydGllcy5pc0FkbWluV2lkZ2V0KTtcbiAgfVxufVxuIl19