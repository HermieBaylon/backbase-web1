import { Injectable, Optional } from '@angular/core';
import { ONE_OFF_PAYMENT, RECURRING_PAYMENT } from '@backbase/billpay-journeys-common';
import { PaymentsFilterStatus } from './manage-bill-payments-journey-config.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../communication.service";
export class ManageBillPaymentsNavigationService {
    constructor(router, route, communicationService) {
        this.router = router;
        this.route = route;
        this.communicationService = communicationService;
    }
    navigateToPayment(id, isRecurring = false) {
        const paymentType = isRecurring ? RECURRING_PAYMENT : ONE_OFF_PAYMENT;
        this.router.navigate([id], { queryParams: { type: paymentType }, relativeTo: this.route });
    }
    navigateToPaymentsList(filter) {
        if (this.communicationService) {
            filter === PaymentsFilterStatus.HISTORICAL
                ? this.communicationService.navigateToPaymentsHistory()
                : this.communicationService.navigateToPaymentsList();
        }
        else {
            this.router.navigate(['./']);
        }
    }
    navigateToEditRecurringPayment(id) {
        var _a;
        (_a = this.communicationService) === null || _a === void 0 ? void 0 : _a.navigateToEditRecurringPayment(id);
    }
    navigateToEditOneOffPayment(id) {
        var _a;
        (_a = this.communicationService) === null || _a === void 0 ? void 0 : _a.navigateToEditOneOffPayment(id);
    }
}
ManageBillPaymentsNavigationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ManageBillPaymentsNavigationService, deps: [{ token: i1.Router }, { token: i1.ActivatedRoute }, { token: i2.CommunicationService, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });
ManageBillPaymentsNavigationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ManageBillPaymentsNavigationService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ManageBillPaymentsNavigationService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i1.ActivatedRoute }, { type: i2.CommunicationService, decorators: [{
                    type: Optional
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFuYWdlLWJpbGwtcGF5bWVudHMtbmF2aWdhdGlvbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9tYW5hZ2UtYmlsbC1wYXltZW50cy1qb3VybmV5L3NyYy9zZXJ2aWNlcy9tYW5hZ2UtYmlsbC1wYXltZW50cy1uYXZpZ2F0aW9uLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckQsT0FBTyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLCtDQUErQyxDQUFDOzs7O0FBSXJGLE1BQU0sT0FBTyxtQ0FBbUM7SUFDOUMsWUFDbUIsTUFBYyxFQUNkLEtBQXFCLEVBQ1Qsb0JBQTBDO1FBRnRELFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNULHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBc0I7SUFDdEUsQ0FBQztJQUVKLGlCQUFpQixDQUFDLEVBQVUsRUFBRSxjQUF1QixLQUFLO1FBQ3hELE1BQU0sV0FBVyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUN0RSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUM3RixDQUFDO0lBRUQsc0JBQXNCLENBQUMsTUFBYztRQUNuQyxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUM3QixNQUFNLEtBQUssb0JBQW9CLENBQUMsVUFBVTtnQkFDeEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyx5QkFBeUIsRUFBRTtnQkFDdkQsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1NBQ3hEO2FBQU07WUFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDOUI7SUFDSCxDQUFDO0lBRUQsOEJBQThCLENBQUMsRUFBVTs7UUFDdkMsTUFBQSxJQUFJLENBQUMsb0JBQW9CLDBDQUFFLDhCQUE4QixDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDRCwyQkFBMkIsQ0FBQyxFQUFVOztRQUNwQyxNQUFBLElBQUksQ0FBQyxvQkFBb0IsMENBQUUsMkJBQTJCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7aUlBM0JVLG1DQUFtQztxSUFBbkMsbUNBQW1DOzRGQUFuQyxtQ0FBbUM7a0JBRC9DLFVBQVU7OzBCQUtOLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBPTkVfT0ZGX1BBWU1FTlQsIFJFQ1VSUklOR19QQVlNRU5UIH0gZnJvbSAnQGJhY2tiYXNlL2JpbGxwYXktam91cm5leXMtY29tbW9uJztcbmltcG9ydCB7IFBheW1lbnRzRmlsdGVyU3RhdHVzIH0gZnJvbSAnLi9tYW5hZ2UtYmlsbC1wYXltZW50cy1qb3VybmV5LWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbW11bmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vY29tbXVuaWNhdGlvbi5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1hbmFnZUJpbGxQYXltZW50c05hdmlnYXRpb25TZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSByb3V0ZXI6IFJvdXRlcixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJlYWRvbmx5IGNvbW11bmljYXRpb25TZXJ2aWNlOiBDb21tdW5pY2F0aW9uU2VydmljZSxcbiAgKSB7fVxuXG4gIG5hdmlnYXRlVG9QYXltZW50KGlkOiBzdHJpbmcsIGlzUmVjdXJyaW5nOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBwYXltZW50VHlwZSA9IGlzUmVjdXJyaW5nID8gUkVDVVJSSU5HX1BBWU1FTlQgOiBPTkVfT0ZGX1BBWU1FTlQ7XG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2lkXSwgeyBxdWVyeVBhcmFtczogeyB0eXBlOiBwYXltZW50VHlwZSB9LCByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlIH0pO1xuICB9XG5cbiAgbmF2aWdhdGVUb1BheW1lbnRzTGlzdChmaWx0ZXI6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmNvbW11bmljYXRpb25TZXJ2aWNlKSB7XG4gICAgICBmaWx0ZXIgPT09IFBheW1lbnRzRmlsdGVyU3RhdHVzLkhJU1RPUklDQUxcbiAgICAgICAgPyB0aGlzLmNvbW11bmljYXRpb25TZXJ2aWNlLm5hdmlnYXRlVG9QYXltZW50c0hpc3RvcnkoKVxuICAgICAgICA6IHRoaXMuY29tbXVuaWNhdGlvblNlcnZpY2UubmF2aWdhdGVUb1BheW1lbnRzTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy4vJ10pO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9FZGl0UmVjdXJyaW5nUGF5bWVudChpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5jb21tdW5pY2F0aW9uU2VydmljZT8ubmF2aWdhdGVUb0VkaXRSZWN1cnJpbmdQYXltZW50KGlkKTtcbiAgfVxuICBuYXZpZ2F0ZVRvRWRpdE9uZU9mZlBheW1lbnQoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuY29tbXVuaWNhdGlvblNlcnZpY2U/Lm5hdmlnYXRlVG9FZGl0T25lT2ZmUGF5bWVudChpZCk7XG4gIH1cbn1cbiJdfQ==