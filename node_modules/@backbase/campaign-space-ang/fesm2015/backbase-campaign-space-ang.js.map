{"version":3,"file":"backbase-campaign-space-ang.js","sources":["../../../../libs/campaign-space-ang/src/services/campaign.service.ts","../../../../libs/campaign-space-ang/src/types.ts","../../../../libs/campaign-space-ang/src/campaign-space.component.ts","../../../../libs/campaign-space-ang/src/campaign-space.component.html","../../../../libs/campaign-space-ang/src/campaign-space.module.ts","../../../../libs/campaign-space-ang/src/mock-data.ts","../../../../libs/campaign-space-ang/backbase-campaign-space-ang.ts"],"sourcesContent":["import { Injectable, Inject, InjectionToken, Optional } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { SelectCampaignService, SelectedCampaignResource } from '@backbase/engagement-http-ang';\n\nexport const CampaignSpaceConfigurationToken = new InjectionToken<CampaignSpaceConfiguration>(\n  'CampaignSpaceConfiguration injection token',\n);\n\nexport interface CampaignSpaceConfiguration {\n  portalName: string;\n  locale: string;\n  designMode: boolean;\n}\n\nconst staticConfig: CampaignSpaceConfiguration = {\n  portalName: 'backbase-wc3',\n  locale: 'en-US',\n  designMode: false,\n};\n\n@Injectable()\nexport class CampaignService {\n  private _config: CampaignSpaceConfiguration;\n\n  constructor(\n    private selectCampaignService: SelectCampaignService,\n    @Optional() @Inject(CampaignSpaceConfigurationToken) config: CampaignSpaceConfiguration,\n  ) {\n    this._config = { ...staticConfig, ...config };\n  }\n\n  get portalName() {\n    return this._config.portalName;\n  }\n\n  get locale() {\n    return this._config.locale;\n  }\n\n  get designMode() {\n    return this._config.designMode;\n  }\n\n  selectCampaign(\n    widgetName: string,\n    dimensions: string,\n    pageName: string,\n  ): Observable<SelectedCampaignResource | undefined> {\n    const spaceId = `${this.portalName}.${pageName}.${widgetName}`;\n\n    return this.selectCampaignService.selectCampaign({ locale: this.locale, dimensions, spaceId });\n  }\n\n  b64Decode(str: string) {\n    return decodeURIComponent(\n      atob(str)\n        .split('')\n        .map(function (c) {\n          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        })\n        .join(''),\n    );\n  }\n}\n","export interface Campaign {\n  targetUrl: string;\n  targetUrlDisplayMode: TargetUrlMode;\n  creative: Creative;\n}\n\nexport interface Creative {\n  uuid: string;\n  dimensions: string;\n  entryAsset: string;\n  basePath: string;\n}\n\nexport interface WidgetStyles {\n  width: string;\n  height: string;\n  maxWidth?: string;\n}\n\nexport enum TargetUrlMode {\n  SELF = 'self',\n  BLANK = 'blank',\n}\n\nexport enum TargetAttribute {\n  self = '_self',\n  blank = '_blank',\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewChild,\n  Optional,\n  Inject,\n} from '@angular/core';\nimport { SafeResourceUrl } from '@angular/platform-browser';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { CampaignService } from './services/campaign.service';\nimport { TargetAttribute, WidgetStyles } from './types';\nimport { delay, filter, takeUntil, tap } from 'rxjs/operators';\nimport { SelectedCampaignResource, ENGAGEMENT_BASE_PATH } from '@backbase/data-ang/engagement';\n\n@Component({\n  selector: 'bb-campaign-space-ang',\n  templateUrl: './campaign-space.component.html',\n  styleUrls: ['./campaign-space.component.css'],\n  providers: [CampaignService],\n})\nexport class CampaignSpaceComponent implements OnInit, OnDestroy {\n  /**\n   * Component name\n   */\n  @Input() name = '';\n\n  /**\n   * Campaign banner dimensions\n   */\n  @Input() dimensions = '300x250';\n\n  /**\n   * Page name\n   */\n  @Input() pageName = 'index';\n\n  /**\n   * Is banner responsive\n   */\n  @Input() responsive = false;\n\n  /**\n   * Banner title\n   */\n  @Input() title = 'Campaign Space';\n\n  campaign?: SelectedCampaignResource;\n\n  creativeSrc?: SafeResourceUrl;\n\n  targetUrl?: string;\n\n  targetMode?: TargetAttribute;\n\n  designMode = this.campaignService.designMode;\n\n  content?: string;\n\n  widgetStyles?: WidgetStyles;\n\n  placeholderTitle = '';\n\n  private readonly iframeContext = new BehaviorSubject<string | undefined>(undefined);\n  private destroy$ = new Subject();\n\n  @ViewChild('iframeRef', { static: false }) iframeRef!: ElementRef<HTMLIFrameElement>;\n\n  constructor(\n    private campaignService: CampaignService,\n    private readonly renderer: Renderer2,\n    private cdr: ChangeDetectorRef,\n    @Optional() @Inject(ENGAGEMENT_BASE_PATH) private readonly basePath: string,\n  ) {}\n\n  ngOnInit() {\n    this.widgetStyles = this.getWidgetStyles();\n    if (this.designMode) {\n      this.initDesignMode();\n    } else {\n      this.initLiveMode();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n\n  private initDesignMode() {\n    this.placeholderTitle = this.getPlaceholderTitle();\n  }\n\n  private initLiveMode() {\n    this.campaignService.selectCampaign(this.name, this.dimensions, this.pageName).subscribe(campaign => {\n      if (campaign) {\n        this.campaign = campaign;\n        this.setTargetUrl();\n        this.content = this.campaignService.b64Decode(campaign.creative.content);\n        this.iframeContext.next(this.content);\n        this.targetMode = TargetAttribute[campaign.targetUrlDisplayMode || 'self'];\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n  private setTargetUrl() {\n    const basePath = this.basePath.endsWith('/') ? this.basePath.slice(0, -1) : this.basePath;\n    const campaignUrl = this.campaign?.targetUrl.startsWith('/')\n      ? this.campaign.targetUrl.slice(1)\n      : this.campaign?.targetUrl;\n    this.targetUrl = `${basePath}/${campaignUrl}`;\n  }\n\n  iframeLoad() {\n    this.cdr.detectChanges();\n    const iframeElement = this.iframeRef.nativeElement;\n    const iframeBody = (iframeElement.contentDocument as Document).body;\n\n    this.renderer.setStyle(iframeElement, 'width', '100%');\n    this.renderer.setStyle(iframeElement, 'border', '0');\n    this.renderer.setStyle(iframeBody, 'margin', '0');\n\n    this.iframeContext\n      .pipe(\n        filter(Boolean),\n        tap(content => this.renderer.setProperty(iframeBody, 'innerHTML', content)),\n        delay(300),\n        takeUntil(this.destroy$),\n      )\n      .subscribe(() => {\n        let currentHeight = iframeBody.scrollHeight;\n        let previousHeight = 0;\n        let counter = 0;\n\n        do {\n          this.renderer.setStyle(iframeElement, 'height', `${currentHeight}px`);\n          previousHeight = currentHeight;\n          currentHeight = iframeBody.scrollHeight;\n          counter++;\n        } while (previousHeight !== currentHeight && counter < 5);\n\n        this.cdr.detectChanges();\n      });\n  }\n\n  private getWidgetStyles(): WidgetStyles {\n    const [width, height] = this.getDimensions(this.dimensions);\n    const properties: WidgetStyles = {\n      width: this.responsive ? '100%' : this.toPx(width),\n      height: this.toPx(height),\n    };\n\n    if (this.responsive) {\n      properties.maxWidth = this.toPx(width);\n    }\n\n    return properties;\n  }\n\n  private getPlaceholderTitle() {\n    const [width, height] = this.getDimensions(this.dimensions);\n    let placeholderTitle = `${this.title} - ${this.dimensions}`;\n\n    if (this.responsive) {\n      placeholderTitle = `${this.title} - Responsive Max-width: ${width}, Height: ${height}`;\n    }\n\n    return placeholderTitle;\n  }\n\n  private toPx(value: number | string): string {\n    return value + 'px';\n  }\n\n  private getDimensions(dimensions: string) {\n    return dimensions.split('x');\n  }\n}\n","<ng-container *ngIf=\"widgetStyles\">\n  <div *ngIf=\"!designMode && campaign\" class=\"bb-campaign-space-widget\" [ngStyle]=\"widgetStyles\">\n    <a [href]=\"targetUrl\" [ngStyle]=\"widgetStyles\" [target]=\"targetMode\" class=\"bb-campaign-space-widget__overlay\"> </a>\n    <iframe #iframeRef class=\"bb-campaign-space-widget__iframe\" [ngStyle]=\"widgetStyles\" (load)=\"iframeLoad()\">\n    </iframe>\n  </div>\n  <div *ngIf=\"designMode\" [ngStyle]=\"widgetStyles\" class=\"bb-campaign-space-widget\">\n    <div [ngStyle]=\"widgetStyles\" class=\"bb-campaign-space-widget__placeholder\">\n      <span>{{ placeholderTitle }}</span>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { CampaignSpaceComponent } from './campaign-space.component';\nimport { WebSdkApiModule } from '@backbase/foundation-ang/web-sdk';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    WebSdkApiModule,\n    HttpClientModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { CampaignSpaceComponent: CampaignSpaceComponent },\n    }),\n  ],\n  exports: [CampaignSpaceComponent],\n  declarations: [CampaignSpaceComponent],\n})\nexport class CampaignSpaceModule {}\n","import { Provider } from '@angular/core';\nimport { Campaign, TargetUrlMode } from './types';\n\nimport { createMocks } from '@backbase/foundation-ang/data-http';\n\nconst mockCampaign: Campaign = {\n  targetUrl: '../../../../', // to avoid the default prepended gateway/api/campaign (apiRoot + /campaign)\n  targetUrlDisplayMode: TargetUrlMode.BLANK,\n  creative: {\n    uuid: '34793c5e-bc0b-454b-b97a-994159d01904',\n    dimensions: '300x250',\n    entryAsset: './index.html',\n    basePath: '../../assets/creatives/', // ../../ to avoid the prepended gateway/api (apiRoot)\n  },\n};\n\n/**\n * Patterns to setup mock provider.\n */\nconst examples = [\n  {\n    urlPattern: 'gateway/api/engagement/client-api/v1/engagements/banner',\n    method: 'GET',\n    responses: [\n      {\n        status: 200,\n        body: mockCampaign,\n        type: 'json',\n      },\n    ],\n  },\n];\n/**\n * Mocks provider for set campaign space widget.\n */\nexport const CampaignSpaceHttpMocksProvider: Provider = createMocks(examples);\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}