{"version":3,"file":"backbase-payord-form-builder-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/payord-form-builder-ang/src/lib/helpers/generic-utils.ts","../../../../libs/payord-form-builder-ang/src/lib/helpers/form-helpers.ts","../../../../libs/payord-form-builder-ang/src/lib/helpers/hooks-helpers.ts","../../../../libs/payord-form-builder-ang/src/lib/components/address/payord-address.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/address/payord-address.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/validation-message/validation-message.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/validation-message/validation-message.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/amount/payord-amount.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/amount/payord-amount.component.html","../../../../libs/payord-form-builder-ang/src/lib/services/visibility.service.ts","../../../../libs/payord-form-builder-ang/src/lib/components/beneficiary-selector/payord-beneficiary-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/beneficiary-selector/payord-beneficiary-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/models/activatable-form-field.ts","../../../../libs/payord-form-builder-ang/src/lib/directives/dynamic-aria-attribute.directive.ts","../../../../libs/payord-form-builder-ang/src/lib/components/checkbox/payord-checkbox.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/checkbox/payord-checkbox.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/debit-account-selector/payord-debit-account-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/debit-account-selector/payord-debit-account-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/radio/payord-radio.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/radio/payord-radio.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/schedule/payord-schedule.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/schedule/payord-schedule.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/select/payord-select.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/select/payord-select.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/textarea/payord-textarea.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/textarea/payord-textarea.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/textbox/payord-text.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/textbox/payord-text.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/sanctioned-currency-input/payord-sanctioned-currency-amount.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/sanctioned-currency-input/payord-sanctioned-currency-amount.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/country-selector/payord-country-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/country-selector/payord-country-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/switch/payord-switch.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/switch/payord-switch.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/date/payord-date.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/date/payord-date.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/number/payord-number.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/number/payord-number.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/phone/payord-phone.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/phone/payord-phone.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/select-payment-option/payord-select-payment-option.ts","../../../../libs/payord-form-builder-ang/src/lib/components/select-payment-option/payord-select-payment-option.html","../../../../libs/payord-form-builder-ang/src/lib/components/payment-cost/payment-cost.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/payment-cost/payment-cost.component.html","../../../../libs/payord-form-builder-ang/src/lib/helpers/route-helpers.ts","../../../../libs/payord-form-builder-ang/src/lib/components/internal-account-selector/payord-internal-account-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/internal-account-selector/payord-internal-account-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/compact-amount/payord-compact-amount.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/compact-amount/payord-compact-amount.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/button-group/payord-button-group.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/button-group/payord-button-group.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/schedule-header/payord-schedule-header.ts","../../../../libs/payord-form-builder-ang/src/lib/components/schedule-header/payord-schedule-header.html","../../../../libs/payord-form-builder-ang/src/lib/components/sanctioned-country-selector/payord-sanctioned-country-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/sanctioned-country-selector/payord-sanctioned-country-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/charge-bearer/charge-bearer.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/charge-bearer/charge-bearer.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/multi-payment-card/multi-payment-card.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/multi-payment-card/multi-payment-card.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/credit-debit-selector/payord-credit-debit-selector.ts","../../../../libs/payord-form-builder-ang/src/lib/components/credit-debit-selector/payord-credit-debit-selector.html","../../../../libs/payord-form-builder-ang/src/lib/components/internal-amount-options/payord-internal-amount-options.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/internal-amount-options/payord-internal-amount-options.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/header/payord-header.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/header/payord-header.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/purpose-of-payment/payord-purpose-of-payment.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/purpose-of-payment/payord-purpose-of-payment.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/alert/payord-alert.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/alert/payord-alert.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/schedule-switch/payord-schedule-switch.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/schedule-switch/payord-schedule-switch.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/beneficiary-group-header/beneficiary-group-header.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/beneficiary-group-header/payord-beneficiary-group-header.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/account-selector/multipayment-account-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/account-selector/multipayment-account-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/contact-selector/payord-contact-selector.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/contact-selector/payord-contact-selector.component.html","../../../../libs/payord-form-builder-ang/src/lib/models/components-map.model.ts","../../../../libs/payord-form-builder-ang/src/lib/services/components-factory.service.ts","../../../../libs/payord-form-builder-ang/src/lib/components/group/payord-group.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/group/payord-group.component.html","../../../../libs/payord-form-builder-ang/src/lib/directives/form-field.directive.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/payord-form/payord-form.component.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/payord-form/payord-form.component.html","../../../../libs/payord-form-builder-ang/src/lib/helpers/payment-config-helpers.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/adaptive-form/adaptive-form.component.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/adaptive-form/adaptive-form.component.html","../../../../libs/payord-form-builder-ang/src/lib/services/multi-payment.service.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/multi-payment-form/multi-payment-form.component.ts","../../../../libs/payord-form-builder-ang/src/lib/containers/multi-payment-form/multi-payment-form.component.html","../../../../libs/payord-form-builder-ang/src/lib/components/error-alert/error-alert.component.ts","../../../../libs/payord-form-builder-ang/src/lib/components/error-alert/error-alert.component.html","../../../../libs/payord-form-builder-ang/src/lib/payord-form-builder-ang.module.ts","../../../../libs/payord-form-builder-ang/src/backbase-payord-form-builder-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { FormGroup } from '@angular/forms';\nimport { SanctionedCountry } from '@backbase/data-ang/payment-order-options';\nimport {\n  CounterPartyFields,\n  DependantItem,\n  PurposeInfo,\n} from '@backbase/payment-orders-ang';\nimport { isObjectTruthy } from '@backbase/payment-orders-ang';\ndeclare const $localize: any;\n\nexport const mapLocalize = <T>(obj: T): T => {\n  if (!isObjectTruthy(obj)) return obj;\n\n  return Object.entries(obj).reduce((result, [key, value]) => {\n    const localizedValue =\n      typeof value === 'string' ? $localize`${value}` : value;\n    return { ...result, [key]: localizedValue };\n  }, {}) as T;\n};\n\nexport function mapDependentItems(\n  dependants: Array<string | DependantItem> = [],\n  currentParent?: string\n): DependantItem[] {\n  const localDeps: string[] = [];\n  const dependantItems = dependants.reduce((result, dep): DependantItem[] => {\n    if (typeof dep === 'string') {\n      localDeps.push(dep);\n      return result;\n    } else {\n      return [...result, dep];\n    }\n  }, <DependantItem[]>[]);\n  return [\n    ...dependantItems,\n    { parent: currentParent as string, items: localDeps },\n  ];\n}\n\nexport function getPurposeOfPaymentInfo(\n  country?: SanctionedCountry\n): PurposeInfo {\n  const fieldName = 'purpose-of-payment';\n  const result = { isOptional: true };\n  const countryInfo = country?.inputFormSettings || [];\n  const purposes = country?.purposesOfPayment;\n  countryInfo.forEach((field) => {\n    if (field.key === fieldName) {\n      result.isOptional =\n        field.mandatory !== undefined ? !field.mandatory : result.isOptional;\n    }\n  });\n\n  return { ...result, purposes };\n}\n\nexport function toggleBeneficiaryControls(\n  formGroup: FormGroup,\n  shouldDisableFields: boolean\n): void {\n  const controls = [\n    CounterPartyFields.accountNumber,\n    `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`,\n    `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`,\n    `${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`,\n  ];\n  if (shouldDisableFields) {\n    controls?.forEach((control) => formGroup.get(control)?.disable());\n  } else {\n    controls?.forEach((control) => formGroup.get(control)?.enable());\n  }\n}\n","import {\n  AbstractControl,\n  AsyncValidatorFn,\n  FormArray,\n  FormControl,\n  FormGroup,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport { InputFormField } from '@backbase/data-ang/payment-order-options';\nimport {\n  Address,\n  amountValidator,\n  ArrangementItem,\n  ContactItem,\n  CounterPartyDetails,\n  CounterPartyFields,\n  currencyValidatorFactory,\n  datePart,\n  getAccountHolderAddress,\n  getConfig,\n  getContactBankAddress,\n  HiddenFields,\n  ibanCountryValidator,\n  isCounterpartyObjectEquals,\n  isObjectTruthy,\n  isSelectedBeneficiaryModified,\n  objectEquals,\n  PaymentBaseFields,\n  PaymentDetails,\n  PaymentFormFieldConfig,\n  PaymentFormGroup,\n  PaymentTemplateFields,\n  PaymentTypeConfig,\n  RemittanceDetails,\n  RemittanceInfoFields,\n  resetBeneficiaryDetails,\n  ScheduleItem,\n} from '@backbase/payment-orders-ang';\nimport { getPurposeOfPaymentInfo } from './generic-utils';\n\n/**\n * Registers a FormControl in the provided FormGroup\n *\n * @param group\n * @param formControlName\n * @param [validators]\n * @param [asyncValidators]\n * @param [initialValue='']\n * @returns\n */\nexport function registerFormControl(\n  group: FormGroup,\n  formControlName: string,\n  validators?: Array<ValidatorFn>,\n  asyncValidators?: Array<AsyncValidatorFn>,\n  initialValue: any = '',\n  config?: PaymentFormFieldConfig\n): AbstractControl {\n  let formControl: AbstractControl;\n  formControl = group.controls[formControlName];\n  group.addControl(\n    formControlName,\n    new FormControl(initialValue, validators || [], asyncValidators || [])\n  );\n\n  if (formControl) {\n    resetValidators(formControl, validators, asyncValidators, config);\n  } else {\n    group.addControl(\n      formControlName,\n      new FormControl(initialValue, validators || [], asyncValidators || [])\n    );\n    formControl = group.controls[formControlName];\n  }\n\n  return formControl;\n}\n\n/**\n * Converts the nested form array into a flat map. It is used to lookup any fields easily\n */\nexport const createControlsMap = (\n  controls: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n  controlsMap: { [key: string]: PaymentFormFieldConfig | PaymentFormGroup } = {}\n) => {\n  let path: string;\n  return controls.reduce(\n    (\n      acc: { [key: string]: PaymentFormFieldConfig | PaymentFormGroup },\n      control: PaymentFormFieldConfig | PaymentFormGroup\n    ) => {\n      path = control.parent\n        ? `${control.parent}.${control.name}`\n        : control.name;\n      if ((<PaymentFormGroup>control).fields) {\n        acc = {\n          ...acc,\n          ...createControlsMap((<PaymentFormGroup>control).fields, acc),\n        };\n      } else {\n        acc[path] = control;\n      }\n      return acc;\n    },\n    controlsMap\n  );\n};\n\nexport function registerFormGroup(\n  group: FormGroup,\n  formGroupName: string,\n  formGroupConfig: { [key: string]: any[] },\n  validators?: Array<ValidatorFn>,\n  asyncValidators?: Array<AsyncValidatorFn>\n): AbstractControl | null {\n  const subGroup =\n    <FormGroup>group.get(formGroupName) ||\n    new FormGroup({}, validators || [], asyncValidators || []);\n\n  for (const key in formGroupConfig) {\n    if (formGroupConfig.hasOwnProperty(key)) {\n      subGroup.registerControl(\n        key,\n        new FormControl(\n          formGroupConfig[key].shift(),\n          (formGroupConfig[key].shift() as Array<ValidatorFn>) || []\n        )\n      );\n    }\n  }\n  group.addControl(formGroupName, subGroup);\n\n  return group.get(formGroupName);\n}\n\nexport function getParentForm(control: AbstractControl): FormGroup {\n  let ancestor = control;\n\n  while (ancestor && ancestor.parent) {\n    ancestor = ancestor.parent;\n  }\n\n  return <FormGroup>ancestor;\n}\n\nexport function getFormFieldData({\n  formControlPath,\n  form,\n  config,\n}: {\n  formControlPath: string;\n  form: FormGroup;\n  config: PaymentTypeConfig;\n}):\n  | {\n      control: AbstractControl | null;\n      fieldConfig: PaymentFormFieldConfig | PaymentFormGroup | undefined;\n    }\n  | undefined {\n  const apiFieldMap: { [key: string]: any } = {\n    'transferTransactionInformation.counterpartyAccount.identification.identification':\n      {\n        name: CounterPartyFields.accountNumber,\n        path: `${PaymentBaseFields.counterparty}.${CounterPartyFields.accountNumber}`,\n      },\n    'transferTransactionInformation.counterpartyBank.bankBranchCode': {\n      name: CounterPartyFields.bankBranchCode,\n      path: `${PaymentBaseFields.counterparty}.${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`,\n    },\n    'transferTransactionInformation.instructedAmount.currencyCode': {\n      name: RemittanceInfoFields.amountCurrencyGroup,\n      path: `${PaymentBaseFields.remittanceInfo}.${RemittanceInfoFields.amountCurrencyGroup}`,\n    },\n  };\n  const fieldData = apiFieldMap[formControlPath] || null;\n\n  if (fieldData) {\n    const control = form.get(fieldData.path);\n    const fieldConfig = getConfig(fieldData.name, config);\n    return { control, fieldConfig };\n  }\n  return;\n}\n\nexport function applyInputFormSettingForCountry({\n  inputFormSetting,\n  form,\n  config,\n}: {\n  inputFormSetting: InputFormField | any;\n  form: FormGroup;\n  config: PaymentTypeConfig;\n}) {\n  const counterpartyGroup = <FormGroup>form.get(PaymentBaseFields.counterparty);\n  const isClosedPaymentControl = <FormGroup>(\n    form.get(HiddenFields.isClosedPayment)\n  );\n  const hasArrangementIdControl = <FormGroup>(\n    counterpartyGroup.get(CounterPartyFields.id)\n  );\n  const schemeControl =\n    counterpartyGroup.get(CounterPartyFields.schemeName) ||\n    registerFormControl(counterpartyGroup, CounterPartyFields.schemeName);\n  if (inputFormSetting.apiField) {\n    const { control = null, fieldConfig = null } =\n      getFormFieldData({\n        formControlPath: inputFormSetting.apiField,\n        form,\n        config,\n      }) || {};\n\n    let validators: ValidatorFn[] | null = [];\n    if (inputFormSetting.mandatory) {\n      // For currency input we need amountValidator instead of Validators.required\n      if (inputFormSetting.key === 'currency') {\n        validators.push(amountValidator as ValidatorFn);\n      } else {\n        validators.push(Validators.required);\n      }\n    }\n\n    if (inputFormSetting.regex) {\n      validators.push(createValidatorFromRegex(inputFormSetting.regex));\n    }\n\n    if (inputFormSetting.key === 'currency' && inputFormSetting.values.length) {\n      validators.push(currencyValidatorFactory(inputFormSetting.values));\n    }\n\n    if (inputFormSetting.key === 'account-number') {\n      schemeControl.setValue(inputFormSetting.format);\n      if (inputFormSetting.format === 'IBAN') {\n        validators.push(ibanCountryValidator());\n      }\n    }\n\n    if (control && fieldConfig) {\n      const labelData = inputFormSetting.label || {};\n      const labelKey = Object.keys(labelData)[0];\n      const label = labelData[labelKey]; // need  to implement i18n for this\n      fieldConfig.options = fieldConfig.options || {};\n\n      if (label) {\n        if (!fieldConfig.options.defaultLabel) {\n          fieldConfig.options.defaultLabel =\n            getLabelFromInputSetting(\n              form.get('defaultBankCodeSetting')?.value\n            ) || fieldConfig.options.label;\n        }\n        fieldConfig.options.label = label;\n      } else if (\n        fieldConfig.options.defaultLabel &&\n        fieldConfig.options.defaultLabel !== fieldConfig.options.label\n      ) {\n        // reset to default label if the inputform setting doesn't contain label.\n        fieldConfig.options.label = fieldConfig.options.defaultLabel;\n      }\n\n      const shouldEnableControls = !(\n        isClosedPaymentControl?.value || hasArrangementIdControl?.value\n      );\n      if (inputFormSetting.notApplicable) {\n        control.reset();\n        validators = null;\n        control.disable();\n      } else if (control.disabled && shouldEnableControls) {\n        control.enable();\n      }\n\n      if (isControlFilled(control)) {\n        control.markAsTouched();\n      }\n      control.setValidators(validators);\n      control.updateValueAndValidity();\n    }\n  }\n}\n\nexport function setAdditionalBankDetails(\n  form: FormGroup,\n  config: PaymentTypeConfig\n) {\n  const setting = <InputFormField>form.get('defaultBankCodeSetting')?.value;\n  if (!setting) return;\n\n  const label = getLabelFromInputSetting(setting);\n  const regex = setting.regex;\n  if (label) {\n    setAdditionalBankLabel(CounterPartyFields.correspondentBank, label, config);\n    setAdditionalBankLabel(CounterPartyFields.intermediaryBank, label, config);\n  }\n\n  if (regex) {\n    appendBankCodePatternValidator(\n      CounterPartyFields.correspondentBank,\n      regex,\n      config\n    );\n    appendBankCodePatternValidator(\n      CounterPartyFields.intermediaryBank,\n      regex,\n      config\n    );\n  }\n}\n\nexport function createValidatorFromRegex(pattern: string): ValidatorFn {\n  if (pattern.startsWith('/') && pattern.endsWith('/')) {\n    pattern = pattern.slice(1, -1);\n  }\n\n  return Validators.pattern(new RegExp(pattern));\n}\n\nfunction appendBankCodePatternValidator(\n  controlName: string,\n  regex: string,\n  config: PaymentTypeConfig\n) {\n  const additionalBankConfig = getConfig(\n    controlName,\n    config\n  ) as PaymentFormGroup;\n  if (!additionalBankConfig) return;\n  const bankCodeConfig = getConfig(\n    CounterPartyFields.bankBranchCode,\n    additionalBankConfig\n  );\n  if (bankCodeConfig) {\n    if (!bankCodeConfig?.options) {\n      bankCodeConfig.options = {};\n    }\n    bankCodeConfig.options.validators = [createValidatorFromRegex(regex)];\n  }\n}\n\nfunction getLabelFromInputSetting(setting?: InputFormField): string {\n  return Object.values(setting?.label || {})[0];\n}\n\nfunction setAdditionalBankLabel(\n  additionalBankType: string,\n  label: string,\n  config: PaymentTypeConfig\n) {\n  const additionalBankConfig = getConfig(\n    additionalBankType,\n    config\n  ) as PaymentFormGroup;\n  if (additionalBankConfig) {\n    const bankCodeConfig = getConfig(\n      CounterPartyFields.bankBranchCode,\n      additionalBankConfig\n    );\n    const selectAdditionalBankCodeTypeConfig = getConfig(\n      'selectAdditionalBankCodeType',\n      additionalBankConfig\n    );\n    const selectAdditionalBankCodeTypeOptions =\n      selectAdditionalBankCodeTypeConfig?.options?.options;\n    if (bankCodeConfig?.options) {\n      bankCodeConfig.options.label = label;\n    }\n    if (selectAdditionalBankCodeTypeOptions?.length) {\n      selectAdditionalBankCodeTypeOptions.forEach(\n        (option: { label: string; value: string }) => {\n          if (option.value === 'BRANCH_CODE') {\n            option.label = label;\n          }\n        }\n      );\n    }\n  }\n}\n\nexport function isControlFilled(control: AbstractControl) {\n  const isAmountControl =\n    (control?.value || {}).hasOwnProperty('currency') &&\n    (control?.value || {}).hasOwnProperty('amount');\n  return isAmountControl ? !!control?.value?.amount : !!control?.value;\n}\n\nexport function isClosedPaymentValidator(control: AbstractControl) {\n  const form = getParentForm(control);\n  const counterPartyDetails = (<FormGroup>(\n    form.get(PaymentBaseFields.counterparty)\n  ))?.getRawValue();\n  const selectedBeneficiary = form.get(HiddenFields.selectedBeneficiary)?.value;\n  const isBeneficairyUpdatedManually =\n    isSelectedBeneficiaryModified(counterPartyDetails, selectedBeneficiary) ||\n    (form?.get(HiddenFields.isManualEdit)?.value &&\n      isCounterPartyDetailsTruthy(counterPartyDetails));\n\n  return isBeneficairyUpdatedManually &&\n    form?.get(HiddenFields.isClosedPayment)?.value\n    ? { hasOnlyClosedPaymentPermission: true }\n    : null;\n}\n\nexport function getCounterpartyFormGroupDetails(\n  form: FormGroup\n): Partial<ArrangementItem> {\n  const counterparty: CounterPartyDetails = (<FormGroup>(\n    form.get(PaymentBaseFields.counterparty)\n  ))?.getRawValue();\n\n  return {\n    name: counterparty?.name,\n    accountNumber: counterparty?.accountNumber,\n    bankBranchCode: counterparty?.creditorBank?.bankBranchCode,\n    BIC: counterparty?.creditorBank?.bic,\n  };\n}\n\nexport function resetValidators(\n  formControl: AbstractControl,\n  validators?: Array<ValidatorFn>,\n  asyncValidators?: Array<AsyncValidatorFn>,\n  config?: PaymentFormFieldConfig\n) {\n  const computedValidators = validators ? [...validators] : [];\n\n  if (!config?.hidden && config?.options?.isConditionalMandatory) {\n    computedValidators.push(Validators.required);\n  }\n\n  formControl.markAsUntouched();\n  formControl.clearValidators();\n  formControl.clearAsyncValidators();\n  formControl.setAsyncValidators(asyncValidators || []);\n  formControl.setValidators(computedValidators);\n}\n\nexport function addAddressFields(formGroup: FormGroup) {\n  const addressFields = {\n    addressLine1: [''],\n    addressLine2: [''],\n    streetName: [''],\n    postCode: [''],\n    town: [''],\n    countrySubDivision: [''],\n    country: [''],\n  };\n  for (const key in addressFields) {\n    if (addressFields.hasOwnProperty(key) && !formGroup.get(key)) {\n      registerFormControl(formGroup, key);\n    }\n  }\n}\n\nexport function registerFormArray(\n  group: FormGroup,\n  formArrayName: string,\n  validators?: Array<ValidatorFn>,\n  asyncValidators?: Array<AsyncValidatorFn>\n): FormArray {\n  const array =\n    <FormArray>group.get(formArrayName) ||\n    new FormArray([], validators || [], asyncValidators || []);\n  group.addControl(formArrayName, array);\n  return group.get(formArrayName) as FormArray;\n}\n\nexport function addControlToFormArray(\n  array: FormArray,\n  formGroupConfig: any[],\n  validators?: Array<ValidatorFn>,\n  asyncValidators?: Array<AsyncValidatorFn>,\n  initialValue: any = null\n): FormArray {\n  const subGroup = new FormGroup({}, validators || [], asyncValidators || []);\n  formGroupConfig.forEach((formConfig) => {\n    if (formConfig.name) {\n      subGroup.registerControl(\n        formConfig.name,\n        new FormControl(\n          initialValue,\n          (formConfig.validators as Array<ValidatorFn>) || []\n        )\n      );\n    }\n  });\n  array.push(subGroup);\n  return array;\n}\n\nexport function isEditFormDirty(\n  formValue: PaymentDetails,\n  initialFormValue?: PaymentDetails\n): boolean {\n  if (!initialFormValue) return true;\n  const schedule = getScheduleDatePart(formValue.schedule);\n  const initialSchedule = getScheduleDatePart(initialFormValue.schedule);\n\n  return (\n    formValue.initiator?.id !== initialFormValue.initiator?.id ||\n    !isCounterpartyObjectEquals(\n      formValue.counterparty,\n      initialFormValue.counterparty\n    ) ||\n    !objectEquals(schedule, initialSchedule) ||\n    isRemittanceInfoDirty(\n      formValue[PaymentBaseFields.remittanceInfo],\n      initialFormValue[PaymentBaseFields.remittanceInfo]\n    ) ||\n    formValue.chargeBearer !== initialFormValue.chargeBearer\n  );\n}\n\nexport function isTemplateFormDirty(\n  formValue: PaymentDetails,\n  initialFormValue: PaymentDetails\n) {\n  return (\n    formValue[PaymentBaseFields.initiator].id !==\n      initialFormValue[PaymentBaseFields.initiator].id ||\n    !objectEquals(\n      formValue[PaymentBaseFields.counterparty],\n      initialFormValue[PaymentBaseFields.counterparty]\n    ) ||\n    isRemittanceInfoDirty(\n      formValue[PaymentBaseFields.remittanceInfo],\n      initialFormValue[PaymentBaseFields.remittanceInfo]\n    ) ||\n    formValue[PaymentTemplateFields.templateName] !==\n      initialFormValue[PaymentTemplateFields.templateName]\n  );\n}\n\nfunction getScheduleDatePart(schedule: ScheduleItem) {\n  return {\n    ...schedule,\n    startDate: datePart(schedule?.startDate),\n    endDate: datePart(schedule?.endDate),\n  };\n}\n\nfunction isRemittanceInfoDirty(\n  remittanceInfo: RemittanceDetails,\n  initialRemittanceInfo: RemittanceDetails\n) {\n  if (!remittanceInfo) return false;\n  const amountGroup = remittanceInfo[RemittanceInfoFields.amountCurrencyGroup];\n  const initialAmountGroup =\n    initialRemittanceInfo[RemittanceInfoFields.amountCurrencyGroup];\n\n  return (\n    amountGroup?.amount !== initialAmountGroup?.amount ||\n    amountGroup?.currency !== initialAmountGroup?.currency ||\n    remittanceInfo[RemittanceInfoFields.urgent] !==\n      initialRemittanceInfo[RemittanceInfoFields.urgent] ||\n    remittanceInfo[RemittanceInfoFields.paymentReference] !==\n      initialRemittanceInfo[RemittanceInfoFields.paymentReference] ||\n    remittanceInfo[RemittanceInfoFields.description] !==\n      initialRemittanceInfo[RemittanceInfoFields.description]\n  );\n}\n\nexport function applyPurposeOfPaymentSettings({\n  form,\n  config,\n}: {\n  form: FormGroup;\n  config: PaymentTypeConfig | any;\n}) {\n  const country = form.value?.inputFormFromSettings;\n  const remittanceGroup = <FormGroup>form.get(PaymentBaseFields.remittanceInfo);\n  if (!remittanceGroup) {\n    return;\n  }\n  const purposeControl =\n    remittanceGroup.get(RemittanceInfoFields.purposeOfPayment) ||\n    registerFormControl(remittanceGroup, RemittanceInfoFields.purposeOfPayment);\n  const info = getPurposeOfPaymentInfo(country);\n  const fieldConfig = getConfig(RemittanceInfoFields.purposeOfPayment, config);\n  const options = fieldConfig?.options;\n\n  if (purposeControl && options) {\n    options.isOptional = info.isOptional;\n    options.purposes = info.purposes;\n    options.isCollapsed = info.isOptional;\n\n    if (options.isOptional) {\n      purposeControl.setValidators(null);\n      purposeControl.setAsyncValidators(null);\n      purposeControl.updateValueAndValidity();\n    } else {\n      purposeControl.setValidators([\n        Validators.required,\n        ...(options.validators || []),\n      ]);\n      purposeControl.setAsyncValidators([...(options.asyncValidators || [])]);\n      purposeControl.updateValueAndValidity();\n    }\n  }\n}\n\nfunction isCounterPartyDetailsTruthy(counterpartyDetails: CounterPartyDetails) {\n  return isObjectTruthy({\n    name: counterpartyDetails?.name,\n    accountNumber: counterpartyDetails.accountNumber,\n    bankBranchCode: counterpartyDetails.creditorBank?.bankBranchCode,\n  });\n}\n\nexport function getBeneficiaryDetails(\n  beneficiary?: ContactItem | ArrangementItem\n): Partial<ArrangementItem & { address: Address; bankAddress: Address }> {\n  const contactAccount = (<ContactItem>beneficiary)?.accounts?.[0];\n  const beneficiaryItem = beneficiary as ArrangementItem;\n  return {\n    bankBranchCode: contactAccount?.bankCode || beneficiaryItem?.bankBranchCode,\n    accountNumber:\n      contactAccount?.accountNumber || beneficiaryItem?.accountNumber,\n    name: beneficiary?.name,\n    BIC: contactAccount?.BIC || beneficiaryItem?.BIC,\n    address: getAccountHolderAddress(contactAccount),\n    bankAddress: getContactBankAddress(contactAccount),\n  };\n}\n\nexport function revertBeneficiaryChanges(form: FormGroup): void {\n  const counterPartyGroup = <FormGroup>form.get(PaymentBaseFields.counterparty);\n  const selectedBeneficiary = form.get(HiddenFields.selectedBeneficiary)?.value;\n  const addressGroup = counterPartyGroup.get(CounterPartyFields.postalAddress);\n  const bankAddressGroup = counterPartyGroup.get([\n    CounterPartyFields.creditorBank,\n    CounterPartyFields.postalAddress,\n  ]);\n  const isManualEditControl = form.get(HiddenFields.isManualEdit);\n\n  if (selectedBeneficiary) {\n    const beneficiaryDetails = getBeneficiaryDetails(selectedBeneficiary);\n    isManualEditControl?.reset();\n    counterPartyGroup.patchValue({\n      [CounterPartyFields.name]: beneficiaryDetails.name,\n      [CounterPartyFields.accountNumber]: beneficiaryDetails.accountNumber,\n      [CounterPartyFields.creditorBank]: {\n        [CounterPartyFields.bankBranchCode]: beneficiaryDetails.bankBranchCode,\n        [CounterPartyFields.bic]: beneficiaryDetails.BIC,\n      },\n    });\n    addressGroup?.setValue({ ...beneficiaryDetails.address });\n    bankAddressGroup?.setValue({\n      ...beneficiaryDetails.bankAddress,\n      country:\n        beneficiaryDetails.bankAddress?.country ||\n        form.get(HiddenFields.defaultCountry)?.value,\n    });\n  } else {\n    resetBeneficiaryDetails(counterPartyGroup);\n  }\n}\n","import {\n  PaymentFormFieldHooks,\n  PaymentFormField,\n  MultiPaymentHooks,\n  MultiPaymentHooksConfig,\n  StepperConfig,\n  StepperAction,\n} from '@backbase/payment-orders-ang';\nimport { FormControl } from '@angular/forms';\n\nexport function triggerHook(\n  name: PaymentFormFieldHooks,\n  component: PaymentFormField\n) {\n  const control = <FormControl>component.group.get(component.config.name);\n  const hook = component.config.hooks && component.config.hooks[name];\n  if (typeof hook === 'function') {\n    // Triggering the hook with component specific parameters\n    hook({\n      component, // The component instance\n      control, // The component form field\n      group: component.group, // The parent form group\n    });\n  }\n}\n\nexport function triggerStepperHook(\n  hooks: MultiPaymentHooks,\n  hookName: MultiPaymentHooksConfig | undefined,\n  callback?: () => void,\n  stepperConfig?: StepperConfig,\n  action?: StepperAction\n) {\n  const hook = hookName && hookName[hooks];\n  const doneFn = callback as () => void;\n\n  if (typeof hook === 'function') {\n    if (hooks === MultiPaymentHooks.onClick) {\n      hook({\n        doneFn, // Callback function that is triggered when hooks complete\n        stepperConfig,\n        action,\n      });\n    } else {\n      hook({});\n    }\n  }\n}\n","import { Component, OnInit, OnDestroy, ElementRef } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentFormField,\n  PaymentFormFieldHooks,\n  AddressType,\n  focusErrorElement,\n  PaymentBaseFields,\n  CounterPartyFields,\n  isAddressTruthy,\n} from '@backbase/payment-orders-ang';\nimport {\n  registerFormGroup,\n  registerFormControl,\n  getParentForm,\n} from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SanctionedCountry } from '@backbase/data-ang/payment-order-options';\nimport { CountriesMap, ViewType } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-payord-address',\n  templateUrl: './payord-address.component.html',\n})\nexport class PayordAddressComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  options: PaymentFormFieldOptions = {};\n  countries$!: Observable<{ label: string; value: string | undefined }>;\n\n  addressViewType = ViewType.FORM;\n  addressGroup!: FormGroup;\n  initialAddress = {\n    addressLine1: [''],\n    addressLine2: [''],\n    streetName: [''],\n    postCode: [''],\n    town: [''],\n    countrySubDivision: [''],\n  };\n  parentForm!: FormGroup;\n  counterpartyIdControl!: AbstractControl;\n\n  constructor(private readonly elRef: ElementRef) {}\n\n  ngOnInit() {\n    this.options.hideCountry =\n      this.options.hideCountry ||\n      (this.options.isWizardMode &&\n        this.options.addressType === AddressType['beneficiary bank']);\n    this.countries$ =\n      this.options.useSanctionedCountries || this.options.isWizardMode\n        ? this.options.items$.pipe(\n            map((items: Array<SanctionedCountry>) =>\n              items.map(({ country }: SanctionedCountry) => ({\n                value: country,\n                label: CountriesMap[country],\n              }))\n            )\n          )\n        : of(this.options.countries);\n\n    this.addressGroup = <FormGroup>(\n      registerFormGroup(this.group, this.config.name, this.initialAddress)\n    );\n    if (!this.options.hideCountry) {\n      registerFormControl(this.addressGroup, 'country');\n    }\n    this.addressViewType = isAddressTruthy(this.addressGroup.value)\n      ? ViewType.CARD\n      : ViewType.BUTTON;\n    this.parentForm = getParentForm(this.group);\n    this.counterpartyIdControl = <AbstractControl>(\n      this.parentForm.get([\n        PaymentBaseFields.counterparty,\n        CounterPartyFields.id,\n      ])\n    );\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  onAddressAdd() {\n    this.addressViewType = ViewType.FORM;\n  }\n\n  onAddressEdit() {\n    this.addressViewType = ViewType.FORM;\n  }\n\n  onAddressDelete() {\n    this.addressViewType = ViewType.BUTTON;\n    if (this.options.hideCountry || this.options.options?.length === 1) {\n      for (const key in this.addressGroup.controls) {\n        if (key !== 'country') {\n          this.addressGroup.controls[key].reset();\n        }\n      }\n    } else {\n      this.addressGroup.reset();\n    }\n  }\n\n  onAddressReset() {\n    this.addressViewType = ViewType.BUTTON;\n  }\n\n  onAddressSubmit() {\n    if (this.addressGroup.valid) {\n      this.addressViewType = ViewType.CARD;\n    } else {\n      focusErrorElement(this.elRef.nativeElement);\n    }\n  }\n}\n","<div class=\"bb-dynamic-input\" [hidden]=\"config?.hidden\">\n  <div class=\"form-group\" [ngClass]=\"options?.cssClasses\">\n    <bb-address-item-details\n      [addressForm]=\"addressGroup\"\n      [addressType]=\"options?.addressType\"\n      [viewType]=\"options?.viewType || addressViewType\"\n      [isClosedPayment]=\"\n        parentForm.get('isClosedPayment')?.value || counterpartyIdControl?.value\n      \"\n      (add)=\"onAddressAdd()\"\n      (edit)=\"onAddressEdit()\"\n      (discard)=\"onAddressDelete()\"\n      (delete)=\"onAddressDelete()\"\n      (reset)=\"onAddressReset()\"\n      (submit)=\"onAddressSubmit()\"\n      [states]=\"options?.states\"\n      [countries]=\"countries$ | async\"\n      [hideCountry]=\"options?.hideCountry\"\n      [attr.data-role]=\"config?.name\"\n    >\n    </bb-address-item-details>\n  </div>\n</div>\n","import { OnInit, Component, Input, ElementRef } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ErrorMessage, toggleTabIndex } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-payord-validation-message',\n  templateUrl: './validation-message.component.html',\n})\nexport class ValidationMessageComponent implements OnInit {\n  /**\n   * The form control instance\n   */\n  @Input() control!: FormControl;\n  /**\n   * List of validation messages\n   */\n  @Input() validationMessages!: Array<ErrorMessage>;\n  /**\n   * Label of the form control\n   */\n  @Input() label!: string;\n  /**\n   * Id of validation message\n   */\n  @Input() id!: string;\n\n  /**\n   * If Generic messages are not needed.\n   */\n  @Input() hideGeneric = false;\n\n  requiredMessage!: string;\n  validationMessage!: string;\n\n  constructor(private readonly elRef: ElementRef) {}\n\n  ngOnInit() {\n    this.validationMessages = this.validationMessages || [];\n  }\n\n  getValidationMessage(error?: string): string {\n    this.validationMessage = '';\n    if (this.control.errors && this.validationMessages.length) {\n      for (const msg of this.validationMessages) {\n        if (error && msg.name === error) {\n          this.validationMessage = msg.message;\n          return this.validationMessage;\n        } else if (this.control.errors[msg.name]) {\n          this.validationMessage = msg.message;\n          return this.validationMessage;\n        }\n      }\n    }\n    return this.validationMessage;\n  }\n\n  getRequiredMessage(): string {\n    this.requiredMessage = this.getValidationMessage('required');\n    return this.requiredMessage;\n  }\n\n  onFocusout() {\n    toggleTabIndex(\n      '.bb-input-validation-message',\n      this.elRef.nativeElement,\n      false\n    );\n  }\n}\n","<bb-input-validation-message-ui\n  data-role=\"input-error\"\n  (focusout)=\"onFocusout()\"\n  *ngIf=\"control\"\n  [showErrors]=\"control?.touched && control?.invalid\"\n>\n  <ng-container\n    *ngIf=\"control.errors && control.errors['required']; else invalidError\"\n  >\n    <span data-role=\"required-error\" [attr.id]=\"id\">\n      <ng-container *ngIf=\"getRequiredMessage(); else requiredError\">\n        {{ requiredMessage }}\n      </ng-container>\n    </span>\n  </ng-container>\n\n  <ng-template #requiredError>\n    <ng-container\n      i18n=\"@@dynamic-form-field-default-validation-message.required.error\"\n    >\n      {{ label }} is required\n    </ng-container>\n  </ng-template>\n\n  <ng-template #invalidError>\n    <span data-role=\"required-error\" [attr.id]=\"id\">\n      <ng-container *ngIf=\"getValidationMessage(); else genericError\">\n        {{ validationMessage }}\n      </ng-container>\n    </span>\n  </ng-template>\n\n  <ng-template #genericError>\n    <ng-container\n      *ngIf=\"!hideGeneric\"\n      i18n=\"@@dynamic-form-field-default-validation-message.generic.error\"\n    >\n      Invalid {{ label }}\n    </ng-container>\n  </ng-template>\n</bb-input-validation-message-ui>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n} from '@angular/core';\nimport {\n  FormGroup,\n  Validators,\n  ValidatorFn,\n  AbstractControl,\n} from '@angular/forms';\nimport {\n  amountValidator,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  RemittanceInfoFields,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-amount',\n  templateUrl: './payord-amount.component.html',\n})\nexport class PayordAmountComponent\n  implements OnInit, PaymentFormField, OnDestroy\n{\n  private static _id = 0;\n  readonly payordAmountId = PayordAmountComponent._id++;\n\n  @ViewChild('amountLabel')\n  private amountLabelEl: ElementRef | undefined;\n\n  @ViewChild('helperText')\n  private helperTextEL: ElementRef | undefined;\n\n  /**\n   * Form config\n   */\n  config!: PaymentFormFieldConfig;\n\n  /**\n   * Form group\n   */\n  group!: FormGroup;\n\n  /**\n   * Form field options\n   */\n  options!: PaymentFormFieldOptions;\n\n  /**\n   * Form control\n   */\n  control!: AbstractControl;\n\n  /**\n   * Initial amount value\n   */\n  initialAmount = {\n    [RemittanceInfoFields.amount]: '',\n    [RemittanceInfoFields.currency]: '',\n  };\n\n  /**\n   * Initializes the component.\n   *\n   * @returns\n   */\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      [Validators.required, amountValidator as ValidatorFn],\n      this.options.asyncValidators,\n      this.options.defaultValue || this.initialAmount,\n      this.config\n    );\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  /**\n   * Cleanups just before Angular destroys the component.\n   *\n   * @returns\n   */\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  getLabelledbyForSelector(): string {\n    return (\n      this.options?.labelledBy ||\n      `${this.amountLabelEl?.nativeElement.id || ''} ${\n        this.helperTextEL?.nativeElement.id || ''\n      }`.trim()\n    );\n  }\n}\n","<section\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group payment-amount\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div\n    #amountLabel\n    class=\"bb-dynamic-input__label bb-label\"\n    id=\"payord-amount__helper-label-{{ payordAmountId }}\"\n    *ngIf=\"options?.label\"\n  >\n    {{ options?.label }}\n  </div>\n  <span\n    #helperText\n    class=\"bb-dynamic-input__helper-text bb-text-support\"\n    id=\"payord-amount__helper-text-{{ payordAmountId }}\"\n    *ngIf=\"options?.helperText\"\n    [textContent]=\"options?.helperText\"\n  >\n  </span>\n  <bb-currency-input-ui\n    resultType=\"string\"\n    [attr.maxlength]=\"options?.maxLength || 18\"\n    [currencies]=\"options?.currencies\"\n    [decMaxLen]=\"options?.decMaxLen\"\n    [allowNegativeValue]=\"options?.allowNegativeValue\"\n    [currencyLabel]=\"options?.currencyLabel || ''\"\n    [decimalLabel]=\"options?.decimalLabel || ''\"\n    [disabled]=\"options?.disabled || false\"\n    [integer]=\"options?.integer\"\n    [integerLabel]=\"options?.integerLabel || ''\"\n    [isRightAligned]=\"options?.isRightAligned\"\n    [placeholder]=\"options?.placeholder || 0\"\n    [readonly]=\"options?.readonly\"\n    [aria-describedby]=\"options?.describedBy\"\n    [aria-labelledby]=\"getLabelledbyForSelector()\"\n    [aria-invalid]=\"options?.ariaInvalid\"\n    [formControlName]=\"this.config.name\"\n    [attr.data-role]=\"config.name\"\n  >\n    <div bbValidationMessage>\n      <bb-payord-validation-message\n        *ngIf=\"control?.touched && control?.invalid\"\n        [control]=\"group.get('amountGroup')\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label || 'Amount'\"\n      ></bb-payord-validation-message>\n    </div>\n  </bb-currency-input-ui>\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    *ngIf=\"options?.description\"\n    [textContent]=\"options?.description\"\n  ></div>\n</section>\n","import { Observable, BehaviorSubject } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { DependantItem } from '@backbase/payment-orders-ang';\n\ntype ItemVisibility = Observable<{\n  name?: string | undefined;\n  items?: (string | DependantItem)[] | undefined;\n}>;\n\n@Injectable()\nexport class VisibilityService {\n  private showSubject$ = new BehaviorSubject<{\n    name?: string;\n    items?: (string | DependantItem)[];\n  }>({});\n  private hideSubject$ = new BehaviorSubject<{\n    name?: string;\n    items?: (string | DependantItem)[];\n  }>({});\n\n  /**\n   * Getter to show an item\n   */\n  get show$(): ItemVisibility {\n    return this.showSubject$.asObservable();\n  }\n\n  /**\n   * Getter to hide an item\n   */\n  get hide$(): ItemVisibility {\n    return this.hideSubject$.asObservable();\n  }\n\n  /**\n   * Shows the items\n   *\n   * @param [name] Item name\n   * @param [items] Items to show\n   * @returns\n   */\n  showItems(name?: string, items?: (string | DependantItem)[]) {\n    this.showSubject$.next({ name, items });\n  }\n\n  /**\n   * Hides the items\n   *\n   * @param [name] Item name\n   * @param [items] Items to hide\n   * @returns\n   */\n  hideItems(name?: string, items?: (string | DependantItem)[]) {\n    this.hideSubject$.next({ name, items });\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport {\n  AbstractControl,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport { BehaviorSubject, Subject, Subscription } from 'rxjs';\nimport { filter, startWith, takeUntil } from 'rxjs/operators';\nimport {\n  AccountInformation,\n  Address,\n  BeneficiaryContactItem,\n  ContactItem,\n  BeneficiaryList,\n  CounterPartyFields,\n  FetchCreditorItemsParams,\n  getAccountHolderAddress,\n  getContactBankAddress,\n  HiddenFields,\n  isAddressTruthy,\n  InitiatorFields,\n  InternalAccountFormItem,\n  PaymentBaseFields,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  PaymentFormFieldOptions,\n  sameAccountsValidator,\n} from '@backbase/payment-orders-ang';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\n\nimport {\n  registerFormControl,\n  registerFormGroup,\n} from '../../helpers/form-helpers';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { toggleBeneficiaryControls } from '../../helpers/generic-utils';\n\n@Component({\n  selector: 'bb-payord-beneficiary-selector',\n  templateUrl: 'payord-beneficiary-selector.component.html',\n})\nexport class PayordBeneficiarySelectorComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  options!: PaymentFormFieldOptions;\n\n  selectedAccount!: InternalAccountFormItem;\n  showBeneficiaryDetails = false;\n  accountNameControl!: AbstractControl;\n  beneficiaryAccountNameControl!: AbstractControl;\n  accountNumberControl!: AbstractControl;\n  bankCodeControl!: AbstractControl;\n  bankNameControl!: AbstractControl;\n  bankBicControl!: AbstractControl;\n  beneficiaryAddressGroup!: AbstractControl;\n  beneficiaryBankAddressGroup!: AbstractControl;\n  beneficiaryBankGroup!: AbstractControl;\n  saveContactControlName = CounterPartyFields.saveNewContact;\n  saveContactControl!: AbstractControl;\n  saveNewContactControl!: AbstractControl;\n  selectedContactControl!: AbstractControl;\n  manualEdit$ = new BehaviorSubject<boolean>(false);\n  manualEditControl!: AbstractControl;\n  isClosedPaymentControl!: AbstractControl;\n  selectedBeneficiaryControl!: AbstractControl;\n  enableBeneficiaryControl!: AbstractControl;\n  // This control is deprecated, please use `initiatorIdControl` instead\n  initiatorNameControl!: AbstractControl;\n  initiatorIdControl!: AbstractControl;\n  hideBeneficiaryFieldsControl!: AbstractControl;\n  private arrangementIdControl!: AbstractControl;\n\n  private query = '';\n  private initiatorControlSubscription?: Subscription;\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly visibilityService: VisibilityService,\n    private readonly deprecationService: DeprecationsService\n  ) {}\n\n  ngOnInit() {\n    this.setupFormFields();\n    if (this.options.isWizardMode) {\n      this.setupWizardFormFields();\n    }\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n    if (this.accountNameControl.value || this.options?.isTemplateMode) {\n      this.showDependantFields();\n    } else {\n      this.hideDependantFields();\n    }\n\n    const initiatorControl = this.group.parent?.get(\n      PaymentBaseFields.initiator\n    );\n    initiatorControl?.valueChanges\n      .pipe(takeUntil(this.destroy$), startWith(initiatorControl.value))\n      .subscribe(({ id }) => {\n        this.accountNameControl.updateValueAndValidity();\n      });\n\n    this.arrangementIdControl?.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((controlId) => {\n        if (!this.isClosedPaymentControl.value) {\n          toggleBeneficiaryControls(this.group, !!controlId);\n        }\n      });\n\n    this.hideBeneficiaryFieldsControl?.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.onSearch('');\n        this.enableBeneficiaryControl.setValue(true);\n        this.manualEdit$.next(false);\n        this.saveNewContactControl.setValue(false);\n        if (!this.options.isWizardMode) {\n          this.hideDependantFields();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.initiatorControlSubscription?.unsubscribe();\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  setupFormFields() {\n    this.deprecationService.logDeprecatedFeature(`\n      \"initiatorNameControl\" is deprecated and will be removed in next major release, please use \"initiatorIdControl\" instead.\n    `);\n    this.accountNameControl = registerFormControl(\n      this.group,\n      this.config.name,\n      [Validators.required, sameAccountsValidator()]\n    );\n    this.manualEditControl = registerFormControl(\n      this.group.parent as FormGroup,\n      HiddenFields.isManualEdit\n    );\n    this.isClosedPaymentControl = registerFormControl(\n      this.group.parent as FormGroup,\n      HiddenFields.isClosedPayment\n    );\n    this.enableBeneficiaryControl = registerFormControl(\n      this.group.parent as FormGroup,\n      HiddenFields.enableBeneficiary,\n      [],\n      [],\n      true\n    );\n    this.beneficiaryAccountNameControl = registerFormControl(\n      this.group,\n      HiddenFields.beneficiaryAccountName\n    );\n    this.saveContactControl = registerFormControl(\n      this.group,\n      this.saveContactControlName\n    );\n    this.saveNewContactControl = registerFormControl(\n      this.group,\n      HiddenFields.showSaveNewContact\n    );\n    this.hideBeneficiaryFieldsControl = registerFormControl(\n      this.group,\n      HiddenFields.hideBeneficiaryFields\n    );\n    this.arrangementIdControl = registerFormControl(\n      this.group,\n      CounterPartyFields.id\n    );\n    this.selectedBeneficiaryControl = registerFormControl(\n      <FormGroup>this.group.parent,\n      HiddenFields.selectedBeneficiary\n    );\n    this.selectedContactControl = <FormGroup>(\n      registerFormGroup(this.group, CounterPartyFields.selectedContact, {\n        contactId: [''],\n        accountId: [''],\n      })\n    );\n    this.initiatorIdControl = <FormControl>(\n      this.group.parent?.get([PaymentBaseFields.initiator, InitiatorFields.id])\n    );\n  }\n\n  setupWizardFormFields() {\n    this.accountNumberControl =\n      this.group.controls[CounterPartyFields.accountNumber] ||\n      this.registerAccountNumberControl();\n    this.beneficiaryAddressGroup =\n      this.group.controls[CounterPartyFields.postalAddress] ||\n      this.registerAddressGroup(this.group);\n    this.beneficiaryBankGroup =\n      this.group.controls[CounterPartyFields.creditorBank] ||\n      this.registerCreditorBankGroup();\n    this.bankCodeControl =\n      this.group.controls[\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`\n      ] || this.registerBankCodeControl();\n    this.bankNameControl =\n      this.group.controls[\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`\n      ] || this.registerBankNameControl();\n    this.bankBicControl =\n      this.group.controls[\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`\n      ] || this.registerBankBicControl();\n    this.beneficiaryBankAddressGroup =\n      this.group.controls[\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.postalAddress}`\n      ] || this.registerAddressGroup(<FormGroup>this.beneficiaryBankGroup);\n    registerFormControl(<FormGroup>this.group, CounterPartyFields.schemeName);\n  }\n\n  registerAccountNumberControl() {\n    return registerFormControl(\n      <FormGroup>this.group,\n      CounterPartyFields.accountNumber\n    );\n  }\n\n  registerBankNameControl() {\n    return registerFormControl(\n      <FormGroup>this.beneficiaryBankGroup,\n      CounterPartyFields.bankName\n    );\n  }\n\n  registerBankBicControl() {\n    return registerFormControl(\n      <FormGroup>this.beneficiaryBankGroup,\n      CounterPartyFields.bic\n    );\n  }\n\n  registerBankCodeControl() {\n    return registerFormControl(\n      <FormGroup>this.beneficiaryBankGroup,\n      CounterPartyFields.bankBranchCode\n    );\n  }\n\n  registerAddressGroup(group: FormGroup) {\n    const initialAddress = {\n      addressLine1: [''],\n      addressLine2: [''],\n      streetName: [''],\n      postCode: [''],\n      town: [''],\n      countrySubDivision: [''],\n      country: [''],\n    };\n    return <FormGroup>(\n      registerFormGroup(group, CounterPartyFields.postalAddress, initialAddress)\n    );\n  }\n\n  registerCreditorBankGroup() {\n    const creditorBankGroup = new FormGroup({});\n    this.group.addControl(CounterPartyFields.creditorBank, creditorBankGroup);\n    return creditorBankGroup;\n  }\n\n  registerCreditorBankAddress() {\n    const creditorBankGroup = new FormGroup({});\n    this.group.addControl(CounterPartyFields.creditorBank, creditorBankGroup);\n    return creditorBankGroup;\n  }\n\n  private fetchCreditorItems(params: FetchCreditorItemsParams) {\n    if (this.config.options?.fetchItems$) {\n      this.config.options.fetchItems$.next(params);\n    }\n  }\n\n  onLoadMoreAccounts(page: number) {\n    this.deprecationService.logDeprecatedFeature(`\n      \"onLoadMoreAccounts\" is deprecated since 3.9.3 and will be removed in 3.10.0, please use \"onFetchMoreItems\" instead.\n    `);\n    this.fetchCreditorItems({\n      params: { from: page, query: this.query },\n      type: BeneficiaryList.ACCOUNTS,\n    });\n  }\n\n  onLoadMoreContacts(page: number) {\n    this.deprecationService.logDeprecatedFeature(`\n      \"onLoadMoreContacts\" is deprecated since 3.9.3 and will be removed in 3.10.0, please use \"onFetchMoreItems\" instead.\n    `);\n    this.fetchCreditorItems({\n      params: { from: page, query: this.query },\n      type: BeneficiaryList.CONTACTS,\n    });\n  }\n\n  onFetchMoreItems(event: { page: number; type: BeneficiaryList }) {\n    this.fetchCreditorItems({\n      params: { from: event.page, query: this.query },\n      type: event.type,\n    });\n  }\n\n  onSearch(query: string) {\n    this.query = query;\n    this.manualEditControl.setValue(true);\n    this.fetchCreditorItems({ params: { query } });\n  }\n\n  onSelectAccount(selectedItem: InternalAccountFormItem) {\n    const accountNumberControl =\n      this.group.controls[CounterPartyFields.accountNumber];\n    const bankNameControl = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`\n    );\n    const bankCodeControl = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`\n    );\n    const beneficiaryAddressGroup = this.group.get(\n      CounterPartyFields.postalAddress\n    );\n    const creditorBankBic = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`\n    );\n    this.setValue(this.accountNameControl, selectedItem.name || '');\n    this.setValue(accountNumberControl, selectedItem.accountNumber || '');\n    this.setValue(bankCodeControl, selectedItem.bankBranchCode);\n    this.setValue(creditorBankBic, selectedItem.BIC || '');\n    this.setValue(bankNameControl, '');\n    this.setValue(this.arrangementIdControl, selectedItem.id);\n    this.saveNewContactControl.setValue(false);\n    this.setAddress(<FormGroup>beneficiaryAddressGroup, {});\n    this.setDefaultCountry();\n    this.showBeneficiaryDetails = true;\n    this.enableBeneficiaryControl.setValue(false);\n    this.manualEdit$.next(false);\n    this.manualEditControl.setValue(false);\n    this.selectedBeneficiaryControl.setValue(selectedItem);\n    this.selectedContactControl.reset();\n    this.saveContactControl.reset();\n    this.showDependantFields();\n    this.initiatorIdControl?.updateValueAndValidity();\n  }\n\n  onSelectContact(selectedcontact: BeneficiaryContactItem) {\n    const accountNumberControl =\n      this.group.controls[CounterPartyFields.accountNumber];\n    const bankNameControl = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`\n    );\n    const bankCodeControl = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`\n    );\n    const creditorBankBic = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`\n    );\n    const beneficiaryAddressGroup = this.group.get(\n      CounterPartyFields.postalAddress\n    );\n    const beneficiaryBankAddressGroup = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.postalAddress}`\n    );\n    const account = selectedcontact.accounts[0];\n    const accountHolderAddress = this.getAccountHolderAddress(account);\n    const beneficiaryAddress = isAddressTruthy(accountHolderAddress)\n      ? accountHolderAddress\n      : this.getBeneficiaryAddress(selectedcontact);\n    const bankAddress = this.getContactBankAddress(account);\n    this.setValue(this.accountNameControl, selectedcontact.name);\n    this.setValue(\n      this.beneficiaryAccountNameControl,\n      selectedcontact.accountName || ''\n    );\n    this.setValue(\n      accountNumberControl,\n      account.accountNumber || account.IBAN || ''\n    );\n    this.setValue(bankCodeControl, account.bankCode || '');\n    this.setValue(bankNameControl, account.bankName || '');\n    this.setValue(creditorBankBic, account.BIC || '');\n    this.setValue(this.arrangementIdControl, '');\n    this.setValue(\n      this.selectedContactControl,\n      this.getSelectedContactDetails(selectedcontact)\n    );\n    this.selectedBeneficiaryControl.setValue(selectedcontact);\n    this.setAddress(<FormGroup>beneficiaryAddressGroup, beneficiaryAddress);\n    this.setAddress(<FormGroup>beneficiaryBankAddressGroup, bankAddress, true);\n\n    this.showBeneficiaryDetails = true;\n    this.manualEdit$.next(false);\n    this.manualEditControl.setValue(false);\n    this.enableBeneficiaryControl.setValue(false);\n    this.saveContactControl.reset();\n    this.showDependantFields();\n    this.initiatorIdControl?.updateValueAndValidity();\n  }\n\n  private getSelectedContactDetails(selectedcontact: ContactItem) {\n    // currently there is no id associated with a contact account. Will need populate accountId when contacts fix this.\n    return { contactId: selectedcontact?.id, accountId: '' };\n  }\n\n  setAddressDetails(addressGroup: FormGroup, address: Address) {\n    if (addressGroup) {\n      if (isAddressTruthy(address)) {\n        this.setAddress(addressGroup, address);\n      }\n    }\n  }\n\n  onManualEdit(search: string) {\n    const bankaddressGroup = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.postalAddress}`\n    );\n    const banksAddressControls = this.options.isWizardMode\n      ? this.getAddressFields(<FormGroup>bankaddressGroup)\n      : [bankaddressGroup];\n    this.accountNameControl.patchValue(search);\n    this.manualEdit$.next(true);\n    this.manualEditControl.setValue(true);\n    this.saveNewContactControl.setValue(true);\n    this.setValue(this.arrangementIdControl, '');\n    this.selectedBeneficiaryControl.reset();\n    this.resetControls([\n      this.group.controls[CounterPartyFields.accountNumber],\n      this.group.get(\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`\n      ),\n      this.group.get(\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bankBranchCode}`\n      ),\n      this.group.get(\n        `${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`\n      ),\n      this.group.get(CounterPartyFields.postalAddress),\n      this.selectedContactControl,\n      ...banksAddressControls,\n    ]);\n    this.setDefaultCountry();\n    this.visibilityService.showItems(this.config.parent);\n    this.showDependantFields();\n  }\n\n  private setDefaultCountry() {\n    const defaultCountry = this.options.isWizardMode\n      ? {\n          country: this.group.parent?.get(HiddenFields.defaultCountry)?.value,\n        }\n      : null;\n    const beneficiaryBankAddressGroup = this.group.get(\n      `${CounterPartyFields.creditorBank}.${CounterPartyFields.postalAddress}`\n    );\n    this.setAddress(\n      <FormGroup>beneficiaryBankAddressGroup,\n      { ...defaultCountry },\n      true\n    );\n  }\n\n  onSearchBlur(value: string) {\n    this.accountNameControl.patchValue(value);\n    if (!this.accountNameControl.touched) {\n      this.accountNameControl.markAsTouched();\n    }\n  }\n\n  getAddressFields(bankaddressGroup: FormGroup | null): Array<AbstractControl> {\n    const addressControls: Array<AbstractControl> = [];\n    if (bankaddressGroup) {\n      for (const controlName in bankaddressGroup.controls) {\n        if (bankaddressGroup.controls.hasOwnProperty(controlName)) {\n          const control = bankaddressGroup.controls[controlName];\n          if (controlName !== CounterPartyFields.country) {\n            addressControls.push(control);\n          }\n        }\n      }\n    }\n    return addressControls;\n  }\n\n  private resetControls(controls: Array<AbstractControl | null>) {\n    controls.forEach((control) => {\n      if (control) {\n        control.reset();\n      }\n    });\n  }\n\n  showDependantFields() {\n    if (this.config.options?.dependants) {\n      this.visibilityService.showItems(\n        this.config.parent,\n        this.config.options.dependants\n      );\n    }\n  }\n\n  hideDependantFields() {\n    if (this.config.options?.dependants) {\n      this.visibilityService.hideItems(\n        this.config.parent,\n        this.config.options.dependants\n      );\n    }\n  }\n\n  getBeneficiaryAddress(contact: Address) {\n    return {\n      addressLine1: contact.addressLine1,\n      addressLine2: contact.addressLine2,\n      streetName: contact.streetName,\n      town: contact.town,\n      postCode: contact.postCode,\n      countrySubDivision: contact.countrySubDivision,\n      country: contact.country,\n    };\n  }\n\n  getAccountHolderAddress(account: AccountInformation) {\n    return getAccountHolderAddress(account);\n  }\n\n  getContactBankAddress(account: AccountInformation) {\n    return getContactBankAddress(account);\n  }\n\n  setAddress(\n    addressGroup: FormGroup | null,\n    addressInfo: Address,\n    isBankAddress = false\n  ) {\n    if (addressGroup) {\n      if (isAddressTruthy(addressInfo) || isBankAddress) {\n        addressGroup.patchValue({\n          addressLine1: addressInfo.addressLine1,\n          addressLine2: addressInfo.addressLine2,\n          streetName: addressInfo.streetName,\n          town: addressInfo.town,\n          postCode: addressInfo.postCode,\n          countrySubDivision: addressInfo.countrySubDivision,\n          country: addressInfo.country,\n        });\n      } else {\n        for (const controlName in addressGroup.controls) {\n          if (\n            !(\n              isBankAddress &&\n              this.options.retainBankCountry &&\n              controlName === 'country'\n            )\n          ) {\n            addressGroup.controls[controlName].reset();\n          }\n        }\n      }\n    }\n  }\n\n  setValue(\n    control: AbstractControl | null,\n    value?: string | boolean | number | object\n  ) {\n    if (control) {\n      if (value) {\n        control.patchValue(value);\n      } else {\n        control.reset();\n      }\n    }\n  }\n\n  onClearValue(value: string) {\n    this.setValue(this.beneficiaryAccountNameControl, value);\n  }\n\n  isBeneficiaryDisabled(): boolean {\n    return (\n      (this.isClosedPaymentControl.value &&\n        !this.enableBeneficiaryControl.value) ||\n      !!this.arrangementIdControl.value\n    );\n  }\n}\n","<ng-container\n  *ngTemplateOutlet=\"\n    creditorTmpl;\n    context: { $implicit: options?.items$ | async }\n  \"\n></ng-container>\n\n<ng-template let-creditorDetails #creditorTmpl>\n  <div\n    class=\"form-group bb-dynamic-input\"\n    [ngClass]=\"options?.cssClasses\"\n    *ngIf=\"!config?.hidden\"\n    [formGroup]=\"group\"\n  >\n    <section class=\"payment-to form-group\">\n      <bb-beneficiary-selector-ui\n        [selectedItem]=\"{ name: accountNameControl?.value }\"\n        [placeholder]=\"options?.placeholder || ''\"\n        [tabs]=\"options?.tabs\"\n        [hasError]=\"accountNameControl?.touched && accountNameControl?.invalid\"\n        [totalAccounts]=\"creditorDetails?.totalCreditAccounts\"\n        [totalContacts]=\"creditorDetails?.totalContacts\"\n        [accounts]=\"creditorDetails?.accounts\"\n        [contacts]=\"creditorDetails?.contacts\"\n        [totalContactsItemsCount]=\"creditorDetails?.totalContactsItemsCount\"\n        [dropdownIcon]=\"options?.dropdownIcon || 'toggle-down'\"\n        [aria-label]=\"options?.ariaLabel || 'Toggle beneficiary list'\"\n        [title]=\"options?.label\"\n        [helperText]=\"options?.helperText\"\n        [search]=\"accountNameControl\"\n        [isManualEditDisabled]=\"options?.isManualEditDisabled\"\n        [isClosedPayment]=\"isClosedPaymentControl.value\"\n        [isBeneficiaryDisabled]=\"isBeneficiaryDisabled()\"\n        (fetchMoreItems)=\"onFetchMoreItems($event)\"\n        (searchValue)=\"onSearch($event)\"\n        (selectedAccount)=\"onSelectAccount($event)\"\n        (selectedContact)=\"onSelectContact($event)\"\n        (manualEdit)=\"onManualEdit($event)\"\n        (searchBlur)=\"onSearchBlur($event)\"\n        (clear)=\"onClearValue($event)\"\n        #beneficiarySelector\n      ></bb-beneficiary-selector-ui>\n\n      <bb-payord-validation-message\n        [control]=\"group?.controls['name']\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label || 'Beneficiary name'\"\n      ></bb-payord-validation-message>\n\n      <div\n        class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n        *ngIf=\"options?.description\"\n        [textContent]=\"options?.description\"\n      ></div>\n    </section>\n    <ng-container *ngIf=\"!options?.isTemplateMode\">\n      <div\n        *ngIf=\"saveNewContactControl?.value || (manualEdit$ | async)\"\n        class=\"bb-block bb-block--md\"\n      >\n        <bb-input-checkbox-ui\n          [disabled]=\"!!isClosedPaymentControl.value\"\n          [formControlName]=\"saveContactControlName\"\n          [label]=\"options.saveNewContactLabel || 'Save as a new contact'\"\n          data-role=\"save-new-contact-checkbox\"\n        >\n        </bb-input-checkbox-ui>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n","import {\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  DependantItem,\n} from '@backbase/payment-orders-ang';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport { VisibilityService } from '../services/visibility.service';\nimport { mapDependentItems } from '../helpers/generic-utils';\n\nexport class ActivatableFormField implements PaymentFormField {\n  /**\n   * Payment form field options\n   */\n  options!: PaymentFormFieldOptions;\n\n  /**\n   * Payment form field configuration\n   */\n  config!: PaymentFormFieldConfig;\n\n  /**\n   * Form group object\n   * Tracks the value and validity state of a group of FormControl instances\n   */\n  group!: FormGroup;\n\n  /**\n   * Base class for FormControl, FormGroup, and FormArray\n   */\n  control!: AbstractControl;\n\n  /**\n   * @internal\n   */\n  constructor(private readonly service: VisibilityService) {}\n\n  /**\n   * @internal\n   */\n  private showDependantFields() {\n    if (this.config.options && this.config.options.dependants) {\n      this.service.showItems(\n        this.config.parent,\n        this.config.options.dependants\n      );\n    }\n  }\n\n  /**\n   * @internal\n   */\n  private hideDependantFields() {\n    if (this.config.options) {\n      this.service.hideItems(\n        this.config.parent,\n        this.config.options.dependants\n      );\n    }\n  }\n\n  /**\n   * Tracks if a form item should be shown or not\n   */\n  toggleDependants() {\n    const { options, parent: currentParent } = this.config;\n    if (options && options.dependants) {\n      if (typeof options.activateDependantsOn === 'function') {\n        const toShow =\n          options.activateDependantsOn(this.control.value, this.control) || [];\n        const toShowMap = mapDependentItems(toShow, currentParent);\n        const toHide = mapDependentItems(\n          options?.dependants,\n          currentParent\n        ).map(({ parent, items }: DependantItem) => {\n          const toShowItem = toShowMap.find(\n            (i: DependantItem) => i.parent === parent\n          );\n          if (toShowItem) {\n            return {\n              parent,\n              items: items.filter((i) => !toShowItem.items.includes(i)),\n            };\n          } else {\n            return { parent, items };\n          }\n        });\n\n        mapDependentItems(toShow, currentParent).forEach(\n          ({ parent, items }) => {\n            if (items.length) {\n              this.service.showItems(parent, items);\n            }\n          }\n        );\n\n        mapDependentItems(toHide, currentParent).forEach(\n          ({ parent, items }) => {\n            if (items.length) {\n              this.service.hideItems(parent, items);\n            }\n          }\n        );\n      } else if (\n        this.control.value === this.config.options.activateDependantsOn\n      ) {\n        this.showDependantFields();\n      } else {\n        this.hideDependantFields();\n      }\n    }\n  }\n}\n","import {\n  Directive,\n  Input,\n  KeyValueDiffers,\n  KeyValueDiffer,\n  Renderer2,\n  ElementRef,\n  DoCheck,\n  KeyValueChanges,\n} from '@angular/core';\n\ninterface KeyValueMap {\n  [key: string]: any;\n}\n\n@Directive({\n  selector: '[bbDynamicAriaAttribute]',\n})\nexport class DynamicAriaAttributeDirective implements DoCheck {\n  /**\n   * The map that contains a key value pair that contains the an id\n   * and a condition when they should be added to the element.\n   */\n  @Input('bbDynamicAriaAttribute')\n  set ariaAttributeMap(value: KeyValueMap) {\n    this._rawMap = value;\n    if (this._rawMap) {\n      this.setAriaAttributeIds(this._rawMap);\n      this._keyValueDiffer = null;\n      this._keyValueDiffer = this.keyValueDiffers.find(this._rawMap).create();\n    }\n  }\n\n  /**\n   * Flag to denote if the id of the input should be prepended to provided aria ids\n   */\n  @Input() prependInputId = true;\n\n  /**\n   * The selector to select the actual html input.\n   */\n  @Input() inputSelector = '.form-control';\n\n  /**\n   * The name of the aria attribute to be added dynamically. Defaults to aria-describedby.\n   */\n  @Input() ariaAttributeName = 'aria-describedby';\n\n  private _keyValueDiffer: KeyValueDiffer<string, any> | null = null;\n  private _rawMap: KeyValueMap | null = null;\n\n  constructor(\n    private readonly keyValueDiffers: KeyValueDiffers,\n    private readonly hostElem: ElementRef,\n    private readonly renderer: Renderer2\n  ) {}\n\n  ngDoCheck() {\n    if (this._keyValueDiffer) {\n      const keyValueChanges = this._keyValueDiffer.diff(\n        this._rawMap as { [k: string]: any }\n      );\n      if (keyValueChanges) {\n        this.applyKeyValueChanges(keyValueChanges);\n      }\n    }\n  }\n\n  private applyKeyValueChanges(changes: KeyValueChanges<string, any>): void {\n    const currentMap: KeyValueMap = {};\n    changes.forEachAddedItem(\n      (record) => (currentMap[record.key] = record.currentValue)\n    );\n    changes.forEachChangedItem(\n      (record) => (currentMap[record.key] = record.currentValue)\n    );\n    changes.forEachRemovedItem((record) => {\n      if (record.previousValue) {\n        currentMap[record.key] = false;\n      }\n    });\n    this.setAriaAttributeIds(currentMap);\n  }\n\n  private setAriaAttributeIds(idMap: KeyValueMap) {\n    const targetElem = this.hostElem.nativeElement.querySelector(\n      this.inputSelector\n    );\n    const targetElemId = targetElem?.id || '';\n    const ids = Object.keys(idMap).reduce((acc: string[], id: string) => {\n      if (!!idMap[id]) {\n        acc.push(this.prependInputId ? targetElemId + id : id);\n      }\n      return acc;\n    }, []);\n\n    this.removeAriaAttributeIds(targetElem);\n    const descByIds = ids.join(' ').trim();\n    if (targetElem && descByIds) {\n      this.renderer.setAttribute(targetElem, this.ariaAttributeName, descByIds);\n    }\n  }\n\n  private removeAriaAttributeIds(targetElem: HTMLElement) {\n    if (targetElem) {\n      this.renderer.removeAttribute(targetElem, this.ariaAttributeName);\n    }\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { PaymentFormFieldHooks } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-payord-checkbox',\n  templateUrl: './payord-checkbox.component.html',\n})\nexport class PayordCheckboxComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  shouldDisplay = true;\n\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.shouldDisplay = !(\n      this.options.hideInWizardMode && this.options.isWizardMode\n    );\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  *ngIf=\"!config?.hidden && shouldDisplay\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <bb-input-checkbox-ui\n    [formControlName]=\"config?.name\"\n    [label]=\"options?.label\"\n    (change)=\"toggleDependants()\"\n    [disabled]=\"options?.disabled\"\n    [bbDynamicAriaAttribute]=\"{\n      __error: control?.touched && control?.invalid\n    }\"\n    [attr.data-role]=\"config?.name\"\n    #inputEl\n  >\n  </bb-input-checkbox-ui>\n  <bb-payord-validation-message\n    [control]=\"group?.controls[config.name]\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label\"\n    [id]=\"inputEl?.id + '__error'\"\n  ></bb-payord-validation-message>\n</div>\n","import { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport {\n  Component,\n  OnInit,\n  OnDestroy,\n  Inject,\n  Optional,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  FormGroup,\n  AbstractControl,\n  Validators,\n  ValidatorFn,\n} from '@angular/forms';\nimport { Observable, Subject, of, BehaviorSubject } from 'rxjs';\nimport {\n  ArrangementList,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  InitiatorFields,\n  PaymentFormFieldHooks,\n  PaymentBaseFields,\n  BB_CLOSED_PAYMENT_BUS_FN_SUFFIX,\n  BB_INTRACOMPANY_PAYMENT_BUS_FN_SUFFIX,\n  DefaultClosedPaymentBusFnSuffix,\n  DefaultIntraCompanyPaymentBusFnSuffix,\n  HiddenFields,\n  InternalAccountFormItem,\n  forbiddenStatus,\n  CounterPartyFields,\n  missingInListValidator,\n  sameAccountsValidator,\n} from '@backbase/payment-orders-ang';\nimport {\n  getParentForm,\n  isClosedPaymentValidator,\n  registerFormControl,\n} from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport {\n  catchError,\n  debounceTime,\n  switchMap,\n  takeUntil,\n  tap,\n} from 'rxjs/operators';\nimport { DeprecationsService } from '@backbase/foundation-ang/core';\nimport { SchemeNames } from '@backbase/data-ang/payment-order';\nimport { toggleBeneficiaryControls } from '../../helpers/generic-utils';\n\n@Component({\n  selector: 'bb-payord-debit-account-selector',\n  templateUrl: 'payord-debit-account-selector.component.html',\n})\nexport class PayordDebitAccountSelectorComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n\n  control!: AbstractControl;\n  /**\n   * @deprecated\n   * This property is deprecated from 3.10.3 and will be removed in next major release\n   * Please use `arangementItems$` instead\n   */\n  items$!: Observable<Array<InternalAccountFormItem>>;\n  arrangementItems$!: Observable<ArrangementList>;\n  arrangementList!: ArrangementList;\n  selectedAccount!: InternalAccountFormItem & { number?: string };\n  initialDebitGroup = {\n    [InitiatorFields.id]: [''],\n    [InitiatorFields.name]: [''],\n    [InitiatorFields.accountNumber]: [''],\n    schemeName: [],\n    currency: [''],\n    balance: [''],\n  };\n  form!: FormGroup;\n  gc$ = new Subject<void>();\n  isClosedPaymentControl?: AbstractControl;\n  private loadDebitAccountAndSelect$ = new Subject<undefined>();\n  private accountIds: string[] = [];\n  private currentPage = 0;\n  private searchTerm = '';\n  typeahead$ = new Subject<string>();\n  loading$ = new BehaviorSubject(true);\n  defaultTypeToSearchText = $localize`:@@debit-account-selector.default-type-to-search-text:No items found`;\n\n  constructor(\n    @Optional()\n    @Inject(BB_CLOSED_PAYMENT_BUS_FN_SUFFIX)\n    private closedPaymentBusFnSuffix: string,\n    @Optional()\n    @Inject(BB_INTRACOMPANY_PAYMENT_BUS_FN_SUFFIX)\n    private intraCompanyPaymentBusFnSuffix: string,\n    private readonly deprecationService: DeprecationsService,\n    private cdRef: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    this.deprecationService.logDeprecatedFeature(\n      `\"BB_CLOSED_PAYMENT_BUS_FN_SUFFIX\", \"BB_INTRACOMPANY_PAYMENT_BUS_FN_SUFFIX\", \"DefaultClosedPaymentBusFnSuffix\" and\n      \"DefaultIntraCompanyPaymentBusFnSuffix\" are deprecated and will be removed in next major release`\n    );\n    this.closedPaymentBusFnSuffix =\n      this.closedPaymentBusFnSuffix || DefaultClosedPaymentBusFnSuffix;\n    this.intraCompanyPaymentBusFnSuffix =\n      this.intraCompanyPaymentBusFnSuffix ||\n      DefaultIntraCompanyPaymentBusFnSuffix;\n    this.registerFields();\n    this.listenSearch();\n    this.control = this.group.controls['id'];\n    this.form = getParentForm(this.control);\n    this.isClosedPaymentControl = registerFormControl(\n      this.form,\n      HiddenFields.isClosedPayment\n    );\n    // populate value to show it in edit mode\n    if (this.group.value.id) {\n      this.selectItem(this.group.value);\n    }\n    // populate account balance and currency when applying a payment template or editing payment\n    this.arrangementItems$ = this.options?.items$?.pipe(\n      tap(({ items: list }: ArrangementList) => {\n        this.accountIds = list.map((item: InternalAccountFormItem) => item.id);\n        if (this.group.value.id) {\n          const selectedAccount = list?.find(\n            (item) => item.id === this.group.value.id\n          );\n          if (selectedAccount) {\n            this.selectItem(selectedAccount);\n          } else {\n            // we need to load debit account to show it selected\n            this.loadDebitAccountAndSelect$.next();\n          }\n        }\n      }),\n      catchError((err: HttpErrorResponse) => of(err))\n    );\n\n    this.arrangementItems$\n      .pipe(takeUntil(this.gc$))\n      .subscribe((arrangementList) => {\n        this.loading$.next(false);\n        this.arrangementList = arrangementList;\n        this.cdRef.detectChanges();\n      });\n\n    const counterpartyGroup = <FormGroup>(\n      this.form.get(PaymentBaseFields.counterparty)\n    );\n\n    if (this.options.checkClosedPaymentsAccess) {\n      this.isClosedPaymentControl?.valueChanges\n        .pipe(takeUntil(this.gc$))\n        .subscribe((isClosedPayment: boolean) => {\n          if (isClosedPayment) {\n            toggleBeneficiaryControls(counterpartyGroup, isClosedPayment);\n            this.control.updateValueAndValidity();\n          }\n        });\n\n      this.options.arrangementPermissions$\n        ?.pipe(takeUntil(this.gc$))\n        .subscribe((response: HttpResponse<any>) => {\n          this.isClosedPaymentControl?.setValue(\n            response?.status === forbiddenStatus\n          );\n        });\n    }\n    this.loadDebitAccountAndSelect$\n      .pipe(\n        takeUntil(this.gc$),\n        switchMap(\n          () =>\n            this.options.loadAccountByAccountId(\n              this.group.value.id,\n              this.group.value.accountNumber\n            ) as Observable<InternalAccountFormItem | undefined>\n        ),\n        tap((item: InternalAccountFormItem | undefined) => {\n          if (item) {\n            this.accountIds.push(item.id);\n          } else {\n            this.control.setValidators([\n              Validators.required,\n              missingInListValidator(this.getAccountIdsList.bind(this)),\n            ]);\n            this.control.updateValueAndValidity();\n          }\n          const account = item || this.group.value;\n          this.selectItem(account);\n        }),\n        catchError(() => of(undefined))\n      )\n      .subscribe();\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  private fetchArrangementPermissions(arrangementId: string) {\n    if (\n      !this.options.isWizardMode &&\n      this.options.checkClosedPaymentsAccess &&\n      arrangementId\n    ) {\n      this.options.fetchArrangementPermissions$?.next(arrangementId);\n    }\n  }\n\n  private getAccountIdsList() {\n    return this.accountIds;\n  }\n\n  private listenSearch() {\n    this.typeahead$\n      .pipe(takeUntil(this.gc$), debounceTime(300))\n      .subscribe((query: string) => {\n        this.onSearch(query);\n      });\n  }\n\n  ngOnDestroy() {\n    this.gc$.next();\n    this.gc$.complete();\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  registerFields() {\n    const validators: { [key: string]: Array<ValidatorFn> } = {\n      [InitiatorFields.id]: [Validators.required],\n    };\n    for (const key in this.initialDebitGroup) {\n      if (this.initialDebitGroup.hasOwnProperty(key)) {\n        if (key === InitiatorFields.id) {\n          if (this.checkClosedPayment()) {\n            validators[InitiatorFields.id].push(isClosedPaymentValidator);\n          }\n          if (this.isCounterpartyGroup()) {\n            validators[InitiatorFields.id].push(sameAccountsValidator());\n          }\n        }\n        registerFormControl(this.group, key, validators[key], [], '');\n      }\n    }\n  }\n\n  private isCounterpartyGroup(): boolean {\n    return this.config.name === CounterPartyFields.counterPartyAccountGroup;\n  }\n\n  private checkClosedPayment(): boolean {\n    return (\n      !this.options.isWizardMode &&\n      this.config.name === InitiatorFields.initiatorAccountGroup &&\n      this.options.checkClosedPaymentsAccess\n    );\n  }\n\n  selectItem(account: InternalAccountFormItem) {\n    if (this.group && account.name) {\n      this.group.patchValue({\n        id: account.id,\n        name: account.name,\n        accountNumber: account.accountNumber,\n        balance: account.balance,\n        currency: account.currency,\n        accountType: account.accountType,\n        additions: account.additions || {},\n        schemeName: SchemeNames.ID,\n      });\n      this.selectedAccount = {\n        ...account,\n        number: account.accountNumber,\n        currency: account.currency,\n        balance: account.balance,\n      };\n\n      if (!this.isCounterpartyGroup()) {\n        this.form\n          .get([PaymentBaseFields.counterparty, CounterPartyFields.id])\n          ?.updateValueAndValidity();\n      }\n\n      this.fetchArrangementPermissions(account.id);\n    }\n\n    this.group.markAllAsTouched();\n    this.group.markAsDirty();\n  }\n\n  onBlur() {\n    if (this.options.required) {\n      this.group.markAllAsTouched();\n    }\n  }\n\n  onScrollToEnd(): void {\n    this.options.fetchItems$.next({\n      from: ++this.currentPage,\n      searchTerm: this.searchTerm,\n    });\n    this.loading$.next(true);\n  }\n\n  onSearch(searchTerm: string) {\n    this.currentPage = 0;\n    this.searchTerm = searchTerm;\n    this.options.fetchItems$.next({ from: this.currentPage, searchTerm });\n    this.loading$.next(true);\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  [ngClass]=\"options?.cssClasses\"\n  *ngIf=\"!config?.hidden\"\n>\n  <section class=\"payment-from\" [formGroup]=\"group\">\n    <label class=\"d-block\">\n      <div *ngIf=\"options?.label\" class=\"bb-dynamic-input__label bb-label\">\n        <span>\n          {{ options?.label }}\n        </span>\n        <span\n          class=\"bb-dynamic-input__helper-text bb-text-support\"\n          *ngIf=\"options?.helperText\"\n          [textContent]=\"options?.helperText\"\n        >\n        </span>\n      </div>\n      <div class=\"bb-form-field\">\n        <bb-account-selector-ui\n          [markFirst]=\"true\"\n          [highlight]=\"false\"\n          [filterItems]=\"options?.filterItems\"\n          [closeOnSelect]=\"true\"\n          [dropdownPosition]=\"'bottom'\"\n          [items]=\"arrangementList?.items\"\n          [selectedItems]=\"selectedAccount\"\n          (change)=\"selectItem($event)\"\n          (blur)=\"onBlur()\"\n          [placeholder]=\"options?.placeholder || ''\"\n          [attr.aria-label]=\"options?.label\"\n          [required]=\"options?.required\"\n          [attr.data-role]=\"'debit-account-selector'\"\n          [showBankBranchCode]=\"options?.showBankBranchCode\"\n          [bbDynamicAriaAttribute]=\"{\n            'payord-debit-account-selector__error':\n              control?.touched && control?.invalid,\n            'payord-debit-account-selector__desc': options?.description\n          }\"\n          [prependInputId]=\"false\"\n          inputSelector=\".ng-input input\"\n          [disableScrollEnd]=\"\n            arrangementList?.items?.length >= arrangementList?.count\n          \"\n          (scrollToEnd)=\"onScrollToEnd()\"\n          [searchFunc]=\"options.searchFn\"\n          [minTermLength]=\"options.minTermLength || 0\"\n          [typeToSearchText]=\"\n            options.typeToSearchText || defaultTypeToSearchText\n          \"\n          [typeahead]=\"options.disableTypeahead ? undefined : typeahead$\"\n          [loading]=\"loading$ | async\"\n        ></bb-account-selector-ui>\n      </div>\n    </label>\n\n    <bb-payord-validation-message\n      [control]=\"control\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label || 'Debit account'\"\n      [id]=\"'payord-debit-account-selector__error'\"\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      id=\"payord-debit-account-selector__desc\"\n      *ngIf=\"options?.description\"\n      [textContent]=\"options?.description\"\n    ></div>\n  </section>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { PaymentFormFieldHooks } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-payord-radio',\n  templateUrl: './payord-radio.component.html',\n})\nexport class PayordRadioComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  getDescribedByRefs(id: string) {\n    return {\n      [`${id}__error`]: this.control.touched && this.control.invalid,\n      [`${id}__desc`]: this.options?.description,\n    };\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <label\n    class=\"bb-dynamic-input__label\"\n    [id]=\"inputEl?.id + '__label'\"\n    [for]=\"inputEl?.id\"\n    [textContent]=\"options?.label || ''\"\n    #labelElem\n  ></label>\n  <span\n    class=\"bb-dynamic-input__helper-text bb-text-support\"\n    *ngIf=\"options?.helperText\"\n    [id]=\"inputEl?.id + '__helper'\"\n    [textContent]=\"options?.helperText\"\n  >\n  </span>\n\n  <bb-input-radio-group-ui\n    [label]=\"options?.label\"\n    [formControlName]=\"config?.name\"\n    (change)=\"toggleDependants()\"\n    [horizontal]=\"options?.horizontal\"\n    [preselect]=\"options?.preselect\"\n    [bbDynamicAriaAttribute]=\"getDescribedByRefs(inputEl.id)\"\n    inputSelector=\".bb-input-radio-group\"\n    [attr.data-role]=\"config?.name\"\n    #inputEl\n  >\n    <bb-input-radio-ui\n      *ngFor=\"let option of options?.options\"\n      [value]=\"option.value\"\n      [label]=\"option.label\"\n      [attr.data-role]=\"option.value\"\n    ></bb-input-radio-ui>\n  </bb-input-radio-group-ui>\n  <bb-payord-validation-message\n    [control]=\"group?.controls[config.name]\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label\"\n    [id]=\"inputEl?.id + '__error'\"\n  ></bb-payord-validation-message>\n\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    [attr.aria-hidden]=\"!options?.description\"\n    [hidden]=\"!options?.description\"\n    [id]=\"inputEl?.id + '__desc'\"\n    [textContent]=\"options?.description || ''\"\n    #descElem\n  ></div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport {\n  pastDateValidator,\n  requiredEndDateValidator,\n  requiredEndTypeValidator,\n  requiredAfterValidator,\n} from '@backbase/payment-orders-ang';\nimport {\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  ScheduleFields,\n  PaymentFormFieldHooks,\n  endTypes,\n  ScheduleItem,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-schedule',\n  templateUrl: './payord-schedule.component.html',\n})\nexport class PayordScheduleComponent\n  implements OnInit, PaymentFormField, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  scheduleGroup!: FormGroup;\n  defaultMinOcccurs = 2;\n  defaultMaxOcccurs = 100;\n\n  ngOnInit() {\n    this.registerFields(\n      this.initScheduleFields(this.options.minOccurs, this.options.maxOccurs)\n    );\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  initScheduleFields(minOccurs: number, maxOccurs: number) {\n    return {\n      [ScheduleFields.frequency]: [\n        { value: 'ONCE', every: '1' },\n        [Validators.required],\n      ],\n      [ScheduleFields.startDate]: [\n        new Date().toISOString(),\n        [Validators.required, pastDateValidator],\n      ],\n      [ScheduleFields.endDate]: [\n        new Date(\n          new Date().getFullYear(),\n          new Date().getMonth() + 1,\n          new Date().getDate()\n        ).toISOString(),\n        [requiredEndDateValidator, pastDateValidator],\n      ],\n      [ScheduleFields.repeat]: [\n        minOccurs || this.defaultMinOcccurs,\n        [\n          requiredAfterValidator,\n          Validators.compose([\n            Validators.min(minOccurs || this.defaultMinOcccurs),\n            Validators.max(maxOccurs || this.defaultMaxOcccurs),\n          ]),\n        ],\n      ],\n      [ScheduleFields.endType]: [endTypes.never, [requiredEndTypeValidator]],\n    };\n  }\n\n  registerFields(fields: { [key: string]: any[] }) {\n    for (const key in fields) {\n      if (fields.hasOwnProperty(key)) {\n        registerFormControl(\n          this.group,\n          key,\n          fields[key].pop(),\n          [],\n          fields[key].pop()\n        );\n      }\n    }\n  }\n\n  get scheduleLabelData(): ScheduleItem {\n    const { frequency, endDate, endType, repeat, startDate } = this.group.value;\n    let end = {};\n    switch (endType) {\n      case endTypes.on: {\n        end = { endDate };\n        break;\n      }\n      case endTypes.after: {\n        end = { repeat };\n        break;\n      }\n    }\n    return {\n      frequency,\n      endType,\n      startDate,\n      ...end,\n    };\n  }\n}\n","<ng-container *ngIf=\"!config?.hidden\">\n  <section\n    class=\"payment-schedule flex-row bb-dynamic-input\"\n    [ngClass]=\"options?.cssClasses\"\n  >\n    <fieldset class=\"bb-fieldset\">\n      <ng-container *ngIf=\"!config.options.collapsible; else collapsibleTmpl\">\n        <ng-container *ngTemplateOutlet=\"header\"></ng-container>\n        <hr class=\"mt-0\" />\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n      </ng-container>\n    </fieldset>\n  </section>\n  <ng-template #collapsibleTmpl>\n    <bb-collapsible-ui data-role=\"schedule-toggle\" #collapse>\n      <ng-template bbCollapsibleHeader let-toggle=\"toggle\" let-isOpen=\"isOpen\">\n        <div\n          [attr.aria-expanded]=\"isOpen\"\n          (click)=\"collapse.toggle()\"\n          class=\"bb-stack justify-content-between\"\n        >\n          <ng-container *ngTemplateOutlet=\"header\"></ng-container>\n          <button\n            bbButton\n            color=\"outline\"\n            (click)=\"collapse.toggle(); $event.stopPropagation()\"\n            aria-label=\"Schedule toggle\"\n          >\n            <bb-icon-ui\n              [name]=\"isOpen ? 'toggle-up' : 'toggle-down'\"\n            ></bb-icon-ui>\n          </button>\n        </div>\n        <hr class=\"mt-0\" />\n      </ng-template>\n      <ng-template bbCollapsibleBody>\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n      </ng-template>\n    </bb-collapsible-ui>\n  </ng-template>\n  <ng-template #header>\n    <legend>\n      <span class=\"bb-label\">\n        {{ options?.label || 'Schedule' }}\n      </span>\n      <span class=\"bb-text-support\">\n        (<bb-schedule-label-ui [item]=\"scheduleLabelData\"></bb-schedule-label-ui\n        >)\n      </span>\n    </legend>\n  </ng-template>\n\n  <ng-template #content>\n    <bb-schedule-ui\n      [scheduleForm]=\"group\"\n      [frequencies]=\"options?.frequencies\"\n      [minOccurs]=\"options?.minOccurs\"\n      [maxOccurs]=\"options?.maxOccurs\"\n      [formSubmitted]=\"group?.touched\"\n      data-role=\"payment-schedule\"\n    >\n    </bb-schedule-ui>\n  </ng-template>\n</ng-container>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { PaymentFormFieldHooks } from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-select',\n  templateUrl: './payord-select.component.html',\n})\nexport class PayordSelectComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  *ngIf=\"!config?.hidden\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <label\n    class=\"bb-dynamic-input__label\"\n    [id]=\"inputEl?.id + '__label'\"\n    [for]=\"inputEl?.id\"\n    [textContent]=\"options?.label || ''\"\n    #labelElem\n  ></label>\n  <span\n    class=\"bb-dynamic-input__helper-text bb-text-support\"\n    *ngIf=\"options?.helperText\"\n    [id]=\"inputEl?.id + '__desc'\"\n    [textContent]=\"options?.helperText\"\n  >\n  </span>\n\n  <bb-dropdown-single-select-ui\n    [formControlName]=\"config.name\"\n    [placeholder]=\"options?.placeholder || ''\"\n    (change)=\"toggleDependants()\"\n    [bbDynamicAriaAttribute]=\"{\n      __error: control?.touched && control?.invalid,\n      __desc: options?.description\n    }\"\n    [attr.data-role]=\"config.name\"\n    #inputEl\n  >\n    <bb-dropdown-single-select-option-ui\n      *ngFor=\"let option of options?.options\"\n      [value]=\"option.value\"\n      [label]=\"option.label\"\n      [attr.data-role]=\"option.value\"\n    >\n    </bb-dropdown-single-select-option-ui>\n  </bb-dropdown-single-select-ui>\n\n  <bb-payord-validation-message\n    [control]=\"group?.controls[config.name]\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label\"\n    [id]=\"inputEl?.id + '__error'\"\n  ></bb-payord-validation-message>\n\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    [attr.aria-hidden]=\"!options?.description\"\n    [hidden]=\"!options?.description\"\n    [id]=\"inputEl?.id + '__desc'\"\n    [textContent]=\"options?.description || ''\"\n    #descElem\n  ></div>\n</div>\n","import { Component, OnInit, OnDestroy, ElementRef } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentFormFieldHooks,\n  focusChildElement,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { isObjectTruthy } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-payord-textarea',\n  templateUrl: './payord-textarea.component.html',\n})\nexport class PayordTextAreaComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  options!: PaymentFormFieldOptions;\n  control!: AbstractControl;\n  isCollapsed = false;\n\n  constructor(private readonly elRef: ElementRef<HTMLElement>) {}\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    if (this.control.value?.content) {\n      this.control.setValue(this.control.value.content);\n    }\n    this.isCollapsed =\n      !this.control.value && isObjectTruthy(this.options.collapseOptions);\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  expand() {\n    this.isCollapsed = false;\n    focusChildElement('textarea', this.elRef.nativeElement);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<ng-container *ngIf=\"!config?.hidden\">\n  <div\n    *ngIf=\"!isCollapsed\"\n    class=\"bb-dynamic-input form-group\"\n    [formGroup]=\"group\"\n    [ngClass]=\"options?.cssClasses\"\n  >\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"inputEl?.id + '__label'\"\n      [for]=\"inputEl?.id\"\n      [textContent]=\"options?.label || ''\"\n      #labelElem\n    ></label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n    <bb-textarea-ui\n      [placeholder]=\"options?.placeholder || ''\"\n      [formControlName]=\"config.name\"\n      [showCharCounter]=\"true\"\n      [minLength]=\"options?.minLength\"\n      [maxLength]=\"options?.maxLength\"\n      [rows]=\"options?.rows\"\n      [cols]=\"options?.cols\"\n      [attr.data-role]=\"config.name\"\n      wrap=\"hard\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      #inputEl\n    >\n    </bb-textarea-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </div>\n\n  <ng-container *ngIf=\"isCollapsed\">\n    <span class=\"bb-dynamic-input__collapse-btn-container\">\n      <button\n        class=\"bb-dynamic-input__collapse-btn\"\n        bbButton\n        [color]=\"options?.collapseOptions?.btnColor || 'link'\"\n        [buttonSize]=\"options?.collapseOptions?.btnSize\"\n        (click)=\"expand()\"\n      >\n        <bb-icon-ui\n          class=\"bb-dynamic-input__collapse-btn-icon mr-2\"\n          *ngIf=\"!options?.collapseOptions?.hideIcon\"\n          [name]=\"options?.collapseOptions?.icon || 'add'\"\n          [size]=\"options?.collapseOptions?.iconSize\"\n        >\n        </bb-icon-ui>\n        <span class=\"bb-dynamic-input__collapse-btn-label\">\n          {{ options?.collapseOptions?.label || options?.label }}\n        </span>\n      </button>\n      <bb-payord-validation-message\n        [control]=\"group?.controls[config.name]\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label\"\n      ></bb-payord-validation-message>\n    </span>\n  </ng-container>\n</ng-container>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  CounterPartyFields,\n  Scheme,\n  Hideable,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-text',\n  templateUrl: './payord-text.component.html',\n})\nexport class PayordTextboxComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n\n    if (this.options.isIban) {\n      const schemeNameControl =\n        this.group.get(CounterPartyFields.schemeName) ||\n        registerFormControl(this.group, CounterPartyFields.schemeName);\n      if (schemeNameControl.value !== Scheme.IBAN) {\n        schemeNameControl.setValue(Scheme.IBAN);\n      }\n    }\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group contextual-alternates-off\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <ng-container *ngIf=\"!options?.isIban; else ibanElem\">\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"inputEl?.id + '__label'\"\n      [for]=\"inputEl?.id\"\n      #labelElem\n    >\n      {{ options?.label || '' }}\n    </label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      [textContent]=\"options?.helperText\"\n      *ngIf=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-text-ui\n      #inputEl\n      [formControlName]=\"config.name\"\n      [disabled]=\"options?.disabled\"\n      [minLength]=\"options?.minLength\"\n      [maxLength]=\"options?.maxLength\"\n      [showCharCounter]=\"options?.showCharCounter\"\n      [id]=\"options?.id\"\n      [placeholder]=\"options?.placeholder || ''\"\n      [autocomplete]=\"options?.autoComplete\"\n      [autofocus]=\"options?.autofocus\"\n      [readonly]=\"options?.readonly\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      [attr.data-role]=\"config.name\"\n    >\n    </bb-input-text-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n      #errorElem\n    ></bb-payord-validation-message>\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </ng-container>\n\n  <ng-template #ibanElem>\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"ibanInput?.id + '__label'\"\n      [for]=\"ibanInput?.id\"\n      [textContent]=\"options?.label || ''\"\n      #ibanLabelElem\n    >\n    </label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-text-ui\n      [formControlName]=\"config.name\"\n      [disabled]=\"options?.disabled\"\n      [maxLength]=\"options?.maxLength\"\n      [placeholder]=\"options?.placeholder || ''\"\n      [autocomplete]=\"options?.autoComplete\"\n      [autofocus]=\"options?.autofocus\"\n      [minLength]=\"options?.minLength\"\n      [readonly]=\"options?.readonly\"\n      [id]=\"options?.id\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      bbIban\n      #ibanInput\n    >\n    </bb-input-text-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"ibanInput?.id + '__error'\"\n      #ibanErrorElem\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"ibanInput?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #ibanDescElem\n    ></div>\n  </ng-template>\n</div>\n","import {\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormGroup,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport {\n  amountValidator,\n  currencyValidatorFactory,\n  InitiatorFields,\n  PaymentBaseFields,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  PaymentFormFieldOptions,\n  PaymentOptionFields,\n  RemittanceInfoFields,\n} from '@backbase/payment-orders-ang';\nimport { combineLatest, Subject, Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  startWith,\n  tap,\n} from 'rxjs/operators';\nimport { getParentForm, registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\nexport interface CalculatedRate {\n  currencyFrom: string;\n  currencyTo: string;\n  rate: number;\n  calculatedAmount: number;\n}\n\n@Component({\n  selector: 'bb-sanctioned-currency-amount',\n  templateUrl: './payord-sanctioned-currency-amount.component.html',\n})\nexport class PayordSanctionedCurrencyAmountComponent\n  implements OnInit, PaymentFormField, OnDestroy\n{\n  private static _id = 0;\n  readonly sanctionedCurrencyAmountId =\n    PayordSanctionedCurrencyAmountComponent._id++;\n\n  @ViewChild('amountLabel')\n  private amountLabelEl: ElementRef | undefined;\n\n  @ViewChild('helperText')\n  private helperTextEL: ElementRef | undefined;\n\n  /**\n   * Form config\n   */\n  config!: PaymentFormFieldConfig;\n\n  /**\n   * Form group\n   */\n  group!: FormGroup;\n\n  /**\n   * Form field options\n   */\n  options!: PaymentFormFieldOptions;\n\n  /**\n   * Form control\n   */\n  control!: AbstractControl;\n\n  /**\n   * Subscriptio to a value change\n   */\n  valueChangeSubscription?: Subscription;\n\n  /**\n   * Currency control\n   */\n  initiatorCurrencyControl!: AbstractControl;\n\n  /**\n   * Subject for exchange rate\n   */\n  exchangeRate$!: Subject<number>;\n\n  /**\n   * Control for exchange rate\n   */\n  exchangeRateControl!: AbstractControl;\n\n  /**\n   * Parent form group\n   */\n  parentForm!: FormGroup;\n\n  /**\n   * Initial amount value\n   */\n  initialAmount = {\n    [RemittanceInfoFields.amount]: '',\n    [RemittanceInfoFields.currency]: '',\n  };\n\n  /**\n   * Initializes the component.\n   *\n   * @returns\n   */\n  ngOnInit() {\n    this.parentForm = getParentForm(this.group);\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      [\n        Validators.required,\n        amountValidator as ValidatorFn,\n        currencyValidatorFactory(),\n      ],\n      this.options.asyncValidators,\n      this.options.defaultValue || this.initialAmount,\n      this.config\n    );\n\n    this.initiatorCurrencyControl = <AbstractControl>(\n      this.parentForm.get(\n        `${PaymentBaseFields.initiator}.${InitiatorFields.currency}`\n      )\n    );\n    this.exchangeRateControl =\n      this.parentForm.get(PaymentOptionFields.exchangeRate) ||\n      registerFormControl(this.parentForm, PaymentOptionFields.exchangeRate);\n\n    if (\n      this.initiatorCurrencyControl &&\n      this.control &&\n      !this.options.isTemplateMode\n    ) {\n      // Listen for \"from\" and \"to\" currency values\n      this.valueChangeSubscription = combineLatest([\n        this.initiatorCurrencyControl.valueChanges.pipe(\n          startWith(this.initiatorCurrencyControl.value),\n          distinctUntilChanged(),\n          filter((val) => !!val)\n        ),\n        this.control.valueChanges.pipe(\n          startWith(this.control.value),\n          map(({ currency }) => currency),\n          distinctUntilChanged(),\n          filter((val) => !!val)\n        ),\n      ]).subscribe(([fromCurrency, toCurrency]) => {\n        this.options.getExchangeRate$.next({ fromCurrency, toCurrency });\n      });\n    }\n\n    if (this.options.exchangeRate$) {\n      this.exchangeRate$ = this.options.exchangeRate$.pipe(\n        tap((rate) => {\n          this.exchangeRateControl.setValue(rate);\n        })\n      );\n    }\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  /**\n   * Returns the calculated rate\n   *\n   * @param [exchangeRate] Exchange rate\n   */\n  getCalculatedRate(exchangeRate = 0): CalculatedRate | undefined {\n    if (\n      exchangeRate &&\n      this.initiatorCurrencyControl &&\n      this.control.value.amount\n    ) {\n      return {\n        currencyFrom: this.initiatorCurrencyControl.value,\n        currencyTo: this.control.value.currency,\n        rate: exchangeRate,\n        calculatedAmount: this.control.value.amount / exchangeRate,\n      };\n    }\n    return;\n  }\n\n  /**\n   * Cleanups just before Angular destroys the component.\n   *\n   * @returns\n   */\n  ngOnDestroy() {\n    if (this.valueChangeSubscription) {\n      this.valueChangeSubscription.unsubscribe();\n    }\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  getLabelledbyForSelector(): string {\n    return (\n      this.options?.labelledBy ||\n      `${this.amountLabelEl?.nativeElement.id || ''} ${\n        this.helperTextEL?.nativeElement.id || ''\n      }`.trim()\n    );\n  }\n}\n","<section\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group payment-amount\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div\n    #amountLabel\n    class=\"bb-dynamic-input__label bb-label\"\n    id=\"payment-amount__helper-label-{{ sanctionedCurrencyAmountId }}\"\n    *ngIf=\"options?.label\"\n  >\n    {{ options?.label }}\n  </div>\n\n  <span\n    #helperText\n    class=\"bb-dynamic-input__helper-text bb-text-support\"\n    id=\"payment-amount__helper-text-{{ sanctionedCurrencyAmountId }}\"\n    *ngIf=\"options?.helperText\"\n    [textContent]=\"options?.helperText\"\n  >\n  </span>\n\n  <div class=\"col-md-8 px-0\">\n    <ng-container *ngIf=\"options?.items$ | async as response; else loading\">\n      <bb-currency-amount-selector\n        [currencies]=\"response.currencies\"\n        [decMinLen]=\"0\"\n        [decMaxLen]=\"options?.decMaxLen\"\n        [allowNegativeValue]=\"options?.allowNegativeValue\"\n        [currencyLabel]=\"options?.currencyLabel || ''\"\n        [decimalLabel]=\"options?.decimalLabel || ''\"\n        [disabled]=\"options?.disabled || false\"\n        [integer]=\"options?.integer\"\n        [integerLabel]=\"options?.integerLabel || ''\"\n        [isRightAligned]=\"options?.isRightAligned\"\n        [labelClasses]=\"options?.labelClasses || ''\"\n        [placeholder]=\"options?.placeholder || 0\"\n        [readonly]=\"options?.readonly\"\n        [aria-describedby]=\"options?.describedBy\"\n        [aria-labelledby]=\"getLabelledbyForSelector()\"\n        [aria-invalid]=\"options?.ariaInvalid\"\n        [formControlName]=\"config.name\"\n        [currencySelectorExtended]=\"true\"\n        [currencySelectorConfig]=\"{\n          dividerIndex: response.dividerIndex,\n          showName: true,\n          isSearchable: true\n        }\"\n        [attr.maxlength]=\"options?.maxLength || 18\"\n        data-role=\"sanctioned-currency-amount-selector\"\n        resultType=\"string\"\n        ngDefaultControl\n      >\n        <div bbValidationMessage>\n          <bb-payord-validation-message\n            [control]=\"group.get('amountGroup')\"\n            [validationMessages]=\"options?.validationMessages\"\n            [label]=\"options?.label || 'Amount'\"\n          ></bb-payord-validation-message>\n        </div>\n      </bb-currency-amount-selector>\n      <bb-input-validation-message-ui [showErrors]=\"response.message\">\n        <span i18n=\"@@load-error-message-curr\"\n          >Something went wrong. Reload the page or contact system\n          administrator.</span\n        >\n      </bb-input-validation-message-ui>\n    </ng-container>\n  </div>\n  <ng-template #loading>\n    <bb-loading-indicator-ui></bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-container *ngIf=\"exchangeRate$ | async as exchangeRate\">\n    <ng-container *ngIf=\"getCalculatedRate(exchangeRate) as calculatedRate\">\n      <ng-container i18n=\"@@approximatelyPriceLabel\"\n        >You pay approximately:</ng-container\n      >\n      <span class=\"bb-text-bold\">\n        &asymp;\n        <bb-amount-ui\n          [mapCurrency]=\"false\"\n          [amount]=\"calculatedRate.calculatedAmount\"\n          [currency]=\"calculatedRate.currencyFrom\"\n        ></bb-amount-ui>\n      </span>\n      <ng-container i18n=\"@@currency-exchange-rate\">\n        (1 {{ calculatedRate.currencyFrom }} &asymp; {{ calculatedRate.rate }}\n        {{ calculatedRate.currencyTo }})\n      </ng-container>\n    </ng-container>\n  </ng-container>\n\n  <div *ngIf=\"options?.exchangeRateError$ | async\">\n    <span i18n=\"@@load-error-message-rate\"\n      >Exchange rate for this currency pair is unavailable.</span\n    >\n  </div>\n\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    *ngIf=\"options?.description\"\n    [textContent]=\"options?.description\"\n  ></div>\n</section>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\nimport { PaymentFormFieldHooks } from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\n\n@Component({\n  selector: 'bb-payord-country-selector',\n  templateUrl: 'payord-country-selector.component.html',\n})\nexport class PayordCountrySelectorComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  /**\n   * Form control\n   */\n  control!: AbstractControl;\n\n  /**\n   * Default country value\n   */\n  defaultCountry!: string;\n\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  /**\n   * Initialize the component.\n   *\n   * @returns\n   */\n  ngOnInit() {\n    this.defaultCountry = this.options.defaultValue || '';\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.defaultCountry,\n      this.config\n    );\n\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  /**\n   * Cleanup just before Angular destroys the component.\n   *\n   * @returns\n   */\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  /**\n   * Selects an item\n   *\n   * @param country Item country\n   * @returns\n   */\n  selectItem(country: string) {\n    this.control.setValue(country);\n    this.toggleDependants();\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  *ngIf=\"!config?.hidden\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <bb-select-country-dropdown\n    [formControlName]=\"config?.name\"\n    [countries]=\"options?.countries\"\n    [label]=\"options?.label\"\n    [helperText]=\"options?.helperText\"\n    [placeholder]=\"options?.placeholder\"\n    [searchPlaceholder]=\"options?.searchPlaceholder\"\n    [dropdownIcon]=\"options?.dropdownIcon\"\n    [selectedCountry]=\"control.value\"\n    (selectCountry)=\"selectItem($event)\"\n    [attr.data-role]=\"config?.name\"\n  ></bb-select-country-dropdown>\n\n  <bb-payord-validation-message\n    [control]=\"group?.controls[config.name]\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label\"\n  ></bb-payord-validation-message>\n\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    [attr.aria-hidden]=\"!options?.description\"\n    [hidden]=\"!options?.description\"\n    [textContent]=\"options?.description || ''\"\n    #descElem\n  ></div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport {\n  PaymentFormField,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-switch',\n  templateUrl: './payord-switch.component.html',\n})\nexport class PayordSwitchComponent\n  extends ActivatableFormField\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  class=\"form-group bb-dynamic-input\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div [hidden]=\"config?.hidden\">\n    <bb-switch-ui\n      [formControlName]=\"config?.name\"\n      [label]=\"options?.label\"\n      [labelPosition]=\"options?.labelPosition\"\n      (change)=\"toggleDependants()\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid\n      }\"\n      [inputSelector]=\"'.bb-switch__checkbox'\"\n      [attr.data-role]=\"config?.name\"\n      #inputEl\n    >\n    </bb-switch-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n    ></bb-payord-validation-message>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  Hideable,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-date',\n  templateUrl: './payord-date.component.html',\n})\nexport class PayordDateComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group payord-date-control\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div>\n    <div\n      [class.payord-date-control__no-label]=\"\n        !options?.label && !options?.helperText\n      \"\n    >\n      <label\n        class=\"bb-dynamic-input__label\"\n        *ngIf=\"options?.label\"\n        [id]=\"inputEl?.id + '__label'\"\n        [textContent]=\"options?.label\"\n        #labelElem\n      ></label>\n      <span\n        class=\"bb-dynamic-input__helper-text bb-text-support\"\n        *ngIf=\"options?.helperText\"\n        [textContent]=\"options?.helperText\"\n      >\n      </span>\n    </div>\n    <div class=\"bb-block bb-block--sm\">\n      <bb-input-datepicker-ui\n        [formControlName]=\"config.name\"\n        [minDate]=\"options.minDate\"\n        [maxDate]=\"options.maxDate\"\n        [overrideDateFormat]=\"options.overrideDateFormat\"\n        [placeholder]=\"options.placeholder\"\n        [btnColor]=\"options.btnColor || 'link'\"\n        [clickOpen]=\"options.clickOpen || false\"\n        [focusOpen]=\"options.focusOpen || false\"\n        [icon]=\"options.icon || 'calendar'\"\n        [iconColor]=\"options.iconColor\"\n        [iconSize]=\"options.iconSize || 'md'\"\n        [markDisabled]=\"options.markDisabled\"\n        [navigation]=\"options.navigation || 'arrows'\"\n        [placement]=\"options.placement || 'bottom-left'\"\n        [rangeSelection]=\"options.rangeSelection || false\"\n        [firstDayOfWeek]=\"options.firstDayOfWeek\"\n        [readonly]=\"options.readonly || false\"\n        [bbDynamicAriaAttribute]=\"{\n          __error: control?.touched && control?.invalid,\n          __desc: options?.description\n        }\"\n        [attr.data-role]=\"config.name\"\n        [aria-labelledby]=\"options?.label ? inputEl?.id + '__label' : null\"\n        #inputEl\n      >\n      </bb-input-datepicker-ui>\n    </div>\n\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  Hideable,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-number',\n  templateUrl: './payord-number.component.html',\n})\nexport class PayordNumberComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div>\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"inputEl?.id + '__label'\"\n      [for]=\"inputEl?.id\"\n      [textContent]=\"options?.label || ''\"\n      #labelElem\n    ></label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-number-ui\n      [placeholder]=\"options.placeholder || ''\"\n      [formControlName]=\"config.name\"\n      [max]=\"options.max\"\n      [min]=\"options.min\"\n      [step]=\"options.step\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      #inputEl\n    >\n    </bb-input-number-ui>\n\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  Hideable,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-phone',\n  templateUrl: './payord-phone.component.html',\n})\nexport class PayordPhoneComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div>\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"inputEl?.id + '__label'\"\n      [for]=\"inputEl?.id\"\n      [textContent]=\"options?.label || ''\"\n      #labelElem\n    ></label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-phone-ui\n      [placeholder]=\"options.placeholder || ''\"\n      [formControlName]=\"config.name\"\n      [minLength]=\"options?.minLength\"\n      [maxLength]=\"options?.maxLength\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      [attr.data-role]=\"config.name\"\n      #inputEl\n    >\n    </bb-input-phone-ui>\n\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-subtitle bb-text-support\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport {\n  PaymentFormFieldHooks,\n  PaymentBaseFields,\n  RemittanceInfoFields,\n  PaymentOptionFields,\n  HiddenFields,\n  isSelectedBeneficiaryModified,\n} from '@backbase/payment-orders-ang';\nimport {\n  getCounterpartyFormGroupDetails,\n  registerFormControl,\n  revertBeneficiaryChanges,\n} from '../../helpers/form-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport {\n  AbstractControl,\n  FormControl,\n  Validators,\n  FormGroup,\n} from '@angular/forms';\nimport { PaymentOption } from '@backbase/payment-orders-ang';\nimport { Observable, of } from 'rxjs';\nimport { tap, map } from 'rxjs/operators';\nimport { getDateOnly, isObjectTruthy } from '@backbase/payment-orders-ang';\n\n@Component({\n  selector: 'bb-select-payment-option',\n  templateUrl: './payord-select-payment-option.html',\n})\nexport class PayordSelectPaymentOptionComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  remittanceInfoGroup?: AbstractControl | null;\n  paymentOptions!: Array<PaymentOption>;\n  paymentOptions$!: Observable<Array<PaymentOption>>;\n  paymentTypecontrol!: AbstractControl;\n  instructionPriorityControl!: AbstractControl;\n  transferFeeControl!: AbstractControl;\n  chargeBearerOptionsControl!: AbstractControl;\n  paymentTypeNameControl!: AbstractControl;\n  separator = '::';\n  defaultTransFerFee = {\n    amount: '',\n    currencyCode: '',\n  };\n  today = getDateOnly(new Date());\n  showConfirmOptionModal = false;\n  selectedPaymentOptionLabel?: string;\n  private previousPaymentOption?: PaymentOption;\n  private currentPaymentOption?: PaymentOption;\n  private isClosedPaymentControl!: AbstractControl;\n  private isManualEditControl!: AbstractControl;\n\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.paymentTypecontrol = <FormControl>this.group.get('paymentType');\n    this.paymentTypeNameControl = registerFormControl(\n      this.group,\n      PaymentOptionFields.paymentTypeName\n    );\n    this.control = registerFormControl(this.group, this.config.name, [\n      Validators.required,\n    ]);\n    this.transferFeeControl =\n      this.group.get(PaymentOptionFields.transferFee) ||\n      registerFormControl(this.group, PaymentOptionFields.transferFee);\n    this.chargeBearerOptionsControl =\n      this.group.get(PaymentOptionFields.chargeBearerOptions) ||\n      registerFormControl(this.group, PaymentOptionFields.chargeBearerOptions);\n    this.remittanceInfoGroup = this.group.get(PaymentBaseFields.remittanceInfo);\n    this.isClosedPaymentControl = <FormControl>(\n      this.group.get(HiddenFields.isClosedPayment)\n    );\n    this.isManualEditControl = <FormControl>(\n      this.group.get(HiddenFields.isManualEdit)\n    );\n\n    if (this.remittanceInfoGroup) {\n      this.instructionPriorityControl =\n        this.remittanceInfoGroup.get(RemittanceInfoFields.urgent) ||\n        registerFormControl(\n          <FormGroup>this.remittanceInfoGroup,\n          RemittanceInfoFields.urgent\n        );\n    }\n\n    this.paymentOptions$ = (this.options.items$ || of([])).pipe(\n      map((paymentOptions: Array<PaymentOption>) =>\n        paymentOptions.map((paymentOption) => ({\n          ...paymentOption,\n          hasMin:\n            paymentOption.executionTimeFrame &&\n            typeof paymentOption.executionTimeFrame.min === 'number',\n          hasMax:\n            paymentOption.executionTimeFrame &&\n            typeof paymentOption.executionTimeFrame.max === 'number',\n          name:\n            paymentOption.name ||\n            (this.options.optionLabels || {})[paymentOption.paymentType || ''],\n        }))\n      ),\n      tap((paymentOptions: Array<PaymentOption>) => {\n        this.paymentOptions = paymentOptions || [];\n        if (paymentOptions && paymentOptions.length === 1) {\n          const value = this.getValue(paymentOptions[0]);\n          if (value !== this.control.value) {\n            this.control.setValue(value);\n            this.setPaymentOptionDetails(paymentOptions[0]);\n          }\n        }\n        if (this.control?.value && paymentOptions.length) {\n          const [type, instructionPriority] = this.control.value.split(\n            this.separator\n          );\n          const paymentOption = this.getValueByType(type, instructionPriority);\n          if (paymentOption) {\n            this.setPaymentOptionDetails(paymentOption);\n          } else {\n            this.control.reset();\n          }\n        }\n      })\n    );\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  setPaymentOptionDetails(paymentOption: PaymentOption) {\n    if (this.instructionPriorityControl) {\n      this.instructionPriorityControl.setValue(\n        paymentOption.instructionPriority === 'HIGH'\n      );\n    }\n    if (this.options.isWizardMode && this.options.checkClosedPaymentsAccess) {\n      this.isClosedPaymentControl?.setValue(!paymentOption.canEditCounterparty);\n    }\n    this.transferFeeControl.setValue(\n      paymentOption.transferFee || this.defaultTransFerFee\n    );\n    this.chargeBearerOptionsControl.setValue(paymentOption.chargeBearer);\n    this.paymentTypecontrol.patchValue(paymentOption.paymentType);\n    this.paymentTypeNameControl.setValue(paymentOption.name);\n  }\n\n  getValue(option: PaymentOption) {\n    return `${option.paymentType}${this.separator}${\n      option.instructionPriority || ''\n    }`;\n  }\n\n  getValueByType(type: string, priority: string): PaymentOption {\n    return this.paymentOptions.filter(\n      (option: PaymentOption) =>\n        option.paymentType === type && option.instructionPriority === priority\n    )[0];\n  }\n\n  onRadioChange(value: string) {\n    this.toggleDependants();\n    const [type, instructionPriority] = value.split(this.separator);\n    const paymentOption = this.getValueByType(type, instructionPriority);\n    this.selectedPaymentOptionLabel = paymentOption.name;\n    this.previousPaymentOption = this.currentPaymentOption;\n    this.currentPaymentOption = paymentOption;\n    if (type && instructionPriority) {\n      if (\n        this.shouldShowConfirmationModal(!!paymentOption?.canEditCounterparty)\n      ) {\n        this.showConfirmOptionModal = true;\n      } else {\n        this.setPaymentOptionDetails(this.currentPaymentOption);\n      }\n    }\n  }\n\n  private shouldShowConfirmationModal(canEditCounterparty: boolean): boolean {\n    const counterpartyDetails = (<FormGroup>(\n      this.group.get(PaymentBaseFields.counterparty)\n    ))?.getRawValue();\n    const selectedBeneficiary = this.group.get(\n      HiddenFields.selectedBeneficiary\n    )?.value;\n    const filledBeneficiary = getCounterpartyFormGroupDetails(this.group);\n    const isSelectedBeneficiaryChanged =\n      selectedBeneficiary &&\n      isSelectedBeneficiaryModified(counterpartyDetails, selectedBeneficiary);\n    const isClosedPayment =\n      this.options.isWizardMode &&\n      this.options.checkClosedPaymentsAccess &&\n      !canEditCounterparty;\n    const isEdittedManually =\n      isObjectTruthy(filledBeneficiary) && this.isManualEditControl?.value;\n\n    return (\n      isClosedPayment && (isSelectedBeneficiaryChanged || isEdittedManually)\n    );\n  }\n\n  confirmPaymentOption(): void {\n    this.showConfirmOptionModal = false;\n    revertBeneficiaryChanges(this.group);\n    if (this.currentPaymentOption) {\n      this.setPaymentOptionDetails(this.currentPaymentOption);\n    }\n  }\n\n  cancelPaymentOption(): void {\n    this.showConfirmOptionModal = false;\n    let prevPaymentType = '';\n    this.currentPaymentOption = this.previousPaymentOption;\n    if (this.currentPaymentOption) {\n      const instructionPriority = this.instructionPriorityControl.value\n        ? 'HIGH'\n        : 'NORM';\n      prevPaymentType = this.paymentTypecontrol.value;\n      if (prevPaymentType) {\n        this.control.setValue(\n          `${prevPaymentType}${this.separator}${instructionPriority}`\n        );\n      }\n    }\n    if (!prevPaymentType || !this.previousPaymentOption) {\n      this.instructionPriorityControl.reset();\n      this.control.reset();\n    }\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<ng-container *ngIf=\"paymentOptions$ | async as paymentOptions\">\n  <ng-container *ngIf=\"paymentOptions.length\">\n    <div\n      *ngIf=\"!config?.hidden\"\n      class=\"form-group col-12 bb-dynamic-input\"\n      [formGroup]=\"group\"\n      [ngClass]=\"options?.cssClasses\"\n    >\n      <div class=\"bb-select-payment-option\">\n        <div\n          class=\"bb-label\"\n          i18n-label=\"@@payord-select-payment-option.delivery.label\"\n        >\n          Delivery\n        </div>\n        <bb-input-radio-group-ui\n          label=\"Delivery\"\n          i18n-label=\"@@payord-select-payment-option.radiogroup.label\"\n          [formControlName]=\"config?.name\"\n          (change)=\"onRadioChange($event?.target?.value || '')\"\n          [preselect]=\"false\"\n          [bbDynamicAriaAttribute]=\"{\n            select_payment_option__error: control?.touched && control?.invalid\n          }\"\n          [prependInputId]=\"false\"\n          data-role=\"payment-option-radio-group\"\n          inputSelector=\".bb-input-radio-group\"\n          #inputEl\n        >\n          <bb-input-radio-ui\n            *ngFor=\"let option of paymentOptions\"\n            [labelTemplate]=\"labelTemplate\"\n            [labelTemplateContext]=\"option\"\n            [value]=\"getValue(option)\"\n            [attr.data-role]=\"getValue(option)\"\n          ></bb-input-radio-ui>\n        </bb-input-radio-group-ui>\n\n        <bb-input-validation-message-ui\n          data-role=\"input-error\"\n          role=\"alert\"\n          *ngIf=\"control\"\n          [showErrors]=\"control?.touched && control?.invalid\"\n        >\n          <ng-container *ngIf=\"control.errors && control.errors['required']\">\n            <span id=\"select_payment_option__error\" data-role=\"required-error\">\n              <ng-container i18n\n                >Please choose a payment delivery option</ng-container\n              >\n            </span>\n          </ng-container>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n\n<ng-template #labelTemplate let-context=\"labelTemplateContext\">\n  <div class=\"row bb-select-payment-option__label\">\n    <div class=\"col-6\">\n      <div>\n        <span>{{context?.name}}</span>\n        <span *ngIf=\"context.showHelperText\">\n          ({ context.instructionPriority, select, HIGH {Urgent} NORM {Standard}\n          })\n        </span>\n      </div>\n      <div\n        class=\"bb-text-support font-weight-normal bb-subtitle\"\n        *ngIf=\"context?.executionTimeFrame\"\n      >\n        <ng-container *ngIf=\"!context?.hasMin && context?.hasMax\" i18n>\n          Delivered {context.executionTimeFrame.max, plural, =0\n          {{context.executionTimeFrame.unit, select, HOUR {instantly}\n          CALENDAR_DAY {same day} BUSINESS_DAY { same business day}}} =1\n          {{context.executionTimeFrame.unit, select, HOUR {within 1 hour}\n          CALENDAR_DAY {within 1 day} BUSINESS_DAY {within 1 business day}}}\n          other {{context.executionTimeFrame.unit, select, HOUR {within\n          {{context.executionTimeFrame.max}} hours} CALENDAR_DAY {within\n          {{context.executionTimeFrame.max}} days} BUSINESS_DAY {within\n          {{context.executionTimeFrame.max}} business days}}}}\n        </ng-container>\n        <ng-container *ngIf=\"context?.hasMin && context?.hasMax\" i18n>\n          Delivered within\n          {{context.executionTimeFrame.min}}-{{context.executionTimeFrame.max}}\n          {context.executionTimeFrame.unit, select, HOUR {hours} CALENDAR_DAY\n          {days} BUSINESS_DAY {business days}}\n        </ng-container>\n        <ng-container *ngIf=\"context?.cutOffTime\" i18n>\n          if received before {{today + ' ' + context?.cutOffTime | date:\n          'HH:mm'}} Hrs\n        </ng-container>\n      </div>\n    </div>\n    <div\n      class=\"col-6 d-flex align-items-center bb-text-support font-weight-normal\"\n    >\n      <bb-icon-ui\n        class=\"bb-select-payment-option__icon\"\n        name=\"data-usage\"\n      ></bb-icon-ui>\n      <span data-role=\"transfer-fee\"\n        >{{context.transferFee.amount | currency:\n        context.transferFee.currencyCode: 'code'}}</span\n      >\n    </div>\n  </div>\n</ng-template>\n\n<bb-confirmation-dialog\n  [isOpen]=\"showConfirmOptionModal\"\n  (cancel)=\"cancelPaymentOption()\"\n  (confirm)=\"confirmPaymentOption()\"\n>\n  <h2\n    title\n    data-role=\"confirm-reset-beneficiary-modal-header\"\n    i18n=\"@@confirm-reset-beneficiary-modal-title\"\n  >\n    'Continue with '{{selectedPaymentOptionLabel}}'?'\n  </h2>\n  <span\n    body\n    i18n=\"@@confirm-reset-beneficiary-modal-content\"\n    data-role=\"confirm-reset-beneficiary-modal-message\"\n  >\n    Changes to beneficiary will be reset.\n  </span>\n  <span\n    confirmActionName\n    data-role=\"continue-action-btn\"\n    i18n=\"@@confirm-reset-beneficiary-modal-discard-btn\"\n  >\n    Continue\n  </span>\n  <span\n    cancelActionName\n    data-role=\"cancel-action-btn\"\n    i18n=\"@@confirm-reset-beneficiary-modal-cancel-btn\"\n  >\n    Cancel\n  </span>\n</bb-confirmation-dialog>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport {\n  Currency,\n  Hideable,\n  InitiatorFields,\n  PaymentBaseFields,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentOptionFields,\n  RemittanceInfoFields,\n} from '@backbase/payment-orders-ang';\nimport { ChargeBearer, PaymentCostInfo } from '@backbase/payment-orders-ang';\nimport BigNumber from 'bignumber.js';\nimport { BehaviorSubject, combineLatest, Subscription } from 'rxjs';\nimport { distinctUntilChanged, startWith } from 'rxjs/operators';\nimport { registerFormControl } from '../../helpers/form-helpers';\n\n@Component({\n  selector: 'bb-payment-cost',\n  templateUrl: './payment-cost.component.html',\n})\nexport class PayordPaymentCostComponent implements OnInit, OnDestroy {\n  readonly defaultCurrency = 'USD';\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  amountControl!: AbstractControl | null;\n  fromCurrencyControl!: AbstractControl | null;\n  chargeBearerControl!: AbstractControl;\n  transferFeeControl!: AbstractControl;\n  exchangeRateControl!: AbstractControl;\n  instructionPriorityControl!: AbstractControl | null;\n  paymentTypeNameControl!: AbstractControl | null;\n\n  paymentCostInfo$ = new BehaviorSubject<PaymentCostInfo | undefined>(\n    undefined\n  );\n\n  amount!: {\n    [RemittanceInfoFields.amount]: string;\n    [RemittanceInfoFields.currency]: string;\n  };\n  subscription?: Subscription;\n  fromCurrency = '';\n  exchangeRate = 0;\n  instructionPriority = false;\n  isTotalAmountDisplayed = true;\n\n  ngOnInit() {\n    this.fromCurrencyControl = this.group.get(\n      `${PaymentBaseFields.initiator}.${InitiatorFields.currency}`\n    );\n    this.amountControl = this.group.get(\n      `${PaymentBaseFields.remittanceInfo}.${RemittanceInfoFields.amountCurrencyGroup}`\n    );\n    this.instructionPriorityControl = this.group.get(\n      `${PaymentBaseFields.remittanceInfo}.${RemittanceInfoFields.urgent}`\n    );\n\n    this.transferFeeControl =\n      this.group.get(PaymentOptionFields.transferFee) ||\n      registerFormControl(this.group, PaymentOptionFields.transferFee);\n\n    this.chargeBearerControl =\n      this.group.get(PaymentOptionFields.chargeBearer) ||\n      registerFormControl(this.group, PaymentOptionFields.chargeBearer);\n\n    this.exchangeRateControl =\n      this.group.get(PaymentOptionFields.exchangeRate) ||\n      registerFormControl(this.group, PaymentOptionFields.exchangeRate);\n\n    this.paymentTypeNameControl = this.group.get(\n      PaymentOptionFields.paymentTypeName\n    );\n\n    this.listenChanges();\n  }\n\n  getTotalCost(transferFee?: Currency, calculatedAmount = 0): string {\n    const fee = new BigNumber(transferFee?.amount || '0');\n    const amount = new BigNumber(calculatedAmount || this.amount.amount || '0');\n    return amount.plus(fee).toString();\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  hasForexInfo(fromCurrency = '', toCurrency = '', exchangeRate = 0) {\n    return (\n      !!fromCurrency &&\n      !!toCurrency &&\n      fromCurrency !== toCurrency &&\n      exchangeRate !== 0\n    );\n  }\n\n  listenChanges() {\n    if (\n      this.amountControl &&\n      this.fromCurrencyControl &&\n      this.instructionPriorityControl\n    ) {\n      this.subscription = combineLatest([\n        this.fromCurrencyControl.valueChanges.pipe(\n          startWith(this.fromCurrencyControl.value),\n          distinctUntilChanged()\n        ),\n        this.amountControl.valueChanges.pipe(\n          startWith(this.amountControl.value),\n          distinctUntilChanged()\n        ),\n        this.transferFeeControl.valueChanges.pipe(\n          startWith(this.transferFeeControl.value),\n          distinctUntilChanged()\n        ),\n        this.chargeBearerControl.valueChanges.pipe(\n          startWith(this.chargeBearerControl.value),\n          distinctUntilChanged()\n        ),\n        this.exchangeRateControl.valueChanges.pipe(\n          startWith(this.exchangeRateControl.value),\n          distinctUntilChanged()\n        ),\n        this.instructionPriorityControl.valueChanges.pipe(\n          startWith(this.instructionPriorityControl.value),\n          distinctUntilChanged()\n        ),\n      ]).subscribe(\n        ([\n          fromCurrency,\n          amount,\n          transferFee,\n          chargeBearer,\n          exchangeRate,\n          instructionPriority,\n        ]) => {\n          this.fromCurrency = fromCurrency;\n          this.amount = amount;\n          this.exchangeRate = exchangeRate;\n          this.instructionPriority = instructionPriority;\n\n          this.isTotalAmountDisplayed =\n            !!this.exchangeRate || this.fromCurrency === this.amount.currency;\n\n          const fee = { ...transferFee };\n\n          if (chargeBearer === ChargeBearer.BEN) {\n            // If chargebearer is beneficiary then set transfer fee to 0\n            fee.amount = '0';\n          }\n\n          if (chargeBearer && !this.options?.isTemplateMode) {\n            const _amountByRate = new BigNumber(amount.amount || '0').dividedBy(\n              exchangeRate\n            );\n            const calculatedAmount = !!exchangeRate\n              ? _amountByRate.toString()\n              : amount.amount;\n\n            this.paymentCostInfo$.next({\n              transferFee: fee,\n              hasForexInfo: this.hasForexInfo(\n                fromCurrency,\n                amount.currency,\n                exchangeRate\n              ),\n              rate: exchangeRate,\n              fromCurrency: this.fromCurrency,\n              toCurrency: this.amount.currency,\n              calculatedAmount,\n            });\n          }\n        }\n      );\n    }\n  }\n}\n","<section\n  class=\"bb-block--md col-12 bb-dynamic-input\"\n  *ngIf=\"paymentCostInfo$ | async as paymentCostInfo\"\n>\n  <ng-container *ngIf=\"paymentCostInfo.transferFee?.amount\">\n    <ng-container\n      *ngIf=\"paymentCostInfo?.hasForexInfo; else sameCurrencyTransferTmpl\"\n    >\n      <hr />\n      <div\n        class=\"bb-heading-3 bb-block bb-block--md d-flex justify-content-between\"\n      >\n        <div i18n=\"@@bb-dynamic-input-payment-cost.transfer-amount.title\">\n          Transfer amount\n        </div>\n        <bb-amount-ui\n          data-role=\"transfer-amount\"\n          [mapCurrency]=\"false\"\n          [amount]=\"amount.amount || '0'\"\n          [currency]=\"amount.currency || defaultCurrency\"\n        >\n        </bb-amount-ui>\n      </div>\n\n      <div\n        [hidden]=\"!paymentCostInfo.calculatedAmount\"\n        class=\"bb-block bb-block--md d-flex justify-content-between\"\n      >\n        <div i18n=\"@@bb-dynamic-amount-you-pay-label.title\">\n          Amount you pay\n          <span data-role=\"exchange-rate\"\n            >(1 {{ paymentCostInfo.fromCurrency }} &asymp;\n            {{ paymentCostInfo.rate }} {{ paymentCostInfo.toCurrency }})</span\n          >\n        </div>\n        <div data-role=\"amount-you-pay\">\n          &asymp;\n          <bb-amount-ui\n            [mapCurrency]=\"false\"\n            [amount]=\"paymentCostInfo?.calculatedAmount || '0'\"\n            [currency]=\"paymentCostInfo?.fromCurrency\"\n          ></bb-amount-ui>\n        </div>\n      </div>\n      <div class=\"bb-block bb-block--md d-flex justify-content-between\">\n        <div\n          *ngIf=\"paymentTypeNameControl?.value\"\n          i18n=\"@@bb-dynamic-input-payment-cost.fee.title\"\n        >\n          Transfer fee - {{ paymentTypeNameControl?.value }}\n        </div>\n        <bb-amount-ui\n          data-role=\"payment-fee\"\n          [mapCurrency]=\"false\"\n          [amount]=\"paymentCostInfo.transferFee?.amount || '0'\"\n          [currency]=\"paymentCostInfo.transferFee?.currencyCode\"\n        >\n        </bb-amount-ui>\n      </div>\n      <div\n        *ngIf=\"isTotalAmountDisplayed\"\n        class=\"bb-text-bold bb-block bb-block--md d-flex justify-content-between\"\n      >\n        <div i18n=\"@@bb-dynamic-input-payment-cost.total.title\">Total</div>\n        <div>\n          &asymp;\n          <bb-amount-ui\n            data-role=\"total-amount-to-pay\"\n            [mapCurrency]=\"false\"\n            [amount]=\"\n              getTotalCost(\n                paymentCostInfo.transferFee,\n                paymentCostInfo.calculatedAmount\n              )\n            \"\n            [currency]=\"paymentCostInfo.fromCurrency\"\n          >\n          </bb-amount-ui>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-template #sameCurrencyTransferTmpl>\n      <div>\n        <hr />\n        <div\n          class=\"bb-heading-3 bb-block bb-block--md d-flex justify-content-between\"\n        >\n          <div i18n=\"@@bb-dynamic-input-payment-cost.amount.title\">Amount</div>\n          <bb-amount-ui\n            data-role=\"amount-you-pay\"\n            [mapCurrency]=\"false\"\n            [amount]=\"amount.amount || '0'\"\n            [currency]=\"amount.currency || defaultCurrency\"\n          ></bb-amount-ui>\n        </div>\n        <div class=\"bb-block bb-block--md d-flex justify-content-between\">\n          <div\n            *ngIf=\"paymentTypeNameControl?.value\"\n            i18n=\"@@bb-dynamic-input-payment-cost.fee.title\"\n          >\n            Transfer fee - {{ paymentTypeNameControl?.value }}\n          </div>\n          <bb-amount-ui\n            data-role=\"payment-fee\"\n            [mapCurrency]=\"false\"\n            [amount]=\"paymentCostInfo.transferFee?.amount || '0'\"\n            [currency]=\"paymentCostInfo.transferFee?.currencyCode\"\n          >\n          </bb-amount-ui>\n        </div>\n        <div\n          *ngIf=\"isTotalAmountDisplayed\"\n          class=\"bb-text-bold bb-block bb-block--md d-flex justify-content-between\"\n        >\n          <div i18n=\"@@bb-dynamic-input-payment-cost.total.title\">Total</div>\n          <bb-amount-ui\n            data-role=\"total-amount\"\n            [mapCurrency]=\"false\"\n            [amount]=\"getTotalCost(paymentCostInfo.transferFee)\"\n            [currency]=\"amount.currency || defaultCurrency\"\n          >\n          </bb-amount-ui>\n        </div>\n      </div>\n    </ng-template>\n  </ng-container>\n</section>\n","import { ActivatedRoute } from '@angular/router';\n\nexport function getRouteParams(route: ActivatedRoute) {\n  if (!route) {\n    return {};\n  }\n  let params = route.snapshot.params;\n  params = { ...route.snapshot.queryParams, ...params };\n  if (route.children) {\n    for (const r of route.children) {\n      params = { ...getRouteParams(r), ...params };\n    }\n  }\n  return params;\n}\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  AfterViewInit,\n  Renderer2,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  FormGroup,\n  AbstractControl,\n  Validators,\n  ValidatorFn,\n} from '@angular/forms';\nimport { combineLatest, fromEvent, Observable, of, Subject } from 'rxjs';\nimport { map, take, takeUntil, catchError, shareReplay } from 'rxjs/operators';\nimport {\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  InitiatorFields,\n  CounterPartyFields,\n  AccountBalances,\n  PaymentBaseFields,\n  BaseObject,\n  ProductKinds,\n  FilterState,\n  ProductKindItem,\n  DisabledCombination,\n  InternalAccountFormItem,\n} from '@backbase/payment-orders-ang';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { ActivatedRoute } from '@angular/router';\nimport { getRouteParams } from '../../helpers/route-helpers';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { ProductSelectorComponent } from '@backbase/ui-ang/product-selector';\n\nconst getDbsValue = (\n  dbsObj: ProductSummaryItem,\n  keys: string\n): number | string | undefined => {\n  const value = keys\n    .split('.')\n    .reduce((obj, key) => (<BaseObject<any>>obj)?.[key], dbsObj);\n  return <number | string | undefined>(\n    (['string', 'number'].includes(typeof value) ? value : undefined)\n  );\n};\n\n@Component({\n  selector: 'bb-payord-internal-account-selector',\n  templateUrl: 'payord-internal-account-selector.component.html',\n})\nexport class PayordInternalAccountSelectorComponent\n  extends ActivatableFormField\n  implements PaymentFormField, OnInit, OnDestroy, AfterViewInit\n{\n  @ViewChild('productSelector') productSelector:\n    | ProductSelectorComponent\n    | undefined;\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  form!: FormGroup;\n  control!: AbstractControl;\n  selectedAccount!: InternalAccountFormItem & { number?: string };\n  disabledAccount: InternalAccountFormItem | undefined;\n  private readonly destroy$ = new Subject<void>();\n  connectedAccounts$: Observable<InternalAccountFormItem[]> = of([]);\n  readonly productKinds = ProductKinds;\n  /**\n   * Id to associate messages to form field for accessibility\n   */\n  validationId = '';\n  /**\n   * Account number fromat used to mask the account numbers in the selector\n   */\n  accountFormat = {\n    length: 0,\n    maskRange: [0, 0],\n    segments: 0,\n  };\n\n  /**\n   * Boolean to show if account selector tab is touched\n   */\n  touched = false;\n  /**\n   * Return other account selector field name\n   */\n  get peerFieldName() {\n    return this.config.name === InitiatorFields.initiatorAccountGroup\n      ? PaymentBaseFields.counterparty\n      : PaymentBaseFields.initiator;\n  }\n  /**\n   * Flag to show if dropdown is open\n   */\n  get isDropdownOpen(): boolean {\n    return !!this.productSelector?.bbDropdown?.isOpen();\n  }\n  /**\n   * Flag to show which account kinds should not be rendered in order to avoid unwanted matches between two account\n   */\n  get disabledProductKinds(): ProductKinds[] {\n    const combinations =\n      this.options.paymentTypeOptions?.disabledCombinations || [];\n    const isInitiator =\n      this.config.name === InitiatorFields.initiatorAccountGroup;\n    const counterParty = this.disabledAccount?.productKindName;\n    const disabledProductKinds = combinations.filter((i: DisabledCombination) =>\n      isInitiator ? i.to === counterParty : i.from === counterParty\n    );\n    return disabledProductKinds.map((i: DisabledCombination) =>\n      isInitiator ? i.from : i.to\n    );\n  }\n\n  constructor(\n    private readonly renderer: Renderer2,\n    private readonly cd: ChangeDetectorRef,\n    private readonly activatedRoute: ActivatedRoute,\n    visibilityService: VisibilityService\n  ) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.validationId = `account-selector-${this.config.name}-error-message`;\n\n    this.form = <FormGroup>(this.group.parent ? this.group.parent : null);\n    this.registerFields();\n    this.control = this.group.controls['name'];\n    const {\n      otherFilters,\n      connectedItems$,\n      items$,\n      productKinds,\n      connectedAccounts,\n      preselect,\n    } = this.options;\n\n    if (connectedAccounts) {\n      this.connectedAccounts$ = connectedItems$.pipe(take(1));\n    }\n\n    this.options.items$ = items$.pipe(\n      take(1),\n      map((accounts: InternalAccountFormItem[]) =>\n        this.options.mapItems && accounts?.length\n          ? this.options.mapItems(accounts)\n          : accounts\n      ),\n      map((accounts: InternalAccountFormItem[]) =>\n        this.filterByProductKind(accounts, productKinds)\n      ),\n      map((accounts: InternalAccountFormItem[]) =>\n        this.filterByOtherProps(accounts, otherFilters)\n      ),\n      map((accounts: InternalAccountFormItem[]) =>\n        accounts.map(this.mapBalance.bind(this))\n      ),\n      shareReplay(1)\n    );\n\n    combineLatest([\n      <Observable<InternalAccountFormItem[]>>this.options.items$.pipe(\n        take(1),\n        catchError(() => of([]))\n      ),\n      <Observable<InternalAccountFormItem[]>>this.connectedAccounts$.pipe(\n        take(1),\n        catchError(() => of([]))\n      ),\n    ]).subscribe(([internals, externals = []]) => {\n      const accounts = [...internals, ...externals];\n      if (!this.group.value['id']) {\n        let selection;\n        const { transferFrom, transferTo } = getRouteParams(\n          this.activatedRoute.root\n        );\n        const { name: configName } = this.config;\n        const idParam =\n          configName === InitiatorFields.initiatorAccountGroup\n            ? transferFrom\n            : transferTo;\n        selection = idParam && accounts.find((acc) => acc.id === idParam);\n        if (preselect && !selection && transferTo !== accounts[0]?.id) {\n          selection = accounts[0];\n        }\n        if (selection) {\n          this.selectItem(selection);\n        }\n      }\n      this.setAccountInEditMode(accounts, this.group, 'id');\n    });\n\n    this.setDisabledAccount(this.form);\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngAfterViewInit() {\n    if (this.productSelector) {\n      const { nativeElement } = this.productSelector.dropdownToggle;\n      fromEvent(nativeElement, 'blur')\n        .pipe(take(1))\n        .subscribe(() => this.setTouched());\n\n      //Here to fix Safari focus issue https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n      fromEvent<any>(nativeElement, 'click')\n        .pipe(take(1))\n        .subscribe((e) => e.currentTarget.focus());\n\n      // Fix accessibility issue (MAINT-10313)\n      this.renderer.setAttribute(\n        nativeElement,\n        'aria-describedby',\n        this.validationId\n      );\n    }\n  }\n\n  /**\n   * Filtering accounts by product kind\n   */\n  filterByProductKind(\n    accounts: InternalAccountFormItem[] = [],\n    productKinds: ProductKindItem[] = []\n  ) {\n    return accounts?.filter((account: InternalAccountFormItem) =>\n      productKinds.length\n        ? productKinds.some((i) => i.productKind === account.productKindName)\n        : true\n    );\n  }\n  /**\n   * Filtering accounts by other filter properties\n   */\n  filterByOtherProps(\n    accounts: InternalAccountFormItem[] = [],\n    otherFilters: FilterState[] = []\n  ) {\n    return accounts.filter((account) =>\n      otherFilters.length\n        ? otherFilters.every(({ key, value }) => {\n            const dbsValue = getDbsValue(\n              <ProductSummaryItem>account?.defaultRecord,\n              key\n            );\n            return value.some((v) => v === dbsValue);\n          })\n        : true\n    );\n  }\n\n  /**\n   * Disable account which is already selected at the counter party selector\n   */\n  setDisabledAccount(form: FormGroup) {\n    if (form?.get(this.peerFieldName)) {\n      this.disabledAccount = (form.get(this.peerFieldName) as FormGroup).value;\n      (form.get(this.peerFieldName) as FormGroup).valueChanges\n        .pipe(takeUntil(this.destroy$))\n        .subscribe((acc) => {\n          this.disabledAccount = acc;\n          this.setPaymentConfig(acc);\n        });\n    }\n  }\n\n  setPaymentConfig(acc: InternalAccountFormItem) {\n    if (\n      this.config.name === CounterPartyFields.counterPartyAccountGroup &&\n      this.form.get(PaymentBaseFields.counterparty)\n    ) {\n      const role =\n        acc.productKindName === ProductKinds.connectedAccounts\n          ? 'DEBTOR'\n          : 'CREDITOR';\n      (this.form.get(PaymentBaseFields.counterparty) as FormGroup).patchValue({\n        role,\n      });\n    }\n  }\n\n  setTouched(isTouched = true) {\n    this.touched = isTouched;\n    if (isTouched) {\n      this.group.markAllAsTouched();\n    }\n    this.cd.detectChanges();\n  }\n\n  /**\n   * Return paymentType regarding to from-to account combination\n   */\n  pickPaymentType(): string | undefined {\n    const initiatorKind = this.form.value.initiator?.productKindName;\n    const counterPartyKind = this.form.value.counterparty?.productKindName;\n    const { paymentTypes } = this.options.paymentTypeOptions || {};\n    const { connectedAccounts } = ProductKinds;\n\n    if (paymentTypes && initiatorKind && counterPartyKind) {\n      return counterPartyKind === connectedAccounts ||\n        initiatorKind === connectedAccounts\n        ? paymentTypes.external\n        : paymentTypes.internal;\n    }\n    return;\n  }\n\n  setAccountInEditMode(\n    accounts: InternalAccountFormItem[],\n    group: FormGroup,\n    key: string\n  ) {\n    if (accounts && group?.value[key]) {\n      const account = accounts.filter((a) => a.id === group.value[key]);\n      this.selectItem(account[0]);\n    }\n  }\n\n  selectAccountGroup(): BaseObject<ValidatorFn[]> | undefined {\n    const fieldsGroup =\n      this.config.name === InitiatorFields.initiatorAccountGroup\n        ? InitiatorFields\n        : CounterPartyFields;\n    return {\n      [fieldsGroup.id]: [Validators.required],\n      [fieldsGroup.name]: [Validators.required],\n      [fieldsGroup.accountNumber]: [Validators.required],\n      [CounterPartyFields.role]: [Validators.required],\n      currency: [],\n      schemeName: [Validators.required],\n      productKindName: [Validators.required],\n      accountData: [],\n    };\n  }\n\n  registerFields() {\n    const accountGroup = this.selectAccountGroup();\n    for (const key in accountGroup) {\n      if (accountGroup.hasOwnProperty(key)) {\n        registerFormControl(this.group, key, accountGroup[key], [], '');\n      }\n    }\n  }\n\n  /**\n   * Set balance and balance label to account regarding to selected balance type in config\n   */\n  mapBalance(account: InternalAccountFormItem): InternalAccountFormItem {\n    const defaultBalanceType = AccountBalances.current;\n    const productKindConfig = this.options?.productKinds?.find(\n      (config) => config.productKind === account.productKindName\n    );\n    const dbsProperty = productKindConfig?.balance?.apiField\n      ? productKindConfig.balance.apiField\n      : defaultBalanceType;\n\n    const balance = getDbsValue(\n      <ProductSummaryItem>account?.defaultRecord,\n      dbsProperty\n    );\n    return {\n      ...account,\n      balance: <number | undefined>balance,\n      balanceLabel: productKindConfig?.balance?.label,\n    };\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  selectItem(account: InternalAccountFormItem) {\n    if (this.group && account?.name) {\n      const { productKindName } = account;\n      const { connectedAccounts } = ProductKinds;\n      const isPeerConnectedAcc =\n        this.disabledAccount?.productKindName === connectedAccounts;\n      const schemeName =\n        productKindName === connectedAccounts ? 'EXTERNAL_ID' : 'ID';\n      const role =\n        this.config.name === CounterPartyFields.counterPartyAccountGroup &&\n        isPeerConnectedAcc\n          ? 'DEBTOR'\n          : 'CREDITOR';\n\n      this.group.patchValue({\n        id: account.id,\n        name: account.name,\n        accountNumber: account.accountNumber,\n        currency: account.currency,\n        schemeName,\n        productKindName: account.productKindName,\n        role,\n        accountData: account,\n      });\n      this.selectedAccount = {\n        ...account,\n      };\n    }\n\n    this.toggleDependants();\n\n    const paymentType = this.pickPaymentType();\n    if (paymentType) {\n      this.form.patchValue({ paymentType });\n    }\n\n    this.group.markAsDirty();\n    this.cd.detectChanges();\n  }\n}\n","<div\n  class=\"form-group bb-dynamic-input\"\n  [ngClass]=\"options?.cssClasses\"\n  *ngIf=\"!config?.hidden\"\n>\n  <div *ngIf=\"options?.label\" class=\"bb-label bb-block bb-block--lg\">\n    {{ options?.label }}\n  </div>\n  <section class=\"payment-from\" [formGroup]=\"group\">\n    <label class=\"bb-form-field\">\n      <bb-product-selector-ui\n        [autoClose]=\"true\"\n        [class.bb-product-selector--invalid-border]=\"\n          touched && group.invalid && !isDropdownOpen\n        \"\n        #productSelector\n      >\n        <ng-container bbDropdownToggle>\n          <div\n            *ngIf=\"selectedAccount\"\n            data-role=\"product-selector-selected-product\"\n          >\n            <bb-product-item-basic-account-ui\n              [title]=\"selectedAccount?.name\"\n              [productNumber]=\"selectedAccount?.accountNumber\"\n              [amount]=\"selectedAccount.balance\"\n              [currency]=\"selectedAccount.currency\"\n              [productNumberFormat]=\"\n                options?.productNumberFormat || accountFormat\n              \"\n              [highlight]=\"options?.highlight\"\n              [showCurrencySymbol]=\"options?.showCurrencySymbol !== false\"\n              [active]=\"false\"\n              [balanceLabel]=\"selectedAccount?.balanceLabel\"\n              i18n-balanceLabel=\"\n                Available balance\n                label@@payord-internal-account-selector.amount.available\"\n            ></bb-product-item-basic-account-ui>\n          </div>\n          <div *ngIf=\"!selectedAccount\" class=\"bb-stack\">\n            <span\n              data-role=\"item-empty-state\"\n              class=\"bb-text-support bb-product-selector__placeholder\"\n            >\n              {{ options?.placeholder }}\n            </span>\n          </div>\n        </ng-container>\n        <ng-container bbDropdownMenu>\n          <ng-container\n            *ngIf=\"{\n              internal: options?.items$ | async,\n              external: connectedAccounts$ | async\n            } as accounts\"\n          >\n            <ng-container\n              *ngIf=\"\n                accounts.internal?.length || accounts.external?.length;\n                else notFound\n              \"\n            >\n              <ng-container\n                *ngFor=\"let item of accounts.internal; let i = index\"\n              >\n                <button\n                  *ngIf=\"!disabledProductKinds.includes(item.productKindName)\"\n                  (click)=\"selectItem(item)\"\n                  [disabled]=\"\n                    item.accountNumber === disabledAccount?.accountNumber\n                  \"\n                  bbButton\n                  color=\"unstyled\"\n                  class=\"bb-product-selector__dropdown-item\"\n                  [ngClass]=\"{\n                    selected: item.id === selectedAccount?.id,\n                    'bb-text-support':\n                      item.accountNumber === disabledAccount?.accountNumber\n                  }\"\n                >\n                  <bb-product-item-basic-account-ui\n                    [title]=\"item.name\"\n                    [amount]=\"item.balance\"\n                    [productNumber]=\"item.accountNumber\"\n                    [currency]=\"item.currency\"\n                    [highlight]=\"options?.highlight\"\n                    [active]=\"false\"\n                    [class.bb-dropdown-multi-select--disabled]=\"\n                      item.accountNumber === disabledAccount?.accountNumber\n                    \"\n                    [productNumberFormat]=\"\n                      options?.productNumberFormat || accountFormat\n                    \"\n                    [showCurrencySymbol]=\"options?.showCurrencySymbol !== false\"\n                    [balanceLabel]=\"item?.balanceLabel\"\n                    i18n-balanceLabel=\"\n                      Available balance\n                      label@@payord-internal-account-selector.amount.available\"\n                  ></bb-product-item-basic-account-ui>\n                </button>\n              </ng-container>\n              <ng-container\n                *ngIf=\"\n                  disabledAccount?.productKindName !==\n                  productKinds.connectedAccounts\n                \"\n              >\n                <h4\n                  class=\"bb-subheader bb-text-support bb-block bb-block--no-margin bb-inline-stack bb-internal-account-selector__subheader\"\n                  *ngIf=\"\n                    accounts.external?.length &&\n                    options?.connectedAccountsSubHeader as subheader\n                  \"\n                  tabIndex=\"-1\"\n                >\n                  <bb-icon-ui\n                    name=\"insert-link\"\n                    cropped\n                    class=\"bb-inline-stack__item--spacing-sm\"\n                  ></bb-icon-ui>\n                  <span>{{ subheader }}</span>\n                </h4>\n                <button\n                  *ngFor=\"let item of accounts.external\"\n                  (click)=\"selectItem(item)\"\n                  [disabled]=\"\n                    item.accountNumber === disabledAccount?.accountNumber\n                  \"\n                  bbButton\n                  color=\"unstyled\"\n                  class=\"bb-product-selector__dropdown-item\"\n                  [ngClass]=\"{\n                    selected: item.id === selectedAccount?.id,\n                    'bb-text-support':\n                      item.accountNumber === disabledAccount?.accountNumber\n                  }\"\n                >\n                  <bb-product-item-basic-account-ui\n                    [title]=\"item.name\"\n                    [productNumber]=\"item.accountNumber\"\n                    [highlight]=\"options?.highlight\"\n                    [active]=\"false\"\n                    [class.bb-dropdown-multi-select--disabled]=\"\n                      item.accountNumber === disabledAccount?.accountNumber\n                    \"\n                    [productNumberFormat]=\"\n                      options?.productNumberFormat || accountFormat\n                    \"\n                    [showCurrencySymbol]=\"options?.showCurrencySymbol !== false\"\n                  ></bb-product-item-basic-account-ui>\n                </button>\n              </ng-container>\n            </ng-container>\n          </ng-container>\n          <ng-template #notFound>\n            <bb-empty-state-ui\n              title=\"No items found\"\n              [showIcon]=\"false\"\n            ></bb-empty-state-ui>\n          </ng-template>\n        </ng-container>\n      </bb-product-selector-ui>\n    </label>\n\n    <ng-container *ngIf=\"!selectedAccount\">\n      <bb-payord-validation-message\n        [id]=\"validationId\"\n        [control]=\"group?.controls['name']\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label\"\n      ></bb-payord-validation-message>\n    </ng-container>\n  </section>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport {\n  FormGroup,\n  Validators,\n  ValidatorFn,\n  AbstractControl,\n} from '@angular/forms';\nimport {\n  amountValidator,\n  InternalAccountFormItem,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  RemittanceInfoFields,\n  PaymentFormFieldHooks,\n  PaymentBaseFields,\n} from '@backbase/payment-orders-ang';\nimport { registerFormGroup } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { Observable } from 'rxjs';\nimport { startWith, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'bb-payord-compact-amount-ui',\n  templateUrl: './payord-compact-amount.component.html',\n})\nexport class PayordCompactAmountComponent\n  implements OnInit, PaymentFormField, OnDestroy\n{\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  options!: PaymentFormFieldOptions;\n  control!: AbstractControl;\n  fromAccountProduct$!: Observable<InternalAccountFormItem | undefined>;\n  remittanceInfoFields = RemittanceInfoFields;\n  initialAmount = {\n    [RemittanceInfoFields.amount]: '',\n    [RemittanceInfoFields.currency]: '',\n  };\n  amountGroup!: FormGroup;\n  readonly id = new Date().getTime();\n\n  ngOnInit() {\n    this.amountGroup = <FormGroup>registerFormGroup(\n      this.group,\n      this.config.name,\n      {\n        [RemittanceInfoFields.amount]: [\n          this.options.defaultValue?.amount || this.initialAmount.amount,\n        ],\n        [RemittanceInfoFields.currency]: [\n          this.options.defaultValue?.currency || this.initialAmount.currency,\n        ],\n      },\n      [Validators.required, amountValidator as ValidatorFn],\n      this.options.asyncValidators\n    );\n\n    this.fromAccountProduct$ = (<FormGroup>(\n      this.group.parent?.get(PaymentBaseFields.initiator)\n    ))?.valueChanges.pipe(\n      startWith(\n        (<FormGroup>this.group.parent?.get(PaymentBaseFields.initiator))?.value\n      ),\n      tap((initiator) =>\n        this.amountGroup\n          .get(RemittanceInfoFields.currency)\n          ?.patchValue(initiator?.currency || this.options.currency)\n      )\n    );\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<section\n  class=\"form-group bb-dynamic-input\"\n  [formGroup]=\"amountGroup\"\n  [ngClass]=\"options?.cssClasses\"\n  *ngIf=\"!config?.hidden\"\n  [class.was-validated]=\"\n    group.get(config.name)?.invalid && group.get(config.name)?.touched\n  \"\n>\n  <label [attr.for]=\"'bb-compact-amount-' + id\" *ngIf=\"options?.label\">{{\n    options?.label\n  }}</label>\n  <div class=\"position-relative\">\n    <bb-amount-input-ui\n      [id]=\"'bb-compact-amount-' + id\"\n      [formControlName]=\"remittanceInfoFields.amount\"\n      [mapCurrency]=\"options?.showCurrencySymbol !== false\"\n      [currency]=\"(fromAccountProduct$ | async)?.currency || options?.currency\"\n      [placeholder]=\"options?.placeholder || '0.00'\"\n      [required]=\"true\"\n      [wrapperClasses]=\"\n        options.wrapperClasses || 'bb-amount-input__field--large'\n      \"\n      [autoDecimal]=\"options.autoDecimal\"\n      [maxLength]=\"options?.maxLength\"\n      [aria-describedby]=\"'compact-amount-error-message-' + id\"\n    ></bb-amount-input-ui>\n  </div>\n  <bb-payord-validation-message\n    [id]=\"'compact-amount-error-message-' + id\"\n    [control]=\"group.get(config.name)\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label || 'Amount'\"\n  ></bb-payord-validation-message>\n</section>\n","import { Component, Optional, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  PaymentDetails,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentMode,\n} from '@backbase/payment-orders-ang';\nimport { RoutableModalService } from '@backbase/payment-orders-ang';\nimport { BehaviorSubject } from 'rxjs';\nimport { isTemplateFormDirty } from '../../helpers/form-helpers';\n\n@Component({\n  selector: 'bb-payord-button-group',\n  templateUrl: './payord-button-group.component.html',\n})\nexport class PayordButtonGroupComponent implements PaymentFormField, OnInit {\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  confirmModalClose$ = new BehaviorSubject(false);\n  paymentMode = PaymentMode;\n  private initialFormValue!: PaymentDetails;\n\n  constructor(\n    @Optional() private readonly modalService: RoutableModalService\n  ) {}\n\n  ngOnInit() {\n    this.initialFormValue = this.group?.value;\n  }\n\n  onCancel() {\n    if (isTemplateFormDirty(this.group.value, this.initialFormValue)) {\n      this.confirmModalClose$.next(true);\n    } else {\n      this.closeModal();\n    }\n  }\n\n  closeModal() {\n    this.confirmModalClose$.next(false);\n    this.modalService?.closeModal();\n  }\n}\n","<div\n  class=\"btn-container bb-dynamic-input bb-button-bar\"\n  [ngClass]=\"{ 'bb-button-bar--reverse': !options?.isModalView }\"\n>\n  <bb-load-button-ui\n    type=\"submit\"\n    class=\"bb-button-bar__button\"\n    [isLoading]=\"options?.submitting$ | async\"\n  >\n    <ng-container\n      *ngIf=\"!options?.isTemplateMode\"\n      i18n=\"@@dynamic-form-field-button-group.continue.label\"\n      >Continue</ng-container\n    >\n    <ng-container\n      *ngIf=\"options?.isTemplateMode\"\n      i18n=\"@@dynamic-form-field-button-group.save.label\"\n      >Save</ng-container\n    >\n  </bb-load-button-ui>\n  <button\n    *ngIf=\"\n      options?.isModalView || options?.paymentMode === paymentMode.COPY_PAYMENT\n    \"\n    bbButton\n    class=\"bb-button-bar__button\"\n    color=\"secondary\"\n    data-role=\"cancel-button\"\n    (click)=\"onCancel()\"\n    [disabled]=\"options?.submitting$ | async\"\n    i18n=\"@@dynamic-form-field-button-group-cancel-label\"\n  >\n    Cancel\n  </button>\n  <button\n    *ngIf=\"\n      options?.paymentMode !== paymentMode.EDIT_TEMPLATE &&\n      options?.paymentMode !== paymentMode.COPY_PAYMENT\n    \"\n    class=\"bb-button-bar__button bb-button-bar__button--across\"\n    bbButton\n    type=\"button\"\n    color=\"link\"\n    (click)=\"options?.reset()\"\n    [disabled]=\"options?.submitting$ | async\"\n  >\n    <ng-container i18n=\"@@dynamic-form-field-button-group.clear.label\"\n      >Clear all fields</ng-container\n    >\n  </button>\n</div>\n\n<bb-modal-ui\n  [isOpen]=\"confirmModalClose$.value\"\n  (cancel)=\"confirmModalClose$.next(false)\"\n  (confirm)=\"closeModal()\"\n  data-role=\"close-discard-modal-dialog\"\n>\n  <bb-modal-header-ui\n    title=\"Discard entered data?\"\n    i18n-title=\"omni-payment-template-discard-modal-title\"\n  ></bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <ng-container i18n=\"@@omni-payment-template-discard-modal-content\">\n        Are you sure to exit and discard all changes? Entered data will be lost.\n      </ng-container>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui #modalFooterRef>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"danger\"\n          class=\"bb-button-bar__button\"\n          (click)=\"closeModal()\"\n          data-role=\"discard-action-btn\"\n          i18n=\"@@omni-payment-template-discard-modal-discard-btn\"\n        >\n          Discard\n        </button>\n\n        <button\n          bbButton\n          class=\"bb-button-bar__button\"\n          color=\"link\"\n          (click)=\"confirmModalClose$.next(false)\"\n          data-role=\"cancel-action-btn\"\n          i18n=\"@@omni-payment-template-discard-modal-cancel-btn\"\n        >\n          Cancel\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  Frequencies,\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  Hideable,\n  PaymentFormFieldHooks,\n  getRelativeDate,\n  getDateOnly,\n  ScheduleEndType,\n} from '@backbase/payment-orders-ang';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-schedule-header',\n  templateUrl: './payord-schedule-header.html',\n})\nexport class PayordScheduleHeaderComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  minOccurrences = 2;\n  dateFormat?: string;\n  endType = ScheduleEndType;\n  frequencies = Frequencies;\n\n  isToday(startDate: Date) {\n    const today = getRelativeDate();\n    const date = getDateOnly(new Date(startDate));\n\n    return date === today;\n  }\n\n  ngOnInit() {\n    this.dateFormat = this.options?.dateFormat || 'd MMM y';\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  class=\"bb-dynamic-input bb-schedule-header bb-fieldset__heading\"\n  *ngIf=\"!config?.hidden\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <ng-container\n    *ngIf=\"(group?.value?.frequency?.value || group?.value?.frequency) as freq\"\n  >\n    <span>\n      <ng-container *ngIf=\"options?.label\">{{options?.label}}</ng-container>\n      <ng-container\n        *ngIf=\"!options?.label\"\n        i18n=\"@@dynamic-form-field-schedule-header.default-title\"\n        >Schedule</ng-container\n      >\n    </span>\n    <span class=\"bb-schedule-header__text\">\n      <span> - </span>\n      <span i18n=\"@@dynamic-form-field-schedule-header.frequency\"\n        >{ freq, select, DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly}\n        MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually} }</span\n      >\n      <ng-container *ngIf=\"freq === frequencies.ONCE\">\n        <span>\n          {{ group?.value?.startDate | date: dateFormat }}\n          <span\n            class=\"bb-schedule-header__relative-text\"\n            *ngIf=\"isToday(group?.value?.startDate)\"\n            i18n=\"@@dynamic-form-field-schedule-header.today\"\n          >\n            (Today)\n          </span>\n        </span>\n      </ng-container>\n\n      <ng-container *ngIf=\"freq !== frequencies.ONCE\">\n        <span class=\"bb-schedule-header__sepatator\">,</span>\n        <span i18n=\"@@dynamic-form-field-schedule-header-from.label\">\n          from\n        </span>\n        <span>{{group?.value?.startDate | date: dateFormat}}</span>\n        <ng-container\n          *ngIf=\"group?.value?.endType === endType.ON && group?.value?.endDate\"\n        >\n          <span> - </span>\n          <span> {{group?.value?.endDate | date: dateFormat}}</span>\n        </ng-container>\n        <ng-container\n          *ngIf=\"group?.value?.endType === endType.AFTER && group?.value?.repeat\"\n        >\n          <span>, </span> <span> {{ group?.value?.repeat }} </span>\n          <span i18n=\"@@dynamic-form-field-schedule-header-occurances.label\">\n            times</span\n          >\n        </ng-container>\n      </ng-container>\n    </span>\n  </ng-container>\n  <hr class=\"bb-schedule-header__sepatator\" />\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { Observable, Subscription } from 'rxjs';\nimport {\n  CounterPartyFields,\n  HiddenFields,\n  isAddressTruthy,\n  PaymentBaseFields,\n  PaymentFormFieldHooks,\n  PaymentOptionFields,\n  RemittanceInfoFields,\n} from '@backbase/payment-orders-ang';\nimport { tap, map } from 'rxjs/operators';\nimport { getParentForm, registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport {\n  SanctionedCountry,\n  InputFormField,\n} from '@backbase/data-ang/payment-order-options';\n\n@Component({\n  selector: 'bb-payord-sanctioned-country-selector',\n  templateUrl: 'payord-sanctioned-country-selector.component.html',\n})\nexport class PayordSanctionedCountrySelectorComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  control!: AbstractControl;\n  inputFormSettingControl!: AbstractControl;\n  defaultBankCodeSettingControl!: AbstractControl;\n  defaultCountryControl!: AbstractControl;\n  isClosedPaymentControl!: AbstractControl;\n  parentForm!: FormGroup;\n  countries$!: Observable<Array<string>>;\n  countries: Array<string> = [];\n  defaultCountry!: string;\n  inputFormSettings: { [key: string]: Array<InputFormField> } = {};\n  sanctionedCountries: { [key: string]: SanctionedCountry } = {};\n  formSubscription?: Subscription;\n  httpSubscription?: Subscription;\n  counterpartyIdControl!: AbstractControl;\n  private sanctionedCountriesControl!: AbstractControl;\n\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.defaultCountry = this.options.defaultCountry || '';\n    this.parentForm = getParentForm(this.group);\n\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.defaultCountry,\n      this.config\n    );\n\n    this.inputFormSettingControl =\n      this.parentForm.get(PaymentOptionFields.inputFormFromSettings) ||\n      registerFormControl(\n        this.parentForm,\n        PaymentOptionFields.inputFormFromSettings\n      );\n    this.defaultBankCodeSettingControl =\n      this.parentForm.get(HiddenFields.defaultBankCodeSetting) ||\n      registerFormControl(this.parentForm, HiddenFields.defaultBankCodeSetting);\n    this.defaultCountryControl = registerFormControl(\n      this.parentForm,\n      HiddenFields.sanctionedCountries\n    );\n    this.sanctionedCountriesControl = registerFormControl(\n      this.parentForm,\n      HiddenFields.sanctionedCountries\n    );\n\n    if (this.options.items$) {\n      this.httpSubscription = this.options.items$\n        .pipe(\n          map((items: Array<SanctionedCountry>) => this.mapCountries(items)),\n          tap((countryCodes: Array<string>) => {\n            this.countries = this.options.isWizardMode\n              ? countryCodes\n              : countryCodes.filter(\n                  (country) => country !== this.defaultCountry\n                );\n            this.sanctionedCountriesControl.setValue(this.countries);\n            if (\n              !this.control.value &&\n              this.defaultCountry &&\n              this.parentForm.get('isEditMode')?.value\n            ) {\n              this.control.setValue(this.defaultCountry);\n            }\n          })\n        )\n        .subscribe();\n    }\n\n    this.formSubscription = this.control.valueChanges.subscribe((value) =>\n      this.onChange(value)\n    );\n    this.counterpartyIdControl = <AbstractControl>(\n      this.parentForm.get([\n        PaymentBaseFields.counterparty,\n        CounterPartyFields.id,\n      ])\n    );\n\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  mapCountries(sanctionedCountries: Array<SanctionedCountry>) {\n    return sanctionedCountries.map((item) => {\n      if (item.country === this.control.value) {\n        this.inputFormSettingControl.reset();\n        this.inputFormSettingControl.setValue(item);\n      }\n      if (item.inputFormSettings) {\n        this.sanctionedCountries[item.country] = item;\n        this.inputFormSettings[item.country] = item.inputFormSettings;\n      }\n      if (item.isDefault) {\n        this.defaultCountry = item.country;\n        this.defaultCountryControl.setValue(item.country);\n        if (this.inputFormSettings[item.country]) {\n          this.inputFormSettings[item.country].forEach((setting) => {\n            if (setting.key === 'bank-code') {\n              this.defaultBankCodeSettingControl.setValue(setting);\n            }\n          });\n        }\n      }\n      return item.country;\n    });\n  }\n\n  onChange(val: string) {\n    this.inputFormSettingControl.setValue(this.sanctionedCountries[val]);\n    this.toggleDependants();\n  }\n\n  resetAddressGroup() {\n    const addressGroup = <FormGroup>(\n      (this.control && this.control.parent ? this.control.parent : null)\n    );\n    if (isAddressTruthy(addressGroup.value)) {\n      for (const controlName in addressGroup.controls) {\n        if (controlName !== 'country') {\n          addressGroup.controls[controlName].reset();\n        }\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.formSubscription) {\n      this.formSubscription.unsubscribe();\n    }\n\n    if (this.httpSubscription) {\n      this.httpSubscription.unsubscribe();\n    }\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  private resetPurposeOfPayment() {\n    const popControl = this.parentForm.get([\n      PaymentBaseFields.remittanceInfo,\n      RemittanceInfoFields.purposeOfPayment,\n    ]);\n    if (popControl?.value) {\n      popControl.reset();\n    }\n  }\n\n  selectItem(country: string) {\n    this.defaultCountry = country;\n    this.control.setValue(country);\n    this.resetAddressGroup();\n    this.resetPurposeOfPayment();\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  *ngIf=\"!config?.hidden\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <bb-select-country-dropdown\n    [formControlName]=\"config?.name\"\n    [countries]=\"countries\"\n    [label]=\"options?.label\"\n    [helperText]=\"options?.helperText\"\n    [placeholder]=\"options?.placeholder\"\n    [searchPlaceholder]=\"options?.searchPlaceholder\"\n    [dropdownIcon]=\"options?.dropdownIcon\"\n    [selectedCountry]=\"control.value\"\n    [isClosedPayment]=\"\n      parentForm.get('isClosedPayment')?.value || counterpartyIdControl?.value\n    \"\n    (selectCountry)=\"selectItem($event)\"\n    data-role=\"sanctioned-country-selector-dropdown\"\n  ></bb-select-country-dropdown>\n\n  <bb-payord-validation-message\n    [control]=\"group?.controls[config.name]\"\n    [validationMessages]=\"options?.validationMessages\"\n    [label]=\"options?.label\"\n  ></bb-payord-validation-message>\n\n  <div\n    class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    [attr.aria-hidden]=\"!options?.description\"\n    [hidden]=\"!options?.description\"\n    [textContent]=\"options?.description || ''\"\n    #descElem\n  ></div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport {\n  PaymentFormFieldHooks,\n  PaymentOptionFields,\n  TemplateModeType,\n} from '@backbase/payment-orders-ang';\nimport { AbstractControl, Validators } from '@angular/forms';\nimport { startWith, tap } from 'rxjs/operators';\nimport { BehaviorSubject, Subscription, Observable } from 'rxjs';\n\n@Component({\n  selector: 'bb-charge-bearer',\n  templateUrl: './charge-bearer.component.html',\n})\nexport class PayordChargeBearerComponent\n  extends ActivatableFormField\n  implements OnInit, OnDestroy\n{\n  chargeBearerOptionsControl?: AbstractControl | null;\n  chargeBearerOptionsSubject$ = new BehaviorSubject<Array<string>>([]);\n  chargeBearerOptions$: Observable<string[]> =\n    this.chargeBearerOptionsSubject$.asObservable();\n  subscription?: Subscription;\n\n  constructor(private readonly visibilityService: VisibilityService) {\n    super(visibilityService);\n  }\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    this.chargeBearerOptionsControl = registerFormControl(\n      this.group,\n      PaymentOptionFields.chargeBearerOptions\n    );\n    if (this.chargeBearerOptionsControl) {\n      this.subscription = this.chargeBearerOptionsControl.valueChanges\n        .pipe(\n          startWith(this.chargeBearerOptionsControl.value),\n          tap((chargeBearerOptions: Array<string> | null) => {\n            chargeBearerOptions = chargeBearerOptions || [];\n            this.control.setValidators(\n              chargeBearerOptions.length ? Validators.required : null\n            );\n            this.control.updateValueAndValidity();\n            if (\n              this.control.value &&\n              chargeBearerOptions.length &&\n              chargeBearerOptions.indexOf(this.control.value) === -1 &&\n              this.options.templateModeType !== TemplateModeType.EDIT\n            ) {\n              this.control.reset();\n            }\n            this.chargeBearerOptionsSubject$.next(chargeBearerOptions);\n          })\n        )\n        .subscribe();\n    }\n    this.toggleDependants();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<ng-container *ngIf=\"chargeBearerOptions$ | async as chargeBearerOptions\">\n  <ng-container *ngIf=\"chargeBearerOptions.length\">\n    <div\n      *ngIf=\"!config?.hidden\"\n      class=\"bb-dynamic-input form-group charge-bearer-options\"\n      [formGroup]=\"group\"\n      [ngClass]=\"options?.cssClasses\"\n    >\n      <div class=\"bb-label\" [textContent]=\"options?.label || ''\"></div>\n      <span\n        class=\"bb-dynamic-input__helper-text bb-text-support\"\n        *ngIf=\"options?.helperText\"\n        [id]=\"inputEl?.id + '__desc'\"\n        [textContent]=\"options?.helperText\"\n      >\n      </span>\n\n      <bb-input-radio-group-ui\n        [label]=\"options?.label\"\n        [formControlName]=\"config?.name\"\n        (change)=\"toggleDependants()\"\n        [horizontal]=\"options?.horizontal\"\n        [preselect]=\"options?.preselect\"\n        data-role=\"charge-bearer-radio-group\"\n        [bbDynamicAriaAttribute]=\"{\n          charge_bearer__error: control?.touched && control?.invalid,\n          charge_bearer__desc: options?.description\n        }\"\n        [prependInputId]=\"false\"\n        inputSelector=\".bb-input-radio-group\"\n        #inputEl\n      >\n        <bb-input-radio-ui\n          *ngFor=\"let option of chargeBearerOptions\"\n          [value]=\"option\"\n          [labelTemplate]=\"paymentOptionTmpl\"\n          [labelTemplateContext]=\"option\"\n          [attr.data-role]=\"option\"\n        ></bb-input-radio-ui>\n      </bb-input-radio-group-ui>\n      <bb-payord-validation-message\n        [control]=\"group?.controls[config.name]\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label\"\n        [id]=\"'charge_bearer__error'\"\n      ></bb-payord-validation-message>\n\n      <div\n        class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n        [attr.aria-hidden]=\"!options?.description\"\n        [hidden]=\"!options?.description\"\n        [id]=\"'charge_bearer__desc'\"\n        [textContent]=\"options?.description || ''\"\n        #descElem\n      ></div>\n    </div>\n  </ng-container>\n</ng-container>\n\n<ng-template let-context=\"labelTemplateContext\" #paymentOptionTmpl>\n  <ng-container [ngSwitch]=\"context\">\n    <div class=\"font-weight-normal\" *ngSwitchCase=\"'OUR'\">\n      I pay all fees (OUR)\n      <div *ngIf=\"control?.value === 'OUR'\" class=\"bb-text-support bb-subtitle\">\n        The beneficiary receives the payment amount in full. You pay the fees\n        charged by our bank initially (fees will be charged separately). You\n        will also pay the fees charged by the payees bank, including any\n        correspondent/intermediary fees (this could be days or weeks after you\n        have made the payment).\n      </div>\n    </div>\n    <div class=\"font-weight-normal\" *ngSwitchCase=\"'BEN'\">\n      <div>Beneficiary pays all fees (BEN)</div>\n      <div *ngIf=\"control?.value === 'BEN'\" class=\"bb-text-support bb-subtitle\">\n        The beneficiary pays any fees charged by our bank and/or the recipient\n        bank (including any correspondent/intermediary fees). The beneficiary\n        will typically receive the payment minus the transfer charges.\n      </div>\n    </div>\n    <div class=\"font-weight-normal\" *ngSwitchCase=\"'SHA'\">\n      <div>Fees are shared (SHA)</div>\n      <div *ngIf=\"control?.value === 'SHA'\" class=\"bb-text-support bb-subtitle\">\n        You pay the fees charged by our bank (fees will be charged separately).\n        The beneficiary will pay all fees charged by their bank, including any\n        correspondent/intermediary fees.\n      </div>\n    </div>\n  </ng-container>\n</ng-template>\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormArray,\n  FormControl,\n  FormGroup,\n  ValidatorFn,\n} from '@angular/forms';\nimport {\n  CreditDebitMixedIndicator,\n  ErrorItem,\n  InternalAccountFormItem,\n  MultiPaymentCard,\n  parseString,\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n} from '@backbase/payment-orders-ang';\nimport {\n  animationFrameScheduler,\n  asapScheduler,\n  fromEvent,\n  Observable,\n  Subject,\n  BehaviorSubject,\n} from 'rxjs';\nimport {\n  addControlToFormArray,\n  registerFormArray,\n} from '../../helpers/form-helpers';\nimport { auditTime, startWith, take, takeUntil } from 'rxjs/operators';\nimport { BatchPaymentsPutResponse } from '@backbase/data-ang/payment-batch';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport '@angular/localize/init';\n\nconst SCROLL_SCHEDULER =\n  typeof requestAnimationFrame !== 'undefined'\n    ? animationFrameScheduler\n    : asapScheduler;\n\n@Component({\n  selector: 'bb-multi-payment-card',\n  templateUrl: './multi-payment-card.component.html',\n  styles: [\n    `\n      .virtual-scroll__container {\n        position: relative;\n      }\n\n      .virtual-scroll__padding {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 1px;\n        height: 1px;\n        transform-origin: 0 0;\n        opacity: 0;\n      }\n\n      .virtual-scroll__content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        max-width: 100vw;\n        max-height: 100vh;\n      }\n    `,\n  ],\n})\nexport class MultiPaymentCardComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  fieldOptions: Partial<MultiPaymentCard> = {};\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  paymentArrayControl!: FormArray;\n  count = new EventEmitter();\n  search = new EventEmitter();\n  cardConfig: { name: string; validators?: ValidatorFn[] }[] = [\n    {\n      name: 'counterpartyName',\n      validators: [],\n    },\n    {\n      name: 'counterpartyAccountNumber',\n      validators: [],\n    },\n    {\n      name: 'id',\n      validators: [],\n    },\n    { name: 'bankBranchCode' },\n    { name: 'accountType' },\n    { name: 'balance' },\n    { name: 'currency' },\n    { name: 'description', validators: [] },\n    {\n      name: 'amount',\n      validators: [],\n    },\n  ];\n  readonly hostRef: MultiPaymentCardComponent = this;\n\n  @ViewChild('scroll', { read: ElementRef, static: true }) scroll!: ElementRef;\n  @ViewChild('padding', { read: ElementRef, static: true })\n  padding!: ElementRef;\n  @ViewChild('content', { read: ElementRef, static: true })\n  content!: ElementRef;\n\n  public viewportItems: AbstractControl[] = [];\n\n  public subscription!: Observable<any>;\n\n  private readonly destroy$ = new Subject<void>();\n  private scrollableElement!: HTMLElement;\n\n  private _items: Array<{\n    expanded: boolean;\n    dropdownOpen: boolean;\n    height: number;\n  }> = [];\n  private visibleItemsInViewport = 0;\n  private bufferedItems = 5;\n  private visibleViewport = 0;\n  public firstRenderedItemIndex = 0;\n\n  accounts: {\n    search$: BehaviorSubject<string>;\n    items$: Observable<InternalAccountFormItem[]>;\n  }[] = [];\n\n  defaultConfig: MultiPaymentCard = {\n    counterpartyName: {\n      label: '',\n      validationMessageLabel: $localize`:@@multipayment-card.account.validation-message-label:Account`,\n      placeholder: '',\n      dropdownIcon: 'toggle-down',\n      ariaLabel: $localize`:@@multipayment-card.counterparty-name.aria-label:Toggle beneficiary list`,\n    },\n    amount: {\n      label: $localize`:@@multipayment-card.amount.label:Amount`,\n      validationMessageLabel: $localize`:@@multipayment-card.amount.validation-message-label:Amount`,\n      currency: 'USD',\n      maxLength: 10,\n      placeholder: '0.00',\n    },\n    description: {\n      placeholder: $localize`:@@multipayment-card.description.placeholder:Enter text...`,\n      minLength: 3,\n      maxLength: 140,\n    },\n  };\n\n  private lastBlur = {\n    timeoutId: 0,\n    itemIndex: -1,\n  };\n\n  constructor(\n    private readonly renderer: Renderer2,\n    private readonly ngZone: NgZone,\n    private readonly viewportRuler: ViewportRuler,\n    private readonly changeDetector: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.fieldOptions = {\n      counterpartyName: {\n        ...this.defaultConfig.counterpartyName,\n        ...this.options?.fieldsConfig?.counterpartyName,\n      },\n      amount: {\n        ...this.defaultConfig.amount,\n        ...this.options?.fieldsConfig?.amount,\n      },\n      description: {\n        ...this.defaultConfig.description,\n        ...this.options?.fieldsConfig?.description,\n      },\n    };\n    this._addValidators();\n    this.options.helperText = parseString(\n      this.options?.helperText || '',\n      this.options?.maximumAllowedPayments\n    );\n    this.paymentArrayControl = registerFormArray(\n      this.group,\n      this.config.name,\n      this.options.validators\n    );\n    const controls = this.paymentArrayControl.controls;\n    controls.forEach((control) => this.setupItem(control));\n    const len = Math.min(controls.length, this.bufferedItems * 2);\n    for (let i = 0; i < len; i++) {\n      this.addRenderedItem(controls[i], i);\n    }\n\n    this.scrollableElement = this.config.options.containerRef.nativeElement;\n\n    this.paymentArrayControl.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        while (this.paymentArrayControl.length > this._items.length) {\n          const currentIndex = this._items.length;\n          const control = this.paymentArrayControl.at(currentIndex);\n          this.setupItem(control);\n          this.addRenderedItem(control, currentIndex);\n        }\n        this.onScrollChanged();\n      });\n\n    this.viewportRuler\n      .change()\n      .pipe(startWith(null), takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.updateViewport();\n        this.onScrollChanged();\n      });\n\n    this.ngZone.runOutsideAngular(() => {\n      fromEvent(this.scrollableElement, 'scroll')\n        .pipe(\n          startWith(null),\n          takeUntil(this.destroy$),\n          auditTime(0, SCROLL_SCHEDULER)\n        )\n        .subscribe(() => this.onScrollChanged());\n    });\n  }\n\n  ngOnDestroy() {\n    this.accounts.forEach((account) => account.search$.complete());\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  addAccount() {\n    this.setupItem();\n    addControlToFormArray(this.paymentArrayControl, this.cardConfig);\n\n    const currentIndex = this.paymentArrayControl.length - 1;\n    const control = this.paymentArrayControl.at(currentIndex);\n\n    this.addRenderedItem(control, currentIndex);\n    this.count.emit(this.paymentArrayControl.length);\n    this.onScrollChanged();\n  }\n\n  removeAccount(index: number) {\n    if (this.options.paymentIdList[index]) {\n      this.config.options\n        .deletePayment(index)\n        .pipe(take(1))\n        .subscribe(() => {\n          this.removeAccountAt(index);\n        });\n    } else {\n      this.removeAccountAt(index);\n    }\n  }\n  /**\n   * will return form with given index in form Array\n   *\n   * @param index - form array index\n   */\n  getForm(index: number): FormGroup {\n    return this.paymentArrayControl.at(index) as FormGroup;\n  }\n\n  /**\n   *  method to get the form details.\n   *\n   * @param index form array index\n   * @param name form field\n   */\n  getControl(index: number, name: string): FormControl {\n    return this.paymentArrayControl.at(index).get(name) as FormControl;\n  }\n  /**\n   * patch value on selecting account\n   *\n   * @param event -  the selected data\n   * @param index - form Array index\n   */\n  onSelectAccount(event: any, index: number) {\n    this.getControl(index, 'id')?.patchValue(event.id, { emitEvent: false });\n    this.getControl(index, 'counterpartyName')?.patchValue(event.name);\n    this.getControl(index, 'counterpartyAccountNumber')?.patchValue(\n      event.accountNumber,\n      { emitEvent: false }\n    );\n    this.getControl(index, 'bankBranchCode')?.patchValue(event.bankBranchCode, {\n      emitEvent: false,\n    });\n    this.getControl(index, 'accountType')?.patchValue(event.accountType, {\n      emitEvent: false,\n    });\n    this.getControl(index, 'balance')?.patchValue(event.balance, {\n      emitEvent: false,\n    });\n    this.getControl(index, 'currency')?.patchValue(event.currency, {\n      emitEvent: false,\n    });\n    this.getControl(index, 'counterpartyName')?.markAllAsTouched();\n    this.getControl(index, 'counterpartyName')?.markAsDirty();\n    this.getControl(index, 'counterpartyName')?.updateValueAndValidity();\n    this.getControl(\n      index,\n      'counterpartyAccountNumber'\n    )?.updateValueAndValidity();\n    this.cardBlur(index);\n  }\n\n  /**\n   * Search query will emit search on account selector\n   *\n   * @param query\n   */\n  onSearch(index: number, query: string) {\n    this.accounts[index].search$.next(query);\n    this.search.emit(query);\n  }\n\n  openDescription(index: number) {\n    this._items[index].expanded = true;\n    this.getControl(index, 'description')?.patchValue('', { onlySelf: true });\n    this.onScrollChanged();\n  }\n\n  isExpanded(index: number) {\n    return Boolean(this._items[index] && this._items[index].expanded);\n  }\n\n  /**\n   * will emit call the blur hook if any\n   *\n   * @param index - form index\n   */\n  cardBlur(index: number) {\n    this.lastBlur.itemIndex = index;\n    this.ngZone.runOutsideAngular(() => {\n      this.lastBlur.timeoutId = setTimeout(() => {\n        const form = this.getForm(index);\n        if (form.dirty && form.valid && this.config.options.paymentBlur) {\n          const formValue = form.value;\n          const payment = {\n            creditDebitIndicator: CreditDebitMixedIndicator.CREDIT,\n            counterpartyArrangementId: formValue.id,\n            counterpartyName: formValue.counterpartyName,\n            counterpartyAccountNumber: formValue.counterpartyAccountNumber,\n            counterpartyBankBranchCode: formValue.bankBranchCode,\n            instructedAmount: {\n              amount: formValue.amount,\n              currencyCode: formValue.currency,\n            },\n\n            description: formValue.description,\n          };\n          this.config.options\n            .paymentBlur(payment, index)\n            .pipe(take(1))\n            .subscribe(\n              (response: BatchPaymentsPutResponse) => {\n                form.markAsPristine();\n                this.changeDetector.detectChanges();\n              },\n              (error: ErrorItem | { type: string }) => {\n                if ('message' in error) {\n                  form.setErrors({\n                    error: { name: 'error', message: error.message },\n                  });\n                }\n                this.changeDetector.detectChanges();\n              }\n            );\n        }\n        if (this.options && this.options.hooks && this.options.hooks.onBlur) {\n          this.options.hooks.onBlur(form);\n        }\n      }) as any;\n    });\n  }\n\n  cardFocus(index: number) {\n    if (this.lastBlur.itemIndex === index) {\n      clearTimeout(this.lastBlur.timeoutId);\n    }\n  }\n\n  deleteDescription(index: number) {\n    if (this.getControl(index, 'description')?.value) {\n      this.getControl(index, 'description')?.markAsDirty();\n    }\n    this.getControl(index, 'description')?.patchValue('');\n    this._items[index].expanded = false;\n    this.onScrollChanged();\n  }\n\n  onDropdownOpenChange(index: number, isOpen: boolean) {\n    this._items[index].dropdownOpen = isOpen;\n  }\n\n  isDropdownOpen(index: number) {\n    return this._items[index].dropdownOpen;\n  }\n\n  private addRenderedItem(control: AbstractControl, index: number) {\n    this.viewportItems.push(control);\n    this.changeDetector.detectChanges();\n    this.cacheItemHeight(\n      this.content.nativeElement.children[\n        this.content.nativeElement.children.length - 1\n      ],\n      index\n    );\n  }\n\n  private removeAccountAt(index: number) {\n    this.paymentArrayControl.removeAt(index);\n    this._items.splice(index, 1);\n    this.updateVisibleItems();\n    this.updateDimensions();\n    this.count.emit(this.paymentArrayControl.length);\n  }\n\n  private calculateAverageItemHeight() {\n    if (this._items.length === 0) {\n      return 0;\n    }\n    return Math.ceil(\n      this._items.reduce((prev, curr) => prev + curr.height, 0) /\n        this._items.length\n    );\n  }\n\n  private cacheItemHeight(item: HTMLElement, index: number) {\n    const currentItemHeight = this.getElementSize(item).height;\n    this._items[index].height = currentItemHeight;\n  }\n\n  private firstVisibleItemIndex() {\n    if (this._items.length === 0) {\n      return 0;\n    }\n\n    const scrollTop = this.scrollableElement.scrollTop;\n    const contentScrollPosition = Math.max(\n      0,\n      scrollTop - this.scroll.nativeElement.offsetTop\n    );\n    let index = 0;\n    let remainingScroll = contentScrollPosition - this._items[index].height;\n    while (remainingScroll > 0 && index < this._items.length) {\n      index += 1;\n      remainingScroll -= this._items[index].height;\n    }\n\n    return index;\n  }\n\n  private invalidateVisibleItemsCache() {\n    const children = this.content.nativeElement.children;\n    const itemsLength = this.content.nativeElement.children.length;\n    for (let i = 0; i < itemsLength; ++i) {\n      const internalIndex = this.firstRenderedItemIndex + i;\n      this.cacheItemHeight(children[i], internalIndex);\n    }\n    this.changeDetector.markForCheck();\n  }\n\n  private onScrollChanged() {\n    this.ngZone.runOutsideAngular(() => {\n      requestAnimationFrame(() => {\n        this.invalidateVisibleItemsCache();\n        this.updateVisibleItems();\n        this.updateDimensions();\n      });\n    });\n  }\n\n  private updateViewport() {\n    this.ngZone.runOutsideAngular(() => {\n      requestAnimationFrame(() => {\n        const topOffset = Math.max(\n          0,\n          this.scroll.nativeElement.offsetTop - this.scrollableElement.scrollTop\n        );\n        /** @TODO get bottom offset dynamically */\n        const bottomOffset = 100;\n        this.visibleViewport =\n          this.scrollableElement.clientHeight - topOffset - bottomOffset;\n      });\n    });\n  }\n\n  private updateVisibleItems() {\n    const averageItemHeight = this.calculateAverageItemHeight();\n    if (averageItemHeight > 0) {\n      this.visibleItemsInViewport = Math.round(\n        this.visibleViewport / this.calculateAverageItemHeight()\n      );\n    } else {\n      this.visibleItemsInViewport = 0;\n    }\n    this.firstRenderedItemIndex = Math.max(\n      0,\n      this.firstVisibleItemIndex() - this.bufferedItems\n    );\n    const renderedItemsLength = Math.min(\n      this.visibleItemsInViewport + this.bufferedItems * 2,\n      this.paymentArrayControl.controls.length\n    );\n    this.viewportItems = this.paymentArrayControl.controls.slice(\n      this.firstRenderedItemIndex,\n      this.firstRenderedItemIndex + renderedItemsLength\n    );\n    this.changeDetector.markForCheck();\n    this.changeDetector.detectChanges();\n  }\n\n  private updateDimensions() {\n    const contentHeight = this.virtualViewportHeight();\n    const padding = this._items\n      .slice(0, this.firstRenderedItemIndex)\n      .reduce((prev, curr) => prev + curr.height, 0);\n\n    this.renderer.setStyle(\n      this.padding.nativeElement,\n      'transform',\n      `scaleY(${contentHeight})`\n    );\n    this.renderer.setStyle(\n      this.scroll.nativeElement,\n      'height',\n      `${contentHeight}px`\n    );\n    this.renderer.setStyle(\n      this.content.nativeElement,\n      'transform',\n      `translateY(${padding}px)`\n    );\n    this.changeDetector.markForCheck();\n    this.changeDetector.detectChanges();\n  }\n\n  private getElementSize(element: HTMLElement): ClientRect {\n    const result = element.getBoundingClientRect();\n    const styles: any = getComputedStyle(element);\n    const marginTop = parseInt(styles['margin-top'], 10) || 0;\n    const marginBottom = parseInt(styles['margin-bottom'], 10) || 0;\n    const marginLeft = parseInt(styles['margin-left'], 10) || 0;\n    const marginRight = parseInt(styles['margin-right'], 10) || 0;\n\n    return {\n      top: result.top + marginTop,\n      bottom: result.bottom + marginBottom,\n      left: result.left + marginLeft,\n      right: result.right + marginRight,\n      width: result.width + marginLeft + marginRight,\n      height: result.height + marginTop + marginBottom,\n    } as ClientRect;\n  }\n\n  private virtualViewportHeight() {\n    return this._items.reduce((prev, curr) => prev + curr.height, 0);\n  }\n\n  private _addValidators() {\n    this.cardConfig.forEach((field) => {\n      const name = field.name as keyof MultiPaymentCard;\n      if (this.fieldOptions[name]) {\n        field.validators = (\n          this.fieldOptions[name] as PaymentFormFieldOptions\n        ).validators;\n      }\n    });\n  }\n\n  private setupItem(control?: AbstractControl) {\n    const expanded = control\n      ? control.get('description')?.value?.trim()\n      : false;\n    this._items.push({\n      height: 0,\n      expanded,\n      dropdownOpen: false,\n    });\n    this.accounts.push(this.config.options.observableAccountsFactory());\n  }\n}\n","<div\n  class=\"form-group bb-dynamic-input\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <div class=\"bb-block bb-block--lg\">\n    <div *ngIf=\"options?.label\" class=\"bb-heading-3\">\n      {{ options?.label }}\n    </div>\n    <div\n      *ngIf=\"options?.helperText\"\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    >\n      {{ options?.helperText }}\n    </div>\n  </div>\n\n  <div\n    class=\"row bb-block bb-block--md bb-subheader bb-subheader--regular bb-text-bold\"\n    *ngIf=\"paymentArrayControl.controls.length\"\n  >\n    <span class=\"col-6\">{{ fieldOptions?.counterpartyName?.header }}</span>\n    <span\n      class=\"col-4 d-none d-md-block\"\n      i18n=\"@@multipayment-card-column-header-ammount-title.label\"\n      >Amount (Credit)</span\n    >\n  </div>\n\n  <div #scroll class=\"virtual-scroll__container\">\n    <div #padding class=\"virtual-scroll__padding\"></div>\n    <div #content class=\"virtual-scroll__content\">\n      <ng-container [formArrayName]=\"hostRef.config?.name\">\n        <div\n          *ngFor=\"let group of viewportItems; let i = index\"\n          class=\"bb-block bb-block--md\"\n        >\n          <ng-container\n            *ngTemplateOutlet=\"\n              cardTemplate;\n              context: { group: group, index: firstRenderedItemIndex + i }\n            \"\n          ></ng-container>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n\n  <div\n    class=\"text-center\"\n    *ngIf=\"\n      paymentArrayControl.controls.length < options?.maximumAllowedPayments\n    \"\n    data-role=\"add-account-card\"\n    [ngClass]=\"{\n      'border border-danger':\n        paymentArrayControl.controls.length === 0 && paymentArrayControl.touched\n    }\"\n  >\n    <button\n      bbButton\n      color=\"link\"\n      buttonSize=\"md\"\n      [attr.data-role]=\"'btn-icon-link-md-def'\"\n      (click)=\"addAccount()\"\n      class=\"m-2\"\n    >\n      <bb-icon-ui color=\"link\" name=\"add\" size=\"md\" cropped></bb-icon-ui>\n      <span\n        data-role=\"add-account\"\n        i18n=\"@@multipayment-card-button-text-add-account.text\"\n        >Add account</span\n      >\n    </button>\n  </div>\n\n  <bb-payord-validation-message\n    [control]=\"hostRef.paymentArrayControl\"\n    [validationMessages]=\"options.validationMessages\"\n    [hideGeneric]=\"true\"\n  ></bb-payord-validation-message>\n\n  <ng-template #cardTemplate let-group=\"group\" let-index=\"index\">\n    <div\n      class=\"card card-sm\"\n      [formGroup]=\"getForm(index)\"\n      (focusout)=\"cardBlur(index)\"\n      (focusin)=\"cardFocus(index)\"\n    >\n      <div class=\"card-body\">\n        <div\n          class=\"bb-block\"\n          [ngClass]=\"{ 'bb-block--sm': getForm(index)?.errors?.error }\"\n        >\n          <div\n            class=\"bb-stack bb-block\"\n            [ngClass]=\"{\n              'bb-block--sm':\n                isExpanded(index) &&\n                !getControl(index, 'counterpartyName')?.value,\n              'bb-block--md':\n                isExpanded(index) &&\n                getControl(index, 'counterpartyName')?.value\n            }\"\n          >\n            <div class=\"bb-stack__item bb-stack__item--fill\">\n              <div class=\"row\">\n                <div class=\"col-md-6 bb-block--md-md-down\">\n                  <bb-beneficiary-selector\n                    [selectedItem]=\"{\n                      name: getControl(index, 'counterpartyName')?.value\n                    }\"\n                    [placeholder]=\"fieldOptions?.counterpartyName?.placeholder\"\n                    [dropdownIcon]=\"\n                      fieldOptions?.counterpartyName?.dropdownIcon\n                    \"\n                    [aria-label]=\"fieldOptions?.counterpartyName?.ariaLabel\"\n                    [title]=\"fieldOptions?.counterpartyName?.label\"\n                    [debounceTime]=\"\n                      fieldOptions?.counterpartyName?.debounceTime\n                    \"\n                    [hasError]=\"\n                      getControl(index, 'counterpartyName')?.touched &&\n                      getControl(index, 'counterpartyName')?.invalid\n                    \"\n                    [helperText]=\"fieldOptions?.counterpartyName?.helperText\"\n                    [selectedItemTemplate]=\"selectedItemtemplate\"\n                    [listItemTemplate]=\"listItemtemplate\"\n                    (searchValue)=\"onSearch(index, $event)\"\n                    (selectedAccount)=\"onSelectAccount($event, index)\"\n                    (searchBlur)=\"\n                      getControl(index, 'counterpartyName').markAsTouched()\n                    \"\n                    (dropdownOpenChange)=\"onDropdownOpenChange(index, $event)\"\n                    [clearSearchOnselect]=\"true\"\n                    #beneficiarySelector\n                  ></bb-beneficiary-selector>\n                  <bb-payord-validation-message\n                    [control]=\"getControl(index, 'counterpartyName')\"\n                    [validationMessages]=\"\n                      fieldOptions?.counterpartyName?.validationMessages\n                    \"\n                    [label]=\"\n                      fieldOptions?.counterpartyName?.validationMessageLabel\n                    \"\n                  ></bb-payord-validation-message>\n                </div>\n                <div class=\"col-md-4\">\n                  <div class=\"bb-block bb-block--sm\">\n                    <bb-amount-input-ui\n                      formControlName=\"amount\"\n                      [mapCurrency]=\"false\"\n                      [currency]=\"fieldOptions?.amount?.currency\"\n                      [required]=\"true\"\n                      [aria-describedby]=\"\n                        'compact-amount-error-message' + index\n                      \"\n                      [maxLength]=\"fieldOptions?.amount?.maxLength\"\n                      [placeholder]=\"fieldOptions?.amount?.placeholder\"\n                    >\n                    </bb-amount-input-ui>\n                    <bb-payord-validation-message\n                      [control]=\"getControl(index, 'amount')\"\n                      [validationMessages]=\"\n                        fieldOptions?.amount?.validationMessages\n                      \"\n                      [label]=\"fieldOptions?.amount?.validationMessageLabel\"\n                    ></bb-payord-validation-message>\n                  </div>\n                  <span\n                    class=\"bb-text-support bb-subtitle\"\n                    [hidden]=\"isExpanded(index)\"\n                  >\n                    <ng-container>Add</ng-container>\n                    <a\n                      role=\"button\"\n                      class=\"ml-1\"\n                      (click)=\"openDescription(index)\"\n                    >\n                      <u class=\"bb-text-support\" data-role=\"description-link\"\n                        >description</u\n                      >\n                    </a>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"bb-stack__item bb-stack__item--push-right bb-stack__item--align-top d-print-none\"\n            >\n              <button\n                bbButton\n                buttonSize=\"sm\"\n                circle=\"true\"\n                color=\"link-dark\"\n                data-role=\"close-to-account\"\n                (click)=\"removeAccount(index)\"\n              >\n                <span\n                  class=\"sr-only\"\n                  id=\"closeBtn\"\n                  aria-label=\"remove payment card\"\n                  i18n-aria-label=\"\n                    Remove Payment Card@@multi-payment-card.details.remove\"\n                >\n                  Remove account\n                </span>\n                <bb-icon-ui name=\"times\"></bb-icon-ui>\n              </button>\n            </div>\n          </div>\n\n          <div\n            class=\"card card-sm card--highlight card--shadowless\"\n            [hidden]=\"!isExpanded(index)\"\n          >\n            <div class=\"card-body\">\n              <label class=\"bb-label\">\n                {{ fieldOptions?.description?.title }}\n                <span\n                  class=\"bb-text-support bb-text-default\"\n                  i18n=\"@@multipayment-card.description.label.optional\"\n                  >(optional)</span\n                >\n              </label>\n              <div\n                class=\"bb-stack bb-stack--align-top bb-stack--density-sm\"\n                data-role=\"description-input\"\n              >\n                <bb-textarea-ui\n                  formControlName=\"description\"\n                  [placeholder]=\"fieldOptions?.description?.placeholder\"\n                  [showCharCounter]=\"true\"\n                  [minLength]=\"fieldOptions?.description?.minLength\"\n                  [maxLength]=\"fieldOptions?.description?.maxLength\"\n                  [rows]=\"3\"\n                  [cols]=\"50\"\n                  wrap=\"hard\"\n                  class=\"bb-stack__item\"\n                >\n                </bb-textarea-ui>\n                <button\n                  bbButton\n                  buttonSize=\"sm\"\n                  class=\"bb-stack__item\"\n                  circle=\"true\"\n                  color=\"link-dark\"\n                  (click)=\"deleteDescription(index)\"\n                >\n                  <bb-icon-ui\n                    name=\"delete\"\n                    data-role=\"delete-description\"\n                    color=\"secondary-lightest\"\n                  ></bb-icon-ui>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <ng-container *ngIf=\"getForm(index)?.errors?.error\">\n          <bb-payord-validation-message\n            [control]=\"getForm(index)\"\n            [validationMessages]=\"[getForm(index)?.errors?.error]\"\n          ></bb-payord-validation-message>\n        </ng-container>\n      </div>\n    </div>\n\n    <ng-template #listItemtemplate>\n      <ng-container *ngIf=\"isDropdownOpen(index)\" class=\"bb-product-selector\">\n        <div\n          *ngIf=\"\n            accounts[index] && (accounts[index].items$ | async);\n            let accounts;\n            else: loadingAccounts\n          \"\n          class=\"pre-scrollable\"\n          style=\"z-index: 1040\"\n        >\n          <bb-beneficiary-selector-account\n            *ngFor=\"let account of accounts\"\n            [account]=\"account\"\n            size=\"sm\"\n            class=\"px-1 border-bottom bb-product-selector__dropdown-item\"\n            [class.selected]=\"getControl(index, 'id').value === account.id\"\n            ngbDropdownItem\n            (selectedAccount)=\"onSelectAccount($event, index)\"\n          >\n          </bb-beneficiary-selector-account>\n        </div>\n      </ng-container>\n    </ng-template>\n\n    <ng-template #loadingAccounts>\n      <bb-loading-indicator-ui></bb-loading-indicator-ui>\n    </ng-template>\n\n    <ng-template #selectedItemtemplate>\n      <div\n        class=\"rounded border p-3\"\n        [ngClass]=\"{\n          'border-danger': getControl(index, 'counterpartyName').invalid\n        }\"\n      >\n        <div role=\"menuitem\" class=\"\">\n          <div class=\"bb-stack\">\n            <div class=\"bb-stack__item\" data-role=\"selected-to-account\">\n              <span class=\"bb-text-bold\">{{\n                getControl(index, 'counterpartyName')?.value\n              }}</span>\n            </div>\n            <div class=\"bb-stack__item bb-stack__item--push-right\">\n              <bb-icon-ui\n                name=\"perm-contact-calendar\"\n                color=\"dark\"\n              ></bb-icon-ui>\n            </div>\n          </div>\n          <div class=\"bb-subtitle bb-text-support break-word\">\n            <span *ngIf=\"getControl(index, 'bankBranchCode')?.value\"\n              >{{ getControl(index, 'bankBranchCode')?.value }} /</span\n            >\n            {{ getControl(index, 'counterpartyAccountNumber')?.value }}\n          </div>\n          <div class=\"text-right\">\n            <bb-amount-ui\n              [amount]=\"getControl(index, 'balance')?.value\"\n              [currency]=\"getControl(index, 'currency')?.value\"\n              [mapCurrency]=\"false\"\n            ></bb-amount-ui>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </ng-template>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { DeprecationsService } from '@backbase/foundation-ang/future';\nimport {\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\n\n/**\n * @deprecated Will be removed in widget collection v3.11.0\n */\n@Component({\n  selector: 'bb-payord-credit-debit-selector',\n  templateUrl: './payord-credit-debit-selector.html',\n})\nexport class PayordCreditDebitSelectorComponent implements OnInit {\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  constructor(readonly deprecationsService: DeprecationsService) {\n    /**\n     * @TODO Remove this component in 3.11.0\n     */\n    deprecationsService.logDeprecatedFeature(`\n      bb-payord-credit-debit-selector has been deprecated since 3.10.0, it will be removed in 3.11.0\\n\n      To define credit/debit options use \\`creditDebitOptions\\` property from \\`ManualBatchTypeConfig\\`\n      type defined in \\`@backbase/business-ang/batch\\`\n    `);\n  }\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config?.name,\n      this.options?.validators,\n      this.options?.asyncValidators,\n      this.options?.defaultValue ||\n        (this.options?.choices && this.options.choices[0]),\n      this.config\n    );\n  }\n}\n","<div class=\"bb-block bb-block--lg\">\n  <div class=\"bb-block bb-block--sm\">\n    <div *ngIf=\"options?.label\" class=\"bb-heading-3\">{{options?.label}}</div>\n    <div\n      *ngIf=\"options?.helperText\"\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n    >\n      {{options?.helperText}}\n    </div>\n  </div>\n  <bb-payord-card-menu [items]=\"options?.choices\"></bb-payord-card-menu>\n</div>\n","import { getLocaleNumberSymbol, NumberSymbol } from '@angular/common';\nimport { Component, OnInit, OnDestroy, Inject, LOCALE_ID } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport {\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentFormFieldHooks,\n  PaymentBaseFields,\n  ProductKinds,\n  AmountOption,\n  BaseObject,\n  RemittanceInfoFields,\n  InternalAccountFormItem,\n} from '@backbase/payment-orders-ang';\nimport { StateService, PaymentState } from '@backbase/payment-orders-ang';\nimport BigNumber from 'bignumber.js';\nimport { Observable, Subscription } from 'rxjs';\nimport {\n  pluck,\n  tap,\n  startWith,\n  distinctUntilChanged,\n  filter,\n} from 'rxjs/operators';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { mapLocalize } from '../../helpers/generic-utils';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { ActivatableFormField } from '../../models/activatable-form-field';\nimport { VisibilityService } from '../../services/visibility.service';\n\n@Component({\n  selector: 'bb-internal-amount-options',\n  templateUrl: './payord-internal-amount-options.component.html',\n})\nexport class PayordInternalAmountOptionsComponent\n  extends ActivatableFormField\n  implements OnInit, PaymentFormField, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  toAccountProduct$!: Observable<InternalAccountFormItem> | undefined;\n  toAccountDefaultRecord!: ProductSummaryItem | undefined;\n  productKinds = ProductKinds;\n  remittanceInfoFields = RemittanceInfoFields;\n  amountOptions?: AmountOption[];\n  customAmount!: string;\n  touched = false;\n  readonly id = `bb-compact-amount-${new Date().getTime()}`;\n  private subscription$?: Subscription;\n\n  /**\n   * The format used for bignumber;\n   */\n  private readonly format: BigNumber.Format;\n  private readonly groupSeparator: string;\n  private readonly decimalSeparator: string;\n\n  constructor(\n    private readonly stateService: StateService,\n    visibilityService: VisibilityService,\n    @Inject(LOCALE_ID) private readonly locale: string\n  ) {\n    super(visibilityService);\n    this.groupSeparator = getLocaleNumberSymbol(\n      this.locale,\n      NumberSymbol.CurrencyGroup\n    );\n    this.decimalSeparator = getLocaleNumberSymbol(\n      this.locale,\n      NumberSymbol.CurrencyDecimal\n    );\n    this.format = {\n      groupSeparator: this.groupSeparator,\n      decimalSeparator: this.decimalSeparator,\n      groupSize: 3,\n    };\n  }\n  ngOnInit() {\n    this.registerFields();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n    this.control = this.group.controls[this.config.name];\n    this.listenAmountOptionChanges();\n\n    this.toAccountProduct$ = this.group.parent\n      ?.get(PaymentBaseFields.counterparty)\n      ?.valueChanges.pipe(\n        startWith(\n          this.group.parent?.get(PaymentBaseFields.counterparty)?.value\n        ),\n        pluck('accountData'),\n        filter((account) => !!account),\n        distinctUntilChanged((prev, curr) => prev.id === curr.id),\n        tap((account: InternalAccountFormItem) => {\n          const optionValue = this.control?.value;\n          if (optionValue || optionValue === 0) {\n            if (this.stateService.currentState !== PaymentState.EDIT) {\n              this.control?.reset();\n              this.group.controls[\n                RemittanceInfoFields.amountOptionLabel\n              ].reset();\n              this.group.controls[\n                RemittanceInfoFields.amountCurrencyGroup\n              ].reset();\n              this.group.controls['scheduleFrequency'].reset();\n              this.group.controls['showFrequencySwitch'].reset();\n            }\n            this.customAmount = new BigNumber(\n              this.group.controls[\n                RemittanceInfoFields.amountCurrencyGroup\n              ].value?.amount\n            ).toFormat(this.format);\n          }\n\n          this.toggleDependants();\n          this.toAccountDefaultRecord = account.defaultRecord;\n          this.setAmountOptions(account);\n          this.stateService.setPaymentState(PaymentState.INITIAL);\n\n          if (this.options.noBalanceText) {\n            if (this.isAmountOptionsZero(account) && this.control) {\n              this.group.removeControl(this.config.name);\n            } else if (!this.control) {\n              registerFormControl(\n                this.group,\n                this.config.name,\n                [Validators.required],\n                this.options.asyncValidators\n              );\n              this.listenAmountOptionChanges();\n            }\n          }\n\n          if (account.currency) {\n            this.group\n              .get(\n                `${RemittanceInfoFields.amountCurrencyGroup}.${RemittanceInfoFields.currency}`\n              )\n              ?.patchValue(account.currency);\n          }\n        })\n      );\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n    this.subscription$?.unsubscribe();\n  }\n\n  registerFields() {\n    registerFormControl(this.group, RemittanceInfoFields.amountOptionLabel);\n    registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators\n    );\n    registerFormControl(this.group, 'scheduleFrequency');\n    registerFormControl(this.group, 'showFrequencySwitch');\n  }\n\n  /**\n   * Method to handle selecting amount option\n   *\n   * @param [index] index of selected amount option\n   */\n  amountOptionChange(index: number) {\n    const option = this.amountOptions?.[index] || <AmountOption>{};\n    const label = option.label;\n    const currency = this.toAccountDefaultRecord?.currency;\n    const amount = (this.toAccountDefaultRecord as BaseObject<any>)?.[\n      option.amountApiField || ''\n    ]?.toString();\n\n    if (option.hasCustomAmountInput) {\n      this.group.controls[RemittanceInfoFields.amountCurrencyGroup].reset({\n        amount: '',\n        currency,\n      });\n      this.group.controls[RemittanceInfoFields.amountOptionLabel].patchValue(\n        label\n      );\n      this.group.controls['scheduleFrequency'].patchValue(\n        option.scheduleFrequency\n      );\n      this.group.controls['showFrequencySwitch'].patchValue(\n        option.showFrequencySwitch\n      );\n    }\n\n    if (amount) {\n      this.group.patchValue({\n        [RemittanceInfoFields.amountCurrencyGroup]: { amount, currency },\n        [RemittanceInfoFields.amountOptionLabel]: label,\n        scheduleFrequency: option.scheduleFrequency,\n        showFrequencySwitch: option.showFrequencySwitch,\n      });\n    }\n    this.toggleDependants();\n  }\n\n  /**\n   * Set amount options depend on selected product\n   *\n   * @param [product] selected account in counterParty product selector\n   */\n  setAmountOptions(product: InternalAccountFormItem): void {\n    const { creditCard, loan } = this.options?.amountOptions || {};\n\n    switch (product.productKindName) {\n      case ProductKinds.creditCard:\n        this.amountOptions = creditCard?.map(mapLocalize) || [];\n        break;\n      case ProductKinds.loanAccount:\n        this.amountOptions = loan?.map(mapLocalize) || [];\n        break;\n      default:\n        this.amountOptions = [];\n    }\n  }\n\n  isAmountOptionsZero(account: InternalAccountFormItem) {\n    if (!this.amountOptions?.length || !account) {\n      return;\n    }\n    return this.amountOptions?.every((option: AmountOption) =>\n      option?.amountApiField\n        ? Number(\n            (account.defaultRecord as BaseObject<any>)?.[option.amountApiField]\n          ) === 0\n        : true\n    );\n  }\n\n  listenAmountOptionChanges() {\n    this.subscription$ = this.control?.valueChanges\n      .pipe(\n        startWith(this.control?.value),\n        distinctUntilChanged(),\n        filter(\n          (value) =>\n            (value || value === 0) &&\n            this.stateService.currentState !== PaymentState.EDIT\n        )\n      )\n      .subscribe(this.amountOptionChange.bind(this));\n  }\n}\n","<ng-container *ngIf=\"toAccountProduct$ | async as product\">\n  <fieldset\n    class=\"bb-fieldset bb-amount-options\"\n    [ngClass]=\"options?.cssClasses\"\n    [formGroup]=\"group\"\n    *ngIf=\"!config?.hidden\"\n  >\n    <div\n      class=\"bb-block bb-block--md\"\n      *ngIf=\"\n        !(options?.noBalanceText && isAmountOptionsZero(product));\n        else noBalanceMessage\n      \"\n    >\n      <bb-payord-validation-message\n        id=\"amount-option-error-message\"\n        [control]=\"group.get(config.name)\"\n        [validationMessages]=\"options?.validationMessages\"\n        class=\"d-block bb-block bb-block--md\"\n      ></bb-payord-validation-message>\n      <bb-input-radio-group-ui\n        [formControlName]=\"config.name\"\n        [aria-describedby]=\"'amount-option-error-message'\"\n        [preselect]=\"options?.preselect\"\n        [horizontal]=\"options?.horizontal\"\n      >\n        <bb-input-radio-ui\n          *ngFor=\"let option of amountOptions; index as i\"\n          aria-labelledby=\"payord-amount-options-amount-{{\n            i\n          }} payord-amount-options-label-{{ i }}\"\n          aria-describedby=\"payord-amount-options-description-{{ i }}\"\n          [labelTemplate]=\"\n            option.hasCustomAmountInput ? otherTemplate : labelTemplate\n          \"\n          [labelTemplateContext]=\"[option, product, i]\"\n          [value]=\"i\"\n        ></bb-input-radio-ui>\n      </bb-input-radio-group-ui>\n    </div>\n    <ng-template #noBalanceMessage>\n      <div class=\"bb-block bb-block--md bb-amount-options__no-balance-text\">\n        {{ options?.noBalanceText }}\n      </div>\n    </ng-template>\n  </fieldset>\n</ng-container>\n\n<ng-template #labelTemplate let-context=\"labelTemplateContext\">\n  <div\n    class=\"bb-stack bb-stack--wrap\"\n    [ngClass]=\"options?.amountOptions?.cssClasses\"\n  >\n    <div class=\"bb-stack__item bb-stack__item--fill\">\n      <div attr.id=\"payord-amount-options-label-{{ context[2] }}\">\n        {{ context[0].label }}\n      </div>\n      <div *ngIf=\"context[0].description\">\n        <span\n          class=\"bb-text-support bb-subtitle bb-input-radio-group__radio-label\"\n          attr.id=\"payord-amount-options-description-{{ context[2] }}\"\n        >\n          {{ context[0].description }}\n        </span>\n      </div>\n    </div>\n    <div class=\"bb-stack__item bb-stack__break--sm-down\">\n      <bb-amount-ui\n        attr.id=\"payord-amount-options-amount-{{ context[2] }}\"\n        [amount]=\"context[1].defaultRecord[context[0].amountApiField]\"\n        [currency]=\"context[1].currency\"\n        [mapCurrency]=\"options?.mapCurrency !== false\"\n        [bbHighlight]=\"options?.highlight\"\n        [abbreviate]=\"options?.abbreviate\"\n        [showPlusSign]=\"options?.showPlusSign\"\n        [trailingZeroes]=\"options?.trailingZeroes !== false\"\n      ></bb-amount-ui>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #otherTemplate let-context=\"labelTemplateContext\">\n  <div\n    class=\"bb-amount-input__field--large bb-form-field bb-form-field--md\"\n    [ngClass]=\"options?.amountOptions?.cssClasses\"\n    [class.was-validated]=\"\n      touched &&\n      group.controls[remittanceInfoFields.amountCurrencyGroup].invalid\n    \"\n  >\n    <div>{{ context[0].label }}</div>\n    <div *ngIf=\"context[0].description\" class=\"bb-block bb-block--sm\">\n      <span\n        class=\"bb-text-support bb-subtitle bb-input-radio-group__radio-label\"\n      >\n        {{ context[0].description }}\n      </span>\n    </div>\n    <ng-container *ngIf=\"group.controls[config.name]?.value === context[2]\">\n      <div\n        class=\"position-relative\"\n        [formGroup]=\"group.controls[remittanceInfoFields.amountCurrencyGroup]\"\n      >\n        <bb-amount-input-ui\n          [formControlName]=\"remittanceInfoFields.amount\"\n          (focusout)=\"touched = true\"\n          [mapCurrency]=\"options?.showCurrencySymbol !== false\"\n          [wrapperClasses]=\"\n            options.wrapperClasses || 'bb-amount-input__field--large'\n          \"\n          [currency]=\"context[1].currency\"\n          [required]=\"true\"\n          [autoDecimal]=\"options.autoDecimal\"\n          [aria-describedby]=\"'compact-amount-error-message'\"\n          [placeholder]=\"options?.placeholder || '0.00'\"\n          [maxLength]=\"options?.maxLength\"\n        ></bb-amount-input-ui>\n      </div>\n      <bb-payord-validation-message\n        [id]=\"'compact-amount-error-message'\"\n        [control]=\"group.controls[remittanceInfoFields.amountCurrencyGroup]\"\n        [validationMessages]=\"options?.validationMessages\"\n      ></bb-payord-validation-message>\n    </ng-container>\n  </div>\n</ng-template>\n","import {\n  Component,\n  OnInit,\n  ChangeDetectionStrategy,\n  OnDestroy,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  Hideable,\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  PaymentBaseFields,\n  RemittanceInfoFields,\n} from '@backbase/payment-orders-ang';\nimport { Observable } from 'rxjs';\nimport { pluck } from 'rxjs/operators';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-header-ui',\n  templateUrl: './payord-header.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PayordHeaderComponent implements OnInit, OnDestroy {\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  headerAddition$?: Observable<string>;\n\n  ngOnInit() {\n    const remittanceInfoForm = this.group.parent?.get(\n      PaymentBaseFields.remittanceInfo\n    );\n    this.headerAddition$ = remittanceInfoForm?.valueChanges.pipe(\n      pluck(RemittanceInfoFields.amountOptionLabel)\n    );\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div [ngClass]=\"options?.cssClasses\" *ngIf=\"!config?.hidden\">\n  <div class=\"bb-stack\">\n    <bb-header-ui\n      [headingType]=\"options.headingType\"\n      [heading]=\"options.heading\"\n      [headingClasses]=\"options?.headingClasses\"\n    >\n    </bb-header-ui>\n    <span\n      class=\"bb-text-support bb-highlight bb-highlight--regular\"\n      *ngIf=\"headerAddition$ | async as headerAddition\"\n    >\n      &nbsp;- {{ headerAddition }}\n    </span>\n  </div>\n  <hr *ngIf=\"options?.separatorLine\" class=\"bb-schedule-header__sepatator\" />\n</div>\n","import { ElementRef } from '@angular/core';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormField,\n  PaymentFormFieldConfig,\n  PaymentFormFieldOptions,\n  PaymentFormFieldHooks,\n  RemittanceInfoFields,\n  focusChildElement,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-purpose-of-payment',\n  templateUrl: './payord-purpose-of-payment.component.html',\n})\nexport class PayordPurposeOfPaymentComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  options!: PaymentFormFieldOptions;\n  control!: AbstractControl;\n\n  constructor(private readonly elRef: ElementRef<HTMLElement>) {}\n\n  ngOnInit() {\n    this.control =\n      this.group.get(RemittanceInfoFields.purposeOfPayment) ||\n      registerFormControl(\n        this.group,\n        this.config.name,\n        this.options.validators,\n        this.options.asyncValidators,\n        this.options.defaultValue,\n        this.config\n      );\n\n    this.options.isCollapsed = this.control.value\n      ? false\n      : this.options.isCollapsed === undefined\n      ? true\n      : this.options.isCollapsed;\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  expand() {\n    this.options.isCollapsed = false;\n    focusChildElement('.form-control', this.elRef.nativeElement);\n  }\n\n  selectPurpose(purpose: string) {\n    this.control.setValue(purpose);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<ng-container\n  *ngIf=\"control?.value || !options?.isCollapsed; else collapsedTmpl\"\n>\n  <div\n    class=\"bb-dynamic-input form-group\"\n    [formGroup]=\"group\"\n    [ngClass]=\"options?.cssClasses\"\n  >\n    <div [hidden]=\"config?.hidden\" [attr.aria-hidden]=\"config?.hidden\">\n      <ng-container *ngIf=\"!options?.purposes || !options?.purposes.length\">\n        <label\n          class=\"bb-dynamic-input__label\"\n          data-role=\"purpose-of-payment-label\"\n          [id]=\"inputEl?.id + '__label'\"\n          [for]=\"inputEl?.id\"\n          [textContent]=\"options?.label || ''\"\n        ></label>\n        <span\n          class=\"bb-dynamic-input__helper-text bb-text-support\"\n          data-role=\"purpose-of-payment-optional-label\"\n          *ngIf=\"options?.isOptional && options?.helperText\"\n          [id]=\"inputEl?.id + '__desc'\"\n          [textContent]=\"options?.helperText\"\n        >\n        </span>\n\n        <bb-input-text-ui\n          #inputEl\n          [formControlName]=\"config.name\"\n          [attr.disabled]=\"options?.disabled\"\n          [minLength]=\"options?.minLength\"\n          [maxLength]=\"options?.maxLength\"\n          [showCharCounter]=\"options?.showCharCounter\"\n          [attr.id]=\"options?.id\"\n          [placeholder]=\"options?.placeholder || ''\"\n          [autocomplete]=\"options?.autoComplete\"\n          [attr.autofocus]=\"options?.autofocus\"\n          [attr.readonly]=\"options?.readonly\"\n          [aria-describedby]=\"descElem?.id\"\n          data-role=\"purpose-of-payment-selector\"\n        ></bb-input-text-ui>\n\n        <div\n          #descElem\n          class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n          [attr.aria-hidden]=\"!options?.description\"\n          [hidden]=\"!options?.description\"\n          [id]=\"inputEl?.id + '__desc'\"\n          [textContent]=\"options?.description || ''\"\n        ></div>\n      </ng-container>\n\n      <ng-container *ngIf=\"options?.purposes?.length\">\n        <bb-select-purpose-dropdown\n          [formControlName]=\"config?.name\"\n          [label]=\"options?.label\"\n          [purposes]=\"options?.purposes\"\n          [isOptional]=\"options?.isOptional\"\n          [helperText]=\"options?.helperText\"\n          [placeholder]=\"options?.placeholder\"\n          [searchPlaceholder]=\"options?.searchPlaceholder\"\n          [dropdownIcon]=\"options?.dropdownIcon\"\n          [selectedPurpose]=\"control.value\"\n          (selectPurpose)=\"selectPurpose($event)\"\n          data-role=\"purpose-of-payment-selector-dropdown\"\n        ></bb-select-purpose-dropdown>\n      </ng-container>\n\n      <bb-payord-validation-message\n        [control]=\"group?.controls[config.name]\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label\"\n      ></bb-payord-validation-message>\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #collapsedTmpl>\n  <span\n    class=\"bb-dynamic-input__collapse-btn-container\"\n    [hidden]=\"config?.hidden\"\n    [attr.aria-hidden]=\"config?.hidden\"\n  >\n    <button\n      class=\"bb-dynamic-input__collapse-btn\"\n      data-role=\"purpose-of-payment-btn\"\n      bbButton\n      [color]=\"options?.collapseOptions?.btnColor || 'link'\"\n      [buttonSize]=\"options?.collapseOptions?.btnSize\"\n      (click)=\"expand()\"\n    >\n      <bb-icon-ui\n        class=\"bb-dynamic-input__collapse-btn-icon mr-2\"\n        *ngIf=\"!options?.collapseOptions?.hideIcon\"\n        [name]=\"options?.collapseOptions?.icon || 'add'\"\n        [size]=\"options?.collapseOptions?.iconSize\"\n      >\n      </bb-icon-ui>\n      <span class=\"bb-dynamic-input__collapse-btn-label\">\n        {{ options?.collapseOptions?.label || options?.label }}\n      </span>\n    </button>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n    ></bb-payord-validation-message>\n  </span>\n</ng-template>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-alert',\n  templateUrl: './payord-alert.component.html',\n})\nexport class PayordAlertComponent implements OnInit, OnDestroy {\n  /**\n   * Form config\n   */\n  config!: PaymentFormFieldConfig;\n\n  /**\n   * Form group\n   */\n  group!: FormGroup;\n\n  /**\n   * Form field options\n   */\n  options!: PaymentFormFieldOptions;\n\n  /**\n   * Initializes the component.\n   *\n   * @returns\n   */\n  ngOnInit() {\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  /**\n   * Cleanups just before Angular destroys the component.\n   *\n   * @returns\n   */\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<ng-container *ngIf=\"!config?.hidden\">\n  <div [ngClass]=\"options?.cssClasses\" role=\"alert\">\n    <bb-alert-ui\n      *ngIf=\"options?.title && options?.modifier\"\n      [title]=\"options?.title\"\n      [modifier]=\"options?.modifier\"\n      [dismissible]=\"options?.dismissible\"\n    >\n      <p class=\"bb-block bb-block--no-margin\">{{ options?.description }}</p>\n    </bb-alert-ui>\n  </div>\n</ng-container>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  PaymentFormFieldOptions,\n  ScheduleFields,\n} from '@backbase/payment-orders-ang';\nimport { Subject } from 'rxjs';\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-schedule-switch-ui',\n  templateUrl: './payord-schedule-switch.component.html',\n})\nexport class PayordScheduleSwitchComponent implements OnInit, OnDestroy {\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n  private destroy$ = new Subject();\n  readonly id = new Date().getTime();\n\n  ngOnInit() {\n    registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n    registerFormControl(this.group, ScheduleFields.frequency);\n    registerFormControl(this.group, ScheduleFields.scheduleInfo);\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n    this.setValue();\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private setValue() {\n    // listen changes to reset value before hiding this component\n    this.group.controls[this.config.name]?.valueChanges\n      .pipe(distinctUntilChanged(), takeUntil(this.destroy$))\n      .subscribe((switchValue) => {\n        // the condition is added to avoid unnecessary subscriptions when the component is hidden\n        if (!this.config.hidden) {\n          const freqValue = switchValue\n            ? this.options.values?.on\n            : this.options.values?.off;\n          const infoValue = switchValue ? this.options.description : undefined;\n          this.group.controls[ScheduleFields.frequency]?.patchValue(freqValue);\n          this.group.controls[ScheduleFields.scheduleInfo]?.patchValue(\n            infoValue\n          );\n        }\n      });\n  }\n}\n","<ng-container *ngIf=\"!config?.hidden\">\n  <div\n    class=\"form-group bb-dynamic-input bb-schedule-switch\"\n    [formGroup]=\"group\"\n    [ngClass]=\"options?.cssClasses\"\n  >\n    <div class=\"bb-inline-stack bb-stack--align-top\">\n      <div class=\"bb-inline-stack__item--spacing-md\">\n        <bb-switch-ui\n          [id]=\"'bb-payord-schedule-switch-' + id\"\n          [formControlName]=\"config.name\"\n        >\n        </bb-switch-ui>\n      </div>\n      <div>\n        <div class=\"b-block bb-block--xs bb-stack bb-schedule-switch__label\">\n          <label\n            [attr.for]=\"'bb-payord-schedule-switch-' + id\"\n            *ngIf=\"options?.label\"\n            class=\"bb-stack__item bb-stack__item--spacing-xs bb-block bb-block--no-margin\"\n            >{{ options?.label }}</label\n          >\n          <span\n            [bbTooltip]=\"options?.tooltipMessage\"\n            placement=\"bottom\"\n            [triggers]=\"'hover'\"\n          >\n            <bb-icon-ui\n              name=\"info\"\n              color=\"secondary\"\n              size=\"sm\"\n              class=\"\"\n            ></bb-icon-ui>\n          </span>\n        </div>\n        <div\n          class=\"bb-subtitle bb-text-support bb-schedule-switch__description\"\n        >\n          <span\n            *ngIf=\"options?.description && group.controls[config.name]?.value\"\n            >{{ options?.description }}</span\n          >\n        </div>\n      </div>\n    </div>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n    ></bb-payord-validation-message>\n  </div>\n</ng-container>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  Hideable,\n  PaymentFormFieldHooks,\n  resetBeneficiaryDetails,\n  CounterPartyFields,\n  PaymentBaseFields,\n  InitiatorFields,\n  HiddenFields,\n} from '@backbase/payment-orders-ang';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { registerFormControl } from '../../helpers/form-helpers';\n\n@Component({\n  selector: 'bb-payord-beneficiary-header',\n  templateUrl: './payord-beneficiary-group-header.component.html',\n})\nexport class PayordBeneficiaryGroupHeaderComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  iconName = 'clear';\n  hideBeneficiaryFieldsControl!: AbstractControl;\n  private initiatorIdControl!: AbstractControl;\n\n  ngOnInit() {\n    this.hideBeneficiaryFieldsControl = registerFormControl(\n      this.group,\n      HiddenFields.hideBeneficiaryFields\n    );\n    this.initiatorIdControl = <FormControl>(\n      this.group.parent?.get([PaymentBaseFields.initiator, InitiatorFields.id])\n    );\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  onClearValues() {\n    const parentGroup = this.group.parent as FormGroup;\n    const nameControl = <FormControl>(\n      parentGroup.get([PaymentBaseFields.initiator, InitiatorFields.name])\n    );\n    if (nameControl.value) {\n      nameControl.setErrors(null);\n    }\n    if (typeof this.options?.clearOptions?.onClear === 'function') {\n      this.options.clearOptions.onClear(this.group);\n    } else {\n      resetBeneficiaryDetails(this.group);\n    }\n\n    this.hideBeneficiaryFieldsControl?.setValue(true);\n    this.initiatorIdControl?.updateValueAndValidity();\n  }\n\n  showClearBtn() {\n    const accountName = this.group.get(CounterPartyFields.name);\n    const accountNumber = this.group.get(CounterPartyFields.accountNumber);\n    const bankBranchCode = this.group.get([\n      CounterPartyFields.creditorBank,\n      CounterPartyFields.bankBranchCode,\n    ]);\n    const bic = this.group.get([\n      CounterPartyFields.creditorBank,\n      CounterPartyFields.bic,\n    ]);\n    return (\n      accountName?.value ||\n      accountNumber?.value ||\n      bankBranchCode?.value ||\n      bic?.value\n    );\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"config?.options?.label\"\n  class=\"bb-stack\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <legend class=\"bb-inline-stack__item bb-fieldset__heading break-word\">\n    <ng-container *ngIf=\"!group?.value?.name\">{{\n      options?.label\n    }}</ng-container>\n    <ng-container *ngIf=\"group?.value?.name && options?.hasDynamicTitle\">\n      <span>{{ options?.label }}: {{ group?.value?.name }}</span>\n      <span\n        *ngIf=\"\n          group?.value?.selectedContact?.contactId &&\n          group?.value?.beneficiaryAccountName\n        \"\n      >\n        - {{ group?.value?.beneficiaryAccountName }}\n      </span>\n    </ng-container>\n  </legend>\n  <button\n    *ngIf=\"showClearBtn()\"\n    class=\"bb-stack__item--push-right\"\n    bbButton\n    color=\"link\"\n    (click)=\"onClearValues()\"\n    data-role=\"clear-beneficiary-button\"\n  >\n    <bb-icon-ui [name]=\"options?.clearOptions?.icon || iconName\"></bb-icon-ui>\n    <span *ngIf=\"options?.clearOptions?.label\">{{\n      options?.clearOptions?.label\n    }}</span>\n    <span\n      *ngIf=\"!options?.clearOptions?.label\"\n      i18n=\"@@dynamic-form-field-beneficiary-header.label\"\n      >Clear</span\n    >\n  </button>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { Observable, Subject } from 'rxjs';\nimport {\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n  AccountField,\n  PaymentFormFieldHooks,\n  MultiPaymentAccountFormItem,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { PaymentCardNumberFormat } from '@backbase/ui-ang/payment-card-number-pipe';\n\n@Component({\n  selector: 'bb-multi-payment-account-selector',\n  templateUrl: './multipayment-account-selector.component.html',\n})\nexport class MultiPaymentAccountSelectorComponent implements OnInit, OnDestroy {\n  private _selectedAccount!: MultiPaymentAccountFormItem;\n  private items!: Array<MultiPaymentAccountFormItem>;\n  private gc$$ = new Subject<void>();\n\n  public get selectedAccount() {\n    return this._selectedAccount;\n  }\n\n  public set selectedAccount(account: MultiPaymentAccountFormItem) {\n    this._selectedAccount = account;\n    this.group?.patchValue(account);\n    this.group?.markAsTouched();\n    this.group?.markAsDirty();\n  }\n\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig;\n  group!: FormGroup;\n\n  items$!: Observable<Array<MultiPaymentAccountFormItem>>;\n\n  accountFormat: PaymentCardNumberFormat = {\n    length: 0,\n    maskRange: [0, 0],\n    segments: 0,\n  };\n\n  accountGroup = {\n    [AccountField.id]: [''],\n    [AccountField.name]: [''],\n    [AccountField.accountNumber]: [''],\n    [AccountField.number]: [''],\n    [AccountField.accountType]: [''],\n    [AccountField.currency]: [''],\n    [AccountField.balance]: [''],\n    [AccountField.bankBranchCode]: [''],\n  };\n\n  ngOnInit() {\n    this.registerFields();\n    this.items$ = this.options?.items$.pipe(\n      tap((items: MultiPaymentAccountFormItem[]) => {\n        this.items = items;\n        if (this.group?.get('id')?.value) {\n          this.selectedAccount = this.findAccount(this.group?.get('id')?.value);\n        }\n      })\n    );\n    const initiator = this.group?.parent?.get('initiator');\n    initiator?.valueChanges.pipe(takeUntil(this.gc$$)).subscribe({\n      next: (account: MultiPaymentAccountFormItem) => {\n        this._selectedAccount = this.findAccount(account.id);\n      },\n    });\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    this.gc$$.next();\n    this.gc$$.complete();\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n\n  registerFields() {\n    for (const key in this.accountGroup) {\n      if (this.accountGroup.hasOwnProperty(key)) {\n        const validators = [];\n        if (key === AccountField.id || key === AccountField.name) {\n          validators.push(Validators.required);\n        }\n        registerFormControl(this.group, key, validators, [], '');\n      }\n    }\n  }\n\n  selectItem(account: MultiPaymentAccountFormItem) {\n    this.selectedAccount = account;\n    if (this.options?.accountSelected) {\n      this.options?.accountSelected(account);\n    }\n    this.options?.searchTerm$.next('');\n  }\n\n  onBlur() {\n    if (this.options?.required) {\n      this.group?.markAllAsTouched();\n    }\n  }\n\n  onSearch($event: string) {\n    if (this.options?.searchTerm$) {\n      this.options?.searchTerm$.next($event);\n    }\n  }\n\n  private findAccount(id: string) {\n    return this.items.find((item) => item.id === id) || this.group?.value;\n  }\n}\n","<div\n  class=\"bb-dynamic-input form-group\"\n  [ngClass]=\"options?.cssClasses\"\n  *ngIf=\"!config?.hidden\"\n>\n  <section class=\"payment-from\" [formGroup]=\"group\">\n    <label class=\"bb-form-field\">\n      <div *ngIf=\"options?.label\" class=\"bb-dynamic-input__label bb-label\">\n        <span>\n          {{ options?.label }}\n        </span>\n        <span\n          class=\"bb-dynamic-input__helper-text bb-text-support\"\n          *ngIf=\"options?.helperText\"\n          [textContent]=\"options?.helperText\"\n        >\n        </span>\n      </div>\n      <bb-account-selector-ui\n        [markFirst]=\"true\"\n        [highlight]=\"false\"\n        [filterItems]=\"options?.filterItems\"\n        [internalFiltering]=\"false\"\n        [closeOnSelect]=\"true\"\n        [dropdownPosition]=\"'bottom'\"\n        [items]=\"items$ | async\"\n        [selectedItems]=\"selectedAccount\"\n        [searchFunc]=\"options?.searchFunc\"\n        (change)=\"selectItem($event)\"\n        (blur)=\"onBlur()\"\n        (search)=\"onSearch($event)\"\n        (filterChange)=\"onSearch($event)\"\n        [placeholder]=\"options?.placeholder || ''\"\n        [attr.aria-label]=\"options?.label\"\n        [required]=\"options?.required\"\n        [attr.data-role]=\"'debit-account-selector'\"\n        [showCurrencySymbol]=\"options?.showCurrencySymbol\"\n        [showBankBranchCode]=\"options?.showBankBranchCode\"\n        [productNumberFormat]=\"accountFormat\"\n      ></bb-account-selector-ui>\n    </label>\n\n    <ng-container *ngIf=\"!selectedAccount\">\n      <bb-payord-validation-message\n        [control]=\"group?.controls['id']\"\n        [validationMessages]=\"options?.validationMessages\"\n        [label]=\"options?.label || 'Account'\"\n      ></bb-payord-validation-message>\n    </ng-container>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      *ngIf=\"options?.description\"\n      [textContent]=\"options?.description\"\n    ></div>\n  </section>\n</div>\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { SchemeNames } from '@backbase/data-ang/payment-order';\nimport {\n  BeneficiaryList,\n  ContactItem,\n  ContactScheme,\n  CounterPartyFields,\n  FetchCreditorItemsParams,\n  HiddenFields,\n  Hideable,\n  ListState,\n  PaymentFormFieldConfig,\n  PaymentFormFieldHooks,\n  PaymentFormFieldOptions,\n} from '@backbase/payment-orders-ang';\nimport { NgbDropdown } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime, map, takeUntil, tap } from 'rxjs/operators';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-contact-selector',\n  templateUrl: './payord-contact-selector.component.html',\n})\nexport class PayordContactSelectorComponent implements OnInit, OnDestroy {\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  contacts$!: Observable<Array<ContactItem> | null>;\n  @ViewChild('dd') dropdownItem?: NgbDropdown;\n  listState?: ListState;\n  listStateType = ListState;\n  private inputFocused = false;\n  private destroy$ = new Subject();\n  private searchQuery = '';\n  defaultEmptyStateTitle = $localize`:@@payord.contact.selector.ui.contacts.nothing-found.label:No contacts`;\n  defaultEmptyStateSubtitle = $localize`:@@payord.contact.selector.ui.contacts.nothing-found.subtitle:You don't have any contacts to be displayed.`;\n  defaultErrorStateTitle = $localize`:@@payord.contact.selector.ui.contacts.error.label:Oops! Something went wrong`;\n  defaultErrorStateSubtitle = $localize`:@@payord.contact.selector.ui.contacts.error.subtitle:We are unable to load your contacts Please try again.`;\n\n  ngOnInit() {\n    this.registerFields();\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n    this.listState = ListState.LOADING;\n\n    this.contacts$ = this.options.items$.pipe(\n      map((response) =>\n        response instanceof HttpErrorResponse ? null : response\n      ),\n      map((contacts: ContactItem[]) =>\n        this.options.mapItems && contacts?.length\n          ? this.options.mapItems(contacts)\n          : contacts\n      ),\n      map((contacts: ContactItem[]) =>\n        contacts?.map((contact) => ({\n          ...contact,\n          transferKey: this.getTransferEntry(contact),\n        }))\n      ),\n      tap((contacts: ContactItem[]) => {\n        this.setStatus(contacts);\n        // Close dropdown if there is no result by search\n        if (this.inputFocused && this.searchQuery) {\n          contacts && contacts.length\n            ? this.dropdownItem?.open()\n            : this.dropdownItem?.close();\n        }\n      })\n    );\n\n    // Sets schemeName on value change in accountNumber field\n    this.group.valueChanges\n      .pipe(\n        takeUntil(this.destroy$),\n        debounceTime(1000),\n        map(({ accountNumber }) => accountNumber)\n      )\n      .subscribe(this.setScheme.bind(this));\n  }\n\n  private registerFields() {\n    registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue\n    );\n    registerFormControl(\n      this.group,\n      CounterPartyFields.role,\n      [],\n      [],\n      'CREDITOR'\n    );\n    registerFormControl(this.group, CounterPartyFields.selectedContact, [], []);\n    registerFormControl(this.group, CounterPartyFields.schemeName);\n    registerFormControl(this.group, HiddenFields.selectedBeneficiary);\n  }\n\n  private fetchCreditorItems(params: FetchCreditorItemsParams) {\n    if (this.options?.fetchItems$) {\n      this.options.fetchItems$.next(params);\n    }\n  }\n\n  onSelectContact(_event: EventTarget, contact: ContactItem) {\n    this.group.get(this.config.name)?.patchValue(contact.name);\n    this.group\n      .get(CounterPartyFields.accountNumber)\n      ?.patchValue(this.getTransferEntry(contact)?.value);\n    this.group.get([HiddenFields.selectedBeneficiary])?.patchValue(contact);\n    this.dropdownItem?.close();\n    this.setContactId(contact);\n  }\n\n  handleSearch(query: string) {\n    if (this.inputFocused) {\n      this.searchQuery = query;\n      this.fetchCreditorItems({\n        params: { query },\n        type: BeneficiaryList.CONTACTS,\n      });\n      if (!query) {\n        this.dropdownItem?.close();\n      }\n    }\n  }\n\n  setStatus(contacts?: ContactItem[]) {\n    if (!contacts) {\n      this.listState = ListState.ERROR;\n    } else if (!contacts.length) {\n      this.listState = ListState.EMPTY;\n    } else if (contacts.length) {\n      this.listState = ListState.LIST;\n    }\n  }\n\n  onClear() {\n    this.group.get(this.config.name)?.reset();\n    this.fetchCreditorItems({ type: BeneficiaryList.CONTACTS });\n  }\n\n  focusHandler() {\n    this.inputFocused = true;\n  }\n\n  onBlur() {\n    this.inputFocused = false;\n  }\n\n  private setContactId(contact: ContactItem) {\n    this.group\n      .get([CounterPartyFields.selectedContact])\n      ?.patchValue({ contactId: contact?.id });\n  }\n\n  /**\n   * Sets schemeName for payment order request payload\n   * Checks entered value with regex pattern to detect if it is email, phone number or accountNumber\n   */\n  private setScheme(counterPartyIdentification?: string) {\n    if (!counterPartyIdentification) return;\n    const scheme = this.options.contactSchemes?.find(({ regex }) =>\n      regex?.test(counterPartyIdentification)\n    );\n    let schemeValue: SchemeNames | undefined;\n    switch (scheme?.name) {\n      case ContactScheme.email:\n        schemeValue = SchemeNames.EMAIL;\n        break;\n      case ContactScheme.phoneNumber:\n        schemeValue = SchemeNames.MOBILE;\n        break;\n      case ContactScheme.accountNumber:\n        schemeValue = SchemeNames.BBAN;\n        break;\n    }\n    if (schemeValue) {\n      this.group.controls[CounterPartyFields.schemeName].patchValue(\n        schemeValue,\n        { emitEvent: false }\n      );\n    }\n  }\n\n  /**\n   * Return first scheme value of contact. That allows customer to prioritize either email, phone number or account number for a contact.\n   * For instance [email, phoneNumber] will return mail if there is a mail value in contact item, otherwise will check phoneNumber.\n   * This is\n   */\n  private getTransferEntry(contact: ContactItem): {\n    scheme: ContactScheme;\n    value: string | undefined;\n  } {\n    const defaultScheme = ContactScheme.accountNumber;\n    const firstScheme =\n      this.options.contactSchemes?.find(\n        (scheme) => !!contact.accounts[0][scheme.name]\n      )?.name || defaultScheme;\n    return { scheme: firstScheme, value: contact.accounts[0][firstScheme] };\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  class=\"form-group bb-dynamic-input\"\n  [ngClass]=\"options?.cssClasses\"\n  *ngIf=\"!config?.hidden\"\n>\n  <label *ngIf=\"options?.label\" [for]=\"'payord-contact-selector-search-box'\"\n    >{{ options?.label }}\n  </label>\n\n  <div\n    ngbDropdown\n    #dd=\"ngbDropdown\"\n    class=\"full-width-typeahead bb-payment-card-state bb-block bb-block--md\"\n  >\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [attr.id]=\"'payord-contact-selector__helper-text'\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n\n    <bb-search-box-ui\n      ngbDropdownAnchor\n      (clear)=\"onClear()\"\n      (focus)=\"focusHandler()\"\n      (blur)=\"onBlur()\"\n      [formControl]=\"group.controls[config.name]\"\n      [placeholder]=\"options?.placeholder\"\n      [squareBorder]=\"options?.squareBorder\"\n      [autocomplete]=\"options?.autocomplete || 'off'\"\n      (ngModelChange)=\"handleSearch(group.controls[config.name].value)\"\n      [showClear]=\"true\"\n      [id]=\"'payord-contact-selector-search-box'\"\n      [attr.data-role]=\"'contact-selector-search-box'\"\n    >\n      <button\n        bbButton\n        ngbDropdownToggle\n        color=\"unstyled\"\n        [attr.aria-label]=\"'contact dropdown button'\"\n      >\n        <bb-icon-ui name=\"contacts\"></bb-icon-ui>\n      </button>\n    </bb-search-box-ui>\n\n    <div\n      ngbDropdownMenu\n      class=\"dropdown-menu bb-product-selector__dropdown-menu dropdown-menu-right pre-scrollable-typeahead\"\n    >\n      <div class=\"dropdown-menu-inner-container\">\n        <!-- CONTACTS -->\n        <ng-container *ngIf=\"contacts$ | async as contacts\">\n          <ng-container *ngIf=\"listState === listStateType.LIST\">\n            <ng-container *ngFor=\"let contact of contacts\">\n              <ng-container\n                *ngTemplateOutlet=\"contactTemp; context: { $implicit: contact }\"\n              >\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n        <!-- TODO UPDATE EMPTY AND ERROR STATES -->\n        <ng-container *ngIf=\"listState === listStateType.ERROR\">\n          <ng-container *ngTemplateOutlet=\"errorState\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"listState === listStateType.EMPTY\">\n          <ng-container *ngTemplateOutlet=\"emptyState\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"listState === listStateType.LOADING\">\n          <ng-container *ngTemplateOutlet=\"loading\"></ng-container>\n        </ng-container>\n      </div>\n    </div>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label || 'Beneficiary name'\"\n    ></bb-payord-validation-message>\n  </div>\n</div>\n\n<ng-template #contactTemp let-contact>\n  <button\n    role=\"menuitem\"\n    type=\"button\"\n    class=\"bb-stack\"\n    (click)=\"onSelectContact($event, contact)\"\n    ngbDropdownItem\n  >\n    <div class=\"bb-stack__item\">\n      <span class=\"sr-only\" i18n=\"@@payord.contact.selector.ui.group.contacts\"\n        >Contact</span\n      >\n      <bb-icon-ui\n        size=\"xl\"\n        class=\"bb-stack text-muted\"\n        name=\"account-box\"\n      ></bb-icon-ui>\n    </div>\n\n    <div\n      class=\"text-left bb-stack__item\"\n      *ngIf=\"contact?.transferKey as transferKey\"\n    >\n      <span\n        class=\"sr-only\"\n        i18n=\"@@payord.contact.selector.ui.contact.account.name.label\"\n        id=\"contact_accountNameLabel\"\n      >\n        Contact name:\n      </span>\n      <div attr.aria-labelledby=\"contact_accountNameLabel\" class=\"bb-text-bold\">\n        {{ contact?.name }}\n      </div>\n      <span\n        class=\"sr-only\"\n        i18n=\"@@payord.contact.selector.ui.contact.account.number.label\"\n        id=\"contact_accountNumberLabel\"\n      >\n        { transferKey.scheme, select, accountNumber { Account Number } email {\n        Email } phoneNumber { Phone Number } }\n      </span>\n      <div\n        class=\"text-dark\"\n        *ngIf=\"contact?.accounts[0]?.accountNumber\"\n        attr.aria-labelledby=\"contact_accountNumberLabel\"\n        class=\"bb-subtitle bb-text-support\"\n      >\n        {{ transferKey.value }}\n      </div>\n    </div>\n  </button>\n</ng-template>\n\n<ng-template #emptyState>\n  <bb-empty-state-ui\n    data-role=\"contacts-empty-state\"\n    iconSize=\"xxl\"\n    class=\"bb-state-container\"\n    iconModifier=\"contacts\"\n    [title]=\"options?.emptyStateTitle || defaultEmptyStateTitle\"\n    [subtitle]=\"options?.emptyStateSubtitle || defaultEmptyStateSubtitle\"\n  >\n  </bb-empty-state-ui>\n</ng-template>\n<ng-template #errorState>\n  <bb-empty-state-ui\n    data-role=\"contacts-error-state\"\n    iconSize=\"xxl\"\n    class=\"bb-state-container\"\n    iconModifier=\"error-outline\"\n    [title]=\"options?.errorStateTitle || defaultErrorStateTitle\"\n    [subtitle]=\"options?.errorStateSubtitle || defaultErrorStateSubtitle\"\n  >\n  </bb-empty-state-ui>\n</ng-template>\n\n<ng-template #loading>\n  <div class=\"bb-state-container\">\n    <bb-loading-indicator-ui loaderSize=\"md\"></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n","import {\n  PaymentComponents,\n  PaymentFormField,\n} from '@backbase/payment-orders-ang';\nimport { PayordTextAreaComponent } from '../components/textarea/payord-textarea.component';\nimport { PayordAddressComponent } from '../components/address/payord-address.component';\nimport { PayordSelectComponent } from '../components/select/payord-select.component';\nimport { PayordRadioComponent } from '../components/radio/payord-radio.component';\nimport { PayordBeneficiarySelectorComponent } from '../components/beneficiary-selector/payord-beneficiary-selector.component';\nimport { PayordScheduleComponent } from '../components/schedule/payord-schedule.component';\nimport { PayordAmountComponent } from '../components/amount/payord-amount.component';\nimport { PayordSanctionedCurrencyAmountComponent } from '../components/sanctioned-currency-input/payord-sanctioned-currency-amount.component';\nimport { PayordCountrySelectorComponent } from '../components/country-selector/payord-country-selector.component';\nimport { PayordCheckboxComponent } from '../components/checkbox/payord-checkbox.component';\nimport { PayordDebitAccountSelectorComponent } from '../components/debit-account-selector/payord-debit-account-selector.component';\nimport { PayordTextboxComponent } from '../components/textbox/payord-text.component';\nimport { PayordSwitchComponent } from '../components/switch/payord-switch.component';\nimport { PayordDateComponent } from '../components/date/payord-date.component';\nimport { PayordNumberComponent } from '../components/number/payord-number.component';\nimport { PayordPhoneComponent } from '../components/phone/payord-phone.component';\nimport { PayordSelectPaymentOptionComponent } from '../components/select-payment-option/payord-select-payment-option';\nimport { PayordPaymentCostComponent } from '../components/payment-cost/payment-cost.component';\nimport { PayordInternalAccountSelectorComponent } from '../components/internal-account-selector/payord-internal-account-selector.component';\nimport { PayordCompactAmountComponent } from '../components/compact-amount/payord-compact-amount.component';\nimport { PayordButtonGroupComponent } from '../components/button-group/payord-button-group.component';\nimport { PayordScheduleHeaderComponent } from '../components/schedule-header/payord-schedule-header';\nimport { PayordSanctionedCountrySelectorComponent } from '../components/sanctioned-country-selector/payord-sanctioned-country-selector.component';\nimport { PayordChargeBearerComponent } from '../components/charge-bearer/charge-bearer.component';\nimport { MultiPaymentCardComponent } from '../components/multi-payment-card/multi-payment-card.component';\nimport { PayordCreditDebitSelectorComponent } from '../components/credit-debit-selector/payord-credit-debit-selector';\nimport { PayordInternalAmountOptionsComponent } from '../components/internal-amount-options/payord-internal-amount-options.component';\nimport { PayordHeaderComponent } from '../components/header/payord-header.component';\nimport { PayordPurposeOfPaymentComponent } from '../components/purpose-of-payment/payord-purpose-of-payment.component';\nimport { PayordAlertComponent } from '../components/alert/payord-alert.component';\nimport { PayordScheduleSwitchComponent } from '../components/schedule-switch/payord-schedule-switch.component';\nimport { PayordBeneficiaryGroupHeaderComponent } from '../components/beneficiary-group-header/beneficiary-group-header.component';\nimport { MultiPaymentAccountSelectorComponent } from '../components/account-selector/multipayment-account-selector.component';\nimport { PayordContactSelectorComponent } from '../components/contact-selector/payord-contact-selector.component';\n\n/**\n * Payment component types\n */\nexport type ComponentsMap = Record<PaymentComponents, PaymentFormField>;\n\n/**\n * Payment component field types\n */\nexport const PaymentComponentsMap: any = {\n  [PaymentComponents.text]: PayordTextboxComponent,\n  [PaymentComponents.textarea]: PayordTextAreaComponent,\n  [PaymentComponents.address]: PayordAddressComponent,\n  [PaymentComponents.select]: PayordSelectComponent,\n  [PaymentComponents.radio]: PayordRadioComponent,\n  [PaymentComponents.debitAccountSelector]: PayordDebitAccountSelectorComponent,\n  [PaymentComponents.beneficiarySelector]: PayordBeneficiarySelectorComponent,\n  [PaymentComponents.schedule]: PayordScheduleComponent,\n  [PaymentComponents.amount]: PayordAmountComponent,\n  [PaymentComponents.sanctionedCurrencyAmount]:\n    PayordSanctionedCurrencyAmountComponent,\n  [PaymentComponents.checkbox]: PayordCheckboxComponent,\n  [PaymentComponents.switch]: PayordSwitchComponent,\n  [PaymentComponents.date]: PayordDateComponent,\n  [PaymentComponents.number]: PayordNumberComponent,\n  [PaymentComponents.phone]: PayordPhoneComponent,\n  [PaymentComponents.selectPaymentOption]: PayordSelectPaymentOptionComponent,\n  [PaymentComponents.paymentCost]: PayordPaymentCostComponent,\n  [PaymentComponents.chargeBearer]: PayordChargeBearerComponent,\n  [PaymentComponents.internalAccountSelector]:\n    PayordInternalAccountSelectorComponent,\n  [PaymentComponents.compactAmount]: PayordCompactAmountComponent,\n  [PaymentComponents.scheduleHeader]: PayordScheduleHeaderComponent,\n  [PaymentComponents.buttonGroup]: PayordButtonGroupComponent,\n  [PaymentComponents.countrySelector]: PayordCountrySelectorComponent,\n  [PaymentComponents.sanctionedCountrySelector]:\n    PayordSanctionedCountrySelectorComponent,\n  [PaymentComponents.multiPaymentCard]: MultiPaymentCardComponent,\n  /** @depreacted Will be removed in widget collection v3.11.0 */\n  [PaymentComponents.creditDebitSelector]: PayordCreditDebitSelectorComponent,\n  [PaymentComponents.internalAmountOptions]:\n    PayordInternalAmountOptionsComponent,\n  [PaymentComponents.header]: PayordHeaderComponent,\n  [PaymentComponents.purposeOfPayment]: PayordPurposeOfPaymentComponent,\n  [PaymentComponents.alert]: PayordAlertComponent,\n  [PaymentComponents.scheduleSwitch]: PayordScheduleSwitchComponent,\n  [PaymentComponents.beneficiaryGroupHeader]:\n    PayordBeneficiaryGroupHeaderComponent,\n  [PaymentComponents.multiPaymentAccountSelector]:\n    MultiPaymentAccountSelectorComponent,\n  [PaymentComponents.contactSelector]: PayordContactSelectorComponent,\n  [PaymentComponents.accountSelector]: PayordDebitAccountSelectorComponent,\n};\n","import { PaymentComponentsMap } from '../models/components-map.model';\nimport { PayordTextboxComponent } from '../components/textbox/payord-text.component';\nimport { Injectable } from '@angular/core';\nimport { PaymentTypeConfig } from '@backbase/payment-orders-ang';\n\n@Injectable()\nexport class ComponentsFactoryService {\n  private componentsMap = { ...PaymentComponentsMap };\n\n  /**\n   * Registers custom fields\n   *\n   * @param components Payment components\n   * @returns\n   */\n  registerCustomFields(components: typeof PaymentComponentsMap = {}) {\n    for (const key in components) {\n      if (components.hasOwnProperty(key)) {\n        this.componentsMap[key] = components[key];\n      }\n    }\n  }\n\n  /**\n   * Registers custom fields for payment configs\n   *\n   * @param paymentConfigs Payment configurations\n   * @returns\n   */\n  registerCustomFieldsForPaymentConfigs(\n    paymentConfigs: Array<PaymentTypeConfig>\n  ) {\n    for (const config of paymentConfigs) {\n      if (config.customFields) {\n        this.registerCustomFields(config.customFields);\n      }\n    }\n  }\n\n  /**\n   * Gets a form field\n   *\n   * @param formFieldType Type of the form field\n   * @returns\n   */\n  getFormField(formFieldType: string) {\n    return this.componentsMap[formFieldType] || PayordTextboxComponent;\n  }\n}\n","import {\n  Component,\n  Input,\n  OnInit,\n  EventEmitter,\n  OnDestroy,\n} from '@angular/core';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { takeUntil, map } from 'rxjs/operators';\nimport {\n  AbstractControl,\n  FormGroup,\n  Validators,\n  FormArray,\n} from '@angular/forms';\nimport {\n  PaymentFormGroup,\n  Hideable,\n  PaymentFormFieldConfig,\n} from '@backbase/payment-orders-ang';\nimport { mapDependentItems } from '../../helpers/generic-utils';\n\n@Component({\n  selector: 'bb-payord-group',\n  templateUrl: './payord-group.component.html',\n})\nexport class PayordGroupComponent implements OnInit, OnDestroy {\n  /**\n   * The config of the form group\n   */\n  @Input() config!: PaymentFormGroup & Hideable;\n  /**\n   * The parent formgroup\n   */\n  @Input() group!: FormGroup;\n  gc$ = new EventEmitter();\n  eventName!: string;\n\n  constructor(private readonly visibilityService: VisibilityService) {}\n\n  ngOnInit() {\n    this.eventName = this.config.parent\n      ? `${this.config.parent}.${this.config.name}`\n      : this.config.name;\n    this.visibilityService.show$\n      .pipe(\n        map(({ name, items }) =>\n          mapDependentItems(items, name).find(\n            (dep) => dep.parent === this.eventName\n          )\n        ),\n        takeUntil(this.gc$)\n      )\n      .subscribe((data) => {\n        if (data?.items?.length) {\n          this.showFields(data.items);\n        }\n      });\n\n    this.visibilityService.hide$\n      .pipe(\n        map(({ name, items }) =>\n          mapDependentItems(items, name).find(\n            (dep) => dep.parent === this.eventName\n          )\n        ),\n        takeUntil(this.gc$)\n      )\n      .subscribe((data) => {\n        if (data?.items?.length) {\n          this.hideFields(data.items);\n        }\n      });\n  }\n\n  scanHideableItems(items: string[]) {\n    const hideableFields: { [key: string]: boolean } = {};\n    items.forEach((itemName: string) => {\n      hideableFields[itemName] = true;\n    });\n    return hideableFields;\n  }\n\n  showFields(fieldsNames: string[]) {\n    const hideableFields = this.scanHideableItems(fieldsNames);\n    let control: AbstractControl | null;\n    this.config.fields.forEach(\n      (field: (PaymentFormFieldConfig | PaymentFormGroup) & Hideable) => {\n        if (hideableFields[field.name]) {\n          field.hidden = false;\n          control = this.group.get(`${this.config.name}.${field.name}`);\n          if (control && field?.options?.isConditionalMandatory) {\n            control.setValidators([\n              Validators.required,\n              ...(field.options.validators || []),\n            ]);\n            control.setAsyncValidators([\n              ...(field.options.asyncValidators || []),\n            ]);\n            control.updateValueAndValidity();\n          }\n        }\n      }\n    );\n  }\n\n  hideFields(fieldsNames: string[]) {\n    const hideableFields = this.scanHideableItems(fieldsNames);\n    let control: AbstractControl | null;\n\n    this.config.fields.forEach(\n      (field: (PaymentFormFieldConfig | PaymentFormGroup) & Hideable) => {\n        if (hideableFields[field.name]) {\n          field.hidden = true;\n          control = field?.options?.mapToField\n            ? this.getMappedField(field.name, field.options.mapToField)\n            : this.group.get(`${this.config.name}.${field.name}`);\n\n          if (control && !field?.options?.keepValueOnHidden) {\n            if (field?.options?.isConditionalMandatory) {\n              control.setValidators(null);\n              control.setAsyncValidators(null);\n              control.updateValueAndValidity();\n            }\n            control.reset();\n            if (field?.options?.defaultValue) {\n              control.patchValue(field.options.defaultValue);\n            }\n          }\n          this.hideNestedField(field);\n\n          if ((<PaymentFormGroup>field)?.fields?.length) {\n            (<PaymentFormGroup>field)?.fields?.forEach((nestedField) =>\n              this.hideNestedField(nestedField)\n            );\n          }\n        }\n      }\n    );\n  }\n\n  private hideNestedField(field: PaymentFormFieldConfig | PaymentFormGroup) {\n    if (field?.options?.dependants && !field?.options?.keepDependantsOnHide) {\n      mapDependentItems(field.options.dependants, field.parent).forEach(\n        ({ parent, items }) => {\n          this.visibilityService.hideItems(parent, items);\n        }\n      );\n    }\n  }\n\n  private getMappedField(\n    fieldName: string,\n    mapToField: string\n  ): AbstractControl | null {\n    let parent: FormGroup | FormArray | null = this.group;\n    let control: AbstractControl | null;\n\n    while (parent) {\n      control = parent.get(`${mapToField}.${fieldName}`);\n      if (control) {\n        return control;\n      }\n      parent = parent.parent;\n    }\n    return null;\n  }\n\n  ngOnDestroy(): void {\n    this.gc$.next();\n    this.gc$.complete();\n  }\n}\n","<ng-container *ngIf=\"!config?.hidden\">\n  <div\n    *ngIf=\"config?.cssClasses?.length; else defaultTmpl\"\n    [ngClass]=\"config?.cssClasses\"\n  >\n    <ng-container *ngTemplateOutlet=\"defaultTmpl\"></ng-container>\n  </div>\n</ng-container>\n\n<ng-template #defaultTmpl>\n  <ng-container *ngIf=\"!config.collapsible; else collapsibleTmpl\">\n    <bb-fieldset-ui\n      *ngIf=\"config?.title; else subGroup\"\n      [heading]=\"config?.title\"\n    >\n      <div *ngIf=\"config.subTitle\" class=\"bb-fieldset\">\n        {{ config?.subTitle }}\n      </div>\n      <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n    </bb-fieldset-ui>\n    <ng-container *ngIf=\"config?.separator\">\n      <bb-separator\n        [options]=\"config.separator\"\n        class=\"d-block mt-5\"\n      ></bb-separator>\n    </ng-container>\n  </ng-container>\n</ng-template>\n\n<ng-template #subGroup>\n  <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n</ng-template>\n\n<ng-template #collapsibleTmpl>\n  <fieldset class=\"bb-fieldset\">\n    <bb-collapsible-ui data-role=\"schedule-toggle\" #collapse>\n      <ng-template bbCollapsibleHeader let-toggle=\"toggle\" let-isOpen=\"isOpen\">\n        <div\n          (click)=\"collapse.toggle()\"\n          [attr.aria-expanded]=\"isOpen\"\n          class=\"bb-stack justify-content-between col-12\"\n        >\n          <legend>\n            <span class=\"bb-label\">{{ config?.title }}</span>\n          </legend>\n          <button\n            bbButton\n            color=\"outline\"\n            [attr.aria-label]=\"config?.title\"\n            [attr.aria-expanded]=\"isOpen\"\n            (click)=\"collapse.toggle(); $event.stopPropagation()\"\n          >\n            <bb-icon-ui\n              [name]=\"isOpen ? 'toggle-up' : 'toggle-down'\"\n            ></bb-icon-ui>\n          </button>\n        </div>\n        <hr class=\"mt-0 mx-3\" />\n      </ng-template>\n      <ng-template bbCollapsibleBody>\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n      </ng-template>\n    </bb-collapsible-ui>\n  </fieldset>\n</ng-template>\n\n<ng-template #content>\n  <ng-content></ng-content>\n</ng-template>\n","import {\n  Directive,\n  Input,\n  OnInit,\n  ComponentFactoryResolver,\n  ViewContainerRef,\n  ComponentRef,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  PaymentFormFieldConfig,\n} from '@backbase/payment-orders-ang';\nimport { ComponentsFactoryService } from '../services/components-factory.service';\n\n@Directive({\n  selector: '[bbPaymentFormField]',\n})\nexport class PaymentFormFieldDirective implements PaymentFormField, OnInit {\n  /**\n   * The data of the form field\n   */\n  @Input() options!: PaymentFormFieldOptions;\n\n  /**\n   * The config of form field\n   */\n  @Input() config!: PaymentFormFieldConfig;\n\n  /**\n   * The parent form group of the form field\n   */\n  @Input() group!: FormGroup;\n\n  component!: ComponentRef<PaymentFormField>;\n\n  constructor(\n    private resolver: ComponentFactoryResolver,\n    private container: ViewContainerRef,\n    private readonly componentsFactory: ComponentsFactoryService\n  ) {}\n\n  ngOnInit() {\n    const component = this.componentsFactory.getFormField(this.config.type);\n    const factory = this.resolver.resolveComponentFactory<any>(component);\n    this.component = this.container.createComponent(factory);\n    this.component.instance.config = this.config;\n    this.component.instance.group = this.group;\n    this.component.instance.options = this.options;\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormBuilder,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormGroup,\n  PaymentFormItem,\n  PaymentTypeConfig,\n  PaymentComponents,\n  PaymentOptionFields,\n  PaymentTemplateFields,\n  TemplateModeType,\n  getIconByPaymnentType,\n  focusErrorElement,\n  PaymentMode,\n  HiddenFields,\n} from '@backbase/payment-orders-ang';\nimport {\n  applyInputFormSettingForCountry,\n  applyPurposeOfPaymentSettings,\n  registerFormControl,\n  setAdditionalBankDetails,\n} from '../../helpers/form-helpers';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { ComponentsFactoryService } from '../../services/components-factory.service';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  shareReplay,\n  startWith,\n} from 'rxjs/operators';\nimport { SanctionedCountry } from '@backbase/data-ang/payment-order-options';\n\n@Component({\n  selector: 'bb-payord-form',\n  templateUrl: './payord-form.component.html',\n  providers: [VisibilityService, ComponentsFactoryService],\n})\nexport class PayordFormComponent implements OnInit, OnDestroy {\n  /**\n   * The payment type config. Containas the details of all the fields and details of a payment type.\n   */\n  @Input() config!: PaymentTypeConfig;\n  /**\n   * Event emitted when the form is submitted.\n   */\n  @Output() submitted = new EventEmitter();\n  /**\n   * Event emitted when the form is reset.\n   */\n  @Output() clear = new EventEmitter();\n  /**\n   * The flag to denote if the widget is rendered inside a modal.\n   */\n  @Input() isModalView = false;\n  /**\n   * The flag to denote if the widget is rendered in payment template mode.\n   */\n  @Input() isTemplateMode = false;\n  /**\n   * The flag to denote if it is a debit payment.\n   */\n  @Input() isDebitPayment = false;\n  /**\n   * The flag to denote if the widget is rendered in payment edit mode.\n   */\n  @Input() isEditPaymentModal = false;\n  /**\n   * The flag to denote if widget should be render the template is edit or create mode.\n   */\n  @Input() templateModeType?: TemplateModeType;\n  /**\n   * The actual formgroup item.\n   */\n  @Input() formItem?: FormGroup;\n  /**\n   * Flag that denotes if form is being submitted\n   */\n  @Input() set submitting(isSubmitting: boolean) {\n    this.isSubmitting$.next(isSubmitting);\n  }\n  /**\n   * Payment mode type.\n   */\n  @Input() paymentMode = PaymentMode.CREATE_PAYMENT;\n  /**\n   * Event emitter when we cancel payment editing (sends form to check if it's not changed)\n   */\n  @Output() editPaymentCancel = new EventEmitter<FormGroup>();\n  /**\n   * Event emitter when we submit editing payment (sends form)\n   */\n  @Output() editPaymentSubmit = new EventEmitter<FormGroup>();\n\n  private isSubmitting$ = new BehaviorSubject<boolean>(false);\n  isSubmittingShared$ = this.isSubmitting$.asObservable().pipe(shareReplay(1));\n  form!: FormGroup;\n\n  controls: Array<PaymentFormGroup> = [];\n  inputFormSettingControl!: AbstractControl;\n  templateNameControl!: AbstractControl;\n  defaultBankCodeSettingControl!: AbstractControl;\n  defaultBankCodeSettingSubscription?: Subscription;\n  inputFormSettingSubscription?: Subscription;\n\n  buttonGroupConfig!: PaymentFormFieldConfig;\n  paymentModeType = PaymentMode;\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly componentsFactory: ComponentsFactoryService,\n    private readonly formEl: ElementRef\n  ) {}\n\n  private scrollToError() {\n    focusErrorElement(\n      this.formEl?.nativeElement,\n      'small.bb-input-validation-message'\n    );\n  }\n\n  ngOnInit() {\n    this.form = this.formItem || this.fb.group({});\n    this.buttonGroupConfig = this.getButtonGroupConfig();\n    this.componentsFactory.registerCustomFields(this.config.customFields);\n    this.createFormFields(this.config.fields, this.form, this.controls);\n    registerFormControl(\n      this.form,\n      'paymentType',\n      [],\n      [],\n      this.config.paymentType\n    );\n    this.defaultBankCodeSettingControl = registerFormControl(\n      this.form,\n      'defaultBankCodeSetting'\n    );\n\n    this.inputFormSettingControl =\n      this.form.get(PaymentOptionFields.inputFormFromSettings) ||\n      registerFormControl(this.form, PaymentOptionFields.inputFormFromSettings);\n    if (this.isTemplateMode) {\n      this.templateNameControl = registerFormControl(\n        this.form,\n        PaymentTemplateFields.templateName,\n        [Validators.required]\n      );\n      if (this.paymentMode === PaymentMode.EDIT_TEMPLATE) {\n        registerFormControl(this.form, PaymentTemplateFields.paymentTemplateId);\n      }\n    }\n\n    if (this.isDebitPayment) {\n      registerFormControl(this.form, HiddenFields.isDebitPayment, [], [], true);\n    }\n\n    this.listenDefaultBankCodeSettingChange();\n    this.listenFormSettingChange();\n  }\n\n  ngOnDestroy() {\n    if (this.inputFormSettingSubscription) {\n      this.inputFormSettingSubscription.unsubscribe();\n    }\n    if (this.defaultBankCodeSettingSubscription) {\n      this.defaultBankCodeSettingSubscription.unsubscribe();\n    }\n  }\n\n  createFormFields(\n    arr: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n    _group: FormGroup,\n    controlsArr: Array<PaymentFormItem>,\n    parentName?: string\n  ) {\n    arr.forEach((control: PaymentFormFieldConfig | PaymentFormGroup) => {\n      const mappedField = control.options && control.options.mapToField;\n      const group = mappedField\n        ? <FormGroup>this.form.get(mappedField)\n        : _group;\n      const parent = mappedField || parentName;\n      const subArray: Array<PaymentFormItem> = [];\n\n      if ((<PaymentFormGroup>control).fields instanceof Array) {\n        const subGroup =\n          <FormGroup>group.get(control.name) || this.fb.group({});\n        this.createFormFields(\n          (<PaymentFormGroup>control).fields,\n          subGroup,\n          subArray,\n          parent ? `${parent}.${control.name}` : control.name\n        );\n        group.addControl(control.name, subGroup);\n        controlsArr.push({ ...control, fields: subArray, parent: parentName });\n      } else {\n        controlsArr.push({ ...control, parent });\n      }\n    });\n  }\n\n  getFormGroup(field: PaymentFormItem): FormGroup {\n    return <FormGroup>this.form.get(field.parent as string) || this.form;\n  }\n\n  getButtonGroupConfig() {\n    return {\n      type: PaymentComponents.buttonGroup,\n      name: PaymentComponents.buttonGroup,\n      options: {\n        submitting$: this.isSubmitting$,\n        isModalView: this.isModalView,\n        isTemplateMode: this.isTemplateMode,\n        templateModeType: this.templateModeType,\n        paymentMode: this.paymentMode,\n        submit: this.onSubmit.bind(this),\n        reset: this.resetForm.bind(this),\n      },\n    };\n  }\n\n  getIcon() {\n    return getIconByPaymnentType(this.config.paymentType);\n  }\n\n  onSubmit() {\n    this.form.markAsDirty();\n    this.form.markAllAsTouched();\n    this.form.updateValueAndValidity();\n    if (!this.form.valid) {\n      this.scrollToError();\n    } else if (this.form.valid && !this.submitting) {\n      this.submitted.emit(this.form);\n    }\n  }\n\n  onEditionSubmit() {\n    this.form.markAllAsTouched();\n    if (this.form.valid) {\n      this.editPaymentSubmit.emit(this.form);\n    } else {\n      this.scrollToError();\n    }\n  }\n\n  onEditionCancel() {\n    this.editPaymentCancel.emit(this.form);\n  }\n\n  listenDefaultBankCodeSettingChange() {\n    this.defaultBankCodeSettingSubscription =\n      this.defaultBankCodeSettingControl.valueChanges.subscribe(() => {\n        setAdditionalBankDetails(this.form, this.config);\n      });\n  }\n\n  listenFormSettingChange() {\n    this.inputFormSettingSubscription =\n      this.inputFormSettingControl.valueChanges\n        .pipe(\n          startWith(this.inputFormSettingControl.value),\n          distinctUntilChanged(),\n          filter((value) => !!value)\n        )\n        .subscribe((value: SanctionedCountry | any) => {\n          for (const inputFormSetting of value.inputFormSettings || []) {\n            applyInputFormSettingForCountry({\n              inputFormSetting,\n              form: this.form,\n              config: this.config,\n            });\n          }\n          applyPurposeOfPaymentSettings({\n            form: this.form,\n            config: this.config,\n          });\n        });\n  }\n\n  resetForm() {\n    this.clear.emit();\n  }\n}\n","<form class=\"dynamic-form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n  <!-- show template name control when template mode is true-->\n  <div\n    class=\"bb-stack bb-stack--density-sm bb-text-support bb-block bb-block--lg col-12\"\n    *ngIf=\"\n      paymentMode === paymentModeType.EDIT_TEMPLATE ||\n      paymentMode === paymentModeType.COPY_PAYMENT\n    \"\n  >\n    <bb-icon-ui\n      *ngIf=\"getIcon() as icon\"\n      class=\"bb-stack__item\"\n      [name]=\"icon\"\n    ></bb-icon-ui>\n    <div class=\"bb-stack__item\" data-role=\"payment-type-label\">\n      {{ config?.name }}\n    </div>\n  </div>\n  <div class=\"form-group col-12\" *ngIf=\"isTemplateMode && templateNameControl\">\n    <bb-input-text-ui\n      label=\"Name of the template\"\n      i18n-label=\"@@payord-form.template-name.label\"\n      [formControl]=\"templateNameControl\"\n      [maxLength]=\"50\"\n      autocomplete=\"off\"\n      [showCharCounter]=\"true\"\n    >\n    </bb-input-text-ui>\n\n    <bb-input-validation-message-ui\n      [showErrors]=\"templateNameControl.touched && templateNameControl?.invalid\"\n    >\n      <ng-container\n        *ngIf=\"\n          templateNameControl.errors && templateNameControl.errors['required']\n        \"\n      >\n        <span\n          data-role=\"required-template-name-error\"\n          i18n=\"@@payment-form-template-name.validation.required-error\"\n        >\n          Template name is required\n        </span>\n      </ng-container>\n    </bb-input-validation-message-ui>\n  </div>\n\n  <!-- Render form controls  -->\n  <ng-container *ngFor=\"let field of controls\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        field.fields ? formGroupTmpl : formControlTmpl;\n        context: { $implicit: field }\n      \"\n    >\n    </ng-container>\n  </ng-container>\n\n  <!--Render button group -->\n  <ng-container\n    *ngIf=\"paymentMode !== paymentModeType.EDIT_PAYMENT; else editButtonGroup\"\n  >\n    <ng-container\n      *ngTemplateOutlet=\"\n        formControlTmpl;\n        context: { $implicit: buttonGroupConfig }\n      \"\n    ></ng-container>\n  </ng-container>\n\n  <ng-template #editButtonGroup>\n    <div class=\"btn-container bb-button-bar\">\n      <bb-load-button-ui\n        class=\"bb-button-bar__button\"\n        color=\"primary\"\n        [isLoading]=\"isSubmittingShared$ | async\"\n        (click)=\"onEditionSubmit()\"\n        data-role=\"submit-button\"\n        i18n=\"@@omni-edit-payment-next-btn\"\n      >\n        Next\n      </bb-load-button-ui>\n      <button\n        bbButton\n        class=\"bb-button-bar__button\"\n        color=\"link\"\n        data-role=\"cancel-button\"\n        (click)=\"onEditionCancel()\"\n        [disabled]=\"isSubmittingShared$ | async\"\n        i18n=\"@@omni-edit-payment-cancel-btn\"\n      >\n        Cancel\n      </button>\n    </div>\n  </ng-template>\n\n  <ng-template let-config #formGroupTmpl>\n    <bb-payord-group [config]=\"config\" [group]=\"getFormGroup(config)\">\n      <ng-container *ngFor=\"let control of config.fields\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            control.fields ? formGroupTmpl : formControlTmpl;\n            context: { $implicit: control }\n          \"\n        >\n        </ng-container>\n      </ng-container>\n    </bb-payord-group>\n  </ng-template>\n\n  <ng-template let-config #formControlTmpl>\n    <ng-container\n      bbPaymentFormField\n      [config]=\"config\"\n      [options]=\"config.options\"\n      [group]=\"getFormGroup(config)\"\n    ></ng-container>\n  </ng-template>\n</form>\n","import { FormGroup } from '@angular/forms';\nimport { PaymentOption as PaymentOptionResponse } from '@backbase/data-ang/payment-order-options';\nimport {\n  PaymentComponents,\n  PaymentFormFieldConfig,\n  PaymentFormGroup,\n  PaymentFormItem,\n  PaymentOptionFields,\n  PaymentTypeConfig,\n} from '@backbase/payment-orders-ang';\nimport { Observable } from 'rxjs';\n\nexport const filterPaymentConfigs = (\n  paymentOptions: PaymentOptionResponse[],\n  paymentTypes: Array<PaymentTypeConfig>\n): PaymentTypeConfig[] =>\n  paymentOptions.map(\n    (paymentOption) =>\n      paymentTypes.filter(\n        (paymentConfig) =>\n          paymentOption.paymentType === paymentConfig.paymentType\n      )[0]\n  );\n\nexport const getPaymentCostFieldConfig = () => ({\n  name: PaymentOptionFields.paymentCost,\n  type: PaymentComponents.paymentCost,\n  options: {\n    isWizardMode: true,\n  },\n});\n\nexport const getSelectPaymentOptionFieldConfig = (\n  items$: Observable<Array<PaymentOptionResponse>>,\n  paymentTypes: Array<PaymentTypeConfig>,\n  checkClosedPaymentsAccess = false\n) => {\n  const optionLabels = paymentTypes.reduce(\n    (nameMap: { [key: string]: string }, paymentConfig: PaymentTypeConfig) => {\n      nameMap[paymentConfig.paymentType] = paymentConfig.name;\n      return nameMap;\n    },\n    {}\n  );\n  return {\n    name: PaymentOptionFields.selectPaymentOption,\n    type: PaymentComponents.selectPaymentOption,\n    options: {\n      items$,\n      optionLabels,\n      isWizardMode: true,\n      checkClosedPaymentsAccess,\n    },\n  };\n};\n\nexport const getChargeBearerFieldConfig = () => ({\n  name: PaymentOptionFields.chargeBearer,\n  type: PaymentComponents.chargeBearer,\n  options: {\n    label: 'How fees are paid',\n    isWizardMode: true,\n  },\n});\n\nexport const getRelatedPaymentConfig = (\n  paymentConfigs: PaymentTypeConfig[]\n): PaymentTypeConfig | undefined =>\n  paymentConfigs.filter(\n    (paymentConfig) => paymentConfig && !!paymentConfig.relatedPaymentTypes\n  )[0];\n\nexport const getMappedGroup = (\n  mappedGroupName: string,\n  form: FormGroup\n): FormGroup => {\n  let mappedGroup = form.get(mappedGroupName);\n  let parent = form;\n  const subGroups = mappedGroupName.split('.');\n\n  if (mappedGroup) return <FormGroup>mappedGroup;\n\n  for (const subGroup of subGroups) {\n    if (!parent.get(subGroup)) {\n      parent.addControl(subGroup, new FormGroup({}));\n    }\n    mappedGroup = <FormGroup>parent.get(subGroup);\n    parent = <FormGroup>mappedGroup;\n  }\n\n  return <FormGroup>mappedGroup;\n};\n\n/**\n * Tags each form field in a payment config to the corresponding parent form Group.\n */\nexport const tagFormGroupToFormFields = (\n  arr: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n  _group: FormGroup,\n  controlsArr: Array<PaymentFormItem>,\n  form: FormGroup,\n  parentName = ''\n) => {\n  arr.forEach((control: PaymentFormFieldConfig | PaymentFormGroup) => {\n    const mappedField = control.options && control.options.mapToField;\n    const group = mappedField ? getMappedGroup(mappedField, form) : _group;\n    const parent = mappedField || parentName;\n    const subArray: Array<PaymentFormItem> = [];\n\n    if ((<PaymentFormGroup>control).fields instanceof Array) {\n      const subGroup = <FormGroup>group.get(control.name) || new FormGroup({});\n      tagFormGroupToFormFields(\n        (<PaymentFormGroup>control).fields,\n        subGroup,\n        subArray,\n        form,\n        parent ? `${parent}.${control.name}` : control.name\n      );\n      group.addControl(control.name, subGroup);\n      controlsArr.push({ ...control, fields: subArray, parent: parentName });\n    } else {\n      controlsArr.push({ ...control, parent });\n    }\n  });\n};\n\nexport const hasSameFields = (paymentConfigs: PaymentTypeConfig[]) => {\n  let similar = false;\n  const relatedTypeConfig = getRelatedPaymentConfig(paymentConfigs);\n  if (relatedTypeConfig && relatedTypeConfig.relatedPaymentTypes) {\n    const relatedPaymentTypes = [\n      relatedTypeConfig.paymentType,\n      ...relatedTypeConfig.relatedPaymentTypes,\n    ];\n    similar = paymentConfigs.every(\n      (config) => relatedPaymentTypes.indexOf(config.paymentType) !== -1\n    );\n  } else {\n    similar = paymentConfigs.every(\n      (config) => config.paymentType === paymentConfigs[0].paymentType\n    );\n  }\n  return similar;\n};\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\nimport {\n  CounterPartyFields,\n  FetchPaymentOptionsListenerFn,\n  focusErrorElement,\n  getConfig,\n  HiddenFields,\n  InitiatorFields,\n  isFormGroupConfig,\n  PaymentBaseFields,\n  PaymentComponents,\n  PaymentFormFieldConfig,\n  PaymentFormGroup,\n  PaymentFormItem,\n  PaymentOption,\n  PaymentOptionFields,\n  PaymentState,\n  PaymentTypeConfig,\n  RemittanceInfoFields,\n} from '@backbase/payment-orders-ang';\nimport { BehaviorSubject, Observable, pipe, Subject } from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  filter,\n  skipWhile,\n  startWith,\n  takeUntil,\n  tap,\n} from 'rxjs/operators';\n\nimport {\n  filterPaymentConfigs,\n  getChargeBearerFieldConfig,\n  getPaymentCostFieldConfig,\n  getSelectPaymentOptionFieldConfig,\n  hasSameFields,\n  tagFormGroupToFormFields,\n} from '../../helpers/payment-config-helpers';\nimport {\n  addAddressFields,\n  applyInputFormSettingForCountry,\n  applyPurposeOfPaymentSettings,\n  createControlsMap,\n  registerFormControl,\n  setAdditionalBankDetails,\n} from '../../helpers/form-helpers';\nimport {\n  PaymentOption as PaymentOptionResponse,\n  SanctionedCountry,\n} from '@backbase/data-ang/payment-order-options';\n\n@Component({\n  selector: 'bb-adaptive-form',\n  templateUrl: './adaptive-form.component.html',\n})\nexport class AdaptiveFormComponent implements OnInit, AfterViewInit, OnDestroy {\n  /**\n   * The actual formgroup item.\n   */\n  @Input() formItem!: FormGroup;\n  /**\n   * The initial set of fields rendered on the form.\n   * These fields are static for all payment types.\n   */\n  @Input() baseFields: Array<PaymentFormFieldConfig | PaymentFormGroup> = [];\n  /**\n   * Array of payment configs that are needs to be supported by the wizard.\n   */\n  @Input() paymentTypes: Array<PaymentTypeConfig> = [];\n  /**\n   * The current state of the payment. Defaults to INITIAL\n   */\n  @Input() paymentState: PaymentState = PaymentState.INITIAL;\n  /**\n   * The flag to denote if it is a debit payment.\n   */\n  @Input() isDebitPayment = false;\n  /**\n   * The current selected payment config\n   */\n  @Input() selectedPaymentConfig?: PaymentTypeConfig;\n  /**\n   * The current selected payment option\n   */\n  @Input() selectedPaymentOption?: PaymentOption;\n  /**\n   * Flag to display when not payment option is avaialble\n   */\n  @Input() paymentOptionsError = false;\n\n  /**\n   * Flag to check closed payment access\n   */\n  @Input() checkClosedPaymentsAccess = false;\n  /**\n   * An Observable containing the list of payment options\n   */\n  @Input() paymentOptions$!: Observable<Array<PaymentOptionResponse>>;\n\n  /**\n   * Apply a payment template event emitter\n   */\n  @Output() applyPaymentTemplate = new EventEmitter<FormGroup>();\n\n  /**\n   * A subject that emit s a flag to denote if we are in the process of fetching the payment options\n   */\n  @Input() set fetchingOptions(isFetchingOptions: boolean) {\n    this.fetchingOptions$.next(!!isFetchingOptions);\n  }\n\n  /**\n   * An optional listener that can be used be trigger the payment options api.\n   * This will replace call to listenCriticalFieldChanges function.\n   */\n  @Input() fetchPaymentOptionsListener?: FetchPaymentOptionsListenerFn;\n\n  /**\n   * Flag that denotes if form is being submitted\n   */\n  @Input() set submitting(isSubmitting: boolean) {\n    this.isSubmitting$.next(isSubmitting);\n  }\n\n  /**\n   * A subject that emits when payment options has to be fetched\n   */\n  @Input() fetchOptions$!: Subject<FormGroup>;\n  /**\n   * Flag that indicates wether should apply a template\n   * Default value is `false`\n   */\n  @Input() shouldApplyTemplate = false;\n  /**\n   * The flag to denote if the widget is rendered inside a modal.\n   */\n  @Input() isModalView = false;\n  /**\n   * Event emitted when the form is submitted.\n   */\n  @Output() submitted = new EventEmitter();\n  /**\n   *  Event emitted when a payment option is selected\n   */\n  @Output() selectPaymentOption = new EventEmitter();\n  /**\n   * Event emitted when the form is reset.\n   */\n  @Output() clear = new EventEmitter();\n  /**\n   * Event emitted when a payment config is selected based on the form details.\n   */\n  @Output() selectConfig = new EventEmitter();\n\n  isSubmitting$ = new BehaviorSubject<boolean>(false);\n  fetchingOptions$ = new BehaviorSubject<boolean>(false);\n\n  gc$ = new Subject();\n  currentControls: Array<PaymentFormFieldConfig | PaymentFormGroup> = [];\n  form!: FormGroup;\n  shouldResetPaymentOptions = false;\n  currentDebitAccount?: string;\n  debounceInput = pipe(\n    takeUntil(this.gc$),\n    debounceTime(500),\n    distinctUntilChanged()\n  );\n\n  controls$ = new BehaviorSubject<Array<any>>([]);\n  paymentOptionControls$ = new BehaviorSubject<\n    Array<PaymentFormFieldConfig> | undefined\n  >(undefined);\n  paymentOptionsSubject$ = new BehaviorSubject<\n    Array<Array<PaymentOption & { name: string }>> | undefined\n  >(undefined);\n  paymentTypeControl!: AbstractControl;\n  selectPaymentOptionControl!: AbstractControl;\n  inputFormSettingControl!: AbstractControl;\n  chargeBearerControl!: AbstractControl;\n  chargeBearerOptionsControl!: AbstractControl;\n  transferFeeControl!: AbstractControl;\n  baseControls$ = new BehaviorSubject<Array<any>>([]);\n  taggedBaseFields: Array<PaymentFormFieldConfig | PaymentFormGroup> = [];\n  listenChanges!: Function;\n  retainableFields = [\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.postalAddress}`,\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.creditorBank}.${CounterPartyFields.postalAddress}`,\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.creditorBank}.${CounterPartyFields.bic}`,\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.creditorBank}.${CounterPartyFields.bankName}`,\n  ];\n  buttonGroupConfig!: PaymentFormFieldConfig;\n\n  constructor(private readonly formEl: ElementRef) {}\n\n  ngOnInit() {\n    this.form = this.formItem || new FormGroup({});\n    this.paymentTypeControl = registerFormControl(this.form, 'paymentType');\n    this.registerPaymentOptionControls();\n\n    this.listenPaymentOptionsChange();\n    this.listenFormSettingChange();\n    // tagging the base fields is required to find the delta between the base fields and others\n    tagFormGroupToFormFields(\n      this.baseFields,\n      this.form,\n      this.taggedBaseFields,\n      this.form\n    );\n    this.baseControls$.next(this.taggedBaseFields);\n    this.currentControls = this.baseFields;\n\n    this.listenChanges =\n      this.fetchPaymentOptionsListener || this.listenCriticalFieldChanges;\n    this.registerPostalAddressFormGroups();\n    registerFormControl(\n      this.form,\n      'isEditMode',\n      [],\n      [],\n      this.paymentState === PaymentState.EDIT\n    );\n\n    if (this.paymentState === PaymentState.EDIT && this.selectedPaymentConfig) {\n      this.listenPaymentType(this.selectedPaymentConfig.paymentType);\n    }\n\n    if (this.isDebitPayment) {\n      registerFormControl(this.form, HiddenFields.isDebitPayment, [], [], true);\n    }\n\n    this.buttonGroupConfig = this.getButtonGroupConfig();\n    this.renderPaymentOptionControls();\n  }\n\n  ngAfterViewInit() {\n    this.listenChanges(this.form, this.fetchOptions$);\n    this.listenPaymentTypeChanges();\n    if (this.shouldApplyTemplate) {\n      this.applyPaymentTemplate.emit(this.form);\n    }\n  }\n\n  ngOnDestroy() {\n    this.gc$.next();\n    this.gc$.complete();\n    this.controls$.complete();\n    this.paymentOptionControls$.next([]);\n    this.paymentOptionControls$.complete();\n  }\n\n  private getButtonGroupConfig() {\n    return {\n      type: PaymentComponents.buttonGroup,\n      name: PaymentComponents.buttonGroup,\n      options: {\n        submitting$: this.isSubmitting$,\n        isLoading$: this.fetchingOptions$,\n        submit: this.onSubmit.bind(this),\n        reset: this.resetForm.bind(this),\n        isModalView: this.isModalView,\n      },\n    };\n  }\n\n  registerPaymentOptionControls() {\n    this.chargeBearerControl = registerFormControl(\n      this.form,\n      PaymentOptionFields.chargeBearer\n    );\n    this.chargeBearerOptionsControl = registerFormControl(\n      this.form,\n      PaymentOptionFields.chargeBearerOptions\n    );\n    this.transferFeeControl = registerFormControl(\n      this.form,\n      PaymentOptionFields.transferFee\n    );\n    this.selectPaymentOptionControl = registerFormControl(\n      this.form,\n      PaymentOptionFields.selectPaymentOption\n    );\n    this.inputFormSettingControl = registerFormControl(\n      this.form,\n      PaymentOptionFields.inputFormFromSettings\n    );\n  }\n\n  registerPostalAddressFormGroups() {\n    const counterpartyGroup = <FormGroup>(\n      this.form.get(PaymentBaseFields.counterparty)\n    );\n    let creditorBankGroup = <FormGroup>(\n      counterpartyGroup.get(CounterPartyFields.creditorBank)\n    );\n\n    if (!creditorBankGroup) {\n      creditorBankGroup = new FormGroup({});\n      counterpartyGroup.addControl(\n        CounterPartyFields.creditorBank,\n        creditorBankGroup\n      );\n    }\n\n    let creditorAddressGroup = <FormGroup>(\n      creditorBankGroup.get(CounterPartyFields.postalAddress)\n    );\n    let creditorBankAddressGroup = <FormGroup>(\n      creditorBankGroup.get(CounterPartyFields.postalAddress)\n    );\n\n    if (!creditorAddressGroup) {\n      creditorAddressGroup = new FormGroup({});\n      counterpartyGroup.addControl(\n        CounterPartyFields.postalAddress,\n        creditorAddressGroup\n      );\n    }\n\n    if (!creditorBankAddressGroup) {\n      creditorBankAddressGroup = new FormGroup({});\n      creditorBankGroup.addControl(\n        CounterPartyFields.postalAddress,\n        creditorBankAddressGroup\n      );\n    }\n\n    addAddressFields(creditorAddressGroup);\n    addAddressFields(creditorBankAddressGroup);\n  }\n\n  /**\n   * Renders the provided payment config\n   */\n  renderPaymentConfig(paymentConfig: PaymentTypeConfig) {\n    const newControls: Array<PaymentFormFieldConfig | PaymentFormGroup> = [];\n    let deltaFields: Array<PaymentFormFieldConfig | PaymentFormGroup> = [];\n    tagFormGroupToFormFields(\n      paymentConfig.fields,\n      this.form,\n      newControls,\n      this.form\n    );\n    setAdditionalBankDetails(this.form, paymentConfig);\n\n    if (this.currentControls.length) {\n      deltaFields = this.deleteControls(this.currentControls, newControls);\n    }\n    const groupedDelta = this.groupDeltaFields(newControls, deltaFields);\n    this.currentControls = newControls;\n\n    this.controls$.next(groupedDelta);\n\n    if (this.paymentTypeControl) {\n      this.paymentTypeControl.patchValue(paymentConfig.paymentType);\n    }\n  }\n\n  /**\n   * The activate depandants feature is based on groups so we need to group delta fields in order to toggle dependatants.\n   * This function is used to group sibling delta fields into groups, so that the toggle dependatants feature is retained.\n   */\n  groupDeltaFields(\n    currentControls: Array<PaymentFormItem>,\n    delta: Array<PaymentFormItem>\n  ) {\n    const groupedFields: Array<any> = [];\n    for (const deltaField of delta) {\n      if (Array.isArray(groupedFields[groupedFields.length - 1])) {\n        const prevParent = groupedFields[groupedFields.length - 1][0].parent;\n        if (\n          deltaField.parent !== PaymentBaseFields.counterparty &&\n          prevParent === deltaField.parent\n        ) {\n          groupedFields[groupedFields.length - 1].push(deltaField);\n        } else {\n          groupedFields.push(deltaField);\n        }\n      } else if (\n        deltaField.parent !== PaymentBaseFields.counterparty &&\n        groupedFields.length &&\n        groupedFields[groupedFields.length - 1].parent === deltaField.parent\n      ) {\n        const prevElem = groupedFields.pop();\n        groupedFields.push([prevElem, deltaField]);\n      } else {\n        groupedFields.push(deltaField);\n      }\n    }\n    return this.mapGroupedFields(groupedFields, currentControls);\n  }\n\n  /**\n   * This function is fetches the grouped delta fields and encloses them with their appropriate parent group config.\n   * Doing so ensures the toggle dependants feature works as expected\n   */\n  mapGroupedFields(\n    groupedFields: Array<PaymentFormItem>,\n    currentControls: Array<PaymentFormItem>\n  ) {\n    const configs: Array<PaymentFormItem> = groupedFields.map(\n      (groupedField) => {\n        if (Array.isArray(groupedField)) {\n          const anccestorArray = groupedField[0].parent.split('.');\n          const parent = anccestorArray.pop();\n          const ancestor = anccestorArray.length\n            ? anccestorArray.length === 1\n              ? anccestorArray[0]\n              : anccestorArray.join('.')\n            : '';\n          const ancestorConfig = getConfig(ancestor, currentControls);\n          const parentConfig = getConfig(\n            parent,\n            <PaymentFormGroup>ancestorConfig || currentControls\n          );\n\n          return {\n            ...parentConfig,\n            fields: groupedField,\n            //reset the group title since it will be added in payment information group\n            title: '',\n          } as PaymentFormItem;\n        } else return groupedField;\n      }\n    );\n\n    return this.organiseConfigs(configs);\n  }\n\n  /**\n   * This function encloses the non counterparty and non schedule delta fields inside payment information group.\n   */\n  organiseConfigs(configs: Array<PaymentFormItem>) {\n    const counterPartyConfigs = [];\n    const paymentInfoConfigs = [];\n    const scheduleConfigs = [];\n    for (const config of configs) {\n      config.parent = config.parent || '';\n      if (\n        config.name === CounterPartyFields.remittanceInformation ||\n        config.name === CounterPartyFields.messageToBank\n      ) {\n        paymentInfoConfigs.push(config);\n      } else if (\n        config.parent === PaymentBaseFields.counterparty ||\n        config.parent.indexOf(`${PaymentBaseFields.counterparty}`) === 0\n      ) {\n        counterPartyConfigs.push(config);\n      } else if (\n        config.name === PaymentBaseFields.schedule ||\n        config.parent === PaymentBaseFields.schedule\n      ) {\n        if (isFormGroupConfig(config)) {\n          scheduleConfigs.push(...(config as PaymentFormGroup).fields);\n        } else {\n          scheduleConfigs.push(config);\n        }\n      } else {\n        paymentInfoConfigs.push(config);\n      }\n    }\n    const paymentInfo: PaymentFormGroup = {\n      name: 'paymentInfo',\n      title: 'Payment Infomation',\n      fields: [...paymentInfoConfigs],\n    };\n    const schedule: PaymentFormGroup = {\n      name: PaymentBaseFields.schedule,\n      fields: [...scheduleConfigs],\n    };\n    return [...counterPartyConfigs, paymentInfo, schedule];\n  }\n\n  /**\n   * Renders the provided array of fields in the form\n   */\n  renderFields(\n    fields: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n    flatArray: Array<PaymentFormFieldConfig | PaymentFormGroup>\n  ) {\n    tagFormGroupToFormFields(fields, this.form, flatArray, this.form);\n    this.controls$.next([...flatArray]);\n  }\n\n  /**\n   * Deletes form controls in current array that are absent in the new array and returns the delta fields\n   */\n  deleteControls(\n    currentControls: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n    newControls: Array<PaymentFormFieldConfig | PaymentFormGroup>\n  ) {\n    const baseControlsMap = createControlsMap(this.taggedBaseFields);\n    const currentControlsMap = createControlsMap(currentControls);\n    const newControlsMap = createControlsMap(newControls);\n    const deltaControls = [];\n\n    // Get new configs that are not rendered in the form\n    for (const key in newControlsMap) {\n      if (\n        !baseControlsMap.hasOwnProperty(key) &&\n        !PaymentOptionFields[<PaymentOptionFields>key] &&\n        key !==\n          `${PaymentBaseFields.counterparty}.${CounterPartyFields.counterPartyAccountGroup}`\n      ) {\n        deltaControls.push(newControlsMap[key]);\n      }\n    }\n\n    // Remove existing controls from the form that are not present in the newe config\n    for (const key in currentControlsMap) {\n      if (currentControlsMap.hasOwnProperty(key)) {\n        const controlName = <string>key.split('.').pop();\n        const control = this.form.get(key) || this.form.get(controlName);\n        if (\n          !baseControlsMap.hasOwnProperty(key) &&\n          !PaymentOptionFields[<PaymentOptionFields>key] &&\n          !newControlsMap.hasOwnProperty(key) &&\n          this.retainableFields.indexOf(key) === -1 &&\n          control &&\n          control.parent\n        ) {\n          (<FormGroup>control.parent).removeControl(controlName);\n        }\n        // reset validators from retainable controls\n        else if (this.retainableFields.indexOf(key) !== -1) {\n          control?.setValidators(null);\n          control?.updateValueAndValidity();\n        }\n      }\n    }\n\n    return deltaControls;\n  }\n\n  /**\n   * Listens to the form for changes in debit account number, credit account number, amount and currency\n   */\n  private listenCriticalFieldChanges(\n    form: FormGroup,\n    fetchOptions$: Subject<FormGroup>\n  ) {\n    // Cache the critical form controls\n    const debitAccount = <FormControl>(\n      form.get([PaymentBaseFields.initiator, InitiatorFields.accountNumber])\n    );\n    const creditAccount = <FormControl>(\n      form.get([\n        PaymentBaseFields.counterparty,\n        CounterPartyFields.accountNumber,\n      ])\n    );\n    const counterpartyCountry = <FormControl>(\n      form.get([\n        PaymentBaseFields.counterparty,\n        CounterPartyFields.creditorBank,\n        CounterPartyFields.postalAddress,\n        CounterPartyFields.country,\n      ])\n    );\n    const amountInfo = <FormControl>(\n      form.get([\n        PaymentBaseFields.remittanceInfo,\n        RemittanceInfoFields.amountCurrencyGroup,\n      ])\n    );\n\n    this.currentDebitAccount = debitAccount.value;\n\n    // subscribe for value changes in the critical form controls and trigger payment options endpoint\n    if (debitAccount && creditAccount && amountInfo) {\n      this.debounceInput(debitAccount.valueChanges)\n        .pipe(\n          skipWhile((val) => this.currentDebitAccount === val),\n          tap(() => {\n            this.currentDebitAccount = debitAccount.value;\n          })\n        )\n        .subscribe(this.fetchPaymentOptions.bind(this, form, fetchOptions$));\n      this.debounceInput(creditAccount.valueChanges).subscribe(\n        this.fetchPaymentOptions.bind(this, form, fetchOptions$)\n      );\n      this.debounceInput(amountInfo.valueChanges).subscribe(\n        this.fetchPaymentOptions.bind(this, form, fetchOptions$)\n      );\n\n      if (counterpartyCountry) {\n        this.debounceInput(counterpartyCountry.valueChanges).subscribe(\n          this.fetchPaymentOptions.bind(this, form, fetchOptions$)\n        );\n      }\n    }\n  }\n\n  /**\n   * Listen to the select payment option component and render the fields fo the selected payment type.\n   */\n  private listenPaymentTypeChanges() {\n    this.paymentTypeControl.valueChanges\n      .pipe(distinctUntilChanged(), takeUntil(this.gc$))\n      .subscribe(() => {\n        this.listenPaymentType(this.paymentTypeControl.value);\n      });\n  }\n\n  /**\n   * Listens to changes to the payment type in the form\n   */\n  private listenPaymentType(paymentType: string) {\n    if (paymentType) {\n      const selectedPaymentTypeConfig = this.paymentTypes.filter(\n        (paymentConfig) => paymentType === paymentConfig.paymentType\n      )[0];\n      this.selectConfig.next(selectedPaymentTypeConfig);\n      this.renderPaymentConfig(selectedPaymentTypeConfig);\n    }\n  }\n\n  private getPaymentConfigByType(\n    paymentType: string,\n    paymentConfigs: PaymentTypeConfig[]\n  ): PaymentTypeConfig | undefined {\n    return paymentConfigs.filter(\n      (paymentConfig) => paymentType === paymentConfig.paymentType\n    )[0];\n  }\n\n  private listenPaymentOptionsChange() {\n    if (this.paymentOptions$) {\n      this.paymentOptions$\n        .pipe(\n          takeUntil(this.gc$),\n          tap((options: Array<PaymentOptionResponse>) => {\n            this.onPaymentOptionsChange(options);\n            this.applyCountrySpecificSettings(\n              this.inputFormSettingControl.value\n            );\n          })\n        )\n        .subscribe();\n    }\n  }\n\n  private listenFormSettingChange() {\n    this.inputFormSettingControl.valueChanges\n      .pipe(\n        startWith(this.inputFormSettingControl.value),\n        takeUntil(this.gc$),\n        distinctUntilChanged(),\n        filter((value) => !!value)\n      )\n      .subscribe((value: SanctionedCountry) =>\n        this.applyCountrySpecificSettings(value)\n      );\n  }\n\n  private applyCountrySpecificSettings(value: SanctionedCountry) {\n    const currentConfig = this.getPaymentConfigByType(\n      this.paymentTypeControl.value,\n      this.paymentTypes\n    );\n    if (value) {\n      for (const inputFormSetting of value.inputFormSettings || []) {\n        applyInputFormSettingForCountry({\n          inputFormSetting,\n          form: this.form,\n          config: { fields: this.baseFields, name: '', paymentType: '' },\n        });\n        if (currentConfig) {\n          applyInputFormSettingForCountry({\n            inputFormSetting,\n            form: this.form,\n            config: currentConfig,\n          });\n        }\n      }\n      if (currentConfig) {\n        applyPurposeOfPaymentSettings({\n          form: this.form,\n          config: currentConfig,\n        });\n      }\n    }\n  }\n\n  private renderPaymentOptionControls() {\n    const paymentOptionControls = [];\n    paymentOptionControls.push(\n      getSelectPaymentOptionFieldConfig(\n        this.paymentOptions$,\n        this.paymentTypes,\n        this.checkClosedPaymentsAccess\n      )\n    );\n    paymentOptionControls.push(getChargeBearerFieldConfig());\n    paymentOptionControls.push(getPaymentCostFieldConfig());\n    this.paymentOptionControls$.next(paymentOptionControls);\n  }\n\n  /**\n   * Resets the existing payment options\n   */\n  resetPaymentOptions(paymentOptions: Array<PaymentOptionResponse>) {\n    if (this.shouldResetPaymentOptions) {\n      if (this.shouldResetSelectedPaymentOption(paymentOptions)) {\n        this.selectPaymentOptionControl.reset();\n      }\n      this.chargeBearerOptionsControl.reset();\n      this.transferFeeControl.reset();\n    }\n  }\n\n  private shouldResetSelectedPaymentOption(\n    paymentOptions: Array<PaymentOptionResponse>\n  ): boolean {\n    const selectedPaymentType = (\n      this.selectPaymentOptionControl.value || ''\n    ).split('::')[0];\n    if (selectedPaymentType) {\n      return !paymentOptions.some(\n        (option) => option.paymentType === selectedPaymentType\n      );\n    }\n\n    return false;\n  }\n\n  /**\n   * Callback triggered when the payment type changes\n   */\n  private onPaymentOptionsChange(\n    paymentOptions: Array<PaymentOptionResponse> = []\n  ) {\n    this.resetPaymentOptions(paymentOptions);\n    this.shouldResetPaymentOptions = true;\n    if (!paymentOptions || !paymentOptions.length) {\n      return;\n    }\n\n    const paymentConfigs = filterPaymentConfigs(\n      paymentOptions,\n      this.paymentTypes\n    );\n    if (paymentOptions.length === 1 || hasSameFields(paymentConfigs)) {\n      this.renderPaymentConfig(paymentConfigs[0]);\n      this.selectConfig.next(paymentConfigs[0]);\n    } else if (this.shouldResetSelectedPaymentOption(paymentOptions)) {\n      this.controls$.next([]);\n    }\n  }\n\n  /**\n   * Fetches the payment options for provided payment details\n   */\n\n  fetchPaymentOptions(form: FormGroup, fetchOptions$: Subject<FormGroup>) {\n    const debitAccount = <FormControl>(\n      form.get(\n        `${PaymentBaseFields.initiator}.${InitiatorFields.accountNumber}`\n      )\n    );\n    const creditAccount = <FormControl>(\n      form.get(\n        `${PaymentBaseFields.counterparty}.${CounterPartyFields.accountNumber}`\n      )\n    );\n    const amountInfo = <FormControl>(\n      form.get(\n        `${PaymentBaseFields.remittanceInfo}.${RemittanceInfoFields.amountCurrencyGroup}`\n      )\n    );\n    const bankCountry = <FormControl>(\n      form.get([\n        PaymentBaseFields.counterparty,\n        CounterPartyFields.creditorBank,\n        CounterPartyFields.postalAddress,\n        CounterPartyFields.country,\n      ])\n    );\n    const closedPayment = form.get(HiddenFields.isClosedPayment);\n    const arrangementId = form.get([\n      PaymentBaseFields.counterparty,\n      CounterPartyFields.id,\n    ]);\n    const skipCreditAccountValidityCheck =\n      closedPayment?.value || arrangementId?.value;\n\n    if (\n      debitAccount &&\n      creditAccount &&\n      amountInfo &&\n      bankCountry &&\n      bankCountry.valid &&\n      debitAccount.value &&\n      (creditAccount.valid || skipCreditAccountValidityCheck) &&\n      amountInfo.valid\n    ) {\n      fetchOptions$.next(form);\n    }\n  }\n\n  /**\n   * Returns the form group for the provided form field config\n   */\n  getFormGroup(field: PaymentFormItem): FormGroup {\n    return <FormGroup>this.form.get(field.parent as string) || this.form;\n  }\n\n  /**\n   * Submits the payment form\n   */\n  onSubmit() {\n    this.form.markAsDirty();\n    this.form.markAllAsTouched();\n    if (!this.form.valid) {\n      focusErrorElement(this.formEl?.nativeElement);\n    } else if (this.form.valid && !this.submitting) {\n      this.submitted.next(this.form);\n      this.selectPaymentOption.next(this.selectedPaymentOption);\n    }\n  }\n\n  /**\n   * Resets the payment form\n   */\n  resetForm() {\n    this.selectConfig.next(undefined);\n    this.selectPaymentOption.next(undefined);\n    this.gc$.next(); // Clear listeners\n    this.clear.next();\n  }\n}\n","<form class=\"payment-wizard-form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n  <ng-container *ngFor=\"let field of baseControls$ | async\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        field.fields ? formGroupTmpl : formControlTmpl;\n        context: { $implicit: field }\n      \"\n    >\n    </ng-container>\n  </ng-container>\n\n  <div class=\"position-relative\">\n    <div class=\"delta-container\">\n      <ng-container *ngFor=\"let field of controls$ | async\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            field.fields ? formGroupTmpl : formControlTmpl;\n            context: { $implicit: field }\n          \"\n        >\n        </ng-container>\n      </ng-container>\n    </div>\n\n    <ng-container *ngFor=\"let controlConfig of paymentOptionControls$ | async\">\n      <ng-container\n        *ngTemplateOutlet=\"\n          controlConfig.fields ? formGroupTmpl : formControlTmpl;\n          context: { $implicit: controlConfig }\n        \"\n      >\n      </ng-container>\n    </ng-container>\n\n    <div\n      *ngIf=\"fetchingOptions$ | async\"\n      class=\"wizard-loader-container position-absolute w-100 h-100 top-0 fixed-top bg-white\"\n      [style.opacity]=\"0.8\"\n    >\n      <bb-loading-indicator-ui\n        loaderSize=\"lg\"\n        class=\"absolute-center\"\n      ></bb-loading-indicator-ui>\n    </div>\n  </div>\n\n  <ng-template let-config #formGroupTmpl>\n    <bb-payord-group [config]=\"config\" [group]=\"getFormGroup(config)\">\n      <ng-container *ngFor=\"let control of config.fields\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            control.fields ? formGroupTmpl : formControlTmpl;\n            context: { $implicit: control }\n          \"\n        >\n        </ng-container>\n      </ng-container>\n    </bb-payord-group>\n  </ng-template>\n\n  <ng-template let-config #formControlTmpl>\n    <ng-container\n      bbPaymentFormField\n      [config]=\"config\"\n      [options]=\"config.options\"\n      [group]=\"getFormGroup(config)\"\n    ></ng-container>\n  </ng-template>\n\n  <div\n    class=\"text-danger bb-block--md col-12\"\n    *ngIf=\"paymentOptionsError\"\n    i18n=\"@@adaptive-form-no-payment-option-error\"\n  >\n    A Payment transfer is not possible with provided details. Please update the\n    details and try again.\n  </div>\n\n  <!--Render button group -->\n  <ng-container\n    *ngTemplateOutlet=\"\n      formControlTmpl;\n      context: { $implicit: buttonGroupConfig }\n    \"\n  ></ng-container>\n\n  <ng-template #fetchingOptions>\n    <bb-loading-indicator-ui\n      loaderSize=\"sm\"\n      class=\"bb-load-button__loading-indicator\"\n    ></bb-loading-indicator-ui>\n  </ng-template>\n</form>\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MultiPaymentService {\n  totalAmount$ = new BehaviorSubject<number>(0);\n  totalTransfers$ = new BehaviorSubject<number>(0);\n\n  get paymentTotalAmount$(): Observable<number> {\n    return this.totalAmount$.asObservable().pipe(distinctUntilChanged());\n  }\n\n  get paymentTotalTransfers$(): Observable<number> {\n    return this.totalTransfers$.asObservable().pipe(distinctUntilChanged());\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnDestroy,\n} from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport {\n  PaymentFormGroup,\n  PaymentFormItem,\n  PaymentTypeConfig,\n  StepperConfig,\n  PaymentFormFieldConfig,\n  MultipleFormGroup,\n  MultiPaymentHooksConfig,\n  MultiPaymentHooks,\n  StepperAction,\n  PaymentBaseFields,\n  InitiatorFields,\n  ManualBatchTypeConfig,\n} from '@backbase/payment-orders-ang';\nimport { Subject, Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\nimport { triggerStepperHook } from '../../helpers/hooks-helpers';\nimport { ComponentsFactoryService } from '../../services/components-factory.service';\nimport { MultiPaymentService } from '../../services/multi-payment.service';\nimport { VisibilityService } from '../../services/visibility.service';\nimport { BatchOrderStateService } from '@backbase/payment-orders-ang';\nimport '@angular/localize/init';\n\n@Component({\n  selector: 'bb-multi-payment-form',\n  templateUrl: './multi-payment-form.component.html',\n  providers: [VisibilityService, ComponentsFactoryService],\n})\nexport class MultiPaymentFormComponent implements OnInit, OnDestroy {\n  /**\n   * stepper Config for showing stepper details\n   */\n  @Input() stepperConfig!: StepperConfig[];\n  /**\n   * existing form\n   */\n  @Input() formItem?: FormGroup;\n  /**\n   * Manual batches configuration\n   */\n  @Input() config!: ManualBatchTypeConfig;\n  /**\n   * errorList to be displayed in the component.\n   */\n  @Input() errorList: Array<any> = [];\n  /**\n   * Event emitter when form is submitted\n   */\n  @Output() submitted = new EventEmitter();\n  /**\n   * Event Emitter when step is next.\n   */\n  @Output() stepNext = new EventEmitter();\n  /**\n   * Event Emitter when step is back.\n   */\n  @Output() back = new EventEmitter();\n  /**\n   * Event emitter when alert is hidden.\n   */\n  @Output() hideError = new EventEmitter<{ id: number; stepName: string }>();\n\n  form!: FormGroup;\n\n  controls: Array<MultipleFormGroup> = [];\n  stepData: { [key: string]: any } = {};\n\n  private destroy$ = new Subject<void>();\n\n  totalTransfers$ = this.multiPaymentService.paymentTotalTransfers$;\n  totalAmount$ = this.multiPaymentService.paymentTotalAmount$;\n  currentTypeConfig!: PaymentTypeConfig;\n  currentStepForm: Array<Observable<any> | undefined> = [];\n  currentForm = {};\n  subscription!: Observable<any>;\n  formVal = new Subject();\n  currency!: string;\n\n  constructor(\n    private fb: FormBuilder,\n    private readonly componentsFactory: ComponentsFactoryService,\n    private multiPaymentService: MultiPaymentService,\n    public stateService: BatchOrderStateService\n  ) {}\n\n  ngOnInit(): void {\n    this.form = this.formItem || this.fb.group({});\n\n    if (this.config) {\n      this.componentsFactory.registerCustomFields(this.config.customFields);\n      this.createFormFields(this.config.fields, this.form, this.controls);\n      this._listenFormChanges(this.form);\n    }\n\n    for (const step in this.stepperConfig) {\n      if (this.stepperConfig.hasOwnProperty(step)) {\n        this.stepData[this.stepperConfig[step].stepName] = {};\n      }\n    }\n  }\n\n  updateStepperDetails(currentStep: StepperConfig, action?: StepperAction) {\n    switch (action) {\n      case StepperAction.NEXT:\n        this.stateService.resetErrors();\n        if (this.isStepValid(currentStep.stepName)) {\n          this.onStepSubmit();\n        } else {\n          this.stateService.addError(currentStep.stepName, {\n            message: $localize`:@@bb-multi-payment-widget.form-error:Form error: Check entered data before proceeding to the next step.`,\n          });\n        }\n        break;\n      case StepperAction.BACK:\n        this.stateService.resetErrors();\n        this.back.emit();\n        break;\n      case StepperAction.SUBMIT:\n        if (this.isStepValid(currentStep.stepName)) {\n          this.stateService.resetErrors();\n          this.onSubmit();\n        }\n        break;\n    }\n  }\n\n  createFormFields(\n    arr: Array<PaymentFormFieldConfig | PaymentFormGroup>,\n    _group: FormGroup,\n    controlsArr: Array<PaymentFormItem>,\n    parentName?: string\n  ) {\n    arr.forEach((control: PaymentFormFieldConfig | PaymentFormGroup) => {\n      const mappedField = control.options && control.options.mapToField;\n      const group = mappedField\n        ? <FormGroup>this.form.get(mappedField)\n        : _group;\n      const parent = mappedField || parentName;\n      const subArray: Array<PaymentFormItem> = [];\n      if (control.options?.fieldsConfig) {\n        this.currency = control.options.fieldsConfig.amount.currency;\n      }\n      if ((<PaymentFormGroup>control).fields instanceof Array) {\n        const subGroup =\n          <FormGroup>group.get(control.name) || this.fb.group({});\n        this.createFormFields(\n          (<PaymentFormGroup>control).fields,\n          subGroup,\n          subArray,\n          parent ? `${parent}.${control.name}` : control.name\n        );\n        group.addControl(control.name, subGroup);\n        controlsArr.push({ ...control, fields: subArray, parent: parentName });\n      } else {\n        controlsArr.push({ ...control, parent });\n      }\n    });\n  }\n\n  isStepValid(currentStepName: string): boolean {\n    const currentStepFields: Array<MultipleFormGroup> = this.controls.filter(\n      (control) => control.stepName === currentStepName\n    );\n    this.currentStepForm = [];\n    this.currentForm = {};\n\n    const isValidArray: Array<boolean | undefined> = currentStepFields.reduce(\n      (acc: Array<boolean | undefined>, steps: MultipleFormGroup) => {\n        this.form.get(steps.name)?.markAllAsTouched();\n\n        this.currentForm = {\n          ...this.currentForm,\n          ...this.form.get(steps.name)?.value,\n        };\n        acc.push(this.form.get(steps.name)?.valid);\n        return acc;\n      },\n      []\n    );\n    return isValidArray.every(Boolean);\n  }\n\n  onSubmit() {\n    this.form.markAsDirty();\n    this.form.markAllAsTouched();\n\n    if (this.form.valid) {\n      this.submitted.emit(this.form);\n    }\n  }\n\n  onStepSubmit() {\n    if (\n      JSON.stringify(\n        this.stepData[this.stateService.currentStep?.stepName || '']\n      ) !== JSON.stringify(this.currentForm)\n    ) {\n      this.stepData[this.stateService.currentStep?.stepName || ''] = this\n        .stepData[this.stateService.currentStep?.stepName || '']\n        ? this.currentForm\n        : {};\n    }\n    this.stepNext.emit({\n      form: this.currentForm,\n      stepName: this.stateService.currentStep?.stepName,\n    });\n  }\n\n  triggerButtonEvent(\n    hooks: MultiPaymentHooksConfig | undefined,\n    action: StepperAction,\n    currentStep: StepperConfig\n  ) {\n    if (hooks) {\n      triggerStepperHook(\n        MultiPaymentHooks.onClick,\n        hooks,\n        this.updateStepperDetails.bind(this, currentStep, action),\n        this.stateService.currentStep,\n        action\n      );\n    } else {\n      this.updateStepperDetails(currentStep, action);\n    }\n  }\n\n  private _listenFormChanges(form: FormGroup) {\n    const counterpartyControl = <FormArray>(\n      form.get([PaymentBaseFields.counterparty])\n    );\n    counterpartyControl.valueChanges\n      .pipe(distinctUntilChanged(), takeUntil(this.destroy$))\n      .subscribe(() => {\n        let amount = 0;\n        let totalTransfers = 0;\n\n        const formArray = form.get([\n          PaymentBaseFields.counterparty,\n          InitiatorFields.initiatorAccountGroup,\n        ]);\n\n        if (formArray) {\n          const transferControls = (formArray as FormArray).controls;\n          totalTransfers = transferControls.length;\n          transferControls.forEach((control) => {\n            if (control.get('amount')?.valid) {\n              amount = +amount + +control.get('amount')?.value;\n            }\n          });\n        }\n\n        this.multiPaymentService.totalTransfers$.next(totalTransfers);\n        this.multiPaymentService.totalAmount$.next(amount);\n      });\n    const initiatorControl = <FormControl>(\n      form.get([PaymentBaseFields.initiator])\n    );\n    initiatorControl.valueChanges\n      .pipe(debounceTime(500), distinctUntilChanged(), takeUntil(this.destroy$))\n      .subscribe(() => {\n        const formArray = form.get([\n          PaymentBaseFields.counterparty,\n          InitiatorFields.initiatorAccountGroup,\n        ]);\n        if (formArray) {\n          (formArray as FormArray).controls.forEach((control) => {\n            if (control.get('counterpartyName')?.touched) {\n              control.get('counterpartyName')?.updateValueAndValidity();\n              control.get('counterpartyName')?.markAllAsTouched();\n            }\n          });\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  hideAlert(id: number) {\n    this.hideError.emit({\n      id,\n      stepName: this.stateService.currentStep?.stepName || '',\n    });\n  }\n\n  getFormGroup(field: PaymentFormItem): FormGroup {\n    return <FormGroup>this.form.get(field.parent as string) || this.form;\n  }\n}\n","<form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n  <ng-container *ngIf=\"stateService.step$ | async as step; else allControls\">\n    <div [ngClass]=\"step.cssClasses\">\n      <ng-container *ngFor=\"let field of controls\">\n        <div *ngIf=\"field['stepName'] === step['stepName']\">\n          <ng-container\n            *ngTemplateOutlet=\"controlTempl; context: { $implicit: field }\"\n          ></ng-container>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"(stateService.state$ | async) !== 'VALID'\">\n        <div [ngClass]=\"step.buttonClass\">\n          <div\n            class=\"bb-stack\"\n            [ngClass]=\"{\n              'container container--fixed-width': step.footerDetail\n            }\"\n            data-role=\"payment-footer\"\n          >\n            <div *ngIf=\"step.footerDetail\" class=\"bb-stack__item\">\n              <div\n                *ngIf=\"step.footerDetail.totalCount\"\n                i18n=\"@@multipayment-form-footer-text-total-transfers.text\"\n                data-role=\"total-transfers\"\n              >\n                {{ totalTransfers$ | async }} {totalTransfers$ | async, plural,\n                =1 {Transfer} other {Transfers}} (Credit)\n              </div>\n              <div\n                *ngIf=\"step.footerDetail.totalAmount\"\n                class=\"bb-highlight\"\n                i18n=\"@@multipayment-form-footer-text-total-amount.text\"\n                data-role=\"total-amount\"\n              >\n                Total: {{ currency\n                }}{{ totalAmount$ | async | number: '1.2-2' }}\n              </div>\n            </div>\n\n            <div class=\"bb-stack__item bb-stack__item--push-right\">\n              <div class=\"bb-button-bar bb-button-bar--reverse\">\n                <button\n                  bbButton\n                  *ngFor=\"let buttonDetail of step.buttonConfig\"\n                  class=\"bb-button-bar__button\"\n                  [color]=\"buttonDetail.type\"\n                  [attr.data-role]=\"'multi-payment-' + buttonDetail.action\"\n                  (click)=\"\n                    triggerButtonEvent(\n                      buttonDetail?.hooks,\n                      buttonDetail.action,\n                      step\n                    )\n                  \"\n                >\n                  {{ buttonDetail.text }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </ng-container>\n\n  <ng-template #allControls>\n    <div>\n      <div *ngFor=\"let field of controls\">\n        <ng-container\n          *ngTemplateOutlet=\"controlTempl; context: { $implicit: field }\"\n        ></ng-container>\n      </div>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          class=\"bb-button-bar__button\"\n          (click)=\"onSubmit()\"\n          color=\"primary\"\n          data-role=\"multi-payment-submit-button\"\n          i18n=\"\n            Submit button|Body text of the button that allows the user to go to\n            submit step @@bb-multi-payment-widget.submit\"\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template #controlTempl let-field>\n    <ng-container\n      *ngTemplateOutlet=\"\n        field.fields ? formGroupTmpl : formControlTmpl;\n        context: { $implicit: field }\n      \"\n    >\n    </ng-container>\n  </ng-template>\n\n  <ng-template let-config #formGroupTmpl>\n    <bb-payord-group [config]=\"config\" [group]=\"getFormGroup(config)\">\n      <ng-container *ngFor=\"let control of config.fields\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            control.fields ? formGroupTmpl : formControlTmpl;\n            context: { $implicit: control }\n          \"\n        >\n        </ng-container>\n      </ng-container>\n    </bb-payord-group>\n  </ng-template>\n\n  <ng-template let-config #formControlTmpl>\n    <ng-container\n      bbPaymentFormField\n      [config]=\"config\"\n      [options]=\"config.options\"\n      [group]=\"getFormGroup(config)\"\n    >\n    </ng-container>\n  </ng-template>\n</form>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n} from '@angular/core';\nimport { ErrorItem } from '@backbase/data-ang/payment-order';\n\n@Component({\n  selector: 'bb-error-alert',\n  templateUrl: './error-alert.component.html',\n})\nexport class ErrorAlertComponent implements OnChanges {\n  /**\n   * Collection of errors to show in alerts\n   */\n  @Input() errorList!: ErrorItem[];\n\n  /**\n   * Emitted when an alert has been closed\n   */\n  @Output() hideAlert = new EventEmitter<number>();\n\n  readonly hostRef = this;\n\n  ngOnChanges() {\n    if (this.errorList && this.errorList.length > 0) {\n      this.errorList.forEach((error) => {\n        for (const context in error.context) {\n          if (error.message && error.context?.hasOwnProperty(context)) {\n            const regEx = new RegExp('{{' + context + '}}', 'g');\n            const replacedValue = (<any>error.context)[context];\n            error.message = error.message.replace(regEx, replacedValue);\n          }\n        }\n      });\n    }\n  }\n\n  hideError(index: number) {\n    this.hideAlert.emit(index);\n  }\n}\n","<div class=\"sticky-top pt-2\">\n  <div\n    class=\"bb-block bb-block--md\"\n    *ngFor=\"let error of errorList; let ind = index\"\n    role=\"alert\"\n  >\n    <ng-content\n      *ngTemplateOutlet=\"notification; context: { error: error, id: ind }\"\n    ></ng-content>\n  </div>\n</div>\n\n<ng-template #notification let-error=\"error\" let-id=\"id\">\n  <bb-alert-ui [title]=\"''\" [dismissible]=\"true\" (close)=\"hideError(id)\">\n    <p class=\"bb-block bb-block--no-margin\">{{ error?.message }}</p>\n  </bb-alert-ui>\n</ng-template>\n","import { CommonModule, DatePipe, CurrencyPipe } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { PayordAddressComponent } from './components/address/payord-address.component';\nimport { PayordAmountComponent } from './components/amount/payord-amount.component';\nimport { PayordBeneficiarySelectorComponent } from './components/beneficiary-selector/payord-beneficiary-selector.component';\nimport { PayordCheckboxComponent } from './components/checkbox/payord-checkbox.component';\nimport { PayordDebitAccountSelectorComponent } from './components/debit-account-selector/payord-debit-account-selector.component';\nimport { PayordRadioComponent } from './components/radio/payord-radio.component';\nimport { PayordScheduleComponent } from './components/schedule/payord-schedule.component';\nimport { PayordSelectComponent } from './components/select/payord-select.component';\nimport { PayordTextAreaComponent } from './components/textarea/payord-textarea.component';\nimport { PayordTextboxComponent } from './components/textbox/payord-text.component';\nimport { PayordFormComponent } from './containers/payord-form/payord-form.component';\nimport { PaymentFormFieldDirective } from './directives/form-field.directive';\nimport { PayordGroupComponent } from './components/group/payord-group.component';\nimport { PayordSwitchComponent } from './components/switch/payord-switch.component';\nimport { PaymentOrdersUiModule } from '@backbase/payment-orders-ang';\nimport { PayordDateComponent } from './components/date/payord-date.component';\nimport { PayordNumberComponent } from './components/number/payord-number.component';\nimport { ValidationMessageComponent } from './components/validation-message/validation-message.component';\nimport { PayordPhoneComponent } from './components/phone/payord-phone.component';\nimport { PayordSelectPaymentOptionComponent } from './components/select-payment-option/payord-select-payment-option';\nimport { PayordPaymentCostComponent } from './components/payment-cost/payment-cost.component';\nimport { AdaptiveFormComponent } from './containers/adaptive-form/adaptive-form.component';\nimport { PayordInternalAccountSelectorComponent } from './components/internal-account-selector/payord-internal-account-selector.component';\nimport { PayordCompactAmountComponent } from './components/compact-amount/payord-compact-amount.component';\nimport { PayordButtonGroupComponent } from './components/button-group/payord-button-group.component';\nimport { PayordScheduleHeaderComponent } from './components/schedule-header/payord-schedule-header';\nimport { PayordSanctionedCurrencyAmountComponent } from './components/sanctioned-currency-input/payord-sanctioned-currency-amount.component';\nimport { PayordCountrySelectorComponent } from './components/country-selector/payord-country-selector.component';\nimport { PayordChargeBearerComponent } from './components/charge-bearer/charge-bearer.component';\nimport { PayordSanctionedCountrySelectorComponent } from './components/sanctioned-country-selector/payord-sanctioned-country-selector.component';\nimport { MultiPaymentCardComponent } from './components/multi-payment-card/multi-payment-card.component';\nimport { MultiPaymentFormComponent } from './containers/multi-payment-form/multi-payment-form.component';\nimport { PayordCreditDebitSelectorComponent } from './components/credit-debit-selector/payord-credit-debit-selector';\nimport { PayordInternalAmountOptionsComponent } from './components/internal-amount-options/payord-internal-amount-options.component';\nimport { PayordHeaderComponent } from './components/header/payord-header.component';\nimport { PayordPurposeOfPaymentComponent } from './components/purpose-of-payment/payord-purpose-of-payment.component';\nimport { PayordAlertComponent } from './components/alert/payord-alert.component';\nimport { ErrorAlertComponent } from './components/error-alert/error-alert.component';\nimport { PayordScheduleSwitchComponent } from './components/schedule-switch/payord-schedule-switch.component';\nimport { PayordBeneficiaryGroupHeaderComponent } from './components/beneficiary-group-header/beneficiary-group-header.component';\nimport { MultiPaymentAccountSelectorComponent } from './components/account-selector/multipayment-account-selector.component';\nimport { PayordContactSelectorComponent } from './components/contact-selector/payord-contact-selector.component';\nimport { DynamicAriaAttributeDirective } from './directives/dynamic-aria-attribute.directive';\nimport { VisibilityService } from './services/visibility.service';\nimport { ComponentsFactoryService } from './services/components-factory.service';\nimport { InputTextModule } from '@backbase/ui-ang/input-text';\nimport { InputRadioGroupModule } from '@backbase/ui-ang/input-radio-group';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport { InputDatepickerModule } from '@backbase/ui-ang/input-datepicker';\nimport { CurrencyInputModule } from '@backbase/ui-ang/currency-input';\nimport { TextareaModule } from '@backbase/ui-ang/textarea';\nimport { SwitchModule } from '@backbase/ui-ang/switch';\nimport { DropdownSingleSelectModule } from '@backbase/ui-ang/dropdown-single-select';\nimport { AccountSelectorModule } from '@backbase/ui-ang/account-selector';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { FieldsetModule } from '@backbase/ui-ang/fieldset';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { InputNumberModule } from '@backbase/ui-ang/input-number';\nimport { InputPhoneModule } from '@backbase/ui-ang/input-phone';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ProductSelectorModule } from '@backbase/ui-ang/product-selector';\nimport { ProductItemBasicAccountModule } from '@backbase/ui-ang/product-item-basic-account';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { StepperModule } from '@backbase/ui-ang/stepper';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport { AmountInputModule } from '@backbase/ui-ang/amount-input';\n\nconst entryComponents = [\n  PayordAddressComponent,\n  PayordAmountComponent,\n  PayordBeneficiarySelectorComponent,\n  PayordCheckboxComponent,\n  PayordDebitAccountSelectorComponent,\n  PayordRadioComponent,\n  PayordScheduleComponent,\n  PayordSelectComponent,\n  PayordTextAreaComponent,\n  PayordTextboxComponent,\n  PayordSwitchComponent,\n  PayordDateComponent,\n  PayordNumberComponent,\n  PayordPhoneComponent,\n  ValidationMessageComponent,\n  PayordSelectPaymentOptionComponent,\n  PayordPaymentCostComponent,\n  PayordInternalAccountSelectorComponent,\n  PayordCompactAmountComponent,\n  PayordButtonGroupComponent,\n  PayordScheduleHeaderComponent,\n  PayordSanctionedCurrencyAmountComponent,\n  PayordCountrySelectorComponent,\n  PayordChargeBearerComponent,\n  PayordSanctionedCountrySelectorComponent,\n  PayordChargeBearerComponent,\n  MultiPaymentCardComponent,\n  MultiPaymentFormComponent,\n  PayordCreditDebitSelectorComponent,\n  PayordInternalAmountOptionsComponent,\n  PayordHeaderComponent,\n  PayordPurposeOfPaymentComponent,\n  PayordAlertComponent,\n  ErrorAlertComponent,\n  PayordScheduleSwitchComponent,\n  PayordBeneficiaryGroupHeaderComponent,\n  MultiPaymentAccountSelectorComponent,\n  PayordContactSelectorComponent,\n];\n\nconst modules = [\n  InputTextModule,\n  InputRadioGroupModule,\n  InputCheckboxModule,\n  InputDatepickerModule,\n  InputNumberModule,\n  InputPhoneModule,\n  CurrencyInputModule,\n  TextareaModule,\n  SwitchModule,\n  DropdownSingleSelectModule,\n  FormsModule,\n  ReactiveFormsModule,\n  InputRadioGroupModule,\n  AccountSelectorModule,\n  CollapsibleModule,\n  AlertModule,\n  PaymentOrdersUiModule,\n  AmountModule,\n  FieldsetModule,\n  LoadButtonModule,\n  LoadingIndicatorModule,\n  ProductSelectorModule,\n  ProductItemBasicAccountModule,\n  ButtonModule,\n  IconModule,\n  EmptyStateModule,\n  StepperModule,\n  TooltipModule,\n  AmountInputModule,\n];\n\nconst components = [\n  PayordFormComponent,\n  PayordGroupComponent,\n  AdaptiveFormComponent,\n  ...entryComponents,\n];\n\nconst directives = [PaymentFormFieldDirective, DynamicAriaAttributeDirective];\n/**\n * Exports the UI components, directives and modules for the form builder\n */\n@NgModule({\n  declarations: [...components, ...directives],\n  exports: [...components, ...directives, ...modules],\n  entryComponents,\n  imports: [CommonModule, BackbaseCoreModule, ...modules],\n  providers: [\n    DatePipe,\n    CurrencyPipe,\n    VisibilityService,\n    ComponentsFactoryService,\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class PayordFormBuilderAngModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["isObjectTruthy","CounterPartyFields","FormControl","FormGroup","PaymentBaseFields","RemittanceInfoFields","getConfig","HiddenFields","amountValidator","Validators","currencyValidatorFactory","ibanCountryValidator","isSelectedBeneficiaryModified","FormArray","isCounterpartyObjectEquals","objectEquals","PaymentTemplateFields","datePart","getAccountHolderAddress","getContactBankAddress","resetBeneficiaryDetails","MultiPaymentHooks","ViewType","AddressType","map","CountriesMap","of","isAddressTruthy","PaymentFormFieldHooks","focusErrorElement","i0","i1","i2","Component","toggleTabIndex","Input","i2.ValidationMessageComponent","i3","i4","ViewChild","BehaviorSubject","Injectable","Subject","takeUntil","startWith","sameAccountsValidator","InitiatorFields","BeneficiaryList","i1.VisibilityService","i4.ValidationMessageComponent","i5","i6","i7","Directive","i3.ValidationMessageComponent","i6.DynamicAriaAttributeDirective","templateObject_1","DefaultClosedPaymentBusFnSuffix","DefaultIntraCompanyPaymentBusFnSuffix","tap","catchError","forbiddenStatus","switchMap","missingInListValidator","debounceTime","SchemeNames","BB_CLOSED_PAYMENT_BUS_FN_SUFFIX","BB_INTRACOMPANY_PAYMENT_BUS_FN_SUFFIX","Optional","Inject","ScheduleFields","pastDateValidator","requiredEndDateValidator","requiredAfterValidator","endTypes","requiredEndTypeValidator","focusChildElement","Scheme","i5.DynamicAriaAttributeDirective","PaymentOptionFields","combineLatest","distinctUntilChanged","filter","getDateOnly","i8.DynamicAriaAttributeDirective","BigNumber","ChargeBearer","ProductKinds","take","shareReplay","fromEvent","AccountBalances","i2.VisibilityService","i7.ValidationMessageComponent","i8","i9","i10","PaymentMode","ScheduleEndType","Frequencies","getRelativeDate","TemplateModeType","animationFrameScheduler","asapScheduler","EventEmitter","templateObject_2","templateObject_3","templateObject_4","parseString","auditTime","CreditDebitMixedIndicator","ElementRef","i11","getLocaleNumberSymbol","NumberSymbol","pluck","PaymentState","LOCALE_ID","ChangeDetectionStrategy","AccountField","ListState","HttpErrorResponse","ContactScheme","PaymentComponents","i1.ComponentsFactoryService","getIconByPaymnentType","i2.ComponentsFactoryService","i7.PayordGroupComponent","i10.PaymentFormFieldDirective","Output","pipe","isFormGroupConfig","skipWhile","i2.PayordGroupComponent","i5.PaymentFormFieldDirective","StepperAction","i3.MultiPaymentService","i5.PayordGroupComponent","i8.PaymentFormFieldDirective","InputTextModule","InputRadioGroupModule","InputCheckboxModule","InputDatepickerModule","InputNumberModule","InputPhoneModule","CurrencyInputModule","TextareaModule","SwitchModule","DropdownSingleSelectModule","FormsModule","ReactiveFormsModule","AccountSelectorModule","CollapsibleModule","AlertModule","PaymentOrdersUiModule","AmountModule","FieldsetModule","LoadButtonModule","LoadingIndicatorModule","ProductSelectorModule","ProductItemBasicAccountModule","ButtonModule","IconModule","EmptyStateModule","StepperModule","TooltipModule","AmountInputModule","CommonModule","BackbaseCoreModule","DatePipe","CurrencyPipe","NgModule","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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"}