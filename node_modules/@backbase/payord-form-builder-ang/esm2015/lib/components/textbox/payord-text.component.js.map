{"version":3,"file":"payord-text.component.js","sourceRoot":"","sources":["../../../../../../../libs/payord-form-builder-ang/src/lib/components/textbox/payord-text.component.ts","../../../../../../../libs/payord-form-builder-ang/src/lib/components/textbox/payord-text.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAE7D,OAAO,EAIL,kBAAkB,EAClB,MAAM,EAEN,qBAAqB,GACtB,MAAM,8BAA8B,CAAC;AACtC,OAAO,EAAE,mBAAmB,EAAE,MAAM,4BAA4B,CAAC;AACjE,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;;;;;;;;AAM1D,MAAM,OAAO,sBAAsB;IAQjC,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAChC,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,MAAM,CAAC,IAAI,EAChB,IAAI,CAAC,OAAO,CAAC,UAAU,EACvB,IAAI,CAAC,OAAO,CAAC,eAAe,EAC5B,IAAI,CAAC,OAAO,CAAC,YAAY,EACzB,IAAI,CAAC,MAAM,CACZ,CAAC;QAEF,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACvB,MAAM,iBAAiB,GACrB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBAC7C,mBAAmB,CAAC,IAAI,CAAC,KAAK,EAAE,kBAAkB,CAAC,UAAU,CAAC,CAAC;YACjE,IAAI,iBAAiB,CAAC,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE;gBAC3C,iBAAiB,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACzC;SACF;QAED,WAAW,CAAC,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,WAAW;QACT,WAAW,CAAC,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;;uIAhCU,sBAAsB;2HAAtB,sBAAsB,sDClBnC,26GA4GA;4FD1Fa,sBAAsB;kBAJlC,SAAS;mBAAC;oBACT,QAAQ,EAAE,gBAAgB;oBAC1B,WAAW,EAAE,8BAA8B;iBAC5C","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport {\n  PaymentFormFieldConfig,\n  PaymentFormField,\n  PaymentFormFieldOptions,\n  CounterPartyFields,\n  Scheme,\n  Hideable,\n  PaymentFormFieldHooks,\n} from '@backbase/payment-orders-ang';\nimport { registerFormControl } from '../../helpers/form-helpers';\nimport { triggerHook } from '../../helpers/hooks-helpers';\n\n@Component({\n  selector: 'bb-payord-text',\n  templateUrl: './payord-text.component.html',\n})\nexport class PayordTextboxComponent\n  implements PaymentFormField, OnInit, OnDestroy\n{\n  options!: PaymentFormFieldOptions;\n  config!: PaymentFormFieldConfig & Hideable;\n  group!: FormGroup;\n  control!: AbstractControl;\n\n  ngOnInit() {\n    this.control = registerFormControl(\n      this.group,\n      this.config.name,\n      this.options.validators,\n      this.options.asyncValidators,\n      this.options.defaultValue,\n      this.config\n    );\n\n    if (this.options.isIban) {\n      const schemeNameControl =\n        this.group.get(CounterPartyFields.schemeName) ||\n        registerFormControl(this.group, CounterPartyFields.schemeName);\n      if (schemeNameControl.value !== Scheme.IBAN) {\n        schemeNameControl.setValue(Scheme.IBAN);\n      }\n    }\n\n    triggerHook(PaymentFormFieldHooks.onInit, this);\n  }\n\n  ngOnDestroy() {\n    triggerHook(PaymentFormFieldHooks.onDestroy, this);\n  }\n}\n","<div\n  *ngIf=\"!config?.hidden\"\n  class=\"bb-dynamic-input form-group contextual-alternates-off\"\n  [formGroup]=\"group\"\n  [ngClass]=\"options?.cssClasses\"\n>\n  <ng-container *ngIf=\"!options?.isIban; else ibanElem\">\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"inputEl?.id + '__label'\"\n      [for]=\"inputEl?.id\"\n      #labelElem\n    >\n      {{ options?.label || '' }}\n    </label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      [textContent]=\"options?.helperText\"\n      *ngIf=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-text-ui\n      #inputEl\n      [formControlName]=\"config.name\"\n      [disabled]=\"options?.disabled\"\n      [minLength]=\"options?.minLength\"\n      [maxLength]=\"options?.maxLength\"\n      [showCharCounter]=\"options?.showCharCounter\"\n      [id]=\"options?.id\"\n      [placeholder]=\"options?.placeholder || ''\"\n      [autocomplete]=\"options?.autoComplete\"\n      [autofocus]=\"options?.autofocus\"\n      [readonly]=\"options?.readonly\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      [attr.data-role]=\"config.name\"\n    >\n    </bb-input-text-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"inputEl?.id + '__error'\"\n      #errorElem\n    ></bb-payord-validation-message>\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"inputEl?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #descElem\n    ></div>\n  </ng-container>\n\n  <ng-template #ibanElem>\n    <label\n      class=\"bb-dynamic-input__label\"\n      [id]=\"ibanInput?.id + '__label'\"\n      [for]=\"ibanInput?.id\"\n      [textContent]=\"options?.label || ''\"\n      #ibanLabelElem\n    >\n    </label>\n    <span\n      class=\"bb-dynamic-input__helper-text bb-text-support\"\n      *ngIf=\"options?.helperText\"\n      [textContent]=\"options?.helperText\"\n    >\n    </span>\n    <bb-input-text-ui\n      [formControlName]=\"config.name\"\n      [disabled]=\"options?.disabled\"\n      [maxLength]=\"options?.maxLength\"\n      [placeholder]=\"options?.placeholder || ''\"\n      [autocomplete]=\"options?.autoComplete\"\n      [autofocus]=\"options?.autofocus\"\n      [minLength]=\"options?.minLength\"\n      [readonly]=\"options?.readonly\"\n      [id]=\"options?.id\"\n      [bbDynamicAriaAttribute]=\"{\n        __error: control?.touched && control?.invalid,\n        __desc: options?.description\n      }\"\n      bbIban\n      #ibanInput\n    >\n    </bb-input-text-ui>\n    <bb-payord-validation-message\n      [control]=\"group?.controls[config.name]\"\n      [validationMessages]=\"options?.validationMessages\"\n      [label]=\"options?.label\"\n      [id]=\"ibanInput?.id + '__error'\"\n      #ibanErrorElem\n    ></bb-payord-validation-message>\n\n    <div\n      class=\"bb-dynamic-input__desc bb-text-support bb-subtitle\"\n      [attr.aria-hidden]=\"!options?.description\"\n      [hidden]=\"!options?.description\"\n      [id]=\"ibanInput?.id + '__desc'\"\n      [textContent]=\"options?.description || ''\"\n      #ibanDescElem\n    ></div>\n  </ng-template>\n</div>\n"]}