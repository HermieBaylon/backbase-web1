{"version":3,"file":"backbase-account-statement-list-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/account-statement-list-widget-ang/src/constants/widget-properties.ts","../../../../libs/account-statement-list-widget-ang/src/services/account-statements-list-widget-properties.service.ts","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-filter-form/account-statement-filter-form.component.ts","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-filter-form/account-statement-filter-form.component.html","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-table-row/account-statement-table-row.component.ts","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-table-row/account-statement-table-row.component.html","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-table/account-statement-table.component.ts","../../../../libs/account-statement-list-widget-ang/src/components/account-statement-table/account-statement-table.component.html","../../../../libs/account-statement-list-widget-ang/src/account-statement-list-widget.component.ts","../../../../libs/account-statement-list-widget-ang/src/account-statement-list-widget.component.html","../../../../libs/account-statement-list-widget-ang/src/account-statement-list-widget.module.ts","../../../../libs/account-statement-list-widget-ang/backbase-account-statement-list-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/* eslint-disable @typescript-eslint/naming-convention */\nexport const ListWidgetProperties = {\n  SHOW_DESCRIPTION: 'bb.accountStatement.showDescription',\n  PAGINATION_TYPE: 'bb.accountStatement.paginationType',\n};\n","import { Injectable, Optional } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport {\n  AccountStatementBasePropertiesService,\n  modelItemToBoolean,\n  PaginationType,\n} from '@backbase/account-statement-common-ang';\nimport { ItemModel } from '@backbase/foundation-ang/core';\n\nimport { AccountStatementListWidgetProperties } from '../types/account-statement-list-widget-properties';\nimport { ListWidgetProperties } from '../constants/widget-properties';\n\n@Injectable()\nexport class AccountStatementListWidgetPropertiesService extends AccountStatementBasePropertiesService {\n  private readonly showDescription$$ = new BehaviorSubject<boolean | undefined>(undefined);\n\n  constructor(@Optional() itemModel: ItemModel) {\n    super(itemModel);\n  }\n\n  /* eslint-disable @typescript-eslint/member-ordering */\n  readonly showDescription$ = this.getWidgetProperty$(this.showDescription$$, this.showDescriptionIM$);\n  readonly widgetProperties$: Observable<AccountStatementListWidgetProperties> = combineLatest([\n    this.pageSize$,\n    this.sortingOrder$,\n    this.sortingDirection$,\n    this.notificationDismissTime$,\n    this.showCategory$,\n    this.showDescription$,\n    this.relativeDateLimit$,\n    this.absoluteDateLimit$,\n    this.paginationType$,\n  ]).pipe(\n    map(\n      ([\n        pageSize,\n        sortingOrder,\n        sortingDirection,\n        notificationDismissTimeProperty,\n        showCategory,\n        showDescription,\n        relativeDateLimit,\n        absoluteDateLimit,\n        paginationType,\n      ]: any[]) => ({\n        pageSize,\n        sortingOrder,\n        sortingDirection,\n        notificationDismissTimeProperty,\n        showCategory,\n        showDescription,\n        relativeDateLimit,\n        absoluteDateLimit,\n        paginationType,\n      }),\n    ),\n  );\n\n  /* eslint-enable @typescript-eslint/member-ordering */\n\n  setShowDescription(value: boolean | undefined): void {\n    this.showDescription$$.next(value);\n  }\n\n  protected getPaginationTypeIM$(): Observable<PaginationType> {\n    const defaultValue = PaginationType.LoadMore;\n    return this.itemModel?.property(ListWidgetProperties.PAGINATION_TYPE, defaultValue) || of(defaultValue);\n  }\n\n  private get showDescriptionIM$(): Observable<boolean> {\n    const defaultValue = true;\n    return (\n      this.itemModel?.property(ListWidgetProperties.SHOW_DESCRIPTION, defaultValue).pipe(map(modelItemToBoolean)) ||\n      of(defaultValue)\n    );\n  }\n}\n","import {\n  Component,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  ViewChild,\n  OnInit,\n} from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { Categories, FilterParams } from '@backbase/account-statement-common-ang';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { Subject } from 'rxjs';\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'bb-account-statement-filter-form',\n  templateUrl: './account-statement-filter-form.component.html',\n})\nexport class AccountStatementFilterFormComponent implements OnDestroy, OnInit {\n  /**\n   * Array of account statement categories\n   */\n  @Input() categories: Categories = [];\n\n  /**\n   * Whether default category is presented in filter section.\n   */\n  @Input() showCategory: boolean | undefined | null = true;\n\n  /**\n   * Whether filter options applied to all account statement list elements\n   */\n  @Input() filtersApplied = false;\n\n  @Input() filterParams: FilterParams = {};\n\n  @Input() minDate: NgbDateStruct | undefined;\n\n  @Input() maxDate: NgbDateStruct | undefined;\n\n  /**\n   * Emit filter change event\n   */\n  @Output() filtersChange = new EventEmitter<FilterParams>();\n\n  @ViewChild('filterButton') filterButton?: ElementRef;\n\n  filterForm: FormGroup = this.fb.group({});\n  readonly hostRef = this;\n  private readonly unsubscribe = new Subject<void>();\n\n  constructor(private readonly fb: FormBuilder) {}\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  createForm() {\n    this.filterForm = this.fb.group({\n      categories: [this.filterParams?.category || []],\n      bookDate: this.filterParams?.dateFrom\n        ? {\n            from: this.filterParams.dateFrom,\n            to: this.filterParams?.dateTo,\n          }\n        : '',\n    });\n  }\n\n  resetForm() {\n    this.filterForm.reset();\n    this.filtersChange.emit({});\n    this.focusFilterButton();\n  }\n\n  onSubmit() {\n    const categoriesValue = this.filterForm.controls['categories'].value || [];\n    const { from: dateFrom = '', to: dateTo = '' } =\n      (this.filterForm && this.filterForm.controls['bookDate'].value) || {};\n\n    this.filtersChange.emit({\n      category: categoriesValue,\n      ...(dateFrom && {\n        dateFrom,\n      }),\n      ...((dateTo || dateFrom) && {\n        dateTo: dateTo || dateFrom,\n      }),\n    });\n\n    this.filterForm.markAsPristine();\n    this.focusFilterButton();\n  }\n\n  focusFilterButton() {\n    if (this.filterButton) {\n      this.filterButton.nativeElement.focus();\n    }\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementFilterFormCustomizable]' })\nexport class AccountStatementFilterFormCustomizableDirective extends BbTemplate<\n  AccountStatementFilterFormComponent,\n  void\n> {}\n","<ng-container bbAccountStatementFilterFormCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbAccountStatementFilterFormCustomizable let-host>\n  <bb-collapsible-ui>\n    <ng-template bbCollapsibleHeader let-isOpen=\"isOpen\" let-toggle=\"toggle\">\n      <div class=\"card-header bb-button-bar bb-button-bar--reverse\">\n        <button\n          class=\"bb-button-bar__button\"\n          bbButton\n          #filterButton\n          data-role=\"collapsible-filter-btn\"\n          [color]=\"host.filtersApplied && !host.isOpen ? 'primary' : 'secondary'\"\n          [class.active]=\"host.isOpen\"\n          (click)=\"toggle()\"\n        >\n          <bb-icon-ui [cropped]=\"true\" name=\"filter\"></bb-icon-ui>\n          <span\n            *ngIf=\"host.filtersApplied && !host.isOpen; else filterButtonTextDefault\"\n            i18n=\"\n              Filters applied|Filter form button filter label@@accountStatement.filter.form.button.filter.applied.label\"\n          >\n            Filters applied\n          </span>\n          <ng-template #filterButtonTextDefault>\n            <span i18n=\"Filter|Filter form button filter label@@accountStatement.filter.form.button.filter.label\">\n              Filter\n            </span>\n          </ng-template>\n        </button>\n      </div>\n    </ng-template>\n\n    <ng-template bbCollapsibleBody let-toggle=\"toggle\">\n      <form\n        data-role=\"filter-form\"\n        class=\"card-body account-statements-filter__form-container\"\n        [formGroup]=\"host.filterForm\"\n      >\n        <div class=\"row\">\n          <div class=\"bb-block bb-block--md col-12 col-sm-6\" *ngIf=\"host.filterForm.controls['bookDate']\">\n            <bb-input-datepicker-ui\n              i18n-label=\"Book date|Filter form book date label@@accountStatement.filter.form.datepicker.label\"\n              label=\"Book date range\"\n              labelClasses=\"form-label\"\n              [rangeSelection]=\"true\"\n              [minDate]=\"hostRef.minDate!\"\n              [maxDate]=\"hostRef.maxDate!\"\n              aria-label=\"Book date\"\n              i18n-aria-label=\"Book date filter aria label@@accountStatement.filter.form.datepicker.aria-label\"\n              [attr.aria-invalid]=\"host.filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n              formControlName=\"bookDate\"\n              data-role=\"book-date\"\n            ></bb-input-datepicker-ui>\n\n            <bb-input-validation-message-ui\n              class=\"account-statements-filter__validation-message\"\n              aria-live=\"polite\"\n              [showErrors]=\"host.filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n            >\n              <span\n                i18n=\"\n                  Error invalid date format in book date\n                  range@@accountStatement.filter.form.datepicker.error.invalidDateFormat\"\n                data-role=\"invalid-book-date-error-message\"\n                >Invalid date format</span\n              >\n            </bb-input-validation-message-ui>\n\n            <bb-input-validation-message-ui\n              class=\"account-statements-filter__validation-message\"\n              aria-live=\"polite\"\n              [showErrors]=\"\n                !host.filterForm.controls['bookDate'].hasError('invalidDateFormat') &&\n                (host.filterForm.controls['bookDate'].hasError('dateGreaterThanMaxDate') ||\n                  host.filterForm.controls['bookDate'].hasError('dateLessThanMinDate'))\n              \"\n            >\n              <span\n                i18n=\"\n                  Selected date range contains invalid dates\n                  range@@accountStatement.filter.form.datepicker.error.dateLessThanMinDate\"\n                data-role=\"invalid-book-date-limit-error-message\"\n                >The selected dates include values outside the allowed date range. Please select a date interval in the\n                permitted time frame.</span\n              >\n            </bb-input-validation-message-ui>\n          </div>\n\n          <ng-container *ngIf=\"host.showCategory\">\n            <bb-dropdown-multi-select-ui\n              *ngIf=\"host.categories?.length\"\n              [formControl]=\"host.filterForm.controls['categories']\"\n              class=\"bb-block bb-block--lg col-12 col-sm-6\"\n              data-role=\"categories-filter\"\n              placeholder=\"Select product category\"\n              i18n-placeholder=\"\n                Category select placeholder|Category multiple\n                select@@accountStatement.filter.form.categories.placeholder\"\n              label=\"Category\"\n              i18n-label=\"Category label|Category multiple select@@accountStatement.filter.form.categories.label\"\n            >\n              <bb-dropdown-multi-select-option-ui\n                *ngFor=\"let option of host.categories\"\n                [label]=\"option\"\n                [value]=\"option\"\n              >\n              </bb-dropdown-multi-select-option-ui>\n            </bb-dropdown-multi-select-ui>\n          </ng-container>\n        </div>\n        <div class=\"bb-button-bar\">\n          <button\n            bbButton\n            type=\"submit\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"apply\"\n            [disabled]=\"host.filterForm.pristine || host.filterForm.invalid\"\n            (click)=\"host.onSubmit(); toggle()\"\n            i18n=\"Apply|Filter form button apply label@@accountStatement.filter.form.button.apply.label\"\n          >\n            Apply\n          </button>\n          <button\n            bbButton\n            color=\"secondary\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"close\"\n            (click)=\"toggle(); host.focusFilterButton()\"\n            i18n=\"Close|Filter form button close label@@accountStatement.filter.form.button.close.label\"\n          >\n            Close\n          </button>\n          <button\n            bbButton\n            color=\"link\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"clear-all\"\n            *ngIf=\"host.filterForm.dirty || host.filtersApplied\"\n            (click)=\"host.resetForm()\"\n            i18n=\"Clear All|Filter form button clear label@@accountStatement.filter.form.button.clear.label\"\n          >\n            Clear all\n          </button>\n        </div>\n      </form>\n    </ng-template>\n  </bb-collapsible-ui>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, Directive, Input, TemplateRef, ViewChild } from '@angular/core';\n\nimport {\n  AccountStatementDataService,\n  mimeTypeExtensions,\n  MimeTypeExtensions,\n} from '@backbase/account-statement-common-ang';\nimport { AccountStatement, AccountStatementDocument } from '@backbase/data-ang/account-statements';\n\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { NotificationService } from '@backbase/ui-ang/notification';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'tr[bb-account-statement-table-row]',\n  templateUrl: './account-statement-table-row.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountStatementTableRowComponent {\n  private static _id = 0;\n\n  /**\n   * Whether Description content is presented for specific row in the account statement list table\n   */\n  @Input() showDescription: boolean | null = true;\n\n  /**\n   * Whether Category content is presented for specific row in the account statement list table\n   */\n  @Input() showCategory: boolean | null = true;\n\n  /**\n   * Time of displaying notification after download failure in milliseconds.\n   */\n  @Input() notificationDismissTimeProperty = 0;\n\n  @ViewChild('downloadFailureNotificationHeader') downloadFailureNotificationHeader!: TemplateRef<any>;\n\n  /**\n   * Table row id.\n   * Used in creating unique ids for preview and download text for a11y\n   */\n  readonly accountStatementTableRowId = AccountStatementTableRowComponent._id++;\n\n  readonly mimeTypeExtensions: MimeTypeExtensions = mimeTypeExtensions;\n\n  /**\n   * Setter for each account statement item that will be presented in table row\n   */\n  @Input()\n  set item(value: AccountStatement | undefined) {\n    if (value) {\n      this.documentPDF = value.documents.find(document => document.contentType === 'application/pdf');\n      this.documentPDFhref = (this.documentPDF && this.getDocumentLink(this.documentPDF)) || '';\n      this.itemValue = {\n        ...value,\n        documents: value.documents.map(document => ({\n          ...document,\n          url: this.getDocumentLink(document),\n        })),\n      };\n    }\n  }\n\n  get item(): AccountStatement | undefined {\n    return this.itemValue;\n  }\n\n  documentPDF: AccountStatementDocument | undefined;\n  documentPDFhref = '';\n  readonly hostRef = this;\n\n  private itemValue: AccountStatement | undefined;\n\n  constructor(\n    private readonly dataService: AccountStatementDataService,\n    private readonly notificationsService: NotificationService,\n  ) {}\n\n  onDownloadFailure() {\n    this.notificationsService.showNotification({\n      header: this.downloadFailureNotificationHeader,\n      message: '',\n      modifier: 'error',\n      ttl: this.notificationDismissTimeProperty,\n    });\n  }\n\n  private getDocumentLink(document: AccountStatementDocument): string {\n    return document.url || this.dataService.getAccountStatementDownloadUrl(document.uid || '');\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementTableRowCustomizable]' })\nexport class AccountStatementTableRowCustomizableDirective extends BbTemplate<\n  AccountStatementTableRowComponent,\n  void\n> {}\n\n@Directive({\n  selector: '[bbAccountStatementDownloadFailureNotificationHeaderCustomizable]',\n})\nexport class AccountStatementDownloadFailureNotificationHeaderCustomizableDirective extends BbTemplate<\n  AccountStatementTableRowComponent,\n  void\n> {}\n","<ng-container bbAccountStatementTableRowCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbAccountStatementTableRowCustomizable let-host>\n  <div class=\"d-md-none bb-stack bb-stack--align-top\">\n    <td class=\"bb-stack__item\">\n      <div\n        class=\"bb-block bb-block--xs bb-text-semi-bold\"\n        i18n=\"Book date|Account statement table head title@@accountStatement.table.head.date.title\"\n      >\n        Book date\n      </div>\n      <div>{{ host.item.date | bbDate: 'shortDate' }}</div>\n    </td>\n\n    <bb-account-statement-view-online\n      class=\"bb-stack__item bb-stack__item--push-right\"\n      *ngIf=\"host.documentPDF\"\n      [href]=\"host.documentPDFhref\"\n      describedByElementId=\"describe-preview-by-{{ host.accountStatementTableRowId }}\"\n    ></bb-account-statement-view-online>\n\n    <bb-account-statement-downloads\n      class=\"bb-stack__item\"\n      [ngClass]=\"{ 'bb-stack__item--push-right': !host.documentPDF }\"\n      [documents]=\"host.item.documents\"\n      [mimeTypeExtensions]=\"host.mimeTypeExtensions\"\n      (downloadFailure)=\"host.onDownloadFailure()\"\n      describedByElementId=\"describe-download-by-{{ host.accountStatementTableRowId }}\"\n    ></bb-account-statement-downloads>\n  </div>\n  <td\n    class=\"d-md-table-cell d-none\"\n    [attr.colspan]=\"host.showCategory || host.showDescription ? null : 3\"\n    data-role=\"date-td\"\n  >\n    {{ host.item.date | bbDate: 'shortDate' }}\n  </td>\n  <!--If showDescription is false, it should colspan up to the description-->\n  <td *ngIf=\"host.showCategory\" [attr.colspan]=\"host.showDescription ? null : 2\" data-role=\"category-td\">\n    <div\n      class=\"bb-block bb-block--xs bb-text-semi-bold d-md-none\"\n      i18n=\"Сategory|Account statement table head title@@accountStatement.table.head.category.title\"\n    >\n      Category\n    </div>\n    <div data-role=\"category-content\">{{ host.item.category }}</div>\n  </td>\n  <!--If showCategory is false, it should colspan including category-->\n  <td *ngIf=\"host.showDescription\" [attr.colspan]=\"host.showCategory ? null : 2\" data-role=\"description-td\">\n    <div\n      class=\"bb-block bb-block--xs bb-text-semi-bold d-md-none\"\n      i18n=\"Description|Account statement table head title@@accountStatement.table.row.description.title\"\n      data-role=\"description-label\"\n    >\n      Description\n    </div>\n    <div data-role=\"description-content\">{{ host.item.description }}</div>\n  </td>\n\n  <td class=\"d-md-table-cell d-none bb-text-align-center\">\n    <span\n      *ngIf=\"host.documentPDF\"\n      id=\"describe-preview-by-{{ host.accountStatementTableRowId }}\"\n      class=\"sr-only\"\n      i18n=\"Preview for|describing preview text for screen reader@@account-statement-list.preview-button.description\"\n    >\n      Preview for\n      <ng-container *ngTemplateOutlet=\"screenReaderDescription\"></ng-container>\n    </span>\n    <bb-account-statement-view-online\n      *ngIf=\"host.documentPDF\"\n      [href]=\"host.documentPDFhref\"\n      describedByElementId=\"describe-preview-by-{{ host.accountStatementTableRowId }}\"\n    ></bb-account-statement-view-online>\n  </td>\n\n  <td class=\"d-md-table-cell d-none bb-text-align-center\">\n    <span\n      i18n=\"Download for|describing download text for screen reader@@account-statement-list.download-button.description\"\n      id=\"describe-download-by-{{ host.accountStatementTableRowId }}\"\n      class=\"sr-only\"\n    >\n      {host.item.documents?.length, plural, =1 {Download\n      {{ host.mimeTypeExtensions[host.item.documents[0]?.contentType] }}} other {Show download actions} } for\n      <ng-container *ngTemplateOutlet=\"screenReaderDescription\"></ng-container>\n    </span>\n    <bb-account-statement-downloads\n      [documents]=\"host.item.documents\"\n      [mimeTypeExtensions]=\"host.mimeTypeExtensions\"\n      (downloadFailure)=\"host.onDownloadFailure()\"\n      describedByElementId=\"describe-download-by-{{ host.accountStatementTableRowId }}\"\n    ></bb-account-statement-downloads>\n  </td>\n  <ng-template #screenReaderDescription>\n    <span\n      i18n=\"\n        Category, description and book date for screen reader|describing what text is read by screen reader for download\n        or preview buttons @@account-statement-list.actions.description\"\n    >\n      {host.showCategory.toString(), select, true { 'category ' {{ host.item.category }} }} {(host.showCategory &&\n      host.showDescription).toString(), select, true { 'with description ' {{ host.item.description }} }}\n      {(!host.showCategory && host.showDescription).toString(), select, true { 'description'\n      {{ host.item.description }} }} {(host.showCategory || host.showDescription).toString(), select, true {'and'}} book\n      date {{ host.item.date | bbDate: 'fullDate' }}\n    </span>\n  </ng-template>\n</ng-template>\n\n<ng-template #downloadFailureNotificationHeader>\n  <ng-container bbAccountStatementDownloadFailureNotificationHeaderCustomizable [bbHostRef]=\"this\"> </ng-container>\n\n  <ng-template bbAccountStatementDownloadFailureNotificationHeaderCustomizable>\n    <span i18n=\"Failed to download statement@@account-statement-table-row.error-notification.header\"\n      >The statement cannot be downloaded now, please try again later</span\n    >\n  </ng-template>\n</ng-template>\n","import { Component, Directive, EventEmitter, Input, Output } from '@angular/core';\n\nimport { SortDirection, SortingParams } from '@backbase/account-statement-common-ang';\nimport { AccountStatement } from '@backbase/data-ang/account-statements';\n\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { SortEvent } from '@backbase/ui-ang/table';\n\n@Component({\n  selector: 'bb-account-statement-table',\n  templateUrl: './account-statement-table.component.html',\n})\nexport class AccountStatementTableComponent {\n  /**\n   * Array of account statements\n   */\n  @Input() accountStatements: AccountStatement[] | null | undefined = [];\n\n  /**\n   * Whether Description column is presented in the account statement list table\n   *\n   * @default true\n   */\n  @Input() showDescription = true;\n\n  /**\n   * Whether Category column is presented in the account statement list table\n   *\n   * @default true\n   */\n  @Input() showCategory = true;\n\n  /**\n   * Initial state of sorting\n   */\n  @Input() sortingParams: SortingParams | null | undefined;\n\n  @Input() loading = false;\n\n  /**\n   * Time after notification for download failure will be dismissed.\n   */\n  @Input() notificationDismissTimeProperty = 0;\n\n  /**\n   * Emit sorting parameters change event\n   */\n  @Output() sortingParamsChange = new EventEmitter<SortingParams>();\n\n  hostRef = this;\n\n  onSort(params: SortEvent) {\n    this.sortingParamsChange.emit({\n      direction: params.direction.toUpperCase() as SortDirection,\n      orderBy: params.column,\n    });\n  }\n}\n\n@Directive({ selector: '[bbAccountStatementTableCustomizable]' })\nexport class AccountStatementTableCustomizableDirective extends BbTemplate<AccountStatementTableComponent, void> {}\n","<ng-container bbAccountStatementTableCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbAccountStatementTableCustomizable let-host>\n  <div class=\"table-responsive\">\n    <table\n      class=\"table\"\n      aria-label=\"Account statements table\"\n      i18n-aria-label=\"Aria label for account statements table@@accountStatement.table.aria-label\"\n      [bbTable]=\"accountStatements\"\n      (sort)=\"host.onSort($event)\"\n      bbTableFocus\n    >\n      <colgroup>\n        <col width=\"20%\" />\n        <col width=\"20%\" />\n        <col width=\"40%\" />\n        <col width=\"10%\" />\n        <col width=\"10%\" />\n      </colgroup>\n      <thead>\n        <tr>\n          <th\n            bbSortable=\"date\"\n            [direction]=\"host.sortingParams?.orderBy === 'date' ? (host.sortingParams?.direction | lowercase) : ''\"\n            scope=\"col\"\n            data-role=\"header-date\"\n            [attr.colspan]=\"host.showCategory || host.showDescription ? null : 3\"\n          >\n            <span\n              class=\"th-content\"\n              i18n=\"Book date|Account statement table head title@@accountStatement.table.head.date.title\"\n              data-role=\"book-date-thead\"\n              >Book date</span\n            >\n          </th>\n          <th\n            *ngIf=\"host.showCategory\"\n            bbSortable=\"category\"\n            [direction]=\"host.sortingParams?.orderBy === 'category' ? (host.sortingParams?.direction | lowercase) : ''\"\n            scope=\"col\"\n            data-role=\"header-category\"\n            [attr.colspan]=\"host.showDescription ? null : 2\"\n          >\n            <span\n              class=\"th-content\"\n              i18n=\"Сategory|Account statement table head title@@accountStatement.table.head.category.title\"\n              >Category</span\n            >\n          </th>\n          <th\n            *ngIf=\"host.showDescription\"\n            bbSortable=\"description\"\n            [attr.colspan]=\"host.showCategory ? null : 2\"\n            [direction]=\"\n              host.sortingParams?.orderBy === 'description' ? (host.sortingParams?.direction | lowercase) : ''\n            \"\n            scope=\"col\"\n            data-role=\"header-description\"\n          >\n            <span\n              class=\"th-content\"\n              i18n=\"Description|Account statement table head title@@accountStatement.table.head.description.title\"\n              >Description</span\n            >\n          </th>\n          <th scope=\"col\">\n            <span\n              class=\"th-content\"\n              i18n=\"Preview|Account statement table head title@@account-statement.table.head.preview.title\"\n              data-role=\"preview-thead\"\n              >Preview</span\n            >\n          </th>\n          <th scope=\"col\">\n            <span\n              class=\"th-content\"\n              i18n=\"Download|Account statement table head title@@account-statement.table.head.download.title\"\n              data-role=\"download-thead\"\n              >Download</span\n            >\n          </th>\n        </tr>\n      </thead>\n      <tbody *ngIf=\"!host.loading\">\n        <tr\n          bb-account-statement-table-row\n          [bbRow]=\"accountStatement\"\n          [showCategory]=\"host.showCategory\"\n          [showDescription]=\"host.showDescription\"\n          *ngFor=\"let accountStatement of host.accountStatements\"\n          [item]=\"accountStatement\"\n          [notificationDismissTimeProperty]=\"host.notificationDismissTimeProperty\"\n        ></tr>\n      </tbody>\n    </table>\n\n    <bb-loading-indicator-ui *ngIf=\"host.loading\" loaderSize=\"lg\"></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n","import { Component, Directive, Input, OnDestroy, OnInit } from '@angular/core';\n\nimport {\n  AccountItem,\n  Accounts,\n  ACCOUNTS_REQUEST_ALL_SIZE,\n  AccountStatementBaseWidgetComponent,\n  AccountStatementDataService,\n  AccountStatementGetReqParams,\n  convertDateObjToDateStruct,\n  convertDateStructToDateObj,\n  FilterParams,\n  getDateFilterLimit,\n  LoadingParams,\n  LoadingState,\n  PaginationType,\n  ProccessedAccountStatementsRawData,\n  simpleArrayCompare,\n  smartLoadingState,\n  SortingParams,\n  StateAccounts,\n  StateAccountStatements,\n  StateCategories,\n  today,\n} from '@backbase/account-statement-common-ang';\nimport { AccountStatement } from '@backbase/data-ang/account-statements';\nimport { ProductSummaryItem } from '@backbase/data-ang/arrangements';\n\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, combineLatest, Observable, of, Subject } from 'rxjs';\n\nimport {\n  catchError,\n  distinctUntilChanged,\n  filter,\n  map,\n  pairwise,\n  scan,\n  shareReplay,\n  startWith,\n  switchMap,\n  takeUntil,\n  tap,\n} from 'rxjs/operators';\n\nimport { AccountStatementListWidgetPropertiesService } from './services/account-statements-list-widget-properties.service';\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\nimport { AccountStatementListWidgetProperties } from './types/account-statement-list-widget-properties';\n\nconst STORAGE_ACCOUNT_SELECTED_KEY = 'bb.product.selected';\nexport const DEFAULT_FROM_VALUE = 0;\n\n@Component({\n  selector: 'bb-account-statement-list-widget',\n  templateUrl: './account-statement-list-widget.component.html',\n  providers: [AccountStatementListWidgetPropertiesService],\n})\nexport class AccountStatementListWidgetComponent\n  extends AccountStatementBaseWidgetComponent<AccountStatementListWidgetPropertiesService>\n  implements OnInit, OnDestroy\n{\n  /**\n   * Flag to show/hide description\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('showDescription') set showDescriptionValue(value: boolean | undefined) {\n    this.propertiesService.setShowDescription(value);\n  }\n\n  readonly hostRef = this;\n  readonly loadingStates = LoadingState;\n\n  accounts: StateAccounts = {\n    data: undefined,\n    error: false,\n  };\n  categories: StateCategories = {\n    data: undefined,\n    error: false,\n  };\n  accountStatements: StateAccountStatements = {\n    data: undefined,\n    error: false,\n    totalCount: undefined,\n    isLoading: LoadingState.IDLE,\n    areFiltersApplied: false,\n  };\n\n  private readonly destroy$ = new Subject<void>();\n\n  /* eslint-disable @typescript-eslint/member-ordering */\n  /**\n   * Minimal date for \"Date range\" filter. Default value is \"1970-01-01\".\n   */\n  minimalDate: Observable<NgbDateStruct> = this.initializeMinimalDateFilterLimit;\n\n  /**\n   * Maximum date for \"Date range\" filter. Default value is current date.\n   */\n  maximumDate: NgbDateStruct = convertDateObjToDateStruct(today());\n\n  readonly selectedAccount = new Subject<AccountItem | ProductSummaryItem>();\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  readonly sortingParamsNew = new BehaviorSubject<SortingParams | {}>({});\n  readonly sortingParams: Observable<SortingParams> = combineLatest([\n    this.propertiesService.sortingOrder$,\n    this.propertiesService.sortingDirection$,\n    this.sortingParamsNew,\n  ]).pipe(\n    map(([orderBy, direction, newParams]) => ({\n      orderBy,\n      direction,\n      ...newParams,\n    })),\n  );\n  readonly filterParams = new BehaviorSubject<FilterParams>({});\n  readonly loadingParamsNew = new BehaviorSubject<LoadingParams>({\n    from: DEFAULT_FROM_VALUE,\n  });\n  readonly loadingParams = combineLatest([\n    this.propertiesService.pageSize$,\n    this.loadingParamsNew,\n    this.minimalDate,\n  ]).pipe(\n    map(([size, newParams, minimalDate]) => ({\n      size,\n      from: DEFAULT_FROM_VALUE,\n      dateFrom: convertDateStructToDateObj(minimalDate),\n      dateTo: convertDateStructToDateObj(this.maximumDate),\n      ...newParams,\n    })),\n    takeUntil(this.destroy$),\n  );\n\n  accountsError?: Error = undefined;\n  accountsData = this.service\n    .getAccounts({\n      size: ACCOUNTS_REQUEST_ALL_SIZE,\n    })\n    .pipe(\n      map(response => response.body),\n      tap(accounts => {\n        this.selectAccount(accounts[0]);\n      }),\n      catchError(error => {\n        this.accountsError = error;\n        return of([]);\n      }),\n    );\n\n  widgetProperties: AccountStatementListWidgetProperties = {};\n\n  constructor(\n    private readonly service: AccountStatementDataService,\n    propertiesService: AccountStatementListWidgetPropertiesService,\n  ) {\n    super(propertiesService);\n\n    this.accounts.data = this.service.loadAccounts().pipe(\n      tap((accounts: Accounts | null) => {\n        if (accounts && accounts.length) {\n          const initialAccount = this.getInitialSelectedAccount(accounts);\n          this.selectAccount(initialAccount);\n        }\n      }),\n      catchError(() => {\n        this.accounts.error = true;\n        return of([]);\n      }),\n      shareReplay(1),\n    );\n\n    const params: Observable<AccountStatementGetReqParams> = combineLatest([\n      this.selectedAccount.pipe(\n        map(({ id }) => id),\n        distinctUntilChanged(),\n      ),\n      this.loadingParams,\n      this.sortingParams,\n      this.filterParams.pipe(\n        distinctUntilChanged(\n          (prev, cur) =>\n            simpleArrayCompare(prev.category, cur.category) &&\n            prev.dateFrom === cur.dateFrom &&\n            prev.dateTo === cur.dateTo,\n        ),\n        tap(filterParams => (this.accountStatements.areFiltersApplied = this.areFiltersApplied(filterParams))),\n      ),\n    ]).pipe(\n      map(\n        ([accountId, loadingParams, sortingParams, filterParams]) =>\n          ({\n            accountId,\n            ...loadingParams,\n            ...(sortingParams.direction && { ...sortingParams }),\n            ...filterParams,\n          } as AccountStatementGetReqParams),\n      ),\n      distinctUntilChanged((prev, cur) => {\n        if (cur.from === prev.from && cur.from !== DEFAULT_FROM_VALUE) {\n          this.setLoadingParams({ from: DEFAULT_FROM_VALUE });\n          return true;\n        }\n\n        return false;\n      }),\n    );\n\n    this.accountStatements.data = params.pipe(\n      startWith({} as AccountStatementGetReqParams),\n      pairwise(),\n      tap(([oldParams, newParams]) => {\n        this.accountStatements.isLoading = smartLoadingState(oldParams, {\n          ...newParams,\n          paginationType: this.widgetProperties.paginationType,\n        });\n        this.accountStatements.error = false;\n      }),\n      switchMap(\n        ([, newParams]): Observable<[AccountStatementGetReqParams, AccountStatement[] | null]> =>\n          this.getAccountStatements(newParams).pipe(\n            tap(\n              (response: ProccessedAccountStatementsRawData) =>\n                (this.accountStatements.totalCount = response && response.totalCount),\n            ),\n            map((response: ProccessedAccountStatementsRawData) => [newParams, response && response.data]),\n          ),\n      ),\n      scan(\n        (\n          acc: AccountStatement[],\n          [reqParams, cur]: [AccountStatementGetReqParams, AccountStatement[] | null],\n        ): AccountStatement[] => {\n          if (\n            this.widgetProperties.paginationType === PaginationType.LoadMore &&\n            reqParams.from !== DEFAULT_FROM_VALUE\n          ) {\n            return [...acc, ...(cur || [])];\n          } else {\n            return [...(cur || [])];\n          }\n        },\n        [],\n      ),\n      tap(() => (this.accountStatements.isLoading = LoadingState.IDLE)),\n    );\n\n    this.categories.data = this.showCategory.pipe(\n      filter(Boolean),\n      switchMap(() =>\n        this.service.loadCategories().pipe(\n          catchError(() => {\n            this.categories.error = true;\n            return of([]);\n          }),\n        ),\n      ),\n    );\n  }\n\n  ngOnInit() {\n    this.propertiesService.widgetProperties$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(properties => (this.widgetProperties = properties));\n  }\n\n  // TODO: Merge these getters into one observable subscription that would produce object with all widget properties\n  get pageSize(): Observable<number> {\n    return this.propertiesService.pageSize$;\n  }\n\n  get sortingOrder(): Observable<string> {\n    return this.propertiesService.sortingOrder$;\n  }\n\n  get sortingDirection(): Observable<string> {\n    return this.propertiesService.sortingDirection$;\n  }\n\n  get showDescription(): Observable<boolean> {\n    return this.propertiesService.showDescription$;\n  }\n\n  get showCategory(): Observable<boolean> {\n    return this.propertiesService.showCategory$;\n  }\n\n  get notificationDismissTimeProperty(): Observable<number> {\n    return this.propertiesService.notificationDismissTime$;\n  }\n\n  setFilterParams(params: FilterParams) {\n    this.filterParams.next(params);\n  }\n\n  setSortingParams(params: SortingParams) {\n    this.sortingParamsNew.next(params);\n  }\n\n  setLoadingParams(params: LoadingParams) {\n    this.loadingParamsNew.next({ ...params });\n  }\n\n  setPageNumber(page: number) {\n    this.loadingParamsNew.next({\n      ...this.loadingParamsNew.getValue(),\n      from: page,\n    });\n  }\n\n  selectAccount(account: AccountItem | ProductSummaryItem | undefined): void {\n    this.selectedAccount.next(account);\n  }\n\n  getInitialSelectedAccount = (accounts: Accounts): AccountItem => {\n    const accountId: string | null = window.localStorage.getItem(STORAGE_ACCOUNT_SELECTED_KEY);\n    return accounts.find(item => item.id === accountId) || accounts[0];\n  };\n\n  getAccountStatements(params: AccountStatementGetReqParams = {}): Observable<ProccessedAccountStatementsRawData> {\n    return this.service.loadAccountStatements(params).pipe(\n      catchError(() => {\n        this.accountStatements.error = true;\n        return of({ data: [], totalCount: 0 });\n      }),\n    );\n  }\n\n  private areFiltersApplied(filterParams: FilterParams): boolean {\n    const areCategoriesApplied = !!filterParams.category && filterParams.category.length !== 0;\n    const isBookDateApplied = !!filterParams.dateFrom && !!filterParams.dateTo;\n    return areCategoriesApplied || isBookDateApplied;\n  }\n\n  private get initializeMinimalDateFilterLimit() {\n    return combineLatest([\n      this.propertiesService.absoluteDateLimit$.pipe(takeUntil(this.destroy$)),\n      this.propertiesService.relativeDateLimit$.pipe(takeUntil(this.destroy$)),\n    ]).pipe(\n      map(([absoluteDateLimit, relativeMonthLimit]) => {\n        // this sets default value to the first millisecond of Unix date\n        const limitDate = getDateFilterLimit(absoluteDateLimit, relativeMonthLimit);\n        return convertDateObjToDateStruct(limitDate);\n      }),\n    );\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n}\n\n@Directive({\n  selector: '[bbAccountStatementListCustomizable]',\n})\nexport class AccountStatementListCustomizableDirective extends BbTemplate<\n  AccountStatementListWidgetComponent,\n  {\n    accounts: ProductSummaryItem[];\n    accountsError?: Error;\n    categories?: string[];\n    accountStatements: AccountStatement[];\n    selectedAccount: AccountItem | ProductSummaryItem;\n  }\n> {}\n","<ng-container\n  bbAccountStatementListCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    accounts: (accountsData | async)!,\n    accountsError: accountsError,\n    categories: (categories.data | async)!,\n    accountStatements: (accountStatements.data | async)!,\n    selectedAccount: (selectedAccount | async)!\n  }\"\n></ng-container>\n\n<ng-template\n  bbAccountStatementListCustomizable\n  let-host\n  let-accounts=\"context.accounts\"\n  let-accountsError=\"context.accountsError\"\n  let-categories=\"context.categories\"\n  let-selectedAccount=\"context.selectedAccount\"\n  let-accountStatements=\"context.accountStatements\"\n>\n  <div aria-live=\"polite\">\n    <ng-container *ngIf=\"accounts; else loadingState\">\n      <ng-container *ngIf=\"!accountsError; else errorStateAccounts\">\n        <ng-container *ngIf=\"accounts.length; else emptyStateAccounts\">\n          <div class=\"bb-block bb-block--xl\">\n            <bb-account-statement-account-selector\n              [accounts]=\"accounts\"\n              (accountSelect)=\"host.selectAccount($event)\"\n            ></bb-account-statement-account-selector>\n          </div>\n\n          <div class=\"card\">\n            <ng-container\n              *ngIf=\"\n                accountStatements && host.accountStatements.isLoading !== host.loadingStates.LOADING;\n                else loadingState\n              \"\n            >\n              <ng-container *ngIf=\"!host.accountStatements.error; else errorStateAccountStatements\">\n                <ng-container\n                  *ngIf=\"\n                    accountStatements.length ||\n                      host.accountStatements.areFiltersApplied ||\n                      host.accountStatements.isLoading === host.loadingStates.LOADING_FILTERED;\n                    else emptyStateAccountStatements\n                  \"\n                >\n                  <bb-account-statement-filter-form\n                    [categories]=\"categories\"\n                    [filtersApplied]=\"host.accountStatements.areFiltersApplied\"\n                    [filterParams]=\"(host.filterParams | async)!\"\n                    (filtersChange)=\"host.setFilterParams($event)\"\n                    [showCategory]=\"host.showCategory | async\"\n                    [minDate]=\"(host.minimalDate | async)!\"\n                    [maxDate]=\"host.maximumDate\"\n                  ></bb-account-statement-filter-form>\n\n                  <ng-container\n                    *ngIf=\"host.accountStatements.isLoading !== host.loadingStates.LOADING_FILTERED; else loadingState\"\n                  >\n                    <ng-container *ngIf=\"accountStatements.length; else emptyStateAccountStatementsFiltered\">\n                      <bb-account-statement-table\n                        class=\"bb-block card-section\"\n                        [accountStatements]=\"accountStatements\"\n                        [showCategory]=\"(host.showCategory | async)!\"\n                        [showDescription]=\"(host.showDescription | async)!\"\n                        [sortingParams]=\"host.sortingParams | async\"\n                        [notificationDismissTimeProperty]=\"(host.notificationDismissTimeProperty | async)!\"\n                        [loading]=\"host.accountStatements.isLoading === host.loadingStates.LOADING_TABLE\"\n                        (sortingParamsChange)=\"host.setSortingParams($event)\"\n                      ></bb-account-statement-table>\n                      <!--Temporary add $any. Remove it once we remove the extension slots-->\n                      <bb-account-statement-pagination\n                        [paginationType]=\"host.widgetProperties.paginationType\"\n                        [loading]=\"host.accountStatements.isLoading === host.loadingStates.LOADING_MORE\"\n                        [itemsPerPage]=\"host.widgetProperties.pageSize\"\n                        [page]=\"$any(host.loadingParams | async).from\"\n                        [count]=\"host.accountStatements?.totalCount\"\n                        [hasMore]=\"accountStatements.length !== host.accountStatements?.totalCount\"\n                        (loadMore)=\"host.setPageNumber($event)\"\n                        (pageChange)=\"host.setPageNumber($event)\"\n                      >\n                      </bb-account-statement-pagination>\n                    </ng-container>\n                  </ng-container>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n          </div>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </div>\n\n  <ng-template #loadingState>\n    <bb-loading-indicator-ui\n      loaderSize=\"md\"\n      i18n-text=\"Loading data...|Loading title@@accountStatement.loading.title\"\n      text=\"Loading data...\"\n    ></bb-loading-indicator-ui>\n  </ng-template>\n\n  <ng-template #emptyStateAccounts>\n    <div class=\"card\">\n      <bb-empty-state-ui\n        class=\"bb-state-container\"\n        iconSize=\"xxl\"\n        iconModifier=\"current-accounts\"\n        i18n-title=\"No Account selected|Accounts state title theme two@@accountStatement.accounts.state.title.theme.two\"\n        title=\"No account selected\"\n        i18n-subtitle=\"\n          You need to select account in order to view account statements|Accounts state subtitle theme\n          two@@accountStatement.accounts.state.subtitle.theme.two\"\n        subtitle=\"You need to select account in order to view account statements\"\n      ></bb-empty-state-ui>\n    </div>\n  </ng-template>\n\n  <ng-template #errorStateAccounts>\n    <div class=\"card\">\n      <bb-empty-state-ui\n        class=\"bb-state-container\"\n        data-role=\"accounts-error-state\"\n        iconSize=\"xxl\"\n        iconModifier=\"error\"\n        subtitle=\"Try to reload the page or contact the system administrator.\"\n        i18n-subtitle=\"Account list error state subtitle@@accountStatement.account-list.error-state.subtitle\"\n        title=\"Account list is not loading\"\n        i18n-title=\"Account list is not loading error state title@@accountStatement.account-list.error-state.title\"\n      >\n      </bb-empty-state-ui>\n    </div>\n  </ng-template>\n\n  <ng-template #emptyStateAccountStatements>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      iconSize=\"xxl\"\n      iconModifier=\"description\"\n      i18n-title=\"\n        No Account Statements found|Account statements state title theme\n        two@@accountStatement.statements.state.title.theme2\"\n      title=\"No Account Statements for selected account\"\n      i18n-subtitle=\"\n        You don't have any account statements to be displayed for this account|Account statements state subtitle theme\n        two@@accountStatement.statements.state.subtitle.theme2\"\n      subtitle=\"You don't have any account statements to be displayed for this account\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #emptyStateAccountStatementsFiltered>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      iconSize=\"xxl\"\n      iconModifier=\"search\"\n      i18n-title=\"\n        No Results Found|Account statements filtered state title@@accountStatement.statements.filtered.state.title\"\n      title=\"No Results Found\"\n      i18n-subtitle=\"\n        We can’t find what you’re looking for. Please try a different criteria.|Account statements filtered state\n        subtitle@@accountStatement.statements.filtered.state.subtitle\"\n      subtitle=\"We can’t find what you’re looking for. Please try a different criteria.\"\n    ></bb-empty-state-ui>\n  </ng-template>\n\n  <ng-template #errorStateAccountStatements>\n    <bb-empty-state-ui\n      class=\"bb-state-container\"\n      data-role=\"account-statements-error-state\"\n      iconSize=\"xxl\"\n      iconModifier=\"error\"\n      subtitle=\"Try to reload the page or contact the system administrator.\"\n      i18n-subtitle=\"Account statements list error state subtitle@@accountStatement.statement-list.error-state.subtitle\"\n      title=\"Account statement list is not loading\"\n      i18n-title=\"\n        Account statement list is not loading error state title@@accountStatement.statement-list.error-state.title\"\n    >\n    </bb-empty-state-ui>\n  </ng-template>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AccountStatementCommonModule } from '@backbase/account-statement-common-ang';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport {\n  AccountStatementListCustomizableDirective,\n  AccountStatementListWidgetComponent,\n} from './account-statement-list-widget.component';\n\nimport {\n  AccountStatementFilterFormComponent,\n  AccountStatementFilterFormCustomizableDirective,\n} from './components/account-statement-filter-form/account-statement-filter-form.component';\nimport {\n  AccountStatementDownloadFailureNotificationHeaderCustomizableDirective,\n  AccountStatementTableRowComponent,\n  AccountStatementTableRowCustomizableDirective,\n} from './components/account-statement-table-row/account-statement-table-row.component';\nimport {\n  AccountStatementTableComponent,\n  AccountStatementTableCustomizableDirective,\n} from './components/account-statement-table/account-statement-table.component';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { DropdownMultiSelectModule } from '@backbase/ui-ang/dropdown-multi-select';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { InputDatepickerModule } from '@backbase/ui-ang/input-datepicker';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { ListMultipleSelectModule } from '@backbase/ui-ang/list-multiple-select';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ProductItemBasicAccountModule } from '@backbase/ui-ang/product-item-basic-account';\nimport { ProductSelectorModule } from '@backbase/ui-ang/product-selector';\nimport { TableModule } from '@backbase/ui-ang/table';\nimport { NotificationModule } from '@backbase/ui-ang/notification';\nimport { BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\n\nconst components = [\n  AccountStatementListWidgetComponent,\n  AccountStatementFilterFormComponent,\n  AccountStatementTableComponent,\n  AccountStatementTableRowComponent,\n];\n\nconst directives = [\n  AccountStatementListCustomizableDirective,\n  AccountStatementFilterFormCustomizableDirective,\n  AccountStatementTableCustomizableDirective,\n  AccountStatementTableRowCustomizableDirective,\n  AccountStatementDownloadFailureNotificationHeaderCustomizableDirective,\n];\n\nconst uiModules = [\n  NgbDropdownModule,\n  ButtonModule,\n  CollapsibleModule,\n  DropdownMenuModule,\n  EmptyStateModule,\n  IconModule,\n  InputDatepickerModule,\n  InputValidationMessageModule,\n  ListMultipleSelectModule,\n  LoadingIndicatorModule,\n  ProductItemBasicAccountModule,\n  ProductSelectorModule,\n  DropdownMultiSelectModule,\n  TableModule,\n  NotificationModule,\n  BbDatePipeModule,\n];\n\n@NgModule({\n  declarations: [...components, ...directives],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AccountStatementCommonModule,\n    BackbaseCoreModule.withConfig({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      classMap: { AccountStatementListWidgetComponent },\n    }),\n    ...uiModules,\n  ],\n  exports: [AccountStatementCommonModule, ...components, ...directives, ...uiModules],\n})\nexport class AccountStatementListWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["BehaviorSubject","combineLatest","map","PaginationType","of","modelItemToBoolean","AccountStatementBasePropertiesService","Injectable","Optional","EventEmitter","Subject","Component","Input","Output","ViewChild","BbTemplate","Directive","mimeTypeExtensions","ChangeDetectionStrategy","LoadingState","convertDateObjToDateStruct","today","convertDateStructToDateObj","takeUntil","ACCOUNTS_REQUEST_ALL_SIZE","tap","catchError","shareReplay","distinctUntilChanged","simpleArrayCompare","startWith","pairwise","smartLoadingState","switchMap","scan","filter","getDateFilterLimit","AccountStatementBaseWidgetComponent","NgbDropdownModule","ButtonModule","CollapsibleModule","DropdownMenuModule","EmptyStateModule","IconModule","InputDatepickerModule","InputValidationMessageModule","ListMultipleSelectModule","LoadingIndicatorModule","ProductItemBasicAccountModule","ProductSelectorModule","DropdownMultiSelectModule","TableModule","NotificationModule","BbDatePipeModule","CommonModule","FormsModule","ReactiveFormsModule","AccountStatementCommonModule","BackbaseCoreModule","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;;;;;;;;;;;;;;IAcA;IAEA,IAAI,aAAa,GAAG,UAAS,CAAC,EAAE,CAAC;QAC7B,aAAa,GAAG,MAAM,CAAC,cAAc;aAChC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,UAAU,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC;gBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACtG,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;aAEc,SAAS,CAAC,CAAC,EAAE,CAAC;QAC1B,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;YACrC,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;QAC9F,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;IAEM,IAAI,QAAQ,GAAG;QAClB,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC;YAC3C,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,IAAI,CAAC,IAAI,CAAC;oBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;wBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aAChF;YACD,OAAO,CAAC,CAAC;SACZ,CAAA;QACD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,CAAC,CAAA;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC/E,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;YAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACzB;QACL,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;QACpD,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;YAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;oBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;aAEe,OAAO,CAAC,UAAU,EAAE,SAAS;QACzC,OAAO,UAAU,MAAM,EAAE,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE,CAAA;IACzE,CAAC;aAEe,UAAU,CAAC,WAAW,EAAE,aAAa;QACjD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;aAEe,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;QACvD,SAAS,KAAK,CAAC,KAAK,IAAI,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC5G,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM;YACrD,SAAS,SAAS,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC3F,SAAS,QAAQ,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC9F,SAAS,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;YAC9G,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SACzE,CAAC,CAAC;IACP,CAAC;aAEe,WAAW,CAAC,OAAO,EAAE,IAAI;QACrC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,cAAa,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAa,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACzJ,SAAS,IAAI,CAAC,CAAC,IAAI,OAAO,UAAU,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAClE,SAAS,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC;gBAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;YAC9D,OAAO,CAAC;gBAAE,IAAI;oBACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI;wBAAE,OAAO,CAAC,CAAC;oBAC7J,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;wBAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;oBACxC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACT,KAAK,CAAC,CAAC;wBAAC,KAAK,CAAC;4BAAE,CAAC,GAAG,EAAE,CAAC;4BAAC,MAAM;wBAC9B,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;wBACxD,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;4BAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;4BAAC,SAAS;wBACjD,KAAK,CAAC;4BAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;wBACjD;4BACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;gCAAE,CAAC,GAAG,CAAC,CAAC;gCAAC,SAAS;6BAAE;4BAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,GAAG,EAAE,CAAC;gCAAC,MAAM;6BAAE;4BACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACnE,IAAI,CAAC,CAAC,CAAC,CAAC;gCAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;qBAC9B;oBACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;iBAC9B;gBAAC,OAAO,CAAC,EAAE;oBAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAAC,CAAC,GAAG,CAAC,CAAC;iBAAE;wBAAS;oBAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAAE;YAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACpF;IACL,CAAC;IAEM,IAAI,eAAe,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;QAC9D,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,cAAa,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC,KAAK,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;aAEa,YAAY,CAAC,CAAC,EAAE,CAAC;QAC7B,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;gBAAE,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClH,CAAC;aAEe,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAC9E,IAAI,CAAC;YAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ;YAAE,OAAO;gBAC1C,IAAI,EAAE;oBACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;wBAAE,CAAC,GAAG,KAAK,CAAC,CAAC;oBACnC,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;iBAC3C;aACJ,CAAC;QACF,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI;YACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;gBAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC9E;QACD,OAAO,KAAK,EAAE;YAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;SAAE;gBAC/B;YACJ,IAAI;gBACA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;oBAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpD;oBACO;gBAAE,IAAI,CAAC;oBAAE,MAAM,CAAC,CAAC,KAAK,CAAC;aAAE;SACpC;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,QAAQ;QACpB,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9C,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,cAAc;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QACpF,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAC5C,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC7D,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI;QACxC,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC;YAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjF,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;oBACpB,IAAI,CAAC,EAAE;wBAAE,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrD,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;iBACnB;aACJ;QACD,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D,CAAC;aAEe,OAAO,CAAC,CAAC;QACrB,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;aAEe,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS;QAC3D,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QAC9D,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QACtH,SAAS,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAC1I,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAAE;QAAC,OAAO,CAAC,EAAE;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAAE,EAAE;QAClF,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;QACxH,SAAS,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;aAEe,gBAAgB,CAAC,CAAC;QAC9B,IAAI,CAAC,EAAE,CAAC,CAAC;QACT,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5I,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;aAEe,aAAa,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACjN,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAChK,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,IAAI,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;aAEe,oBAAoB,CAAC,MAAM,EAAE,GAAG;QAC5C,IAAI,MAAM,CAAC,cAAc,EAAE;YAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;SAAE;aAAM;YAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;SAAE;QAC/G,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IAEF,IAAI,kBAAkB,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC;QACnD,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IACxE,CAAC,IAAI,UAAS,CAAC,EAAE,CAAC;QACd,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC;aAEc,YAAY,CAAC,GAAG;QAC5B,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU;YAAE,OAAO,GAAG,CAAC;QACtC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,GAAG,IAAI,IAAI;YAAE,KAAK,IAAI,CAAC,IAAI,GAAG;gBAAE,IAAI,CAAC,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,eAAe,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QACzI,kBAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QAChC,OAAO,MAAM,CAAC;IAClB,CAAC;aAEe,eAAe,CAAC,GAAG;QAC/B,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAC3D,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,0EAA0E,CAAC,CAAC;QACnL,OAAO,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAClG,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAClE,IAAI,IAAI,KAAK,GAAG;YAAE,MAAM,IAAI,SAAS,CAAC,gCAAgC,CAAC,CAAC;QACxE,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,yEAAyE,CAAC,CAAC;QAClL,OAAO,CAAC,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9G;;IC9OA;IACO,IAAM,oBAAoB,GAAG;QAClC,gBAAgB,EAAE,qCAAqC;QACvD,eAAe,EAAE,oCAAoC;KACtD;;;QCWgE,+DAAqC;QAGpG,qDAAwB,SAAoB;YAA5C,YACE,kBAAM,SAAS,CAAC,SACjB;YAJgB,uBAAiB,GAAG,IAAIA,oBAAe,CAAsB,SAAS,CAAC,CAAC;;YAOhF,sBAAgB,GAAG,KAAI,CAAC,kBAAkB,CAAC,KAAI,CAAC,iBAAiB,EAAE,KAAI,CAAC,kBAAkB,CAAC,CAAC;YAC5F,uBAAiB,GAAqDC,kBAAa,CAAC;gBAC3F,KAAI,CAAC,SAAS;gBACd,KAAI,CAAC,aAAa;gBAClB,KAAI,CAAC,iBAAiB;gBACtB,KAAI,CAAC,wBAAwB;gBAC7B,KAAI,CAAC,aAAa;gBAClB,KAAI,CAAC,gBAAgB;gBACrB,KAAI,CAAC,kBAAkB;gBACvB,KAAI,CAAC,kBAAkB;gBACvB,KAAI,CAAC,eAAe;aACrB,CAAC,CAAC,IAAI,CACLC,aAAG,CACD,UAAC,EAUO;oBAVP,KAAA,aAUO,EATN,QAAQ,QAAA,EACR,YAAY,QAAA,EACZ,gBAAgB,QAAA,EAChB,+BAA+B,QAAA,EAC/B,YAAY,QAAA,EACZ,eAAe,QAAA,EACf,iBAAiB,QAAA,EACjB,iBAAiB,QAAA,EACjB,cAAc,QAAA;gBACH,QAAC;oBACZ,QAAQ,UAAA;oBACR,YAAY,cAAA;oBACZ,gBAAgB,kBAAA;oBAChB,+BAA+B,iCAAA;oBAC/B,YAAY,cAAA;oBACZ,eAAe,iBAAA;oBACf,iBAAiB,mBAAA;oBACjB,iBAAiB,mBAAA;oBACjB,cAAc,gBAAA;iBACf;aAAC,CACH,CACF,CAAC;;SAtCD;;QA0CD,wEAAkB,GAAlB,UAAmB,KAA0B;YAC3C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;QAES,0EAAoB,GAApB;;YACR,IAAM,YAAY,GAAGC,iBAAc,CAAC,QAAQ,CAAC;YAC7C,OAAO,CAAA,MAAA,IAAI,CAAC,SAAS,0CAAE,QAAQ,CAAC,oBAAoB,CAAC,eAAe,EAAE,YAAY,CAAC,KAAIC,OAAE,CAAC,YAAY,CAAC,CAAC;SACzG;QAED,sBAAY,2EAAkB;iBAA9B;;gBACE,IAAM,YAAY,GAAG,IAAI,CAAC;gBAC1B,QACE,CAAA,MAAA,IAAI,CAAC,SAAS,0CAAE,QAAQ,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,YAAY,EAAE,IAAI,CAACF,aAAG,CAACG,qBAAkB,CAAC,CAAC;oBAC3GD,OAAE,CAAC,YAAY,CAAC,EAChB;aACH;;;WAAA;;KA9DH,CAAiEE,wCAAqC;mKAAzF,2CAA2C;uKAA3C,2CAA2C;sHAA3C,2CAA2C;sBADvDC,aAAU;;;kCAIIC,WAAQ;;;;;QCqCrB,6CAA6B,EAAe;YAAf,OAAE,GAAF,EAAE,CAAa;;;;YA7BnC,eAAU,GAAe,EAAE,CAAC;;;;YAK5B,iBAAY,GAA+B,IAAI,CAAC;;;;YAKhD,mBAAc,GAAG,KAAK,CAAC;YAEvB,iBAAY,GAAiB,EAAE,CAAC;;;;YAS/B,kBAAa,GAAG,IAAIC,eAAY,EAAgB,CAAC;YAI3D,eAAU,GAAc,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACjC,YAAO,GAAG,IAAI,CAAC;YACP,gBAAW,GAAG,IAAIC,YAAO,EAAQ,CAAC;SAEH;QAEhD,sDAAQ,GAAR;YACE,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;QAED,yDAAW,GAAX;YACE,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;SAC7B;QAED,wDAAU,GAAV;;YACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;gBAC9B,UAAU,EAAE,CAAC,CAAA,MAAA,IAAI,CAAC,YAAY,0CAAE,QAAQ,KAAI,EAAE,CAAC;gBAC/C,QAAQ,EAAE,CAAA,MAAA,IAAI,CAAC,YAAY,0CAAE,QAAQ;sBACjC;wBACE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;wBAChC,EAAE,EAAE,MAAA,IAAI,CAAC,YAAY,0CAAE,MAAM;qBAC9B;sBACD,EAAE;aACP,CAAC,CAAC;SACJ;QAED,uDAAS,GAAT;YACE,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED,sDAAQ,GAAR;YACE,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC;YACrE,IAAA,KACJ,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,KAAK,EAAE,EAD/D,YAAmB,EAAb,QAAQ,mBAAG,EAAE,KAAA,EAAE,UAAe,EAAX,MAAM,mBAAG,EAAE,KAC2B,CAAC;YAExE,IAAI,CAAC,aAAa,CAAC,IAAI,+BACrB,QAAQ,EAAE,eAAe,KACrB,QAAQ,IAAI;gBACd,QAAQ,UAAA;aACT,KACG,CAAC,MAAM,IAAI,QAAQ,KAAK;gBAC1B,MAAM,EAAE,MAAM,IAAI,QAAQ;aAC3B,GACD,CAAC;YAEH,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;YACjC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED,+DAAiB,GAAjB;YACE,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACzC;SACF;;;2JArFU,mCAAmC;oIAAnC,mCAAmC,0ZCtBhD,4+MAuJA,mlDDxCa,+CAA+C;sHAzF/C,mCAAmC;sBAJ/CC,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,gDAAgD;qBAC9D;mHAKU,UAAU;0BAAlBC,QAAK;oBAKG,YAAY;0BAApBA,QAAK;oBAKG,cAAc;0BAAtBA,QAAK;oBAEG,YAAY;0BAApBA,QAAK;oBAEG,OAAO;0BAAfA,QAAK;oBAEG,OAAO;0BAAfA,QAAK;oBAKI,aAAa;0BAAtBC,SAAM;oBAEoB,YAAY;0BAAtCC,YAAS;2BAAC,cAAc;;;QA8D0C,mEAGpE;QAHD;;;;KAAA,CAAqEC,eAGpE;uKAHY,+CAA+C;gJAA/C,+CAA+C;sHAA/C,+CAA+C;sBAD3DC,YAAS;uBAAC,EAAE,QAAQ,EAAE,4CAA4C,EAAE;;;;QEpCnE,2CACmB,WAAwC,EACxC,oBAAyC;YADzC,gBAAW,GAAX,WAAW,CAA6B;YACxC,yBAAoB,GAApB,oBAAoB,CAAqB;;;;YApDnD,oBAAe,GAAmB,IAAI,CAAC;;;;YAKvC,iBAAY,GAAmB,IAAI,CAAC;;;;YAKpC,oCAA+B,GAAG,CAAC,CAAC;;;;;YAQpC,+BAA0B,GAAG,iCAAiC,CAAC,GAAG,EAAE,CAAC;YAErE,uBAAkB,GAAuBC,qBAAkB,CAAC;YAyBrE,oBAAe,GAAG,EAAE,CAAC;YACZ,YAAO,GAAG,IAAI,CAAC;SAOpB;QA5BJ,sBACI,mDAAI;iBAcR;gBACE,OAAO,IAAI,CAAC,SAAS,CAAC;aACvB;;;;iBAjBD,UACS,KAAmC;gBAD5C,iBAaC;gBAXC,IAAI,KAAK,EAAE;oBACT,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,WAAW,KAAK,iBAAiB,GAAA,CAAC,CAAC;oBAChG,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;oBAC1F,IAAI,CAAC,SAAS,mCACT,KAAK,KACR,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,QAAQ,IAAI,wCACtC,QAAQ,KACX,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OACnC,CAAC,GACJ,CAAC;iBACH;aACF;;;WAAA;QAiBD,6DAAiB,GAAjB;YACE,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC;gBACzC,MAAM,EAAE,IAAI,CAAC,iCAAiC;gBAC9C,OAAO,EAAE,EAAE;gBACX,QAAQ,EAAE,OAAO;gBACjB,GAAG,EAAE,IAAI,CAAC,+BAA+B;aAC1C,CAAC,CAAC;SACJ;QAEO,2DAAe,GAAf,UAAgB,QAAkC;YACxD,OAAO,QAAQ,CAAC,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,8BAA8B,CAAC,QAAQ,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;SAC5F;;;IAvEc,qCAAG,GAAG,CAAC,CAAC;yJADZ,iCAAiC;kIAAjC,iCAAiC,6YClB9C,0yKAqHA,ijBDvBa,6CAA6C,qkBAQ7C,sEAAsE;sHApFtE,iCAAiC;sBAN7CN,YAAS;uBAAC;;wBAET,QAAQ,EAAE,oCAAoC;wBAC9C,WAAW,EAAE,8CAA8C;wBAC3D,eAAe,EAAEO,0BAAuB,CAAC,MAAM;qBAChD;kLAOU,eAAe;0BAAvBN,QAAK;oBAKG,YAAY;0BAApBA,QAAK;oBAKG,+BAA+B;0BAAvCA,QAAK;oBAE0C,iCAAiC;0BAAhFE,YAAS;2BAAC,mCAAmC;oBAc1C,IAAI;0BADPF,QAAK;;;QA6C2D,iEAGlE;QAHD;;;;KAAA,CAAmEG,eAGlE;qKAHY,6CAA6C;8IAA7C,6CAA6C;sHAA7C,6CAA6C;sBADzDC,YAAS;uBAAC,EAAE,QAAQ,EAAE,0CAA0C,EAAE;;;QASyB,0FAG3F;QAHD;;;;KAAA,CAA4FD,eAG3F;8LAHY,sEAAsE;uKAAtE,sEAAsE;sHAAtE,sEAAsE;sBAHlFC,YAAS;uBAAC;wBACT,QAAQ,EAAE,mEAAmE;qBAC9E;;;;QE7FD;;;;YAQW,sBAAiB,GAA0C,EAAE,CAAC;;;;;;YAO9D,oBAAe,GAAG,IAAI,CAAC;;;;;;YAOvB,iBAAY,GAAG,IAAI,CAAC;YAOpB,YAAO,GAAG,KAAK,CAAC;;;;YAKhB,oCAA+B,GAAG,CAAC,CAAC;;;;YAKnC,wBAAmB,GAAG,IAAIP,eAAY,EAAiB,CAAC;YAElE,YAAO,GAAG,IAAI,CAAC;SAQhB;QANC,+CAAM,GAAN,UAAO,MAAiB;YACtB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC;gBAC5B,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,WAAW,EAAmB;gBAC1D,OAAO,EAAE,MAAM,CAAC,MAAM;aACvB,CAAC,CAAC;SACJ;;;sJA5CU,8BAA8B;+HAA9B,8BAA8B,oXCZ3C,ssHAmGA,8gBDvCa,0CAA0C;sHAhD1C,8BAA8B;sBAJ1CE,YAAS;uBAAC;wBACT,QAAQ,EAAE,4BAA4B;wBACtC,WAAW,EAAE,0CAA0C;qBACxD;kCAKU,iBAAiB;0BAAzBC,QAAK;oBAOG,eAAe;0BAAvBA,QAAK;oBAOG,YAAY;0BAApBA,QAAK;oBAKG,aAAa;0BAArBA,QAAK;oBAEG,OAAO;0BAAfA,QAAK;oBAKG,+BAA+B;0BAAvCA,QAAK;oBAKI,mBAAmB;0BAA5BC,SAAM;;;QAauD,8DAAgD;QAAhH;;;;KAAA,CAAgEE,eAAgD;kKAAnG,0CAA0C;2IAA1C,0CAA0C;sHAA1C,0CAA0C;sBADtDC,YAAS;uBAAC,EAAE,QAAQ,EAAE,uCAAuC,EAAE;;;IEVhE,IAAM,4BAA4B,GAAG,qBAAqB,CAAC;IACpD,IAAM,kBAAkB,GAAG,CAAC,CAAC;;QAQ1B,uDAAgF;QA8FxF,6CACmB,OAAoC,EACrD,iBAA8D;YAFhE,YAIE,kBAAM,iBAAiB,CAAC,SAsGzB;YAzGkB,aAAO,GAAP,OAAO,CAA6B;YApF9C,aAAO,GAAG,KAAI,CAAC;YACf,mBAAa,GAAGG,eAAY,CAAC;YAEtC,cAAQ,GAAkB;gBACxB,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,KAAK;aACb,CAAC;YACF,gBAAU,GAAoB;gBAC5B,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,KAAK;aACb,CAAC;YACF,uBAAiB,GAA2B;gBAC1C,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,KAAK;gBACZ,UAAU,EAAE,SAAS;gBACrB,SAAS,EAAEA,eAAY,CAAC,IAAI;gBAC5B,iBAAiB,EAAE,KAAK;aACzB,CAAC;YAEe,cAAQ,GAAG,IAAIT,YAAO,EAAQ,CAAC;;;;;YAMhD,iBAAW,GAA8B,KAAI,CAAC,gCAAgC,CAAC;;;;YAK/E,iBAAW,GAAkBU,6BAA0B,CAACC,QAAK,EAAE,CAAC,CAAC;YAExD,qBAAe,GAAG,IAAIX,YAAO,EAAoC,CAAC;;YAElE,sBAAgB,GAAG,IAAIV,oBAAe,CAAqB,EAAE,CAAC,CAAC;YAC/D,mBAAa,GAA8BC,kBAAa,CAAC;gBAChE,KAAI,CAAC,iBAAiB,CAAC,aAAa;gBACpC,KAAI,CAAC,iBAAiB,CAAC,iBAAiB;gBACxC,KAAI,CAAC,gBAAgB;aACtB,CAAC,CAAC,IAAI,CACLC,aAAG,CAAC,UAAC,EAA+B;oBAA/B,KAAA,aAA+B,EAA9B,OAAO,QAAA,EAAE,SAAS,QAAA,EAAE,SAAS,QAAA;gBAAM,wBACvC,OAAO,SAAA,EACP,SAAS,WAAA,IACN,SAAS;aACZ,CAAC,CACJ,CAAC;YACO,kBAAY,GAAG,IAAIF,oBAAe,CAAe,EAAE,CAAC,CAAC;YACrD,sBAAgB,GAAG,IAAIA,oBAAe,CAAgB;gBAC7D,IAAI,EAAE,kBAAkB;aACzB,CAAC,CAAC;YACM,mBAAa,GAAGC,kBAAa,CAAC;gBACrC,KAAI,CAAC,iBAAiB,CAAC,SAAS;gBAChC,KAAI,CAAC,gBAAgB;gBACrB,KAAI,CAAC,WAAW;aACjB,CAAC,CAAC,IAAI,CACLC,aAAG,CAAC,UAAC,EAA8B;oBAA9B,KAAA,aAA8B,EAA7B,IAAI,QAAA,EAAE,SAAS,QAAA,EAAE,WAAW,QAAA;gBAAM,wBACtC,IAAI,MAAA,EACJ,IAAI,EAAE,kBAAkB,EACxB,QAAQ,EAAEoB,6BAA0B,CAAC,WAAW,CAAC,EACjD,MAAM,EAAEA,6BAA0B,CAAC,KAAI,CAAC,WAAW,CAAC,IACjD,SAAS;aACZ,CAAC,EACHC,mBAAS,CAAC,KAAI,CAAC,QAAQ,CAAC,CACzB,CAAC;YAEF,mBAAa,GAAW,SAAS,CAAC;YAClC,kBAAY,GAAG,KAAI,CAAC,OAAO;iBACxB,WAAW,CAAC;gBACX,IAAI,EAAEC,4BAAyB;aAChC,CAAC;iBACD,IAAI,CACHtB,aAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,IAAI,GAAA,CAAC,EAC9BuB,aAAG,CAAC,UAAA,QAAQ;gBACV,KAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;aACjC,CAAC,EACFC,oBAAU,CAAC,UAAA,KAAK;gBACd,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,OAAOtB,OAAE,CAAC,EAAE,CAAC,CAAC;aACf,CAAC,CACH,CAAC;YAEJ,sBAAgB,GAAyC,EAAE,CAAC;YAoK5D,+BAAyB,GAAG,UAAC,QAAkB;gBAC7C,IAAM,SAAS,GAAkB,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC;gBAC3F,OAAO,QAAQ,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,EAAE,KAAK,SAAS,GAAA,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;aACpE,CAAC;YA/JA,KAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,KAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CACnDqB,aAAG,CAAC,UAAC,QAAyB;gBAC5B,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;oBAC/B,IAAM,cAAc,GAAG,KAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC;oBAChE,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;iBACpC;aACF,CAAC,EACFC,oBAAU,CAAC;gBACT,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,OAAOtB,OAAE,CAAC,EAAE,CAAC,CAAC;aACf,CAAC,EACFuB,qBAAW,CAAC,CAAC,CAAC,CACf,CAAC;YAEF,IAAM,MAAM,GAA6C1B,kBAAa,CAAC;gBACrE,KAAI,CAAC,eAAe,CAAC,IAAI,CACvBC,aAAG,CAAC,UAAC,EAAM;wBAAJ,EAAE,QAAA;oBAAO,OAAA,EAAE;iBAAA,CAAC,EACnB0B,8BAAoB,EAAE,CACvB;gBACD,KAAI,CAAC,aAAa;gBAClB,KAAI,CAAC,aAAa;gBAClB,KAAI,CAAC,YAAY,CAAC,IAAI,CACpBA,8BAAoB,CAClB,UAAC,IAAI,EAAE,GAAG,IACR,OAAAC,qBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,QAAQ,CAAC;oBAC/C,IAAI,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ;oBAC9B,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,GAAA,CAC7B,EACDJ,aAAG,CAAC,UAAA,YAAY,IAAI,QAAC,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,IAAC,CAAC,CACvG;aACF,CAAC,CAAC,IAAI,CACLvB,aAAG,CACD,UAAC,EAAuD;oBAAvD,KAAA,aAAuD,EAAtD,SAAS,QAAA,EAAE,aAAa,QAAA,EAAE,aAAa,QAAA,EAAE,YAAY,QAAA;gBACrD,QAAC,4CACC,SAAS,WAAA,IACN,aAAa,IACZ,aAAa,CAAC,SAAS,sBAAS,aAAa,CAAE,IAChD,YAAY,CACiB;aAAA,CACrC,EACD0B,8BAAoB,CAAC,UAAC,IAAI,EAAE,GAAG;gBAC7B,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,kBAAkB,EAAE;oBAC7D,KAAI,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC,CAAC;oBACpD,OAAO,IAAI,CAAC;iBACb;gBAED,OAAO,KAAK,CAAC;aACd,CAAC,CACH,CAAC;YAEF,KAAI,CAAC,iBAAiB,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CACvCE,mBAAS,CAAC,EAAkC,CAAC,EAC7CC,kBAAQ,EAAE,EACVN,aAAG,CAAC,UAAC,EAAsB;oBAAtB,KAAA,aAAsB,EAArB,SAAS,QAAA,EAAE,SAAS,QAAA;gBACxB,KAAI,CAAC,iBAAiB,CAAC,SAAS,GAAGO,oBAAiB,CAAC,SAAS,kCACzD,SAAS,KACZ,cAAc,EAAE,KAAI,CAAC,gBAAgB,CAAC,cAAc,IACpD,CAAC;gBACH,KAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,KAAK,CAAC;aACtC,CAAC,EACFC,mBAAS,CACP,UAAC,EAAa;oBAAb,KAAA,aAAa,EAAV,SAAS,QAAA;gBACX,OAAA,KAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,IAAI,CACvCR,aAAG,CACD,UAAC,QAA4C,IAC3C,QAAC,KAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,QAAQ,IAAI,QAAQ,CAAC,UAAU,IAAC,CACxE,EACDvB,aAAG,CAAC,UAAC,QAA4C,IAAK,OAAA,CAAC,SAAS,EAAE,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAA,CAAC,CAC9F;aAAA,CACJ,EACDgC,cAAI,CACF,UACE,GAAuB,EACvB,EAA2E;oBAA3E,KAAA,aAA2E,EAA1E,SAAS,QAAA,EAAE,GAAG,QAAA;gBAEf,IACE,KAAI,CAAC,gBAAgB,CAAC,cAAc,KAAK/B,iBAAc,CAAC,QAAQ;oBAChE,SAAS,CAAC,IAAI,KAAK,kBAAkB,EACrC;oBACA,8CAAW,GAAG,YAAM,GAAG,IAAI,EAAE,IAAG;iBACjC;qBAAM;oBACL,iCAAY,GAAG,IAAI,EAAE,IAAG;iBACzB;aACF,EACD,EAAE,CACH,EACDsB,aAAG,CAAC,cAAM,QAAC,KAAI,CAAC,iBAAiB,CAAC,SAAS,GAAGN,eAAY,CAAC,IAAI,IAAC,CAAC,CAClE,CAAC;YAEF,KAAI,CAAC,UAAU,CAAC,IAAI,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAC3CgB,gBAAM,CAAC,OAAO,CAAC,EACfF,mBAAS,CAAC,cACR,OAAA,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,IAAI,CAChCP,oBAAU,CAAC;gBACT,KAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC7B,OAAOtB,OAAE,CAAC,EAAE,CAAC,CAAC;aACf,CAAC,CACH,GAAA,CACF,CACF,CAAC;;SACH;QAjMD,sBAA8B,qEAAoB;;;;;iBAAlD,UAAmD,KAA0B;gBAC3E,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;aAClD;;;WAAA;QAiMD,sDAAQ,GAAR;YAAA,iBAIC;YAHC,IAAI,CAAC,iBAAiB,CAAC,iBAAiB;iBACrC,IAAI,CAACmB,mBAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC9B,SAAS,CAAC,UAAA,UAAU,IAAI,QAAC,KAAI,CAAC,gBAAgB,GAAG,UAAU,IAAC,CAAC,CAAC;SAClE;QAGD,sBAAI,yDAAQ;;iBAAZ;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;aACzC;;;WAAA;QAED,sBAAI,6DAAY;iBAAhB;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;aAC7C;;;WAAA;QAED,sBAAI,iEAAgB;iBAApB;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC;aACjD;;;WAAA;QAED,sBAAI,gEAAe;iBAAnB;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC;aAChD;;;WAAA;QAED,sBAAI,6DAAY;iBAAhB;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;aAC7C;;;WAAA;QAED,sBAAI,gFAA+B;iBAAnC;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,wBAAwB,CAAC;aACxD;;;WAAA;QAED,6DAAe,GAAf,UAAgB,MAAoB;YAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAChC;QAED,8DAAgB,GAAhB,UAAiB,MAAqB;YACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,8DAAgB,GAAhB,UAAiB,MAAqB;YACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,mBAAM,MAAM,EAAG,CAAC;SAC3C;QAED,2DAAa,GAAb,UAAc,IAAY;YACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,iCACrB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KACnC,IAAI,EAAE,IAAI,IACV,CAAC;SACJ;QAED,2DAAa,GAAb,UAAc,OAAqD;YACjE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACpC;QAOD,kEAAoB,GAApB,UAAqB,MAAyC;YAA9D,iBAOC;YAPoB,uBAAA,EAAA,WAAyC;YAC5D,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,IAAI,CACpDG,oBAAU,CAAC;gBACT,KAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC;gBACpC,OAAOtB,OAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;aACxC,CAAC,CACH,CAAC;SACH;QAEO,+DAAiB,GAAjB,UAAkB,YAA0B;YAClD,IAAM,oBAAoB,GAAG,CAAC,CAAC,YAAY,CAAC,QAAQ,IAAI,YAAY,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;YAC3F,IAAM,iBAAiB,GAAG,CAAC,CAAC,YAAY,CAAC,QAAQ,IAAI,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC;YAC3E,OAAO,oBAAoB,IAAI,iBAAiB,CAAC;SAClD;QAED,sBAAY,iFAAgC;iBAA5C;gBACE,OAAOH,kBAAa,CAAC;oBACnB,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,IAAI,CAACsB,mBAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACxE,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,IAAI,CAACA,mBAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACzE,CAAC,CAAC,IAAI,CACLrB,aAAG,CAAC,UAAC,EAAuC;wBAAvC,KAAA,aAAuC,EAAtC,iBAAiB,QAAA,EAAE,kBAAkB,QAAA;;oBAEzC,IAAM,SAAS,GAAGkC,qBAAkB,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;oBAC5E,OAAOhB,6BAA0B,CAAC,SAAS,CAAC,CAAC;iBAC9C,CAAC,CACH,CAAC;aACH;;;WAAA;QAED,yDAAW,GAAX;YACE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACtB;;KApSH,CACUiB,sCAAgF;2JAD7E,mCAAmC;oIAAnC,mCAAmC,0IAFnC,CAAC,2CAA2C,CAAC,4DCvD1D,0sQAqLA,ujDD8Ka,yCAAyC;sHA1SzC,mCAAmC;sBAL/C1B,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,gDAAgD;wBAC7D,SAAS,EAAE,CAAC,2CAA2C,CAAC;qBACzD;0LAS+B,oBAAoB;0BAAjDC,QAAK;2BAAC,iBAAiB;;;QAkSqC,6DAS9D;QATD;;;;KAAA,CAA+DG,eAS9D;iKATY,yCAAyC;0IAAzC,yCAAyC;sHAAzC,yCAAyC;sBAHrDC,YAAS;uBAAC;wBACT,QAAQ,EAAE,sCAAsC;qBACjD;;;IEzTD,IAAM,UAAU,GAAG;QACjB,mCAAmC;QACnC,mCAAmC;QACnC,8BAA8B;QAC9B,iCAAiC;KAClC,CAAC;IAEF,IAAM,UAAU,GAAG;QACjB,yCAAyC;QACzC,+CAA+C;QAC/C,0CAA0C;QAC1C,6CAA6C;QAC7C,sEAAsE;KACvE,CAAC;IAEF,IAAM,SAAS,GAAG;QAChBsB,6BAAiB;QACjBC,eAAY;QACZC,oBAAiB;QACjBC,+BAAkB;QAClBC,qBAAgB;QAChBC,aAAU;QACVC,wBAAqB;QACrBC,+BAA4B;QAC5BC,2CAAwB;QACxBC,2BAAsB;QACtBC,qDAA6B;QAC7BC,qCAAqB;QACrBC,4BAAyB;QACzBC,gBAAW;QACXC,uBAAkB;QAClBC,qBAAgB;KACjB,CAAC;;QAiBF;;;;wJAAa,gCAAgC;yJAAhC,gCAAgC,iBAhD3C,mCAAmC;YACnC,mCAAmC;YACnC,8BAA8B;YAC9B,iCAAiC,EAIjC,yCAAyC;YACzC,+CAA+C;YAC/C,0CAA0C;YAC1C,6CAA6C;YAC7C,sEAAsE,aAyBpEC,iBAAY;YACZC,gBAAW;YACXC,wBAAmB;YACnBC,+BAA4B,oCAxB9BnB,6BAAiB;YACjBC,eAAY;YACZC,oBAAiB;YACjBC,+BAAkB;YAClBC,qBAAgB;YAChBC,aAAU;YACVC,wBAAqB;YACrBC,+BAA4B;YAC5BC,2CAAwB;YACxBC,2BAAsB;YACtBC,qDAA6B;YAC7BC,qCAAqB;YACrBC,4BAAyB;YACzBC,gBAAW;YACXC,uBAAkB;YAClBC,qBAAgB,aAgBNI,+BAA4B,EA9CtC,mCAAmC;YACnC,mCAAmC;YACnC,8BAA8B;YAC9B,iCAAiC,EAIjC,yCAAyC;YACzC,+CAA+C;YAC/C,0CAA0C;YAC1C,6CAA6C;YAC7C,sEAAsE,EAItEnB,6BAAiB;YACjBC,eAAY;YACZC,oBAAiB;YACjBC,+BAAkB;YAClBC,qBAAgB;YAChBC,aAAU;YACVC,wBAAqB;YACrBC,+BAA4B;YAC5BC,2CAAwB;YACxBC,2BAAsB;YACtBC,qDAA6B;YAC7BC,qCAAqB;YACrBC,4BAAyB;YACzBC,gBAAW;YACXC,uBAAkB;YAClBC,qBAAgB;yJAkBL,gCAAgC;gBAZzCC,iBAAY;gBACZC,gBAAW;gBACXC,wBAAmB;gBACnBC,+BAA4B;gBAC5BC,uBAAkB,CAAC,UAAU,CAAC;;oBAE5B,QAAQ,EAAE,EAAE,mCAAmC,qCAAA,EAAE;iBAClD,CAAC;sBACC,SAAS,IAEJD,+BAA4B,EA/BtCnB,6BAAiB;YACjBC,eAAY;YACZC,oBAAiB;YACjBC,+BAAkB;YAClBC,qBAAgB;YAChBC,aAAU;YACVC,wBAAqB;YACrBC,+BAA4B;YAC5BC,2CAAwB;YACxBC,2BAAsB;YACtBC,qDAA6B;YAC7BC,qCAAqB;YACrBC,4BAAyB;YACzBC,gBAAW;YACXC,uBAAkB;YAClBC,qBAAgB;sHAkBL,gCAAgC;sBAf5CM,WAAQ;uBAAC;wBACR,YAAY,yCAAM,UAAU,WAAK,UAAU,EAAC;wBAC5C,OAAO;4BACLL,iBAAY;4BACZC,gBAAW;4BACXC,wBAAmB;4BACnBC,+BAA4B;4BAC5BC,uBAAkB,CAAC,UAAU,CAAC;;gCAE5B,QAAQ,EAAE,EAAE,mCAAmC,qCAAA,EAAE;6BAClD,CAAC;kCACC,SAAS,EACb;wBACD,OAAO,6CAAGD,+BAA4B,UAAK,UAAU,WAAK,UAAU,WAAK,SAAS,EAAC;qBACpF;;;ICzFD;;;;;;;;;;;;;;;;;;;;;;"}