import { Component, Directive, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@backbase/ui-ang/collapsible";
import * as i3 from "@backbase/ui-ang/icon";
import * as i4 from "@backbase/ui-ang/input-datepicker";
import * as i5 from "@backbase/ui-ang/input-validation-message";
import * as i6 from "@backbase/ui-ang/dropdown-multi-select";
import * as i7 from "@backbase/ui-ang/button";
import * as i8 from "@angular/common";
export class AccountStatementFilterFormComponent {
    constructor(fb) {
        this.fb = fb;
        /**
         * Array of account statement categories
         */
        this.categories = [];
        /**
         * Whether default category is presented in filter section.
         */
        this.showCategory = true;
        /**
         * Whether filter options applied to all account statement list elements
         */
        this.filtersApplied = false;
        this.filterParams = {};
        /**
         * Emit filter change event
         */
        this.filtersChange = new EventEmitter();
        this.filterForm = this.fb.group({});
        this.hostRef = this;
        this.unsubscribe = new Subject();
    }
    ngOnInit() {
        this.createForm();
    }
    ngOnDestroy() {
        this.unsubscribe.next();
        this.unsubscribe.complete();
    }
    createForm() {
        var _a, _b, _c;
        this.filterForm = this.fb.group({
            categories: [((_a = this.filterParams) === null || _a === void 0 ? void 0 : _a.category) || []],
            bookDate: ((_b = this.filterParams) === null || _b === void 0 ? void 0 : _b.dateFrom)
                ? {
                    from: this.filterParams.dateFrom,
                    to: (_c = this.filterParams) === null || _c === void 0 ? void 0 : _c.dateTo,
                }
                : '',
        });
    }
    resetForm() {
        this.filterForm.reset();
        this.filtersChange.emit({});
        this.focusFilterButton();
    }
    onSubmit() {
        const categoriesValue = this.filterForm.controls['categories'].value || [];
        const { from: dateFrom = '', to: dateTo = '' } = (this.filterForm && this.filterForm.controls['bookDate'].value) || {};
        this.filtersChange.emit(Object.assign(Object.assign({ category: categoriesValue }, (dateFrom && {
            dateFrom,
        })), ((dateTo || dateFrom) && {
            dateTo: dateTo || dateFrom,
        })));
        this.filterForm.markAsPristine();
        this.focusFilterButton();
    }
    focusFilterButton() {
        if (this.filterButton) {
            this.filterButton.nativeElement.focus();
        }
    }
}
AccountStatementFilterFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementFilterFormComponent, deps: [{ token: i1.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });
AccountStatementFilterFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: AccountStatementFilterFormComponent, selector: "bb-account-statement-filter-form", inputs: { categories: "categories", showCategory: "showCategory", filtersApplied: "filtersApplied", filterParams: "filterParams", minDate: "minDate", maxDate: "maxDate" }, outputs: { filtersChange: "filtersChange" }, viewQueries: [{ propertyName: "filterButton", first: true, predicate: ["filterButton"], descendants: true }], ngImport: i0, template: "<ng-container bbAccountStatementFilterFormCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbAccountStatementFilterFormCustomizable let-host>\n  <bb-collapsible-ui>\n    <ng-template bbCollapsibleHeader let-isOpen=\"isOpen\" let-toggle=\"toggle\">\n      <div class=\"card-header bb-button-bar bb-button-bar--reverse\">\n        <button\n          class=\"bb-button-bar__button\"\n          bbButton\n          #filterButton\n          data-role=\"collapsible-filter-btn\"\n          [color]=\"host.filtersApplied && !host.isOpen ? 'primary' : 'secondary'\"\n          [class.active]=\"host.isOpen\"\n          (click)=\"toggle()\"\n        >\n          <bb-icon-ui [cropped]=\"true\" name=\"filter\"></bb-icon-ui>\n          <span\n            *ngIf=\"host.filtersApplied && !host.isOpen; else filterButtonTextDefault\"\n            i18n=\"\n              Filters applied|Filter form button filter label@@accountStatement.filter.form.button.filter.applied.label\"\n          >\n            Filters applied\n          </span>\n          <ng-template #filterButtonTextDefault>\n            <span i18n=\"Filter|Filter form button filter label@@accountStatement.filter.form.button.filter.label\">\n              Filter\n            </span>\n          </ng-template>\n        </button>\n      </div>\n    </ng-template>\n\n    <ng-template bbCollapsibleBody let-toggle=\"toggle\">\n      <form\n        data-role=\"filter-form\"\n        class=\"card-body account-statements-filter__form-container\"\n        [formGroup]=\"host.filterForm\"\n      >\n        <div class=\"row\">\n          <div class=\"bb-block bb-block--md col-12 col-sm-6\" *ngIf=\"host.filterForm.controls['bookDate']\">\n            <bb-input-datepicker-ui\n              i18n-label=\"Book date|Filter form book date label@@accountStatement.filter.form.datepicker.label\"\n              label=\"Book date range\"\n              labelClasses=\"form-label\"\n              [rangeSelection]=\"true\"\n              [minDate]=\"hostRef.minDate!\"\n              [maxDate]=\"hostRef.maxDate!\"\n              aria-label=\"Book date\"\n              i18n-aria-label=\"Book date filter aria label@@accountStatement.filter.form.datepicker.aria-label\"\n              [attr.aria-invalid]=\"host.filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n              formControlName=\"bookDate\"\n              data-role=\"book-date\"\n            ></bb-input-datepicker-ui>\n\n            <bb-input-validation-message-ui\n              class=\"account-statements-filter__validation-message\"\n              aria-live=\"polite\"\n              [showErrors]=\"host.filterForm.controls['bookDate'].hasError('invalidDateFormat')\"\n            >\n              <span\n                i18n=\"\n                  Error invalid date format in book date\n                  range@@accountStatement.filter.form.datepicker.error.invalidDateFormat\"\n                data-role=\"invalid-book-date-error-message\"\n                >Invalid date format</span\n              >\n            </bb-input-validation-message-ui>\n\n            <bb-input-validation-message-ui\n              class=\"account-statements-filter__validation-message\"\n              aria-live=\"polite\"\n              [showErrors]=\"\n                !host.filterForm.controls['bookDate'].hasError('invalidDateFormat') &&\n                (host.filterForm.controls['bookDate'].hasError('dateGreaterThanMaxDate') ||\n                  host.filterForm.controls['bookDate'].hasError('dateLessThanMinDate'))\n              \"\n            >\n              <span\n                i18n=\"\n                  Selected date range contains invalid dates\n                  range@@accountStatement.filter.form.datepicker.error.dateLessThanMinDate\"\n                data-role=\"invalid-book-date-limit-error-message\"\n                >The selected dates include values outside the allowed date range. Please select a date interval in the\n                permitted time frame.</span\n              >\n            </bb-input-validation-message-ui>\n          </div>\n\n          <ng-container *ngIf=\"host.showCategory\">\n            <bb-dropdown-multi-select-ui\n              *ngIf=\"host.categories?.length\"\n              [formControl]=\"host.filterForm.controls['categories']\"\n              class=\"bb-block bb-block--lg col-12 col-sm-6\"\n              data-role=\"categories-filter\"\n              placeholder=\"Select product category\"\n              i18n-placeholder=\"\n                Category select placeholder|Category multiple\n                select@@accountStatement.filter.form.categories.placeholder\"\n              label=\"Category\"\n              i18n-label=\"Category label|Category multiple select@@accountStatement.filter.form.categories.label\"\n            >\n              <bb-dropdown-multi-select-option-ui\n                *ngFor=\"let option of host.categories\"\n                [label]=\"option\"\n                [value]=\"option\"\n              >\n              </bb-dropdown-multi-select-option-ui>\n            </bb-dropdown-multi-select-ui>\n          </ng-container>\n        </div>\n        <div class=\"bb-button-bar\">\n          <button\n            bbButton\n            type=\"submit\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"apply\"\n            [disabled]=\"host.filterForm.pristine || host.filterForm.invalid\"\n            (click)=\"host.onSubmit(); toggle()\"\n            i18n=\"Apply|Filter form button apply label@@accountStatement.filter.form.button.apply.label\"\n          >\n            Apply\n          </button>\n          <button\n            bbButton\n            color=\"secondary\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"close\"\n            (click)=\"toggle(); host.focusFilterButton()\"\n            i18n=\"Close|Filter form button close label@@accountStatement.filter.form.button.close.label\"\n          >\n            Close\n          </button>\n          <button\n            bbButton\n            color=\"link\"\n            buttonSize=\"sm\"\n            class=\"bb-button-bar__button\"\n            data-role=\"clear-all\"\n            *ngIf=\"host.filterForm.dirty || host.filtersApplied\"\n            (click)=\"host.resetForm()\"\n            i18n=\"Clear All|Filter form button clear label@@accountStatement.filter.form.button.clear.label\"\n          >\n            Clear all\n          </button>\n        </div>\n      </form>\n    </ng-template>\n  </bb-collapsible-ui>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i2.CollapsibleComponent; }), selector: "bb-collapsible-ui", inputs: ["recreateBodyContent", "hasChevron", "isOpen"], outputs: ["isOpenChange"] }, { type: i0.forwardRef(function () { return i3.IconComponent; }), selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i0.forwardRef(function () { return i4.InputDatepickerComponent; }), selector: "bb-input-datepicker-ui", inputs: ["rangeSelection", "rangeSelectionSplit", "clickOpen", "focusOpen", "placement", "datepickerDescribedby", "ariaLabelForButton", "minDate", "maxDate", "markDisabled", "icon", "iconSize", "iconColor", "btnColor", "ariaLabel", "navigation", "autocomplete", "firstDayOfWeek", "displayMonths", "placeholder", "overrideDateFormat"], outputs: ["focusedDate"] }, { type: i0.forwardRef(function () { return i5.InputValidationMessageComponent; }), selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i0.forwardRef(function () { return i6.DropdownMultiSelectComponent; }), selector: "bb-dropdown-multi-select-ui", inputs: ["dropdownHeaderText", "placeholder", "label", "filtering", "readonly"] }, { type: i0.forwardRef(function () { return i6.DropdownMultiSelectOptionComponent; }), selector: "bb-dropdown-multi-select-option-ui", inputs: ["id", "value", "label", "state"] }], directives: [{ type: i0.forwardRef(function () { return AccountStatementFilterFormCustomizableDirective; }), selector: "[bbAccountStatementFilterFormCustomizable]" }, { type: i0.forwardRef(function () { return i2.CollapsibleHeaderDirective; }), selector: "ng-template[bbCollapsibleHeader]" }, { type: i0.forwardRef(function () { return i7.ButtonDirective; }), selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i0.forwardRef(function () { return i8.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i2.CollapsibleBodyDirective; }), selector: "ng-template[bbCollapsibleBody]" }, { type: i0.forwardRef(function () { return i1.ɵNgNoValidate; }), selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i0.forwardRef(function () { return i1.NgControlStatusGroup; }), selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i0.forwardRef(function () { return i1.FormGroupDirective; }), selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i0.forwardRef(function () { return i4.MinDateValidatorDirective; }), selector: "bb-input-datepicker-ui[minDate]", inputs: ["minDate"] }, { type: i0.forwardRef(function () { return i4.MaxDateValidatorDirective; }), selector: "bb-input-datepicker-ui[maxDate]", inputs: ["maxDate"] }, { type: i0.forwardRef(function () { return i1.NgControlStatus; }), selector: "[formControlName],[ngModel],[formControl]" }, { type: i0.forwardRef(function () { return i1.FormControlName; }), selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i0.forwardRef(function () { return i1.FormControlDirective; }), selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i0.forwardRef(function () { return i8.NgForOf; }), selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementFilterFormComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-account-statement-filter-form',
                    templateUrl: './account-statement-filter-form.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }]; }, propDecorators: { categories: [{
                type: Input
            }], showCategory: [{
                type: Input
            }], filtersApplied: [{
                type: Input
            }], filterParams: [{
                type: Input
            }], minDate: [{
                type: Input
            }], maxDate: [{
                type: Input
            }], filtersChange: [{
                type: Output
            }], filterButton: [{
                type: ViewChild,
                args: ['filterButton']
            }] } });
export class AccountStatementFilterFormCustomizableDirective extends BbTemplate {
}
AccountStatementFilterFormCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementFilterFormCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
AccountStatementFilterFormCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: AccountStatementFilterFormCustomizableDirective, selector: "[bbAccountStatementFilterFormCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: AccountStatementFilterFormCustomizableDirective, decorators: [{
            type: Directive,
            args: [{ selector: '[bbAccountStatementFilterFormCustomizable]' }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hY2NvdW50LXN0YXRlbWVudC1saXN0LXdpZGdldC1hbmcvc3JjL2NvbXBvbmVudHMvYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0vYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hY2NvdW50LXN0YXRlbWVudC1saXN0LXdpZGdldC1hbmcvc3JjL2NvbXBvbmVudHMvYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0vYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxTQUFTLEVBRVQsWUFBWSxFQUNaLEtBQUssRUFFTCxNQUFNLEVBQ04sU0FBUyxHQUVWLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDOzs7Ozs7Ozs7O0FBTy9CLE1BQU0sT0FBTyxtQ0FBbUM7SUFpQzlDLFlBQTZCLEVBQWU7UUFBZixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBaEM1Qzs7V0FFRztRQUNNLGVBQVUsR0FBZSxFQUFFLENBQUM7UUFFckM7O1dBRUc7UUFDTSxpQkFBWSxHQUErQixJQUFJLENBQUM7UUFFekQ7O1dBRUc7UUFDTSxtQkFBYyxHQUFHLEtBQUssQ0FBQztRQUV2QixpQkFBWSxHQUFpQixFQUFFLENBQUM7UUFNekM7O1dBRUc7UUFDTyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO1FBSTNELGVBQVUsR0FBYyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUss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L0MsK0NBQStDO2tCQUQzRCxTQUFTO21CQUFDLEVBQUUsUUFBUSxFQUFFLDRDQUE0QyxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT3V0cHV0LFxuICBWaWV3Q2hpbGQsXG4gIE9uSW5pdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5pbXBvcnQgeyBDYXRlZ29yaWVzLCBGaWx0ZXJQYXJhbXMgfSBmcm9tICdAYmFja2Jhc2UvYWNjb3VudC1zdGF0ZW1lbnQtY29tbW9uLWFuZyc7XG5pbXBvcnQgeyBCYlRlbXBsYXRlIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTmdiRGF0ZVN0cnVjdCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0nLFxuICB0ZW1wbGF0ZVVybDogJy4vYWNjb3VudC1zdGF0ZW1lbnQtZmlsdGVyLWZvcm0uY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBBY2NvdW50U3RhdGVtZW50RmlsdGVyRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25Jbml0IHtcbiAgLyoqXG4gICAqIEFycmF5IG9mIGFjY291bnQgc3RhdGVtZW50IGNhdGVnb3JpZXNcbiAgICovXG4gIEBJbnB1dCgpIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMgPSBbXTtcblxuICAvKipcbiAgICogV2hldGhlciBkZWZhdWx0IGNhdGVnb3J5IGlzIHByZXNlbnRlZCBpbiBmaWx0ZXIgc2VjdGlvbi5cbiAgICovXG4gIEBJbnB1dCgpIHNob3dDYXRlZ29yeTogYm9vbGVhbiB8IHVuZGVmaW5lZCB8IG51bGwgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGZpbHRlciBvcHRpb25zIGFwcGxpZWQgdG8gYWxsIGFjY291bnQgc3RhdGVtZW50IGxpc3QgZWxlbWVudHNcbiAgICovXG4gIEBJbnB1dCgpIGZpbHRlcnNBcHBsaWVkID0gZmFsc2U7XG5cbiAgQElucHV0KCkgZmlsdGVyUGFyYW1zOiBGaWx0ZXJQYXJhbXMgPSB7fTtcblxuICBASW5wdXQoKSBtaW5EYXRlOiBOZ2JEYXRlU3RydWN0IHwgdW5kZWZpbmVkO1xuXG4gIEBJbnB1dCgpIG1heERhdGU6IE5nYkRhdGVTdHJ1Y3QgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEVtaXQgZmlsdGVyIGNoYW5nZSBldmVudFxuICAgKi9cbiAgQE91dHB1dCgpIGZpbHRlcnNDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPEZpbHRlclBhcmFtcz4oKTtcblxuICBAVmlld0NoaWxkKCdmaWx0ZXJCdXR0b24nKSBmaWx0ZXJCdXR0b24/OiBFbGVtZW50UmVmO1xuXG4gIGZpbHRlckZvcm06IEZvcm1Hcm91cCA9IHRoaXMuZmIuZ3JvdXAoe30pO1xuICByZWFkb25seSBob3N0UmVmID0gdGhpcztcbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZSA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBmYjogRm9ybUJ1aWxkZXIpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5jcmVhdGVGb3JtKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlLm5leHQoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlLmNvbXBsZXRlKCk7XG4gIH1cblxuICBjcmVhdGVGb3JtKCkge1xuICAgIHRoaXMuZmlsdGVyRm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgY2F0ZWdvcmllczogW3RoaXMuZmlsdGVyUGFyYW1zPy5jYXRlZ29yeSB8fCBbXV0sXG4gICAgICBib29rRGF0ZTogdGhpcy5maWx0ZXJQYXJhbXM/LmRhdGVGcm9tXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZnJvbTogdGhpcy5maWx0ZXJQYXJhbXMuZGF0ZUZyb20sXG4gICAgICAgICAgICB0bzogdGhpcy5maWx0ZXJQYXJhbXM/LmRhdGVUbyxcbiAgICAgICAgICB9XG4gICAgICAgIDogJycsXG4gICAgfSk7XG4gIH1cblxuICByZXNldEZvcm0oKSB7XG4gICAgdGhpcy5maWx0ZXJGb3JtLnJlc2V0KCk7XG4gICAgdGhpcy5maWx0ZXJzQ2hhbmdlLmVtaXQoe30pO1xuICAgIHRoaXMuZm9jdXNGaWx0ZXJCdXR0b24oKTtcbiAgfVxuXG4gIG9uU3VibWl0KCkge1xuICAgIGNvbnN0IGNhdGVnb3JpZXNWYWx1ZSA9IHRoaXMuZmlsdGVyRm9ybS5jb250cm9sc1snY2F0ZWdvcmllcyddLnZhbHVlIHx8IFtdO1xuICAgIGNvbnN0IHsgZnJvbTogZGF0ZUZyb20gPSAnJywgdG86IGRhdGVUbyA9ICcnIH0gPVxuICAgICAgKHRoaXMuZmlsdGVyRm9ybSAmJiB0aGlzLmZpbHRlckZvcm0uY29udHJvbHNbJ2Jvb2tEYXRlJ10udmFsdWUpIHx8IHt9O1xuXG4gICAgdGhpcy5maWx0ZXJzQ2hhbmdlLmVtaXQoe1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3JpZXNWYWx1ZSxcbiAgICAgIC4uLihkYXRlRnJvbSAmJiB7XG4gICAgICAgIGRhdGVGcm9tLFxuICAgICAgfSksXG4gICAgICAuLi4oKGRhdGVUbyB8fCBkYXRlRnJvbSkgJiYge1xuICAgICAgICBkYXRlVG86IGRhdGVUbyB8fCBkYXRlRnJvbSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgdGhpcy5maWx0ZXJGb3JtLm1hcmtBc1ByaXN0aW5lKCk7XG4gICAgdGhpcy5mb2N1c0ZpbHRlckJ1dHRvbigpO1xuICB9XG5cbiAgZm9jdXNGaWx0ZXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuZmlsdGVyQnV0dG9uKSB7XG4gICAgICB0aGlzLmZpbHRlckJ1dHRvbi5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICB9XG59XG5cbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tiYkFjY291bnRTdGF0ZW1lbnRGaWx0ZXJGb3JtQ3VzdG9taXphYmxlXScgfSlcbmV4cG9ydCBjbGFzcyBBY2NvdW50U3RhdGVtZW50RmlsdGVyRm9ybUN1c3RvbWl6YWJsZURpcmVjdGl2ZSBleHRlbmRzIEJiVGVtcGxhdGU8XG4gIEFjY291bnRTdGF0ZW1lbnRGaWx0ZXJGb3JtQ29tcG9uZW50LFxuICB2b2lkXG4+IHt9XG4iLCI8bmctY29udGFpbmVyIGJiQWNjb3VudFN0YXRlbWVudEZpbHRlckZvcm1DdXN0b21pemFibGUgW2JiSG9zdFJlZl09XCJob3N0UmVmXCI+PC9uZy1jb250YWluZXI+XG5cbjxuZy10ZW1wbGF0ZSBiYkFjY291bnRTdGF0ZW1lbnRGaWx0ZXJGb3JtQ3VzdG9taXphYmxlIGxldC1ob3N0PlxuICA8YmItY29sbGFwc2libGUtdWk+XG4gICAgPG5nLXRlbXBsYXRlIGJiQ29sbGFwc2libGVIZWFkZXIgbGV0LWlzT3Blbj1cImlzT3BlblwiIGxldC10b2dnbGU9XCJ0b2dnbGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlciBiYi1idXR0b24tYmFyIGJiLWJ1dHRvbi1iYXItLXJldmVyc2VcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCJcbiAgICAgICAgICBiYkJ1dHRvblxuICAgICAgICAgICNmaWx0ZXJCdXR0b25cbiAgICAgICAgICBkYXRhLXJvbGU9XCJjb2xsYXBzaWJsZS1maWx0ZXItYnRuXCJcbiAgICAgICAgICBbY29sb3JdPVwiaG9zdC5maWx0ZXJzQXBwbGllZCAmJiAhaG9zdC5pc09wZW4gPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5J1wiXG4gICAgICAgICAgW2NsYXNzLmFjdGl2ZV09XCJob3N0LmlzT3BlblwiXG4gICAgICAgICAgKGNsaWNrKT1cInRvZ2dsZSgpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxiYi1pY29uLXVpIFtjcm9wcGVkXT1cInRydWVcIiBuYW1lPVwiZmlsdGVyXCI+PC9iYi1pY29uLXVpPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAqbmdJZj1cImhvc3QuZmlsdGVyc0FwcGxpZWQgJiYgIWhvc3QuaXNPcGVuOyBlbHNlIGZpbHRlckJ1dHRvblRleHREZWZhdWx0XCJcbiAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgRmlsdGVycyBhcHBsaWVkfEZpbHRlciBmb3JtIGJ1dHRvbiBmaWx0ZXIgbGFiZWxAQGFjY291bnRTdGF0ZW1lbnQuZmlsdGVyLmZvcm0uYnV0dG9uLmZpbHRlci5hcHBsaWVkLmxhYmVsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBGaWx0ZXJzIGFwcGxpZWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPG5nLXRlbXBsYXRlICNmaWx0ZXJCdXR0b25UZXh0RGVmYXVsdD5cbiAgICAgICAgICAgIDxzcGFuIGkxOG49XCJGaWx0ZXJ8RmlsdGVyIGZvcm0gYnV0dG9uIGZpbHRlciBsYWJlbEBAYWNjb3VudFN0YXRlbWVudC5maWx0ZXIuZm9ybS5idXR0b24uZmlsdGVyLmxhYmVsXCI+XG4gICAgICAgICAgICAgIEZpbHRlclxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy10ZW1wbGF0ZT5cblxuICAgIDxuZy10ZW1wbGF0ZSBiYkNvbGxhcHNpYmxlQm9keSBsZXQtdG9nZ2xlPVwidG9nZ2xlXCI+XG4gICAgICA8Zm9ybVxuICAgICAgICBkYXRhLXJvbGU9XCJmaWx0ZXItZm9ybVwiXG4gICAgICAgIGNsYXNzPVwiY2FyZC1ib2R5IGFjY291bnQtc3RhdGVtZW50cy1maWx0ZXJfX2Zvcm0tY29udGFpbmVyXCJcbiAgICAgICAgW2Zvcm1Hcm91cF09XCJob3N0LmZpbHRlckZvcm1cIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZCBjb2wtMTIgY29sLXNtLTZcIiAqbmdJZj1cImhvc3QuZmlsdGVyRm9ybS5jb250cm9sc1snYm9va0RhdGUnXVwiPlxuICAgICAgICAgICAgPGJiLWlucHV0LWRhdGVwaWNrZXItdWlcbiAgICAgICAgICAgICAgaTE4bi1sYWJlbD1cIkJvb2sgZGF0ZXxGaWx0ZXIgZm9ybSBib29rIGRhdGUgbGFiZWxAQGFjY291bnRTdGF0ZW1lbnQuZmlsdGVyLmZvcm0uZGF0ZXBpY2tlci5sYWJlbFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiQm9vayBkYXRlIHJhbmdlXCJcbiAgICAgICAgICAgICAgbGFiZWxDbGFzc2VzPVwiZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgIFtyYW5nZVNlbGVjdGlvbl09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgW21pbkRhdGVdPVwiaG9zdFJlZi5taW5EYXRlIVwiXG4gICAgICAgICAgICAgIFttYXhEYXRlXT1cImhvc3RSZWYubWF4RGF0ZSFcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQm9vayBkYXRlXCJcbiAgICAgICAgICAgICAgaTE4bi1hcmlhLWxhYmVsPVwiQm9vayBkYXRlIGZpbHRlciBhcmlhIGxhYmVsQEBhY2NvdW50U3RhdGVtZW50LmZpbHRlci5mb3JtLmRhdGVwaWNrZXIuYXJpYS1sYWJlbFwiXG4gICAgICAgICAgICAgIFthdHRyLmFyaWEtaW52YWxpZF09XCJob3N0LmZpbHRlckZvcm0uY29udHJvbHNbJ2Jvb2tEYXRlJ10uaGFzRXJyb3IoJ2ludmFsaWREYXRlRm9ybWF0JylcIlxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJib29rRGF0ZVwiXG4gICAgICAgICAgICAgIGRhdGEtcm9sZT1cImJvb2stZGF0ZVwiXG4gICAgICAgICAgICA+PC9iYi1pbnB1dC1kYXRlcGlja2VyLXVpPlxuXG4gICAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpXG4gICAgICAgICAgICAgIGNsYXNzPVwiYWNjb3VudC1zdGF0ZW1lbnRzLWZpbHRlcl9fdmFsaWRhdGlvbi1tZXNzYWdlXCJcbiAgICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgICAgICAgICAgW3Nob3dFcnJvcnNdPVwiaG9zdC5maWx0ZXJGb3JtLmNvbnRyb2xzWydib29rRGF0ZSddLmhhc0Vycm9yKCdpbnZhbGlkRGF0ZUZvcm1hdCcpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBFcnJvciBpbnZhbGlkIGRhdGUgZm9ybWF0IGluIGJvb2sgZGF0ZVxuICAgICAgICAgICAgICAgICAgcmFuZ2VAQGFjY291bnRTdGF0ZW1lbnQuZmlsdGVyLmZvcm0uZGF0ZXBpY2tlci5lcnJvci5pbnZhbGlkRGF0ZUZvcm1hdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1ib29rLWRhdGUtZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgPkludmFsaWQgZGF0ZSBmb3JtYXQ8L3NwYW5cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG5cbiAgICAgICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWlcbiAgICAgICAgICAgICAgY2xhc3M9XCJhY2NvdW50LXN0YXRlbWVudHMtZmlsdGVyX192YWxpZGF0aW9uLW1lc3NhZ2VcIlxuICAgICAgICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIlxuICAgICAgICAgICAgICBbc2hvd0Vycm9yc109XCJcbiAgICAgICAgICAgICAgICAhaG9zdC5maWx0ZXJGb3JtLmNvbnRyb2xzWydib29rRGF0ZSddLmhhc0Vycm9yKCdpbnZhbGlkRGF0ZUZvcm1hdCcpICYmXG4gICAgICAgICAgICAgICAgKGhvc3QuZmlsdGVyRm9ybS5jb250cm9sc1snYm9va0RhdGUnXS5oYXNFcnJvcignZGF0ZUdyZWF0ZXJUaGFuTWF4RGF0ZScpIHx8XG4gICAgICAgICAgICAgICAgICBob3N0LmZpbHRlckZvcm0uY29udHJvbHNbJ2Jvb2tEYXRlJ10uaGFzRXJyb3IoJ2RhdGVMZXNzVGhhbk1pbkRhdGUnKSlcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBTZWxlY3RlZCBkYXRlIHJhbmdlIGNvbnRhaW5zIGludmFsaWQgZGF0ZXNcbiAgICAgICAgICAgICAgICAgIHJhbmdlQEBhY2NvdW50U3RhdGVtZW50LmZpbHRlci5mb3JtLmRhdGVwaWNrZXIuZXJyb3IuZGF0ZUxlc3NUaGFuTWluRGF0ZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1ib29rLWRhdGUtbGltaXQtZXJyb3ItbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgPlRoZSBzZWxlY3RlZCBkYXRlcyBpbmNsdWRlIHZhbHVlcyBvdXRzaWRlIHRoZSBhbGxvd2VkIGRhdGUgcmFuZ2UuIFBsZWFzZSBzZWxlY3QgYSBkYXRlIGludGVydmFsIGluIHRoZVxuICAgICAgICAgICAgICAgIHBlcm1pdHRlZCB0aW1lIGZyYW1lLjwvc3BhblxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJob3N0LnNob3dDYXRlZ29yeVwiPlxuICAgICAgICAgICAgPGJiLWRyb3Bkb3duLW11bHRpLXNlbGVjdC11aVxuICAgICAgICAgICAgICAqbmdJZj1cImhvc3QuY2F0ZWdvcmllcz8ubGVuZ3RoXCJcbiAgICAgICAgICAgICAgW2Zvcm1Db250cm9sXT1cImhvc3QuZmlsdGVyRm9ybS5jb250cm9sc1snY2F0ZWdvcmllcyddXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbGcgY29sLTEyIGNvbC1zbS02XCJcbiAgICAgICAgICAgICAgZGF0YS1yb2xlPVwiY2F0ZWdvcmllcy1maWx0ZXJcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBwcm9kdWN0IGNhdGVnb3J5XCJcbiAgICAgICAgICAgICAgaTE4bi1wbGFjZWhvbGRlcj1cIlxuICAgICAgICAgICAgICAgIENhdGVnb3J5IHNlbGVjdCBwbGFjZWhvbGRlcnxDYXRlZ29yeSBtdWx0aXBsZVxuICAgICAgICAgICAgICAgIHNlbGVjdEBAYWNjb3VudFN0YXRlbWVudC5maWx0ZXIuZm9ybS5jYXRlZ29yaWVzLnBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJDYXRlZ29yeVwiXG4gICAgICAgICAgICAgIGkxOG4tbGFiZWw9XCJDYXRlZ29yeSBsYWJlbHxDYXRlZ29yeSBtdWx0aXBsZSBzZWxlY3RAQGFjY291bnRTdGF0ZW1lbnQuZmlsdGVyLmZvcm0uY2F0ZWdvcmllcy5sYWJlbFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxiYi1kcm9wZG93bi1tdWx0aS1zZWxlY3Qtb3B0aW9uLXVpXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBob3N0LmNhdGVnb3JpZXNcIlxuICAgICAgICAgICAgICAgIFtsYWJlbF09XCJvcHRpb25cIlxuICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJvcHRpb25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvYmItZHJvcGRvd24tbXVsdGktc2VsZWN0LW9wdGlvbi11aT5cbiAgICAgICAgICAgIDwvYmItZHJvcGRvd24tbXVsdGktc2VsZWN0LXVpPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBiYkJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICBidXR0b25TaXplPVwic21cIlxuICAgICAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b25cIlxuICAgICAgICAgICAgZGF0YS1yb2xlPVwiYXBwbHlcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImhvc3QuZmlsdGVyRm9ybS5wcmlzdGluZSB8fCBob3N0LmZpbHRlckZvcm0uaW52YWxpZFwiXG4gICAgICAgICAgICAoY2xpY2spPVwiaG9zdC5vblN1Ym1pdCgpOyB0b2dnbGUoKVwiXG4gICAgICAgICAgICBpMThuPVwiQXBwbHl8RmlsdGVyIGZvcm0gYnV0dG9uIGFwcGx5IGxhYmVsQEBhY2NvdW50U3RhdGVtZW50LmZpbHRlci5mb3JtLmJ1dHRvbi5hcHBseS5sYWJlbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQXBwbHlcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBiYkJ1dHRvblxuICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgYnV0dG9uU2l6ZT1cInNtXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cImNsb3NlXCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0b2dnbGUoKTsgaG9zdC5mb2N1c0ZpbHRlckJ1dHRvbigpXCJcbiAgICAgICAgICAgIGkxOG49XCJDbG9zZXxGaWx0ZXIgZm9ybSBidXR0b24gY2xvc2UgbGFiZWxAQGFjY291bnRTdGF0ZW1lbnQuZmlsdGVyLmZvcm0uYnV0dG9uLmNsb3NlLmxhYmVsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbG9zZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgICBjb2xvcj1cImxpbmtcIlxuICAgICAgICAgICAgYnV0dG9uU2l6ZT1cInNtXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cImNsZWFyLWFsbFwiXG4gICAgICAgICAgICAqbmdJZj1cImhvc3QuZmlsdGVyRm9ybS5kaXJ0eSB8fCBob3N0LmZpbHRlcnNBcHBsaWVkXCJcbiAgICAgICAgICAgIChjbGljayk9XCJob3N0LnJlc2V0Rm9ybSgpXCJcbiAgICAgICAgICAgIGkxOG49XCJDbGVhciBBbGx8RmlsdGVyIGZvcm0gYnV0dG9uIGNsZWFyIGxhYmVsQEBhY2NvdW50U3RhdGVtZW50LmZpbHRlci5mb3JtLmJ1dHRvbi5jbGVhci5sYWJlbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ2xlYXIgYWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIDwvbmctdGVtcGxhdGU+XG4gIDwvYmItY29sbGFwc2libGUtdWk+XG48L25nLXRlbXBsYXRlPlxuIl19