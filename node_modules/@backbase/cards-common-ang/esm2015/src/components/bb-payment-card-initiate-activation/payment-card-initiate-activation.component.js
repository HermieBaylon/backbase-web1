import { Component, Directive, EventEmitter, Input, Output } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { BbTemplate } from '@backbase/foundation-ang/core';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/ui-ang/load-button";
import * as i2 from "@backbase/ui-ang/modal";
import * as i3 from "@backbase/ui-ang/input-password";
import * as i4 from "@backbase/ui-ang/input-validation-message";
import * as i5 from "@backbase/ui-ang/button";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
export class PaymentCardInitiateActivationComponent {
    constructor() {
        /**
         * Whether card activation has been initiated.
         */
        this.isInitiateActivationLoading = false;
        /**
         * Event to initiate activation of payment card;
         */
        this.initiateActivation = new EventEmitter();
        /**
         * Reference to instance of customizable component.
         */
        this.hostRef = this;
        /**
         * Flag to denote whether the activation modal is open or not.
         */
        this.isModalOpen = false;
        /**
         * Form model for initiating activation.
         */
        this.form = new FormGroup({
            token: new FormControl('', [Validators.required, Validators.minLength(3)]),
        });
    }
    ngOnInit() {
        if (typeof this.paymentCard === 'undefined') {
            throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`);
        }
    }
    /**
     * Submit handler for initiating activation.
     *
     * @param params - form model value
     */
    onSubmit(params) {
        this.isModalOpen = false;
        this.initiateActivation.emit(params.token);
    }
    /**
     * Opens the modal.
     */
    onModalOpen() {
        this.isModalOpen = true;
    }
    /**
     * Closes the modal.
     */
    onModalClose() {
        this.isModalOpen = false;
        this.form.reset({ token: '' });
    }
    /**
     * Form element validation control.
     */
    isFieldValid(fieldName) {
        const control = this.form.get(fieldName);
        return !!control && (control.valid || control.untouched);
    }
}
PaymentCardInitiateActivationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentCardInitiateActivationComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
PaymentCardInitiateActivationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: PaymentCardInitiateActivationComponent, selector: "bb-payment-card-initiate-activation", inputs: { paymentCard: "paymentCard", isInitiateActivationLoading: "isInitiateActivationLoading" }, outputs: { initiateActivation: "initiateActivation" }, ngImport: i0, template: "<ng-container bbCardsInitiateActivationCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbCardsInitiateActivationCustomizable let-hostRef>\n  <bb-load-button-ui\n    data-role=\"activate-card-button\"\n    color=\"primary\"\n    [block]=\"true\"\n    [isLoading]=\"hostRef.isInitiateActivationLoading\"\n    (click)=\"!hostRef.isInitiateActivationLoading && hostRef.paymentCard?.status === 'INACTIVE' && hostRef.onModalOpen()\"\n    [disabled]=\"hostRef.paymentCard?.status !== 'INACTIVE'\"\n    i18n=\"Activate card button|Activate the card@@card.activation.button\"\n  >Activate card</bb-load-button-ui>\n\n  <bb-modal-ui\n    [isOpen]=\"hostRef.isModalOpen\"\n    [modalOptions]=\"{ centered: true }\"\n    (cancel)=\"hostRef.onModalClose()\"\n  >\n    <div class=\"modal-header\">\n      <div class=\"bb-block bb-block--xs\">\n        <h2 i18n=\"Activate card heading|Activate card header@@card.activationForm.heading\">\n          Activate card\n        </h2>\n      </div>\n    </div>\n    <ng-container bbCardsInitiateActivationFormCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n  </bb-modal-ui>\n</ng-template>\n\n<ng-template bbCardsInitiateActivationFormCustomizable let-hostRef>\n  <form *ngIf=\"hostRef.isModalOpen\" [formGroup]=\"hostRef.form\" (ngSubmit)=\"hostRef.onSubmit(hostRef.form.value)\">\n    <div class=\"modal-body\">\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 order-sm-2\">\n          <div data-role=\"modal-card-img\" class=\"bb-block bb-block--md bb-payment-card-back bb-payment-card-icon-dialog\"></div>\n        </div>\n        <div class=\"col-12 col-sm-6\">\n          <h3 i18n=\"Enter your code heading|Heading for enter your code@@card.activationForm.options.heading\">\n            Enter your CVV code\n          </h3>\n          <p\n            class=\"bb-text-support\"\n            i18n=\"Enter your code subtext|Subtext for enter your code@@card.activationForm.options.subtitle\"\n          >To activate your card, please enter your CVV code at the back of your card as shown.</p>\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <bb-input-password-ui\n                data-role=\"card-details-cvv-input\"\n                [autofocus]=\"true\"\n                formControlName=\"token\"\n                label=\"CVV code\"\n                i18n-label='CVV Code heading|Heading for CVV@@card.activationForm.options.heading'\n              ></bb-input-password-ui>\n            </div>\n            <div class=\"col-12\">\n              <bb-input-validation-message-ui [showErrors]=\"!hostRef.isFieldValid('token')\">\n                <span i18n=\"CVV Code validation@@card.activationForm.options.token.error.msg\">\n                  You need to enter the full CVV code.\n                </span>\n              </bb-input-validation-message-ui>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      <div class=\"bb-button-bar\">\n        <bb-button-ui\n          class=\"bb-button-bar__button\"\n          type=\"submit\"\n          color=\"primary\"\n          [disabled]=\"hostRef.form.invalid\"\n          i18n=\"Activate button|Activation confirm button@@card.activationForm.submitButton\"\n        >Activate</bb-button-ui>\n        <bb-button-ui\n          class=\"bb-button-bar__button\"\n          type=\"button\"\n          color=\"link\"\n          (click)=\"hostRef.onModalClose()\"\n          i18n=\"Cancel button|Cancel card activation@@card.activationForm.cancelButton\"\n        >Cancel</bb-button-ui>\n      </div>\n    </div>\n  </form>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i1.LoadButtonComponent; }), selector: "bb-load-button-ui", inputs: ["isLoading", "from", "size", "circle", "totalCount"], outputs: ["paramChange"] }, { type: i0.forwardRef(function () { return i2.ModalComponent; }), selector: "bb-modal-ui", inputs: ["isOpen", "aria-labelledby", "aria-describedby", "modalOptions"], outputs: ["confirm", "cancel", "isOpenChange"] }, { type: i0.forwardRef(function () { return i3.InputPasswordComponent; }), selector: "bb-input-password-ui", inputs: ["placeholder", "maxLength", "minLength", "readonly", "autocomplete", "showVisibilityControl", "showPassword", "visibilityControlLabel", "ariaLabel"], outputs: ["toggleVisibility"] }, { type: i0.forwardRef(function () { return i4.InputValidationMessageComponent; }), selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i0.forwardRef(function () { return i5.ButtonComponent; }), selector: "bb-button-ui", inputs: ["autofocus", "type", "disabled", "buttonSize", "color", "block"] }], directives: [{ type: i0.forwardRef(function () { return CardsInitiateActivationCustomizableDirective; }), selector: "[bbCardsInitiateActivationCustomizable]" }, { type: i0.forwardRef(function () { return CardsInitiateActivationFormCustomizableDirective; }), selector: "[bbCardsInitiateActivationFormCustomizable]" }, { type: i0.forwardRef(function () { return i6.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i7.ɵNgNoValidate; }), selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i0.forwardRef(function () { return i7.NgControlStatusGroup; }), selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i0.forwardRef(function () { return i7.FormGroupDirective; }), selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i0.forwardRef(function () { return i7.NgControlStatus; }), selector: "[formControlName],[ngModel],[formControl]" }, { type: i0.forwardRef(function () { return i7.FormControlName; }), selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentCardInitiateActivationComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-payment-card-initiate-activation',
                    templateUrl: './payment-card-initiate-activation.component.html',
                }]
        }], propDecorators: { paymentCard: [{
                type: Input
            }], isInitiateActivationLoading: [{
                type: Input
            }], initiateActivation: [{
                type: Output
            }] } });
export class CardsInitiateActivationFormCustomizableDirective extends BbTemplate {
}
CardsInitiateActivationFormCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsInitiateActivationFormCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
CardsInitiateActivationFormCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: CardsInitiateActivationFormCustomizableDirective, selector: "[bbCardsInitiateActivationFormCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsInitiateActivationFormCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbCardsInitiateActivationFormCustomizable]',
                }]
        }] });
export class CardsInitiateActivationCustomizableDirective extends BbTemplate {
}
CardsInitiateActivationCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsInitiateActivationCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
CardsInitiateActivationCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: CardsInitiateActivationCustomizableDirective, selector: "[bbCardsInitiateActivationCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardsInitiateActivationCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbCardsInitiateActivationCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLWluaXRpYXRlLWFjdGl2YXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jYXJkcy1jb21tb24tYW5nL3NyYy9jb21wb25lbnRzL2JiLXBheW1lbnQtY2FyZC1pbml0aWF0ZS1hY3RpdmF0aW9uL3BheW1lbnQtY2FyZC1pbml0aWF0ZS1hY3RpdmF0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY2FyZHMtY29tbW9uLWFuZy9zcmMvY29tcG9uZW50cy9iYi1wYXltZW50LWNhcmQtaW5pdGlhdGUtYWN0aXZhdGlvbi9wYXltZW50LWNhcmQtaW5pdGlhdGUtYWN0aXZhdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7Ozs7OztBQU8zRCxNQUFNLE9BQU8sc0NBQXNDO0lBSm5EO1FBU0U7O1dBRUc7UUFDTSxnQ0FBMkIsR0FBRyxLQUFLLENBQUM7UUFDN0M7O1dBRUc7UUFDZ0IsdUJBQWtCLEdBQUcsSUFBSSxZQUFZLEVBQVUsQ0FBQztRQUVuRTs7V0FFRztRQUNNLFlBQU8sR0FBRyxJQUFJLENBQUM7UUFFeEI7O1dBRUc7UUFDSCxnQkFBVyxHQUFHLEtBQUssQ0FBQztRQUVwQjs7V0FFRztRQUNILFNBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQztZQUNuQixLQUFLLEVBQUUsSUFBSSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0UsQ0FBQyxDQUFDO0tBeUNKO0lBdkNDLFFBQVE7UUFDTixJQUFJLE9BQU8sSUFBSSxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7WUFDM0MsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1NBQ2xGO0lBQ0gsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxRQUFRLENBQUMsTUFBeUI7UUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVEOztPQUVHO0lBQ0gsV0FBVztRQUNULElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQzFCLENBQUM7SUFFRDs7T0FFRztJQUNILFlBQVk7UUFDVixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7T0FFRztJQUNILFlBQVksQ0FBQyxTQUFpQjtRQUM1QixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzRCxDQUFDOztvSUFyRVUsc0NBQXNDO3dIQUF0QyxzQ0FBc0Msc09DVG5ELHlrSEFxRkEsNmxDRE9hLDRDQUE0Qyx3R0FSNUMsZ0RBQWdEOzRGQTNFaEQsc0NBQXNDO2tCQUpsRCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxxQ0FBcUM7b0JBQy9DLFdBQVcsRUFBRSxtREFBbUQ7aUJBQ2pFOzhCQUtVLFdBQVc7c0JBQW5CLEtBQUs7Z0JBSUcsMkJBQTJCO3NCQUFuQyxLQUFLO2dCQUlhLGtCQUFrQjtzQkFBcEMsTUFBTTs7QUErRFQsTUFBTSxPQUFPLGdEQUFpRCxTQUFRLFVBR3JFOzs4SUFIWSxnREFBZ0Q7a0lBQWhELGdEQUFnRDs0RkFBaEQsZ0RBQWdEO2tCQUg1RCxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSw2Q0FBNkM7aUJBQ3hEOztBQVNELE1BQU0sT0FBTyw0Q0FBNkMsU0FBUSxVQUdqRTs7MElBSFksNENBQTRDOzhIQUE1Qyw0Q0FBNEM7NEZBQTVDLDRDQUE0QztrQkFIeEQsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUseUNBQXlDO2lCQUNwRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEJiVGVtcGxhdGUgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBQYXltZW50Q2FyZCB9IGZyb20gJy4uLy4uL21vZGVsL3BheW1lbnQtY2FyZC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2JiLXBheW1lbnQtY2FyZC1pbml0aWF0ZS1hY3RpdmF0aW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BheW1lbnQtY2FyZC1pbml0aWF0ZS1hY3RpdmF0aW9uLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgUGF5bWVudENhcmRJbml0aWF0ZUFjdGl2YXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAvKipcbiAgICogUGF5bWVudCBjYXJkIHRvIGJlIGRpc3BsYXllZC5cbiAgICovXG4gIEBJbnB1dCgpIHBheW1lbnRDYXJkOiBQYXltZW50Q2FyZCB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFdoZXRoZXIgY2FyZCBhY3RpdmF0aW9uIGhhcyBiZWVuIGluaXRpYXRlZC5cbiAgICovXG4gIEBJbnB1dCgpIGlzSW5pdGlhdGVBY3RpdmF0aW9uTG9hZGluZyA9IGZhbHNlO1xuICAvKipcbiAgICogRXZlbnQgdG8gaW5pdGlhdGUgYWN0aXZhdGlvbiBvZiBwYXltZW50IGNhcmQ7XG4gICAqL1xuICBAT3V0cHV0KCkgcmVhZG9ubHkgaW5pdGlhdGVBY3RpdmF0aW9uID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgLyoqXG4gICAqIFJlZmVyZW5jZSB0byBpbnN0YW5jZSBvZiBjdXN0b21pemFibGUgY29tcG9uZW50LlxuICAgKi9cbiAgcmVhZG9ubHkgaG9zdFJlZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gZGVub3RlIHdoZXRoZXIgdGhlIGFjdGl2YXRpb24gbW9kYWwgaXMgb3BlbiBvciBub3QuXG4gICAqL1xuICBpc01vZGFsT3BlbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBGb3JtIG1vZGVsIGZvciBpbml0aWF0aW5nIGFjdGl2YXRpb24uXG4gICAqL1xuICBmb3JtID0gbmV3IEZvcm1Hcm91cCh7XG4gICAgdG9rZW46IG5ldyBGb3JtQ29udHJvbCgnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMubWluTGVuZ3RoKDMpXSksXG4gIH0pO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wYXltZW50Q2FyZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgXCJwYXltZW50Q2FyZFwiIGlucHV0IGlzIHJlcXVpcmVkIGluIFwiJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9XCJgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3VibWl0IGhhbmRsZXIgZm9yIGluaXRpYXRpbmcgYWN0aXZhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIGZvcm0gbW9kZWwgdmFsdWVcbiAgICovXG4gIG9uU3VibWl0KHBhcmFtczogeyB0b2tlbjogc3RyaW5nIH0pIHtcbiAgICB0aGlzLmlzTW9kYWxPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWF0ZUFjdGl2YXRpb24uZW1pdChwYXJhbXMudG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBtb2RhbC5cbiAgICovXG4gIG9uTW9kYWxPcGVuKCkge1xuICAgIHRoaXMuaXNNb2RhbE9wZW4gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgbW9kYWwuXG4gICAqL1xuICBvbk1vZGFsQ2xvc2UoKSB7XG4gICAgdGhpcy5pc01vZGFsT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuZm9ybS5yZXNldCh7IHRva2VuOiAnJyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtIGVsZW1lbnQgdmFsaWRhdGlvbiBjb250cm9sLlxuICAgKi9cbiAgaXNGaWVsZFZhbGlkKGZpZWxkTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMuZm9ybS5nZXQoZmllbGROYW1lKTtcblxuICAgIHJldHVybiAhIWNvbnRyb2wgJiYgKGNvbnRyb2wudmFsaWQgfHwgY29udHJvbC51bnRvdWNoZWQpO1xuICB9XG59XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYkNhcmRzSW5pdGlhdGVBY3RpdmF0aW9uRm9ybUN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBDYXJkc0luaXRpYXRlQWN0aXZhdGlvbkZvcm1DdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFxuICBQYXltZW50Q2FyZEluaXRpYXRlQWN0aXZhdGlvbkNvbXBvbmVudCxcbiAgdW5kZWZpbmVkXG4+IHt9XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tiYkNhcmRzSW5pdGlhdGVBY3RpdmF0aW9uQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIENhcmRzSW5pdGlhdGVBY3RpdmF0aW9uQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgUGF5bWVudENhcmRJbml0aWF0ZUFjdGl2YXRpb25Db21wb25lbnQsXG4gIHVuZGVmaW5lZFxuPiB7fVxuIiwiPG5nLWNvbnRhaW5lciBiYkNhcmRzSW5pdGlhdGVBY3RpdmF0aW9uQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiPjwvbmctY29udGFpbmVyPlxuXG48bmctdGVtcGxhdGUgYmJDYXJkc0luaXRpYXRlQWN0aXZhdGlvbkN1c3RvbWl6YWJsZSBsZXQtaG9zdFJlZj5cbiAgPGJiLWxvYWQtYnV0dG9uLXVpXG4gICAgZGF0YS1yb2xlPVwiYWN0aXZhdGUtY2FyZC1idXR0b25cIlxuICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgW2Jsb2NrXT1cInRydWVcIlxuICAgIFtpc0xvYWRpbmddPVwiaG9zdFJlZi5pc0luaXRpYXRlQWN0aXZhdGlvbkxvYWRpbmdcIlxuICAgIChjbGljayk9XCIhaG9zdFJlZi5pc0luaXRpYXRlQWN0aXZhdGlvbkxvYWRpbmcgJiYgaG9zdFJlZi5wYXltZW50Q2FyZD8uc3RhdHVzID09PSAnSU5BQ1RJVkUnICYmIGhvc3RSZWYub25Nb2RhbE9wZW4oKVwiXG4gICAgW2Rpc2FibGVkXT1cImhvc3RSZWYucGF5bWVudENhcmQ/LnN0YXR1cyAhPT0gJ0lOQUNUSVZFJ1wiXG4gICAgaTE4bj1cIkFjdGl2YXRlIGNhcmQgYnV0dG9ufEFjdGl2YXRlIHRoZSBjYXJkQEBjYXJkLmFjdGl2YXRpb24uYnV0dG9uXCJcbiAgPkFjdGl2YXRlIGNhcmQ8L2JiLWxvYWQtYnV0dG9uLXVpPlxuXG4gIDxiYi1tb2RhbC11aVxuICAgIFtpc09wZW5dPVwiaG9zdFJlZi5pc01vZGFsT3BlblwiXG4gICAgW21vZGFsT3B0aW9uc109XCJ7IGNlbnRlcmVkOiB0cnVlIH1cIlxuICAgIChjYW5jZWwpPVwiaG9zdFJlZi5vbk1vZGFsQ2xvc2UoKVwiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhzXCI+XG4gICAgICAgIDxoMiBpMThuPVwiQWN0aXZhdGUgY2FyZCBoZWFkaW5nfEFjdGl2YXRlIGNhcmQgaGVhZGVyQEBjYXJkLmFjdGl2YXRpb25Gb3JtLmhlYWRpbmdcIj5cbiAgICAgICAgICBBY3RpdmF0ZSBjYXJkXG4gICAgICAgIDwvaDI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8bmctY29udGFpbmVyIGJiQ2FyZHNJbml0aWF0ZUFjdGl2YXRpb25Gb3JtQ3VzdG9taXphYmxlIFtiYkhvc3RSZWZdPVwiaG9zdFJlZlwiPjwvbmctY29udGFpbmVyPlxuICA8L2JiLW1vZGFsLXVpPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIGJiQ2FyZHNJbml0aWF0ZUFjdGl2YXRpb25Gb3JtQ3VzdG9taXphYmxlIGxldC1ob3N0UmVmPlxuICA8Zm9ybSAqbmdJZj1cImhvc3RSZWYuaXNNb2RhbE9wZW5cIiBbZm9ybUdyb3VwXT1cImhvc3RSZWYuZm9ybVwiIChuZ1N1Ym1pdCk9XCJob3N0UmVmLm9uU3VibWl0KGhvc3RSZWYuZm9ybS52YWx1ZSlcIj5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1zbS02IG9yZGVyLXNtLTJcIj5cbiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT1cIm1vZGFsLWNhcmQtaW1nXCIgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWQgYmItcGF5bWVudC1jYXJkLWJhY2sgYmItcGF5bWVudC1jYXJkLWljb24tZGlhbG9nXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgPGgzIGkxOG49XCJFbnRlciB5b3VyIGNvZGUgaGVhZGluZ3xIZWFkaW5nIGZvciBlbnRlciB5b3VyIGNvZGVAQGNhcmQuYWN0aXZhdGlvbkZvcm0ub3B0aW9ucy5oZWFkaW5nXCI+XG4gICAgICAgICAgICBFbnRlciB5b3VyIENWViBjb2RlXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8cFxuICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LXN1cHBvcnRcIlxuICAgICAgICAgICAgaTE4bj1cIkVudGVyIHlvdXIgY29kZSBzdWJ0ZXh0fFN1YnRleHQgZm9yIGVudGVyIHlvdXIgY29kZUBAY2FyZC5hY3RpdmF0aW9uRm9ybS5vcHRpb25zLnN1YnRpdGxlXCJcbiAgICAgICAgICA+VG8gYWN0aXZhdGUgeW91ciBjYXJkLCBwbGVhc2UgZW50ZXIgeW91ciBDVlYgY29kZSBhdCB0aGUgYmFjayBvZiB5b3VyIGNhcmQgYXMgc2hvd24uPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNlwiPlxuICAgICAgICAgICAgICA8YmItaW5wdXQtcGFzc3dvcmQtdWlcbiAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJjYXJkLWRldGFpbHMtY3Z2LWlucHV0XCJcbiAgICAgICAgICAgICAgICBbYXV0b2ZvY3VzXT1cInRydWVcIlxuICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInRva2VuXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkNWViBjb2RlXCJcbiAgICAgICAgICAgICAgICBpMThuLWxhYmVsPSdDVlYgQ29kZSBoZWFkaW5nfEhlYWRpbmcgZm9yIENWVkBAY2FyZC5hY3RpdmF0aW9uRm9ybS5vcHRpb25zLmhlYWRpbmcnXG4gICAgICAgICAgICAgID48L2JiLWlucHV0LXBhc3N3b3JkLXVpPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWkgW3Nob3dFcnJvcnNdPVwiIWhvc3RSZWYuaXNGaWVsZFZhbGlkKCd0b2tlbicpXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gaTE4bj1cIkNWViBDb2RlIHZhbGlkYXRpb25AQGNhcmQuYWN0aXZhdGlvbkZvcm0ub3B0aW9ucy50b2tlbi5lcnJvci5tc2dcIj5cbiAgICAgICAgICAgICAgICAgIFlvdSBuZWVkIHRvIGVudGVyIHRoZSBmdWxsIENWViBjb2RlLlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItYnV0dG9uLWJhclwiPlxuICAgICAgICA8YmItYnV0dG9uLXVpXG4gICAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b25cIlxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgW2Rpc2FibGVkXT1cImhvc3RSZWYuZm9ybS5pbnZhbGlkXCJcbiAgICAgICAgICBpMThuPVwiQWN0aXZhdGUgYnV0dG9ufEFjdGl2YXRpb24gY29uZmlybSBidXR0b25AQGNhcmQuYWN0aXZhdGlvbkZvcm0uc3VibWl0QnV0dG9uXCJcbiAgICAgICAgPkFjdGl2YXRlPC9iYi1idXR0b24tdWk+XG4gICAgICAgIDxiYi1idXR0b24tdWlcbiAgICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvblwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY29sb3I9XCJsaW5rXCJcbiAgICAgICAgICAoY2xpY2spPVwiaG9zdFJlZi5vbk1vZGFsQ2xvc2UoKVwiXG4gICAgICAgICAgaTE4bj1cIkNhbmNlbCBidXR0b258Q2FuY2VsIGNhcmQgYWN0aXZhdGlvbkBAY2FyZC5hY3RpdmF0aW9uRm9ybS5jYW5jZWxCdXR0b25cIlxuICAgICAgICA+Q2FuY2VsPC9iYi1idXR0b24tdWk+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9mb3JtPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==