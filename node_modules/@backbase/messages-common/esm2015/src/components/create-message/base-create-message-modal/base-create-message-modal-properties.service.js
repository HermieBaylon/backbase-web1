import { Injectable, Optional } from '@angular/core';
import { defaultModelObservable } from '../../../utils/item-model-property';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/foundation-ang/core";
export const DefaultWidgetProperties = {
    debounceTime: 500,
    maxAttachmentSize: '10',
    maxMailoutNameLength: 255,
    maxSubjectLength: 100,
    maxMessageLength: 300,
    minSearchLength: 1,
    modalHeader: 'New message',
    hideComposeButton: false,
    createMessageOpenEventName: 'bb.event.messages.create.message.open',
    createMessageClosedEventName: 'bb.event.messages.create.message.close',
    senderDisplayName: 'Backbase',
    shouldPreDefineUser: false,
    isPreDefinedUserReadonly: false,
};
export class BaseCreateMessageModalPropertiesService {
    constructor(itemModel) {
        this.itemModel = itemModel;
    }
    /**
     * Max attachment size
     */
    get maxAttachmentSize() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.maxAttachmentSize);
        }
        return this.itemModel.property('maxAttachmentSize', DefaultWidgetProperties.maxAttachmentSize);
    }
    /**
     * Max message length
     */
    get maxMessageLength() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.maxMessageLength);
        }
        return this.itemModel.property('maxMessageLength', DefaultWidgetProperties.maxMessageLength);
    }
    /**
     * Max mailout name length
     */
    get maxMailoutNameLength() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.maxMailoutNameLength);
        }
        return this.itemModel.property('maxMailoutNameLength', DefaultWidgetProperties.maxMailoutNameLength);
    }
    /**
     * Max subject length
     */
    get maxSubjectLength() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.maxSubjectLength);
        }
        return this.itemModel.property('maxSubjectLength', DefaultWidgetProperties.maxSubjectLength);
    }
    /**
     * Modal header
     */
    get modalHeader() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.modalHeader);
        }
        return this.itemModel.property('modalHeader', DefaultWidgetProperties.modalHeader);
    }
    /**
     * Debounce time
     */
    get debounceTime() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.debounceTime);
        }
        return this.itemModel.property('debounceTime', DefaultWidgetProperties.debounceTime);
    }
    /**
     * Min search length
     */
    get minSearchLength() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.minSearchLength);
        }
        return this.itemModel.property('minSearchLength', DefaultWidgetProperties.minSearchLength);
    }
    /**
     * Flag to hide or show compose button
     */
    get hideComposeButton() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.hideComposeButton);
        }
        return this.itemModel.property('hideComposeButton', DefaultWidgetProperties.hideComposeButton);
    }
    /**
     * Open event for create message modal
     */
    get createMessageOpenEventName() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.createMessageOpenEventName);
        }
        return this.itemModel.property('createMessageOpenEventName', DefaultWidgetProperties.createMessageOpenEventName);
    }
    /**
     * Close event for create message modal
     */
    get createMessageClosedEventName() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.createMessageClosedEventName);
        }
        return this.itemModel.property('createMessageClosedEventName', DefaultWidgetProperties.createMessageClosedEventName);
    }
    /**
     * Flag to show or hide sender name
     */
    get senderDisplayName() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.senderDisplayName);
        }
        return this.itemModel.property('senderDisplayName', DefaultWidgetProperties.senderDisplayName);
    }
    /**
     * Flag to predefine or not user input
     */
    get shouldPreDefineUser() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.shouldPreDefineUser);
        }
        return this.itemModel.property('shouldPreDefineUser', DefaultWidgetProperties.shouldPreDefineUser);
    }
    /**
     * Flag to disable predefined user input
     */
    get isPreDefinedUserReadonly() {
        if (!this.itemModel) {
            return defaultModelObservable(DefaultWidgetProperties.isPreDefinedUserReadonly);
        }
        return this.itemModel.property('isPreDefinedUserReadonly', DefaultWidgetProperties.isPreDefinedUserReadonly);
    }
}
BaseCreateMessageModalPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: BaseCreateMessageModalPropertiesService, deps: [{ token: i1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });
BaseCreateMessageModalPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: BaseCreateMessageModalPropertiesService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.14", ngImport: i0, type: BaseCreateMessageModalPropertiesService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.ItemModel, decorators: [{
                    type: Optional
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jcmVhdGUtbWVzc2FnZS1tb2RhbC1wcm9wZXJ0aWVzLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL21lc3NhZ2VzLWNvbW1vbi9zcmMvY29tcG9uZW50cy9jcmVhdGUtbWVzc2FnZS9iYXNlLWNyZWF0ZS1tZXNzYWdlLW1vZGFsL2Jhc2UtY3JlYXRlLW1lc3NhZ2UtbW9kYWwtcHJvcGVydGllcy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDOzs7QUFHNUUsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUc7SUFDckMsWUFBWSxFQUFFLEdBQUc7SUFDakIsaUJBQWlCLEVBQUUsSUFBSTtJQUN2QixvQkFBb0IsRUFBRSxHQUFHO0lBQ3pCLGdCQUFnQixFQUFFLEdBQUc7SUFDckIsZ0JBQWdCLEVBQUUsR0FBRztJQUNyQixlQUFlLEVBQUUsQ0FBQztJQUNsQixXQUFXLEVBQUUsYUFBYTtJQUMxQixpQkFBaUIsRUFBRSxLQUFLO0lBQ3hCLDBCQUEwQixFQUFFLHVDQUF1QztJQUNuRSw0QkFBNEIsRUFBRSx3Q0FBd0M7SUFDdEUsaUJBQWlCLEVBQUUsVUFBVTtJQUM3QixtQkFBbUIsRUFBRSxLQUFLO0lBQzFCLHdCQUF3QixFQUFFLEtBQUs7Q0FDaEMsQ0FBQztBQUdGLE1BQU0sT0FBTyx1Q0FBdUM7SUFDbEQsWUFBeUMsU0FBcUI7UUFBckIsY0FBUyxHQUFULFNBQVMsQ0FBWTtJQUFHLENBQUM7SUFFbEU7O09BRUc7SUFDSCxJQUFJLGlCQUFpQjtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNuQixPQUFPLHNCQUFzQixDQUFDLHVCQUF1QixDQUFDLGlCQUFpQixDQUFDLENB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VTs7MEJBRUksUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJdGVtTW9kZWwgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaXRlbS1tb2RlbC1wcm9wZXJ0eSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcyA9IHtcbiAgZGVib3VuY2VUaW1lOiA1MDAsXG4gIG1heEF0dGFjaG1lbnRTaXplOiAnMTAnLFxuICBtYXhNYWlsb3V0TmFtZUxlbmd0aDogMjU1LFxuICBtYXhTdWJqZWN0TGVuZ3RoOiAxMDAsXG4gIG1heE1lc3NhZ2VMZW5ndGg6IDMwMCxcbiAgbWluU2VhcmNoTGVuZ3RoOiAxLFxuICBtb2RhbEhlYWRlcjogJ05ldyBtZXNzYWdlJyxcbiAgaGlkZUNvbXBvc2VCdXR0b246IGZhbHNlLFxuICBjcmVhdGVNZXNzYWdlT3BlbkV2ZW50TmFtZTogJ2JiLmV2ZW50Lm1lc3NhZ2VzLmNyZWF0ZS5tZXNzYWdlLm9wZW4nLFxuICBjcmVhdGVNZXNzYWdlQ2xvc2VkRXZlbnROYW1lOiAnYmIuZXZlbnQubWVzc2FnZXMuY3JlYXRlLm1lc3NhZ2UuY2xvc2UnLFxuICBzZW5kZXJEaXNwbGF5TmFtZTogJ0JhY2tiYXNlJyxcbiAgc2hvdWxkUHJlRGVmaW5lVXNlcjogZmFsc2UsXG4gIGlzUHJlRGVmaW5lZFVzZXJSZWFkb25seTogZmFsc2UsXG59O1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQmFzZUNyZWF0ZU1lc3NhZ2VNb2RhbFByb3BlcnRpZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgcHJpdmF0ZSByZWFkb25seSBpdGVtTW9kZWw/OiBJdGVtTW9kZWwpIHt9XG5cbiAgLyoqXG4gICAqIE1heCBhdHRhY2htZW50IHNpemVcbiAgICovXG4gIGdldCBtYXhBdHRhY2htZW50U2l6ZSgpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICAgIGlmICghdGhpcy5pdGVtTW9kZWwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlKERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLm1heEF0dGFjaG1lbnRTaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pdGVtTW9kZWwucHJvcGVydHkoJ21heEF0dGFjaG1lbnRTaXplJywgRGVmYXVsdFdpZGdldFByb3BlcnRpZXMubWF4QXR0YWNobWVudFNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1heCBtZXNzYWdlIGxlbmd0aFxuICAgKi9cbiAgZ2V0IG1heE1lc3NhZ2VMZW5ndGgoKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgICBpZiAoIXRoaXMuaXRlbU1vZGVsKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdE1vZGVsT2JzZXJ2YWJsZShEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5tYXhNZXNzYWdlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pdGVtTW9kZWwucHJvcGVydHkoJ21heE1lc3NhZ2VMZW5ndGgnLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5tYXhNZXNzYWdlTGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXggbWFpbG91dCBuYW1lIGxlbmd0aFxuICAgKi9cbiAgZ2V0IG1heE1haWxvdXROYW1lTGVuZ3RoKCk6IE9ic2VydmFibGU8bnVtYmVyPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMubWF4TWFpbG91dE5hbWVMZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnbWF4TWFpbG91dE5hbWVMZW5ndGgnLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5tYXhNYWlsb3V0TmFtZUxlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogTWF4IHN1YmplY3QgbGVuZ3RoXG4gICAqL1xuICBnZXQgbWF4U3ViamVjdExlbmd0aCgpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIGlmICghdGhpcy5pdGVtTW9kZWwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlKERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLm1heFN1YmplY3RMZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnbWF4U3ViamVjdExlbmd0aCcsIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLm1heFN1YmplY3RMZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGFsIGhlYWRlclxuICAgKi9cbiAgZ2V0IG1vZGFsSGVhZGVyKCk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMubW9kYWxIZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnbW9kYWxIZWFkZXInLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5tb2RhbEhlYWRlcik7XG4gIH1cblxuICAvKipcbiAgICogRGVib3VuY2UgdGltZVxuICAgKi9cbiAgZ2V0IGRlYm91bmNlVGltZSgpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIGlmICghdGhpcy5pdGVtTW9kZWwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlKERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLmRlYm91bmNlVGltZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXRlbU1vZGVsLnByb3BlcnR5KCdkZWJvdW5jZVRpbWUnLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5kZWJvdW5jZVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1pbiBzZWFyY2ggbGVuZ3RoXG4gICAqL1xuICBnZXQgbWluU2VhcmNoTGVuZ3RoKCk6IE9ic2VydmFibGU8bnVtYmVyPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMubWluU2VhcmNoTGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pdGVtTW9kZWwucHJvcGVydHkoJ21pblNlYXJjaExlbmd0aCcsIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLm1pblNlYXJjaExlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogRmxhZyB0byBoaWRlIG9yIHNob3cgY29tcG9zZSBidXR0b25cbiAgICovXG4gIGdldCBoaWRlQ29tcG9zZUJ1dHRvbigpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICBpZiAoIXRoaXMuaXRlbU1vZGVsKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdE1vZGVsT2JzZXJ2YWJsZShEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5oaWRlQ29tcG9zZUJ1dHRvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXRlbU1vZGVsLnByb3BlcnR5KCdoaWRlQ29tcG9zZUJ1dHRvbicsIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLmhpZGVDb21wb3NlQnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGV2ZW50IGZvciBjcmVhdGUgbWVzc2FnZSBtb2RhbFxuICAgKi9cbiAgZ2V0IGNyZWF0ZU1lc3NhZ2VPcGVuRXZlbnROYW1lKCk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMuY3JlYXRlTWVzc2FnZU9wZW5FdmVudE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnY3JlYXRlTWVzc2FnZU9wZW5FdmVudE5hbWUnLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5jcmVhdGVNZXNzYWdlT3BlbkV2ZW50TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgZXZlbnQgZm9yIGNyZWF0ZSBtZXNzYWdlIG1vZGFsXG4gICAqL1xuICBnZXQgY3JlYXRlTWVzc2FnZUNsb3NlZEV2ZW50TmFtZSgpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICAgIGlmICghdGhpcy5pdGVtTW9kZWwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlKERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLmNyZWF0ZU1lc3NhZ2VDbG9zZWRFdmVudE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eShcbiAgICAgICdjcmVhdGVNZXNzYWdlQ2xvc2VkRXZlbnROYW1lJyxcbiAgICAgIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLmNyZWF0ZU1lc3NhZ2VDbG9zZWRFdmVudE5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGFnIHRvIHNob3cgb3IgaGlkZSBzZW5kZXIgbmFtZVxuICAgKi9cbiAgZ2V0IHNlbmRlckRpc3BsYXlOYW1lKCk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMuc2VuZGVyRGlzcGxheU5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnc2VuZGVyRGlzcGxheU5hbWUnLCBEZWZhdWx0V2lkZ2V0UHJvcGVydGllcy5zZW5kZXJEaXNwbGF5TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogRmxhZyB0byBwcmVkZWZpbmUgb3Igbm90IHVzZXIgaW5wdXRcbiAgICovXG4gIGdldCBzaG91bGRQcmVEZWZpbmVVc2VyKCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5pdGVtTW9kZWwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TW9kZWxPYnNlcnZhYmxlKERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLnNob3VsZFByZURlZmluZVVzZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLml0ZW1Nb2RlbC5wcm9wZXJ0eSgnc2hvdWxkUHJlRGVmaW5lVXNlcicsIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLnNob3VsZFByZURlZmluZVVzZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gZGlzYWJsZSBwcmVkZWZpbmVkIHVzZXIgaW5wdXRcbiAgICovXG4gIGdldCBpc1ByZURlZmluZWRVc2VyUmVhZG9ubHkoKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLml0ZW1Nb2RlbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb2RlbE9ic2VydmFibGUoRGVmYXVsdFdpZGdldFByb3BlcnRpZXMuaXNQcmVEZWZpbmVkVXNlclJlYWRvbmx5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pdGVtTW9kZWwucHJvcGVydHkoJ2lzUHJlRGVmaW5lZFVzZXJSZWFkb25seScsIERlZmF1bHRXaWRnZXRQcm9wZXJ0aWVzLmlzUHJlRGVmaW5lZFVzZXJSZWFkb25seSk7XG4gIH1cbn1cbiJdfQ==