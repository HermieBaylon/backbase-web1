{"version":3,"file":"backbase-consent-request-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-error.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request.service.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-preferences.service.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-tpp-information/consent-request-tpp-information.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-tpp-information/consent-request-tpp-information.component.html","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-account-selector/consent-request-account-selector.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-account-selector/consent-request-account-selector.component.html","../../../../libs/consent-request-widget-ang/src/consent-request-widget/constants.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-permissions-information/consent-request-permissions-information.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-permissions-information/consent-request-permissions-information.component.html","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-error/consent-request-error.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-error/consent-request-error.component.html","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-container/consent-request-container.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget/consent-request-container/consent-request-container.component.html","../../../../libs/consent-request-widget-ang/src/consent-request-widget.component.ts","../../../../libs/consent-request-widget-ang/src/consent-request-widget.module.ts","../../../../libs/consent-request-widget-ang/backbase-consent-request-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class ConsentRequestAccessDenied {\n  kind: 'ConsentRequestAccessDenied' = 'ConsentRequestAccessDenied';\n  constructor(readonly error: HttpErrorResponse) {}\n}\n\nexport class ConsentRequestNotFound {\n  kind: 'ConsentRequestNotFound' = 'ConsentRequestNotFound';\n  constructor(readonly error: HttpErrorResponse) {}\n}\n\nexport class ConsentRequestBadRequest {\n  kind: 'ConsentRequestBadRequest' = 'ConsentRequestBadRequest';\n  constructor(readonly error: HttpErrorResponse) {}\n}\n\nexport class ConsentRequestUnknownError {\n  kind: 'ConsentRequestUnknownError' = 'ConsentRequestUnknownError';\n  constructor(readonly error: HttpErrorResponse) {}\n}\n\nexport class ConsentRequestConnectivityError {\n  kind: 'ConsentRequestConnectivityError' = 'ConsentRequestConnectivityError';\n  constructor(readonly error: HttpErrorResponse) {}\n}\n\nexport type ConsentRequestError =\n  | ConsentRequestAccessDenied\n  | ConsentRequestNotFound\n  | ConsentRequestBadRequest\n  | ConsentRequestUnknownError\n  | ConsentRequestConnectivityError;\n\nexport const parseError = (error: HttpErrorResponse): ConsentRequestError => {\n  if (error.error instanceof ErrorEvent) {\n    return new ConsentRequestUnknownError(error);\n  } else {\n    switch (error.status) {\n      case 0:\n        return new ConsentRequestConnectivityError(error);\n      case 400:\n        return new ConsentRequestBadRequest(error);\n      case 401:\n        return new ConsentRequestAccessDenied(error);\n      case 403:\n        return new ConsentRequestAccessDenied(error);\n      case 404:\n        return new ConsentRequestNotFound(error);\n      default:\n        return new ConsentRequestUnknownError(error);\n    }\n  }\n};\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, ReplaySubject, BehaviorSubject, of } from 'rxjs';\nimport {\n  catchError,\n  pluck,\n  map,\n  filter,\n  distinctUntilChanged,\n  tap,\n  switchMap,\n  shareReplay,\n  take,\n} from 'rxjs/operators';\nimport {\n  ConsentRequestsHttpService,\n  ConsentsHttpService,\n  ConsentRequest,\n  Identifier,\n  Account,\n} from '@backbase/data-ang/consent';\nexport { ConsentRequest, Account, Tpp } from '@backbase/data-ang/consent';\n\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { parseError, ConsentRequestError } from './consent-request-error';\n\nexport interface RedirectUrl {\n  redirectUrl?: string;\n}\n\n@Injectable()\nexport class ConsentRequestService {\n  constructor(\n    private readonly consentReqService: ConsentRequestsHttpService,\n    private readonly consentHttpService: ConsentsHttpService,\n    private readonly notification: NotificationService,\n  ) {}\n\n  private readonly consentRequestId = new ReplaySubject<string>(1);\n\n  readonly loading = new BehaviorSubject<boolean>(true);\n  readonly error = new BehaviorSubject<ConsentRequestError | undefined>(undefined);\n\n  readonly saving = new BehaviorSubject<boolean>(false);\n  readonly savingError = new BehaviorSubject<ConsentRequestError | undefined>(undefined);\n\n  readonly consentRequest = this.consentRequestId.pipe(\n    filter((id: string) => !!id),\n    distinctUntilChanged(),\n    tap(() => this.loading.next(true)),\n    switchMap((id: string) => this.loadConsentRequest(id)),\n    tap(() => this.error.next(undefined)),\n    catchError((error: ConsentRequestError) => {\n      this.error.next(error);\n      return of(undefined);\n    }),\n    tap(() => this.loading.next(false)),\n    shareReplay(1),\n  );\n\n  getConsentRequestFrom(consentRequestId: Observable<string>) {\n    consentRequestId.subscribe(this.consentRequestId);\n  }\n\n  /**\n   * Function for allow consent request\n   * @param account - accounts list\n   * @param templateRef - template for notification\n   */\n  allowConsentRequest(account: Array<Account>, templateRef: TemplateRef<any> | string): Observable<RedirectUrl> {\n    return this.consentRequest.pipe(\n      take(1),\n      filter((consentRequest: ConsentRequest | undefined) => !!consentRequest),\n      tap(() => this.saving.next(true)),\n      switchMap((consentRequest: ConsentRequest | undefined) => this.allow(consentRequest as ConsentRequest, account)),\n      tap(() => this.savingError.next(undefined)),\n      catchError((error: ConsentRequestError) => this.handleError(error, templateRef)),\n      tap(() => this.saving.next(false)),\n    );\n  }\n\n  rejectConsentRequest(templateRef: TemplateRef<any> | string): Observable<RedirectUrl> {\n    return this.consentRequest.pipe(\n      take(1),\n      filter((consentRequest: ConsentRequest | undefined) => consentRequest !== undefined),\n      tap(() => this.saving.next(true)),\n      switchMap((consentRequest: ConsentRequest | undefined) => this.reject(consentRequest as ConsentRequest)),\n      tap(() => this.savingError.next(undefined)),\n      catchError((error: ConsentRequestError) => this.handleError(error, templateRef)),\n      tap(() => this.saving.next(false)),\n    );\n  }\n\n  private handleError(error: ConsentRequestError, templateRef: TemplateRef<any> | string) {\n    this.savingError.next(error);\n    if (templateRef) {\n      this.notification.showNotification({\n        header: templateRef,\n        message: '',\n        modifier: 'error',\n      });\n    }\n    return of({});\n  }\n\n  private loadConsentRequest(id: string): Observable<ConsentRequest> {\n    return this.consentReqService.getIdById({ id }, 'response').pipe(\n      pluck<HttpResponse<ConsentRequest>, ConsentRequest>('body'),\n      catchError<ConsentRequest, never>((error: HttpErrorResponse) => {\n        throw parseError(error);\n      }),\n    );\n  }\n\n  private allow(\n    { id: consentRequestId, allowConsentRedirectUrl: redirectUrl }: ConsentRequest,\n    accounts: Account[],\n  ): Observable<RedirectUrl> {\n    return this.consentHttpService\n      .postConsents(\n        {\n          consentPost: {\n            consentRequestId,\n            accounts: accounts.map((account: Account) => account.id),\n          },\n        },\n        'response',\n      )\n      .pipe(\n        pluck<HttpResponse<Identifier>, Identifier>('body'),\n        map(() => ({ redirectUrl })),\n        catchError((error: HttpErrorResponse) => {\n          throw parseError(error);\n        }),\n      );\n  }\n\n  private reject({ id, rejectConsentRedirectUrl: redirectUrl }: ConsentRequest): Observable<RedirectUrl> {\n    return this.consentReqService.postRejectById({ id }, 'response').pipe(\n      map(() => ({ redirectUrl })),\n      catchError((error: HttpErrorResponse) => {\n        throw parseError(error);\n      }),\n    );\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { ItemModel } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport { Property } from '@backbase/lib-bb-page-bootstrap-cdn';\n\n@Injectable()\nexport class ConsentRequestPreferencesService {\n  constructor(@Optional() private readonly itemModel: ItemModel) {}\n\n  private getProperty<T>(input$: Observable<T | undefined>, itemModel: Observable<Property>): Observable<T> {\n    return combineLatest([input$, itemModel]).pipe(\n      map(([value, valueIM]) => (value === undefined ? valueIM : value) as T),\n    );\n  }\n\n  private getItemModelProperty<T extends Property>(name: string, defaultVal: T): Observable<T> {\n    return this.itemModel?.property<T>(name, defaultVal) || of(defaultVal);\n  }\n\n  /**\n   * Stream of multiAccountSelection property (based on CXP value)\n   */\n  private readonly multiAccountSelectionItemModel = this.getItemModelProperty('multiAccountSelection', false).pipe(\n    map(Boolean),\n  );\n\n  /**\n   * Stream of multiAccountSelection property (based on INPUT value)\n   */\n  readonly multiAccountSelectionInput = new BehaviorSubject<boolean>(false);\n\n  /**\n   * Stream of multiAccountSelection property (based on BOTH values)\n   */\n  readonly multiAccountSelection$: Observable<boolean> = this.getProperty<boolean>(\n    this.multiAccountSelectionInput,\n    this.multiAccountSelectionItemModel,\n  );\n}\n","import { Component, Input, Directive } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { Tpp } from '../consent-request.service';\n\n@Component({\n  selector: 'bb-consent-request-tpp-information',\n  templateUrl: './consent-request-tpp-information.component.html',\n})\nexport class ConsentRequestTppInformationComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: ConsentRequestTppInformationComponent = this;\n  /**\n   * Third party provider\n   */\n  @Input() tpp: Tpp | undefined;\n}\n\n@Directive({\n  selector: '[bbConsentRequestTppInformationCustomizable]',\n})\nexport class ConsentRequestTppInformationCustomizableDirective extends BbTemplate<\n  ConsentRequestTppInformationComponent,\n  Tpp\n> {}\n","<ng-container bbConsentRequestTppInformationCustomizable [bbHostRef]=\"hostRef\" [bbTemplateContext]=\"tpp\">\n</ng-container>\n\n<ng-template bbConsentRequestTppInformationCustomizable let-hostRef let-tpp=\"context\">\n  <div\n    class=\"bb-block--sm bb-text-bold\"\n    i18n=\"Requested by|Third party information@@consent-request.label.requestedBy\"\n    data-role=\"requested-by-label\">\n    Requested by\n  </div>\n\n  <div class=\"card card-sm\">\n    <div class=\"card-body\">\n      <bb-third-party-provider-ui\n        [name]=\"tpp.name\"\n        [url]=\"tpp.website\"\n        [verified]=\"tpp.isTrusted\"\n        [image]=\"tpp.imageUrl\"\n        data-role=\"third-party-provider-label\">\n      </bb-third-party-provider-ui>\n    </div>\n  </div>\n</ng-template>\n","import { Component, Input, Output, EventEmitter, Directive, OnDestroy } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { Account } from '../consent-request.service';\n\n@Component({\n  selector: 'bb-consent-request-account-selector',\n  templateUrl: './consent-request-account-selector.component.html',\n})\nexport class ConsentRequestAccountSelectorComponent implements OnDestroy {\n  /**\n   * Component context\n   */\n  readonly hostRef: ConsentRequestAccountSelectorComponent = this;\n  /**\n   * If error should be shown\n   */\n  @Input() showError = false;\n  /**\n   * Flag for multi account selection\n   */\n  @Input() multiAccountSelection = false;\n  /**\n   * Setter for List of accounts\n   */\n  @Input() set accounts(value: Account[]) {\n    if (value) {\n      this._accounts = value;\n      this.allAccounts = value;\n    }\n  }\n\n  searchedFields = ['name', 'balance'];\n  _accounts: Account[] = [];\n  allAccounts: Account[] = [];\n  /**\n   * Selected Account\n   */\n  @Input() selectedAccount: Array<Account> | undefined;\n  /**\n   * Emitter that fires when you select an account\n   */\n  @Output() selectedAccountChange: EventEmitter<Array<Account>> = new EventEmitter<Array<Account>>();\n\n  private readonly form!: FormGroup;\n  private readonly destroy = new Subject<void>();\n\n  accountSelector = {\n    change: (self: any, item: any) => {\n      this.onSelectAccount(item);\n      self.selectedItem = item;\n      self.eventTriggered = '$change';\n      self.eventState = item;\n    },\n    scrollToEnd: (self: any, event: any) => {\n      self.eventTriggered = '$scrollToEnd';\n      self.eventState = event;\n    },\n  };\n\n  constructor() {\n    this.form = new FormGroup({\n      query: new FormControl(''),\n    });\n\n    (this.form.get('query') as FormArray).valueChanges.pipe(takeUntil(this.destroy)).subscribe(selectedValue => {\n      this._accounts = this.allAccounts.filter((item: any) => {\n        return this.searchedFields.some(\n          (field: any) => item[field].toString().toLocaleLowerCase().indexOf(selectedValue.toLocaleLowerCase()) !== -1,\n        );\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy.next();\n    this.destroy.complete();\n  }\n\n  /**\n   * Emit selected accounts\n   * @param account - account list\n   */\n  onSelectAccount(account: any): void {\n    this.selectedAccountChange.emit(this.multiAccountSelection ? account : [account]);\n    this.showError = false;\n  }\n\n  checkSelected(item: any) {\n    if (this.selectedAccount) {\n      return this.selectedAccount.includes(item);\n    }\n    return false;\n  }\n\n  onSearchClear() {\n    // @ts-ignore\n    this.form.get('query').setValue('');\n  }\n\n  selectAll() {\n    this.selectedAccountChange.emit(this.allAccounts);\n  }\n\n  unselectAll() {\n    this.selectedAccountChange.emit([]);\n  }\n}\n\n@Directive({\n  selector: '[bbConsentRequestAccountSelectorCustomizable]',\n})\nexport class ConsentRequestAccountSelectorCustomizableDirective extends BbTemplate<\n  ConsentRequestAccountSelectorComponent,\n  Account[]\n> {}\n","<ng-container bbConsentRequestAccountSelectorCustomizable [bbHostRef]=\"hostRef\" [bbTemplateContext]=\"_accounts\">\n</ng-container>\n\n<ng-template bbConsentRequestAccountSelectorCustomizable let-hostRef let-accounts=\"context\">\n  <div\n    class=\"bb-block bb-block--sm bb-text-bold\"\n    *ngIf=\"!hostRef.selectedAccount || (hostRef.selectedAccount && hostRef.selectedAccount.length <= 1)\"\n    i18n=\"Account Exposed|Account Exposed label@@consent-request.label.accountExposed\"\n    data-role=\"account-exposed-label\">\n    Account Exposed\n  </div>\n  <div\n    class=\"bb-block bb-block--sm bb-text-bold\"\n    *ngIf=\"hostRef.selectedAccount && hostRef.selectedAccount.length > 1\"\n    i18n=\"Accounts Exposed|Account Exposed label@@consent-request.label.accountsExposed\"\n    data-role=\"accounts-exposed-label\">\n    Accounts Exposed\n  </div>\n\n  <div [ngClass]=\"{ 'border border-danger rounded': hostRef.showError }\">\n    <bb-account-selector-ui\n      data-role=\"account-selector\"\n      [items]=\"accounts\"\n      [highlight]=\"true\"\n      [disableScrollEnd]=\"false\"\n      [filterItems]=\"false\"\n      [multiple]=\"hostRef.multiAccountSelection\"\n      [closeOnSelect]=\"!hostRef.multiAccountSelection\"\n      [dropdownPosition]=\"'bottom'\"\n      [selectedItems]=\"\n        hostRef.multiAccountSelection\n          ? hostRef.selectedAccount\n          : hostRef.selectedAccount\n          ? hostRef.selectedAccount[0]\n          : undefined\n      \"\n      (change)=\"hostRef.accountSelector.change(hostRef.accountSelector, $event)\"\n      (scrollToEnd)=\"hostRef.accountSelector.scrollToEnd(hostRef.accountSelector, $event)\"\n      placeholder=\"Select Accounts\"\n      i18n-placeholder=\"Select Accounts placeholder@@consent-request.account-selector.placeholder\">\n      <ng-template bbCustomOptionsHeader>\n        <div class=\"m-2\">\n          <form [formGroup]=\"hostRef.form\">\n            <bb-search-box-ui\n              formControlName=\"query\"\n              [showClear]=\"true\"\n              [showSearch]=\"true\"\n              (clear)=\"hostRef.onSearchClear($event)\"\n              [autofocus]=\"true\"\n              placeholder=\"Search\"\n              autocomplete=\"off\"\n              i18n-placeholder=\"Search@@consent-request.account-selector-ui.search.placeholder\"></bb-search-box-ui>\n          </form>\n        </div>\n        <div class=\"bb-account-selector--multiple__selected-account-filters\" *ngIf=\"hostRef.multiAccountSelection\">\n          <button\n            (click)=\"hostRef.selectAll()\"\n            bbButton\n            buttonSize=\"sm\"\n            color=\"link\"\n            i18n=\"Select all|Select all text@@consent-request.account-selector-ui.select.all.text\"\n            data-role=\"select-all\">\n            Select all\n          </button>\n          <button\n            (click)=\"hostRef.unselectAll()\"\n            bbButton\n            buttonSize=\"sm\"\n            color=\"link\"\n            i18n=\"Unselect all|Unselect all text@@consent-request.account-selector-ui.unselect.all.text\"\n            data-role=\"unselect-all\">\n            Unselect all\n          </button>\n        </div>\n      </ng-template>\n      <ng-template bbCustomSingleSelectedItemLabel let-item=\"item\">\n        <bb-product-item-basic-account-ui\n          [active]=\"true\"\n          [amount]=\"item.balance\"\n          [currency]=\"item.currency\"\n          [productNumber]=\"item.IBAN || item.BBAN || item.number\"\n          [title]=\"item.name\">\n          <ng-template bbCustomProductItemBasicAccountDetailsFormatter let-amount=\"amount\" let-currency=\"currency\">\n            <bb-amount-ui\n              class=\"font-weight-bold\"\n              [amount]=\"amount\"\n              [currency]=\"currency\"\n              [mapCurrency]=\"false\"></bb-amount-ui>\n          </ng-template>\n        </bb-product-item-basic-account-ui>\n      </ng-template>\n      <ng-template bbCustomOptionItem let-item$=\"item$\" let-item=\"item\">\n        <bb-product-item-basic-account-ui\n          [active]=\"hostRef.checkSelected(item)\"\n          [productNumber]=\"item.IBAN || item.BBAN || item.number\"\n          [amount]=\"item.balance\"\n          [currency]=\"item.currency\"\n          [title]=\"item.name\">\n          <ng-template bbCustomProductItemBasicAccountDetailsFormatter let-amount=\"amount\" let-currency=\"currency\">\n            <bb-amount-ui\n              class=\"bb-highlight bb-product-item__amount\"\n              [amount]=\"amount\"\n              [currency]=\"currency\"\n              [bbHighlight]=\"true\"></bb-amount-ui>\n          </ng-template>\n        </bb-product-item-basic-account-ui>\n      </ng-template>\n    </bb-account-selector-ui>\n  </div>\n  <div\n    *ngIf=\"hostRef.showError\"\n    class=\"text-danger mt-2\"\n    data-role=\"no-accounts-error-message\"\n    i18n=\"Select an account|No account selected label@@consent-request.label.noAccountSelected\">\n    Select an account.\n  </div>\n</ng-template>\n","export const Permission = {\n  ReadAccountsDetail: 'ReadAccountsDetail',\n  ReadBalances: 'ReadBalances',\n  ReadTransactionsDetail: 'ReadTransactionsDetail',\n  ReadBeneficiariesDetail: 'ReadBeneficiariesDetail',\n  ReadDirectDebits: 'ReadDirectDebits',\n  ReadProducts: 'ReadProducts',\n  ReadStandingOrdersDetail: 'ReadStandingOrdersDetail',\n  ReadTransactionsCredits: 'ReadTransactionsCredits',\n  ReadTransactionsDebits: 'ReadTransactionsDebits',\n};\n","import { Component, Input, Directive } from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\nimport { Permission } from '../constants';\n\n@Component({\n  selector: 'bb-consent-request-permissions-information',\n  templateUrl: './consent-request-permissions-information.component.html',\n})\nexport class ConsentRequestPermissionsInformationComponent {\n  /**\n   * Component context\n   */\n  readonly hostRef: ConsentRequestPermissionsInformationComponent = this;\n  /**\n   * List of permissions\n   */\n  @Input() permissions: string[] = [];\n\n  /**\n   * Permission mapper\n   */\n  readonly Permission = Permission;\n\n  /**\n   * Check if permission contains provided permission\n   * @param permission\n   */\n  hasPermission(permission: string): boolean {\n    return this.permissions.includes(permission);\n  }\n}\n\n@Directive({\n  selector: '[bbConsentRequestPermissionsInformationCustomizable]',\n})\nexport class ConsentRequestPermissionsInformationCustomizableDirective extends BbTemplate<\n  ConsentRequestPermissionsInformationComponent,\n  string[]\n> {}\n","<ng-container\n  bbConsentRequestPermissionsInformationCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"permissions\">\n</ng-container>\n\n<ng-template bbConsentRequestPermissionsInformationCustomizable let-hostRef let-permissions=\"context\">\n  <div\n    class=\"bb-block--sm bb-text-bold\"\n    i18n=\"Permission you grant|Permissions you grant label@@consent-request.label.grantPermissions\"\n    data-role=\"permissions-grant-label\">\n    What permissions you grant\n  </div>\n\n  <div class=\"card\">\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadAccountsDetail)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        data-role=\"account-information-label\"\n        i18n=\"\n          Account Information|Account Information Permission\n          title@@consent-request.label.permission.ReadAccountsDetail.title\">\n        Account information\n      </div>\n      <div\n        class=\"bb-consent-request__account-information\"\n        i18n=\"\n          Account Information details|Account Information Permission\n          subtitle@@consent-request.label.permission.ReadAccountsDetail.subtitle\">\n        Name, number\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadBalances)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        data-role=\"account-balance-label\"\n        i18n=\"Account Balance|Account Balance Permission title@@consent-request.label.permission.ReadBalances.title\">\n        Account balance\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadTransactionsDetail)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        data-role=\"transactions-label\"\n        i18n=\"\n          Transactions|Transaction Details Permission\n          title@@consent-request.label.permission.ReadTransactionsDetail.title\">\n        Transactions\n      </div>\n      <div\n        i18n=\"\n          Transactions details |Transaction Details Permission\n          subtitle@@consent-request.label.permission.ReadTransactionsDetail.subtitle\">\n        Category, amount, date, time, beneficiary details\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadBeneficiariesDetail)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"Beneficiaries|Beneficiaries title@@consent-request.label.permission.ReadBeneficiariesDetail.title\">\n        Beneficiaries details\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadDirectDebits)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"Direct Debits|Direct Debits Permission title@@consent-request.label.permission.ReadDirectDebits.title\">\n        Direct Debits\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadProducts)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"Products|Products Permission title@@consent-request.label.permission.ReadProducts.title\">\n        Products\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadStandingOrdersDetail)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"\n          Standing Orders|Standing Orders Permission\n          title@@consent-request.label.permission.ReadStandingOrdersDetail.title\">\n        Standing Orders\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadTransactionsCredits)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"\n          Transactions Credits|Transactions Credits Permission\n          title@@consent-request.label.permission.ReadTransactionsCredits.title\">\n        Transactions Credits\n      </div>\n    </div>\n\n    <div class=\"card-section\" *ngIf=\"hostRef.hasPermission(hostRef.Permission.ReadTransactionsDebits)\">\n      <div\n        class=\"bb-consent-request__information-label\"\n        i18n=\"\n          Transactions Debits|Transactions Debits Permission\n          title@@consent-request.label.permission.ReadTransactionsDebits.title\">\n        Transactions Debits\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-consent-request-error',\n  templateUrl: './consent-request-error.component.html',\n})\nexport class ConsentRequestErrorComponent {\n  /**\n   * Id Required to check if invalid consent\n   */\n  @Input() consentRequestId: string | undefined | null;\n  /**\n   * Error kind to check against\n   */\n  @Input() errorKind: string | undefined;\n}\n","<bb-empty-state-ui\n  *ngIf=\"!consentRequestId\"\n  title=\"Unexpected Error\"\n  i18n-title=\"\n    Unexpected Error title|Empty state label when there is an unexpected\n    error@@consent-request.error.noConsentRequest.title\"\n  subtitle=\"Something's gone wrong with our server. Please try again later.\"\n  i18n-subtitle=\"\n    Unexpected Error subtitle|Empty state subtitle label when there is an unexpected\n    error@@consent-request.error.noConsentRequest.subtitle\"\n  iconModifier=\"error\"></bb-empty-state-ui>\n<ng-container *ngIf=\"consentRequestId && errorKind\" [ngSwitch]=\"errorKind\">\n  <bb-empty-state-ui\n    *ngSwitchCase=\"'ConsentRequestAccessDenied'\"\n    title=\"Permissions required\"\n    i18n-title=\"\n      Permissions required|Error state label when user does not have permissions to view consent\n      request@@consent-request.error.accessDenied.title\"\n    subtitle=\"You don't have permissions to manage consents.\"\n    i18n-subtitle=\"\n      No Permissions Subtitle|Error state subtitle label when user does not have permissions to view consent\n      requests@@consent-request.error.accessDenied.subtitle\"\n    iconModifier=\"lock\"></bb-empty-state-ui>\n\n  <bb-empty-state-ui\n    *ngSwitchCase=\"'ConsentRequestConnectivityError'\"\n    title=\"Connectivity Error\"\n    i18n-title=\"\n      Connectivity Error title|Empty state label when there is connectivity\n      error@@consent-request.error.connectivity.title\"\n    subtitle=\"Are you connected to the internet? Please check your connection and try again.\"\n    i18n-subtitle=\"\n      Connectivity Error subtitle|Empty state subtitle label when there is connectivity\n      error@@consent-request.error.connectivity.subtitle\"\n    iconModifier=\"error\"></bb-empty-state-ui>\n\n  <!-- This will usually happen on environment misconfiguration -->\n  <!-- ConsentRequestNotFound | ConsentRequestUnknownError | ConsentRequestBadRequest-->\n  <bb-empty-state-ui\n    *ngSwitchDefault\n    title=\"Unexpected Error\"\n    i18n-title=\"\n      Unexpected Error title|Empty state label when there is an unexpected error@@consent-request.error.unexpected.title\"\n    subtitle=\"Something's gone wrong with our server. Please try again later.\"\n    i18n-subtitle=\"\n      Unexpected Error subtitle|Empty state subtitle label when there is an unexpected\n      error@@consent-request.error.unexpected.subtitle\"\n    iconModifier=\"error\"></bb-empty-state-ui>\n</ng-container>\n","import { Component, Directive, ViewChild, TemplateRef, Output, EventEmitter, OnInit } from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { Observable, combineLatest } from 'rxjs';\nimport { pluck, map, tap } from 'rxjs/operators';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\n\nimport { ConsentRequestService, ConsentRequest, Account, RedirectUrl } from '../consent-request.service';\nimport { ConsentRequestError } from '../consent-request-error';\nimport { ConsentRequestPreferencesService } from '../consent-request-preferences.service';\n\n@Component({\n  selector: 'bb-consent-request-container',\n  templateUrl: './consent-request-container.component.html',\n})\nexport class ConsentRequestContainerComponent implements OnInit {\n  /**\n   * Component context\n   */\n  readonly hostRef: ConsentRequestContainerComponent = this;\n  /**\n   * Stream for Multi-account selection usage flag.\n   * If true used a multi-selection account selector, else a single selection account selector.\n   * Retrieving value from CXP manager.\n   */\n  readonly multiAccountSelection$: Observable<boolean> = this.consentRequestPreferencesService.multiAccountSelection$;\n  /**\n   * Emitter that fires when allowing consent\n   */\n  @Output() redirectToAllowUrl: EventEmitter<string> = new EventEmitter<string>();\n  /**\n   * Emitter that fires when rejecting consent\n   */\n  @Output() redirectToRejectUrl: EventEmitter<string> = new EventEmitter<string>();\n  /**\n   * Notification error template reference\n   */\n  @ViewChild('notificationError')\n  notificationErrorTemplate: TemplateRef<any> | string = '';\n  /**\n   * Stream of Consent Request ID\n   */\n  readonly consentRequestId: Observable<string> = this.getRouteParam(this.route, 'consentRequestId').pipe(\n    map(consentRequestId => consentRequestId || ''),\n  );\n  /**\n   * Stream of loading spinner visibility flag\n   */\n  readonly loading: Observable<boolean> = this.service.loading;\n  /**\n   * Stream of Consent request errors\n   */\n  readonly error: Observable<ConsentRequestError | undefined> = this.service.error;\n  /**\n   * Stream of saving state flag\n   */\n  readonly saving: Observable<boolean> = this.service.saving;\n  /**\n   * Stream of saving consent request error\n   */\n  readonly savingError: Observable<ConsentRequestError | undefined> = this.service.savingError;\n  /**\n   * Stream of get consentRequest\n   */\n  readonly consentRequest: Observable<ConsentRequest | undefined> = this.service.consentRequest;\n  /**\n   * List of selected accounts from account selector\n   */\n  selectedAccount: Array<Account> | undefined;\n  /**\n   * Flag for show account error\n   */\n  showAccountError = false;\n\n  /**\n   * Function for allow consent request\n   */\n  allowConsentRequest(): void {\n    if (this.selectedAccount) {\n      this.showAccountError = false;\n      this.service\n        .allowConsentRequest(this.selectedAccount, this.notificationErrorTemplate)\n        .pipe(\n          tap((redirect: RedirectUrl) => {\n            if (redirect.redirectUrl) {\n              this.redirectToAllowUrl.emit(redirect.redirectUrl);\n            }\n          }),\n        )\n        .subscribe();\n    } else {\n      this.showAccountError = true;\n    }\n  }\n\n  /**\n   * Function for reject consent request\n   */\n  rejectConsentRequest(): void {\n    this.service\n      .rejectConsentRequest(this.notificationErrorTemplate)\n      .pipe(\n        tap((response: RedirectUrl) => {\n          if (response.redirectUrl) {\n            this.redirectToRejectUrl.emit(response.redirectUrl);\n          }\n        }),\n      )\n      .subscribe();\n  }\n\n  ngOnInit() {\n    this.service.getConsentRequestFrom(this.consentRequestId);\n  }\n\n  constructor(\n    private readonly service: ConsentRequestService,\n    private readonly route: ActivatedRoute,\n    private consentRequestPreferencesService: ConsentRequestPreferencesService,\n  ) {}\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = combineLatest(\n      route.paramMap.pipe(pluck<ParamMap, string | null>('params', param)),\n      route.queryParamMap.pipe(pluck<ParamMap, string | null>('params', param)),\n      (params, qparams) => {\n        return params ? params : qparams;\n      },\n    );\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // ensure that level that has actual value keeps it from being cleared\n    return combineLatest([paramValue, this.getRouteParam(route.parent, param)]).pipe(\n      map(params => params[0] || params[1]),\n    );\n  }\n}\n\n@Directive({\n  selector: '[bbConsentRequestWidgetCustomizable]',\n})\nexport class ConsentRequestWidgetCustomizableDirective extends BbTemplate<\n  ConsentRequestContainerComponent,\n  { consentRequest: ConsentRequest | undefined | null; multiAccountSelection: boolean | null }\n> {}\n","<ng-container\n  bbConsentRequestWidgetCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"{\n    consentRequest: consentRequest | async,\n    multiAccountSelection: multiAccountSelection$ | async\n  }\">\n</ng-container>\n\n<ng-template\n  bbConsentRequestWidgetCustomizable\n  let-hostRef\n  let-consentRequest=\"context.consentRequest\"\n  let-multiAccountSelection=\"context.multiAccountSelection\">\n  <ng-container *ngIf=\"hostRef.consentRequestId | async; else errorTemplate\">\n    <ng-container *ngIf=\"!(hostRef.loading | async) as loading; else loadingTemplate\">\n      <ng-container *ngIf=\"!(hostRef.error | async); else errorTemplate\">\n        <div class=\"bb-consent-request\" *ngIf=\"consentRequest\">\n          <div\n            class=\"bb-heading-2 bb-block--lg\"\n            data-role=\"request-access-label\"\n            i18n=\"Widget header|Third party request access message@@consent-request.label.header\">\n            Third party requested access to your accounts\n          </div>\n\n          <ng-container *ngIf=\"!(hostRef.saving | async); else savingLoadingTemplate\">\n            <bb-alert-ui\n              *ngIf=\"hostRef.savingError | async\"\n              title=\"Unknown error\"\n              i18n-title=\"Unknown Error|Unknown Error Label@@consent-request.label.error.unknown\"\n              message=\"Try to make action again or contact your system administrator.\"\n              i18n-message=\"Try again|Try again error message@@consent-request.label.error.tryAgain\"\n              data-role=\"allow-consent-request-error\"></bb-alert-ui>\n\n            <div class=\"bb-block--lg\">\n              <bb-consent-request-tpp-information [tpp]=\"consentRequest.tpp\"></bb-consent-request-tpp-information>\n            </div>\n\n            <div class=\"bb-block--lg\">\n              <bb-consent-request-account-selector\n                [multiAccountSelection]=\"multiAccountSelection\"\n                [showError]=\"hostRef.showAccountError\"\n                [accounts]=\"consentRequest.accounts\"\n                [(selectedAccount)]=\"hostRef.selectedAccount\"></bb-consent-request-account-selector>\n            </div>\n\n            <div class=\"bb-block--lg\">\n              <bb-consent-request-permissions-information\n                [permissions]=\"consentRequest.permissions\"></bb-consent-request-permissions-information>\n            </div>\n\n            <div class=\"bb-block--lg\">\n              <div\n                class=\"bb-block--sm bb-text-bold\"\n                data-role=\"expiration-date-label\"\n                i18n=\"Expiration date|Consent expiration date@@consent-request.label.expiryDate\">\n                Expiration date\n              </div>\n\n              <div>{{ consentRequest.expiryDate | bbDate: 'bbShort' }}</div>\n            </div>\n          </ng-container>\n\n          <div class=\"bb-button-bar bb-button-bar--reverse\">\n            <button\n              bbButton\n              [disabled]=\"hostRef.saving | async\"\n              (click)=\"hostRef.allowConsentRequest()\"\n              i18n=\"Allow button|Allow consent request@@consent-request.label.allow\"\n              color=\"primary\"\n              class=\"bb-button-bar__button\"\n              data-role=\"allow-button\">\n              Allow\n            </button>\n            <button\n              bbButton\n              [disabled]=\"hostRef.saving | async\"\n              (click)=\"hostRef.rejectConsentRequest()\"\n              i18n=\"Reject button|Reject consent request@@consent-request.label.reject\"\n              color=\"secondary\"\n              class=\"bb-button-bar__button\"\n              data-role=\"reject-button\">\n              Reject\n            </button>\n          </div>\n\n          <ng-template #savingLoadingTemplate>\n            <div class=\"bb-state-container\">\n              <bb-loading-indicator-ui\n                text=\"Processing the request...\"\n                i18n-text=\"\n                  Processing|Processing the allow/reject request@@consent-request.label.processing\"></bb-loading-indicator-ui>\n            </div>\n          </ng-template>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #loadingTemplate>\n      <div class=\"bb-state-container\">\n        <bb-loading-indicator-ui></bb-loading-indicator-ui>\n      </div>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #errorTemplate>\n    <div class=\"bb-state-container\">\n      <bb-consent-request-error\n        [consentRequestId]=\"hostRef.consentRequestId | async\"\n        [errorKind]=\"$any(hostRef.error | async)?.kind\"></bb-consent-request-error>\n    </div>\n  </ng-template>\n\n  <ng-template #notificationError>\n    <span\n      i18n=\"\n        Operation Failed|Error notification when failing to save request\n        consent@@consent-request.label.notification.error\">\n      Operation failed\n    </span>\n  </ng-template>\n</ng-template>\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { ConsentRequestPreferencesService } from './consent-request-widget/consent-request-preferences.service';\nimport { ConsentRequestService } from './consent-request-widget/consent-request.service';\n\n@Component({\n  selector: 'bb-consent-request-widget',\n  template: `\n    <bb-consent-request-container\n      (redirectToAllowUrl)=\"redirectToAllowUrl($event)\"\n      (redirectToRejectUrl)=\"redirectToRejectUrl($event)\"></bb-consent-request-container>\n  `,\n  providers: [ConsentRequestService, ConsentRequestPreferencesService],\n})\nexport class ConsentRequestWidgetComponent {\n  constructor(private consentRequestPreferencesService: ConsentRequestPreferencesService) {}\n\n  /**\n   * Allow multi account selection\n   */\n  @Input() set multiAccountSelection(value: boolean) {\n    this.consentRequestPreferencesService.multiAccountSelectionInput.next(value);\n  }\n\n  /**\n   * Emitter that fires when allowing consent\n   */\n  @Output() allowConsentRequestRedirectUrl = new EventEmitter<string>();\n\n  /**\n   * Emitter that fires when rejecting consent\n   */\n  @Output() rejectConsentRequestRedirectUrl = new EventEmitter<string>();\n\n  redirectToAllowUrl(url: string) {\n    this.allowConsentRequestRedirectUrl.next(url);\n  }\n\n  redirectToRejectUrl(url: string) {\n    this.rejectConsentRequestRedirectUrl.next(url);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { ConsentUiModule } from '@backbase/consent-ui';\n\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ProductItemBasicAccountModule } from '@backbase/ui-ang/product-item-basic-account';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\nimport { NotificationModule } from '@backbase/ui-ang/notification';\nimport { AccountSelectorModule } from '@backbase/ui-ang/account-selector';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { SearchBoxModule } from '@backbase/ui-ang/search-box';\nimport { HighlightModule } from '@backbase/ui-ang/highlight';\nimport {\n  ConsentRequestContainerComponent,\n  ConsentRequestWidgetCustomizableDirective,\n} from './consent-request-widget/consent-request-container/consent-request-container.component';\nimport { ConsentRequestErrorComponent } from './consent-request-widget/consent-request-error/consent-request-error.component';\nimport {\n  ConsentRequestPermissionsInformationComponent,\n  ConsentRequestPermissionsInformationCustomizableDirective,\n} from './consent-request-widget/consent-request-permissions-information/consent-request-permissions-information.component';\nimport {\n  ConsentRequestAccountSelectorComponent,\n  ConsentRequestAccountSelectorCustomizableDirective,\n} from './consent-request-widget/consent-request-account-selector/consent-request-account-selector.component';\nimport {\n  ConsentRequestTppInformationComponent,\n  ConsentRequestTppInformationCustomizableDirective,\n} from './consent-request-widget/consent-request-tpp-information/consent-request-tpp-information.component';\nimport { ConsentRequestWidgetComponent } from './consent-request-widget.component';\n\nconst components = [\n  ConsentRequestWidgetComponent,\n  ConsentRequestErrorComponent,\n  ConsentRequestPermissionsInformationComponent,\n  ConsentRequestTppInformationComponent,\n  ConsentRequestAccountSelectorComponent,\n  ConsentRequestContainerComponent,\n];\n\nconst directives = [\n  ConsentRequestWidgetCustomizableDirective,\n  ConsentRequestPermissionsInformationCustomizableDirective,\n  ConsentRequestTppInformationCustomizableDirective,\n  ConsentRequestAccountSelectorCustomizableDirective,\n];\n\nconst uiModules = [\n  ConsentUiModule,\n  ButtonModule,\n  EmptyStateModule,\n  ProductItemBasicAccountModule,\n  AccountSelectorModule,\n  AlertModule,\n  LoadingIndicatorModule,\n  BbDatePipeModule,\n  NotificationModule,\n  AmountModule,\n  SearchBoxModule,\n  HighlightModule,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ...uiModules,\n    BackbaseCoreModule.withConfig({\n      classMap: { ConsentRequestWidgetComponent },\n    }),\n    ReactiveFormsModule,\n  ],\n  declarations: [...components, ...directives],\n  exports: [...components, ...directives, ...uiModules],\n})\nexport class ConsentRequestWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["ReplaySubject","BehaviorSubject","filter","distinctUntilChanged","tap","switchMap","catchError","of","shareReplay","take","pluck","map","Injectable","combineLatest","Optional","Component","Input","BbTemplate","Directive","EventEmitter","Subject","FormGroup","FormControl","takeUntil","Output","ViewChild","ConsentUiModule","ButtonModule","EmptyStateModule","ProductItemBasicAccountModule","AccountSelectorModule","AlertModule","LoadingIndicatorModule","BbDatePipeModule","NotificationModule","AmountModule","SearchBoxModule","HighlightModule","CommonModule","ReactiveFormsModule","BackbaseCoreModule","NgModule"],"mappings":"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"}