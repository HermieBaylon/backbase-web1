{"version":3,"file":"backbase-product-summary-list-widget-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/product-summary-list-widget-ang/src/product-summary-error.ts","../../../../libs/product-summary-list-widget-ang/src/product-summary-base.service.ts","../../../../libs/product-summary-list-widget-ang/src/product-summary.service.ts","../../../../libs/product-summary-list-widget-ang/src/model/constants.ts","../../../../libs/product-summary-list-widget-ang/src/product-summary-list-base/product-summary-list-base.component.ts","../../../../libs/product-summary-list-widget-ang/src/product-summary-list/product-summary-list-widget.component.ts","../../../../libs/product-summary-list-widget-ang/src/product-summary-list/product-summary-list-widget.component.html","../../../../libs/product-summary-list-widget-ang/src/arrangements.service.ts","../../../../libs/product-summary-list-widget-ang/src/arrangements-list/arrangements-list-widget.component.ts","../../../../libs/product-summary-list-widget-ang/src/arrangements-list/arrangements-list-widget.component.html","../../../../libs/product-summary-list-widget-ang/src/product-summary-list-widget.module.ts","../../../../libs/product-summary-list-widget-ang/backbase-product-summary-list-widget-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class ProductKindsAccessDenied {\n  messages: string[];\n  kind: 'ProductKindsAccessDenied' = 'ProductKindsAccessDenied';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class ProductKindsBadRequest {\n  messages: string[];\n  kind: 'ProductKindsBadRequest' = 'ProductKindsBadRequest';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = ((response.error || {}).errors || []).map((e: any) => e.message);\n  }\n}\n\nexport class ProductKindsUnknownError {\n  messages: string[];\n  kind: 'ProductKindsUnknownError' = 'ProductKindsUnknownError';\n  constructor(readonly response: HttpErrorResponse) {\n    this.messages = [response.message];\n  }\n}\nexport type ProductKindsError = ProductKindsAccessDenied | ProductKindsBadRequest | ProductKindsUnknownError;\n\nexport const parseError = (error: HttpErrorResponse): ProductKindsError => {\n  if (error.error instanceof ErrorEvent) {\n    return new ProductKindsUnknownError(error);\n  } else {\n    switch (error.status) {\n      case 400:\n        return new ProductKindsBadRequest(error);\n      case 401:\n        return new ProductKindsAccessDenied(error);\n      case 403:\n        return new ProductKindsAccessDenied(error);\n      default:\n        return new ProductKindsUnknownError(error);\n    }\n  }\n};\n","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { GetProductSummaryRequestParams } from '@backbase/arrangement-manager-http-ang';\nimport { AdditionalProperties } from '@backbase/product-summary-common-ang';\n\nimport { ProductKindsError } from './product-summary-error';\nimport { ProductKind, TotalBalance } from './product-summary.service';\n\nexport interface ProductKinds extends AdditionalProperties {\n  total?: TotalBalance;\n  productKinds: Array<ProductKind>;\n}\n\n/**\n * Service for fetching and storing product kinds\n *\n * This service relies on providers from `ProductSummaryListWidgetModule`.\n *\n * @see ProductSummaryListWidgetModule\n *\n * @usageNotes\n *\n * ### Ensure the ProductSummaryListWidgetModule is imported to your component module\n *\n * ```ts\n * @NgModule({\n *   ...\n *   imports: [\n *     ...\n *     ProductSummaryListWidgetModule,\n *   ],\n * })\n * export class MyWidgetModule {}\n * ```\n *\n * ### Inject this service into your component\n *\n * ```ts\n * @Component({\n *   ...\n *   providers: [ProductSummaryService],\n * })\n *  export class MyComponent {\n * ```\n */\n@Injectable()\nexport abstract class ProductSummaryBaseService implements OnDestroy {\n  protected readonly listParams = new BehaviorSubject<GetProductSummaryRequestParams>({});\n  protected productKindsRefresh = new BehaviorSubject<boolean>(false);\n  /**\n   * Used to store the error occured during loading of accounts\n   */\n  readonly error = new BehaviorSubject<ProductKindsError | undefined>(undefined);\n  /**\n   * List of accounts fetched from the server\n   */\n  readonly isLoading = new BehaviorSubject<boolean>(false);\n  /**\n   * List of product kinds (accounts) fetched from the server\n   */\n  abstract readonly productKinds: Observable<ProductKinds | undefined>;\n  /**\n   * @internal\n   */\n  ngOnDestroy() {\n    this.error.complete();\n    this.productKindsRefresh.complete();\n  }\n\n  /**\n   * Refreshes the list of product kinds\n   * Causes refetching data\n   */\n  refreshProductKinds() {\n    this.productKindsRefresh.next(true);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nimport { combineLatest, Observable, of } from 'rxjs';\nimport { catchError, distinctUntilChanged, map, tap } from 'rxjs/operators';\nimport {\n  BaseProduct,\n  CreditCardProductKinds,\n  CurrentAccountProductKinds,\n  CustomProductKind,\n  DebitCardProductKinds,\n  InvestmentAccountProductKinds,\n  LoanProductKinds,\n  ProductSummary,\n  SavingsAccountProductKinds,\n  SummaryAggregatedBalance,\n  TermDepositProductKinds,\n  ProductSummaryHttpService,\n} from '@backbase/arrangement-manager-http-ang';\nimport {\n  AdditionalProperties,\n  cacheRequest,\n  isProductVisible,\n  Product,\n  ProductKindUri,\n} from '@backbase/product-summary-common-ang';\n\nimport { parseError } from './product-summary-error';\nimport { ProductKinds, ProductSummaryBaseService } from './product-summary-base.service';\n\ntype ProductKindResponse =\n  | CurrentAccountProductKinds\n  | SavingsAccountProductKinds\n  | TermDepositProductKinds\n  | LoanProductKinds\n  | CreditCardProductKinds\n  | DebitCardProductKinds\n  | InvestmentAccountProductKinds\n  | CustomProductKind;\n\nexport interface TotalBalance extends AdditionalProperties {\n  aggregatedBalance: string;\n  currency: string;\n}\n\nexport interface ProductKind extends AdditionalProperties {\n  id: string;\n  name?: string;\n  aggregatedBalance?: string;\n  currency?: string;\n  products?: Array<Product>;\n}\n\nconst clearUndefinedProperties = <T>(obj: T): T => JSON.parse(JSON.stringify(obj));\n\nconst aggregatedToTotalBalance = (aggregatedBalance: SummaryAggregatedBalance): TotalBalance => ({\n  aggregatedBalance: aggregatedBalance.value || '',\n  currency: aggregatedBalance.currency || '',\n});\n\nconst hasVisibleProducts = (products: Product[]): boolean =>\n  products.some(product => product && isProductVisible(product));\n\nconst getProductKind = (kind: string): string => {\n  switch (kind) {\n    case 'currentAccounts':\n      return ProductKindUri.CURRENT_ACCOUNT;\n    case 'savingsAccounts':\n      return ProductKindUri.SAVINGS_ACCOUNT;\n    case 'termDeposits':\n      return ProductKindUri.TERM_DEPOSIT;\n    case 'loans':\n      return ProductKindUri.LOAN;\n    case 'creditCards':\n      return ProductKindUri.CREDIT_CARD;\n    case 'debitCards':\n      return ProductKindUri.DEBIT_CARD;\n    case 'investmentAccounts':\n      return ProductKindUri.INVESTMENT_ACCOUNT;\n    default:\n      return kind;\n  }\n};\n\nconst objectToProductKind = (kind: string, productKind: ProductKindResponse): ProductKind | undefined => {\n  const hasProducts = productKind && productKind.products && productKind.products.length > 0;\n  if (hasProducts && hasVisibleProducts(productKind.products)) {\n    const products = productKind.products as BaseProduct[];\n    return {\n      id: kind,\n      name: productKind.name,\n      aggregatedBalance: productKind.aggregatedBalance ? productKind.aggregatedBalance.value : undefined,\n      currency: productKind.aggregatedBalance ? productKind.aggregatedBalance.currency : undefined,\n      products: products\n        .filter(isProductVisible)\n        .map((product: Product) => ({ ...product, kind, productKindUri: getProductKind(kind) })),\n      ...(productKind.additions ? { additions: productKind.additions } : {}),\n    };\n  }\n  return undefined;\n};\n\nconst arrayToProductKindList = (obj: any): ProductKind[] =>\n  obj.map((element: any) => element && objectToProductKind(element.name, element)).filter(Boolean);\n\nconst flattenArray = (arr: any): any => [].concat(...arr);\n\nconst toProductKindList = (res: ProductSummary): ProductKind[] => {\n  const products = Object.entries(res)\n    .filter(([key]) => key !== 'aggregatedBalance')\n    .map(([kind, value]) => {\n      if (!Array.isArray(value)) {\n        return objectToProductKind(kind, value);\n      }\n\n      return arrayToProductKindList(value);\n    })\n    .filter(Boolean);\n\n  return flattenArray(products);\n};\n\nconst responseToProductKinds = (res: ProductSummary): ProductKinds =>\n  clearUndefinedProperties({\n    total: res && res.aggregatedBalance ? aggregatedToTotalBalance(res.aggregatedBalance) : undefined,\n    productKinds: res ? toProductKindList(res) : [],\n    ...(res && res.additions ? { additions: res.additions } : {}),\n  });\n\n/**\n * Service for fetching and storing product kinds\n *\n * This service relies on providers from `ProductSummaryListWidgetModule`.\n *\n * @see ProductSummaryListWidgetModule\n *\n * @usageNotes\n *\n * ### Ensure the ProductSummaryListWidgetModule is imported to your component module\n *\n * ```ts\n * @NgModule({\n *   ...\n *   imports: [\n *     ...\n *     ProductSummaryListWidgetModule,\n *   ],\n * })\n * export class MyWidgetModule {}\n * ```\n *\n * ### Inject this service into your component\n *\n * ```ts\n * @Component({\n *   ...\n *   providers: [ProductSummaryService],\n * })\n *  export class MyComponent {\n * ```\n */\n@Injectable()\nexport class ProductSummaryService extends ProductSummaryBaseService {\n  constructor(private readonly productSummaryDataService: ProductSummaryHttpService) {\n    super();\n  }\n\n  readonly productKinds: Observable<ProductKinds | undefined> = combineLatest(\n    this.listParams.pipe(distinctUntilChanged()), // [NOTE] This may require a compare function if `ListParams` isn't a primitive\n    this.productKindsRefresh,\n  ).pipe(\n    tap(() => {\n      this.isLoading.next(true);\n    }),\n    cacheRequest(([params]) =>\n      this.productSummaryDataService.getProductSummary(params).pipe(\n        map((res: ProductSummary) => responseToProductKinds(res)),\n        catchError((error: HttpErrorResponse) => {\n          this.error.next(parseError(error));\n          return of(undefined);\n        }),\n      ),\n    ),\n    tap(() => {\n      this.isLoading.next(false);\n    }),\n  );\n}\n","export const WidgetProperty = {\n  SHOW_ICONS: 'showIcons',\n  EVENT_REFRESH_ACCOUNT_LIST: 'event.refreshAccountsList',\n  OUTPUT_SELECTED_ACCOUNT: 'output.selectedAccount',\n};\n","import { OnDestroy, Output, EventEmitter, Directive, Inject, Input } from '@angular/core';\nimport { ProductKindsError } from '../product-summary-error';\nimport { WidgetProperty } from '../model/constants';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport {\n  processErrorMessages,\n  ProductsExternalInfoService,\n  Product,\n  hasExternalInfo,\n} from '@backbase/product-summary-common-ang';\nimport { PUBSUB, Pubsub, PubsubListener } from '@backbase/foundation-ang/web-sdk';\nimport { map } from 'rxjs/operators';\nimport { ProductKinds, ProductSummaryBaseService } from '../product-summary-base.service';\n\n/**\n * A widget for displaying a list of accounts\n *\n * @usageNotes\n *\n * ### Include this widget in your `AppModule`:\n *\n * ```typescript\n * @NgModule({\n *   imports: [\n *     ProductSummaryListWidgetModule,\n *   ],\n *   ...\n * })\n * export class AppModule {}\n * ```\n *\n * ### Include this widget (standalone model)\n *\n * ```typescript\n * export const environment: Environment = {\n *   ...\n *   bootstrap: {\n *     pageModel: {\n *       name: 'root',\n *       properties: {},\n *       children: [\n *         {\n *           name: 'product-summary-account-details-widget-ang',\n *           properties: {\n *            classId: 'ProductSummaryListWidgetComponent',\n *            showIcons: true,\n *           },\n *         },\n *       ],\n *     },\n *   },\n * };\n * ```\n */\n// Temporary template. TODO: This component is to be broken down into atomic components\n@Directive()\nexport class ProductSummaryListBaseComponent implements OnDestroy {\n  /**\n   * @internal\n   */\n  readonly hostRef: ProductSummaryListBaseComponent = this;\n  /**\n   * If the fetching of the product kinds failed, this property\n   * holds the errors coming from the server\n   */\n  readonly error: Observable<ProductKindsError | undefined> = this.service.error;\n  /**\n   * Product kinds fetched from the server\n   */\n  readonly items: Observable<ProductKinds | undefined> = new Observable(subscriber => {\n    const subscriptions: Subscription[] = [];\n    subscriptions.push(\n      this.service.productKinds.subscribe(productKinds => {\n        const products = this.getProductsFromProductKinds(productKinds);\n        subscriber.next(productKinds);\n\n        if (products.some(hasExternalInfo)) {\n          subscriptions.push(\n            this.productsExternalInfoService\n              .getProductsWithExternalInfo(products)\n              .pipe(map(items => this.addProductsToProductKinds(items, productKinds as ProductKinds)))\n              .subscribe(subscriber),\n          );\n        }\n      }, subscriber.error),\n    );\n    return () => subscriptions.forEach(subscription => subscription.unsubscribe());\n  });\n  /**\n   * Defines the loading state during the loading of data.\n   */\n  readonly isLoading: Observable<boolean> = this.service.isLoading;\n\n  private readonly widgetPropertiesSubscription = new Subscription();\n  /**\n   * Indicates whether the product kind card is expanded or collapsed.\n   */\n  readonly isExpanded: {\n    [key: string]: boolean;\n  } = {};\n  /**\n   * Defines whether to show product kind icons.\n   */\n  readonly showIcons = new BehaviorSubject<boolean>(true);\n  @Input(WidgetProperty.SHOW_ICONS) set showIconsValue(value: boolean) {\n    this.showIcons.next(value);\n  }\n  /**\n   * Comma separated list of event names to subscribe to perform accounts refresh\n   */\n  @Input(WidgetProperty.EVENT_REFRESH_ACCOUNT_LIST) set refreshAccountListEvent(value: string) {\n    if (value && typeof value === 'string') {\n      this.refreshAccountsEventNames = value.replace(/ /g, '').split(',');\n      this.handleEvents(this.refreshAccountsEventNames, this.refreshAccountsHandler, false);\n      this.handleEvents(this.refreshAccountsEventNames, this.refreshAccountsHandler);\n    }\n  }\n  /**\n   * Output emits id from selected account as string\n   */\n  @Output() selectedAccount = new EventEmitter<string>();\n  /**\n   * Output emits selected product\n   */\n  @Output() selectProduct = new EventEmitter<Product>();\n\n  private refreshAccountsEventNames: string[] = [];\n  private refreshAccountsHandler = this.refreshAccounts.bind(this);\n  /**\n   * Joins the specified error messages to display on the template\n   *\n   * @param messages\n   */\n  processErrorMessages: (messages: string[] | undefined) => string | undefined = processErrorMessages;\n\n  private getProductsFromProductKinds = (productKinds?: ProductKinds): Product[] =>\n    productKinds\n      ? productKinds.productKinds.reduce((products, kind) => products.concat(kind.products || []), [] as Product[])\n      : [];\n\n  private addProductsToProductKinds = (products: Product[], productKinds: ProductKinds): ProductKinds => ({\n    ...productKinds,\n    productKinds: productKinds.productKinds.map(account => ({\n      ...account,\n      products: account.products?.map(product => ({\n        ...product,\n        ...(products.find(item => item.id === product.id) || {}),\n      })),\n    })),\n  });\n  // Temporary template. TODO: This component is to be broken down into atomic components\n  /**\n   * Constructor\n   *\n   * @param service\n   * @param productsExternalInfoService\n   * @param eventBusService\n   */\n  constructor(\n    protected readonly service: ProductSummaryBaseService,\n    protected readonly productsExternalInfoService: ProductsExternalInfoService,\n    @Inject(PUBSUB) protected readonly eventBusService: Pubsub,\n  ) {}\n  /**\n   * @internal\n   */\n  ngOnDestroy() {\n    this.handleEvents(this.refreshAccountsEventNames, this.refreshAccountsHandler, false);\n    this.showIcons.unsubscribe();\n  }\n  /**\n   * Emit the passed `id` to the `selectedAccount` output\n   *\n   * @param id\n   */\n  selectAccount(id: string) {\n    this.selectedAccount.emit(id);\n  }\n  /**\n   * Refreshes list of accounts\n   */\n  refreshAccounts() {\n    this.service.refreshProductKinds();\n  }\n  /**\n   * Subscribes or Unsubscribes on the passed eventNames.\n   *\n   * @param eventNames list of events.\n   * @param listener PubsubListener to be invoced on the events.\n   * @param subscribe defines whether the function subscribes or unsubscribes (default: true).\n   */\n  private handleEvents(eventNames: string[], listener: () => void, subscribe = true) {\n    eventNames.forEach((event: string) => {\n      if (subscribe) {\n        this.eventBusService.subscribe(event, listener as PubsubListener<any>);\n      } else {\n        this.eventBusService.unsubscribe(event, listener as PubsubListener<any>);\n      }\n    });\n  }\n}\n\n/**\n * This is an extension slot to be used for customizing the entire view\n *\n * @usageNotes\n *\n * ### Customize the entire view\n *\n * ```html\n * <ng-template\n *   bbProductSummaryCustomizable\n *   let-hostRef\n *   let-items=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryCustomizable]',\n})\nexport class ProductSummaryCustomizableDirective extends BbTemplate<ProductSummaryListBaseComponent, ProductKinds> {}\n\n/**\n * This is an extension slot to be used for customizing the header of the view\n *\n * @usageNotes\n *\n * ### Customize the header\n *\n * ```html\n * <ng-template\n *   bbProductSummaryHeaderCustomizable\n *   let-hostRef\n *   let-items=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryHeaderCustomizable]',\n})\nexport class ProductSummaryHeaderCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing the body of the view\n *\n * @usageNotes\n *\n * ### Customize the body\n *\n * ```html\n * <ng-template\n *   bbProductSummaryBodyCustomizable\n *   let-hostRef\n *   let-items=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryBodyCustomizable]',\n})\nexport class ProductSummaryBodyCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing every item in the list\n *\n * @usageNotes\n *\n * ### Customize items\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemCustomizable]',\n})\nexport class ProductSummaryListItemCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `currentAccounts` productKind\n *\n * @usageNotes\n *\n * ### Customize `Current Accounts`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemCurrentAccountCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemCurrentAccountCustomizable]',\n})\nexport class ProductSummaryListItemCurrentAccountCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `savingsAccounts` productKind\n *\n * @usageNotes\n *\n * ### Customize `Savings Accounts`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemSavingsAccountCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemSavingsAccountCustomizable]',\n})\nexport class ProductSummaryListItemSavingsAccountCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `termDeposits` productKind\n *\n * @usageNotes\n *\n * ### Customize `Term Deposits`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemTermDepositCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemTermDepositCustomizable]',\n})\nexport class ProductSummaryListItemTermDepositCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `loans` productKind\n *\n * @usageNotes\n *\n * ### Customize `Loans`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemLoanCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemLoanCustomizable]',\n})\nexport class ProductSummaryListItemLoanCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `creditCards` productKind\n *\n * @usageNotes\n *\n * ### Customize `Credit Cards`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemCreditCardCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemCreditCardCustomizable]',\n})\nexport class ProductSummaryListItemCreditCardCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `debitCards` productKind\n *\n * @usageNotes\n *\n * ### Customize `Debit Cards`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemDebitCardCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemDebitCardCustomizable]',\n})\nexport class ProductSummaryListItemDebitCardCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with the `investmentAccounts` productKind\n *\n * @usageNotes\n *\n * ### Customize `Investment Accounts`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemInvestmentAccountCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemInvestmentAccountCustomizable]',\n})\nexport class ProductSummaryListItemInvestmentAccountCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing items with a custom (default) productKind\n *\n * @usageNotes\n *\n * ### Customize custom product kinds\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemOtherProductKindsCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemOtherProductKindsCustomizable]',\n})\nexport class ProductSummaryListItemOtherProductKindsCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n\n/**\n * This is an extension slot to be used for customizing the loading view\n *\n * @usageNotes\n *\n * ### Customize the loading view\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListLoadingCustomizable\n *   let-hostRef>\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListLoadingCustomizable]',\n})\nexport class ProductSummaryListLoadingCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  undefined\n> {}\n","import { Component, Inject, OnDestroy } from '@angular/core';\nimport { ProductSummaryService } from '../product-summary.service';\nimport { ProductsExternalInfoService } from '@backbase/product-summary-common-ang';\nimport { PUBSUB, Pubsub } from '@backbase/foundation-ang/web-sdk';\nimport { ProductSummaryListBaseComponent } from '../product-summary-list-base/product-summary-list-base.component';\n\n/**\n * A widget for displaying a list of accounts\n *\n * @usageNotes\n *\n * ### Include this widget in your `AppModule`:\n *\n * ```typescript\n * @NgModule({\n *   imports: [\n *     ProductSummaryListWidgetModule,\n *   ],\n *   ...\n * })\n * export class AppModule {}\n * ```\n *\n * ### Include this widget (standalone model)\n *\n * ```typescript\n * export const environment: Environment = {\n *   ...\n *   bootstrap: {\n *     pageModel: {\n *       name: 'root',\n *       properties: {},\n *       children: [\n *         {\n *           name: 'product-summary-account-details-widget-ang',\n *           properties: {\n *            classId: 'ProductSummaryListWidgetComponent',\n *            showIcons: true,\n *           },\n *         },\n *       ],\n *     },\n *   },\n * };\n * ```\n */\n// Temporary template. TODO: This component is to be broken down into atomic components\n@Component({\n  selector: 'bb-product-summary-list-widget',\n  templateUrl: 'product-summary-list-widget.component.html',\n  providers: [ProductSummaryService],\n})\nexport class ProductSummaryListWidgetComponent extends ProductSummaryListBaseComponent implements OnDestroy {\n  /**\n   * Constructor\n   *\n   * @param service\n   * @param productsExternalInfoService\n   * @param eventBusService\n   */\n  constructor(\n    protected readonly service: ProductSummaryService,\n    protected readonly productsExternalInfoService: ProductsExternalInfoService,\n    @Inject(PUBSUB) protected readonly eventBusService: Pubsub,\n  ) {\n    super(service, productsExternalInfoService, eventBusService);\n  }\n}\n","<ng-container *ngIf=\"((isLoading | async) === false) && (items | async) as items; else loadingTemplate\">\n  <ng-container\n    bbProductSummaryCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n</ng-container>\n\n<!-- Product summary wrapper template -->\n<ng-template\n  bbProductSummaryCustomizable\n  let-hostRef\n  let-items=\"context\">\n  <ng-container\n    bbProductSummaryHeaderCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n\n  <ng-container\n    bbProductSummaryBodyCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n</ng-template>\n\n<!-- Product summary header template -->\n<ng-template\n  bbProductSummaryHeaderCustomizable\n  let-hostRef\n  let-items=\"context\">\n  <div\n    *ngIf=\"items.total\"\n    class=\"bb-product-summary-balance\">\n    <div class=\"bb-product-summary-balance__tooltip\">\n      <span\n        class=\"bb-product-summary-balance__title\"\n        data-role=\"label-total-validation\"\n        i18n=\"Total balance label|product summary header label@@product.summary.header.label.total.balance\"\n      >\n        Total balance\n      </span>\n      <bb-icon-ui\n        class=\"bb-text-support\"\n        data-role=\"toggle-tooltip-icon\"\n        tabindex=\"0\"\n        size=\"sm\"\n        name=\"info\"\n        aria-label=\"Toggle tooltip for Total balance\"\n        i18n-aria-label=\"Toggle tooltip for Total balance|@@product.summary.header.account.consumedAmount.aria.label.openclose\"\n        bbTooltip=\"Total balance\"\n        i18n-bbTooltip=\"Total balance|Total balance label@@product.summary.header.account.tooltip.consumedAmount\"\n        triggers=\"focus hover\"\n      ></bb-icon-ui>\n    </div>\n    <bb-amount-ui\n      data-role=\"total-validation-amount\"\n      class=\"bb-product-summary-balance__amount\"\n      [currency]=\"items.total.currency\"\n      [amount]=\"items.total.aggregatedBalance\"\n      >\n    </bb-amount-ui>\n  </div>\n</ng-template>\n\n<!-- Product summary body template -->\n<ng-template\n  bbProductSummaryBodyCustomizable\n  let-hostRef\n  let-items=\"context\"\n>\n  <ng-container *ngFor=\"let productKind of items.productKinds\">\n    <ng-container\n      *ngIf=\"productKind\"\n      bbProductSummaryListItemCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\"\n    ></ng-container>\n  </ng-container>\n</ng-template>\n\n<!-- Product summary item -->\n<ng-template\n  bbProductSummaryListItemCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <ng-container\n    [ngSwitch]=\"productKind.id\">\n\n    <!-- Current Account -->\n    <ng-container\n      *ngSwitchCase=\"'currentAccounts'\"\n      bbProductSummaryListItemCurrentAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Savings Account -->\n    <ng-container\n      *ngSwitchCase=\"'savingsAccounts'\"\n      bbProductSummaryListItemSavingsAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Term Deposit -->\n    <ng-container\n      *ngSwitchCase=\"'termDeposits'\"\n      bbProductSummaryListItemTermDepositCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Loan -->\n    <ng-container\n      *ngSwitchCase=\"'loans'\"\n      bbProductSummaryListItemLoanCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Credit Card -->\n    <ng-container\n      *ngSwitchCase=\"'creditCards'\"\n      bbProductSummaryListItemCreditCardCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Debit Card -->\n    <ng-container\n      *ngSwitchCase=\"'debitCards'\"\n      bbProductSummaryListItemDebitCardCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Investment Account -->\n    <ng-container\n      *ngSwitchCase=\"'investmentAccounts'\"\n      bbProductSummaryListItemInvestmentAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!--\n      Other (Default):\n      This template can be used to add more custom productKinds.\n      The productKind is passed to the template so a customer can add\n      additional switch/if statements to determine what product template should be displayed\n    -->\n    <ng-container\n      *ngSwitchDefault\n      bbProductSummaryListItemOtherProductKindsCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n  </ng-container>\n</ng-template>\n\n<!-- Product summary card: Current Account -->\n<ng-template\n  bbProductSummaryListItemCurrentAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"current-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Savings Account -->\n<ng-template\n  bbProductSummaryListItemSavingsAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"savings-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Term Deposit -->\n<ng-template\n  bbProductSummaryListItemTermDepositCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"term-deposits\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Loan -->\n<ng-template\n  bbProductSummaryListItemLoanCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"loans\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Credit Card -->\n<ng-template\n  bbProductSummaryListItemCreditCardCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"credit-cards\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Debit Card -->\n<ng-template\n  bbProductSummaryListItemDebitCardCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"debit-cards\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Investment Account -->\n<ng-template\n  bbProductSummaryListItemInvestmentAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"investment-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Other Product Kinds -->\n<ng-template\n  bbProductSummaryListItemOtherProductKindsCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"custom-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary details loading template -->\n<ng-template #loadingTemplate>\n  <ng-container bbProductSummaryListLoadingCustomizable\n    [bbHostRef]=\"hostRef\">\n  </ng-container>\n</ng-template>\n\n<ng-template\n  bbProductSummaryListLoadingCustomizable\n  let-hostRef>\n  <ng-container *ngIf=\"hostRef.error | async as error; else loading\">\n    <bb-empty-state-ui\n      title=\"\"\n      [subtitle]=\"hostRef.processErrorMessages(error.messages)\"\n      iconModifier=\"error\"\n      iconSize=\"xxl\"\n      iconColor=\"gray\"\n      iconClasses=\"text-muted\"\n    ></bb-empty-state-ui>\n  </ng-container>\n  <ng-template #loading>\n    <bb-loading-indicator-ui\n      i18n-text=\"@@product.details.loadingAccounts\"\n      [text]=\"'Loading Accounts...'\"\n    ></bb-loading-indicator-ui>\n  </ng-template>\n</ng-template>\n","import { Injectable } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\nimport { ArrangementGroupItem, ArrangementViewsHttpService } from '@backbase/arrangement-manager-http-ang';\n\nimport { parseError } from './product-summary-error';\nimport { ArrangementViewResponse } from '@backbase/arrangement-manager-http-ang/model/arrangementViewResponse';\nimport { ArrangementGroupResponse } from '@backbase/arrangement-manager-http-ang/model/arrangementGroupResponse';\nimport { Variant } from '@backbase/arrangement-manager-http-ang/model/variant';\nimport { ProductKind, TotalBalance } from './product-summary.service';\nimport { ProductKinds, ProductSummaryBaseService } from './product-summary-base.service';\nimport { ViewBalanceAggregation } from '@backbase/arrangement-manager-http-ang/model/viewBalanceAggregation';\nimport { Product, ProductKindNames, ProductKindUri } from '@backbase/product-summary-common-ang';\n\ninterface BalanceAggregation {\n  [key: string]: {\n    [key: string]: ViewBalanceAggregation;\n  };\n}\n\nconst clearUndefinedProperties = <T>(obj: T): T => JSON.parse(JSON.stringify(obj));\n\nconst getBalanceFromBalanceAggregation = (\n  balanceAggregation: BalanceAggregation,\n  groupName: string,\n): TotalBalance | undefined => {\n  if (balanceAggregation[groupName] === undefined) return undefined;\n\n  const [currency, { amount }] = Object.entries(balanceAggregation[groupName])[0];\n\n  return {\n    aggregatedBalance: amount || '',\n    currency,\n  };\n};\n\nconst isProductVisible = (element: ArrangementGroupItem) =>\n  element.attributes.visible === undefined || element.attributes.visible.value === 'true';\n\nconst hasVisibleProducts = (elements: Array<ArrangementGroupItem> = []): boolean => elements.some(isProductVisible);\n\nconst mapArrangementGroupAttributes = (arrangementGroupAttributes: { [key: string]: Variant }): Partial<Product> => {\n  const mappedAttributes: Partial<Product> = {};\n\n  (Object.entries(arrangementGroupAttributes) as [keyof Product, Variant][]).forEach(([key, variant]) => {\n    switch (variant.type) {\n      case 'BOOLEAN':\n        mappedAttributes[key] = variant.value === 'true';\n        break;\n      case 'DECIMAL':\n        mappedAttributes[key] = Number(variant.value);\n        break;\n      case 'NUMBER':\n        mappedAttributes[key] = Number(variant.value);\n        break;\n      case 'INTEGER':\n        mappedAttributes[key] = Number(variant.value);\n        break;\n      default:\n        mappedAttributes[key] = variant.value;\n    }\n  });\n\n  return mappedAttributes;\n};\n\nconst getProductKindName = (kindUri: string): string => {\n  switch (kindUri) {\n    case ProductKindUri.CURRENT_ACCOUNT:\n      return ProductKindNames.CURRENT_ACCOUNT;\n    case ProductKindUri.SAVINGS_ACCOUNT:\n      return ProductKindNames.SAVINGS_ACCOUNT;\n    case ProductKindUri.TERM_DEPOSIT:\n      return ProductKindNames.TERM_DEPOSIT;\n    case ProductKindUri.LOAN:\n      return ProductKindNames.LOAN;\n    case ProductKindUri.CREDIT_CARD:\n      return ProductKindNames.CREDIT_CARD;\n    case ProductKindUri.DEBIT_CARD:\n      return ProductKindNames.DEBIT_CARD;\n    case ProductKindUri.INVESTMENT_ACCOUNT:\n      return ProductKindNames.INVESTMENT_ACCOUNT;\n    default:\n      return kindUri;\n  }\n};\n\nconst objectToProductKind = (\n  groupName: string,\n  group: ArrangementGroupResponse,\n  balanceAggregation?: BalanceAggregation,\n): ProductKind | undefined => {\n  const hasProducts = group && group.elements && group.elements.length > 0;\n  const balance = balanceAggregation ? getBalanceFromBalanceAggregation(balanceAggregation, groupName) : undefined;\n\n  if (hasProducts && hasVisibleProducts(group.elements)) {\n    return {\n      id: groupName,\n      name: groupName,\n      aggregatedBalance: balance?.aggregatedBalance,\n      currency: balance?.currency,\n      products: group.elements?.filter(isProductVisible).map((element: ArrangementGroupItem) => {\n        const product = mapArrangementGroupAttributes(element.attributes);\n\n        return {\n          ...product,\n          id: element.id,\n          kind: groupName,\n          bookedBalance: (product.bookedBalance ?? product.primaryBalance)?.toString(),\n          principalAmount: product.principalAmount ?? product.primaryBalance,\n          currentInvestmentValue: (product.currentInvestmentValue ?? product.primaryBalance)?.toString(),\n          availableBalance: (product.availableBalance ?? product.secondaryBalance)?.toString(),\n          accruedInterest: product.accruedInterest ?? product.secondaryBalance,\n          creditLimitUsage: product.creditLimitUsage ?? product.tertiaryBalance,\n          productKindName: product.productKindUri ? getProductKindName(product.productKindUri) : undefined,\n          state: product.state ? { state: product.state } : undefined,\n        } as Product;\n      }),\n    };\n  }\n  return undefined;\n};\n\nconst toProductKindList = (\n  groups: { [key: string]: ArrangementGroupResponse },\n  balanceAggregation?: BalanceAggregation,\n): ProductKind[] => {\n  let product = Object.entries(groups)\n    .filter(([groupName]) => groupName !== 'overdueAccounts')\n    .map(([groupName, group]) => objectToProductKind(groupName, group, balanceAggregation))\n    .filter(Boolean);\n\n  const overdueProductKind = objectToProductKind('overdueAccounts', groups['overdueAccounts'], balanceAggregation);\n\n  if (overdueProductKind) {\n    product = [overdueProductKind, ...product];\n  }\n\n  return product as ProductKind[];\n};\n\nconst responseToProductKinds = (res: ArrangementViewResponse): ProductKinds =>\n  clearUndefinedProperties({\n    total: res.metadata?.balanceAggregations\n      ? getBalanceFromBalanceAggregation(res.metadata?.balanceAggregations, 'all')\n      : undefined,\n    productKinds: res && res.groups ? toProductKindList(res.groups, res.metadata?.balanceAggregations) : [],\n  });\n\n/**\n * Service for fetching and storing product kinds\n *\n * This service relies on providers from `ProductSummaryListWidgetModule`.\n *\n * @see ProductSummaryListWidgetModule\n *\n * @usageNotes\n *\n * ### Ensure the ProductSummaryListWidgetModule is imported to your component module\n *\n * ```ts\n * @NgModule({\n *   ...\n *   imports: [\n *     ...\n *     ProductSummaryListWidgetModule,\n *   ],\n * })\n * export class MyWidgetModule {}\n * ```\n *\n * ### Inject this service into your component\n *\n * ```ts\n * @Component({\n *   ...\n *   providers: [ProductSummaryService],\n * })\n *  export class MyComponent {\n * ```\n */\n@Injectable()\nexport class ArrangementsService extends ProductSummaryBaseService {\n  private readonly viewNameSubject = new ReplaySubject<string>();\n\n  constructor(private readonly arrangementViewsHttpService: ArrangementViewsHttpService) {\n    super();\n  }\n\n  readonly productKinds: Observable<ProductKinds | undefined> = combineLatest([\n    this.viewNameSubject,\n    this.productKindsRefresh,\n  ]).pipe(\n    tap(() => {\n      this.isLoading.next(true);\n    }),\n    switchMap(([viewName]) =>\n      this.arrangementViewsHttpService.getArrangementView({ viewName }).pipe(\n        map(res => responseToProductKinds(res)),\n        catchError((error: HttpErrorResponse) => {\n          this.error.next(parseError(error));\n          return of(undefined);\n        }),\n      ),\n    ),\n    tap(() => {\n      this.isLoading.next(false);\n    }),\n  );\n\n  setViewName(viewName: string) {\n    this.viewNameSubject.next(viewName);\n  }\n}\n","import { Component, Directive, EventEmitter, Inject, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { ProductsExternalInfoService } from '@backbase/product-summary-common-ang';\nimport { PUBSUB, Pubsub } from '@backbase/foundation-ang/web-sdk';\nimport { ArrangementsService } from '../arrangements.service';\nimport { ProductSummaryListBaseComponent } from '../product-summary-list-base/product-summary-list-base.component';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { ProductKinds } from '../product-summary-base.service';\n\n/**\n * A widget for displaying a list of accounts\n *\n * @usageNotes\n *\n * ### Include this widget in your `AppModule`:\n *\n * ```typescript\n * @NgModule({\n *   imports: [\n *     ArrangementsListWidgetComponent,\n *   ],\n *   ...\n * })\n * export class AppModule {}\n * ```\n *\n * ### Include this widget (standalone model)\n *\n * ```typescript\n * export const environment: Environment = {\n *   ...\n *   bootstrap: {\n *     pageModel: {\n *       name: 'root',\n *       properties: {},\n *       children: [\n *         {\n *           name: 'product-summary-account-details-widget-ang',\n *           properties: {\n *            classId: 'ArrangementsListWidgetComponent',\n *            showIcons: true,\n *           },\n *         },\n *       ],\n *     },\n *   },\n * };\n * ```\n */\n@Component({\n  selector: 'bb-arrangements-list-widget',\n  templateUrl: 'arrangements-list-widget.component.html',\n  providers: [ArrangementsService],\n})\nexport class ArrangementsListWidgetComponent extends ProductSummaryListBaseComponent implements OnInit, OnDestroy {\n  /**\n   * Input for setting `viewName` property\n   */\n  @Input('viewName') viewName?: string;\n\n  /**\n   * Emits arrangement id when pay now is clicked\n   */\n  @Output() payNowClick: EventEmitter<string> = new EventEmitter();\n\n  /**\n   * Constructor\n   *\n   * @param service\n   * @param productsExternalInfoService\n   * @param eventBusService\n   */\n  constructor(\n    protected readonly service: ArrangementsService,\n    protected readonly productsExternalInfoService: ProductsExternalInfoService,\n    @Inject(PUBSUB) protected readonly eventBusService: Pubsub,\n  ) {\n    super(service, productsExternalInfoService, eventBusService);\n  }\n\n  ngOnInit(): void {\n    if (this.viewName === undefined) {\n      throw new Error('viewName is required');\n    } else {\n      this.service.setViewName(this.viewName);\n    }\n  }\n}\n\n/**\n * This is an extension slot to be used for customizing items with the `overdueAccounts` productKind\n *\n * @usageNotes\n *\n * ### Customize `Needs Your Attention`\n *\n * ```html\n * <ng-template\n *   bbProductSummaryListItemNeedsAttentionAccountsCustomizable\n *   let-hostRef\n *   let-productKind=\"context\">\n *   Your custom template here\n * </ng-template>\n * ```\n *\n * @NgModule ProductSummaryListWidgetModule\n */\n@Directive({\n  selector: '[bbProductSummaryListItemNeedsAttentionAccountsCustomizable]',\n})\nexport class ProductSummaryListItemNeedsAttentionAccountsCustomizableDirective extends BbTemplate<\n  ProductSummaryListBaseComponent,\n  ProductKinds\n> {}\n","<ng-container *ngIf=\"((isLoading | async) === false) && (items | async) as items; else loadingTemplate\">\n  <ng-container\n    bbProductSummaryCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n</ng-container>\n\n<!-- Product summary wrapper template -->\n<ng-template\n  bbProductSummaryCustomizable\n  let-hostRef\n  let-items=\"context\">\n  <ng-container\n    bbProductSummaryHeaderCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n\n  <ng-container\n    bbProductSummaryBodyCustomizable\n    [bbHostRef]=\"hostRef\"\n    [bbTemplateContext]=\"items\">\n  </ng-container>\n</ng-template>\n\n<!-- Product summary header template -->\n<ng-template\n  bbProductSummaryHeaderCustomizable\n  let-hostRef\n  let-items=\"context\">\n  <div\n    *ngIf=\"items.total\"\n    class=\"bb-product-summary-balance\">\n    <div class=\"bb-product-summary-balance__tooltip\">\n      <span\n        class=\"bb-product-summary-balance__title\"\n        data-role=\"label-total-validation\"\n        i18n=\"Total balance label|product summary header label@@product.summary.header.label.total.balance\"\n      >\n        Total balance\n      </span>\n      <bb-icon-ui\n        class=\"bb-text-support\"\n        data-role=\"toggle-tooltip-icon\"\n        tabindex=\"0\"\n        size=\"sm\"\n        name=\"info\"\n        aria-label=\"Toggle tooltip for Total balance\"\n        i18n-aria-label=\"Toggle tooltip for Total balance|@@product.summary.header.account.consumedAmount.aria.label.openclose\"\n        bbTooltip=\"Total balance\"\n        i18n-bbTooltip=\"Total balance|Total balance label@@product.summary.header.account.tooltip.consumedAmount\"\n        triggers=\"focus hover\"\n      ></bb-icon-ui>\n    </div>\n    <bb-amount-ui\n      data-role=\"total-validation-amount\"\n      class=\"bb-product-summary-balance__amount\"\n      [currency]=\"items.total.currency\"\n      [amount]=\"items.total.aggregatedBalance\"\n      >\n    </bb-amount-ui>\n  </div>\n</ng-template>\n\n<!-- Product summary body template -->\n<ng-template\n  bbProductSummaryBodyCustomizable\n  let-hostRef\n  let-items=\"context\"\n>\n  <ng-container *ngFor=\"let productKind of items.productKinds\">\n    <ng-container\n      *ngIf=\"productKind\"\n      bbProductSummaryListItemCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\"\n    ></ng-container>\n  </ng-container>\n</ng-template>\n\n<!-- Product summary item -->\n<ng-template\n  bbProductSummaryListItemCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <ng-container\n    [ngSwitch]=\"productKind.id\">\n\n    <!-- Needs Attention Accounts -->\n    <ng-container\n      bbProductSummaryListItemNeedsAttentionAccountsCustomizable\n      *ngSwitchCase=\"'overdueAccounts'\"\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Current Account -->\n    <ng-container\n      *ngSwitchCase=\"'currentAccounts'\"\n      bbProductSummaryListItemCurrentAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Savings Account -->\n    <ng-container\n      *ngSwitchCase=\"'savingsAccounts'\"\n      bbProductSummaryListItemSavingsAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Term Deposit -->\n    <ng-container\n      *ngSwitchCase=\"'termDeposits'\"\n      bbProductSummaryListItemTermDepositCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Loan -->\n    <ng-container\n      *ngSwitchCase=\"'loans'\"\n      bbProductSummaryListItemLoanCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Credit Card -->\n    <ng-container\n      *ngSwitchCase=\"'creditCards'\"\n      bbProductSummaryListItemCreditCardCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Debit Card -->\n    <ng-container\n      *ngSwitchCase=\"'debitCards'\"\n      bbProductSummaryListItemDebitCardCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!-- Investment Account -->\n    <ng-container\n      *ngSwitchCase=\"'investmentAccounts'\"\n      bbProductSummaryListItemInvestmentAccountCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n    <!--\n      Other (Default):\n      This template can be used to add more custom productKinds.\n      The productKind is passed to the template so a customer can add\n      additional switch/if statements to determine what product template should be displayed\n    -->\n    <ng-container\n      *ngSwitchDefault\n      bbProductSummaryListItemOtherProductKindsCustomizable\n      [bbHostRef]=\"hostRef\"\n      [bbTemplateContext]=\"productKind\">\n    </ng-container>\n\n  </ng-container>\n</ng-template>\n\n\n<!-- Product summary card: Needs Attention Accounts -->\n<ng-template\n  bbProductSummaryListItemNeedsAttentionAccountsCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-needs-attention-ui\n    data-role=\"overdue-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n    (payNowClick)=\"hostRef.payNowClick.emit($event)\"\n  ></bb-product-needs-attention-ui>\n</ng-template>\n\n<!-- Product summary card: Current Account -->\n<ng-template\n  bbProductSummaryListItemCurrentAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"current-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Savings Account -->\n<ng-template\n  bbProductSummaryListItemSavingsAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"savings-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Term Deposit -->\n<ng-template\n  bbProductSummaryListItemTermDepositCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"term-deposits\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Loan -->\n<ng-template\n  bbProductSummaryListItemLoanCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"loans\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Credit Card -->\n<ng-template\n  bbProductSummaryListItemCreditCardCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"credit-cards\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Debit Card -->\n<ng-template\n  bbProductSummaryListItemDebitCardCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"debit-cards\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Investment Account -->\n<ng-template\n  bbProductSummaryListItemInvestmentAccountCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"investment-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary card: Other Product Kinds -->\n<ng-template\n  bbProductSummaryListItemOtherProductKindsCustomizable\n  let-hostRef\n  let-productKind=\"context\">\n  <bb-product-kind-collapsible-ui *ngIf=\"productKind.products.length\"\n    data-role=\"custom-accounts\"\n    [(isExpanded)]=\"hostRef.isExpanded[productKind.name]\"\n    [showIcons]=\"hostRef.showIcons | async\"\n    [productKind]=\"productKind\"\n    (selectAccount)=\"hostRef.selectAccount($event)\"\n    (selectProduct)=\"hostRef.selectProduct.emit($event)\"\n  ></bb-product-kind-collapsible-ui>\n</ng-template>\n\n<!-- Product summary details loading template -->\n<ng-template #loadingTemplate>\n  <ng-container bbProductSummaryListLoadingCustomizable\n    [bbHostRef]=\"hostRef\">\n  </ng-container>\n</ng-template>\n\n<ng-template\n  bbProductSummaryListLoadingCustomizable\n  let-hostRef>\n  <ng-container *ngIf=\"hostRef.error | async as error; else loading\">\n    <bb-empty-state-ui\n      title=\"\"\n      [subtitle]=\"hostRef.processErrorMessages(error.messages)\"\n      iconModifier=\"error\"\n      iconSize=\"xxl\"\n      iconColor=\"gray\"\n      iconClasses=\"text-muted\"\n    ></bb-empty-state-ui>\n  </ng-container>\n  <ng-template #loading>\n    <bb-loading-indicator-ui\n      i18n-text=\"@@product.details.loadingAccounts\"\n      [text]=\"'Loading Accounts...'\"\n    ></bb-loading-indicator-ui>\n  </ng-template>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport {\n  ProductKindModule,\n  ProductKindCollapsibleModule,\n  ProductNeedsAttentionModule,\n} from '@backbase/product-summary-ui';\nimport { ProductsExternalInfoService } from '@backbase/product-summary-common-ang';\n\nimport { ProductSummaryListWidgetComponent } from './product-summary-list/product-summary-list-widget.component';\nimport {\n  ArrangementsListWidgetComponent,\n  ProductSummaryListItemNeedsAttentionAccountsCustomizableDirective,\n} from './arrangements-list/arrangements-list-widget.component';\nimport {\n  ProductSummaryBodyCustomizableDirective,\n  ProductSummaryCustomizableDirective,\n  ProductSummaryHeaderCustomizableDirective,\n  ProductSummaryListItemCreditCardCustomizableDirective,\n  ProductSummaryListItemCurrentAccountCustomizableDirective,\n  ProductSummaryListItemCustomizableDirective,\n  ProductSummaryListItemDebitCardCustomizableDirective,\n  ProductSummaryListItemInvestmentAccountCustomizableDirective,\n  ProductSummaryListItemLoanCustomizableDirective,\n  ProductSummaryListItemOtherProductKindsCustomizableDirective,\n  ProductSummaryListItemSavingsAccountCustomizableDirective,\n  ProductSummaryListItemTermDepositCustomizableDirective,\n  ProductSummaryListLoadingCustomizableDirective,\n} from './product-summary-list-base/product-summary-list-base.component';\n\nconst components = [ProductSummaryListWidgetComponent, ArrangementsListWidgetComponent];\n\nconst directives = [\n  ProductSummaryCustomizableDirective,\n  ProductSummaryHeaderCustomizableDirective,\n  ProductSummaryBodyCustomizableDirective,\n  ProductSummaryListItemCustomizableDirective,\n  ProductSummaryListItemNeedsAttentionAccountsCustomizableDirective,\n  ProductSummaryListItemCurrentAccountCustomizableDirective,\n  ProductSummaryListItemSavingsAccountCustomizableDirective,\n  ProductSummaryListItemTermDepositCustomizableDirective,\n  ProductSummaryListItemLoanCustomizableDirective,\n  ProductSummaryListItemCreditCardCustomizableDirective,\n  ProductSummaryListItemDebitCardCustomizableDirective,\n  ProductSummaryListItemInvestmentAccountCustomizableDirective,\n  ProductSummaryListItemOtherProductKindsCustomizableDirective,\n  ProductSummaryListLoadingCustomizableDirective,\n];\n\nconst uiModules = [\n  ProductKindModule,\n  ProductKindCollapsibleModule,\n  IconModule,\n  AmountModule,\n  EmptyStateModule,\n  LoadingIndicatorModule,\n  TooltipModule,\n  ProductNeedsAttentionModule,\n];\n\n/**\n * Exports the Widgets and UI components for showing a list of accounts\n *\n * The following widgets are included in this module:\n *  - `ProductSummaryListWidgetComponent`\n *  - `ArrangementsViewWidgetComponent`\n *\n * @see ProductSummaryListWidgetComponent\n * @see ArrangementsListWidgetComponent\n *\n * @usageNotes\n *\n * ### Include the exported widgets in your `AppModule`:\n *\n * ```typescript\n * @NgModule({\n *   imports: [\n *     ProductSummaryListWidgetModule,\n *   ],\n *   ...\n * })\n * export class AppModule {}\n * ```\n */\n@NgModule({\n  imports: [\n    CommonModule,\n    ...uiModules,\n    BackbaseCoreModule.withConfig({\n      classMap: {\n        ProductSummaryListWidgetComponent,\n        ArrangementsListWidgetComponent,\n      },\n    }),\n  ],\n  declarations: [...components, ...directives],\n  exports: [...components, ...directives, ...uiModules],\n  providers: [ProductsExternalInfoService],\n})\nexport class ProductSummaryListWidgetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["BehaviorSubject","i0","Injectable","clearUndefinedProperties","hasVisibleProducts","isProductVisible","ProductKindUri","objectToProductKind","toProductKindList","responseToProductKinds","combineLatest","distinctUntilChanged","tap","cacheRequest","map","catchError","of","i1","Observable","hasExternalInfo","Subscription","EventEmitter","processErrorMessages","PUBSUB","Directive","Inject","Input","Output","BbTemplate","i3","i4","i5","i6","i7","i8","i9.ProductSummaryCustomizableDirective","i9.ProductSummaryHeaderCustomizableDirective","i9.ProductSummaryBodyCustomizableDirective","i10","i9.ProductSummaryListItemCustomizableDirective","i9.ProductSummaryListItemCurrentAccountCustomizableDirective","i9.ProductSummaryListItemSavingsAccountCustomizableDirective","i9.ProductSummaryListItemTermDepositCustomizableDirective","i9.ProductSummaryListItemLoanCustomizableDirective","i9.ProductSummaryListItemCreditCardCustomizableDirective","i9.ProductSummaryListItemDebitCardCustomizableDirective","i9.ProductSummaryListItemInvestmentAccountCustomizableDirective","i9.ProductSummaryListItemOtherProductKindsCustomizableDirective","i9.ProductSummaryListLoadingCustomizableDirective","Component","ProductKindNames","ReplaySubject","switchMap","ProductKindModule","ProductKindCollapsibleModule","IconModule","AmountModule","EmptyStateModule","LoadingIndicatorModule","TooltipModule","ProductNeedsAttentionModule","CommonModule","ProductsExternalInfoService","BackbaseCoreModule","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;;;;;;;;;;;;;IAagF;IAChF;IAEA,IAAI,aAAa,GAAG,UAAS,CAAC,EAAE,CAAC,EAAA;QAC7B,aAAa,GAAG,MAAM,CAAC,cAAc;aAChC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAA,EAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,UAAU,CAAC,EAAE,CAAC,EAAA,EAAI,KAAK,IAAI,CAAC,IAAI,CAAC;gBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtG,IAAA,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;IAEc,SAAA,SAAS,CAAC,CAAC,EAAE,CAAC,EAAA;IAC1B,IAAA,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;IACrC,QAAA,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;IAC9F,IAAA,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IACvC,IAAA,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;IAEM,IAAI,QAAQ,GAAG,YAAA;QAClB,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAA;IAC3C,QAAA,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IACjD,YAAA,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,IAAI,CAAC,IAAI,CAAC;oBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;wBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,SAAA;IACD,QAAA,OAAO,CAAC,CAAC;IACb,KAAC,CAAA;QACD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,CAAC,CAAA;IAEe,SAAA,MAAM,CAAC,CAAC,EAAE,CAAC,EAAA;QACvB,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC/E,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;YAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1E,gBAAA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,SAAA;IACL,IAAA,OAAO,CAAC,CAAC;IACb,CAAC;IAEK,SAAU,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAA;IACpD,IAAA,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;IAAE,QAAA,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;IAC1H,QAAA,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;IAAE,YAAA,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;IAAE,gBAAA,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,IAAA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;IAEe,SAAA,OAAO,CAAC,UAAU,EAAE,SAAS,EAAA;IACzC,IAAA,OAAO,UAAU,MAAM,EAAE,GAAG,EAAA,EAAI,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE,CAAA;IACzE,CAAC;IAEe,SAAA,UAAU,CAAC,WAAW,EAAE,aAAa,EAAA;QACjD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;IAEK,SAAU,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAA;IACvD,IAAA,SAAS,KAAK,CAAC,KAAK,EAAA,EAAI,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAA,EAAI,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAC5G,IAAA,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAA;IACrD,QAAA,SAAS,SAAS,CAAC,KAAK,EAAA,EAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAAE,SAAA;IAAC,QAAA,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAAE,SAAA,EAAE;IAC3F,QAAA,SAAS,QAAQ,CAAC,KAAK,EAAA,EAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAAE,SAAA;IAAC,QAAA,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAAE,SAAA,EAAE;IAC9F,QAAA,SAAS,IAAI,CAAC,MAAM,EAAA,EAAI,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IAC9G,QAAA,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC1E,KAAC,CAAC,CAAC;IACP,CAAC;IAEe,SAAA,WAAW,CAAC,OAAO,EAAE,IAAI,EAAA;IACrC,IAAA,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,YAAA,EAAa,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;IAAE,YAAA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAA,EAAa,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACzJ,SAAS,IAAI,CAAC,CAAC,EAAA,EAAI,OAAO,UAAU,CAAC,EAAI,EAAA,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAClE,SAAS,IAAI,CAAC,EAAE,EAAA;IACZ,QAAA,IAAI,CAAC;IAAE,YAAA,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IAC9D,QAAA,OAAO,CAAC;gBAAE,IAAI;IACV,gBAAA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI;IAAE,oBAAA,OAAO,CAAC,CAAC;IAC7J,gBAAA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;IAAE,oBAAA,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACxC,gBAAA,QAAQ,EAAE,CAAC,CAAC,CAAC;IACT,oBAAA,KAAK,CAAC,CAAC;IAAC,oBAAA,KAAK,CAAC;4BAAE,CAAC,GAAG,EAAE,CAAC;4BAAC,MAAM;IAC9B,oBAAA,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;IAAC,wBAAA,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxD,oBAAA,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;IAAC,wBAAA,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAAC,wBAAA,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;4BAAC,SAAS;IACjD,oBAAA,KAAK,CAAC;IAAE,wBAAA,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAAC,wBAAA,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;IACjD,oBAAA;IACI,wBAAA,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;gCAAE,CAAC,GAAG,CAAC,CAAC;gCAAC,SAAS;IAAE,yBAAA;IAC5G,wBAAA,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAAE,4BAAA,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gCAAC,MAAM;IAAE,yBAAA;IACtF,wBAAA,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;IAAE,4BAAA,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,GAAG,EAAE,CAAC;gCAAC,MAAM;IAAE,yBAAA;4BACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;IAAE,4BAAA,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAAC,4BAAA,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCAAC,MAAM;IAAE,yBAAA;4BACnE,IAAI,CAAC,CAAC,CAAC,CAAC;IAAE,4BAAA,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IACtB,wBAAA,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;IAC9B,iBAAA;oBACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC9B,aAAA;IAAC,YAAA,OAAO,CAAC,EAAE;IAAE,gBAAA,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAAC,CAAC,GAAG,CAAC,CAAC;IAAE,aAAA;IAAS,oBAAA;IAAE,gBAAA,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAAE,aAAA;IAC1D,QAAA,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IAAE,YAAA,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACpF;IACL,CAAC;IAEM,IAAI,eAAe,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAA;QAC9D,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,YAAA,EAAa,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC,KAAK,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAA;QACtB,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;IAEa,SAAA,YAAY,CAAC,CAAC,EAAE,CAAC,EAAA;QAC7B,KAAK,IAAI,CAAC,IAAI,CAAC;IAAE,QAAA,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAAE,YAAA,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClH,CAAC;IAEK,SAAU,QAAQ,CAAC,CAAC,EAAA;QACtB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAC9E,IAAA,IAAI,CAAC;IAAE,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACxB,IAAA,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ;YAAE,OAAO;IAC1C,YAAA,IAAI,EAAE,YAAA;IACF,gBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;wBAAE,CAAC,GAAG,KAAK,CAAC,CAAC;IACnC,gBAAA,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;iBAC3C;aACJ,CAAC;IACF,IAAA,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;IAEe,SAAA,MAAM,CAAC,CAAC,EAAE,CAAC,EAAA;IACvB,IAAA,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAA,IAAI,CAAC,CAAC;IAAE,QAAA,OAAO,CAAC,CAAC;IACjB,IAAA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI;YACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;IAAE,YAAA,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAC9E,KAAA;IACD,IAAA,OAAO,KAAK,EAAE;IAAE,QAAA,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;IAAE,KAAA;IAC/B,YAAA;YACJ,IAAI;IACA,YAAA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;IAAE,gBAAA,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACpD,SAAA;IACO,gBAAA;IAAE,YAAA,IAAI,CAAC;oBAAE,MAAM,CAAC,CAAC,KAAK,CAAC;IAAE,SAAA;IACpC,KAAA;IACD,IAAA,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,QAAQ,GAAA;IACpB,IAAA,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;IAC9C,QAAA,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,IAAA,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,cAAc,GAAA;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;IAAE,QAAA,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QACpF,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAC5C,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC7D,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,IAAA,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAA;IACxC,IAAA,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC;IAAE,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjF,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;IACpB,gBAAA,IAAI,CAAC,EAAE;IAAE,oBAAA,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrD,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACnB,aAAA;IACJ,SAAA;IACD,IAAA,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D,CAAC;IAEK,SAAU,OAAO,CAAC,CAAC,EAAA;QACrB,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;aAEe,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAA;QAC3D,IAAI,CAAC,MAAM,CAAC,aAAa;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IACvF,IAAA,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;IAC9D,IAAA,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAc,EAAA,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QACtH,SAAS,IAAI,CAAC,CAAC,EAAA,EAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAA,EAAI,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,EAAI,EAAA,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAC1I,IAAA,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAAE,KAAA;IAAC,IAAA,OAAO,CAAC,EAAE;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAAE,KAAA,EAAE;QAClF,SAAS,IAAI,CAAC,CAAC,EAAA,EAAI,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IACxH,IAAA,SAAS,OAAO,CAAC,KAAK,EAAA,EAAI,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;IAClD,IAAA,SAAS,MAAM,CAAC,KAAK,EAAA,EAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;IAClD,IAAA,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAA,EAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;IAAE,QAAA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;IAEK,SAAU,gBAAgB,CAAC,CAAC,EAAA;QAC9B,IAAI,CAAC,EAAE,CAAC,CAAC;IACT,IAAA,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAA,EAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5I,IAAA,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAI,EAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAI,EAAA,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;IAEK,SAAU,aAAa,CAAC,CAAC,EAAA;QAC3B,IAAI,CAAC,MAAM,CAAC,aAAa;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACnC,IAAA,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAA,EAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACjN,SAAS,IAAI,CAAC,CAAC,EAAI,EAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,EAAA,EAAI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAI,EAAA,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAChK,IAAA,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,EAAI,EAAA,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;IAEe,SAAA,oBAAoB,CAAC,MAAM,EAAE,GAAG,EAAA;QAC5C,IAAI,MAAM,CAAC,cAAc,EAAE;IAAE,QAAA,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;IAAE,KAAA;IAAM,SAAA;IAAE,QAAA,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;IAAE,KAAA;IAC/G,IAAA,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IAEF,IAAI,kBAAkB,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC,EAAA;IACnD,IAAA,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IACxE,CAAC,IAAI,UAAS,CAAC,EAAE,CAAC,EAAA;IACd,IAAA,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC;IAEI,SAAU,YAAY,CAAC,GAAG,EAAA;IAC5B,IAAA,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU;IAAE,QAAA,OAAO,GAAG,CAAC;QACtC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,GAAG,IAAI,IAAI;YAAE,KAAK,IAAI,CAAC,IAAI,GAAG;IAAE,YAAA,IAAI,CAAC,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;IAAE,gBAAA,eAAe,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACzI,IAAA,kBAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IAChC,IAAA,OAAO,MAAM,CAAC;IAClB,CAAC;IAEK,SAAU,eAAe,CAAC,GAAG,EAAA;IAC/B,IAAA,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;IAEK,SAAU,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EAAA;IAC3D,IAAA,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,0EAA0E,CAAC,CAAC;IACnL,IAAA,OAAO,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAClG,CAAC;IAEK,SAAU,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EAAA;QAClE,IAAI,IAAI,KAAK,GAAG;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,gCAAgC,CAAC,CAAC;IACxE,IAAA,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;IAAE,QAAA,MAAM,IAAI,SAAS,CAAC,yEAAyE,CAAC,CAAC;IAClL,IAAA,OAAO,CAAC,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9G;;AC5OA,QAAA,wBAAA,kBAAA,YAAA;IAGE,IAAA,SAAA,wBAAA,CAAqB,QAA2B,EAAA;IAA3B,QAAA,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAmB;IADhD,QAAA,IAAI,CAAA,IAAA,GAA+B,0BAA0B,CAAC;IAE5D,QAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,UAAC,CAAM,EAAA,EAAK,OAAA,CAAC,CAAC,OAAO,CAAT,EAAS,CAAC,CAAC;SAClF;QACF,OAAA,wBAAA,CAAA;IAAA,CAAA,EAAA,EAAA;AAED,QAAA,sBAAA,kBAAA,YAAA;IAGE,IAAA,SAAA,sBAAA,CAAqB,QAA2B,EAAA;IAA3B,QAAA,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAmB;IADhD,QAAA,IAAI,CAAA,IAAA,GAA6B,wBAAwB,CAAC;IAExD,QAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,UAAC,CAAM,EAAA,EAAK,OAAA,CAAC,CAAC,OAAO,CAAT,EAAS,CAAC,CAAC;SAClF;QACF,OAAA,sBAAA,CAAA;IAAA,CAAA,EAAA,EAAA;AAED,QAAA,wBAAA,kBAAA,YAAA;IAGE,IAAA,SAAA,wBAAA,CAAqB,QAA2B,EAAA;IAA3B,QAAA,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAmB;IADhD,QAAA,IAAI,CAAA,IAAA,GAA+B,0BAA0B,CAAC;YAE5D,IAAI,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SACpC;QACF,OAAA,wBAAA,CAAA;IAAA,CAAA,EAAA,EAAA;IAGM,IAAM,UAAU,GAAG,UAAC,KAAwB,EAAA;IACjD,IAAA,IAAI,KAAK,CAAC,KAAK,YAAY,UAAU,EAAE;IACrC,QAAA,OAAO,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;IAC5C,KAAA;IAAM,SAAA;YACL,QAAQ,KAAK,CAAC,MAAM;IAClB,YAAA,KAAK,GAAG;IACN,gBAAA,OAAO,IAAI,sBAAsB,CAAC,KAAK,CAAC,CAAC;IAC3C,YAAA,KAAK,GAAG;IACN,gBAAA,OAAO,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;IAC7C,YAAA,KAAK,GAAG;IACN,gBAAA,OAAO,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;IAC7C,YAAA;IACE,gBAAA,OAAO,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;IAC9C,SAAA;IACF,KAAA;IACH,CAAC;;IC5BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BG;AAEH,QAAA,yBAAA,kBAAA,YAAA;IADA,IAAA,SAAA,yBAAA,GAAA;YAEqB,IAAA,CAAA,UAAU,GAAG,IAAIA,oBAAe,CAAiC,EAAE,CAAC,CAAC;YAC9E,IAAA,CAAA,mBAAmB,GAAG,IAAIA,oBAAe,CAAU,KAAK,CAAC,CAAC;IACpE;;IAEG;YACM,IAAA,CAAA,KAAK,GAAG,IAAIA,oBAAe,CAAgC,SAAS,CAAC,CAAC;IAC/E;;IAEG;YACM,IAAA,CAAA,SAAS,GAAG,IAAIA,oBAAe,CAAU,KAAK,CAAC,CAAC;SAoB1D;IAfC;;IAEG;IACH,IAAA,yBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACE,QAAA,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACtB,QAAA,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;SACrC,CAAA;IAED;;;IAGG;IACH,IAAA,yBAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,YAAA;IACE,QAAA,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrC,CAAA;;;iJA7BmB,yBAAyB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAAC,aAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;qJAAzB,yBAAyB,EAAA,CAAA,CAAA;sHAAzB,yBAAyB,EAAA,UAAA,EAAA,CAAA;sBAD9CC,aAAU;;;ICOX,IAAMC,0BAAwB,GAAG,UAAI,GAAM,EAAQ,EAAA,OAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAA,EAAA,CAAC;IAEnF,IAAM,wBAAwB,GAAG,UAAC,iBAA2C,EAAA,EAAmB,QAAC;IAC/F,IAAA,iBAAiB,EAAE,iBAAiB,CAAC,KAAK,IAAI,EAAE;IAChD,IAAA,QAAQ,EAAE,iBAAiB,CAAC,QAAQ,IAAI,EAAE;KAC3C,EAAC,EAAA,CAAC;IAEH,IAAMC,oBAAkB,GAAG,UAAC,QAAmB,EAAA,EAC7C,OAAA,QAAQ,CAAC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,IAAIC,mBAAgB,CAAC,OAAO,CAAC,CAAA,EAAA,CAAC,CAA9D,EAA8D,CAAC;IAEjE,IAAM,cAAc,GAAG,UAAC,IAAY,EAAA;IAClC,IAAA,QAAQ,IAAI;IACV,QAAA,KAAK,iBAAiB;gBACpB,OAAOC,iBAAc,CAAC,eAAe,CAAC;IACxC,QAAA,KAAK,iBAAiB;gBACpB,OAAOA,iBAAc,CAAC,eAAe,CAAC;IACxC,QAAA,KAAK,cAAc;gBACjB,OAAOA,iBAAc,CAAC,YAAY,CAAC;IACrC,QAAA,KAAK,OAAO;gBACV,OAAOA,iBAAc,CAAC,IAAI,CAAC;IAC7B,QAAA,KAAK,aAAa;gBAChB,OAAOA,iBAAc,CAAC,WAAW,CAAC;IACpC,QAAA,KAAK,YAAY;gBACf,OAAOA,iBAAc,CAAC,UAAU,CAAC;IACnC,QAAA,KAAK,oBAAoB;gBACvB,OAAOA,iBAAc,CAAC,kBAAkB,CAAC;IAC3C,QAAA;IACE,YAAA,OAAO,IAAI,CAAC;IACf,KAAA;IACH,CAAC,CAAC;IAEF,IAAMC,qBAAmB,GAAG,UAAC,IAAY,EAAE,WAAgC,EAAA;IACzE,IAAA,IAAM,WAAW,GAAG,WAAW,IAAI,WAAW,CAAC,QAAQ,IAAI,WAAW,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3F,IAAI,WAAW,IAAIH,oBAAkB,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;IAC3D,QAAA,IAAM,QAAQ,GAAG,WAAW,CAAC,QAAyB,CAAC;YACvD,OACE,MAAA,CAAA,MAAA,CAAA,EAAA,EAAE,EAAE,IAAI,EACR,IAAI,EAAE,WAAW,CAAC,IAAI,EACtB,iBAAiB,EAAE,WAAW,CAAC,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,CAAC,KAAK,GAAG,SAAS,EAClG,QAAQ,EAAE,WAAW,CAAC,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,CAAC,QAAQ,GAAG,SAAS,EAC5F,QAAQ,EAAE,QAAQ;qBACf,MAAM,CAACC,mBAAgB,CAAC;qBACxB,GAAG,CAAC,UAAC,OAAgB,EAAK,EAAA,QAAM,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAO,CAAE,EAAA,EAAA,IAAI,EAAA,IAAA,EAAE,cAAc,EAAE,cAAc,CAAC,IAAI,CAAC,EAAG,CAAA,EAAA,EAAA,CAAC,EACvF,GAAC,WAAW,CAAC,SAAS,GAAG,EAAE,SAAS,EAAE,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE,EACrE,CAAA;IACH,KAAA;IACD,IAAA,OAAO,SAAS,CAAC;IACnB,CAAC,CAAC;IAEF,IAAM,sBAAsB,GAAG,UAAC,GAAQ,IACtC,OAAA,GAAG,CAAC,GAAG,CAAC,UAAC,OAAY,EAAK,EAAA,OAAA,OAAO,IAAIE,qBAAmB,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAArD,EAAqD,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA,EAAA,CAAC;IAEnG,IAAM,YAAY,GAAG,UAAC,GAAQ,IAAU,OAAA,EAAE,CAAC,MAAM,OAAT,EAAE,EAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAW,GAAG,CAAA,CAAA,CAAA,CAAA,EAAC,CAAC;IAE1D,IAAMC,mBAAiB,GAAG,UAAC,GAAmB,EAAA;IAC5C,IAAA,IAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;aACjC,MAAM,CAAC,UAAC,EAAK,EAAA;gBAAL,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAK,EAAJ,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;YAAM,OAAA,GAAG,KAAK,mBAAmB,CAAA;IAA3B,KAA2B,CAAC;aAC9C,GAAG,CAAC,UAAC,EAAa,EAAA;IAAb,QAAA,IAAA,EAAA,GAAA,aAAa,EAAZ,IAAI,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;IAChB,QAAA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;IACzB,YAAA,OAAOD,qBAAmB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACzC,SAAA;IAED,QAAA,OAAO,sBAAsB,CAAC,KAAK,CAAC,CAAC;IACvC,KAAC,CAAC;aACD,MAAM,CAAC,OAAO,CAAC,CAAC;IAEnB,IAAA,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC,CAAC;IAEF,IAAME,wBAAsB,GAAG,UAAC,GAAmB,IACjD,OAAAN,0BAAwB,CACtB,MAAA,CAAA,MAAA,CAAA,EAAA,KAAK,EAAE,GAAG,IAAI,GAAG,CAAC,iBAAiB,GAAG,wBAAwB,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,SAAS,EACjG,YAAY,EAAE,GAAG,GAAGK,mBAAiB,CAAC,GAAG,CAAC,GAAG,EAAE,EAC5C,GAAC,GAAG,IAAI,GAAG,CAAC,SAAS,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,GAC5D,CAAA,EAAA,CAAC;IAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BG;AAEH,QAAA,qBAAA,kBAAA,UAAA,MAAA,EAAA;QAA2C,SAAyB,CAAA,qBAAA,EAAA,MAAA,CAAA,CAAA;IAClE,IAAA,SAAA,qBAAA,CAA6B,yBAAoD,EAAA;IAAjF,QAAA,IAAA,KAAA,GACE,iBAAO,IACR,IAAA,CAAA;IAF4B,QAAA,KAAyB,CAAA,yBAAA,GAAzB,yBAAyB,CAA2B;IAIxE,QAAA,KAAA,CAAA,YAAY,GAAyCE,kBAAa,CACzE,KAAI,CAAC,UAAU,CAAC,IAAI,CAACC,8BAAoB,EAAE,CAAC;IAC5C,QAAA,KAAI,CAAC,mBAAmB,CACzB,CAAC,IAAI,CACJC,aAAG,CAAC,YAAA;IACF,YAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,SAAC,CAAC,EACFC,eAAY,CAAC,UAAC,EAAQ,EAAA;oBAAR,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAQ,EAAP,MAAM,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;IACnB,YAAA,OAAA,KAAI,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC3DC,aAAG,CAAC,UAAC,GAAmB,EAAA,EAAK,OAAAL,wBAAsB,CAAC,GAAG,CAAC,CAAA,EAAA,CAAC,EACzDM,oBAAU,CAAC,UAAC,KAAwB,EAAA;oBAClC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,gBAAA,OAAOC,OAAE,CAAC,SAAS,CAAC,CAAC;IACvB,aAAC,CAAC,CACH,CAAA;aAAA,CACF,EACDJ,aAAG,CAAC,YAAA;IACF,YAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B,CAAC,CACH,CAAC;;SArBD;;KAHH,CAA2C,yBAAyB;6IAAvD,qBAAqB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAK,aAAA,CAAA,yBAAA,EAAA,CAAA,EAAA,MAAA,EAAAhB,aAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;iJAArB,qBAAqB,EAAA,CAAA,CAAA;sHAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;sBADjCC,aAAU;;;ACjKE,QAAA,cAAc,GAAG;IAC5B,IAAA,UAAU,EAAE,WAAW;IACvB,IAAA,0BAA0B,EAAE,2BAA2B;IACvD,IAAA,uBAAuB,EAAE,wBAAwB;;;ICYnD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuCG;IACH;AAEA,QAAA,+BAAA,kBAAA,YAAA;;IA+FE;;;;;;IAMG;IACH,IAAA,SAAA,+BAAA,CACqB,OAAkC,EAClC,2BAAwD,EACxC,eAAuB,EAAA;YAH5D,IAII,KAAA,GAAA,IAAA,CAAA;IAHiB,QAAA,IAAO,CAAA,OAAA,GAAP,OAAO,CAA2B;IAClC,QAAA,IAA2B,CAAA,2BAAA,GAA3B,2BAA2B,CAA6B;IACxC,QAAA,IAAe,CAAA,eAAA,GAAf,eAAe,CAAQ;IAxG5D;;IAEG;IACM,QAAA,IAAO,CAAA,OAAA,GAAoC,IAAI,CAAC;IACzD;;;IAGG;YACM,IAAA,CAAA,KAAK,GAA8C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IAC/E;;IAEG;IACM,QAAA,IAAA,CAAA,KAAK,GAAyC,IAAIgB,eAAU,CAAC,UAAA,UAAU,EAAA;gBAC9E,IAAM,aAAa,GAAmB,EAAE,CAAC;IACzC,YAAA,aAAa,CAAC,IAAI,CAChB,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,UAAA,YAAY,EAAA;oBAC9C,IAAM,QAAQ,GAAG,KAAI,CAAC,2BAA2B,CAAC,YAAY,CAAC,CAAC;IAChE,gBAAA,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAE9B,gBAAA,IAAI,QAAQ,CAAC,IAAI,CAACC,kBAAe,CAAC,EAAE;IAClC,oBAAA,aAAa,CAAC,IAAI,CAChB,KAAI,CAAC,2BAA2B;6BAC7B,2BAA2B,CAAC,QAAQ,CAAC;IACrC,yBAAA,IAAI,CAACL,aAAG,CAAC,UAAA,KAAK,EAAA,EAAI,OAAA,KAAI,CAAC,yBAAyB,CAAC,KAAK,EAAE,YAA4B,CAAC,CAAnE,EAAmE,CAAC,CAAC;IACvF,yBAAA,SAAS,CAAC,UAAU,CAAC,CACzB,CAAC;IACH,iBAAA;IACH,aAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC;IACF,YAAA,OAAO,cAAM,OAAA,aAAa,CAAC,OAAO,CAAC,UAAA,YAAY,EAAA,EAAI,OAAA,YAAY,CAAC,WAAW,EAAE,CAAA,EAAA,CAAC,CAAA,EAAA,CAAC;IACjF,SAAC,CAAC,CAAC;IACH;;IAEG;YACM,IAAA,CAAA,SAAS,GAAwB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;IAEhD,QAAA,IAAA,CAAA,4BAA4B,GAAG,IAAIM,iBAAY,EAAE,CAAC;IACnE;;IAEG;IACM,QAAA,IAAU,CAAA,UAAA,GAEf,EAAE,CAAC;IACP;;IAEG;YACM,IAAA,CAAA,SAAS,GAAG,IAAIpB,oBAAe,CAAU,IAAI,CAAC,CAAC;IAcxD;;IAEG;IACO,QAAA,IAAA,CAAA,eAAe,GAAG,IAAIqB,eAAY,EAAU,CAAC;IACvD;;IAEG;IACO,QAAA,IAAA,CAAA,aAAa,GAAG,IAAIA,eAAY,EAAW,CAAC;IAE9C,QAAA,IAAyB,CAAA,yBAAA,GAAa,EAAE,CAAC;YACzC,IAAsB,CAAA,sBAAA,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjE;;;;IAIG;IACH,QAAA,IAAoB,CAAA,oBAAA,GAA2DC,uBAAoB,CAAC;IAE5F,QAAA,IAAA,CAAA,2BAA2B,GAAG,UAAC,YAA2B,EAAA,EAChE,OAAA,YAAY;kBACR,YAAY,CAAC,YAAY,CAAC,MAAM,CAAC,UAAC,QAAQ,EAAE,IAAI,EAAK,EAAA,OAAA,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,CAApC,EAAoC,EAAE,EAAe,CAAC;IAC7G,cAAE,EAAE,CAFN,EAEM,CAAC;IAED,QAAA,IAAyB,CAAA,yBAAA,GAAG,UAAC,QAAmB,EAAE,YAA0B,EAAmB,EAAA,QAClG,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAY,KACf,YAAY,EAAE,YAAY,CAAC,YAAY,CAAC,GAAG,CAAC,UAAA,OAAO,EAAA;;IAAI,gBAAA,wCAClD,OAAO,CAAA,EAAA,EACV,QAAQ,EAAE,CAAA,EAAA,GAAA,OAAO,CAAC,QAAQ,0CAAE,GAAG,CAAC,UAAA,OAAO,IAAI,QACtC,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAO,IACN,QAAQ,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA,EAAI,OAAA,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,CAAA,EAAA,CAAC,IAAI,EAAE,EACvD,EAHyC,EAGzC,CAAC,KACH;IAAA,aAAA,CAAC,KACH,EAAA,CAAC;SAaC;IA1DJ,IAAA,MAAA,CAAA,cAAA,CAAsC,+BAAc,CAAA,SAAA,EAAA,gBAAA,EAAA;IAApD,QAAA,GAAA,EAAA,UAAqD,KAAc,EAAA;IACjE,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B;;;IAAA,KAAA,CAAA,CAAA;IAID,IAAA,MAAA,CAAA,cAAA,CAAsD,+BAAuB,CAAA,SAAA,EAAA,yBAAA,EAAA;IAH7E;;IAEG;IACH,QAAA,GAAA,EAAA,UAA8E,KAAa,EAAA;IACzF,YAAA,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;IACtC,gBAAA,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpE,gBAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;oBACtF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;IAChF,aAAA;aACF;;;IAAA,KAAA,CAAA,CAAA;IA+CD;;IAEG;IACH,IAAA,+BAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACE,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;IACtF,QAAA,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;SAC9B,CAAA;IACD;;;;IAIG;QACH,+BAAa,CAAA,SAAA,CAAA,aAAA,GAAb,UAAc,EAAU,EAAA;IACtB,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC/B,CAAA;IACD;;IAEG;IACH,IAAA,+BAAA,CAAA,SAAA,CAAA,eAAe,GAAf,YAAA;IACE,QAAA,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC;SACpC,CAAA;IACD;;;;;;IAMG;IACK,IAAA,+BAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,UAAa,UAAoB,EAAE,QAAoB,EAAE,SAAgB,EAAA;YAAzE,IAQP,KAAA,GAAA,IAAA,CAAA;IARgE,QAAA,IAAA,SAAA,KAAA,KAAA,CAAA,EAAA,EAAA,SAAgB,GAAA,IAAA,CAAA,EAAA;IAC/E,QAAA,UAAU,CAAC,OAAO,CAAC,UAAC,KAAa,EAAA;IAC/B,YAAA,IAAI,SAAS,EAAE;oBACb,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,QAA+B,CAAC,CAAC;IACxE,aAAA;IAAM,iBAAA;oBACL,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,EAAE,QAA+B,CAAC,CAAC;IAC1E,aAAA;IACH,SAAC,CAAC,CAAC;SACJ,CAAA;;;IA/IU,+BAAA,CAAA,IAAA,GAAArB,aAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,+BAA+B,8GAyGhCsB,aAAM,EAAA,CAAA,EAAA,MAAA,EAAAtB,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;gIAzGL,+BAA+B,EAAA,MAAA,EAAA,EAAA,cAAA,EAAA,CAAA,WAAA,EAAA,gBAAA,CAAA,EAAA,uBAAA,EAAA,CAAA,2BAAA,EAAA,yBAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,eAAA,EAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA/B,+BAA+B,EAAA,UAAA,EAAA,CAAA;sBAD3CuB,YAAS;;;kCA0GLC,SAAM;mCAACF,aAAM,CAAA;;6BAzDsB,cAAc,EAAA,CAAA;0BAAnDG,QAAK;IAAC,gBAAA,IAAA,EAAA,CAAA,cAAc,CAAC,UAAU,CAAA;oBAMsB,uBAAuB,EAAA,CAAA;0BAA5EA,QAAK;IAAC,gBAAA,IAAA,EAAA,CAAA,cAAc,CAAC,0BAA0B,CAAA;oBAUtC,eAAe,EAAA,CAAA;0BAAxBC,SAAM;oBAIG,aAAa,EAAA,CAAA;0BAAtBA,SAAM;;IA8ET;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,mCAAA,kBAAA,UAAA,MAAA,EAAA;QAAyD,SAAyD,CAAA,mCAAA,EAAA,MAAA,CAAA,CAAA;IAAlH,IAAA,SAAA,mCAAA,GAAA;;;;KAAA,CAAyDC,eAAyD;2JAArG,mCAAmC,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;oIAAnC,mCAAmC,EAAA,QAAA,EAAA,gCAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAnC,mCAAmC,EAAA,UAAA,EAAA,CAAA;sBAH/CuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,gCAAgC;qBAC3C,CAAA;;IAGD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,yCAAA,kBAAA,UAAA,MAAA,EAAA;QAA+D,SAG9D,CAAA,yCAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,yCAAA,GAAA;;;;KAAA,CAA+DI,eAG9D;iKAHY,yCAAyC,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;0IAAzC,yCAAyC,EAAA,QAAA,EAAA,sCAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAzC,yCAAyC,EAAA,UAAA,EAAA,CAAA;sBAHrDuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,sCAAsC;qBACjD,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,uCAAA,kBAAA,UAAA,MAAA,EAAA;QAA6D,SAG5D,CAAA,uCAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,uCAAA,GAAA;;;;KAAA,CAA6DI,eAG5D;+JAHY,uCAAuC,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;wIAAvC,uCAAuC,EAAA,QAAA,EAAA,oCAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAvC,uCAAuC,EAAA,UAAA,EAAA,CAAA;sBAHnDuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,oCAAoC;qBAC/C,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,2CAAA,kBAAA,UAAA,MAAA,EAAA;QAAiE,SAGhE,CAAA,2CAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,2CAAA,GAAA;;;;KAAA,CAAiEI,eAGhE;mKAHY,2CAA2C,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;4IAA3C,2CAA2C,EAAA,QAAA,EAAA,wCAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA3C,2CAA2C,EAAA,UAAA,EAAA,CAAA;sBAHvDuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,wCAAwC;qBACnD,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,yDAAA,kBAAA,UAAA,MAAA,EAAA;QAA+E,SAG9E,CAAA,yDAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,yDAAA,GAAA;;;;KAAA,CAA+EI,eAG9E;iLAHY,yDAAyD,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;0JAAzD,yDAAyD,EAAA,QAAA,EAAA,sDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAzD,yDAAyD,EAAA,UAAA,EAAA,CAAA;sBAHrEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,sDAAsD;qBACjE,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,yDAAA,kBAAA,UAAA,MAAA,EAAA;QAA+E,SAG9E,CAAA,yDAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,yDAAA,GAAA;;;;KAAA,CAA+EI,eAG9E;iLAHY,yDAAyD,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;0JAAzD,yDAAyD,EAAA,QAAA,EAAA,sDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAzD,yDAAyD,EAAA,UAAA,EAAA,CAAA;sBAHrEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,sDAAsD;qBACjE,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,sDAAA,kBAAA,UAAA,MAAA,EAAA;QAA4E,SAG3E,CAAA,sDAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,sDAAA,GAAA;;;;KAAA,CAA4EI,eAG3E;8KAHY,sDAAsD,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;uJAAtD,sDAAsD,EAAA,QAAA,EAAA,mDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAtD,sDAAsD,EAAA,UAAA,EAAA,CAAA;sBAHlEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,mDAAmD;qBAC9D,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,+CAAA,kBAAA,UAAA,MAAA,EAAA;QAAqE,SAGpE,CAAA,+CAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,+CAAA,GAAA;;;;KAAA,CAAqEI,eAGpE;uKAHY,+CAA+C,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;gJAA/C,+CAA+C,EAAA,QAAA,EAAA,4CAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA/C,+CAA+C,EAAA,UAAA,EAAA,CAAA;sBAH3DuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,4CAA4C;qBACvD,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,qDAAA,kBAAA,UAAA,MAAA,EAAA;QAA2E,SAG1E,CAAA,qDAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,qDAAA,GAAA;;;;KAAA,CAA2EI,eAG1E;6KAHY,qDAAqD,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;sJAArD,qDAAqD,EAAA,QAAA,EAAA,kDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAArD,qDAAqD,EAAA,UAAA,EAAA,CAAA;sBAHjEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,kDAAkD;qBAC7D,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,oDAAA,kBAAA,UAAA,MAAA,EAAA;QAA0E,SAGzE,CAAA,oDAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,oDAAA,GAAA;;;;KAAA,CAA0EI,eAGzE;4KAHY,oDAAoD,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;qJAApD,oDAAoD,EAAA,QAAA,EAAA,iDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAApD,oDAAoD,EAAA,UAAA,EAAA,CAAA;sBAHhEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,iDAAiD;qBAC5D,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,4DAAA,kBAAA,UAAA,MAAA,EAAA;QAAkF,SAGjF,CAAA,4DAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,4DAAA,GAAA;;;;KAAA,CAAkFI,eAGjF;oLAHY,4DAA4D,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;6JAA5D,4DAA4D,EAAA,QAAA,EAAA,yDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA5D,4DAA4D,EAAA,UAAA,EAAA,CAAA;sBAHxEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,yDAAyD;qBACpE,CAAA;;IAMD;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,4DAAA,kBAAA,UAAA,MAAA,EAAA;QAAkF,SAGjF,CAAA,4DAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,4DAAA,GAAA;;;;KAAA,CAAkFI,eAGjF;oLAHY,4DAA4D,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;6JAA5D,4DAA4D,EAAA,QAAA,EAAA,yDAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA5D,4DAA4D,EAAA,UAAA,EAAA,CAAA;sBAHxEuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,yDAAyD;qBACpE,CAAA;;IAMD;;;;;;;;;;;;;;;;IAgBG;AAIH,QAAA,8CAAA,kBAAA,UAAA,MAAA,EAAA;QAAoE,SAGnE,CAAA,8CAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,8CAAA,GAAA;;;;KAAA,CAAoEI,eAGnE;sKAHY,8CAA8C,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;+IAA9C,8CAA8C,EAAA,QAAA,EAAA,2CAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAA9C,8CAA8C,EAAA,UAAA,EAAA,CAAA;sBAH1DuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,2CAA2C;qBACtD,CAAA;;;IC7gBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuCG;IACH;AAMA,QAAA,iCAAA,kBAAA,UAAA,MAAA,EAAA;QAAuD,SAA+B,CAAA,iCAAA,EAAA,MAAA,CAAA,CAAA;IACpF;;;;;;IAMG;IACH,IAAA,SAAA,iCAAA,CACqB,OAA8B,EAC9B,2BAAwD,EACxC,eAAuB,EAAA;IAH5D,QAAA,IAAA,KAAA,GAKE,kBAAM,OAAO,EAAE,2BAA2B,EAAE,eAAe,CAAC,IAC7D,IAAA,CAAA;IALoB,QAAA,KAAO,CAAA,OAAA,GAAP,OAAO,CAAuB;IAC9B,QAAA,KAA2B,CAAA,2BAAA,GAA3B,2BAA2B,CAA6B;IACxC,QAAA,KAAe,CAAA,eAAA,GAAf,eAAe,CAAQ;;SAG3D;;KAdH,CAAuD,+BAA+B;IAAzE,iCAAA,CAAA,IAAA,GAAAvB,aAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,iCAAiC,0GAWlCsB,aAAM,EAAA,CAAA,EAAA,MAAA,EAAAtB,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;IAXL,iCAAA,CAAA,IAAA,GAAAA,aAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,iCAAiC,EAFjC,QAAA,EAAA,gCAAA,EAAA,SAAA,EAAA,CAAC,qBAAqB,CAAC,4DClDpC,knUAoTA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA4B,aAAA,CAAA,aAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,EAAA,YAAA,EAAA,SAAA,EAAA,gBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,eAAA,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,UAAA,EAAA,cAAA,EAAA,aAAA,EAAA,aAAA,EAAA,YAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,+BAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,CAAA,YAAA,EAAA,WAAA,EAAA,UAAA,EAAA,aAAA,CAAA,EAAA,OAAA,EAAA,CAAA,eAAA,EAAA,eAAA,EAAA,kBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,UAAA,EAAA,aAAA,EAAA,cAAA,EAAA,UAAA,EAAA,WAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,yBAAA,EAAA,QAAA,EAAA,yBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,WAAA,EAAA,eAAA,EAAA,QAAA,CAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAAC,aAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,mCAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,yCAAA,EAAA,QAAA,EAAA,sCAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,uCAAA,EAAA,QAAA,EAAA,oCAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,cAAA,CAAA,gBAAA,EAAA,QAAA,EAAA,aAAA,EAAA,MAAA,EAAA,CAAA,WAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAJ,aAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAK,2CAAA,EAAA,QAAA,EAAA,wCAAA,EAAA,EAAA,EAAA,IAAA,EAAAL,aAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAAM,yDAAA,EAAA,QAAA,EAAA,sDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,yDAAA,EAAA,QAAA,EAAA,sDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,sDAAA,EAAA,QAAA,EAAA,mDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,+CAAA,EAAA,QAAA,EAAA,4CAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,qDAAA,EAAA,QAAA,EAAA,kDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,oDAAA,EAAA,QAAA,EAAA,iDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,4DAAA,EAAA,QAAA,EAAA,yDAAA,EAAA,EAAA,EAAA,IAAA,EAAAZ,aAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAAa,4DAAA,EAAA,QAAA,EAAA,yDAAA,EAAA,EAAA,EAAA,IAAA,EAAAC,8CAAA,EAAA,QAAA,EAAA,2CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,OAAA,EAAAd,aAAA,CAAA,SAAA,EAAA,EAAA,CAAA,CAAA;sHDhQa,iCAAiC,EAAA,UAAA,EAAA,CAAA;sBAL7Ce,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,gCAAgC;IAC1C,oBAAA,WAAW,EAAE,4CAA4C;wBACzD,SAAS,EAAE,CAAC,qBAAqB,CAAC;qBACnC,CAAA;;;kCAYIxB,SAAM;mCAACF,aAAM,CAAA;;;;IEzClB,IAAM,wBAAwB,GAAG,UAAI,GAAM,EAAQ,EAAA,OAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAA,EAAA,CAAC;IAEnF,IAAM,gCAAgC,GAAG,UACvC,kBAAsC,EACtC,SAAiB,EAAA;IAEjB,IAAA,IAAI,kBAAkB,CAAC,SAAS,CAAC,KAAK,SAAS;IAAE,QAAA,OAAO,SAAS,CAAC;QAE5D,IAAA,EAAA,GAAA,OAAyB,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAA,CAAA,CAAA,EAAxE,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA,EAAI,MAAM,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA,MAAsD,CAAC;QAEhF,OAAO;YACL,iBAAiB,EAAE,MAAM,IAAI,EAAE;IAC/B,QAAA,QAAQ,EAAA,QAAA;SACT,CAAC;IACJ,CAAC,CAAC;IAEF,IAAM,gBAAgB,GAAG,UAAC,OAA6B,EAAA,EACrD,OAAA,OAAO,CAAC,UAAU,CAAC,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,KAAK,MAAM,CAAvF,EAAuF,CAAC;IAE1F,IAAM,kBAAkB,GAAG,UAAC,QAA0C,EAAA;IAA1C,IAAA,IAAA,QAAA,KAAA,KAAA,CAAA,EAAA,EAAA,QAA0C,GAAA,EAAA,CAAA,EAAA;IAAc,IAAA,OAAA,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;IAA/B,CAA+B,CAAC;IAEpH,IAAM,6BAA6B,GAAG,UAAC,0BAAsD,EAAA;QAC3F,IAAM,gBAAgB,GAAqB,EAAE,CAAC;QAE7C,MAAM,CAAC,OAAO,CAAC,0BAA0B,CAAgC,CAAC,OAAO,CAAC,UAAC,EAAc,EAAA;IAAd,QAAA,IAAA,EAAA,GAAA,aAAc,EAAb,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;YAC/F,QAAQ,OAAO,CAAC,IAAI;IAClB,YAAA,KAAK,SAAS;oBACZ,gBAAgB,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,KAAK,KAAK,MAAM,CAAC;oBACjD,MAAM;IACR,YAAA,KAAK,SAAS;oBACZ,gBAAgB,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAC9C,MAAM;IACR,YAAA,KAAK,QAAQ;oBACX,gBAAgB,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAC9C,MAAM;IACR,YAAA,KAAK,SAAS;oBACZ,gBAAgB,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAC9C,MAAM;IACR,YAAA;IACE,gBAAA,gBAAgB,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC;IACzC,SAAA;IACH,KAAC,CAAC,CAAC;IAEH,IAAA,OAAO,gBAAgB,CAAC;IAC1B,CAAC,CAAC;IAEF,IAAM,kBAAkB,GAAG,UAAC,OAAe,EAAA;IACzC,IAAA,QAAQ,OAAO;YACb,KAAKjB,iBAAc,CAAC,eAAe;gBACjC,OAAO4C,mBAAgB,CAAC,eAAe,CAAC;YAC1C,KAAK5C,iBAAc,CAAC,eAAe;gBACjC,OAAO4C,mBAAgB,CAAC,eAAe,CAAC;YAC1C,KAAK5C,iBAAc,CAAC,YAAY;gBAC9B,OAAO4C,mBAAgB,CAAC,YAAY,CAAC;YACvC,KAAK5C,iBAAc,CAAC,IAAI;gBACtB,OAAO4C,mBAAgB,CAAC,IAAI,CAAC;YAC/B,KAAK5C,iBAAc,CAAC,WAAW;gBAC7B,OAAO4C,mBAAgB,CAAC,WAAW,CAAC;YACtC,KAAK5C,iBAAc,CAAC,UAAU;gBAC5B,OAAO4C,mBAAgB,CAAC,UAAU,CAAC;YACrC,KAAK5C,iBAAc,CAAC,kBAAkB;gBACpC,OAAO4C,mBAAgB,CAAC,kBAAkB,CAAC;IAC7C,QAAA;IACE,YAAA,OAAO,OAAO,CAAC;IAClB,KAAA;IACH,CAAC,CAAC;IAEF,IAAM,mBAAmB,GAAG,UAC1B,SAAiB,EACjB,KAA+B,EAC/B,kBAAuC,EAAA;;IAEvC,IAAA,IAAM,WAAW,GAAG,KAAK,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IACzE,IAAA,IAAM,OAAO,GAAG,kBAAkB,GAAG,gCAAgC,CAAC,kBAAkB,EAAE,SAAS,CAAC,GAAG,SAAS,CAAC;QAEjH,IAAI,WAAW,IAAI,kBAAkB,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;YACrD,OAAO;IACL,YAAA,EAAE,EAAE,SAAS;IACb,YAAA,IAAI,EAAE,SAAS;IACf,YAAA,iBAAiB,EAAE,OAAO,KAAA,IAAA,IAAP,OAAO,KAAP,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,OAAO,CAAE,iBAAiB;IAC7C,YAAA,QAAQ,EAAE,OAAO,KAAA,IAAA,IAAP,OAAO,KAAP,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,OAAO,CAAE,QAAQ;IAC3B,YAAA,QAAQ,EAAE,CAAA,EAAA,GAAA,KAAK,CAAC,QAAQ,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAM,CAAC,gBAAgB,EAAE,GAAG,CAAC,UAAC,OAA6B,EAAA;;oBACnF,IAAM,OAAO,GAAG,6BAA6B,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAElE,gBAAA,OAAO,MACF,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAO,CACV,EAAA,EAAA,EAAE,EAAE,OAAO,CAAC,EAAE,EACd,IAAI,EAAE,SAAS,EACf,aAAa,EAAE,CAAA,EAAA,IAAC,CAAA,EAAA,GAAA,OAAO,CAAC,aAAa,mCAAI,OAAO,CAAC,cAAc,CAAC,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,EAAE,EAC5E,eAAe,EAAE,CAAA,EAAA,GAAA,OAAO,CAAC,eAAe,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,OAAO,CAAC,cAAc,EAClE,sBAAsB,EAAE,CAAA,EAAA,IAAC,CAAA,EAAA,GAAA,OAAO,CAAC,sBAAsB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,OAAO,CAAC,cAAc,CAAC,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,EAAE,EAC9F,gBAAgB,EAAE,CAAA,EAAA,IAAC,CAAA,EAAA,GAAA,OAAO,CAAC,gBAAgB,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,OAAO,CAAC,gBAAgB,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,QAAQ,EAAE,EACpF,eAAe,EAAE,CAAA,EAAA,GAAA,OAAO,CAAC,eAAe,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,OAAO,CAAC,gBAAgB,EACpE,gBAAgB,EAAE,CAAA,EAAA,GAAA,OAAO,CAAC,gBAAgB,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,OAAO,CAAC,eAAe,EACrE,eAAe,EAAE,OAAO,CAAC,cAAc,GAAG,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,SAAS,EAChG,KAAK,EAAE,OAAO,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,GAAG,SAAS,GACjD,CAAC;IACf,aAAC,CAAC;aACH,CAAC;IACH,KAAA;IACD,IAAA,OAAO,SAAS,CAAC;IACnB,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAG,UACxB,MAAmD,EACnD,kBAAuC,EAAA;IAEvC,IAAA,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;aACjC,MAAM,CAAC,UAAC,EAAW,EAAA;gBAAX,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAW,EAAV,SAAS,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;YAAM,OAAA,SAAS,KAAK,iBAAiB,CAAA;IAA/B,KAA+B,CAAC;aACxD,GAAG,CAAC,UAAC,EAAkB,EAAA;IAAlB,QAAA,IAAA,EAAA,GAAA,aAAkB,EAAjB,SAAS,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;IAAM,QAAA,OAAA,mBAAmB,CAAC,SAAS,EAAE,KAAK,EAAE,kBAAkB,CAAC,CAAA;IAAzD,KAAyD,CAAC;aACtF,MAAM,CAAC,OAAO,CAAC,CAAC;IAEnB,IAAA,IAAM,kBAAkB,GAAG,mBAAmB,CAAC,iBAAiB,EAAE,MAAM,CAAC,iBAAiB,CAAC,EAAE,kBAAkB,CAAC,CAAC;IAEjH,IAAA,IAAI,kBAAkB,EAAE;IACtB,QAAA,OAAO,GAAI,aAAA,CAAA,CAAA,kBAAkB,CAAK,EAAA,MAAA,CAAA,OAAO,EAAC,CAAC;IAC5C,KAAA;IAED,IAAA,OAAO,OAAwB,CAAC;IAClC,CAAC,CAAC;IAEF,IAAM,sBAAsB,GAAG,UAAC,GAA4B,EAAA;;IAC1D,IAAA,OAAA,wBAAwB,CAAC;YACvB,KAAK,EAAE,CAAA,CAAA,EAAA,GAAA,GAAG,CAAC,QAAQ,0CAAE,mBAAmB;IACtC,cAAE,gCAAgC,CAAC,CAAA,EAAA,GAAA,GAAG,CAAC,QAAQ,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,EAAE,KAAK,CAAC;IAC5E,cAAE,SAAS;YACb,YAAY,EAAE,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,EAAE,CAAA,EAAA,GAAA,GAAG,CAAC,QAAQ,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,CAAC,GAAG,EAAE;IACxG,KAAA,CAAC,CAAA;KAAA,CAAC;IAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BG;AAEH,QAAA,mBAAA,kBAAA,UAAA,MAAA,EAAA;QAAyC,SAAyB,CAAA,mBAAA,EAAA,MAAA,CAAA,CAAA;IAGhE,IAAA,SAAA,mBAAA,CAA6B,2BAAwD,EAAA;IAArF,QAAA,IAAA,KAAA,GACE,iBAAO,IACR,IAAA,CAAA;IAF4B,QAAA,KAA2B,CAAA,2BAAA,GAA3B,2BAA2B,CAA6B;IAFpE,QAAA,KAAA,CAAA,eAAe,GAAG,IAAIC,kBAAa,EAAU,CAAC;IAMtD,QAAA,KAAY,CAAA,YAAA,GAAyCzC,kBAAa,CAAC;IAC1E,YAAA,KAAI,CAAC,eAAe;IACpB,YAAA,KAAI,CAAC,mBAAmB;IACzB,SAAA,CAAC,CAAC,IAAI,CACLE,aAAG,CAAC,YAAA;IACF,YAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,SAAC,CAAC,EACFwC,mBAAS,CAAC,UAAC,EAAU,EAAA;oBAAV,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAU,EAAT,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;IAClB,YAAA,OAAA,KAAI,CAAC,2BAA2B,CAAC,kBAAkB,CAAC,EAAE,QAAQ,EAAA,QAAA,EAAE,CAAC,CAAC,IAAI,CACpEtC,aAAG,CAAC,UAAA,GAAG,EAAA,EAAI,OAAA,sBAAsB,CAAC,GAAG,CAAC,CAA3B,EAA2B,CAAC,EACvCC,oBAAU,CAAC,UAAC,KAAwB,EAAA;oBAClC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,gBAAA,OAAOC,OAAE,CAAC,SAAS,CAAC,CAAC;IACvB,aAAC,CAAC,CACH,CAAA;aAAA,CACF,EACDJ,aAAG,CAAC,YAAA;IACF,YAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B,CAAC,CACH,CAAC;;SArBD;QAuBD,mBAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,QAAgB,EAAA;IAC1B,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACrC,CAAA;;KA9BH,CAAyC,yBAAyB;2IAArD,mBAAmB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAK,aAAA,CAAA,2BAAA,EAAA,CAAA,EAAA,MAAA,EAAAhB,aAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;+IAAnB,mBAAmB,EAAA,CAAA,CAAA;sHAAnB,mBAAmB,EAAA,UAAA,EAAA,CAAA;sBAD/BC,aAAU;;;IC/KX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuCG;AAMH,QAAA,+BAAA,kBAAA,UAAA,MAAA,EAAA;QAAqD,SAA+B,CAAA,+BAAA,EAAA,MAAA,CAAA,CAAA;IAWlF;;;;;;IAMG;IACH,IAAA,SAAA,+BAAA,CACqB,OAA4B,EAC5B,2BAAwD,EACxC,eAAuB,EAAA;IAH5D,QAAA,IAAA,KAAA,GAKE,kBAAM,OAAO,EAAE,2BAA2B,EAAE,eAAe,CAAC,IAC7D,IAAA,CAAA;IALoB,QAAA,KAAO,CAAA,OAAA,GAAP,OAAO,CAAqB;IAC5B,QAAA,KAA2B,CAAA,2BAAA,GAA3B,2BAA2B,CAA6B;IACxC,QAAA,KAAe,CAAA,eAAA,GAAf,eAAe,CAAQ;IAf5D;;IAEG;IACO,QAAA,KAAA,CAAA,WAAW,GAAyB,IAAImB,eAAY,EAAE,CAAC;;SAehE;IAED,IAAA,+BAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,YAAA;IACE,QAAA,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;IAC/B,YAAA,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;IACzC,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzC,SAAA;SACF,CAAA;;KAhCH,CAAqD,+BAA+B;IAAvE,+BAAA,CAAA,IAAA,GAAApB,aAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,+BAA+B,wGAqBhCsB,aAAM,EAAA,CAAA,EAAA,MAAA,EAAAtB,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;IArBL,+BAAA,CAAA,IAAA,GAAAA,aAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,+BAA+B,iIAF/B,CAAC,mBAAmB,CAAC,ECnDlC,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,QAAA,EAAA,w+VA6UA,k0FDhOa,iEAAiE,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,8DAAA,EAAA,EAAA,EAAA,IAAA,EAAAA,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAAuC,yDAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sDAAA,EAAA,EAAA,EAAA,IAAA,EAAAvC,aAAA,CAAA,UAAA,CAAA,cAAA,OAAAwC,yDAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sDAAA,EAAA,EAAA,EAAA,IAAA,EAAAxC,aAAA,CAAA,UAAA,CAAA,cAAA,OAAAyC,sDAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,mDAAA,EAAA,EAAA,EAAA,IAAA,EAAAzC,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAA0C,+CAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,4CAAA,EAAA,EAAA,EAAA,IAAA,EAAA1C,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAA2C,qDAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,kDAAA,EAAA,EAAA,EAAA,IAAA,EAAA3C,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAA4C,oDAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,iDAAA,EAAA,EAAA,EAAA,IAAA,EAAA5C,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAA6C,4DAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,yDAAA,EAAA,EAAA,EAAA,IAAA,EAAA7C,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAAiC,aAAA,CAAA,eAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAAjC,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAA8C,4DAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,yDAAA,EAAA,EAAA,EAAA,IAAA,EAAA9C,aAAA,CAAA,UAAA,CAAA,cAAA,OAAA+C,8CAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,2CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,OAAA,EAAA/C,aAAA,CAAA,UAAA,CAAA,YAAA,EAAA,OAAAiC,aAAA,CAAA,SAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;sHAxDjE,+BAA+B,EAAA,UAAA,EAAA,CAAA;sBAL3Ce,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,6BAA6B;IACvC,oBAAA,WAAW,EAAE,yCAAyC;wBACtD,SAAS,EAAE,CAAC,mBAAmB,CAAC;qBACjC,CAAA;;;kCAsBIxB,SAAM;mCAACF,aAAM,CAAA;;6BAjBG,QAAQ,EAAA,CAAA;0BAA1BG,QAAK;2BAAC,UAAU,CAAA;oBAKP,WAAW,EAAA,CAAA;0BAApBC,SAAM;;IA0BT;;;;;;;;;;;;;;;;;IAiBG;AAIH,QAAA,iEAAA,kBAAA,UAAA,MAAA,EAAA;QAAuF,SAGtF,CAAA,iEAAA,EAAA,MAAA,CAAA,CAAA;IAHD,IAAA,SAAA,iEAAA,GAAA;;;;KAAA,CAAuFC,eAGtF;yLAHY,iEAAiE,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA3B,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;kKAAjE,iEAAiE,EAAA,QAAA,EAAA,8DAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAjE,iEAAiE,EAAA,UAAA,EAAA,CAAA;sBAH7EuB,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,8DAA8D;qBACzE,CAAA;;;IExED,IAAM,UAAU,GAAG,CAAC,iCAAiC,EAAE,+BAA+B,CAAC,CAAC;IAExF,IAAM,UAAU,GAAG;QACjB,mCAAmC;QACnC,yCAAyC;QACzC,uCAAuC;QACvC,2CAA2C;QAC3C,iEAAiE;QACjE,yDAAyD;QACzD,yDAAyD;QACzD,sDAAsD;QACtD,+CAA+C;QAC/C,qDAAqD;QACrD,oDAAoD;QACpD,4DAA4D;QAC5D,4DAA4D;QAC5D,8CAA8C;KAC/C,CAAC;IAEF,IAAM,SAAS,GAAG;QAChB6B,oBAAiB;QACjBC,+BAA4B;QAC5BC,aAAU;QACVC,eAAY;QACZC,mBAAgB;QAChBC,yBAAsB;QACtBC,iBAAa;QACbC,8BAA2B;KAC5B,CAAC;IAEF;;;;;;;;;;;;;;;;;;;;;;;IAuBG;AAgBH,QAAA,8BAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,8BAAA,GAAA;;;;sJAAa,8BAA8B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA3D,aAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;IAA9B,8BAAA,CAAA,IAAA,GAAAA,aAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,8BAA8B,EArEvB,YAAA,EAAA,CAAA,iCAAiC,EAAE,+BAA+B,EAGpF,mCAAmC;YACnC,yCAAyC;YACzC,uCAAuC;YACvC,2CAA2C;YAC3C,iEAAiE;YACjE,yDAAyD;YACzD,yDAAyD;YACzD,sDAAsD;YACtD,+CAA+C;YAC/C,qDAAqD;YACrD,oDAAoD;YACpD,4DAA4D;YAC5D,4DAA4D;IAC5D,QAAA,8CAA8C,CAAA,EAAA,OAAA,EAAA,CAwC5C4D,eAAY,EApCdR,oBAAiB;YACjBC,+BAA4B;YAC5BC,aAAU;YACVC,eAAY;YACZC,mBAAgB;YAChBC,yBAAsB;YACtBC,iBAAa;IACb,QAAAC,8BAA2B,EA3BT3C,eAAA,CAAA,kBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,iCAAiC,EAAE,+BAA+B,EAGpF,mCAAmC;YACnC,yCAAyC;YACzC,uCAAuC;YACvC,2CAA2C;YAC3C,iEAAiE;YACjE,yDAAyD;YACzD,yDAAyD;YACzD,sDAAsD;YACtD,+CAA+C;YAC/C,qDAAqD;YACrD,oDAAoD;YACpD,4DAA4D;YAC5D,4DAA4D;IAC5D,QAAA,8CAA8C,EAI9CoC,oBAAiB;YACjBC,+BAA4B;YAC5BC,aAAU;YACVC,eAAY;YACZC,mBAAgB;YAChBC,yBAAsB;YACtBC,iBAAa;YACbC,8BAA2B,CAAA,EAAA,CAAA,CAAA;IA0ChB,8BAAA,CAAA,IAAA,GAAA3D,aAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,8BAA8B,EAF9B,SAAA,EAAA,CAAC6D,8BAA2B,CAAC,EAZ/B,OAAA,EAAA,CAAA,aAAA,CAAA,aAAA,CAAA;gBACPD,eAAY;sBACT,SAAS,CAAA,CAAA,EAAA;gBACZE,uBAAkB,CAAC,UAAU,CAAC;IAC5B,gBAAA,QAAQ,EAAE;IACR,oBAAA,iCAAiC,EAAA,iCAAA;IACjC,oBAAA,+BAA+B,EAAA,+BAAA;IAChC,iBAAA;iBACF,CAAC;gBA3CJV,oBAAiB;YACjBC,+BAA4B;YAC5BC,aAAU;YACVC,eAAY;YACZC,mBAAgB;YAChBC,yBAAsB;YACtBC,iBAAa;YACbC,8BAA2B,CAAA,EAAA,CAAA,CAAA;sHA0ChB,8BAA8B,EAAA,UAAA,EAAA,CAAA;sBAf1CI,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACR,OAAO,EAAA,aAAA,CAAA,aAAA,CAAA;4BACLH,eAAY;kCACT,SAAS,CAAA,CAAA,EAAA;4BACZE,uBAAkB,CAAC,UAAU,CAAC;IAC5B,4BAAA,QAAQ,EAAE;IACR,gCAAA,iCAAiC,EAAA,iCAAA;IACjC,gCAAA,+BAA+B,EAAA,+BAAA;IAChC,6BAAA;6BACF,CAAC;IACH,qBAAA,CAAA;IACD,oBAAA,YAAY,EAAM,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAA,UAAU,CAAK,CAAA,EAAA,MAAA,CAAA,UAAU,CAAC,CAAA;IAC5C,oBAAA,OAAO,uDAAM,UAAU,CAAA,CAAA,EAAA,MAAA,CAAK,UAAU,CAAA,CAAA,EAAA,MAAA,CAAK,SAAS,CAAC,CAAA;wBACrD,SAAS,EAAE,CAACD,8BAA2B,CAAC;qBACzC,CAAA;;;ICxGD;;IAEG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}