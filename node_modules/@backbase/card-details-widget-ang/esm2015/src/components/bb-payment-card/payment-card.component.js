import { Component, Directive } from '@angular/core';
import { PaymentCardContainerBase } from '@backbase/cards-common-ang';
import { BbTemplate } from '@backbase/foundation-ang/core';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/cards-common-ang";
import * as i2 from "@backbase/ui-ang/notification";
import * as i3 from "../bb-payment-card-summary/payment-card-summary.component";
import * as i4 from "../bb-payment-card-controls/payment-card-controls.component";
import * as i5 from "@angular/common";
export class PaymentCardComponent extends PaymentCardContainerBase {
    constructor(cardsService, cd, notificationService) {
        super(cardsService, cd, notificationService);
        this.cardsService = cardsService;
        this.cd = cd;
        this.notificationService = notificationService;
        this.hostRef = this;
    }
    ngOnInit() {
        var _a, _b, _c, _d;
        /* eslint-disable max-len */
        const cardDetailsLocalizations = {
            activationErrorHeader: $localize `:Error@@card.details.activation.notification.errorHeader:Error`,
            activationErrorMessage: $localize `:Failed to Activate Card. Unable to proceed, please try again@@card.details.activation.notification.errorBody:Failed to Activate Card. Unable to proceed, please try again.`,
            activationSuccessHeader: $localize `:Card Activated@@card.details.activation.notification.successHeader:Card Activated.`,
            lockErrorHeader: $localize `:Error@@card.details.lock.notification.errorHeader:Error`,
            lockErrorMessage: $localize `:Card number cannot be locked, try again later|Lock Error Message@@card.details.lock.notification.errorMessage:Card number ending with ${(_a = this.paymentCard) === null || _a === void 0 ? void 0 : _a.number}:Card Number: cannot be locked! Try again later.`,
            lockSuccessHeader: $localize `:Card locked@@card.details.lock.notification.successHeader:Card locked`,
            lockSuccessMessage: $localize `:Card number locked|Successful lock message@@card.details.lock.notification.successMessage:Card number ending with ${(_b = this.paymentCard) === null || _b === void 0 ? void 0 : _b.number}:Card Number: has been locked.`,
            replacementErrorHeader: $localize `:Error@@card.details.replacement.notification.errorHeader:Error`,
            replacementErrorMessage: $localize `:Can't request card replacement. Try again@@card.details.replacement.notification.errorBody:Unable to request a card replacement. Try again later.`,
            replacementSuccessHeader: $localize `:New card ordered header@@card.details.replacement.notification.successHeader:New card ordered`,
            replacementSuccessMessage: $localize `:New card ordered@@card.details.replacement.notification.successBody:A new card has been ordered.`,
            requestNewPinSuccessMessage: $localize `:New PIN requested@@card.details.pin.notification.requestNewPinSuccessMessage:New PIN requested`,
            requestPinErrorMessage: $localize `:Can't request PIN. Try again@@card.details.requestPin.notification.errorBody:Can't request PIN.  Please try again later.`,
            resetPinSuccessMessage: $localize `:PIN successfully reset@@card.details.pin.notification.resetPinSuccessMessage:PIN successfully reset`,
            resetPinErrorMessage: $localize `:Unable to change PIN, try again@@card.details.resetPin.notification.errorBody:Unable to change PIN.  Please try again later.`,
            resetInvalidPinMessage: $localize `:Unable to change PIN, validations not meet@@card.details.pin.notification.resetInvalidPinMessage:Unable to change PIN. New PIN and confirm don't match`,
            unlockErrorHeader: $localize `:Error@@card.details.unlock.notification.errorHeader:Error`,
            unlockErrorMessage: $localize `:Card number cannot be unlocked, try again later|Unlock Error Message@@card.details.unlock.notification.errorMessage:Card number ending with ${(_c = this.paymentCard) === null || _c === void 0 ? void 0 : _c.number}:Card Number: cannot be unlocked! Try again later.`,
            unlockSuccessHeader: $localize `:Card unlocked@@card.details.unlock.notification.successHeader:Card unlocked`,
            unlockSuccessMessage: $localize `:Card number unlocked|Successful unlock Error Message@@card.details.unlock.notification.successMessage:Card number ending with ${(_d = this.paymentCard) === null || _d === void 0 ? void 0 : _d.number}:Card Number: has been unlocked.`,
            updateLimitErrorHeader: $localize `:Update Limit Error Header@@card.details.limit.notification.errorHeader:`,
            updateLimitErrorMessage: $localize `:Unable to change card limit@@card.details.limit.notification.errorBody:Unable to change card limit`,
            updateLimitSuccessHeader: $localize `:Limit changed header@@card.details.limit.notification.successHeader:Limit changed`,
            updateLimitSuccessMessage: $localize `:Card limit changed successfully@@card.details.limit.notification.changeLimitSuccessMessage:Card limit changed successfully`,
        };
        this.localizations = Object.assign({}, cardDetailsLocalizations);
    }
}
PaymentCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentCardComponent, deps: [{ token: i1.CardsService }, { token: i0.ChangeDetectorRef }, { token: i2.NotificationService }], target: i0.ɵɵFactoryTarget.Component });
PaymentCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: PaymentCardComponent, selector: "bb-payment-card", usesInheritance: true, ngImport: i0, template: "<ng-container bbCardDetailsPaymentCardCustomizable [bbHostRef]=\"hostRef\"></ng-container>\n\n<ng-template bbCardDetailsPaymentCardCustomizable let-hostRef>\n  <bb-payment-card-summary\n    [paymentCard]=\"hostRef.paymentCard\"\n  ></bb-payment-card-summary>\n\n  <bb-card-details-payment-card-controls\n    [paymentCard]=\"hostRef.paymentCard\"\n    [isLockLoading]=\"hostRef.isLockLoading\"\n    [isInitiateReplacementLoading]=\"hostRef.isInitiateReplacementLoading\"\n    [isInitiateActivationLoading]=\"hostRef.isInitiateActivationLoading\"\n    [isResetPinLoading]=\"hostRef.isResetPinLoading\"\n    (updateLockStatus)=\"hostRef.onUpdateLockStatus($event)\"\n    (initiateReplacement)=\"hostRef.onInitiateReplacement($event)\"\n    (initiateActivation)=\"hostRef.onInitiateActivation($event)\"\n    (resetPin)=\"hostRef.onResetPin($event)\"\n    (requestPin)=\"hostRef.onRequestPin($event)\"\n    *ngIf=\"hostRef.paymentCard?.status !== 'CANCELED'\"\n  ></bb-card-details-payment-card-controls>\n\n  <bb-payment-card-limits\n    [paymentCard]=\"hostRef.paymentCard\"\n    [isLimitsLoading]=\"hostRef.isLimitsLoading\"\n    *ngIf=\"hostRef.paymentCard?.status === 'ACTIVE'\"\n    (updateLimit)=\"hostRef.onUpdateLimit($event)\"\n  ></bb-payment-card-limits>\n</ng-template>", components: [{ type: i0.forwardRef(function () { return i3.PaymentCardSummaryComponent; }), selector: "bb-payment-card-summary", inputs: ["paymentCard"] }, { type: i0.forwardRef(function () { return i4.PaymentCardControlsComponent; }), selector: "bb-card-details-payment-card-controls" }, { type: i0.forwardRef(function () { return i1.PaymentCardLimitsComponent; }), selector: "bb-payment-card-limits", inputs: ["paymentCard", "isLimitsLoading"], outputs: ["updateLimit"] }], directives: [{ type: i0.forwardRef(function () { return CardDetailsPaymentCardCustomizableDirective; }), selector: "[bbCardDetailsPaymentCardCustomizable]" }, { type: i0.forwardRef(function () { return i5.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentCardComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-payment-card',
                    templateUrl: './payment-card.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.CardsService }, { type: i0.ChangeDetectorRef }, { type: i2.NotificationService }]; } });
export class CardDetailsPaymentCardCustomizableDirective extends BbTemplate {
}
CardDetailsPaymentCardCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardDetailsPaymentCardCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
CardDetailsPaymentCardCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.15", type: CardDetailsPaymentCardCustomizableDirective, selector: "[bbCardDetailsPaymentCardCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: CardDetailsPaymentCardCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbCardDetailsPaymentCardCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY2FyZC1kZXRhaWxzLXdpZGdldC1hbmcvc3JjL2NvbXBvbmVudHMvYmItcGF5bWVudC1jYXJkL3BheW1lbnQtY2FyZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NhcmQtZGV0YWlscy13aWRnZXQtYW5nL3NyYy9jb21wb25lbnRzL2JiLXBheW1lbnQtY2FyZC9wYXltZW50LWNhcmQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFxQixTQUFTLEVBQUUsU0FBUyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ2hGLE9BQU8sRUFBZ0Isd0JBQXdCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7Ozs7QUFTM0QsTUFBTSxPQUFPLG9CQUFxQixTQUFRLHdCQUF3QjtJQWtDaEUsWUFDcUIsWUFBMEIsRUFDMUIsRUFBcUIsRUFDckIsbUJBQXdDO1FBRTNELEtBQUssQ0FBQyxZQUFZLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFKMUIsaUJBQVksR0FBWixZQUFZLENBQWM7UUFDMUIsT0FBRSxHQUFGLEVBQUUsQ0FBbUI7UUFDckIsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFxQjtRQXBDcEQsWUFBTyxHQUFHLElBQUksQ0FBQztJQXVDeEIsQ0FBQztJQXJDRCxRQUFROztRQUNOLDRCQUE0QjtRQUM1QixNQUFNLHdCQUF3QixHQUFHO1lBQy9CLHFCQUFxQixFQUFFLFNBQVMsQ0FBQSxnRUFBZ0U7WUFDaEcsc0JBQXNCLEVBQUUsU0FBUyxDQUFBLDZLQUE2SztZQUM5TSx1QkFBdUIsRUFBRSxTQUFTLENBQUEscUZBQXFGO1lBQ3ZILGVBQWUsRUFBRSxTQUFTLENBQUEsMERBQTBEO1lBQ3BGLGdCQUFnQixFQUFFLFNBQVMsQ0FBQSwwSUFBMEksTUFBQSxJQUFJLENBQUMsV0FBVywwQ0FBRSxNQUFNLGtEQUFrRDtZQUMvTyxpQkFBaUIsRUFBRSxTQUFTLENBQUEsd0VBQXdFO1lBQ3BHLGtCQUFrQixFQUFFLFNBQVMsQ0FBQSxzSEFBc0gsTUFBQSxJQUFJLENBQUMsV0FBVywwQ0FBRSxNQUFNLGdDQUFnQztZQUMzTSxzQkFBc0IsRUFBRSxTQUFTLENBQUEsaUVBQWlFO1lBQ2xHLHVCQUF1QixFQUFFLFNBQVMsQ0FBQSxvSkFBb0o7WUFDdEwsd0JBQXdCLEVBQUUsU0FBUyxDQUFBLGdHQUFnRztZQUNuSSx5QkFBeUIsRUFBRSxTQUFTLENBQUEsbUdBQW1HO1lBQ3ZJLDJCQUEyQixFQUFFLFNBQVMsQ0FBQSxpR0FBaUc7WUFDdkksc0JBQXNCLEVBQUUsU0FBUyxDQUFBLDJIQUEySDtZQUM1SixzQkFBc0IsRUFBRSxTQUFTLENBQUEsc0dBQXNHO1lBQ3ZJLG9CQUFvQixFQUFFLFNBQVMsQ0FBQSwrSEFBK0g7WUFDOUosc0JBQXNCLEVBQUUsU0FBUyxDQUFBLHlKQUF5SjtZQUMxTCxpQkFBaUIsRUFBRSxTQUFTLENBQUEsNERBQTREO1lBQ3hGLGtCQUFrQixFQUFFLFNBQVMsQ0FBQSxnSkFBZ0osTUFBQSxJQUFJLENBQUMsV0FBVywwQ0FBRSxNQUFNLG9EQUFvRDtZQUN6UCxtQkFBbUIsRUFBRSxTQUFTLENBQUEsOEVBQThFO1lBQzVHLG9CQUFvQixFQUFFLFNBQVMsQ0FBQSxrSUFBa0ksTUFBQSxJQUFJLENBQUMsV0FBVywwQ0FBRSxNQUFNLGtDQUFrQztZQUMzTixzQkFBc0IsRUFBRSxTQUFTLENBQUEsMEVBQTBFO1lBQzNHLHVCQUF1QixFQUFFLFNBQVMsQ0FBQSxxR0FBcUc7WUFDdkksd0JBQXdCLEVBQUUsU0FBUyxDQUFBLG9GQUFvRjtZQUN2SCx5QkFBeUIsRUFBRSxTQUFTLENBQUEsNkhBQTZIO1NBQ2xLLENBQUM7UUFDRixJQUFJLENBQUMsYUFBYSxxQkFBUSx3QkFBd0IsQ0FBRSxDQUFDO0lBQ3ZELENBQUM7O2tIQWhDVSxvQkFBb0I7c0dBQXBCLG9CQUFvQiw4RUNYakMsK3ZDQTJCYyxzaEJEOEJELDJDQUEyQzs0RkE5QzNDLG9CQUFvQjtrQkFKaEMsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsaUJBQWlCO29CQUMzQixXQUFXLEVBQUUsK0JBQStCO2lCQUM3Qzs7QUErQ0QsTUFBTSxPQUFPLDJDQUE0QyxTQUFRLFVBQTJDOzt5SUFBL0YsMkNBQTJDOzZIQUEzQywyQ0FBMkM7NEZBQTNDLDJDQUEyQztrQkFIdkQsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsd0NBQXdDO2lCQUNuRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIERpcmVjdGl2ZSwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJkc1NlcnZpY2UsIFBheW1lbnRDYXJkQ29udGFpbmVyQmFzZSB9IGZyb20gJ0BiYWNrYmFzZS9jYXJkcy1jb21tb24tYW5nJztcbmltcG9ydCB7IEJiVGVtcGxhdGUgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJhY2tiYXNlL3VpLWFuZy9ub3RpZmljYXRpb24nO1xuXG5kZWNsYXJlIGNvbnN0ICRsb2NhbGl6ZTogYW55O1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1wYXltZW50LWNhcmQnLFxuICB0ZW1wbGF0ZVVybDogJy4vcGF5bWVudC1jYXJkLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgUGF5bWVudENhcmRDb21wb25lbnQgZXh0ZW5kcyBQYXltZW50Q2FyZENvbnRhaW5lckJhc2UgaW1wbGVtZW50cyBPbkluaXQge1xuICByZWFkb25seSBob3N0UmVmID0gdGhpcztcblxuICBuZ09uSW5pdCgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgY29uc3QgY2FyZERldGFpbHNMb2NhbGl6YXRpb25zID0ge1xuICAgICAgYWN0aXZhdGlvbkVycm9ySGVhZGVyOiAkbG9jYWxpemVgOkVycm9yQEBjYXJkLmRldGFpbHMuYWN0aXZhdGlvbi5ub3RpZmljYXRpb24uZXJyb3JIZWFkZXI6RXJyb3JgLFxuICAgICAgYWN0aXZhdGlvbkVycm9yTWVzc2FnZTogJGxvY2FsaXplYDpGYWlsZWQgdG8gQWN0aXZhdGUgQ2FyZC4gVW5hYmxlIHRvIHByb2NlZWQsIHBsZWFzZSB0cnkgYWdhaW5AQGNhcmQuZGV0YWlscy5hY3RpdmF0aW9uLm5vdGlmaWNhdGlvbi5lcnJvckJvZHk6RmFpbGVkIHRvIEFjdGl2YXRlIENhcmQuIFVuYWJsZSB0byBwcm9jZWVkLCBwbGVhc2UgdHJ5IGFnYWluLmAsXG4gICAgICBhY3RpdmF0aW9uU3VjY2Vzc0hlYWRlcjogJGxvY2FsaXplYDpDYXJkIEFjdGl2YXRlZEBAY2FyZC5kZXRhaWxzLmFjdGl2YXRpb24ubm90aWZpY2F0aW9uLnN1Y2Nlc3NIZWFkZXI6Q2FyZCBBY3RpdmF0ZWQuYCxcbiAgICAgIGxvY2tFcnJvckhlYWRlcjogJGxvY2FsaXplYDpFcnJvckBAY2FyZC5kZXRhaWxzLmxvY2subm90aWZpY2F0aW9uLmVycm9ySGVhZGVyOkVycm9yYCxcbiAgICAgIGxvY2tFcnJvck1lc3NhZ2U6ICRsb2NhbGl6ZWA6Q2FyZCBudW1iZXIgY2Fubm90IGJlIGxvY2tlZCwgdHJ5IGFnYWluIGxhdGVyfExvY2sgRXJyb3IgTWVzc2FnZUBAY2FyZC5kZXRhaWxzLmxvY2subm90aWZpY2F0aW9uLmVycm9yTWVzc2FnZTpDYXJkIG51bWJlciBlbmRpbmcgd2l0aCAke3RoaXMucGF5bWVudENhcmQ/Lm51bWJlcn06Q2FyZCBOdW1iZXI6IGNhbm5vdCBiZSBsb2NrZWQhIFRyeSBhZ2FpbiBsYXRlci5gLFxuICAgICAgbG9ja1N1Y2Nlc3NIZWFkZXI6ICRsb2NhbGl6ZWA6Q2FyZCBsb2NrZWRAQGNhcmQuZGV0YWlscy5sb2NrLm5vdGlmaWNhdGlvbi5zdWNjZXNzSGVhZGVyOkNhcmQgbG9ja2VkYCxcbiAgICAgIGxvY2tTdWNjZXNzTWVzc2FnZTogJGxvY2FsaXplYDpDYXJkIG51bWJlciBsb2NrZWR8U3VjY2Vzc2Z1bCBsb2NrIG1lc3NhZ2VAQGNhcmQuZGV0YWlscy5sb2NrLm5vdGlmaWNhdGlvbi5zdWNjZXNzTWVzc2FnZTpDYXJkIG51bWJlciBlbmRpbmcgd2l0aCAke3RoaXMucGF5bWVudENhcmQ/Lm51bWJlcn06Q2FyZCBOdW1iZXI6IGhhcyBiZWVuIGxvY2tlZC5gLFxuICAgICAgcmVwbGFjZW1lbnRFcnJvckhlYWRlcjogJGxvY2FsaXplYDpFcnJvckBAY2FyZC5kZXRhaWxzLnJlcGxhY2VtZW50Lm5vdGlmaWNhdGlvbi5lcnJvckhlYWRlcjpFcnJvcmAsXG4gICAgICByZXBsYWNlbWVudEVycm9yTWVzc2FnZTogJGxvY2FsaXplYDpDYW4ndCByZXF1ZXN0IGNhcmQgcmVwbGFjZW1lbnQuIFRyeSBhZ2FpbkBAY2FyZC5kZXRhaWxzLnJlcGxhY2VtZW50Lm5vdGlmaWNhdGlvbi5lcnJvckJvZHk6VW5hYmxlIHRvIHJlcXVlc3QgYSBjYXJkIHJlcGxhY2VtZW50LiBUcnkgYWdhaW4gbGF0ZXIuYCxcbiAgICAgIHJlcGxhY2VtZW50U3VjY2Vzc0hlYWRlcjogJGxvY2FsaXplYDpOZXcgY2FyZCBvcmRlcmVkIGhlYWRlckBAY2FyZC5kZXRhaWxzLnJlcGxhY2VtZW50Lm5vdGlmaWNhdGlvbi5zdWNjZXNzSGVhZGVyOk5ldyBjYXJkIG9yZGVyZWRgLFxuICAgICAgcmVwbGFjZW1lbnRTdWNjZXNzTWVzc2FnZTogJGxvY2FsaXplYDpOZXcgY2FyZCBvcmRlcmVkQEBjYXJkLmRldGFpbHMucmVwbGFjZW1lbnQubm90aWZpY2F0aW9uLnN1Y2Nlc3NCb2R5OkEgbmV3IGNhcmQgaGFzIGJlZW4gb3JkZXJlZC5gLFxuICAgICAgcmVxdWVzdE5ld1BpblN1Y2Nlc3NNZXNzYWdlOiAkbG9jYWxpemVgOk5ldyBQSU4gcmVxdWVzdGVkQEBjYXJkLmRldGFpbHMucGluLm5vdGlmaWNhdGlvbi5yZXF1ZXN0TmV3UGluU3VjY2Vzc01lc3NhZ2U6TmV3IFBJTiByZXF1ZXN0ZWRgLFxuICAgICAgcmVxdWVzdFBpbkVycm9yTWVzc2FnZTogJGxvY2FsaXplYDpDYW4ndCByZXF1ZXN0IFBJTi4gVHJ5IGFnYWluQEBjYXJkLmRldGFpbHMucmVxdWVzdFBpbi5ub3RpZmljYXRpb24uZXJyb3JCb2R5OkNhbid0IHJlcXVlc3QgUElOLiAgUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5gLFxuICAgICAgcmVzZXRQaW5TdWNjZXNzTWVzc2FnZTogJGxvY2FsaXplYDpQSU4gc3VjY2Vzc2Z1bGx5IHJlc2V0QEBjYXJkLmRldGFpbHMucGluLm5vdGlmaWNhdGlvbi5yZXNldFBpblN1Y2Nlc3NNZXNzYWdlOlBJTiBzdWNjZXNzZnVsbHkgcmVzZXRgLFxuICAgICAgcmVzZXRQaW5FcnJvck1lc3NhZ2U6ICRsb2NhbGl6ZWA6VW5hYmxlIHRvIGNoYW5nZSBQSU4sIHRyeSBhZ2FpbkBAY2FyZC5kZXRhaWxzLnJlc2V0UGluLm5vdGlmaWNhdGlvbi5lcnJvckJvZHk6VW5hYmxlIHRvIGNoYW5nZSBQSU4uICBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLmAsXG4gICAgICByZXNldEludmFsaWRQaW5NZXNzYWdlOiAkbG9jYWxpemVgOlVuYWJsZSB0byBjaGFuZ2UgUElOLCB2YWxpZGF0aW9ucyBub3QgbWVldEBAY2FyZC5kZXRhaWxzLnBpbi5ub3RpZmljYXRpb24ucmVzZXRJbnZhbGlkUGluTWVzc2FnZTpVbmFibGUgdG8gY2hhbmdlIFBJTi4gTmV3IFBJTiBhbmQgY29uZmlybSBkb24ndCBtYXRjaGAsXG4gICAgICB1bmxvY2tFcnJvckhlYWRlcjogJGxvY2FsaXplYDpFcnJvckBAY2FyZC5kZXRhaWxzLnVubG9jay5ub3RpZmljYXRpb24uZXJyb3JIZWFkZXI6RXJyb3JgLFxuICAgICAgdW5sb2NrRXJyb3JNZXNzYWdlOiAkbG9jYWxpemVgOkNhcmQgbnVtYmVyIGNhbm5vdCBiZSB1bmxvY2tlZCwgdHJ5IGFnYWluIGxhdGVyfFVubG9jayBFcnJvciBNZXNzYWdlQEBjYXJkLmRldGFpbHMudW5sb2NrLm5vdGlmaWNhdGlvbi5lcnJvck1lc3NhZ2U6Q2FyZCBudW1iZXIgZW5kaW5nIHdpdGggJHt0aGlzLnBheW1lbnRDYXJkPy5udW1iZXJ9OkNhcmQgTnVtYmVyOiBjYW5ub3QgYmUgdW5sb2NrZWQhIFRyeSBhZ2FpbiBsYXRlci5gLFxuICAgICAgdW5sb2NrU3VjY2Vzc0hlYWRlcjogJGxvY2FsaXplYDpDYXJkIHVubG9ja2VkQEBjYXJkLmRldGFpbHMudW5sb2NrLm5vdGlmaWNhdGlvbi5zdWNjZXNzSGVhZGVyOkNhcmQgdW5sb2NrZWRgLFxuICAgICAgdW5sb2NrU3VjY2Vzc01lc3NhZ2U6ICRsb2NhbGl6ZWA6Q2FyZCBudW1iZXIgdW5sb2NrZWR8U3VjY2Vzc2Z1bCB1bmxvY2sgRXJyb3IgTWVzc2FnZUBAY2FyZC5kZXRhaWxzLnVubG9jay5ub3RpZmljYXRpb24uc3VjY2Vzc01lc3NhZ2U6Q2FyZCBudW1iZXIgZW5kaW5nIHdpdGggJHt0aGlzLnBheW1lbnRDYXJkPy5udW1iZXJ9OkNhcmQgTnVtYmVyOiBoYXMgYmVlbiB1bmxvY2tlZC5gLFxuICAgICAgdXBkYXRlTGltaXRFcnJvckhlYWRlcjogJGxvY2FsaXplYDpVcGRhdGUgTGltaXQgRXJyb3IgSGVhZGVyQEBjYXJkLmRldGFpbHMubGltaXQubm90aWZpY2F0aW9uLmVycm9ySGVhZGVyOmAsXG4gICAgICB1cGRhdGVMaW1pdEVycm9yTWVzc2FnZTogJGxvY2FsaXplYDpVbmFibGUgdG8gY2hhbmdlIGNhcmQgbGltaXRAQGNhcmQuZGV0YWlscy5saW1pdC5ub3RpZmljYXRpb24uZXJyb3JCb2R5OlVuYWJsZSB0byBjaGFuZ2UgY2FyZCBsaW1pdGAsXG4gICAgICB1cGRhdGVMaW1pdFN1Y2Nlc3NIZWFkZXI6ICRsb2NhbGl6ZWA6TGltaXQgY2hhbmdlZCBoZWFkZXJAQGNhcmQuZGV0YWlscy5saW1pdC5ub3RpZmljYXRpb24uc3VjY2Vzc0hlYWRlcjpMaW1pdCBjaGFuZ2VkYCxcbiAgICAgIHVwZGF0ZUxpbWl0U3VjY2Vzc01lc3NhZ2U6ICRsb2NhbGl6ZWA6Q2FyZCBsaW1pdCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseUBAY2FyZC5kZXRhaWxzLmxpbWl0Lm5vdGlmaWNhdGlvbi5jaGFuZ2VMaW1pdFN1Y2Nlc3NNZXNzYWdlOkNhcmQgbGltaXQgY2hhbmdlZCBzdWNjZXNzZnVsbHlgLFxuICAgIH07XG4gICAgdGhpcy5sb2NhbGl6YXRpb25zID0geyAuLi5jYXJkRGV0YWlsc0xvY2FsaXphdGlvbnMgfTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjYXJkc1NlcnZpY2U6IENhcmRzU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBub3RpZmljYXRpb25TZXJ2aWNlOiBOb3RpZmljYXRpb25TZXJ2aWNlLFxuICApIHtcbiAgICBzdXBlcihjYXJkc1NlcnZpY2UsIGNkLCBub3RpZmljYXRpb25TZXJ2aWNlKTtcbiAgfVxufVxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbYmJDYXJkRGV0YWlsc1BheW1lbnRDYXJkQ3VzdG9taXphYmxlXScsXG59KVxuZXhwb3J0IGNsYXNzIENhcmREZXRhaWxzUGF5bWVudENhcmRDdXN0b21pemFibGVEaXJlY3RpdmUgZXh0ZW5kcyBCYlRlbXBsYXRlPFBheW1lbnRDYXJkQ29tcG9uZW50LCB1bmRlZmluZWQ+IHt9XG4iLCI8bmctY29udGFpbmVyIGJiQ2FyZERldGFpbHNQYXltZW50Q2FyZEN1c3RvbWl6YWJsZSBbYmJIb3N0UmVmXT1cImhvc3RSZWZcIj48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlIGJiQ2FyZERldGFpbHNQYXltZW50Q2FyZEN1c3RvbWl6YWJsZSBsZXQtaG9zdFJlZj5cbiAgPGJiLXBheW1lbnQtY2FyZC1zdW1tYXJ5XG4gICAgW3BheW1lbnRDYXJkXT1cImhvc3RSZWYucGF5bWVudENhcmRcIlxuICA+PC9iYi1wYXltZW50LWNhcmQtc3VtbWFyeT5cblxuICA8YmItY2FyZC1kZXRhaWxzLXBheW1lbnQtY2FyZC1jb250cm9sc1xuICAgIFtwYXltZW50Q2FyZF09XCJob3N0UmVmLnBheW1lbnRDYXJkXCJcbiAgICBbaXNMb2NrTG9hZGluZ109XCJob3N0UmVmLmlzTG9ja0xvYWRpbmdcIlxuICAgIFtpc0luaXRpYXRlUmVwbGFjZW1lbnRMb2FkaW5nXT1cImhvc3RSZWYuaXNJbml0aWF0ZVJlcGxhY2VtZW50TG9hZGluZ1wiXG4gICAgW2lzSW5pdGlhdGVBY3RpdmF0aW9uTG9hZGluZ109XCJob3N0UmVmLmlzSW5pdGlhdGVBY3RpdmF0aW9uTG9hZGluZ1wiXG4gICAgW2lzUmVzZXRQaW5Mb2FkaW5nXT1cImhvc3RSZWYuaXNSZXNldFBpbkxvYWRpbmdcIlxuICAgICh1cGRhdGVMb2NrU3RhdHVzKT1cImhvc3RSZWYub25VcGRhdGVMb2NrU3RhdHVzKCRldmVudClcIlxuICAgIChpbml0aWF0ZVJlcGxhY2VtZW50KT1cImhvc3RSZWYub25Jbml0aWF0ZVJlcGxhY2VtZW50KCRldmVudClcIlxuICAgIChpbml0aWF0ZUFjdGl2YXRpb24pPVwiaG9zdFJlZi5vbkluaXRpYXRlQWN0aXZhdGlvbigkZXZlbnQpXCJcbiAgICAocmVzZXRQaW4pPVwiaG9zdFJlZi5vblJlc2V0UGluKCRldmVudClcIlxuICAgIChyZXF1ZXN0UGluKT1cImhvc3RSZWYub25SZXF1ZXN0UGluKCRldmVudClcIlxuICAgICpuZ0lmPVwiaG9zdFJlZi5wYXltZW50Q2FyZD8uc3RhdHVzICE9PSAnQ0FOQ0VMRUQnXCJcbiAgPjwvYmItY2FyZC1kZXRhaWxzLXBheW1lbnQtY2FyZC1jb250cm9scz5cblxuICA8YmItcGF5bWVudC1jYXJkLWxpbWl0c1xuICAgIFtwYXltZW50Q2FyZF09XCJob3N0UmVmLnBheW1lbnRDYXJkXCJcbiAgICBbaXNMaW1pdHNMb2FkaW5nXT1cImhvc3RSZWYuaXNMaW1pdHNMb2FkaW5nXCJcbiAgICAqbmdJZj1cImhvc3RSZWYucGF5bWVudENhcmQ/LnN0YXR1cyA9PT0gJ0FDVElWRSdcIlxuICAgICh1cGRhdGVMaW1pdCk9XCJob3N0UmVmLm9uVXBkYXRlTGltaXQoJGV2ZW50KVwiXG4gID48L2JiLXBheW1lbnQtY2FyZC1saW1pdHM+XG48L25nLXRlbXBsYXRlPiJdfQ==