{"version":3,"file":"create-journey-configuration.js","sourceRoot":"","sources":["../../../../../../libs/identity-common-ang/src/lib/utils/create-journey-configuration.ts"],"names":[],"mappings":"AAOA,MAAM,CAAC,MAAM,0BAA0B,GAAG,CACxC,cAAiB,EACjB,eAAgC,EAChC,EAAE,CACF,MAAM,CAAC,MAAM,CACX,eAAe;IACb,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,MAAM,CACpC,CAAC,MAAS,EAAE,CAAC,IAAI,EAAE,YAAY,CAAkD,EAAE,EAAE,CAAC,iCACjF,MAAM,GACN,CAAC,IAAI,IAAI,MAAM,IAAI,YAAY;QAChC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,6BAA6B,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC,EAAE;QACvE,CAAC,CAAC,EAAE,CAAC,EACP,EACF,cAAc,CACf;IACH,CAAC,CAAC,cAAc,CACnB,CAAC;AAEJ,MAAM,6BAA6B,GAAG,CACpC,aAAwC,EACxC,oBAA+C,EAC/C,EAAE,CACF,MAAM,CAAC,MAAM,CACX,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,+BAA+B,EAAE,aAAa,CAAC,CACpH,CAAC;AAEJ,MAAM,+BAA+B,GAAG,CACtC,KAAgC,EAChC,CAAC,IAAI,EAAE,GAAG,CAAmC,EAC7C,EAAE,CAAC,iCACA,KAAK,KACR,CAAC,IAAI,CAAC,EAAE,GAAG,IACX,CAAC;AAEH,MAAM,eAAe,GAAG,CAAC,WAA6C,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC","sourcesContent":["import { DeepPartial } from '../types/utility.types';\nimport {\n  IdentityJourneyConfiguration,\n  JourneyConfigKeyValuePair,\n  JourneyConfigValueType,\n} from '../types/journey.types';\n\nexport const createJourneyConfiguration = <T extends IdentityJourneyConfiguration>(\n  configDefaults: T,\n  configOverrides?: DeepPartial<T>,\n) =>\n  Object.freeze(\n    configOverrides\n      ? Object.entries(configOverrides).reduce(\n          (config: T, [prop, configValues]: [string, JourneyConfigKeyValuePair | undefined]) => ({\n            ...config,\n            ...(prop in config && configValues\n              ? { [prop]: filterUndefinedPropertyValues(config[prop], configValues) }\n              : {}),\n          }),\n          configDefaults,\n        )\n      : configDefaults,\n  );\n\nconst filterUndefinedPropertyValues = (\n  defaultConfig: JourneyConfigKeyValuePair,\n  configOverrideValues: JourneyConfigKeyValuePair,\n) =>\n  Object.freeze(\n    Object.entries(configOverrideValues).filter(undefinedFilter).reduce(entriesToObjectTransformReducer, defaultConfig),\n  );\n\nconst entriesToObjectTransformReducer = (\n  accum: JourneyConfigKeyValuePair,\n  [prop, val]: [string, JourneyConfigValueType],\n) => ({\n  ...accum,\n  [prop]: val,\n});\n\nconst undefinedFilter = (kayValTuple: [string, JourneyConfigValueType]) => kayValTuple[1] !== undefined;\n"]}