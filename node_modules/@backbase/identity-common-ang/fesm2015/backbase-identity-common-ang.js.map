{"version":3,"file":"backbase-identity-common-ang.js","sources":["../../../../libs/identity-common-ang/src/lib/utils/generate-id.ts","../../../../libs/identity-common-ang/src/lib/utils/create-journey-configuration.ts","../../../../libs/identity-common-ang/src/lib/ui/view-state-container.component.ts","../../../../libs/identity-common-ang/src/lib/ui/view-state-container.component.html","../../../../libs/identity-common-ang/src/lib/ui/routable-tab-component.ts","../../../../libs/identity-common-ang/src/lib/ui/routable-tab-component.html","../../../../libs/identity-common-ang/src/lib/ui/identity-common-ui-ang.module.ts","../../../../libs/identity-common-ang/src/lib/identity-common-ang.module.ts","../../../../libs/identity-common-ang/src/backbase-identity-common-ang.ts"],"sourcesContent":["export const generateId = (elementKey: string) => `${elementKey}-${Math.random().toString(36).substring(2, 9)}`;\n","import { DeepPartial } from '../types/utility.types';\nimport {\n  IdentityJourneyConfiguration,\n  JourneyConfigKeyValuePair,\n  JourneyConfigValueType,\n} from '../types/journey.types';\n\nexport const createJourneyConfiguration = <T extends IdentityJourneyConfiguration>(\n  configDefaults: T,\n  configOverrides?: DeepPartial<T>,\n) =>\n  Object.freeze(\n    configOverrides\n      ? Object.entries(configOverrides).reduce(\n          (config: T, [prop, configValues]: [string, JourneyConfigKeyValuePair | undefined]) => ({\n            ...config,\n            ...(prop in config && configValues\n              ? { [prop]: filterUndefinedPropertyValues(config[prop], configValues) }\n              : {}),\n          }),\n          configDefaults,\n        )\n      : configDefaults,\n  );\n\nconst filterUndefinedPropertyValues = (\n  defaultConfig: JourneyConfigKeyValuePair,\n  configOverrideValues: JourneyConfigKeyValuePair,\n) =>\n  Object.freeze(\n    Object.entries(configOverrideValues).filter(undefinedFilter).reduce(entriesToObjectTransformReducer, defaultConfig),\n  );\n\nconst entriesToObjectTransformReducer = (\n  accum: JourneyConfigKeyValuePair,\n  [prop, val]: [string, JourneyConfigValueType],\n) => ({\n  ...accum,\n  [prop]: val,\n});\n\nconst undefinedFilter = (kayValTuple: [string, JourneyConfigValueType]) => kayValTuple[1] !== undefined;\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-identity-view-state-container-component',\n  templateUrl: './view-state-container.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ViewStateContainerComponent {\n  /**\n   * Error object\n   */\n  @Input() error?: HttpErrorResponse | Error;\n\n  /**\n   * Is view-state loading\n   */\n  @Input() loading: boolean | undefined;\n}\n","<ng-container *ngIf=\"!loading; else loadingState\">\n  <ng-container *ngIf=\"!error; else errorState\">\n    <ng-content></ng-content>\n  </ng-container>\n</ng-container>\n\n<ng-template #errorState>\n  <bb-common-error-state-ui class=\"bb-state-container\" [error]=\"error || ''\" data-role=\"self-service-error-state\">\n  </bb-common-error-state-ui>\n</ng-template>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui i18n-text=\"Loading message@@bb-self-service.loading-indicator\" text=\"Loading...\">\n  </bb-loading-indicator-ui>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Route } from '@angular/router';\n\n@Component({\n  selector: 'bb-routable-tab-set',\n  templateUrl: './routable-tab-component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RoutableTabComponent implements OnInit {\n  public tabs: Array<{ title: string; route: string; dataRole: string }> | undefined;\n\n  constructor(private readonly route: ActivatedRoute) {}\n\n  ngOnInit() {\n    const routeConfig = this.route.snapshot.routeConfig;\n    if (routeConfig && routeConfig.children?.length) {\n      this.tabs = this.createTabsFromRouteChildren(routeConfig.children);\n    }\n  }\n\n  private createTabsFromRouteChildren(routeChildren: Route[]) {\n    return routeChildren\n      .filter((routeItem) => routeItem.path && routeItem.data?.title)\n      .map((routeItem) => ({\n        title: (routeItem.data as Record<string, string>).title,\n        route: routeItem.path as string,\n        dataRole: (routeItem.data as Record<string, string>).title.split(' ').join('-').toLowerCase(),\n      }));\n  }\n}\n","<div class=\"bb-tab-container__tabs nav nav-tabs\">\n  <a\n    *ngFor=\"let tab of tabs\"\n    [attr.data-role]=\"tab?.dataRole\"\n    class=\"nav-link\"\n    role=\"tab\"\n    [routerLink]=\"[tab.route]\"\n    routerLinkActive=\"active\"\n  >\n    <span class=\"bb-stack__item bb-stack__item--spacing-xs\">{{ tab?.title }}</span>\n  </a>\n</div>\n\n<div class=\"bb-tab-container__content tab-content\" role=\"tabpanel\">\n  <router-outlet></router-outlet>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { ErrorCommonStateModule, LoadingIndicatorModule } from '@backbase/ui-ang';\nimport { ViewStateContainerComponent } from './view-state-container.component';\nimport { RoutableTabComponent } from './routable-tab-component';\n\nconst uiModules = [ErrorCommonStateModule, LoadingIndicatorModule];\n\nconst components = [ViewStateContainerComponent, RoutableTabComponent];\n\n@NgModule({\n  imports: [CommonModule, RouterModule, ...uiModules],\n  declarations: [...components],\n  exports: [...uiModules, ...components],\n})\nexport class IdentityCommonUiAngModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IdentityCommonUiAngModule } from './ui/identity-common-ui-ang.module';\n\n@NgModule({\n  imports: [CommonModule, IdentityCommonUiAngModule],\n  exports: [IdentityCommonUiAngModule],\n})\nexport class IdentityCommonAngModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}