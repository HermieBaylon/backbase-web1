{"version":3,"file":"confirmation-dialog.component.js","sourceRoot":"","sources":["../../../../../../../libs/connect-external-accounts-journey/src/lib/components/confirmation-dialog/confirmation-dialog.component.ts","../../../../../../../libs/connect-external-accounts-journey/src/lib/components/confirmation-dialog/confirmation-dialog.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;;;;;;;;AAOhG,MAAM,OAAO,2BAA2B;IALxC;QAMW,iBAAY,GAAG;YACtB,QAAQ,EAAE,QAAQ;YAClB,QAAQ,EAAE,KAAK;SAChB,CAAC;QAEF,YAAO,GAAG,EAAE,CAAC;QAEb;;;WAGG;QACM,uBAAkB,GAAI,SAAS,CAAC;QAEzC;;;WAGG;QACM,sBAAiB,GAAI,MAAM,CAAC;QAErC;;;WAGG;QACM,WAAM,GAAG,KAAK,CAAC;QAQxB;;WAEG;QACO,YAAO,GAAG,IAAI,YAAY,EAAE,CAAC;QAEvC;;WAEG;QACO,WAAM,GAAG,IAAI,YAAY,EAAE,CAAC;QAEtC;;;WAGG;QACM,kBAAa,GAAG,KAAK,CAAC;QAE/B;;;WAGG;QACM,sBAAiB,GAAG,aAAa,CAAC;KA4B5C;IA1BS,YAAY;QAClB,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;SACnB;IACH,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,eAAe;;QACb,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACrC,IAAI,SAAS,GAAG,MAAA,IAAI,CAAC,oBAAoB,0CAAE,OAAO,CAAC;QAEnD,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,QAAQ,EAAE;YACpC,SAAS,GAAG;gBACV,OAAO,EAAE,MAAA,IAAI,CAAC,oBAAoB,0CAAE,OAAO;gBAC3C,OAAO,EAAE,QAAQ;aAClB,CAAC;SACH;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE7B,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;;4IA/EU,2BAA2B;gIAA3B,2BAA2B,uVCPxC,grEAkEA;4FD3Da,2BAA2B;kBALvC,SAAS;mBAAC;oBACT,QAAQ,EAAE,wBAAwB;oBAClC,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,WAAW,EAAE,oCAAoC;iBAClD;8BAaU,kBAAkB;sBAA1B,KAAK;gBAMG,iBAAiB;sBAAzB,KAAK;gBAMG,MAAM;sBAAd,KAAK;gBAMG,oBAAoB;sBAA5B,KAAK;gBAKI,OAAO;sBAAhB,MAAM;gBAKG,MAAM;sBAAf,MAAM;gBAME,aAAa;sBAArB,KAAK;gBAMG,iBAAiB;sBAAzB,KAAK","sourcesContent":["import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'bb-confirmation-dialog',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: 'confirmation-dialog.component.html',\n})\nexport class ConfirmationDialogComponent {\n  readonly modalOptions = {\n    backdrop: 'static',\n    keyboard: false,\n  };\n\n  comment = '';\n\n  /**\n   * The button color for confirm button\n   * Default value is `primary`.\n   */\n  @Input() confirmButtonColor? = 'primary';\n\n  /**\n   * The button color for cancel button\n   * Default value is `link`.\n   */\n  @Input() cancelButtonColor? = 'link';\n\n  /**\n   * Indicator for confirmation dialog open state.\n   * Default value is `false`.\n   */\n  @Input() isOpen = false;\n\n  /**\n   * Payload data for confirm action\n   * Can be any type\n   */\n  @Input() confirmActionPayload?: { payload: any };\n\n  /**\n   * Changes will be triggered on confirmAction event emit.\n   */\n  @Output() confirm = new EventEmitter();\n\n  /**\n   * Changes will be triggered on cancel event emit.\n   */\n  @Output() cancel = new EventEmitter();\n\n  /**\n   * Show the field for the comment\n   * Default value is `false`.\n   */\n  @Input() attachComment = false;\n\n  /**\n   * Text for comment field label,\n   * Default value is `Add comment`.\n   */\n  @Input() commentFieldLabel = 'Add comment';\n\n  private resetComment() {\n    if (this.attachComment) {\n      this.comment = '';\n    }\n  }\n\n  onCancelAction() {\n    this.cancel.emit();\n    this.resetComment();\n  }\n\n  onConfirmAction() {\n    const _comment = this.comment.trim();\n    let emitValue = this.confirmActionPayload?.payload;\n\n    if (this.attachComment && !!_comment) {\n      emitValue = {\n        payload: this.confirmActionPayload?.payload,\n        comment: _comment,\n      };\n    }\n\n    this.confirm.emit(emitValue);\n\n    this.resetComment();\n  }\n}\n","<bb-modal-ui [isOpen]=\"isOpen\" [modalOptions]=\"modalOptions\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <span #headerContent class=\"d-none\" aria-hidden=\"true\">\n        <ng-content select=\"[title]\"></ng-content>\n      </span>\n      <bb-header-ui\n        headingType=\"h2\"\n        [heading]=\"headerContent.textContent\"\n        [attr.data-role]=\"'confirmation-header'\"\n      ></bb-header-ui>\n    </ng-template>\n  </bb-modal-header-ui>\n\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <div [ngClass]=\"{ 'bb-block bb-block--md': attachComment }\">\n        <ng-content select=\"[body]\"></ng-content>\n      </div>\n\n      <ng-container *ngIf=\"attachComment && isOpen\">\n        <label [for]=\"commentField.id\" i18n=\"@@bb-confirmation-dialog.comment\">{{ commentFieldLabel }}</label>\n        <span class=\"bb-text-support\">\n          (<ng-container i18n=\"@@bb-confirmation-dialog.comment.optional-label\">Optional</ng-container>)\n        </span>\n        <bb-textarea-ui\n          #commentField\n          wrap=\"hard\"\n          [rows]=\"3\"\n          [cols]=\"50\"\n          [minLength]=\"3\"\n          [maxLength]=\"140\"\n          [(ngModel)]=\"comment\"\n          showCharCounter=\"true\"\n          data-role=\"confirmation-comment\"\n        ></bb-textarea-ui>\n      </ng-container>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          [color]=\"confirmButtonColor\"\n          class=\"bb-button-bar__button\"\n          (click)=\"onConfirmAction()\"\n          [attr.data-role]=\"'confirm-action-btn'\"\n        >\n          <ng-content select=\"[confirmActionName]\"></ng-content>\n        </button>\n\n        <button\n          bbButton\n          (click)=\"onCancelAction()\"\n          [color]=\"cancelButtonColor\"\n          class=\"bb-button-bar__button\"\n          [attr.data-role]=\"'cancel-action-btn'\"\n        >\n          <ng-content select=\"[cancelActionName]\"></ng-content>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n"]}