{"version":3,"file":"loan-list-item.component.js","sourceRoot":"","sources":["../../../../../../libs/loans-collection-ui-ang/src/lib/loan-list-item/loan-list-item.component.ts","../../../../../../libs/loans-collection-ui-ang/src/lib/loan-list-item/loan-list-item.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,YAAY,EAAa,MAAM,EAAE,MAAM,eAAe,CAAC;AAGpG,OAAO,EAAE,uBAAuB,EAAE,MAAM,oCAAoC,CAAC;AAC7E,OAAO,EAAQ,mBAAmB,EAAE,MAAM,sBAAsB,CAAC;AACjE,OAAO,EAAE,gBAAgB,EAAE,MAAM,2CAA2C,CAAC;AAC7E,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,oBAAoB,CAAC;;;;;;;;;;AAEjE;;GAEG;AAMH,MAAM,OAAO,qBACX,SAAQ,uBAAqD;IAN/D;;QAUE;;WAEG;QACO,eAAU,GAAG,IAAI,YAAY,EAAK,CAAC;QAE7C;;WAEG;QACM,WAAM,GAAG,qBAAqB,CAAC,EAAE,EAAE,CAAC;QAC7C;;WAEG;QACM,kBAAa,GAAG,gBAAgB,CAAC,OAAO,CAAC;KA6BnD;IAXC;;OAEG;IACH,WAAW;QACT,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAE7D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,YAAY,GAAG,QAAQ,KAAK,mBAAmB,CAAC,YAAY,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,UAAU,CAAC;QAClG,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;;AAzCc,wBAAE,GAAG,CAAC,CAAC;sIAJX,qBAAqB;0HAArB,qBAAqB,4IChBlC,2kGA8EA;4FD9Da,qBAAqB;kBALjC,SAAS;mBAAC;oBACT,QAAQ,EAAE,mBAAmB;oBAC7B,WAAW,EAAE,iCAAiC;oBAC9C,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;8BASW,UAAU;sBAAnB,MAAM","sourcesContent":["import { ChangeDetectionStrategy, Component, EventEmitter, OnChanges, Output } from '@angular/core';\n\nimport { LoanListItemDataConfig } from './loan-list-item.model';\nimport { LoanConfigBaseComponent } from '../base/loan-config-base.component';\nimport { Loan, LoanDefaultViewType } from '../models/loan.model';\nimport { CustomLoanStatus } from './loan-item-status/loan-item-status.model';\nimport { getLoanAlias, isLoanOverdue } from '../utils/loan.util';\n\n/**\n * @dynamic\n */\n@Component({\n  selector: 'bb-loan-list-item',\n  templateUrl: './loan-list-item.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LoanListItemComponent<T extends Loan = Loan>\n  extends LoanConfigBaseComponent<T, LoanListItemDataConfig<T>>\n  implements OnChanges\n{\n  private static id = 0;\n  /**\n   * Loan select emitter\n   */\n  @Output() selectLoan = new EventEmitter<T>();\n\n  /**\n   * Container unique id\n   */\n  readonly itemId = LoanListItemComponent.id++;\n  /**\n   * Loan overdue status\n   */\n  readonly overdueStatus = CustomLoanStatus.Overdue;\n  /**\n   * Icon name by loan type\n   */\n  loanIconName!: string;\n  /**\n   * `Available balance` or `Amount repaid` amount based on loan type\n   */\n  amountByType: string | undefined;\n  /**\n   * Flag represents overdue state for loan\n   */\n  isOverdue!: boolean;\n  /**\n   * Loan alias\n   */\n  loanAlias!: string | undefined;\n\n  /**\n   * @internal\n   */\n  ngOnChanges(): void {\n    const { viewType, availableBalance, paidAmount } = this.loan;\n\n    this.loanIconName = this.dataConfig.icons[viewType];\n    this.amountByType = viewType === LoanDefaultViewType.LineOfCredit ? availableBalance : paidAmount;\n    this.isOverdue = isLoanOverdue(this.loan);\n    this.loanAlias = getLoanAlias(this.loan);\n  }\n}\n","<div\n  class=\"bb-loans-list-item-wrapper\"\n  [class.bb-loans-list-item-wrapper--overdue]=\"isOverdue\"\n  role=\"button\"\n  tabindex=\"0\"\n  aria-label=\"View loan details\"\n  [attr.aria-describedby]=\"'loan-item-text-' + itemId\"\n  data-role=\"bb-loans-list-item__button\"\n  i18n-aria-label=\"Loan list item button aria label@@loans.loan-list-item.button.aria-label\"\n  (bbKeyboardClick)=\"selectLoan.emit(loan)\"\n>\n  <div class=\"bb-stack bb-stack--align-top bb-table-text-default bb-loans-list-item\" id=\"loan-item-text-{{ itemId }}\">\n    <bb-icon-ui\n      class=\"bb-stack__item bb-stack__item--align-top bb-loans-list-item__icon\"\n      data-role=\"bb-loans-list-item__icon\"\n      [name]=\"loanIconName\"\n      backgroundType=\"square\"\n      color=\"secondary\"\n      size=\"lg\"\n    ></bb-icon-ui>\n    <div class=\"bb-stack__item bb-stack__item--fill bb-loans-list-item__base-info-wrapper\">\n      <div class=\"bb-block bb-block--xs bb-loans-list-item__type\">\n        <bb-loan-item-type [loanType]=\"loan.loanTypeAlias\"></bb-loan-item-type>\n        <bb-loan-item-status\n          *ngIf=\"isOverdue\"\n          [status]=\"overdueStatus\"\n          data-role=\"bb-loans-list-item__status\"\n        ></bb-loan-item-status>\n      </div>\n      <bb-loan-item-name [headingLevel]=\"3\" [loanName]=\"loanAlias\"></bb-loan-item-name>\n      <div class=\"bb-block bb-block--sm\">\n        <bb-loan-item-payment-info\n          [loan]=\"loan\"\n          [dataConfig]=\"dataConfig.paymentInfo\"\n          class=\"bb-subheader bb-subheader--regular\"\n        >\n        </bb-loan-item-payment-info>\n      </div>\n    </div>\n    <div\n      *ngIf=\"loan.currencyCode as currencyCode\"\n      class=\"bb-stack__item bb-stack__item--push-right bb-text-align-right bb-loans-list-item__amounts\"\n      data-role=\"bb-loans-list-item__amounts-wrapper\"\n    >\n      <div *ngIf=\"amountByType as amount\" class=\"bb-block bb-block--xs\">\n        <span\n          class=\"bb-text-bold\"\n          i18n=\"Loan list item amount balance text@@loans.loan-list-item.amount-balance.text\"\n          data-role=\"bb-loans-list-item__available-balance-label\"\n        >\n          {loan.viewType, select, LineOfCredit {Available balance} other {Amount repaid}}:\n        </span>\n        <bb-amount-ui\n          [amount]=\"amount\"\n          [currency]=\"currencyCode\"\n          [mapCurrency]=\"false\"\n          data-role=\"bb-loans-list-item__available-balance-amount\"\n        ></bb-amount-ui>\n        <span class=\"sr-only\">,</span>\n      </div>\n      <div *ngIf=\"loan.outstandingAmount as outstandingAmount\">\n        <span\n          class=\"bb-text-bold\"\n          i18n=\"Loan list item outstanding amount text@@loans.loan-list-item.outstanding-amount.text\"\n        >\n          Outstanding amount:\n        </span>\n        <bb-amount-ui\n          [amount]=\"outstandingAmount\"\n          [currency]=\"currencyCode\"\n          [mapCurrency]=\"false\"\n          data-role=\"bb-loans-list-item__outstanding-amount\"\n        >\n        </bb-amount-ui>\n      </div>\n    </div>\n  </div>\n</div>\n"]}