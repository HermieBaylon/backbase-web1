import { ChangeDetectionStrategy, Component } from '@angular/core';
import { LoanPaymentInfoType } from '../loan-item-payment-info.model';
import { LoanConfigBaseComponent } from '../../../base/loan-config-base.component';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/ui-ang/alert";
import * as i2 from "@backbase/ui-ang/amount";
import * as i3 from "@angular/common";
import * as i4 from "@backbase/ui-ang/date-pipe";
export class RetailLoanItemPaymentInfoComponent extends LoanConfigBaseComponent {
    ngOnChanges() {
        this.paymentInfo = this.dataConfig.call(undefined, this.loan);
        this.isAmountVisible = Boolean(this.loan.currencyCode && this.paymentInfo.amount);
        this.isFullyPaid = this.paymentInfo.paymentType === LoanPaymentInfoType.FullyPaid;
    }
}
/** @nocollapse */ RetailLoanItemPaymentInfoComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: RetailLoanItemPaymentInfoComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });
/** @nocollapse */ RetailLoanItemPaymentInfoComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: RetailLoanItemPaymentInfoComponent, selector: "bb-retail-loan-item-payment-info", usesInheritance: true, usesOnChanges: true, ngImport: i0, template: "<bb-alert-ui\n  *ngIf=\"isFullyPaid; else amountBased\"\n  title=\"\"\n  data-role=\"bb-loans-loan-payment-info__alert\"\n  [modifier]=\"'info'\"\n  [dismissible]=\"false\"\n>\n  <span\n    data-role=\"bb-loans-loan-payment-info__label\"\n    i18n=\"Loan item no payments text@@loans.loan-item.no-payments.text\"\n    >No upcoming payments</span\n  >\n</bb-alert-ui>\n<ng-template #amountBased>\n  <div *ngIf=\"isAmountVisible || paymentInfo.date\" class=\"bb-text-support\" data-role=\"bb-loans-loan-payment-info\">\n    <bb-alert-ui title=\"\" data-role=\"bb-loans-loan-payment-info__alert\" [modifier]=\"'info'\" [dismissible]=\"false\">\n      <span\n        i18n=\"Loan item payment info text@@loans.loan-item.payment-info.text\"\n        data-role=\"bb-loans-loan-payment-info__label\"\n      >\n        {paymentInfo.paymentType, select, ScheduledNext {Next payment} ScheduledLast {Last payment} Overdue {Overdue}}:\n      </span>\n      <bb-amount-ui\n        data-role=\"bb-loans-loan-payment-info__amount\"\n        *ngIf=\"isAmountVisible\"\n        [amount]=\"paymentInfo.amount!\"\n        [currency]=\"loan.currencyCode!\"\n        [mapCurrency]=\"true\"\n      ></bb-amount-ui>\n      <span\n        *ngIf=\"paymentInfo.date as date\"\n        data-role=\"bb-loans-loan-payment-info__date\"\n        i18n=\"Loan item next payment date@@loans.loan-item.next-payment.date\"\n      >\n        on {{ date | bbDate }}\n      </span>\n      <span class=\"sr-only\">,</span>\n    </bb-alert-ui>\n  </div>\n</ng-template>\n", components: [{ type: i1.AlertComponent, selector: "bb-alert-ui", inputs: ["modifier", "dismissible", "title", "message"], outputs: ["close"] }, { type: i2.AmountComponent, selector: "bb-amount-ui", inputs: ["currency", "showPlusSign", "mapCurrency", "showPercent", "abbreviate", "decimalPlaces", "trailingZeroes", "amount"] }], directives: [{ type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "bbDate": i4.BbDatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: RetailLoanItemPaymentInfoComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-retail-loan-item-payment-info',
                    templateUrl: './retail-loan-item-payment-info.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }] });
//# sourceMappingURL=retail-loan-item-payment-info.component.js.map