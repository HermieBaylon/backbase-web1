{"version":3,"file":"loan-amortized-payment-schedule-details.component.js","sourceRoot":"","sources":["../../../../../../../../libs/loans-collection-ui-ang/src/lib/payment-schedule/amortized-payment/loan-amortized-payment-schedule-details/loan-amortized-payment-schedule-details.component.ts","../../../../../../../../libs/loans-collection-ui-ang/src/lib/payment-schedule/amortized-payment/loan-amortized-payment-schedule-details/loan-amortized-payment-schedule-details.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;;;;;;;;;AAW1E,MAAM,OAAO,4CAA4C;;6JAA5C,4CAA4C;iJAA5C,4CAA4C,kLCXzD,i4MA2LA;4FDhLa,4CAA4C;kBALxD,SAAS;mBAAC;oBACT,QAAQ,EAAE,4CAA4C;oBACtD,WAAW,EAAE,0DAA0D;oBACvE,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;8BAKU,mBAAmB;sBAA3B,KAAK;gBAIG,IAAI;sBAAZ,KAAK;gBAIG,UAAU;sBAAlB,KAAK","sourcesContent":["import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { PresentationAmortizationPayment } from '@backbase/data-ang/loans';\n\nimport { Loan } from '../../../models/loan.model';\n\n@Component({\n  selector: 'bb-loan-amortized-payment-schedule-details',\n  templateUrl: './loan-amortized-payment-schedule-details.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LoanAmortizedPaymentScheduleDetailsComponent {\n  /**\n   * Amortization payment\n   */\n  @Input() amortizationPayment!: PresentationAmortizationPayment;\n  /**\n   * Loan item\n   */\n  @Input() loan!: Loan;\n  /**\n   * Whether to show loan status or not\n   */\n  @Input() showStatus: boolean | undefined;\n}\n","<div *ngIf=\"showStatus\" class=\"bb-block bb-block--lg\">\n  <bb-loan-payment-schedule-status [status]=\"amortizationPayment.status\"></bb-loan-payment-schedule-status>\n</div>\n\n<div\n  *ngIf=\"loan.defaultSettlementAccountNumber\"\n  data-role=\"bb-payment-amortized-schedule-details__accounts\"\n  class=\"bb-loans-amortized-payment-details-account-card bb-block bb-block--lg\"\n>\n  <div class=\"bb-stack bb-stack--wrap bb-block bb-block--sm bb-d-sm-flex bb-d-none bb-text-bold\" aria-hidden=\"true\">\n    <div\n      class=\"bb-stack__item bb-stack__item--spacing-none bb-stack__item--fill\"\n      i18n=\"Payment schedule details from account title@loans.payment-schedule-details.from-account.title\"\n      #fromRef\n    >\n      From\n    </div>\n    <ng-container *ngTemplateOutlet=\"iconRef; context: { $implicit: true }\"></ng-container>\n    <div\n      class=\"bb-stack__item bb-stack__item--spacing-none bb-stack__item--fill\"\n      i18n=\"Payment schedule details to account title@loans.payment-schedule-details.to-account.title\"\n      #toRef\n    >\n      To\n    </div>\n  </div>\n  <div class=\"bb-stack bb-stack--wrap\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        accountCardRef;\n        context: {\n          accountName: loan.defaultSettlementAccountName,\n          accountNumber: loan.defaultSettlementAccountNumber,\n          iconName: 'account',\n          title: fromRef.textContent\n        }\n      \"\n    ></ng-container>\n    <ng-container *ngTemplateOutlet=\"iconRef\"></ng-container>\n    <div class=\"bb-stack__break bb-stack__break--down bb-stack__break--spacing-md\"></div>\n    <ng-container\n      *ngTemplateOutlet=\"\n        accountCardRef;\n        context: {\n          accountName: loan.alias,\n          accountNumber: loan.accountNumber,\n          iconName: 'payments',\n          title: toRef.textContent\n        }\n      \"\n    ></ng-container>\n  </div>\n</div>\n\n<div class=\"bb-block bb-block--lg\">\n  <div class=\"bb-block bb-block--sm\">\n    <h3 i18n=\"Payment schedule details payment amounts title@loans.payment-schedule-details.payment-amounts.title\">\n      Amounts\n    </h3>\n    <bb-amount-ui\n      class=\"bb-heading-3\"\n      data-role=\"bb-payment-amortized-schedule-details__amounts\"\n      [amount]=\"amortizationPayment.paymentAmount\"\n      [mapCurrency]=\"false\"\n      [currency]=\"amortizationPayment.currencyCode\"\n    ></bb-amount-ui>\n  </div>\n  <div\n    *ngIf=\"amortizationPayment.principal as principal\"\n    data-role=\"bb-payment-amortized-schedule-details__principal-amount\"\n  >\n    <span class=\"bb-inline-stack\">\n      <span\n        class=\"bb-inline-stack__item\"\n        i18n=\"Payment schedule details principal amount title@loans.payment-schedule-details.principal-amount.title\"\n      >\n        Principal amount:\n      </span>\n      <bb-amount-ui\n        class=\"bb-inline-stack__item\"\n        [amount]=\"principal\"\n        [mapCurrency]=\"false\"\n        [currency]=\"amortizationPayment.currencyCode\"\n      ></bb-amount-ui>\n    </span>\n  </div>\n  <div\n    *ngIf=\"amortizationPayment.interest as interest\"\n    data-role=\"bb-payment-amortized-schedule-details__interest-amount\"\n  >\n    <span class=\"bb-inline-stack\">\n      <span\n        class=\"bb-inline-stack__item\"\n        i18n=\"Payment schedule details interest amount title@loans.payment-schedule-details.interest-amount.title\"\n      >\n        Interest amount:\n      </span>\n      <bb-amount-ui\n        class=\"bb-inline-stack__item\"\n        [amount]=\"interest\"\n        [mapCurrency]=\"false\"\n        [currency]=\"amortizationPayment.currencyCode\"\n      ></bb-amount-ui>\n    </span>\n  </div>\n</div>\n\n<hr class=\"bb-block bb-block--lg\" />\n\n<div class=\"bb-block bb-block--lg\">\n  <div\n    class=\"bb-text-bold\"\n    i18n=\"Payment schedule details execution date title@loans.payment-schedule-details.execution-date.title\"\n  >\n    Execution date\n  </div>\n  <div data-role=\"bb-payment-amortized-schedule-details__execution-date\">\n    {{ amortizationPayment.paymentDate | bbDate }}\n  </div>\n</div>\n\n<hr class=\"bb-block bb-block--lg\" />\n\n<div>\n  <div class=\"bb-inline-stack\">\n    <span\n      class=\"bb-inline-stack__item bb-text-bold\"\n      i18n=\"Payment schedule details total balance title@loans.payment-schedule-details.total-balance.title\"\n    >\n      Total outstanding balance (after payment)</span\n    >\n\n    <bb-icon-ui\n      class=\"bb-inline-stack__item btn btn-unstyled bb-inline-stack__item--spacing-none\"\n      name=\"info\"\n      color=\"primary\"\n      size=\"md\"\n      role=\"button\"\n      i18n-bbTooltip=\"\n        Payment schedule details total balance info tooltip@loans.payment-schedule-details.total-balance.info.tooltip\n      \"\n      bbTooltip=\"Amount based on automatic schedule and may be subject to change.\"\n      bbTooltipTrigger\n    ></bb-icon-ui>\n  </div>\n  <div>\n    <bb-amount-ui\n      data-role=\"bb-payment-amortized-schedule-details__outstanding-balance\"\n      [amount]=\"amortizationPayment.endingPrincipalBalance\"\n      [mapCurrency]=\"false\"\n      [currency]=\"amortizationPayment.currencyCode\"\n    ></bb-amount-ui>\n  </div>\n</div>\n\n<ng-template\n  let-accountName=\"accountName\"\n  let-accountNumber=\"accountNumber\"\n  let-iconName=\"iconName\"\n  let-title=\"title\"\n  #accountCardRef\n>\n  <div class=\"bb-stack__item bb-stack__item--spacing-none bb-stack__item--fill\">\n    <div class=\"sr-only bb-text-bold bb-block bb-block--sm bb-loans-amortized-payment-details-account-card__title\">\n      {{ title }}\n    </div>\n    <div class=\"bb-card bb-card--sm bb-card--shadowless bb-card--highlight\">\n      <div class=\"bb-card__body\">\n        <div class=\"bb-block bb-block--sm\">\n          <bb-icon-ui [name]=\"iconName\" backgroundType=\"square\" color=\"secondary\" size=\"sm\"></bb-icon-ui>\n        </div>\n\n        <div class=\"bb-subtitle bb-text-bold\">{{ accountName || \"&nbsp;\" }}</div>\n        <div class=\"bb-subtitle bb-text-support\">{{ accountNumber }}</div>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #iconRef let-isHidden>\n  <bb-icon-ui\n    class=\"bb-stack__item bb-loans-amortized-payment-details-account-card__separator-icon bb-d-none bb-d-sm-block\"\n    [class.bb-loans-amortized-payment-details-account-card__separator-icon--hidden]=\"isHidden\"\n    name=\"arrow-forward\"\n    size=\"md\"\n  ></bb-icon-ui>\n</ng-template>\n"]}