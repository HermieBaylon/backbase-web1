{"version":3,"file":"loan-info-custom-section.directive.js","sourceRoot":"","sources":["../../../../../../../libs/loans-collection-ui-ang/src/lib/loan-info/loan-info-custom-section/loan-info-custom-section.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,wBAAwB,EAAE,SAAS,EAAE,KAAK,EAAU,IAAI,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;;AAQ3G,MAAM,OAAO,8BAA8B;IAUzC,YACmB,gBAAkC,EAClC,wBAAkD;QADlD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,6BAAwB,GAAxB,wBAAwB,CAA0B;IAClE,CAAC;IAEJ,QAAQ;QACN,MAAM,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QAErG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAE9B,MAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;QAC7E,YAAY,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACzC,CAAC;;+IAtBU,8BAA8B;mIAA9B,8BAA8B;4FAA9B,8BAA8B;kBAH1C,SAAS;mBAAC;oBACT,QAAQ,EAAE,2BAA2B;iBACtC;8IAKU,YAAY;sBAApB,KAAK;gBAIG,IAAI;sBAAZ,KAAK","sourcesContent":["import { ComponentFactoryResolver, Directive, Input, OnInit, Type, ViewContainerRef } from '@angular/core';\n\nimport { LoanItemCustomBase } from '../loan-info.model';\nimport { Loan } from '../../models/loan.model';\n\n@Directive({\n  selector: '[bbLoanInfoCustomSection]',\n})\nexport class LoanInfoCustomSectionDirective<T extends Loan, U extends LoanItemCustomBase<T>> implements OnInit {\n  /**\n   * The class reference to the dynamic component which will be placed to the section\n   */\n  @Input() componentRef!: Type<U>;\n  /**\n   * Loan item\n   */\n  @Input() loan!: T;\n\n  constructor(\n    private readonly viewContainerRef: ViewContainerRef,\n    private readonly componentFactoryResolver: ComponentFactoryResolver,\n  ) {}\n\n  ngOnInit(): void {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory<U>(this.componentRef);\n\n    this.viewContainerRef.clear();\n\n    const componentRef = this.viewContainerRef.createComponent(componentFactory);\n    componentRef.instance.loan = this.loan;\n  }\n}\n"]}