{"version":3,"file":"loan-info-custom-link.directive.js","sourceRoot":"","sources":["../../../../../../../libs/loans-collection-ui-ang/src/lib/loan-info/loan-info-custom-link/loan-info-custom-link.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAClF,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;;AAI3C,WAAW;AAIX,MAAM,OAAO,2BAA2B;IAiBtC,YAA+C,QAAkB,EAAmB,QAAmB;QAAxD,aAAQ,GAAR,QAAQ,CAAU;QAAmB,aAAQ,GAAR,QAAQ,CAAW;QAPvG;;;;WAIG;QACkC,WAAM,GAA2B,OAAO,CAAC;IAE4B,CAAC;IAK3G,iBAAiB;QACf,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAoB,CAAC;QAEnE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAE1D,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SACnE;QAED,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACtD,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACxD,CAAC;;4IAnCU,2BAA2B,kBAiBlB,QAAQ;gIAjBjB,2BAA2B;4FAA3B,2BAA2B;kBAHvC,SAAS;mBAAC;oBACT,QAAQ,EAAE,wBAAwB;iBACnC;0DAkB0D,QAAQ;0BAApD,MAAM;2BAAC,QAAQ;oEAbG,OAAO;sBAArC,KAAK;uBAAC,sBAAsB;gBAKc,YAAY;sBAAtD,KAAK;uBAAC,kCAAkC;gBAMJ,MAAM;sBAA1C,KAAK;uBAAC,4BAA4B;gBAOnC,iBAAiB;sBAHhB,YAAY;uBAAC,OAAO;;sBACpB,YAAY;uBAAC,eAAe;;sBAC5B,YAAY;uBAAC,eAAe","sourcesContent":["import { Directive, HostListener, Inject, Input, Renderer2 } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nexport type LoanInfoLinkTargetType = '_blank' | '_parent' | '_self' | '_top';\n\n// @dynamic\n@Directive({\n  selector: '[bbLoanInfoCustomLink]',\n})\nexport class LoanInfoCustomLinkDirective {\n  /**\n   * Link url\n   */\n  @Input('bbLoanInfoCustomLink') linkUrl!: string;\n  /**\n   * Link download name\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('bbLoanInfoCustomLinkDownloadName') downloadName: string | undefined;\n  /**\n   * Link target\n   *\n   * @default '_self'\n   */\n  @Input('bbLoanInfoCustomLinkTarget') target: LoanInfoLinkTargetType = '_self';\n\n  constructor(@Inject(DOCUMENT) private readonly document: Document, private readonly renderer: Renderer2) {}\n\n  @HostListener('click')\n  @HostListener('keydown.enter')\n  @HostListener('keydown.space')\n  simulateLinkClick(): void {\n    const linkEl = this.renderer.createElement('a') as HTMLLinkElement;\n\n    this.renderer.setAttribute(linkEl, 'href', this.linkUrl);\n    this.renderer.setAttribute(linkEl, 'target', this.target);\n\n    if (this.downloadName) {\n      this.renderer.setAttribute(linkEl, 'download', this.downloadName);\n    }\n\n    this.renderer.appendChild(this.document.body, linkEl);\n    linkEl.click();\n    this.renderer.removeChild(this.document.body, linkEl);\n  }\n}\n"]}