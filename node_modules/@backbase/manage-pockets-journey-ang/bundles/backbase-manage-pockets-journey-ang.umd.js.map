{"version":3,"file":"backbase-manage-pockets-journey-ang.umd.js","sources":["../../../../libs/manage-pockets-journey/src/manage-pockets-common/components/manage-pockets-base-wrapper/manage-pockets-base-wrapper.component.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/manage-pockets-journey/src/manage-pockets-common/helpers/formatting.helper.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/model/pocket-item.model.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/components/manage-pockets-card/manage-pockets-card.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/components/manage-pockets-card/manage-pockets-card.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-common/directives/accessibility-keyboard.directive.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/services/dom-attributes.service.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/directives/dynamic-id.directive.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/pipes/regex-replace.pipe.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/model/accounts.model.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/services/manage-pockets.service.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/manage-pockets-common.module.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/localization/manage-pockets-journey.localizations.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/components/manage-pockets-base-step/manage-pockets-base-step.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-create-base-step/manage-pockets-create-base-step.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-confirmation/manage-pockets-confirmation.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-confirmation/manage-pockets-confirmation.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-create/manage-pockets-create.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-create/manage-pockets-create.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-details/manage-pockets-details.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-details/manage-pockets-details.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-common/validators/form-validators.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-goals/manage-pockets-goals.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-goals/manage-pockets-goals.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-create-wrapper/manage-pockets-create-wrapper.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-create/components/manage-pockets-create-wrapper/manage-pockets-create-wrapper.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-create/manage-pockets-create.module.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-journey-config.service.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-journey.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-empty-list/manage-pockets-empty-list.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-empty-list/manage-pockets-empty-list.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-list/manage-pockets-list.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-list/manage-pockets-list.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-list-wrapper/manage-pockets-list-wrapper.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-list/components/manage-pockets-list-wrapper/manage-pockets-list-wrapper.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-list/manage-pockets-list.module.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-details/manage-pockets-transfers-details.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-details/manage-pockets-transfers-details.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-review/manage-pockets-transfers-review.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-review/manage-pockets-transfers-review.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-wrapper/manage-pockets-transfers-wrapper.component.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/components/manage-pockets-transfers-wrapper/manage-pockets-transfers-wrapper.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-transfers/manage-pockets-transfers.module.ts","../../../../libs/manage-pockets-journey/src/views/manage-pockets-create-view.component.ts","../../../../libs/manage-pockets-journey/src/views/manage-pockets-create-view.component.html","../../../../libs/manage-pockets-journey/src/views/manage-pockets-list-view.component.ts","../../../../libs/manage-pockets-journey/src/views/manage-pockets-list-view.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-common/model/payment.model.ts","../../../../libs/manage-pockets-journey/src/manage-pockets-common/services/payment-order.service.ts","../../../../libs/manage-pockets-journey/src/views/manage-pockets-transfers-view.component.ts","../../../../libs/manage-pockets-journey/src/views/manage-pockets-transfers-view.component.html","../../../../libs/manage-pockets-journey/src/manage-pockets-journey.module.ts","../../../../libs/manage-pockets-journey/backbase-manage-pockets-journey-ang.ts"],"sourcesContent":["import { Directive, EventEmitter, Input, Output } from '@angular/core';\n\n@Directive()\nexport class ManagePocketsBaseWrapperComponent {\n  @Input() journeyCurrency?: string;\n  @Output() cancel = new EventEmitter<void>();\n\n  currentStep = 1;\n  showDialog = false;\n\n  confirmAbort() {\n    this.cancel.emit();\n    this.showDialog = false;\n  }\n\n  showAbortDialog() {\n    this.showDialog = true;\n  }\n\n  closeAbortDialog() {\n    this.showDialog = false;\n  }\n\n  goBack() {\n    this.goToStep(this.currentStep - 1);\n  }\n\n  protected goToStep(value: number) {\n    this.currentStep = value;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function pocketFormatDate(date: Date = new Date()) {\n  date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n  return date.toISOString().slice(0, 10);\n}\n","import { PostPocketRequestParams } from '@backbase/data-ang/pocket-tailor';\nimport { pocketFormatDate } from '../helpers/formatting.helper';\n\nexport interface PocketResponse {\n  pockets?: PocketItem[];\n}\n\nexport interface PocketItem extends NewPocketItem {\n  id: string;\n  arrangementId: string;\n  balance: PocketBalance;\n  goal?: PocketGoal;\n}\nexport interface NewPocketItem {\n  name: string;\n  icon: string;\n  goal?: NewPocketGoal;\n}\n\nexport interface PocketGoal extends NewPocketGoal {\n  progress?: number;\n}\n\nexport interface NewPocketGoal {\n  amountCurrency?: PocketBalance;\n  deadline?: string;\n}\n\nexport interface PocketBalance {\n  amount: string;\n  currencyCode: string;\n  additions?: any;\n}\n\nexport interface PocketItemDropdown {\n  label: string;\n  value: TransferType;\n}\n\nexport interface PocketTransferItem {\n  pocket: PocketItem;\n  transferType: TransferType;\n}\n\nexport type TransferType = 'ADD' | 'WITHDRAW';\nexport enum TransferTypeEnum {\n  ADD = 'ADD',\n  WITHDRAW = 'WITHDRAW',\n}\n\nexport namespace PocketNamespace {\n  export function buildNewPocketPostRequest(pocketItem: Partial<NewPocketItem>): PostPocketRequestParams {\n    const { name = '', icon = '', goal = {}, ...others } = pocketItem;\n\n    return {\n      pocketPostRequest: {\n        name,\n        icon,\n        goal: formatGoal(goal),\n        ...others,\n      },\n    };\n  }\n\n  function formatGoal(pocketGoal?: NewPocketGoal) {\n    const amount = pocketGoal?.amountCurrency?.amount || undefined;\n    const currencyCode = pocketGoal?.amountCurrency?.currencyCode || undefined;\n\n    const deadline = pocketGoal?.deadline ? pocketFormatDate(new Date(pocketGoal.deadline)) : undefined;\n    const amountCurrency: PocketBalance | undefined = amount && currencyCode ? { amount, currencyCode } : undefined;\n\n    return {\n      ...(!!deadline ? { deadline } : {}),\n      ...(!!amountCurrency ? { amountCurrency } : {}),\n    };\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\nimport { PocketItem, PocketItemDropdown, PocketTransferItem, TransferTypeEnum } from '../../model/pocket-item.model';\n\n@Component({\n  selector: 'bb-manage-pockets-card',\n  templateUrl: './manage-pockets-card.component.html',\n})\nexport class ManagePocketsCardComponent implements OnInit {\n  @Input() pocket?: PocketItem;\n  @Output() pocketTransfer = new EventEmitter<PocketTransferItem>();\n\n  pocketImage?: Observable<string>;\n  dropdownMenuOptions: PocketItemDropdown[] = [\n    {\n      label: $localize`:Add Money dropdown option@@managePockets.common.card.dropdown.addMoney.label:Add Money`,\n      value: TransferTypeEnum.ADD,\n    },\n    {\n      label: $localize`:Withdraw Money dropdown option@@managePockets.common.card.dropdown.withdrawMoney.label:Withdraw Money`,\n      value: TransferTypeEnum.WITHDRAW,\n    },\n  ];\n  dropdownMenuOptionsLabel = this.dropdownMenuOptions.map((item) => item.label);\n\n  private resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-manage-pockets-journey-ang',\n    getURIFromAssetID: (assetId: string) => assetId,\n  });\n\n  ngOnInit() {\n    this.pocketImage = this.resolveAsset(`${this.pocket!.icon}-img.webp`);\n  }\n\n  onButtonDropdownSelect(label: string) {\n    const item = this.dropdownMenuOptions.find((option) => option.label === label);\n\n    if (item && this.pocket) {\n      this.pocketTransfer.emit({\n        pocket: this.pocket,\n        transferType: item.value,\n      });\n    }\n  }\n\n  constructor(private readonly assetsService: AssetsService) {}\n}\n","<div class=\"bb-card bb-card--lg\">\n  <div class=\"bb-card__body\">\n    <div class=\"bb-stack bb-stack--wrap\">\n      <div class=\"bb-stack__item bb-stack__item--spacing-lg bb-manage-pockets-common-pocket-card__pocket-image-container\">\n        <img \n          [src]=\"pocketImage | async\" \n          alt=\"Representation of the selected pocket type\" \n          i18n-alt=\"Pocket image|changes according to the type of pocket@@managePockets.common.card.pocketImage\" \n          class=\"bb-manage-pockets-common-pocket-card__pocket-image\"\n        >\n      </div>\n      <div class=\"bb-stack__break bb-stack__break--sm-down\"></div>\n      <div class=\"bb-stack__item bb-stack__item--fill\">\n        <div class=\"bb-block bb-block--md\">\n          <div class=\"bb-stack\">\n            <div class=\"bb-stack__item\">\n              <h2 class=\"bb-block bb-block--no-margin\">\n                {{pocket?.name}}\n              </h2>\n            </div>\n            <div class=\"bb-stack__item bb-stack__item--push-right\">\n              <bb-dropdown-menu-ui\n                icon=\"ellipsis-h\"\n                btnColor=\"link-dark\"\n                [btnCircle]=\"true\"\n                container=\"body\"\n                [options]=\"dropdownMenuOptionsLabel\"\n                (select)=\"onButtonDropdownSelect($event)\"\n              ></bb-dropdown-menu-ui>\n            </div>\n          </div>\n        </div>\n        <div class=\"bb-block bb-block--sm bb-subtitle bb-text-support\">\n          <span i18n=\"Available Balance|Current stored balance in pocket@@managePockets.common.card.availableBalance\">\n            Available Balance\n          </span\n          ><span *ngIf=\"!!pocket?.goal?.amountCurrency?.amount\" i18n=\"Pocket Goal|Expected amount to reach to complete pocket@@managePockets.common.card.goalAmount\">\n            / Goal Amount\n          </span>\n        </div>\n        <div class=\"bb-block\" [ngClass]=\"{ 'bb-block--xl': pocket?.goal?.progress != undefined }\">\n          <span class=\"bb-heading-2\">\n            <bb-amount-ui\n              [amount]=\"pocket?.balance?.amount\"\n              [currency]=\"pocket?.balance?.currencyCode\"\n            ></bb-amount-ui>\n          </span>\n          <span class=\"bb-manage-pockets-common-pocket-card__goal-amount bb-heading-3 bb-text-support\" *ngIf=\"!!pocket?.goal?.amountCurrency?.amount\">\n            /\n            <bb-amount-ui\n              [amount]=\"pocket?.goal?.amountCurrency?.amount\"\n              [currency]=\"pocket?.goal?.amountCurrency?.currencyCode\"\n              [decimalPlaces]=\"0\"\n            ></bb-amount-ui>\n          </span>\n        </div>\n        <ng-container *ngIf=\"!!pocket?.goal\">\n          <div class=\"bb-block bb-block--sm\" *ngIf=\"!!pocket?.goal?.progress || pocket?.goal?.progress == 0\">\n            <bb-progressbar-ui\n              [type]=\"pocket?.goal?.progress != '100' ? 'primary' : 'success'\"\n              height=\"8px\"\n              [value]=\"pocket?.goal?.progress\"\n            >\n            </bb-progressbar-ui>\n          </div>\n          <div class=\"bb-block\">\n            <div class=\"bb-stack\">\n              <div class=\"bb-stack__item\" *ngIf=\"!!pocket?.goal?.progress || pocket?.goal?.progress == 0\">\n                <div [ngClass]=\"pocket?.goal?.progress != 100 ? 'bb-text-primary' : 'bb-text-success'\">\n                  <span class=\"bb-manage-pockets-common-pocket-card__goal-percentage\">\n                    <bb-amount-ui\n                      [amount]=\"pocket?.goal?.progress\"\n                      [showPercent]=\"true\"\n                      [trailingZeroes]=\"false\"\n                    ></bb-amount-ui>\n                    <span i18n=\"Completed|Percentage of the goal currently completed@@managePockets.common.card.amountCompleted\">\n                      Completed\n                    </span>\n                  </span>\n                  <bb-icon-ui\n                    *ngIf=\"pocket?.goal?.progress == '100'\"\n                    name=\"check\"\n                    [inverse]=\"true\"\n                    size=\"sm\"\n                  ></bb-icon-ui>\n                </div>\n              </div>\n              <div class=\"bb-stack__item bb-stack__item--push-right bb-text-support\" *ngIf=\"!!pocket?.goal?.deadline\">\n                <bb-icon-ui\n                  name=\"calendar-today\"\n                  [inverse]=\"true\"\n                  size=\"sm\"\n                ></bb-icon-ui>\n                <span class=\"bb-manage-pockets-common-pocket-card__deadline-date\">\n                  {{pocket?.goal?.deadline | date}}\n                </span>\n              </div>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n</div>","import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[bbAccessibilityKeyboard]',\n})\nexport class AccessibilityKeyboardDirective {\n  constructor(readonly element: ElementRef) {\n    element.nativeElement.tabIndex = 0;\n  }\n\n  // eslint-disable-next-line\n  @HostListener('keydown.enter', ['$event'])\n  // eslint-disable-next-line\n  @HostListener('keydown.space', ['$event'])\n  eventListener(event: any) {\n    this.element.nativeElement.click(event);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n/**\n * Utility service for DOM manipulations\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class DomAttributesService {\n  private basePrefix = 'bb_manage_pockets';\n  private idCounter = 0;\n\n  public nextId(prefix?: string) {\n    return `${this.basePrefix}-${!!prefix ? prefix : 'default'}-${Date.now()}-${this.idCounter++}`;\n  }\n}\n","import { ChangeDetectorRef, Directive, ElementRef, Input, OnInit, Renderer2 } from '@angular/core';\nimport { DomAttributesService } from '../services/dom-attributes.service';\n\n/**\n * Dynamic id generator\n * Intended use is to improve accesibility by relating inputs to other label or error messages\n *\n * <label [for]=\"labelInput.id\"> Label </label>\n * <input bbDynamicId #labelInput />\n */\n\n@Directive({\n  selector: '[bbDynamicId]',\n  exportAs: 'bbDynamicId',\n})\nexport class DynamicIdDirective implements OnInit {\n  constructor(\n    private readonly _elRef: ElementRef,\n    private readonly _renderer: Renderer2,\n    private readonly domAttributesService: DomAttributesService,\n    private readonly cd: ChangeDetectorRef,\n  ) {}\n\n  @Input() bbDynamicId: string | undefined;\n\n  ngOnInit() {\n    setTimeout(() => {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'id', this.domAttributesService.nextId(this.bbDynamicId));\n      this.cd.markForCheck();\n    });\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'bbRegexReplace',\n})\nexport class RegexReplacePipe implements PipeTransform {\n  transform(value: string, regexValue: string, replaceValue: string): any {\n    let regex = new RegExp(regexValue, 'g');\n    return value.replace(regex, replaceValue);\n  }\n}\n","import { ProductSummaryItem } from '@backbase/product-summary-common-ang';\n\nexport interface AccountItem {\n  id: string;\n  name: string;\n  balance?: number;\n  number?: string;\n  currency?: string;\n  favorite?: boolean;\n  bankBranchCode?: string;\n}\n\nexport namespace AccountsNamespace {\n  export function formatHttpresponse(accountList: ProductSummaryItem[]): AccountItem[] {\n    const formattedItem: AccountItem[] = accountList.map((account) => ({\n      id: account.id,\n      name: account.name || '',\n      balance: account.availableBalance,\n      number: account.number,\n      currency: account.currency,\n      favorite: account.favorite,\n      bankBranchCode: account.bankBranchCode,\n    }));\n    return formattedItem;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  GetArrangementsByBusinessFunctionRequestParams,\n  ProductSummaryHttpService,\n} from '@backbase/data-ang/arrangements';\nimport { Pocket, PocketTailorClientHttpService } from '@backbase/data-ang/pocket-tailor';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { AccountItem, AccountsNamespace } from '../model/accounts.model';\nimport { NewPocketItem, PocketNamespace, PocketResponse } from '../model/pocket-item.model';\n\n@Injectable()\nexport class ManagePocketsService {\n  private readonly pocketListApiError = new BehaviorSubject(false);\n  pocketListApiError$ = this.pocketListApiError.asObservable();\n\n  retrievePocketList(): Observable<PocketResponse> {\n    this.pocketListApiError.next(false);\n    return this.pocketTailorService.listPockets().pipe(catchError(this.handleApiError));\n  }\n\n  postPocket(newPocketItem: Partial<NewPocketItem>): Observable<Pocket> {\n    const payload = PocketNamespace.buildNewPocketPostRequest(newPocketItem);\n    return this.pocketTailorService.postPocket(payload);\n  }\n\n  retrieveAccountList(): Observable<AccountItem[]> {\n    const RESOURCE_NAME = 'Payments';\n    const PRIVILEGE = 'create';\n    const FROM_PAGES = 0;\n    const PAGE_SIZE = 50;\n    const BUSINESS_FUNCTION = 'A2A Transfer';\n    const productSummaryParameters: GetArrangementsByBusinessFunctionRequestParams = {\n      businessFunction: BUSINESS_FUNCTION,\n      resourceName: RESOURCE_NAME,\n      privilege: PRIVILEGE,\n      from: FROM_PAGES,\n      size: PAGE_SIZE,\n    };\n    return this.productSummaryDataService\n      .getArrangementsByBusinessFunction(productSummaryParameters)\n      .pipe(map(AccountsNamespace.formatHttpresponse));\n  }\n\n  private handleApiError = () => {\n    this.pocketListApiError.next(true);\n    return of({ pockets: [] });\n  };\n\n  constructor(\n    private readonly pocketTailorService: PocketTailorClientHttpService,\n    private readonly productSummaryDataService: ProductSummaryHttpService,\n  ) {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AmountModule } from '@backbase/ui-ang/amount';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { ProgressbarModule } from '@backbase/ui-ang/progressbar';\nimport { ManagePocketsCardComponent } from './components/manage-pockets-card/manage-pockets-card.component';\nimport { AccessibilityKeyboardDirective } from './directives/accessibility-keyboard.directive';\nimport { DynamicIdDirective } from './directives/dynamic-id.directive';\nimport { RegexReplacePipe } from './pipes/regex-replace.pipe';\nimport { DomAttributesService } from './services/dom-attributes.service';\nimport { ManagePocketsService } from './services/manage-pockets.service';\n\nconst modules = [AmountModule, ButtonModule, DropdownMenuModule, EmptyStateModule, IconModule, ProgressbarModule];\nconst components = [AccessibilityKeyboardDirective, DynamicIdDirective, ManagePocketsCardComponent, RegexReplacePipe];\n\n@NgModule({\n  imports: [CommonModule, ...modules],\n  providers: [ManagePocketsService, DomAttributesService],\n  declarations: [...components],\n  exports: [...components, ...modules],\n})\nexport class ManagePocketsCommonModule {}\n","export const POCKET_LOCALIZATIONS = {\n  transfers: {\n    details: {\n      addMoneyContinueButton: $localize`:Review Transfer@@managePockets.transfers.details.button.continue.add:Review Transfer`,\n      addMoneyError: $localize`:Your account balance is insufficient@@managePockets.transfers.details.amount.error.add.max:Your account balance is insufficient`,\n      addMoneyHeader: $localize`:From Account@@managePockets.transfers.details.heading.addMoney:From Account`,\n      withdrawMoneyContinueButton: $localize`:Review Withdrawal@@managePockets.transfers.details.button.continue.withdraw:Review Withdrawal`,\n      withdrawMoneyError: $localize`:Your pocket balance is insufficient@@managePockets.transfers.details.amount.error.withdraw.max:Your pocket balance is insufficient`,\n      withdrawMoneyHeader: $localize`:To Account@@managePockets.transfers.details.heading.withdrawMoney:To Account`,\n    },\n    review: {\n      addMoneyHeader: $localize`:Review Your Transfer@@managePockets.transfers.review.header.add:Review Your Transfer`,\n      withdrawMoneyHeader: $localize`:Review Your Withdrawal@@managePockets.transfers.review.header.withdraw:Review Your Withdrawal`,\n    },\n    wrapper: {\n      addMoneyModalBody: $localize`:All transfer information will be permanently lost.@@managePockets.transfers.wrapper.modal.body.add:All transfer information will be permanently lost.`,\n      addMoneyModalConfirm: $localize`:Discard Transfer@@managePockets.transfers.wrapper.modal.button.confirm.add:Discard Transfer`,\n      addMoneyModalHeader: $localize`:Discard Transfer?@@managePockets.transfers.wrapper.modal.header.add:Discard Transfer?`,\n      withdrawMoneyModalBody: $localize`:All withdrawal information will be permanently lost.@@managePockets.transfers.wrapper.modal.body.withdraw:All withdrawal information will be permanently lost.`,\n      withdrawMoneyModalConfirm: $localize`:Discard Withdrawal@@managePockets.transfers.wrapper.modal.button.confirm.withdraw:Discard Withdrawal`,\n      withdrawMoneyModalHeader: $localize`:Discard Withdrawal?@@managePockets.transfers.wrapper.modal.header.withdraw:Discard Withdrawal?`,\n    },\n  },\n  views: {\n    transfers: {\n      addMoneyHeader: $localize`:Add Money@@managePockets.transfersView.heading.add:Add Money`,\n      withdrawMoneyHeader: $localize`:Withdraw Money@@managePockets.transfersView.heading.withdraw:Withdraw Money`,\n    },\n  },\n};\n","import { Directive, EventEmitter, Input, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { POCKET_LOCALIZATIONS } from '../../localization/manage-pockets-journey.localizations';\nimport { PaymentFormItem } from '../../model/payment.model';\nimport { TransferTypeEnum } from '../../model/pocket-item.model';\n\n@Directive()\n// eslint-disable-next-line\nexport abstract class ManagePocketsBaseStep {\n  @Output() back = new EventEmitter<void>();\n  @Output() cancel = new EventEmitter<void>();\n  @Input() journeyCurrency?: string;\n  @Input() partialNewPayment?: PaymentFormItem;\n  pocketLocalizations = POCKET_LOCALIZATIONS;\n  transferTypesEnum = TransferTypeEnum;\n\n  goBack() {\n    this.back.emit();\n  }\n\n  abort() {\n    this.cancel.emit();\n  }\n\n  isFieldValid(form?: FormGroup, fieldName?: string): boolean {\n    const controlField = form?.get(fieldName || '');\n    return !!controlField?.valid || !!controlField?.untouched;\n  }\n\n  getFieldErrors(form?: FormGroup, field?: string) {\n    return form?.get(field || '')?.errors;\n  }\n}\n","import { Directive, EventEmitter, Input, Output } from '@angular/core';\nimport { ManagePocketsBaseStep } from '../../../manage-pockets-common/components/manage-pockets-base-step/manage-pockets-base-step';\nimport { NewPocketItem } from '../../../manage-pockets-common/model/pocket-item.model';\n\n@Directive()\n// eslint-disable-next-line\nexport abstract class ManagePocketsCreateBaseStep extends ManagePocketsBaseStep {\n  @Output() next = new EventEmitter<Partial<NewPocketItem>>();\n  @Input() partialPocket?: Partial<NewPocketItem>;\n\n  goNext(newPocket: Partial<NewPocketItem>) {\n    this.next.emit(newPocket);\n  }\n\n  constructor() {\n    super();\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\nimport { NewPocketItem } from '../../../manage-pockets-common/model/pocket-item.model';\nimport { ManagePocketsCreateBaseStep } from '../manage-pockets-create-base-step/manage-pockets-create-base-step';\n\n@Component({\n  selector: 'bb-manage-pockets-confirmation',\n  templateUrl: './manage-pockets-confirmation.component.html',\n})\nexport class ManagePocketsConfirmationComponent extends ManagePocketsCreateBaseStep implements OnInit {\n  @Input() awaitingCreateResponse?: boolean;\n  @Output() newPocket = new EventEmitter<Partial<NewPocketItem>>();\n  selectedImageAssetUrl?: Observable<string>;\n\n  ngOnInit(): void {\n    this.selectedImageAssetUrl = this.resolveAsset(`${this.partialPocket?.icon}-img.webp`);\n  }\n\n  saveNewPocket() {\n    this.newPocket.emit(this.partialPocket);\n  }\n\n  private resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-manage-pockets-journey-ang',\n    getURIFromAssetID: (assetId: string) => assetId,\n  });\n\n  constructor(protected readonly assetsService: AssetsService) {\n    super();\n  }\n}\n","<div class=\"bb-block bb-block--xl\">\n  <h2 i18n=\"Review And Confirm Your Pocket Details@@managePockets.create.confirmation.header\">\n    Review And Confirm Your Pocket Details\n  </h2>\n</div>\n\n<div class=\"bb-block bb-block--md\">\n  <div class=\"bb-stack bb-stack--density-xl bb-stack--wrap\">\n    <div class=\"bb-stack__item\">\n      <!-- Pocket Image -->\n      <img \n        [src]=\"selectedImageAssetUrl | async\" \n        class=\"bb-manage-pockets-common-pocket-card__pocket-image bb-block bb-block--sm\" \n        alt=\"Representation of the selected pocket type\"\n        i18n-alt=\"Pocket image|changes according to the type of pocket@@managePockets.create.confirmation.selectedImageAssetUrl\"\n      >\n    </div>\n    <div class=\"bb-stack__break bb-stack__break--xs bb-block bb-block--lg\"></div>\n    <div class=\"bb-stack__item bb-stack__item--align-top\">\n      <!-- Pocket Name  -->\n      <div class=\"bb-block bb-block--md\">\n        <p class=\"bb-block bb-block--no-margin bb-subtitle bb-text-support\" i18n=\"Pocket Name@@managePockets.create.confirmation.name.label\">\n          Pocket Name\n        </p>\n        <h3>{{partialPocket?.name}}</h3>  \n      </div>\n  \n      <!-- Goal Date -->\n      <div class=\"bb-block bb-block--md\" *ngIf=\"partialPocket?.goal?.deadline | date as pocketDate\">\n        <p class=\"bb-block bb-block--no-margin bb-subtitle bb-text-support\" i18n=\"Goal Date@@managePockets.create.confirmation.date.label\">\n          Goal Date\n        </p>\n        <h3>{{pocketDate | date}}</h3>  \n      </div>\n  \n      <!-- Goal Amount -->\n      <div class=\"bb-block bb-block--md\" *ngIf=\"partialPocket?.goal?.amountCurrency?.amount as pocketAmount\">\n        <p class=\"bb-block bb-block--no-margin bb-subtitle bb-text-support\" i18n=\"Goal Amount@@managePockets.create.confirmation.amount.label\">\n          Goal Amount\n        </p>\n        <h3>\n          <bb-amount-ui\n            [currency]=\"journeyCurrency\"\n            [amount]=\"pocketAmount\"\n            [mapCurrency]=\"true\"\n          ></bb-amount-ui>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div class=\"bb-button-bar\">    \n  <bb-load-button-ui\n    i18n=\"Confirm Pocket@@managePockets.create.confirmation.button.continue\"\n    color=\"primary\"\n    class=\"bb-button-bar__button\"\n    [isLoading]=\"awaitingCreateResponse\"\n    (click)=\"!awaitingCreateResponse && saveNewPocket()\"\n  >\n    Confirm Pocket\n  </bb-load-button-ui>\n  <button \n    bbButton\n    i18n=\"Back@@managePockets.create.confirmation.button.back\"\n    class=\"bb-button-bar__button\"\n    color=\"secondary\" \n    (click)=\"goBack()\"\n  >\n    Back\n  </button>\n  <button \n    bbButton \n    color=\"link\"\n    class=\"bb-button-bar__button bb-button-bar__button--across\"\n    i18n=\"Cancel@@managePockets.create.confirmation.button.cancel\"\n    (click)=\"abort()\"\n  >\n    Cancel\n  </button>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bb-manage-pockets-create',\n  templateUrl: './manage-pockets-create.component.html',\n})\nexport class ManagePocketsCreateComponent {}\n","<div class=\"bb-card bb-card--lg\">\n  <div class=\"bb-card__body\">\n    <ng-content></ng-content>\n  </div>\n</div>","import { TitleCasePipe } from '@angular/common';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\nimport { NewPocketItem } from '../../../manage-pockets-common/model/pocket-item.model';\nimport { RegexReplacePipe } from '../../../manage-pockets-common/pipes/regex-replace.pipe';\nimport { ManagePocketsCreateBaseStep } from '../manage-pockets-create-base-step/manage-pockets-create-base-step';\n\n@Component({\n  selector: 'bb-manage-pockets-details',\n  templateUrl: './manage-pockets-details.component.html',\n})\nexport class ManagePocketsDetailsComponent extends ManagePocketsCreateBaseStep implements OnInit {\n  @Input() pocketImageList?: string[];\n  pocketDetailsForm?: FormGroup;\n  selectedImageAssetUrl?: Observable<string>;\n  showDialog = false;\n\n  ngOnInit(): void {\n    const defaultImage = this.pocketImageList?.[0] || 'home';\n    this.pocketDetailsForm = this.formBuilder.group({\n      name: [this.partialPocket?.name || this.formatName(defaultImage), Validators.required],\n      icon: [this.partialPocket?.icon || defaultImage, Validators.required],\n    });\n    this.selectedImageAssetUrl = this.resolveAsset(`${this.partialPocket?.icon || defaultImage}-img.webp`);\n  }\n\n  formatName(pocketName: string): string {\n    const titleCasePipe = new TitleCasePipe();\n    const regexPipe = new RegexReplacePipe();\n    let formatedTittle = pocketName;\n    formatedTittle = regexPipe.transform(formatedTittle, '-', ' ');\n    formatedTittle = titleCasePipe.transform(formatedTittle);\n\n    return formatedTittle;\n  }\n\n  openDialog() {\n    this.showDialog = true;\n  }\n\n  closeDialog() {\n    this.showDialog = false;\n  }\n\n  changeType(img: string) {\n    this.pocketDetailsForm!.patchValue({ name: this.formatName(img), icon: img });\n    this.selectedImageAssetUrl = this.resolveAsset(`${img}-img.webp`);\n    this.closeDialog();\n  }\n\n  getImage(img: string): Observable<string> {\n    return this.resolveAsset(`${img}-img.webp`);\n  }\n\n  isTypeSelected(img: string): boolean {\n    return this.pocketDetailsForm!.get('icon')!.value === img;\n  }\n\n  save() {\n    if (this.pocketDetailsForm!.valid) {\n      this.goNext(this.formatDetailsValues());\n    } else {\n      this.pocketDetailsForm!.markAllAsTouched();\n    }\n  }\n\n  private formatDetailsValues(): Partial<NewPocketItem> {\n    const { name, icon } = this.pocketDetailsForm!.value;\n    return { name, icon };\n  }\n\n  private resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-manage-pockets-journey-ang',\n    getURIFromAssetID: (assetId: string) => assetId,\n  });\n\n  constructor(private readonly formBuilder: FormBuilder, protected readonly assetsService: AssetsService) {\n    super();\n  }\n}\n","<div class=\"bb-block bb-block--xl\">\n  <h2 i18n=\"Choose Your Pocket Image and Name@@managePockets.create.details.header\">\n    Choose Your Pocket Image and Name\n  </h2>\n</div>\n<form [formGroup]=\"pocketDetailsForm\" (submit)=\"save()\">\n  <div class=\"bb-block bb-block--xl\">\n    <div class=\"bb-stack bb-stack--wrap bb-stack--align-top\">\n      <div class=\"bb-stack__item bb-stack__item--spacing-xl bb-manage-pockets-create-details__pocket-image-container\">\n        <img \n          [src]=\"selectedImageAssetUrl | async\" \n          class=\"bb-manage-pockets-create-details__pocket-image bb-block bb-block--sm\" \n          alt=\"Representation of the selected pocket type\"\n          i18n-alt=\"Pocket image|changes according to the type of pocket@@managePockets.create.details.selectedImageAssetUrl\"\n          (click)=\"openDialog()\"\n        >\n        <div>\n          <button\n            #button\n            bbButton\n            buttonSize=\"sm\"\n            [block]=\"true\"\n            color=\"link-text\"\n            (click)=\"openDialog()\"\n            i18n=\"Change image button@@managePockets.create.details.button.changeImage\"\n          >\n            Change image\n          </button>\n        </div>\n      </div>\n      <div class=\"bb-stack__break bb-stack__break--xs-down\"></div>\n      <div class=\"bb-stack__item bb-manage-pockets-create-details__input-container\">\n        <bb-input-text-ui\n          formControlName=\"name\"\n          data-role=\"manage-pocket-creation-name\"\n          label=\"What's this Pocket for?\"\n          i18n-label=\"What's this Pocket for?@@managePockets.create.details.input.label\"\n          maxLength=\"50\"\n          [attr.aria-invalid]=\"!isFieldValid(pocketDetailsForm, 'name')\"\n          [attr.aria-describedby]=\"pocketNameError?.id\"\n        ></bb-input-text-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid(pocketDetailsForm, 'name')\">\n          <span \n            #pocketNameError\n            bbDynamicId\n            data-role=\"user-details-phone-number-validation-msg\"\n            i18n=\"You need to specify a Pocket name@@managePockets.create.details.input.validationError.required\"\n          >\n            You need to specify a Pocket name\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      i18n=\"Continue@@managePockets.create.details.button.continue\"\n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >\n      Continue\n    </button>\n    <button \n      bbButton \n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel@@managePockets.create.details.button.cancel\"\n      (click)=\"abort()\"\n    >\n      Cancel\n    </button>\n  </div>\n</form>\n\n<bb-modal-ui [isOpen]=\"showDialog\" (cancel)=\"closeDialog()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <div class=\"bb-stack\">\n        <div class=\"bb-stack__item\">\n          <span class=\"modal-title\" i18n=\"Choose pocket image@@managePockets.create.details.modal.title\">\n            Choose Pocket Image\n          </span>\n        </div>\n        <div class=\"bb-stack__item--push-right\">\n          <button\n            bbButton\n            (click)=\"closeDialog()\"\n            class=\"bb-stack__item-sm\"\n            color=\"unstyled\"\n            aria-label=\"close dialog\"\n            i18n-aria-label=\"close dialog button@@managePockets.create.details.modal.button.close\"\n          >\n            <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <div class=\"bb-stack bb-stack--wrap\">\n        <div class=\"bb-stack__box-item bb-manage-pockets-create-details__modal-image-item\" *ngFor=\"let imageName of pocketImageList\" bbAccessibilityKeyboard (click)=\"changeType(imageName)\">\n          <div class=\"bb-block bb-block--sm\">\n            <img\n              class=\"bb-manage-pockets-create-details__pocket-image\"\n              [ngClass]=\"{ 'active': isTypeSelected(imageName)}\"\n              [src]=\"getImage(imageName) | async\" \n              alt=\"\" \n            >\n          </div>\n          <p class=\"bb-text-align-center bb-subtitle bb-text-bold\" [ngClass]=\"isTypeSelected(imageName) ? 'bb-text-primary' : 'bb-text-support'\">\n            {{imageName | bbRegexReplace: '-' : ' ' | titlecase}}\n          </p>\n        </div>\n      </div>\n    </ng-template>\n  </bb-modal-body-ui>\n</bb-modal-ui>","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nexport function nonZero(): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    const validAmount = control.value.length === 0 || control.value != 0;\n    return validAmount ? null : { isZero: true };\n  };\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { NewPocketItem } from '../../../manage-pockets-common/model/pocket-item.model';\nimport { nonZero } from '../../../manage-pockets-common/validators/form-validators';\nimport { ManagePocketsCreateBaseStep } from '../manage-pockets-create-base-step/manage-pockets-create-base-step';\n\n@Component({\n  selector: 'bb-manage-pockets-goals',\n  templateUrl: './manage-pockets-goals.component.html',\n})\nexport class ManagePocketsGoalsComponent extends ManagePocketsCreateBaseStep implements OnInit {\n  pocketGoalsForm?: FormGroup;\n  readonly today = new Date();\n  readonly minDate = new Date(\n    this.today.getFullYear(),\n    this.today.getMonth(),\n    this.today.getDate(),\n    0,\n    0,\n  ).toISOString();\n\n  ngOnInit(): void {\n    this.pocketGoalsForm = this.formBuilder.group({\n      amount: [this.partialPocket?.goal?.amountCurrency?.amount || '', nonZero()],\n      deadline: [this.partialPocket?.goal?.deadline || ''],\n    });\n  }\n\n  save() {\n    if (this.pocketGoalsForm!.valid) {\n      this.goNext(this.formatGoalsValues());\n    } else {\n      this.pocketGoalsForm!.markAllAsTouched();\n    }\n  }\n\n  private formatGoalsValues(): Partial<NewPocketItem> {\n    const { amount, deadline } = this.pocketGoalsForm!.value;\n    return { goal: { amountCurrency: { amount, currencyCode: this.journeyCurrency! }, deadline } };\n  }\n\n  constructor(private formBuilder: FormBuilder) {\n    super();\n  }\n}\n","<div class=\"bb-block bb-block--sm\">\n  <h2 i18n=\"Choose Your Goal Amount And Date@@managePockets.create.goals.header\">\n    Choose Your Goal Amount And Date\n  </h2>\n</div>\n<div class=\"bb-block bb-block--xl\">\n  <p class=\"bb-text-support bb-subtitle\" i18n=\"You can choose to skip this step by clicking 'Continue'@@managePockets.create.goals.description\">\n    You can choose to skip this step by clicking 'Continue'.\n  </p>\n</div>\n\n<form [formGroup]=\"pocketGoalsForm\" (submit)=\"save()\">\n  <div class=\"bb-block--lg\">\n\n    <div class=\"row\">\n      <div class=\"bb-block bb-block--xl col-md-6\">\n        <bb-amount-input-ui\n          label=\"Goal Amount\"\n          i18n-label=\"Goal Amount@@managePockets.create.goals.amount.label\"\n          [attr.aria-invalid]=\"!isFieldValid(pocketGoalsForm, 'amount')\"\n          [attr.aria-describedby]=\"goalAmountZeroError?.id\"\n          formControlName=\"amount\"\n          [currency]=\"journeyCurrency\"\n          placeholder=\"0.00\"\n          i18n-placeholder=\"0.00|Price example@@managePockets.create.goals.amount.placeholder\"\n        ></bb-amount-input-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid(pocketGoalsForm, 'amount')\">\n          <span i18n=\"Goal amount can only be bigger than 0 or empty@@managePockets.create.goals.amount.error.zero\" bbDynamicId #goalAmountZeroError>\n            Goal amount can only be bigger than 0 or empty\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"bb-block bb-block--sm col-md-6\">\n        <bb-input-datepicker-ui\n          label=\"Goal Date\"\n          i18n-label=\"Goal Date@@managePockets.create.goals.deadline.label\"\n          [attr.aria-invalid]=\"!isFieldValid(pocketGoalsForm, 'deadline')\"\n          datepickerDescribedby=\"{{datePickerDescription?.id}} {{datePickerError?.id}}\"\n          formControlName=\"deadline\"\n          [minDate]=\"minDate\"\n        ></bb-input-datepicker-ui>\n      </div>\n    </div>\n    <div bbDynamicId #datePickerError>\n      <bb-input-validation-message-ui [showErrors]=\"!isFieldValid(pocketGoalsForm, 'deadline')\">\n        <ng-container *ngFor=\"let error of getFieldErrors(pocketGoalsForm, 'deadline') | keyvalue; last as last\">\n          <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n            <div class=\"bb-block bb-block--md\">\n              <span i18n=\"Enter a valid date format@@managePockets.create.goals.deadline.error.invalidFormat\" *ngSwitchCase=\"'invalidDateFormat'\">\n                Enter a valid date format\n              </span>\n              <span i18n=\"Invalid goal date@@managePockets.create.goals.deadline.error.invalidDate\" *ngSwitchCase=\"'dateLessThanMinDate'\">\n                Invalid goal date\n              </span>\n            </div>\n          </ng-container>\n        </ng-container>\n      </bb-input-validation-message-ui>\n    </div>\n    <p\n      bbDynamicId\n      #datePickerDescription\n      i18n=\"It will help you to track progress towards your goal@@managePockets.create.goals.deadline.description\" \n      class=\"bb-text-support bb-subtitle\"\n    >\n      It will help you to track progress towards your goal\n    </p>\n\n  </div>\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      i18n=\"Continue@@managePockets.create.goals.button.continue\"\n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >\n      Continue\n    </button>\n    <button \n      bbButton\n      i18n=\"Back@@managePockets.create.goals.button.back\"\n      class=\"bb-button-bar__button\"\n      color=\"secondary\" \n      (click)=\"goBack()\"\n    >\n      Back\n    </button>\n    <button \n      bbButton \n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel@@managePockets.create.goals.button.cancel\"\n      (click)=\"abort()\"\n    >\n      Cancel\n    </button>\n  </div>\n</form>\n\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ManagePocketsBaseWrapperComponent } from '../../../manage-pockets-common/components/manage-pockets-base-wrapper/manage-pockets-base-wrapper.component';\nimport { NewPocketItem } from '../../../manage-pockets-common/model/pocket-item.model';\n\n@Component({\n  selector: 'bb-manage-pockets-create-wrapper',\n  templateUrl: './manage-pockets-create-wrapper.component.html',\n})\nexport class ManagePocketsCreateWrapperComponent extends ManagePocketsBaseWrapperComponent {\n  @Input() pocketImageList?: string[];\n  @Input() awaitingCreateResponse?: boolean;\n  @Output() newPocket = new EventEmitter<Partial<NewPocketItem>>();\n\n  private pocketStore: BehaviorSubject<Partial<NewPocketItem>> = new BehaviorSubject({});\n\n  partialPocket: Observable<Partial<NewPocketItem>> = this.pocketStore.asObservable();\n\n  goNext(partialPocket?: Partial<NewPocketItem>) {\n    this.setCurrentUserValue(partialPocket);\n    this.goToStep(this.currentStep + 1);\n  }\n\n  saveNewPocket(newPocketItem: Partial<NewPocketItem>) {\n    this.newPocket.emit(newPocketItem);\n  }\n\n  private setCurrentUserValue(value?: Partial<NewPocketItem>) {\n    this.pocketStore.next({ ...this.pocketStore.value, ...value });\n  }\n}\n","<div class=\"bb-block bb-block--lg row bb-stack--center\">\n  <bb-stepper-ui class=\"col-12 col-md-8\">\n    <bb-stepper-step-ui\n      label=\"Make It Yours\"\n      i18n-label=\"Make It Yours@@managePockets.create.wrapper.stepper.step1.label\"\n      [isActive]=\"currentStep >= 1\"\n      [isChecked]=\"currentStep > 1\"\n      [isCurrent]=\"currentStep === 1\"\n    ></bb-stepper-step-ui>\n    <bb-stepper-step-ui\n      label=\"What's Your Goal?\"\n      i18n-label=\"What's Your Goal?@@managePockets.create.wrapper.stepper.step2.label\"\n      [isActive]=\"currentStep >= 2\"\n      [isChecked]=\"currentStep > 2\"\n      [isCurrent]=\"currentStep === 2\"\n    ></bb-stepper-step-ui>\n    <bb-stepper-step-ui\n      label=\"Review Pocket\"\n      i18n-label=\"Review Pocket@@managePockets.create.wrapper.stepper.step3.label\"\n      [isActive]=\"currentStep >= 3\"\n      [isChecked]=\"currentStep > 3\"\n      [isCurrent]=\"currentStep === 3\"\n    ></bb-stepper-step-ui>\n  </bb-stepper-ui>\n</div>\n\n<bb-manage-pockets-create>\n  <bb-manage-pockets-details\n    *ngIf=\"currentStep === 1\"\n    [pocketImageList]=\"pocketImageList\"\n    [partialPocket]=\"partialPocket | async\"\n    (next)=\"goNext($event)\"\n    (back)=\"goBack()\"\n    (cancel)=\"showAbortDialog()\"\n  ></bb-manage-pockets-details>\n\n  <bb-manage-pockets-goals\n    *ngIf=\"currentStep === 2\"\n    [partialPocket]=\"partialPocket | async\"\n    [journeyCurrency]=\"journeyCurrency\"\n    (next)=\"goNext($event)\"\n    (back)=\"goBack()\"\n    (cancel)=\"showAbortDialog()\"\n  ></bb-manage-pockets-goals>\n\n  <bb-manage-pockets-confirmation\n    *ngIf=\"currentStep === 3\"\n    [partialPocket]=\"partialPocket | async\"\n    [journeyCurrency]=\"journeyCurrency\"\n    [awaitingCreateResponse]=\"awaitingCreateResponse\"\n    (newPocket)=\"saveNewPocket($event)\"\n    (back)=\"goBack()\"\n    (cancel)=\"showAbortDialog()\"\n  ></bb-manage-pockets-confirmation>\n</bb-manage-pockets-create>\n\n<bb-modal-ui [isOpen]=\"showDialog\" (cancel)=\"closeAbortDialog()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <div class=\"bb-stack\">\n        <div class=\"bb-stack__item\">\n          <span class=\"modal-title\" i18n=\"Discard Pocket?@@managePockets.create.wrapper.modal.header\">\n            Discard Pocket?\n          </span>\n        </div>\n        <div class=\"bb-stack__item--push-right\">\n          <button\n            bbButton\n            (click)=\"closeAbortDialog()\"\n            class=\"bb-stack__item-sm\"\n            color=\"unstyled\"\n            aria-label=\"close dialog\"\n            i18n-aria-label=\"close dialog button@@managePockets.create.wrapper.modal.button.close\"\n          >\n            <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span i18n=\"All this pocket information will be permanently lost.@@managePockets.create.wrapper.modal.body\">\n        All this pocket information will be permanently lost.\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"danger\"\n          class=\"bb-button-bar__button\"\n          (click)=\"confirmAbort()\"\n          i18n=\"Discard Pocket@@managePockets.create.wrapper.modal.button.confirm\"\n        >\n          Discard Pocket\n        </button>\n        <button\n          bbButton\n          color=\"link\"\n          class=\"bb-button-bar__button\"\n          (click)=\"closeAbortDialog()\"\n          i18n=\"Keep it@@managePockets.create.wrapper.modal.button.cancel\"\n        >\n          Keep it\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AmountInputModule } from '@backbase/ui-ang/amount-input';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { InputDatepickerModule } from '@backbase/ui-ang/input-datepicker';\nimport { InputTextModule } from '@backbase/ui-ang/input-text';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { StepperModule } from '@backbase/ui-ang/stepper';\nimport { ManagePocketsCommonModule } from '../manage-pockets-common/manage-pockets-common.module';\nimport { ManagePocketsConfirmationComponent } from './components/manage-pockets-confirmation/manage-pockets-confirmation.component';\nimport { ManagePocketsCreateWrapperComponent } from './components/manage-pockets-create-wrapper/manage-pockets-create-wrapper.component';\nimport { ManagePocketsCreateComponent } from './components/manage-pockets-create/manage-pockets-create.component';\nimport { ManagePocketsDetailsComponent } from './components/manage-pockets-details/manage-pockets-details.component';\nimport { ManagePocketsGoalsComponent } from './components/manage-pockets-goals/manage-pockets-goals.component';\n\nconst components = [\n  ManagePocketsCreateComponent,\n  ManagePocketsCreateWrapperComponent,\n  ManagePocketsDetailsComponent,\n  ManagePocketsGoalsComponent,\n  ManagePocketsConfirmationComponent,\n];\nconst modules = [\n  AmountInputModule,\n  FormsModule,\n  IconModule,\n  InputDatepickerModule,\n  InputTextModule,\n  InputValidationMessageModule,\n  LoadButtonModule,\n  ModalModule,\n  ReactiveFormsModule,\n  StepperModule,\n];\n\n@NgModule({\n  declarations: [...components],\n  imports: [\n    CommonModule,\n    ManagePocketsCommonModule,\n    ...modules,\n    BackbaseCoreModule.withConfig({\n      classMap: { ManagePocketsCreateWrapperComponent },\n    }),\n  ],\n  exports: [...components, ...modules],\n})\nexport class ManagePocketsCreateModule {}\n","import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\n\nexport const ManagePocketsJourneyConfigurationToken = new InjectionToken<ManagePocketsJourneyConfiguration>(\n  'ManagePocketsJourneyConfiguration injection token',\n);\n\nexport interface ManagePocketsJourneyConfiguration {\n  displayHeaders: boolean;\n  journeyCurrency: string;\n  pocketImageList: string[];\n}\n\nconst configDefaults: ManagePocketsJourneyConfiguration = {\n  displayHeaders: true,\n  journeyCurrency: 'EUR',\n  pocketImageList: [\n    'home',\n    'travel',\n    'rent',\n    'holidays',\n    'savings',\n    'utilities',\n    'new-car',\n    'insurance',\n    'new-phone',\n    'entertainment',\n    'gift',\n    'business',\n    'custom',\n  ],\n};\n\nexport const getDefaultConfigValues = (config: ManagePocketsJourneyConfiguration) => ({\n  ...configDefaults,\n  ...(config || {}),\n});\n\n@Injectable()\nexport class ManagePocketsJourneyConfigService {\n  private _config: ManagePocketsJourneyConfiguration;\n\n  constructor(@Optional() @Inject(ManagePocketsJourneyConfigurationToken) config: ManagePocketsJourneyConfiguration) {\n    this._config = getDefaultConfigValues(config);\n  }\n\n  get defaults(): ManagePocketsJourneyConfiguration {\n    return configDefaults;\n  }\n\n  /**\n   * Defines if the journey display header on each view\n   */\n  get displayHeaders(): boolean {\n    return this._config.displayHeaders;\n  }\n\n  /**\n   * Names for pockets images, used to both name the type and look for the asset\n   */\n  get pocketImageList(): string[] {\n    return this._config.pocketImageList;\n  }\n\n  /**\n   * Currency used across the whole journey\n   */\n  get journeyCurrency(): string {\n    return this._config.journeyCurrency;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ManagePocketsJourneyConfigService } from './manage-pockets-journey-config.service';\n\n@Component({\n  selector: 'bb-manage-pockets-journey',\n  template: '<router-outlet></router-outlet>',\n  providers: [ManagePocketsJourneyConfigService],\n})\nexport class ManagePocketsJourneyComponent {}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'bb-manage-pockets-empty-list',\n  templateUrl: `./manage-pockets-empty-list.component.html`,\n})\nexport class ManagePocketsEmptyListComponent {\n  @Input() emptyStateImageUrl?: string;\n\n  @Output() readonly createPocket = new EventEmitter();\n\n  goToCreatePocket() {\n    this.createPocket.emit();\n  }\n}\n","<div class=\"bb-card bb-card--lg\">\n  <div class=\"bb-card__body bb-text-align-center\">\n    <div class=\"bb-block bb-block--lg\">\n      <img \n        class=\"img-fluid\" \n        *ngIf=\"!!emptyStateImageUrl\" \n        [src]=\"emptyStateImageUrl\"\n        alt=\"empty-state-image\"\n      />\n    </div>\n    <h2 \n      class=\"bb-block bb-block--sm\"\n      data-role=\"empty-state-message\"\n      i18n=\"Manage pockets empty state header@@managePockets.list.empty.state.header\"\n    >\n      Save More With Pockets!\n    </h2>\n    <div class=\"bb-block bb-block--lg\">\n      <span\n        class=\"bb-text-support text-small\"\n        data-role=\"empty-state-description\"\n        i18n=\"Manage pockets empty state description@managePockets.list.empty.state.description\"\n      >\n        Set up a dedicated space to help you stay on track with your saving goals\n      </span>\n    </div>\n    <div class=\"bb-block\">\n      <button bbButton color=\"primary\" (click)=\"goToCreatePocket()\">\n        <bb-icon-ui name=\"add\"></bb-icon-ui> \n        <span i18n=\"Create new pocket button@@managePockets.list.empty.state.createPocket.button\">\n          Create Pocket\n        </span>\n      </button>\n    </div>\n  </div>\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { PocketItem, PocketTransferItem } from '../../../manage-pockets-common/model/pocket-item.model';\n\n@Component({\n  selector: 'bb-manage-pockets-list',\n  templateUrl: `./manage-pockets-list.component.html`,\n})\nexport class ManagePocketsListComponent {\n  @Input() pocketList?: PocketItem[];\n  @Output() pocketTransfer = new EventEmitter<PocketTransferItem>();\n\n  goToPocketTransfer(transferType: PocketTransferItem) {\n    this.pocketTransfer.emit(transferType);\n  }\n}\n","<ng-container *ngFor=\"let pocket of pocketList\">\n  <div class=\"bb-block bb-block--xl\">\n    <bb-manage-pockets-card\n      [pocket]=\"pocket\"\n      (pocketTransfer)=\"goToPocketTransfer($event)\"\n    ></bb-manage-pockets-card>\n  </div>\n</ng-container>","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { PocketResponse, PocketTransferItem } from '../../../manage-pockets-common/model/pocket-item.model';\n\n@Component({\n  selector: 'bb-manage-pockets-list-wrapper',\n  templateUrl: `manage-pockets-list-wrapper.component.html`,\n})\nexport class ManagePocketsListWrapperComponent {\n  @Input() pocketList?: PocketResponse;\n  @Input() pocketListApiError?: boolean;\n  @Input() emptyStateImageUrl?: string;\n  @Output() readonly refreshData = new EventEmitter<void>();\n  @Output() readonly createPocket = new EventEmitter();\n  @Output() pocketTransfer = new EventEmitter<PocketTransferItem>();\n\n  goToPocketTransfer(transferType: PocketTransferItem) {\n    this.pocketTransfer.emit(transferType);\n  }\n\n  onRefreshData() {\n    this.refreshData.emit();\n  }\n\n  goToCreatePocket() {\n    this.createPocket.emit();\n  }\n}\n","<ng-container *ngIf=\"!pocketListApiError; else errorState\">\n  <ng-container *ngIf=\"pocketList?.pockets?.length > 0; else emptyState\">\n    <div class=\"bb-block bb-block--lg bb-card bb-card--sm\">\n      <div class=\"bb-card__body\">\n        <div class=\"bb-stack\">\n          <div class=\"bb-stack__item bb-stack__item--fill bb-stack\">\n            <bb-icon-ui name=\"attach-money\" size=\"lg\"></bb-icon-ui>\n            <h5 \n              class=\"bb-block bb-block--no-margin\"\n              i18n=\"Plan to save something else?|New Pocket title@@managePockets.component.listWrapper.header.title\"\n            >\n              Plan to save for something else?\n            </h5>\n          </div>\n          <div class=\"bb-stack__item\">\n            <button bbButton color=\"primary\" (click)=\"goToCreatePocket()\">\n              <bb-icon-ui name=\"add\" cropped></bb-icon-ui> \n              <span i18n=\"Create new pocket button@@managePockets.component.listWrapper.header.createPocket.button\">\n                Create Pocket\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <bb-manage-pockets-list\n      [pocketList]=\"pocketList.pockets\"\n      (pocketTransfer)=\"goToPocketTransfer($event)\"\n    ></bb-manage-pockets-list>\n  </ng-container>\n</ng-container>\n\n<ng-template #emptyState>\n  <bb-manage-pockets-empty-list [emptyStateImageUrl]=\"emptyStateImageUrl\" (createPocket)=\"goToCreatePocket()\"></bb-manage-pockets-empty-list>\n</ng-template>\n\n<ng-template #errorState>\n  <div class=\"card\">\n    <div class=\"card-body bb-state-container\">\n      <bb-empty-state-ui\n        iconModifier=\"error-outline\"\n        iconColor=\"dark\"\n        iconSize='xxl'\n        title=\"Page couldn't load\"\n        i18n-title=\"Error state title@@managePockets.component.listWrapper.errorState.title\"\n        subtitle=\"Try to reload the page or contact the system administrator.\"\n        i18n-subtitle=\"Error state message@@managePockets.component.listWrapper.errorState.message\"\n      ></bb-empty-state-ui>\n      <div class=\"bb-state-container__footer\">\n        <button \n          bbButton \n          color=\"primary\" \n          i18n=\"Reload button text@@managePockets.component.listWrapper.errorState.reloadButton\"\n          (click)=\"onRefreshData()\"\n        >\n          Reload\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ManagePocketsCommonModule } from '../manage-pockets-common/manage-pockets-common.module';\nimport { ManagePocketsEmptyListComponent } from './components/manage-pockets-empty-list/manage-pockets-empty-list.component';\nimport { ManagePocketsListWrapperComponent } from './components/manage-pockets-list-wrapper/manage-pockets-list-wrapper.component';\nimport { ManagePocketsListComponent } from './components/manage-pockets-list/manage-pockets-list.component';\n\nconst components = [ManagePocketsEmptyListComponent, ManagePocketsListComponent, ManagePocketsListWrapperComponent];\nconst modules = [LoadingIndicatorModule];\n\n@NgModule({\n  declarations: [...components],\n  imports: [\n    CommonModule,\n    ManagePocketsCommonModule,\n    ...modules,\n    BackbaseCoreModule.withConfig({\n      classMap: { ManagePocketsListWrapperComponent },\n    }),\n  ],\n  exports: [...components, ...modules],\n})\nexport class ManagePocketsListModule {}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { ManagePocketsBaseStep } from '../../../manage-pockets-common/components/manage-pockets-base-step/manage-pockets-base-step';\nimport { AccountItem } from '../../../manage-pockets-common/model/accounts.model';\nimport { PaymentFormItem } from '../../../manage-pockets-common/model/payment.model';\n\n@Component({\n  selector: 'bb-manage-pockets-transfers-details',\n  templateUrl: './manage-pockets-transfers-details.component.html',\n})\nexport class ManagePocketsTransfersDetailsComponent extends ManagePocketsBaseStep implements OnInit {\n  @Input() accountList?: AccountItem[];\n  @Input() journeyCurrency?: string;\n  @Output() accountChange = new EventEmitter<AccountItem>();\n  @Output() next = new EventEmitter<PaymentFormItem>();\n  transferDetailsForm?: FormGroup;\n\n  ngOnInit(): void {\n    this.transferDetailsForm = this.formBuilder.group({\n      amount: [\n        this.partialNewPayment?.amount || '',\n        Validators.compose([\n          Validators.required,\n          Validators.min(0.01),\n          this.validatorsSelector(this.partialNewPayment?.account),\n        ]),\n      ],\n    });\n  }\n\n  goNext() {\n    if (this.transferDetailsForm!.valid) {\n      const paymentForm: PaymentFormItem = {\n        ...this.partialNewPayment,\n        amount: this.transferDetailsForm!.get('amount')!.value,\n      };\n\n      this.next.emit(paymentForm);\n    } else {\n      this.transferDetailsForm!.markAllAsTouched();\n    }\n  }\n\n  onAccountSelection(account: AccountItem) {\n    const control = this.transferDetailsForm!.get('amount');\n    control!.setValidators([Validators.required, Validators.min(0.01), this.validatorsSelector(account)]);\n    control!.updateValueAndValidity();\n    this.accountChange.emit(account);\n  }\n\n  private validatorsSelector(account?: AccountItem): ValidatorFn {\n    const pocketBalance = this.partialNewPayment?.pocketInfo?.pocket.balance.amount || 0;\n    return this.partialNewPayment?.pocketInfo?.transferType === this.transferTypesEnum.ADD\n      ? Validators.max(account?.balance || 0)\n      : Validators.max(Number(pocketBalance));\n  }\n\n  constructor(private formBuilder: FormBuilder) {\n    super();\n  }\n}\n","<form [formGroup]=\"transferDetailsForm\" (submit)=\"goNext()\">\n  <div class=\"bb-block bb-block--xl\">\n\n    <label>\n      {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.details.addMoneyHeader : pocketLocalizations.transfers.details.withdrawMoneyHeader }}\n    </label>\n\n    <bb-account-selector-ui\n      [items]=\"accountList\"\n      [selectedItems]=\"partialNewPayment?.account ?? ''\"\n      [closeOnSelect]=\"true\"\n      [highlight]=\"false\"\n      [required]=\"true\"\n      dropdownPosition=\"bottom\"\n      placeholder=\"Select an Account\"\n      i18n-placeholder=\"Select an Account@@managePockets.transfers.details.accountSelector.placeholder\"\n      (change)=\"onAccountSelection($event)\"\n    ></bb-account-selector-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <div class=\"bb-stack row\">\n      <div class=\"bb-stack__item col-6\">\n        <div class=\"bb-block bb-block--sm\">\n          <bb-amount-input-ui\n            formControlName=\"amount\"\n            label=\"Amount\"\n            i18n-label=\"Amount@@managePockets.transfers.details.amount.placeholder\"\n            [attr.aria-invalid]=\"!isFieldValid(transferDetailsForm, 'amount')\"\n            [currency]=\"journeyCurrency\"\n            placeholder=\"0.00\"\n            i18n-placeholder=\"0.00|Price example@@managePockets.transfers.details.amount.placeholder\"\n          ></bb-amount-input-ui>\n        </div>\n        <div class=\"bb-subtitle bb-text-support\" i18n=\"Available balance|Value includes a formatted currendy@@managePockets.transfers.details.availableBalance\" *ngIf=\"partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.WITHDRAW\">\n          <span>Available Balance: </span>\n          <bb-amount-ui\n            [amount]=\"partialNewPayment?.pocketInfo?.pocket?.balance?.amount\"\n            [currency]=\"partialNewPayment?.pocketInfo?.pocket?.balance?.currencyCode\"\n          ></bb-amount-ui>\n        </div>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid(transferDetailsForm, 'amount')\" >\n          <ng-container *ngFor=\"let error of getFieldErrors(transferDetailsForm, 'amount') | keyvalue; last as last\">\n            <ng-container *ngIf=\"last\" [ngSwitch]=\"error.key\">\n              <span *ngSwitchCase=\"'max'\">\n                {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.details.addMoneyError : pocketLocalizations.transfers.details.withdrawMoneyError }}\n              </span>\n              <span i18n=\"Amount is required@@managePockets.transfers.details.amount.error.required\" *ngSwitchDefault>\n                Amount is required\n              </span>\n            </ng-container>\n          </ng-container>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bb-button-bar\">\n    <button \n      bbButton \n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >\n      {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.details.addMoneyContinueButton : pocketLocalizations.transfers.details.withdrawMoneyContinueButton }}\n    </button>\n    <button \n      bbButton \n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel@@managePockets.transfers.details.button.cancel\"\n      (click)=\"abort()\"\n    >\n      Cancel\n    </button>\n  </div>\n</form>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ManagePocketsBaseStep } from '../../../manage-pockets-common/components/manage-pockets-base-step/manage-pockets-base-step';\nimport { PaymentFormItem } from '../../../manage-pockets-common/model/payment.model';\n\n@Component({\n  selector: 'bb-manage-pockets-transfers-review',\n  templateUrl: './manage-pockets-transfers-review.component.html',\n})\nexport class ManagePocketsTransfersReviewComponent extends ManagePocketsBaseStep {\n  @Input() awaitingTransferResponse?: boolean;\n  @Output() newTransfer = new EventEmitter<PaymentFormItem>();\n\n  performTransfer() {\n    this.newTransfer.emit(this.partialNewPayment);\n  }\n}\n","<div class=\"bb-block bb-block--lg\">\n  <h2>{{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.review.addMoneyHeader : pocketLocalizations.transfers.review.withdrawMoneyHeader }}</h2>\n</div>\n\n<div class=\"bb-item-log bb-block bb-block--lg\">\n  <div class=\"bb-item-log__record bb-item-log__record--has-bullet\">\n    <div class=\"bb-item-log-record__bullet-icon bb-item-log-record__bullet-icon--filled bb-item-log-record__bullet-icon--spacing-md\"></div>\n    <div class=\"bb-block bb-block--md bb-item-log-record__details\">\n      <div class=\"bb-text-bold bb-block bb-block--sm\" i18n=\"From@@managePockets.transfers.review.itemLog.from.label\">\n        From\n      </div>\n      <ng-container *ngIf=\"partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD; then accountSlot; else pocketSlot\"></ng-container>\n    </div>\n  </div>\n  <div class=\"bb-item-log__record bb-item-log__record--has-bullet\">\n    <div class=\"bb-item-log-record__bullet-icon bb-item-log-record__bullet-icon--spacing-md\"></div>\n    <div class=\"bb-item-log-record__details\">\n      <div class=\"bb-text-bold bb-block bb-block--sm\" i18n=\"To@@managePockets.transfers.review.itemLog.to.label\">\n        To\n      </div>\n      <ng-container *ngIf=\"partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD; then pocketSlot; else accountSlot\"></ng-container>\n    </div>\n  </div>\n</div>\n\n<div class=\"bb-block bb-block--xl\">\n  <div class=\"bb-block bb-block--sm\">\n    <span class=\"bb-text-semi-bold\" i18n=\"Amount@@managePockets.transfers.review.amount.header\">\n      Amount\n    </span>\n  </div>\n  <bb-amount-ui\n    class=\"bb-heading-1\"\n    [amount]=\"partialNewPayment?.amount\"\n    [currency]=\"journeyCurrency\"\n  ></bb-amount-ui>\n</div>\n\n<div class=\"bb-button-bar\">\n  <bb-load-button-ui\n    i18n=\"Confirm Transfer@@managePockets.transfers.review.button.confirmTransfer\"\n    color=\"primary\"\n    class=\"bb-button-bar__button\"\n    [isLoading]=\"awaitingTransferResponse\"\n    (click)=\"!awaitingTransferResponse && performTransfer()\"\n  >\n    Confirm Transfer\n  </bb-load-button-ui>\n  <button \n    bbButton \n    color=\"secondary\"\n    class=\"bb-button-bar__button\"\n    i18n=\"Back@@managePockets.transfers.review.button.back\"\n    (click)=\"goBack()\"\n  >\n    Back\n  </button>\n  <button \n    bbButton \n    color=\"link\"\n    class=\"bb-button-bar__button bb-button-bar__button--across\"\n    i18n=\"Cancel@@managePockets.transfers.review.button.cancel\"\n    (click)=\"abort()\"\n  >\n    Cancel\n  </button>\n</div>\n\n<ng-template #pocketSlot>\n  <div class=\"break-word bb-highlight bb-block bb-block--xs\">\n    {{partialNewPayment?.pocketInfo?.pocket?.name}}\n  </div>\n  <div class=\"bb-text-support bb-subtitle break-word contextual-alternates-off\" i18n=\"Pocket@@managePockets.transfers.review.itemLog.to.details\">\n    Pocket\n  </div>\n</ng-template>\n\n<ng-template #accountSlot>\n  <div class=\"break-word bb-highlight bb-block bb-block--xs\">\n    {{partialNewPayment?.account?.name}}\n  </div>\n  <div class=\"bb-text-support bb-subtitle break-word contextual-alternates-off\">\n    {{partialNewPayment?.account?.number}}\n  </div>\n</ng-template>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ManagePocketsBaseWrapperComponent } from '../../../manage-pockets-common/components/manage-pockets-base-wrapper/manage-pockets-base-wrapper.component';\nimport { POCKET_LOCALIZATIONS } from '../../../manage-pockets-common/localization/manage-pockets-journey.localizations';\nimport { AccountItem } from '../../../manage-pockets-common/model/accounts.model';\nimport { PaymentFormItem } from '../../../manage-pockets-common/model/payment.model';\nimport { PocketTransferItem, TransferTypeEnum } from '../../../manage-pockets-common/model/pocket-item.model';\n\n@Component({\n  selector: 'bb-manage-pockets-transfers-wrapper',\n  templateUrl: './manage-pockets-transfers-wrapper.component.html',\n})\nexport class ManagePocketsTransfersWrapperComponent extends ManagePocketsBaseWrapperComponent implements OnInit {\n  @Input() accountList?: AccountItem[];\n  @Input() awaitingTransferResponse?: boolean;\n  @Input() partialNewPayment?: PaymentFormItem;\n  @Input() pocketInfo?: PocketTransferItem;\n  @Output() newTransfer = new EventEmitter<PaymentFormItem>();\n  transferTypesEnum = TransferTypeEnum;\n  pocketLocalizations = POCKET_LOCALIZATIONS;\n\n  ngOnInit(): void {\n    this.partialNewPayment = this.generatePaymentInfo();\n  }\n\n  accountChange(account: AccountItem) {\n    this.partialNewPayment = {\n      ...this.partialNewPayment!,\n      account,\n    };\n  }\n\n  goNext(paymentData: PaymentFormItem) {\n    this.partialNewPayment = paymentData;\n    this.goToStep(this.currentStep + 1);\n  }\n\n  performTransfer(paymentInfo: PaymentFormItem) {\n    this.newTransfer.emit(paymentInfo);\n  }\n\n  private generatePaymentInfo(): PaymentFormItem {\n    return {\n      ...this.partialNewPayment,\n      account: this.accountList?.[0],\n      currencyCode: this.journeyCurrency,\n      pocketInfo: this.pocketInfo,\n    };\n  }\n}\n","<bb-manage-pockets-transfers-details\n  *ngIf=\"currentStep === 1\"\n  [accountList]=\"accountList\"\n  [journeyCurrency]=\"journeyCurrency\"\n  [partialNewPayment]=\"partialNewPayment\"\n  (accountChange)=\"accountChange($event)\"\n  (cancel)=\"showAbortDialog()\"\n  (next)=\"goNext($event)\"\n></bb-manage-pockets-transfers-details>\n<bb-manage-pockets-transfers-review\n  *ngIf=\"currentStep === 2\"\n  [awaitingTransferResponse]=\"awaitingTransferResponse\"\n  [journeyCurrency]=\"journeyCurrency\"\n  [partialNewPayment]=\"partialNewPayment\"\n  [pocketInfo]=\"pocketInfo\"\n  (back)=\"goBack()\"\n  (cancel)=\"showAbortDialog()\"\n  (newTransfer)=\"performTransfer($event)\"\n></bb-manage-pockets-transfers-review>\n\n<bb-modal-ui [isOpen]=\"showDialog\" (cancel)=\"closeAbortDialog()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <div class=\"bb-stack\">\n        <div class=\"bb-stack__item\">\n          <span class=\"modal-title\">\n            {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.wrapper.addMoneyModalHeader : pocketLocalizations.transfers.wrapper.withdrawMoneyModalHeader }}\n          </span>\n          <ng-container *ngIf=\"partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD; then addMoneyModalHeader; else withdrawMoneyModalHeader\"></ng-container>\n        </div>\n        <div class=\"bb-stack__item--push-right\">\n          <button\n            bbButton\n            (click)=\"closeAbortDialog()\"\n            class=\"bb-stack__item-sm\"\n            color=\"unstyled\"\n            aria-label=\"close dialog\"\n            i18n-aria-label=\"close dialog button@@managePockets.transfers.wrapper.modal.button.close\"\n          >\n            <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span>\n        {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.wrapper.addMoneyModalBody : pocketLocalizations.transfers.wrapper.withdrawMoneyModalBody }}\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"danger\"\n          class=\"bb-button-bar__button\"\n          (click)=\"confirmAbort()\"\n        >\n          {{ partialNewPayment?.pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.transfers.wrapper.addMoneyModalConfirm : pocketLocalizations.transfers.wrapper.withdrawMoneyModalConfirm }}\n        </button>\n        <button\n          bbButton\n          color=\"link\"\n          class=\"bb-button-bar__button\"\n          (click)=\"closeAbortDialog()\"\n          i18n=\"Keep it@@managePockets.transfers.wrapper.modal.button.cancel\"\n        >\n          Keep it\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AccountSelectorModule } from '@backbase/ui-ang/account-selector';\nimport { AmountInputModule } from '@backbase/ui-ang/amount-input';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { ManagePocketsCommonModule } from '../manage-pockets-common/manage-pockets-common.module';\nimport { ManagePocketsTransfersDetailsComponent } from './components/manage-pockets-transfers-details/manage-pockets-transfers-details.component';\nimport { ManagePocketsTransfersReviewComponent } from './components/manage-pockets-transfers-review/manage-pockets-transfers-review.component';\nimport { ManagePocketsTransfersWrapperComponent } from './components/manage-pockets-transfers-wrapper/manage-pockets-transfers-wrapper.component';\n\nconst components = [\n  ManagePocketsTransfersReviewComponent,\n  ManagePocketsTransfersWrapperComponent,\n  ManagePocketsTransfersDetailsComponent,\n];\n\nconst modules = [\n  AccountSelectorModule,\n  AmountInputModule,\n  InputValidationMessageModule,\n  FormsModule,\n  LoadButtonModule,\n  ModalModule,\n  ReactiveFormsModule,\n];\n\n@NgModule({\n  declarations: [...components],\n  imports: [\n    ...modules,\n    CommonModule,\n    ManagePocketsCommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { ManagePocketsTransfersWrapperComponent },\n    }),\n  ],\n  exports: [...components, ...modules],\n})\nexport class ManagePocketsTransfersModule {}\n","import { ChangeDetectorRef, Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { NotificationMessage, NotificationModifier } from '../manage-pockets-common/model/notifications.model';\nimport { NewPocketItem } from '../manage-pockets-common/model/pocket-item.model';\nimport { ManagePocketsService } from '../manage-pockets-common/services/manage-pockets.service';\nimport { ManagePocketsJourneyConfigService } from '../manage-pockets-journey-config.service';\n\n@Component({\n  selector: 'bb-manage-pockets-create-view',\n  templateUrl: './manage-pockets-create-view.component.html',\n})\nexport class ManagePocketsCreateViewComponent {\n  awaitingCreateResponse = false;\n\n  abort() {\n    this.navigateToList();\n  }\n\n  saveNewPocket(newPocketItem: Partial<NewPocketItem>) {\n    this.awaitingCreateResponse = true;\n\n    const onSuccess = () => {\n      this.awaitingCreateResponse = false;\n      this.cd.markForCheck();\n      this.pushNotification(\n        $localize`:Success pocket creation toast message@@managePockets.create.toast.success.message:Your \"${newPocketItem.name}:pocket name:\" pocket is created.`,\n        'success',\n        $localize`:Success pocket creation toast header@@managePockets.create.toast.success.header:Your Pocket is Ready!`,\n      );\n      this.navigateToList();\n    };\n\n    const onError = () => {\n      this.awaitingCreateResponse = false;\n      this.cd.markForCheck();\n      this.pushNotification(\n        $localize`:Error pocket creation toast message@@managePockets.create.toast.error.message:Unable to proceed, please try again.`,\n        'error',\n        $localize`:Error pocket creation toast header@@managePockets.create.toast.error.header:Failed to Create Pocket`,\n      );\n    };\n\n    this.managePocketsService.postPocket(newPocketItem).subscribe(onSuccess, onError);\n  }\n\n  private navigateToList() {\n    this.router.navigate(['../list'], { relativeTo: this.route });\n  }\n\n  private pushNotification(\n    message: NotificationMessage,\n    modifier?: NotificationModifier,\n    header?: NotificationMessage,\n  ) {\n    this.notificationService.showNotification({\n      header,\n      message,\n      modifier,\n      dismissible: true,\n      ttl: 5000,\n    });\n  }\n\n  constructor(\n    private readonly managePocketsService: ManagePocketsService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n    private readonly cd: ChangeDetectorRef,\n    private readonly notificationService: NotificationService,\n    readonly configService: ManagePocketsJourneyConfigService,\n  ) {}\n}\n","<div class=\"heading-widget bb-heading-widget px-0\" *ngIf=\"configService.displayHeaders\">\n  <bb-header-ui\n    headingType=\"h1\"\n    headingClasses=\"bb-heading-widget__heading\"\n    heading=\"Create Pocket\"\n    i18n-heading=\"Create Pocket heading@@managePockets.createView.heading.title\"\n  ></bb-header-ui>\n</div>\n\n<bb-manage-pockets-create-wrapper\n  (cancel)=\"abort()\"\n  (newPocket)=\"saveNewPocket($event)\"\n  [pocketImageList]=\"configService.pocketImageList\"\n  [journeyCurrency]=\"configService.journeyCurrency\"\n  [awaitingCreateResponse]=\"awaitingCreateResponse\"\n></bb-manage-pockets-create-wrapper>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\nimport { PocketResponse, PocketTransferItem } from '../manage-pockets-common/model/pocket-item.model';\nimport { ManagePocketsService } from '../manage-pockets-common/services/manage-pockets.service';\nimport { ManagePocketsJourneyConfigService } from '../manage-pockets-journey-config.service';\n\n@Component({\n  selector: 'bb-manage-pockets-list-view',\n  templateUrl: './manage-pockets-list-view.component.html',\n})\nexport class ManagePocketsListViewComponent implements OnInit {\n  /**\n   * Pocket list response, can contain either succesfull request or API error\n   */\n  pocketList$?: Observable<PocketResponse>;\n  /**\n   * Api Error status observable. Will return `true` is API fails for any reason\n   */\n  apiErrorStatus$? = this.managePocketsService.pocketListApiError$;\n\n  ngOnInit() {\n    this.refreshPocketList();\n  }\n\n  refreshPocketList() {\n    this.pocketList$ = this.managePocketsService.retrievePocketList();\n  }\n\n  goToCreatePocket() {\n    this.router.navigate(['../create'], { relativeTo: this.route });\n  }\n\n  goToPocketTransfer(pocketTransferItem: PocketTransferItem) {\n    this.router.navigate(['../transfer'], { state: pocketTransferItem, relativeTo: this.route });\n  }\n\n  private resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-manage-pockets-journey-ang',\n    getURIFromAssetID: (assetId: string) => assetId,\n  });\n\n  get imageEmptyStateUrl(): Observable<string> {\n    return this.resolveAsset('manage-pockets-empty-state-img.webp');\n  }\n\n  constructor(\n    private readonly managePocketsService: ManagePocketsService,\n    private readonly assetsService: AssetsService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n    readonly configService: ManagePocketsJourneyConfigService,\n  ) {}\n}\n","<div class=\"heading-widget bb-heading-widget px-0\" *ngIf=\"configService.displayHeaders\">\n  <bb-header-ui\n    headingType=\"h1\"\n    headingClasses=\"bb-heading-widget__heading\"\n    heading=\"Pockets\"\n    i18n-heading=\"Pockets heading@@managePockets.listView.heading.title\"\n  ></bb-header-ui>\n</div>\n\n<bb-manage-pockets-list-wrapper\n  *ngIf=\"pocketList$ | async as pocketList; else loadingState\"\n  [pocketList]=\"pocketList\"\n  [pocketListApiError]=\"apiErrorStatus$ | async\"\n  [emptyStateImageUrl]=\"imageEmptyStateUrl | async\"\n  (createPocket)=\"goToCreatePocket()\"\n  (pocketTransfer)=\"goToPocketTransfer($event)\"\n  (refreshData)=\"refreshPocketList()\"\n></bb-manage-pockets-list-wrapper>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui \n    loaderSize=\"lg\" \n    text=\"Loading your pockets...\"\n    i18n-text=\"Loading your pockets...|Text for the loading indicator@@managePockets.listView.loading.indicator.text\"\n  ></bb-loading-indicator-ui>\n</ng-template>","import { PostPaymentOrdersRequestParams } from '@backbase/data-ang/payment-order';\nimport { pocketFormatDate } from '../helpers/formatting.helper';\nimport { AccountItem } from './accounts.model';\nimport { PocketTransferItem, TransferTypeEnum } from './pocket-item.model';\n\nexport interface PaymentFormItem {\n  account?: AccountItem;\n  amount?: number;\n  currencyCode?: string;\n  pocketInfo?: PocketTransferItem;\n}\n\nexport enum PaymentTypeEnum {\n  POCKET_TRANSFER = 'POCKET_TRANSFER',\n}\n\nexport enum PaymentRoleEnum {\n  CREDITOR = 'CREDITOR',\n  DEBTOR = 'DEBTOR',\n}\n\nexport enum SchemeNameTypeEnum {\n  IBAN = 'IBAN',\n  BBAN = 'BBAN',\n  ID = 'ID',\n  EXTERNAL_ID = 'EXTERNAL_ID',\n  EMAIL = 'EMAIL',\n  MOBILE = 'MOBILE',\n}\n\nexport namespace PaymentOrderNamespace {\n  export function buildPaymentOrderPostRequest(paymentInfo: PaymentFormItem): PostPaymentOrdersRequestParams {\n    return {\n      paymentOrdersPost: {\n        paymentType: PaymentTypeEnum.POCKET_TRANSFER,\n        batchBooking: false,\n        requestedExecutionDate: pocketFormatDate(),\n        originatorAccount: {\n          identification: {\n            identification: paymentInfo.account?.id || '',\n            schemeName: SchemeNameTypeEnum.ID,\n          },\n        },\n        transferTransactionInformation: {\n          counterparty: {\n            name: paymentInfo.pocketInfo?.pocket?.name || '',\n            role:\n              paymentInfo.pocketInfo?.transferType === TransferTypeEnum.ADD\n                ? PaymentRoleEnum.CREDITOR\n                : PaymentRoleEnum.DEBTOR,\n          },\n          counterpartyAccount: {\n            identification: {\n              identification: paymentInfo.pocketInfo?.pocket?.arrangementId || '',\n              schemeName: SchemeNameTypeEnum.ID,\n            },\n          },\n          instructedAmount: {\n            amount: paymentInfo?.amount?.toString() || '',\n            currencyCode: paymentInfo?.currencyCode || '',\n          },\n        },\n      },\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PaymentOrdersHttpService, PaymentOrdersPostResponse } from '@backbase/data-ang/payment-order';\nimport { Observable } from 'rxjs';\nimport { PaymentFormItem, PaymentOrderNamespace } from '../model/payment.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PaymentOrderService {\n  transferMoney(paymentInfo: PaymentFormItem): Observable<PaymentOrdersPostResponse> {\n    const payload = PaymentOrderNamespace.buildPaymentOrderPostRequest(paymentInfo);\n    return this.paymentOrderService.postPaymentOrders(payload);\n  }\n\n  constructor(private readonly paymentOrderService: PaymentOrdersHttpService) {}\n}\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NotificationService } from '@backbase/ui-ang/notification';\nimport { Observable } from 'rxjs';\nimport { POCKET_LOCALIZATIONS } from '../manage-pockets-common/localization/manage-pockets-journey.localizations';\nimport { AccountItem } from '../manage-pockets-common/model/accounts.model';\nimport { NotificationMessage, NotificationModifier } from '../manage-pockets-common/model/notifications.model';\nimport { PaymentFormItem } from '../manage-pockets-common/model/payment.model';\nimport { PocketTransferItem, TransferTypeEnum } from '../manage-pockets-common/model/pocket-item.model';\nimport { ManagePocketsService } from '../manage-pockets-common/services/manage-pockets.service';\nimport { PaymentOrderService } from '../manage-pockets-common/services/payment-order.service';\nimport { ManagePocketsJourneyConfigService } from '../manage-pockets-journey-config.service';\n\n@Component({\n  selector: 'bb-manage-pockets-list-view',\n  templateUrl: './manage-pockets-transfers-view.component.html',\n})\nexport class ManagePocketsTransfersViewComponent implements OnInit {\n  accountList$?: Observable<AccountItem[]>;\n  awaitingTransferResponse = false;\n  pocketInfo?: PocketTransferItem;\n  pocketLocalizations = POCKET_LOCALIZATIONS;\n  transferTypesEnum = TransferTypeEnum;\n\n  ngOnInit(): void {\n    if (!this.pocketInfo) {\n      console.error(\n        `\"pocketInfo\" input is required in \"ManagePocketsTransfersViewComponent\". Redirecting to Pocket List`,\n      );\n      this.navigateToList();\n    }\n    this.refreshAccountList();\n  }\n\n  refreshAccountList() {\n    this.accountList$ = this.managePocketsService.retrieveAccountList();\n  }\n\n  abort() {\n    this.navigateToList();\n  }\n\n  performTransfer(paymentInfo: PaymentFormItem) {\n    this.awaitingTransferResponse = true;\n    const notificationLocalizations = this.generateNotificationLocalizations(paymentInfo);\n\n    const onSuccess = () => {\n      this.awaitingTransferResponse = false;\n      const notificationMessage = notificationLocalizations.success.message;\n      const notificationHeader = notificationLocalizations.success.header;\n\n      this.cd.markForCheck();\n      this.pushNotification(notificationMessage, 'success', notificationHeader);\n      this.navigateToList();\n    };\n\n    const onError = () => {\n      this.awaitingTransferResponse = false;\n      const notificationMessage = notificationLocalizations.error.message;\n      const notificationHeader = notificationLocalizations.error.header;\n\n      this.cd.markForCheck();\n      this.pushNotification(notificationMessage, 'error', notificationHeader);\n    };\n\n    this.paymentOrderService.transferMoney(paymentInfo).subscribe(onSuccess, onError);\n  }\n\n  private navigateToList() {\n    this.router.navigate(['../list'], { relativeTo: this.route });\n  }\n\n  private pushNotification(\n    message: NotificationMessage,\n    modifier?: NotificationModifier,\n    header?: NotificationMessage,\n  ) {\n    this.notificationService.showNotification({\n      header,\n      message,\n      modifier,\n      dismissible: true,\n      ttl: 5000,\n    });\n  }\n\n  private generateNotificationLocalizations(paymentInfo: PaymentFormItem) {\n    const addMoneyLocalizations = {\n      success: {\n        header: $localize`:Success pocket transfer toast header@@managePockets.transfer.toast.success.header:Transfer Successful!`,\n        message: $localize`:Success pocket transfer toast message@@managePockets.transfer.toast.success.add.message:You've just transfered ${paymentInfo.currencyCode} ${paymentInfo.amount} to your '${paymentInfo.pocketInfo?.pocket.name}' pocket.`,\n      },\n      error: {\n        header: $localize`:Error pocket creation toast header@@managePockets.transfer.toast.error.header.add:Failed to Add Money`,\n        message: $localize`:Error pocket creation toast message@@managePockets.transfer.toast.error.message.add:Unable to proceed, please try again.`,\n      },\n    };\n\n    const withdrawMoneyLocalizations = {\n      success: {\n        header: $localize`:Success pocket withdraw toast header@@managePockets.transfer.toast.success.header:Withdrawal Successful!`,\n        message: $localize`:Success pocket withdraw toast message@@managePockets.transfer.toast.success.withdraw.message:You've just withdrawn ${paymentInfo.currencyCode} ${paymentInfo.amount} from your '${paymentInfo.pocketInfo?.pocket.name}' pocket.`,\n      },\n      error: {\n        header: $localize`:Error pocket creation toast header@@managePockets.transfer.toast.error.header.withdraw:Failed to Withdraw Money`,\n        message: $localize`:Error pocket creation toast message@@managePockets.transfer.toast.error.message.withdraw:Unable to proceed, please try again.`,\n      },\n    };\n\n    return paymentInfo?.pocketInfo?.transferType === this.transferTypesEnum.ADD\n      ? addMoneyLocalizations\n      : withdrawMoneyLocalizations;\n  }\n\n  constructor(\n    private readonly managePocketsService: ManagePocketsService,\n    private readonly paymentOrderService: PaymentOrderService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n    private readonly cd: ChangeDetectorRef,\n    private readonly notificationService: NotificationService,\n    readonly configService: ManagePocketsJourneyConfigService,\n  ) {\n    const nav = this.router.getCurrentNavigation();\n    this.pocketInfo = nav?.extras.state as PocketTransferItem;\n  }\n}\n","<div class=\"heading-widget bb-heading-widget px-0\" *ngIf=\"configService.displayHeaders\">\n  <bb-header-ui\n    headingType=\"h1\"\n    headingClasses=\"bb-heading-widget__heading\"\n    [heading]=\"pocketInfo?.transferType === transferTypesEnum.ADD ? pocketLocalizations.views.transfers.addMoneyHeader : pocketLocalizations.views.transfers.withdrawMoneyHeader\"\n  ></bb-header-ui>\n</div>\n\n<div class=\"bb-card bb-card--lg\">\n  <div class=\"bb-card__body\">\n    <bb-manage-pockets-transfers-wrapper\n      *ngIf=\"accountList$ | async as accountList; else loadingState\"\n      [accountList]=\"accountList\"\n      [awaitingTransferResponse]=\"awaitingTransferResponse\"\n      [journeyCurrency]=\"configService.journeyCurrency\"\n      [pocketInfo]=\"pocketInfo\"\n      (cancel)=\"abort()\"\n      (newTransfer)=\"performTransfer($event)\"\n    ></bb-manage-pockets-transfers-wrapper>\n  </div>\n</div>\n\n<ng-template #loadingState>\n  <bb-loading-indicator-ui\n    loaderSize=\"lg\"\n    text=\"Loading...\"\n    i18n-text=\"Loading...|Text for the loading indicator@@managePockets.transfersView.loading.indicator.text\"    \n  ></bb-loading-indicator-ui>\n</ng-template>","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport '@angular/localize/init';\nimport { provideRoutes, Route, RouterModule } from '@angular/router';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport { ManagePocketsCreateModule } from './manage-pockets-create/manage-pockets-create.module';\nimport { ManagePocketsJourneyComponent } from './manage-pockets-journey.component';\nimport { ManagePocketsListModule } from './manage-pockets-list/manage-pockets-list.module';\nimport { ManagePocketsTransfersModule } from './manage-pockets-transfers/manage-pockets-transfers.module';\nimport { ManagePocketsCreateViewComponent } from './views/manage-pockets-create-view.component';\nimport { ManagePocketsListViewComponent } from './views/manage-pockets-list-view.component';\nimport { ManagePocketsTransfersViewComponent } from './views/manage-pockets-transfers-view.component';\n\nexport const defaultRoute: Route = {\n  path: '',\n  component: ManagePocketsJourneyComponent,\n  children: [\n    {\n      path: '',\n      redirectTo: 'list',\n      pathMatch: 'full',\n    },\n    {\n      path: 'list',\n      data: { title: 'Manage Pockets List' },\n      component: ManagePocketsListViewComponent,\n    },\n    {\n      path: 'create',\n      data: { title: 'Create Pocket' },\n      component: ManagePocketsCreateViewComponent,\n    },\n    {\n      path: 'transfer',\n      data: { title: 'Money Transfer' },\n      component: ManagePocketsTransfersViewComponent,\n    },\n  ],\n};\n\n@NgModule({\n  declarations: [\n    ManagePocketsJourneyComponent,\n    ManagePocketsListViewComponent,\n    ManagePocketsCreateViewComponent,\n    ManagePocketsTransfersViewComponent,\n  ],\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { ManagePocketsJourneyComponent },\n    }),\n    RouterModule,\n    HeaderModule,\n    ManagePocketsListModule,\n    ManagePocketsCreateModule,\n    ManagePocketsTransfersModule,\n  ],\n})\nexport class ManagePocketsJourneyModule {\n  static forRoot(\n    data: { route: Route; [key: string]: any } = { route: defaultRoute },\n  ): ModuleWithProviders<ManagePocketsJourneyModule> {\n    return {\n      ngModule: ManagePocketsJourneyModule,\n      providers: [provideRoutes([data.route])],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","Directive","Input","Output","Component","HostListener","Injectable","Pipe","BehaviorSubject","of","catchError","map","modules","AmountModule","ButtonModule","DropdownMenuModule","EmptyStateModule","IconModule","ProgressbarModule","components","CommonModule","NgModule","Validators","TitleCasePipe","AmountInputModule","FormsModule","InputDatepickerModule","InputTextModule","InputValidationMessageModule","LoadButtonModule","ModalModule","ReactiveFormsModule","StepperModule","BackbaseCoreModule","InjectionToken","Optional","Inject","LoadingIndicatorModule","AccountSelectorModule","provideRoutes","RouterModule","HeaderModule"],"mappings":"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"}