import { Component, ChangeDetectionStrategy, Input } from '@angular/core';
import { BillpayUtilityService as Utility, } from '@backbase/billpay-journeys-common';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/billpay-journeys-common";
import * as i2 from "../../../services/pay-bills-journey-config.service";
import * as i3 from "@backbase/ui-ang/icon";
import * as i4 from "@backbase/ui-ang/amount";
import * as i5 from "@angular/common";
import * as i6 from "@backbase/ui-ang/button";
import * as i7 from "@ng-bootstrap/ng-bootstrap";
import * as i8 from "@backbase/ui-ang/date-pipe";
export class BillpayPaymentMultipleBillsReviewItemComponent {
    constructor(scheduleService, configservice) {
        this.scheduleService = scheduleService;
        this.configservice = configservice;
        this.isCollapsed = true;
        this.id = Utility.generateId();
    }
    get endDate() {
        var _a;
        const { startDate, repeat, frequency } = ((_a = this.payment) === null || _a === void 0 ? void 0 : _a.schedule) || {};
        const date = startDate || new Date().toISOString();
        return this.scheduleService.estimatedEndDate(date, frequency, repeat);
    }
    get frequencyLabel() {
        const frequency = this.configservice.frequencies.find(frequency => { var _a; return ((_a = this.payment) === null || _a === void 0 ? void 0 : _a.schedule.frequency) === frequency.value; });
        return $localize `:@@pay-bill-journey.review-item.frequency-label:${(frequency === null || frequency === void 0 ? void 0 : frequency.name) || ''}`;
    }
}
BillpayPaymentMultipleBillsReviewItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: BillpayPaymentMultipleBillsReviewItemComponent, deps: [{ token: i1.BillpayPaymentScheduleService }, { token: i2.PayBillsJourneyConfigService }], target: i0.ɵɵFactoryTarget.Component });
BillpayPaymentMultipleBillsReviewItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: BillpayPaymentMultipleBillsReviewItemComponent, selector: "[bb-billpay-payment-multiple-bills-review-item]", inputs: { payment: "payment", last: "last" }, ngImport: i0, template: "<tr class=\"billpay-multipl-ebills-review__tr\" [class.billpay-multipl-ebills-review__item--expanded]=\"!isCollapsed\">\n  <td class=\"billpay-multipl-ebills-review__cell bb-d-block bb-d-md-table-cell\">\n    <ng-container *ngIf=\"payment?.hasOwnProperty('succeeded'); else payeeTmp\">\n      <div class=\"bb-stack\">\n        <bb-icon-ui\n          class=\"bb-stack__item bb-stack__item--spacing-md\"\n          [name]=\"payment?.succeeded ? 'success' : 'error-outline'\"\n          size=\"md\"\n          [color]=\"payment?.succeeded ? 'success' : 'danger'\"\n        ></bb-icon-ui>\n        <div class=\"bb-stack__item\">\n          <ng-container *ngTemplateOutlet=\"payeeNameTmp\"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n  </td>\n  <td class=\"billpay-multipl-ebills-review__cell bb-d-none bb-d-md-table-cell\">\n    {{ payment?.accountFrom.accountNickName }} (*{{ payment?.accountFrom.accountNumber | slice: -4 }})\n  </td>\n  <td class=\"billpay-multipl-ebills-review__cell bb-d-none bb-d-md-table-cell\">\n    {{ payment?.schedule?.startDate | bbDate: 'MM/dd/yyyy' }}\n  </td>\n  <td class=\"billpay-multipl-ebills-review__cell bb-d-none bb-d-md-table-cell\">\n    <ng-container *ngTemplateOutlet=\"amountTmp; context: payment\"></ng-container>\n  </td>\n  <td class=\"billpay-multipl-ebills-review__cell bb-text-align-right\">\n    <button\n      bbButton\n      class=\"billpay-multipl-ebills-review__toggler\"\n      buttonSize=\"sm\"\n      color=\"text-link\"\n      [circle]=\"true\"\n      aria-label=\"dropdown-button\"\n      data-role=\"multipl-ebills-review-toggler\"\n      (click)=\"isCollapsed = !isCollapsed\"\n      [attr.aria-expanded]=\"!isCollapsed\"\n      [attr.aria-controls]=\"'collapse' + id\"\n    >\n      <bb-icon-ui\n        class=\"bb-stack__item\"\n        [name]=\"isCollapsed ? 'toggle-down' : 'toggle-up'\"\n        size=\"md\"\n        data-role=\"toggle-icon\"\n      ></bb-icon-ui>\n    </button>\n  </td>\n</tr>\n<tr *ngIf=\"payment?.hasOwnProperty('succeeded')\" class=\"billpay-multipl-ebills-review__tr\">\n  <td *ngIf=\"!payment?.succeeded\" colspan=\"5\" class=\"billpay-multipl-ebills-review__cell\">\n    <span class=\"bb-text-danger\" i18n=\"@@bb-billpay-multiple-bills-review.mixed-results.fail-message\"\n      >The payment of this bill could not be scheduled.</span\n    >\n  </td>\n</tr>\n<!-- Mobile screen view -->\n<tr class=\"bb-d-md-none billpay-multipl-ebills-review__tr\">\n  <td colspan=\"2\" class=\"billpay-multipl-ebills-review__cell\">\n    <ng-container *ngTemplateOutlet=\"amountTmp; context: payment\"></ng-container>\n  </td>\n</tr>\n<!-- Extra fields -->\n<tr data-role=\"multipl-ebills-extended-fields\" class=\"billpay-multipl-ebills-review__tr\">\n  <td colspan=\"5\">\n    <div [id]=\"'collapse' + id\" [ngbCollapse]=\"isCollapsed\">\n      <div class=\"billpay-multipl-ebills-review__cell\">\n        <div class=\"bb-block bb-block--md bb-stack bb-stack--align-top\" *ngIf=\"payment?.memo\">\n          <bb-icon-ui\n            name=\"subject\"\n            size=\"sm\"\n            color=\"secondary\"\n            class=\"bb-stack__item bb-stack__item--spacing-sm bicon\"\n          ></bb-icon-ui>\n          <div class=\"bb-stack__item\">\n            <div class=\"bb-text-bold\" data-role=\"payment-description-label\">\n              <span i18n=\"@@bb-billpay-multiple-bills-review.memo\">Memo</span>\n            </div>\n            <div class=\"break-word bb-subtitle bb-text-support\" data-role=\"payment-description\">\n              {{ payment?.memo }}\n            </div>\n          </div>\n        </div>\n        <ng-container *ngIf=\"payment?.schedule as schedule\">\n          <div class=\"bb-block bb-block--md bb-stack bb-stack--align-top\">\n            <bb-icon-ui\n              name=\"cached\"\n              size=\"sm\"\n              color=\"secondary\"\n              class=\"bb-stack__item bb-stack__item--spacing-sm bicon\"\n            ></bb-icon-ui>\n            <div class=\"bb-stack__item\">\n              <div class=\"bb-text-bold\" data-role=\"payment-description-label\">\n                <span\n                  i18n=\"\n                    Payment details frequency|Label for frequency in details\n                    group@@billpay-multiple-bills-review.details.frequency-label\"\n                  >Frequency</span\n                >\n              </div>\n              <div data-role=\"payment-frequency\">\n                {{ frequencyLabel }}\n              </div>\n            </div>\n          </div>\n          <ng-container *ngIf=\"schedule.frequency === 'ONCE'\">\n            <ng-container *ngIf=\"payment?.overnightDeliveryAddress as address\">\n              <div class=\"bb-block bb-block--md bb-stack bb-stack--align-top\">\n                <bb-icon-ui\n                  name=\"subject\"\n                  size=\"sm\"\n                  color=\"secondary\"\n                  class=\"bb-stack__item bb-stack__item--spacing-sm bicon\"\n                ></bb-icon-ui>\n                <div class=\"bb-stack__item\">\n                  <div\n                    data-role=\"overnight-address-label\"\n                    i18n=\"\n                      Payment overnight address|Label for overnight\n                      address@@billpay-payment-review-card.details.overnight-address.label\"\n                    class=\"bb-text-bold\"\n                  >\n                    Overnight check address\n                  </div>\n                  <div data-role=\"overnight-address\" class=\"bb-block bb-block--md\">\n                    <div>{{ address.address1 }}</div>\n                    <div *ngIf=\"address.address2\">{{ address.address2 }}</div>\n                    <div>{{ address.city }}&nbsp;{{ address.state }}&nbsp;{{ address.postalCode }}</div>\n                  </div>\n                </div>\n              </div>\n            </ng-container>\n          </ng-container>\n\n          <div class=\"bb-block bb-block--md bb-stack bb-stack--align-top\">\n            <bb-icon-ui\n              name=\"today\"\n              size=\"sm\"\n              color=\"secondary\"\n              class=\"bb-stack__item bb-stack__item--spacing-sm bicon\"\n            ></bb-icon-ui>\n            <div class=\"bb-stack__item\">\n              <div\n                i18n=\"\n                  Payment details deliver by|Label for deliver by in details\n                  group@@billpay-payment-review-card.details.amount.other\"\n                class=\"bb-text-bold\"\n                data-role=\"deliver-by\"\n              >\n                { schedule.frequency, select, ONCE {Deliver payment by } other {Deliver first payment by } }\n              </div>\n              <div data-role=\"deliver-date\">\n                {{ schedule.startDate | date: 'mediumDate' }}\n              </div>\n            </div>\n          </div>\n\n          <ng-container *ngIf=\"schedule.frequency !== 'ONCE'\">\n            <!-- EndDate -->\n            <div class=\"bb-block bb-block--md bb-stack bb-stack--align-top\">\n              <bb-icon-ui\n                name=\"today\"\n                size=\"sm\"\n                color=\"secondary\"\n                class=\"bb-stack__item bb-stack__item--spacing-sm bicon\"\n              ></bb-icon-ui>\n              <div class=\"bb-stack__item\">\n                <div\n                  i18n=\"\n                    Payment details ending|Label for ending in details\n                    group@@billpay-payment-review-card.details.ending-label\"\n                  class=\"bb-text-bold\"\n                  data-role=\"ending-label\"\n                >\n                  Ending\n                </div>\n                <div data-role=\"ending\">\n                  <span\n                    *ngIf=\"schedule?.repeat; else neverEndingTmp\"\n                    i18n=\"\n                      Payment details ending|Label for ending in details\n                      group@@billpay-payment-review-card.details.ending\"\n                    >After { schedule.repeat, plural, =1 {{{schedule.repeat}} payment } other\n                    {{{schedule.repeat}} payments } } (estimated {{ endDate | date: 'mediumDate' }})\n                  </span>\n                  <ng-template #neverEndingTmp>\n                    <span\n                      i18n=\"\n                        Payment details ending|Label for never ending\n                        payment@@billpay-payment-review-card.details.ending.never\"\n                      >Never\n                    </span>\n                  </ng-template>\n                </div>\n              </div>\n            </div>\n\n            <!-- Notify section -->\n            <ng-container\n              *ngIf=\"\n                schedule?.alertPendingCheckbox || schedule?.alertSentCheckbox || schedule?.alertLastPendingCheckbox\n              \"\n            >\n              <div\n                i18n=\"\n                  Payment details notify me|Label for notify me in details\n                  group@@billpay-payment-review-card.details.notify\"\n                class=\"bb-text-bold\"\n                data-role=\"notify-label\"\n              >\n                Notify me\n              </div>\n              <div>\n                <ul>\n                  <li\n                    *ngIf=\"schedule?.alertPendingCheckbox\"\n                    i18n=\"\n                      Payment details when a payment is pending|Label for when a payment is pending in details\n                      group@@billpay-payment-review-card.details.notify.pending\"\n                    data-role=\"alertPendingCheckbox\"\n                  >\n                    When a payment is pending\n                  </li>\n                  <li\n                    *ngIf=\"schedule?.alertSentCheckbox\"\n                    i18n=\"\n                      Payment details when a payment has been sent|Label for when a payment has been sent in details\n                      group@@billpay-payment-review-card.details.notify.sent\"\n                    data-role=\"alertSentCheckbox\"\n                  >\n                    When a payment has been sent\n                  </li>\n                  <li\n                    *ngIf=\"schedule?.alertLastPendingCheckbox\"\n                    i18n=\"\n                      Payment details when the last payment is pending|Label for when the last payment is pending in\n                      details group@@billpay-payment-review-card.details.notify.pending.last\"\n                    data-role=\"alertLastPendingCheckbox\"\n                  >\n                    When the last payment is pending\n                  </li>\n                </ul>\n              </div>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n      </div>\n    </div>\n  </td>\n</tr>\n<tr class=\"billpay-multipl-ebills-review__tr billpay-multipl-ebills-review__tr--last\" aria-hidden=\"true\">\n  <td colspan=\"5\"></td>\n</tr>\n<tr class=\"billpay-multipl-ebills-review__seperator\" aria-hidden=\"true\" *ngIf=\"!last\"></tr>\n<!-- Payee -->\n<ng-template #payeeTmp>\n  <ng-container\n    *ngIf=\"\n      payment?.payeeTo?.ebill?.enabled &&\n        payment?.payeeTo?.ebill?.latestBill?.status !== 'PAID' &&\n        payment?.payeeTo?.ebill?.latestBill?.paymentDate;\n      else payeeNameTmp\n    \"\n  >\n    <label class=\"bb-block bb-block--no-margin\">{{ payment?.payeeTo?.nickName || payment?.payeeTo?.name }}</label>\n    <div class=\"bb-stack\">\n      <bb-icon-ui\n        class=\"bb-stack__item bb-stack__item--spacing-sm\"\n        data-role=\"receipt-icon\"\n        size=\"sm\"\n        name=\"receipt\"\n        color=\"secondary\"\n      ></bb-icon-ui>\n      <span\n        class=\"bb-stack__item bb-subtitle bb-text-support\"\n        data-role=\"due-date-label\"\n        *ngIf=\"payment?.payeeTo?.ebill?.latestBill?.paymentDate as ebillPaymentDate\"\n      >\n        <bb-amount-ui\n          *ngIf=\"payment?.payeeTo?.ebill?.latestBill?.minAmountDue as minAmountDue\"\n          [currency]=\"minAmountDue?.currency\"\n          [amount]=\"minAmountDue?.amount\"\n        ></bb-amount-ui>\n        <span\n          i18n=\"\n            Ebill due note|Text for the information about the due eBill@@bb-billpay-multiple-bills-review.note.ebill-due\"\n        >\n          due on</span\n        >\n        {{ ebillPaymentDate | bbDate: 'MMM d' }}\n      </span>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #payeeNameTmp>\n  <label class=\"bb-label\">{{ payment?.payeeTo?.nickName || payment?.payeeTo?.name }}</label>\n</ng-template>\n<!-- Amount -->\n<ng-template #amountTmp let-amount=\"amount\">\n  <bb-amount-ui class=\"bb-text-semi-bold\" [currency]=\"amount.currency\" [amount]=\"amount.amount\"> </bb-amount-ui>\n</ng-template>\n", components: [{ type: i3.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i4.AmountComponent, selector: "bb-amount-ui", inputs: ["currency", "showPlusSign", "mapCurrency", "showPercent", "abbreviate", "decimalPlaces", "trailingZeroes", "amount"] }], directives: [{ type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i5.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i6.ButtonDirective, selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i7.NgbCollapse, selector: "[ngbCollapse]", inputs: ["ngbCollapse", "animation"], outputs: ["ngbCollapseChange", "shown", "hidden"], exportAs: ["ngbCollapse"] }], pipes: { "slice": i5.SlicePipe, "bbDate": i8.BbDatePipe, "date": i5.DatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: BillpayPaymentMultipleBillsReviewItemComponent, decorators: [{
            type: Component,
            args: [{
                    // eslint-disable-next-line @angular-eslint/component-selector
                    selector: '[bb-billpay-payment-multiple-bills-review-item]',
                    templateUrl: 'billpay-payment-multiple-bills-review-item.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i1.BillpayPaymentScheduleService }, { type: i2.PayBillsJourneyConfigService }]; }, propDecorators: { payment: [{
                type: Input
            }], last: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzLXJldmlldy1pdGVtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcGF5LWJpbGxzLWpvdXJuZXkvc3JjL2NvbXBvbmVudHMvYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzL2JpbGxwYXktcGF5bWVudC1tdWx0aXBsZS1lYmlsbHMtcmV2aWV3LWl0ZW0vYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzLXJldmlldy1pdGVtLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcGF5LWJpbGxzLWpvdXJuZXkvc3JjL2NvbXBvbmVudHMvYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzL2JpbGxwYXktcGF5bWVudC1tdWx0aXBsZS1lYmlsbHMtcmV2aWV3LWl0ZW0vYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzLXJldmlldy1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsdUJBQXVCLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFFLE9BQU8sRUFFTCxxQkFBcUIsSUFBSSxPQUFPLEdBRWpDLE1BQU0sbUNBQW1DLENBQUM7Ozs7Ozs7Ozs7QUFVM0MsTUFBTSxPQUFPLDhDQUE4QztJQW1CekQsWUFDbUIsZUFBOEMsRUFDOUMsYUFBMkM7UUFEM0Msb0JBQWUsR0FBZixlQUFlLENBQStCO1FBQzlDLGtCQUFhLEdBQWIsYUFBYSxDQUE4QjtRQWxCOUQsZ0JBQVcsR0FBRyxJQUFJLENBQUM7UUFDVixPQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBa0JoQyxDQUFDO0lBaEJKLElBQUksT0FBTzs7UUFDVCxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFBLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsUUFBUSxLQUFJLEVBQUUsQ0FBQztRQUN0RSxNQUFNLElBQUksR0FBRyxTQUFTLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuRCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLFNBQTBCLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekYsQ0FBQztJQUVELElBQUksY0FBYztRQUNoQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQ25ELFNBQVMsQ0FBQyxFQUFFLFdBQUMsT0FBQSxDQUFBLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsUUFBUSxDQUFDLFNBQVMsTUFBSyxTQUFTLENBQUMsS0FBSyxDQUFBLEVBQUEsQ0FDbEUsQ0FBQztRQUNGLE9BQU8sU0FBUyxDQUFBLG1EQUFtRCxDQUFBLFNBQVMsYUFBVCxTQUFTLHVCQUFULFNBQVMsQ0FBRSxJQUFJLEtBQUksRUFBRSxFQUFFLENBQUM7SUFDN0YsQ0FBQzs7NElBakJVLDhDQUE4QztnSUFBOUMsOENBQThDLHFJQ2YzRCxvalpBNFNBOzRGRDdSYSw4Q0FBOEM7a0JBTjFELFNBQVM7bUJBQUM7b0JBQ1QsOERBQThEO29CQUM5RCxRQUFRLEVBQUUsaURBQWlEO29CQUMzRCxXQUFXLEVBQUUsMkRBQTJEO29CQUN4RSxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtpQkFDaEQ7K0pBRVUsT0FBTztzQkFBZixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBCaWxscGF5UGF5bWVudFNjaGVkdWxlU2VydmljZSxcbiAgQmlsbHBheVV0aWxpdHlTZXJ2aWNlIGFzIFV0aWxpdHksXG4gIEZyZXF1ZW5jeUtleXMsXG59IGZyb20gJ0BiYWNrYmFzZS9iaWxscGF5LWpvdXJuZXlzLWNvbW1vbic7XG5pbXBvcnQgeyBQYXlCaWxsc0pvdXJuZXlDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcGF5LWJpbGxzLWpvdXJuZXktY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgUGF5bWVudFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL3BheW1lbnQubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICdbYmItYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzLXJldmlldy1pdGVtXScsXG4gIHRlbXBsYXRlVXJsOiAnYmlsbHBheS1wYXltZW50LW11bHRpcGxlLWJpbGxzLXJldmlldy1pdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIEJpbGxwYXlQYXltZW50TXVsdGlwbGVCaWxsc1Jldmlld0l0ZW1Db21wb25lbnQge1xuICBASW5wdXQoKSBwYXltZW50PzogUGF5bWVudFJlc3VsdDtcbiAgQElucHV0KCkgbGFzdD86IGJvb2xlYW47XG4gIGlzQ29sbGFwc2VkID0gdHJ1ZTtcbiAgcmVhZG9ubHkgaWQgPSBVdGlsaXR5LmdlbmVyYXRlSWQoKTtcblxuICBnZXQgZW5kRGF0ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgc3RhcnREYXRlLCByZXBlYXQsIGZyZXF1ZW5jeSB9ID0gdGhpcy5wYXltZW50Py5zY2hlZHVsZSB8fCB7fTtcbiAgICBjb25zdCBkYXRlID0gc3RhcnREYXRlIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZVNlcnZpY2UuZXN0aW1hdGVkRW5kRGF0ZShkYXRlLCBmcmVxdWVuY3kgYXMgRnJlcXVlbmN5S2V5cywgcmVwZWF0KTtcbiAgfVxuXG4gIGdldCBmcmVxdWVuY3lMYWJlbCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHRoaXMuY29uZmlnc2VydmljZS5mcmVxdWVuY2llcy5maW5kKFxuICAgICAgZnJlcXVlbmN5ID0+IHRoaXMucGF5bWVudD8uc2NoZWR1bGUuZnJlcXVlbmN5ID09PSBmcmVxdWVuY3kudmFsdWUsXG4gICAgKTtcbiAgICByZXR1cm4gJGxvY2FsaXplYDpAQHBheS1iaWxsLWpvdXJuZXkucmV2aWV3LWl0ZW0uZnJlcXVlbmN5LWxhYmVsOiR7ZnJlcXVlbmN5Py5uYW1lIHx8ICcnfWA7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNjaGVkdWxlU2VydmljZTogQmlsbHBheVBheW1lbnRTY2hlZHVsZVNlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWdzZXJ2aWNlOiBQYXlCaWxsc0pvdXJuZXlDb25maWdTZXJ2aWNlLFxuICApIHt9XG59XG4iLCI8dHIgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fdHJcIiBbY2xhc3MuYmlsbHBheS1tdWx0aXBsLWViaWxscy1yZXZpZXdfX2l0ZW0tLWV4cGFuZGVkXT1cIiFpc0NvbGxhcHNlZFwiPlxuICA8dGQgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fY2VsbCBiYi1kLWJsb2NrIGJiLWQtbWQtdGFibGUtY2VsbFwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwYXltZW50Py5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VlZGVkJyk7IGVsc2UgcGF5ZWVUbXBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja1wiPlxuICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLXNwYWNpbmctbWRcIlxuICAgICAgICAgIFtuYW1lXT1cInBheW1lbnQ/LnN1Y2NlZWRlZCA/ICdzdWNjZXNzJyA6ICdlcnJvci1vdXRsaW5lJ1wiXG4gICAgICAgICAgc2l6ZT1cIm1kXCJcbiAgICAgICAgICBbY29sb3JdPVwicGF5bWVudD8uc3VjY2VlZGVkID8gJ3N1Y2Nlc3MnIDogJ2RhbmdlcidcIlxuICAgICAgICA+PC9iYi1pY29uLXVpPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIj5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwicGF5ZWVOYW1lVG1wXCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvdGQ+XG4gIDx0ZCBjbGFzcz1cImJpbGxwYXktbXVsdGlwbC1lYmlsbHMtcmV2aWV3X19jZWxsIGJiLWQtbm9uZSBiYi1kLW1kLXRhYmxlLWNlbGxcIj5cbiAgICB7eyBwYXltZW50Py5hY2NvdW50RnJvbS5hY2NvdW50Tmlja05hbWUgfX0gKCp7eyBwYXltZW50Py5hY2NvdW50RnJvbS5hY2NvdW50TnVtYmVyIHwgc2xpY2U6IC00IH19KVxuICA8L3RkPlxuICA8dGQgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fY2VsbCBiYi1kLW5vbmUgYmItZC1tZC10YWJsZS1jZWxsXCI+XG4gICAge3sgcGF5bWVudD8uc2NoZWR1bGU/LnN0YXJ0RGF0ZSB8IGJiRGF0ZTogJ01NL2RkL3l5eXknIH19XG4gIDwvdGQ+XG4gIDx0ZCBjbGFzcz1cImJpbGxwYXktbXVsdGlwbC1lYmlsbHMtcmV2aWV3X19jZWxsIGJiLWQtbm9uZSBiYi1kLW1kLXRhYmxlLWNlbGxcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiYW1vdW50VG1wOyBjb250ZXh0OiBwYXltZW50XCI+PC9uZy1jb250YWluZXI+XG4gIDwvdGQ+XG4gIDx0ZCBjbGFzcz1cImJpbGxwYXktbXVsdGlwbC1lYmlsbHMtcmV2aWV3X19jZWxsIGJiLXRleHQtYWxpZ24tcmlnaHRcIj5cbiAgICA8YnV0dG9uXG4gICAgICBiYkJ1dHRvblxuICAgICAgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fdG9nZ2xlclwiXG4gICAgICBidXR0b25TaXplPVwic21cIlxuICAgICAgY29sb3I9XCJ0ZXh0LWxpbmtcIlxuICAgICAgW2NpcmNsZV09XCJ0cnVlXCJcbiAgICAgIGFyaWEtbGFiZWw9XCJkcm9wZG93bi1idXR0b25cIlxuICAgICAgZGF0YS1yb2xlPVwibXVsdGlwbC1lYmlsbHMtcmV2aWV3LXRvZ2dsZXJcIlxuICAgICAgKGNsaWNrKT1cImlzQ29sbGFwc2VkID0gIWlzQ29sbGFwc2VkXCJcbiAgICAgIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwiIWlzQ29sbGFwc2VkXCJcbiAgICAgIFthdHRyLmFyaWEtY29udHJvbHNdPVwiJ2NvbGxhcHNlJyArIGlkXCJcbiAgICA+XG4gICAgICA8YmItaWNvbi11aVxuICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCJcbiAgICAgICAgW25hbWVdPVwiaXNDb2xsYXBzZWQgPyAndG9nZ2xlLWRvd24nIDogJ3RvZ2dsZS11cCdcIlxuICAgICAgICBzaXplPVwibWRcIlxuICAgICAgICBkYXRhLXJvbGU9XCJ0b2dnbGUtaWNvblwiXG4gICAgICA+PC9iYi1pY29uLXVpPlxuICAgIDwvYnV0dG9uPlxuICA8L3RkPlxuPC90cj5cbjx0ciAqbmdJZj1cInBheW1lbnQ/Lmhhc093blByb3BlcnR5KCdzdWNjZWVkZWQnKVwiIGNsYXNzPVwiYmlsbHBheS1tdWx0aXBsLWViaWxscy1yZXZpZXdfX3RyXCI+XG4gIDx0ZCAqbmdJZj1cIiFwYXltZW50Py5zdWNjZWVkZWRcIiBjb2xzcGFuPVwiNVwiIGNsYXNzPVwiYmlsbHBheS1tdWx0aXBsLWViaWxscy1yZXZpZXdfX2NlbGxcIj5cbiAgICA8c3BhbiBjbGFzcz1cImJiLXRleHQtZGFuZ2VyXCIgaTE4bj1cIkBAYmItYmlsbHBheS1tdWx0aXBsZS1iaWxscy1yZXZpZXcubWl4ZWQtcmVzdWx0cy5mYWlsLW1lc3NhZ2VcIlxuICAgICAgPlRoZSBwYXltZW50IG9mIHRoaXMgYmlsbCBjb3VsZCBub3QgYmUgc2NoZWR1bGVkLjwvc3BhblxuICAgID5cbiAgPC90ZD5cbjwvdHI+XG48IS0tIE1vYmlsZSBzY3JlZW4gdmlldyAtLT5cbjx0ciBjbGFzcz1cImJiLWQtbWQtbm9uZSBiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fdHJcIj5cbiAgPHRkIGNvbHNwYW49XCIyXCIgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fY2VsbFwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJhbW91bnRUbXA7IGNvbnRleHQ6IHBheW1lbnRcIj48L25nLWNvbnRhaW5lcj5cbiAgPC90ZD5cbjwvdHI+XG48IS0tIEV4dHJhIGZpZWxkcyAtLT5cbjx0ciBkYXRhLXJvbGU9XCJtdWx0aXBsLWViaWxscy1leHRlbmRlZC1maWVsZHNcIiBjbGFzcz1cImJpbGxwYXktbXVsdGlwbC1lYmlsbHMtcmV2aWV3X190clwiPlxuICA8dGQgY29sc3Bhbj1cIjVcIj5cbiAgICA8ZGl2IFtpZF09XCInY29sbGFwc2UnICsgaWRcIiBbbmdiQ29sbGFwc2VdPVwiaXNDb2xsYXBzZWRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fY2VsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kIGJiLXN0YWNrIGJiLXN0YWNrLS1hbGlnbi10b3BcIiAqbmdJZj1cInBheW1lbnQ/Lm1lbW9cIj5cbiAgICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgICAgbmFtZT1cInN1YmplY3RcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLXNwYWNpbmctc20gYmljb25cIlxuICAgICAgICAgID48L2JiLWljb24tdWk+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItdGV4dC1ib2xkXCIgZGF0YS1yb2xlPVwicGF5bWVudC1kZXNjcmlwdGlvbi1sYWJlbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBpMThuPVwiQEBiYi1iaWxscGF5LW11bHRpcGxlLWJpbGxzLXJldmlldy5tZW1vXCI+TWVtbzwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJyZWFrLXdvcmQgYmItc3VidGl0bGUgYmItdGV4dC1zdXBwb3J0XCIgZGF0YS1yb2xlPVwicGF5bWVudC1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICB7eyBwYXltZW50Py5tZW1vIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwYXltZW50Py5zY2hlZHVsZSBhcyBzY2hlZHVsZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWQgYmItc3RhY2sgYmItc3RhY2stLWFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGJiLWljb24tdWlcbiAgICAgICAgICAgICAgbmFtZT1cImNhY2hlZFwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi1zdGFja19faXRlbS0tc3BhY2luZy1zbSBiaWNvblwiXG4gICAgICAgICAgICA+PC9iYi1pY29uLXVpPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIiBkYXRhLXJvbGU9XCJwYXltZW50LWRlc2NyaXB0aW9uLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIGZyZXF1ZW5jeXxMYWJlbCBmb3IgZnJlcXVlbmN5IGluIGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBAQGJpbGxwYXktbXVsdGlwbGUtYmlsbHMtcmV2aWV3LmRldGFpbHMuZnJlcXVlbmN5LWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgID5GcmVxdWVuY3k8L3NwYW5cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT1cInBheW1lbnQtZnJlcXVlbmN5XCI+XG4gICAgICAgICAgICAgICAge3sgZnJlcXVlbmN5TGFiZWwgfX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2NoZWR1bGUuZnJlcXVlbmN5ID09PSAnT05DRSdcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwYXltZW50Py5vdmVybmlnaHREZWxpdmVyeUFkZHJlc3MgYXMgYWRkcmVzc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW1kIGJiLXN0YWNrIGJiLXN0YWNrLS1hbGlnbi10b3BcIj5cbiAgICAgICAgICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgICAgICAgICAgbmFtZT1cInN1YmplY3RcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLXNwYWNpbmctc20gYmljb25cIlxuICAgICAgICAgICAgICAgID48L2JiLWljb24tdWk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm92ZXJuaWdodC1hZGRyZXNzLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgICAgIFBheW1lbnQgb3Zlcm5pZ2h0IGFkZHJlc3N8TGFiZWwgZm9yIG92ZXJuaWdodFxuICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLm92ZXJuaWdodC1hZGRyZXNzLmxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBPdmVybmlnaHQgY2hlY2sgYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT1cIm92ZXJuaWdodC1hZGRyZXNzXCIgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj57eyBhZGRyZXNzLmFkZHJlc3MxIH19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJhZGRyZXNzLmFkZHJlc3MyXCI+e3sgYWRkcmVzcy5hZGRyZXNzMiB9fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pnt7IGFkZHJlc3MuY2l0eSB9fSZuYnNwO3t7IGFkZHJlc3Muc3RhdGUgfX0mbmJzcDt7eyBhZGRyZXNzLnBvc3RhbENvZGUgfX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZCBiYi1zdGFjayBiYi1zdGFjay0tYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgICAgICBuYW1lPVwidG9kYXlcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLXNwYWNpbmctc20gYmljb25cIlxuICAgICAgICAgICAgPjwvYmItaWNvbi11aT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIGRlbGl2ZXIgYnl8TGFiZWwgZm9yIGRlbGl2ZXIgYnkgaW4gZGV0YWlsc1xuICAgICAgICAgICAgICAgICAgZ3JvdXBAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLmFtb3VudC5vdGhlclwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cImRlbGl2ZXItYnlcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyBzY2hlZHVsZS5mcmVxdWVuY3ksIHNlbGVjdCwgT05DRSB7RGVsaXZlciBwYXltZW50IGJ5IH0gb3RoZXIge0RlbGl2ZXIgZmlyc3QgcGF5bWVudCBieSB9IH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPVwiZGVsaXZlci1kYXRlXCI+XG4gICAgICAgICAgICAgICAge3sgc2NoZWR1bGUuc3RhcnREYXRlIHwgZGF0ZTogJ21lZGl1bURhdGUnIH19XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2NoZWR1bGUuZnJlcXVlbmN5ICE9PSAnT05DRSdcIj5cbiAgICAgICAgICAgIDwhLS0gRW5kRGF0ZSAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWQgYmItc3RhY2sgYmItc3RhY2stLWFsaWduLXRvcFwiPlxuICAgICAgICAgICAgICA8YmItaWNvbi11aVxuICAgICAgICAgICAgICAgIG5hbWU9XCJ0b2RheVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi1zdGFja19faXRlbS0tc3BhY2luZy1zbSBiaWNvblwiXG4gICAgICAgICAgICAgID48L2JiLWljb24tdWk+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIGVuZGluZ3xMYWJlbCBmb3IgZW5kaW5nIGluIGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLmVuZGluZy1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJiLXRleHQtYm9sZFwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJlbmRpbmctbGFiZWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEVuZGluZ1xuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPVwiZW5kaW5nXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cInNjaGVkdWxlPy5yZXBlYXQ7IGVsc2UgbmV2ZXJFbmRpbmdUbXBcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIGVuZGluZ3xMYWJlbCBmb3IgZW5kaW5nIGluIGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICBncm91cEBAYmlsbHBheS1wYXltZW50LXJldmlldy1jYXJkLmRldGFpbHMuZW5kaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgPkFmdGVyIHsgc2NoZWR1bGUucmVwZWF0LCBwbHVyYWwsID0xIHt7e3NjaGVkdWxlLnJlcGVhdH19IHBheW1lbnQgfSBvdGhlclxuICAgICAgICAgICAgICAgICAgICB7e3tzY2hlZHVsZS5yZXBlYXR9fSBwYXltZW50cyB9IH0gKGVzdGltYXRlZCB7eyBlbmREYXRlIHwgZGF0ZTogJ21lZGl1bURhdGUnIH19KVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNuZXZlckVuZGluZ1RtcD5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBQYXltZW50IGRldGFpbHMgZW5kaW5nfExhYmVsIGZvciBuZXZlciBlbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLmVuZGluZy5uZXZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgPk5ldmVyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwhLS0gTm90aWZ5IHNlY3Rpb24gLS0+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgc2NoZWR1bGU/LmFsZXJ0UGVuZGluZ0NoZWNrYm94IHx8IHNjaGVkdWxlPy5hbGVydFNlbnRDaGVja2JveCB8fCBzY2hlZHVsZT8uYWxlcnRMYXN0UGVuZGluZ0NoZWNrYm94XG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBQYXltZW50IGRldGFpbHMgbm90aWZ5IG1lfExhYmVsIGZvciBub3RpZnkgbWUgaW4gZGV0YWlsc1xuICAgICAgICAgICAgICAgICAgZ3JvdXBAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLm5vdGlmeVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm5vdGlmeS1sYWJlbFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBOb3RpZnkgbWVcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwic2NoZWR1bGU/LmFsZXJ0UGVuZGluZ0NoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgICAgIFBheW1lbnQgZGV0YWlscyB3aGVuIGEgcGF5bWVudCBpcyBwZW5kaW5nfExhYmVsIGZvciB3aGVuIGEgcGF5bWVudCBpcyBwZW5kaW5nIGluIGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICBncm91cEBAYmlsbHBheS1wYXltZW50LXJldmlldy1jYXJkLmRldGFpbHMubm90aWZ5LnBlbmRpbmdcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJhbGVydFBlbmRpbmdDaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFdoZW4gYSBwYXltZW50IGlzIHBlbmRpbmdcbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJzY2hlZHVsZT8uYWxlcnRTZW50Q2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIHdoZW4gYSBwYXltZW50IGhhcyBiZWVuIHNlbnR8TGFiZWwgZm9yIHdoZW4gYSBwYXltZW50IGhhcyBiZWVuIHNlbnQgaW4gZGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQEBiaWxscGF5LXBheW1lbnQtcmV2aWV3LWNhcmQuZGV0YWlscy5ub3RpZnkuc2VudFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cImFsZXJ0U2VudENoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgV2hlbiBhIHBheW1lbnQgaGFzIGJlZW4gc2VudFxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cInNjaGVkdWxlPy5hbGVydExhc3RQZW5kaW5nQ2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgICAgUGF5bWVudCBkZXRhaWxzIHdoZW4gdGhlIGxhc3QgcGF5bWVudCBpcyBwZW5kaW5nfExhYmVsIGZvciB3aGVuIHRoZSBsYXN0IHBheW1lbnQgaXMgcGVuZGluZyBpblxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgZ3JvdXBAQGJpbGxwYXktcGF5bWVudC1yZXZpZXctY2FyZC5kZXRhaWxzLm5vdGlmeS5wZW5kaW5nLmxhc3RcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJhbGVydExhc3RQZW5kaW5nQ2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBXaGVuIHRoZSBsYXN0IHBheW1lbnQgaXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L3RkPlxuPC90cj5cbjx0ciBjbGFzcz1cImJpbGxwYXktbXVsdGlwbC1lYmlsbHMtcmV2aWV3X190ciBiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fdHItLWxhc3RcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgPHRkIGNvbHNwYW49XCI1XCI+PC90ZD5cbjwvdHI+XG48dHIgY2xhc3M9XCJiaWxscGF5LW11bHRpcGwtZWJpbGxzLXJldmlld19fc2VwZXJhdG9yXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgKm5nSWY9XCIhbGFzdFwiPjwvdHI+XG48IS0tIFBheWVlIC0tPlxuPG5nLXRlbXBsYXRlICNwYXllZVRtcD5cbiAgPG5nLWNvbnRhaW5lclxuICAgICpuZ0lmPVwiXG4gICAgICBwYXltZW50Py5wYXllZVRvPy5lYmlsbD8uZW5hYmxlZCAmJlxuICAgICAgICBwYXltZW50Py5wYXllZVRvPy5lYmlsbD8ubGF0ZXN0QmlsbD8uc3RhdHVzICE9PSAnUEFJRCcgJiZcbiAgICAgICAgcGF5bWVudD8ucGF5ZWVUbz8uZWJpbGw/LmxhdGVzdEJpbGw/LnBheW1lbnREYXRlO1xuICAgICAgZWxzZSBwYXllZU5hbWVUbXBcbiAgICBcIlxuICA+XG4gICAgPGxhYmVsIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLW5vLW1hcmdpblwiPnt7IHBheW1lbnQ/LnBheWVlVG8/Lm5pY2tOYW1lIHx8IHBheW1lbnQ/LnBheWVlVG8/Lm5hbWUgfX08L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja1wiPlxuICAgICAgPGJiLWljb24tdWlcbiAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi1zdGFja19faXRlbS0tc3BhY2luZy1zbVwiXG4gICAgICAgIGRhdGEtcm9sZT1cInJlY2VpcHQtaWNvblwiXG4gICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgIG5hbWU9XCJyZWNlaXB0XCJcbiAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgPjwvYmItaWNvbi11aT5cbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3VidGl0bGUgYmItdGV4dC1zdXBwb3J0XCJcbiAgICAgICAgZGF0YS1yb2xlPVwiZHVlLWRhdGUtbGFiZWxcIlxuICAgICAgICAqbmdJZj1cInBheW1lbnQ/LnBheWVlVG8/LmViaWxsPy5sYXRlc3RCaWxsPy5wYXltZW50RGF0ZSBhcyBlYmlsbFBheW1lbnREYXRlXCJcbiAgICAgID5cbiAgICAgICAgPGJiLWFtb3VudC11aVxuICAgICAgICAgICpuZ0lmPVwicGF5bWVudD8ucGF5ZWVUbz8uZWJpbGw/LmxhdGVzdEJpbGw/Lm1pbkFtb3VudER1ZSBhcyBtaW5BbW91bnREdWVcIlxuICAgICAgICAgIFtjdXJyZW5jeV09XCJtaW5BbW91bnREdWU/LmN1cnJlbmN5XCJcbiAgICAgICAgICBbYW1vdW50XT1cIm1pbkFtb3VudER1ZT8uYW1vdW50XCJcbiAgICAgICAgPjwvYmItYW1vdW50LXVpPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgIEViaWxsIGR1ZSBub3RlfFRleHQgZm9yIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZHVlIGVCaWxsQEBiYi1iaWxscGF5LW11bHRpcGxlLWJpbGxzLXJldmlldy5ub3RlLmViaWxsLWR1ZVwiXG4gICAgICAgID5cbiAgICAgICAgICBkdWUgb248L3NwYW5cbiAgICAgICAgPlxuICAgICAgICB7eyBlYmlsbFBheW1lbnREYXRlIHwgYmJEYXRlOiAnTU1NIGQnIH19XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvbmctY29udGFpbmVyPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNwYXllZU5hbWVUbXA+XG4gIDxsYWJlbCBjbGFzcz1cImJiLWxhYmVsXCI+e3sgcGF5bWVudD8ucGF5ZWVUbz8ubmlja05hbWUgfHwgcGF5bWVudD8ucGF5ZWVUbz8ubmFtZSB9fTwvbGFiZWw+XG48L25nLXRlbXBsYXRlPlxuPCEtLSBBbW91bnQgLS0+XG48bmctdGVtcGxhdGUgI2Ftb3VudFRtcCBsZXQtYW1vdW50PVwiYW1vdW50XCI+XG4gIDxiYi1hbW91bnQtdWkgY2xhc3M9XCJiYi10ZXh0LXNlbWktYm9sZFwiIFtjdXJyZW5jeV09XCJhbW91bnQuY3VycmVuY3lcIiBbYW1vdW50XT1cImFtb3VudC5hbW91bnRcIj4gPC9iYi1hbW91bnQtdWk+XG48L25nLXRlbXBsYXRlPlxuIl19