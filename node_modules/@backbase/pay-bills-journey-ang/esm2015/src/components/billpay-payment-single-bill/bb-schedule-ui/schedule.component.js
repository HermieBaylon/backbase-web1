import { Component, Input } from '@angular/core';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { FrequencyKeys, EndTypes, PaymentServicesTypes, formControlOptions, BillpayUtilityService as Utility, } from '@backbase/billpay-journeys-common';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/billpay-journeys-common";
import * as i2 from "@backbase/ui-ang/dropdown-single-select";
import * as i3 from "@backbase/ui-ang/input-radio-group";
import * as i4 from "@backbase/ui-ang/input-datepicker";
import * as i5 from "@backbase/ui-ang/input-validation-message";
import * as i6 from "@backbase/ui-ang/input-number";
import * as i7 from "@backbase/ui-ang/alert";
import * as i8 from "@backbase/ui-ang/input-checkbox";
import * as i9 from "@angular/forms";
import * as i10 from "@angular/common";
export class ScheduleComponent {
    /** @internal */
    constructor(scheduleService) {
        this.scheduleService = scheduleService;
        this.startDateLabelId = Utility.generateId();
        this.endingLabelId = Utility.generateId();
        this.id = Utility.generateId();
        /**
         * Set initial payment service for the initial component state.
         */
        this.defaultPaymentServiceType = PaymentServicesTypes.Regular;
        /**
         * Mark the form as submitted, controls validation elements. Defaults to false.
         */
        this.formSubmitted = false;
        this.destroy$ = new Subject();
    }
    get paymentServiceRadios() {
        return this._paymentServiceRadios;
    }
    get frequencyValues() {
        return FrequencyKeys;
    }
    get endTypes() {
        return EndTypes;
    }
    get item() {
        return this.scheduleForm && this.scheduleForm.getRawValue();
    }
    get paymentServicesTypes() {
        return PaymentServicesTypes;
    }
    setDefaultPaymentServiceValue(index, options) {
        // set default value from initial state form for mapped `paymentServiceRadios`
        const paymentServiceControl = this.scheduleForm && this.scheduleForm.controls['paymentService'];
        if (paymentServiceControl) {
            paymentServiceControl.setValue(this.paymentServiceRadios &&
                this.paymentServiceRadios.find(item => !!(item.service && item.index === (index || paymentServiceControl.value.index))), options);
        }
    }
    ngOnInit() {
        if (this.scheduleForm === undefined) {
            throw new Error('`scheduleForm` input is required in `bb-schedule-ui` component');
        }
        if (this.frequencies === undefined) {
            throw new Error('`frequencies` input is required in `bb-schedule-ui` component');
        }
        this.processEndTypeValueChanges();
        this.processPaymentServiceValueChanges();
        this.processFrequencyValueChanges();
    }
    ngOnChanges(changes) {
        if (changes.paymentServices) {
            const isFirstChange = !this.paymentServiceRadios;
            const service = changes.paymentServices.currentValue;
            this._paymentServiceRadios =
                service &&
                    service.map(item => ({
                        index: item.paymentServiceType || '',
                        service: item,
                    }));
            if (this._paymentServiceRadios) {
                this._paymentServiceRadios.push({
                    index: PaymentServicesTypes.Other,
                    service: service && service.find(item => item.paymentServiceType === PaymentServicesTypes.Regular),
                });
            }
            this.setDefaultPaymentServiceValue(this.defaultPaymentServiceType, { emitEvent: !isFirstChange });
        }
    }
    processEndTypeValueChanges() {
        if (!this.scheduleForm)
            return;
        const endTypeControl = this.scheduleForm.controls['endType'];
        const endDateControl = this.scheduleForm.controls['endDate'];
        const repeatControl = this.scheduleForm.controls['repeat'];
        if (endTypeControl && endDateControl && repeatControl) {
            endTypeControl.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {
                switch (value) {
                    case EndTypes.After: {
                        repeatControl.enable(formControlOptions);
                        endDateControl.disable(formControlOptions);
                        break;
                    }
                    case EndTypes.On: {
                        endDateControl.enable(formControlOptions);
                        repeatControl.disable(formControlOptions);
                        break;
                    }
                    case EndTypes.Never:
                    default: {
                        endDateControl.disable(formControlOptions);
                        repeatControl.disable(formControlOptions);
                        break;
                    }
                }
            });
        }
    }
    processPaymentServiceValueChanges() {
        if (!this.scheduleForm)
            return;
        const startDateControl = this.scheduleForm.controls['startDate'];
        const paymentServiceControl = this.scheduleForm.controls['paymentService'];
        const paymentServiceDateControl = this.scheduleForm.controls['paymentServiceDate'];
        const frequencyControl = this.scheduleForm.controls['frequency'];
        const disableStartDate = () => frequencyControl.value === FrequencyKeys.Once && startDateControl.disable(formControlOptions);
        if (startDateControl && paymentServiceControl && paymentServiceDateControl && frequencyControl) {
            paymentServiceControl.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {
                if (value.index === PaymentServicesTypes.Other) {
                    startDateControl.enable(formControlOptions);
                    paymentServiceDateControl.disable(formControlOptions);
                }
                else {
                    paymentServiceDateControl.enable(formControlOptions);
                    disableStartDate();
                    paymentServiceDateControl.setValue(this.getEstimatedStartDate(value.service.paymentServiceType));
                }
            });
        }
    }
    processFrequencyValueChanges() {
        if (!this.scheduleForm)
            return;
        const endTypeControl = this.scheduleForm.controls['endType'];
        const endDateControl = this.scheduleForm.controls['endDate'];
        const repeatControl = this.scheduleForm.controls['repeat'];
        const startDateControl = this.scheduleForm.controls['startDate'];
        const paymentServiceControl = this.scheduleForm.controls['paymentService'];
        const frequencyControl = this.scheduleForm.controls['frequency'];
        const paymentServiceDateControl = this.scheduleForm.controls['paymentServiceDate'];
        if (startDateControl && frequencyControl && paymentServiceControl && endTypeControl && endDateControl) {
            frequencyControl.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {
                if (value === FrequencyKeys.Once) {
                    paymentServiceControl.enable(formControlOptions);
                    paymentServiceControl.updateValueAndValidity();
                    paymentServiceDateControl.enable(formControlOptions);
                    endDateControl.disable(formControlOptions);
                    endTypeControl.disable(formControlOptions);
                    repeatControl.disable(formControlOptions);
                }
                else {
                    paymentServiceControl.disable(formControlOptions);
                    paymentServiceDateControl.disable(formControlOptions);
                    startDateControl.enable(formControlOptions);
                    endDateControl.enable(formControlOptions);
                    repeatControl.enable(formControlOptions);
                    endTypeControl.enable();
                }
            });
        }
    }
    getEstimatedStartDate(serviceType) {
        const services = this.paymentServiceRadios && this.paymentServiceRadios.map(item => item.service);
        return this.scheduleService.estimatedPaymentServiceDate(services, serviceType);
    }
    getEstimatedEndDate() {
        const startDate = this.scheduleForm && this.scheduleForm.controls['startDate'].value;
        const occurrences = this.scheduleForm && this.scheduleForm.controls['repeat'].value;
        const freq = this.scheduleForm && this.scheduleForm.controls['frequency'].value;
        return startDate && this.scheduleService.estimatedEndDate(startDate, freq, occurrences);
    }
    getEstimatedOccurs() {
        const startDate = this.scheduleForm && this.scheduleForm.controls['startDate'].value;
        const endDate = this.scheduleForm && this.scheduleForm.controls['endDate'].value;
        const freq = this.scheduleForm && this.scheduleForm.controls['frequency'].value;
        return (startDate && this.scheduleService.estimatedOccurences(startDate, endDate, freq)) || 0;
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
}
ScheduleComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ScheduleComponent, deps: [{ token: i1.BillpayPaymentScheduleService }], target: i0.ɵɵFactoryTarget.Component });
ScheduleComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: ScheduleComponent, selector: "bb-schedule-ui", inputs: { frequencies: "frequencies", minOccurs: "minOccurs", maxOccurs: "maxOccurs", scheduleForm: "scheduleForm", minDate: "minDate", defaultPaymentServiceType: "defaultPaymentServiceType", formSubmitted: "formSubmitted", paymentServices: "paymentServices" }, usesOnChanges: true, ngImport: i0, template: "<div [formGroup]=\"scheduleForm\" class=\"bb-block bb-block--md\">\n  <div class=\"bb-form-field bb-form-field--md bb-block bb-block--md\" *ngIf=\"frequencies?.length\">\n    <label\n      data-role=\"frequency-label\"\n      class=\"form-label\"\n      i18n=\"\n        Schedule frequency label|Label for a frequency dropdown in the component@@billpay.bb-schedule-ui.label.frequency\"\n    >\n      Frequency\n    </label>\n    <bb-dropdown-single-select-ui data-role=\"frequency-dropdown\" aria-label=\"frequency\" formControlName=\"frequency\">\n      <bb-dropdown-single-select-option-ui\n        *ngFor=\"let frequency of frequencies\"\n        [value]=\"frequency.value\"\n        [label]=\"frequency.name\"\n      ></bb-dropdown-single-select-option-ui>\n    </bb-dropdown-single-select-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--md\" [hidden]=\"item?.frequency !== frequencyValues.Once\">\n    <label\n      data-role=\"payment-date-label\"\n      class=\"bb-label\"\n      i18n=\"\n        Schedule once payment section name|Label for the section containing inputs that determine way of once payment\n        the scheduled payments@@billpay.bb-schedule-ui.label.once-date\"\n    >\n      Execution date\n    </label>\n    <bb-input-radio-group-ui\n      data-role=\"once-payment-group\"\n      formControlName=\"paymentService\"\n      [required]=\"true\"\n      aria-label=\"once-date-type\"\n    >\n      <bb-input-radio-ui\n        *ngFor=\"let radio of paymentServiceRadios\"\n        [value]=\"radio\"\n        aria-invalid=\"false\"\n        [labelTemplate]=\"radio.index !== 'OTHER' ? paymentServiceLabelTemplate : paymentServiceOtherLabelTemplate\"\n      >\n        <ng-template #paymentServiceLabelTemplate>\n          <div class=\"bb-text-align-left\">\n            <div>\n              <span\n                data-role=\"payment-option\"\n                i18n=\"Service label list|Radio Label@@billpay.bb-input-radio-ui.radio.label.once-date.service\"\n              >\n                { radio.service.paymentServiceType, select, REGULAR_PAYMENT {Earliest free delivery} EXPEDITED_PAYMENT\n                {Rush payment} OVERNIGHT_CHECK {Overnight check} }\n              </span>\n              <span\n                *ngIf=\"\n                  radio.service.paymentServiceType === paymentServicesTypes.Expedited ||\n                  radio.service.paymentServiceType === paymentServicesTypes.Overnight\n                \"\n                i18n=\"\n                  Service label fee text|Radio Label fee@@billpay.bb-input-radio-ui.radio.label.once-date.service.fee\"\n                >&nbsp;-&nbsp;{{\n                  radio.service.fee.amount | currency: radio.service.fee.currencyCode:'symbol-narrow'\n                }}&nbsp;fee</span\n              >\n            </div>\n            <div\n              data-role=\"delivery-by\"\n              class=\"bb-text-support bb-subtitle\"\n              i18n=\"\n                Service label subtext|Radio Label\n                subtext@@billpay.bb-input-radio-ui.radio.label.once-date.service.subtext\"\n            >\n              Delivery by {{ getEstimatedStartDate(radio.service.paymentServiceType) | date: 'longDate' }}\n            </div>\n          </div>\n        </ng-template>\n        <ng-template #paymentServiceOtherLabelTemplate>\n          <div class=\"bb-stack\">\n            <span\n              class=\"bb-stack__item bb-text-bold\"\n              id=\"billpay-schedule-other-date-{{ id }}\"\n              i18n=\"Other date|Radio Label@@billpay.bb-input-radio-ui.radio.label.once-date.other\"\n              data-role=\"other-date-label\"\n              >Other date</span\n            >\n            <span class=\"bb-stack__item\">\n              <bb-input-datepicker-ui\n                (click)=\"$event.preventDefault()\"\n                formControlName=\"startDate\"\n                [minDate]=\"minDate\"\n                data-role=\"once-start-date-calendar\"\n                aria-label=\"start-date\"\n                placement=\"top-right\"\n                aria-labelledby=\"billpay-schedule-other-date-{{ id }}\"\n                [datepickerDescribedby]=\"'billpay-schedule-other-date-describe-{{ id }}'\"\n              ></bb-input-datepicker-ui>\n              <bb-input-validation-message-ui\n                role=\"alert\"\n                id=\"'billpay-schedule-other-date-describe-{{ id }}'\"\n                [showErrors]=\"scheduleForm?.get('startDate')?.invalid && formSubmitted\"\n              >\n                <span\n                  *ngIf=\"scheduleForm?.get('startDate')?.errors?.required\"\n                  i18n=\"\n                    Execution date required error text|Error required message for Execution date input\n                    field@@billpay.bb-schedule-ui.error.required.startDate\"\n                  data-role=\"missing-schedule-execution-date\"\n                >\n                  Execution date is required.\n                </span>\n                <span\n                  *ngIf=\"scheduleForm?.get('startDate')?.errors?.pastDate\"\n                  i18n=\"\n                    Execution date past date error text |Error past date message for Execution date input\n                    field@@billpay.bb-schedule-ui.error.pastDate.startDate\"\n                  data-role=\"past-date-schedule-execution-date\"\n                >\n                  Execution date cannot be before delivery date.\n                </span>\n                <span\n                  *ngIf=\"scheduleForm?.get('startDate')?.errors?.invalidDateFormat\"\n                  i18n=\"\n                    Execution date invalid date error text |Error invalid date format message for Execution date input\n                    field@@billpay.bb-schedule-ui.error.invalidDateFormat\"\n                  data-role=\"invalid-date-schedule-execution-date\"\n                >\n                  Invalid date format.\n                </span>\n              </bb-input-validation-message-ui>\n            </span>\n          </div>\n        </ng-template>\n      </bb-input-radio-ui>\n    </bb-input-radio-group-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--md\" *ngIf=\"item?.frequency !== frequencyValues.Once\">\n    <label id=\"{{ startDateLabelId }}\" class=\"bb-text-bold\">\n      <span\n        *ngIf=\"true\"\n        id=\"billpay-schedule-start-date-{{ id }}\"\n        i18n-label=\"\n          Schedule start label|Label for an start date in scheduling component@@billpay.bb-schedule-ui.label.start\"\n        data-role=\"start-date-label\"\n      >\n        Start on\n      </span>\n    </label>\n    <div class=\"bb-form-field bb-form-field--sm\">\n      <bb-input-datepicker-ui\n        [aria-labelledby]=\"startDateLabelId\"\n        formControlName=\"startDate\"\n        [minDate]=\"minDate\"\n        data-role=\"start-date-calendar\"\n        aria-labelledby=\"billpay-schedule-start-date-{{ id }}\"\n        [datepickerDescribedby]=\"'billpay-schedule-start-date-error-{{ id }}'\"\n      ></bb-input-datepicker-ui>\n    </div>\n\n    <bb-input-validation-message-ui\n      id=\"'billpay-schedule-start-date-error-{{ id }}'\"\n      role=\"alert\"\n      [showErrors]=\"scheduleForm?.get('startDate')?.invalid && formSubmitted\"\n    >\n      <span\n        *ngIf=\"scheduleForm?.get('startDate')?.errors?.required\"\n        i18n=\"\n          Execution date required error text|Error required message for Execution date input\n          field@@billpay.bb-schedule-ui.error.required.startDate\"\n        data-role=\"missing-schedule-execution-date\"\n      >\n        Execution date is required.\n      </span>\n      <span\n        *ngIf=\"\n          scheduleForm?.get('startDate')?.errors?.pastDate ||\n          scheduleForm?.get('startDate')?.errors?.dateLessThanMinDate\n        \"\n        i18n=\"\n          Execution date past date error text |Error past date message for Execution date input\n          field@@billpay.bb-schedule-ui.error.pastDate.startDate\"\n        data-role=\"past-date-schedule-execution-date\"\n      >\n        Execution date cannot be before delivery date.\n      </span>\n      <span\n        *ngIf=\"scheduleForm?.get('startDate')?.errors?.invalidDateFormat\"\n        i18n=\"\n          Execution date invalid date error text |Error invalid date format message for Execution date input\n          field@@billpay.bb-schedule-ui.error.invalidDateFormat\"\n        data-role=\"invalid-date-schedule-execution-date\"\n      >\n        Invalid date format.\n      </span>\n    </bb-input-validation-message-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--md\" [hidden]=\"item?.frequency == frequencyValues.Once\">\n    <label\n      id=\"{{ endingLabelId }}\"\n      data-role=\"ending-label\"\n      class=\"bb-label\"\n      i18n=\"\n        Schedule ending section name|Label for the section containing inputs that determine way of ending of the\n        scheduled payments@@billpay.bb-schedule-ui.label.ending\"\n    >\n      End\n    </label>\n    <div class=\"bb-stack bb-stack--align-bottom\">\n      <div class=\"bb-stack__item\">\n        <bb-input-radio-group-ui [required]=\"true\" formControlName=\"endType\">\n          <bb-input-radio-ui\n            [value]=\"endTypes.Never\"\n            label=\"Never\"\n            aria-invalid=\"false\"\n            i18n-label=\"\n              Schedule never ends|Label for an option to never end the payment\n              schedule@@billpay.bb-schedule-ui.label.ending.never\"\n          >\n          </bb-input-radio-ui>\n          <bb-input-radio-ui [value]=\"endTypes.On\" aria-invalid=\"false\" [labelTemplate]=\"endingTemplate\">\n          </bb-input-radio-ui>\n          <bb-input-radio-ui [value]=\"endTypes.After\" aria-invalid=\"false\" [labelTemplate]=\"afterTemplate\">\n          </bb-input-radio-ui>\n          <ng-template #endingTemplate>\n            <div class=\"bb-stack\">\n              <span\n                data-role=\"ending-date-on-label\"\n                class=\"bb-stack__item bb-stack__item--spacing-lg\"\n                id=\"billpay-schedule-end-date-on-{{ id }}\"\n                i18n=\"\n                  Schedule end date|Label for an option to end the payment schedule on a specific\n                  date@@billpay.bb-schedule-ui.label.ending.on\"\n                >On</span\n              >\n              <div class=\"bb-stack__item\">\n                <bb-input-datepicker-ui\n                  formControlName=\"endDate\"\n                  data-role=\"ending-end-date\"\n                  i18n-aria-label=\"\n                    Schedule end date datepicker label|Aria label for end date payment schedule\n                    control@@billpay.bb-schedule-ui.label.end-date\"\n                  aria-label=\"end-date\"\n                  [minDate]=\"scheduleForm?.get('startDate')?.value\"\n                  placement=\"top-right\"\n                  aria-labelledby=\"billpay-schedule-end-date-on-{{ id }}\"\n                ></bb-input-datepicker-ui>\n                <bb-input-validation-message-ui\n                  role=\"alert\"\n                  *ngIf=\"scheduleForm?.get('endDate') as control\"\n                  [showErrors]=\"control?.invalid && formSubmitted\"\n                >\n                  <span\n                    *ngIf=\"control?.errors?.pastDate || control?.errors?.dateLessThanMinDate\"\n                    i18n=\"\n                      End date past date error text |Error past date message for End date input\n                      field@@billpay.bb-schedule-ui.end-date.past-date-error\"\n                    data-role=\"past-date-ending-end-date\"\n                  >\n                    End date could not be lower than start date.\n                  </span>\n                  <span\n                    *ngIf=\"control?.errors?.invalidDateFormat\"\n                    i18n=\"\n                      End date invalid date error text |Error invalid date format message for End date input\n                      field@@billpay.bb-schedule-ui.end-date.invalid-date-format-error\"\n                    data-role=\"invalid-date-schedule-end-date\"\n                  >\n                    Invalid date format.\n                  </span>\n                  <span\n                    *ngIf=\"control?.errors?.required\"\n                    i18n=\"\n                      End date invalid date error text |Date is required for End date input\n                      field@@billpay.bb-schedule-ui.end-date.date-required-error\"\n                    data-role=\"required-date-schedule-end-date\"\n                  >\n                    End date is required.\n                  </span>\n                </bb-input-validation-message-ui>\n              </div>\n            </div>\n          </ng-template>\n          <ng-template #afterTemplate>\n            <div class=\"bb-stack\">\n              <span\n                class=\"bb-stack__item bb-stack__item--spacing-sm\"\n                i18n=\"\n                  Schedule number of occurrences|Label for an option to end the payment schedule after some number of\n                  occurrences@@billpay.bb-schedule-ui.label.ending.after\"\n              >\n                After\n              </span>\n              <div class=\"bb-stack__item\">\n                <div class=\"bb-stack\">\n                  <div class=\"bb-stack__item bb-form-field bb-form-field--xs\">\n                    <bb-input-number-ui\n                      formControlName=\"repeat\"\n                      [min]=\"minOccurs\"\n                      [max]=\"maxOccurs\"\n                      data-role=\"ending-occurrences\"\n                      aria-label=\"occurrences\"\n                    ></bb-input-number-ui>\n                  </div>\n                  <span\n                    class=\"bb-stack__item\"\n                    i18n-label=\"\n                      Schedule occurrences text|Text to be appended after schedule end after some number of occurrences\n                      input@@billpay.bb-schedule-ui.label.ending.occurrences\"\n                  >\n                    Occurrences\n                  </span>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n        </bb-input-radio-group-ui>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf=\"item?.frequency !== frequencyValues.Once && item?.endType !== endTypes.Never && item?.startDate\">\n    <bb-alert-ui modifier=\"info\" title=\"\">\n      <span class=\"bb-text-bold\" *ngIf=\"item?.endType === endTypes.After\" data-role=\"estimated-end-date-label\">\n        <span\n          i18n=\"Estimated end date|Label for estimated end date section@@billpay.bb-schedule-ui.label.estimated.date\"\n        >\n          Estimated end date {{ getEstimatedEndDate() | date: 'longDate' }}\n        </span>\n      </span>\n      <span class=\"bb-text-bold\" *ngIf=\"item?.endType === endTypes.On\">\n        <ng-container\n          i18n=\"\n            Estimated payment in total|Label for estimated payment in total\n            section@@billpay.bb-schedule-ui.label.estimated.occurs\"\n        >\n          { getEstimatedOccurs(), plural, =1 { {{ getEstimatedOccurs() }} payment in total } other {\n          {{ getEstimatedOccurs() }} payments in total }}\n        </ng-container>\n      </span>\n    </bb-alert-ui>\n  </div>\n  <div class=\"bb-block bb-block--md\" [hidden]=\"item?.frequency == frequencyValues.Once\">\n    <label\n      data-role=\"notify-me-label\"\n      class=\"bb-text-bold\"\n      i18n=\"\n        Notify me section name|Label for the section notify containing checkboxes @@billpay.bb-schedule-ui.label.notify\"\n    >\n      Notify me\n    </label>\n    <div>\n      <div class=\"bb-block bb-block--xs\">\n        <bb-input-checkbox-ui\n          [id]=\"'alertPendingCheckbox'\"\n          label=\"When a payment is pending\"\n          i18n-label=\"When a payment is pending|Checkbox Label@@bb-input-checkbox-ui.checkbox.label.pending\"\n          formControlName=\"alertPendingCheckbox\"\n        >\n        </bb-input-checkbox-ui>\n      </div>\n      <div class=\"bb-block bb-block--xs\">\n        <bb-input-checkbox-ui\n          [id]=\"'alertSentCheckbox'\"\n          label=\"When a payment has been sent\"\n          i18n-label=\"When a payment has been sent|Checkbox Label@@bb-input-checkbox-ui.checkbox.label.sent\"\n          formControlName=\"alertSentCheckbox\"\n        >\n        </bb-input-checkbox-ui>\n      </div>\n      <div>\n        <bb-input-checkbox-ui\n          [id]=\"'alertLastPendingCheckbox'\"\n          label=\"When the last payment is pending\"\n          i18n-label=\"When the last payment is pending|Checkbox Label@@bb-input-checkbox-ui.checkbox.label.last-pending\"\n          formControlName=\"alertLastPendingCheckbox\"\n        >\n        </bb-input-checkbox-ui>\n      </div>\n    </div>\n  </div>\n</div>\n", components: [{ type: i2.DropdownSingleSelectComponent, selector: "bb-dropdown-single-select-ui", inputs: ["placeholder", "defaultOptionAsPlaceholder", "options", "displayAttributePath", "iconName", "compareWithFn"] }, { type: i2.DropdownSingleSelectOptionComponent, selector: "bb-dropdown-single-select-option-ui", inputs: ["value", "label"] }, { type: i3.InputRadioGroupComponent, selector: "bb-input-radio-group-ui", inputs: ["horizontal", "preselect", "name", "verticalAlign"] }, { type: i3.InputRadioComponent, selector: "bb-input-radio-ui", inputs: ["labelTemplate", "labelTemplateContext", "value", "label", "aria-label", "aria-labelledby", "aria-describedby", "role", "aria-activedescendant", "aria-expanded", "aria-invalid", "aria-owns", "disabled"] }, { type: i4.InputDatepickerComponent, selector: "bb-input-datepicker-ui", inputs: ["rangeSelection", "rangeSelectionSplit", "clickOpen", "focusOpen", "placement", "datepickerDescribedby", "ariaLabelForButton", "minDate", "maxDate", "markDisabled", "icon", "iconSize", "iconColor", "btnColor", "ariaLabel", "navigation", "autocomplete", "firstDayOfWeek", "displayMonths", "placeholder", "overrideDateFormat"], outputs: ["focusedDate"] }, { type: i5.InputValidationMessageComponent, selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i6.InputNumberComponent, selector: "bb-input-number-ui", inputs: ["placeholder", "max", "min", "step", "readonly", "autocomplete", "ariaLabel", "allowNonDigits", "allowNegativeSign"] }, { type: i7.AlertComponent, selector: "bb-alert-ui", inputs: ["modifier", "dismissible", "title", "message"], outputs: ["close"] }, { type: i8.InputCheckboxComponent, selector: "bb-input-checkbox-ui", inputs: ["indeterminate"], outputs: ["indeterminateChange"] }], directives: [{ type: i9.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i9.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i10.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i9.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i9.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i10.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i9.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i4.MinDateValidatorDirective, selector: "bb-input-datepicker-ui[minDate]", inputs: ["minDate"] }], pipes: { "currency": i10.CurrencyPipe, "date": i10.DatePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ScheduleComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-schedule-ui',
                    templateUrl: './schedule.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.BillpayPaymentScheduleService }]; }, propDecorators: { frequencies: [{
                type: Input
            }], minOccurs: [{
                type: Input
            }], maxOccurs: [{
                type: Input
            }], scheduleForm: [{
                type: Input
            }], minDate: [{
                type: Input
            }], defaultPaymentServiceType: [{
                type: Input
            }], formSubmitted: [{
                type: Input
            }], paymentServices: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmItc2NoZWR1bGUtdWkvc2NoZWR1bGUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmItc2NoZWR1bGUtdWkvc2NoZWR1bGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQStDLE1BQU0sZUFBZSxDQUFDO0FBRTlGLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFL0IsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNDLE9BQU8sRUFDTCxhQUFhLEVBQ2IsUUFBUSxFQUNSLG9CQUFvQixFQUdwQixrQkFBa0IsRUFFbEIscUJBQXFCLElBQUksT0FBTyxHQUNqQyxNQUFNLG1DQUFtQyxDQUFDOzs7Ozs7Ozs7Ozs7QUFNM0MsTUFBTSxPQUFPLGlCQUFpQjtJQXlDNUIsZ0JBQWdCO0lBQ2hCLFlBQTZCLGVBQThDO1FBQTlDLG9CQUFlLEdBQWYsZUFBZSxDQUErQjtRQXpDbEUscUJBQWdCLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3hDLGtCQUFhLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3JDLE9BQUUsR0FBRyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7UUFxQm5DOztXQUVHO1FBQ00sOEJBQXlCLEdBQXlCLG9CQUFvQixDQUFDLE9BQU8sQ0FBQztRQUN4Rjs7V0FFRztRQUNNLGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBUWQsYUFBUSxHQUFHLElBQUksT0FBTyxFQUFRLENBQUM7SUFHOEIsQ0FBQztJQUUvRSxJQUFJLG9CQUFvQjtRQUN0QixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ04sT0FBTyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVELElBQUksb0JBQW9CO1FBQ3RCLE9BQU8sb0JBQW9CLENBQUM7SUFDOUIsQ0FBQztJQUVPLDZCQUE2QixDQUFDLEtBQTRCLEVBQUUsT0FBZ0I7UUFDbEYsOEVBQThFO1FBQzlFLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2hHLElBQUkscUJBQXFCLEVBQUU7WUFDekIscUJBQXFCLENBQUMsUUFBUSxDQUM1QixJQUFJLENBQUMsb0JBQW9CO2dCQUN2QixJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUM1QixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLEtBQUssSUFBSSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FDeEYsRUFDSCxPQUFPLENBQ1IsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO1lBQ25DLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0VBQWdFLENBQUMsQ0FBQztTQUNuRjtRQUVELElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQywrREFBK0QsQ0FBQyxDQUFDO1NBQ2xGO1FBRUQsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7UUFFbEMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLENBQUM7UUFFekMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVELFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxJQUFJLE9BQU8sQ0FBQyxlQUFlLEVBQUU7WUFDM0IsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7WUFDakQsTUFBTSxPQUFPLEdBQXNDLE9BQU8sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDO1lBQ3hGLElBQUksQ0FBQyxxQkFBcUI7Z0JBQ3hCLE9BQU87b0JBQ1AsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ25CLEtBQUssRUFBRSxJQUFJLENBQUMsa0JBQWtCLElBQUksRUFBRTt3QkFDcEMsT0FBTyxFQUFFLElBQUk7cUJBQ2QsQ0FBQyxDQUFDLENBQUM7WUFFTixJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQztvQkFDOUIsS0FBSyxFQUFFLG9CQUFvQixDQUFDLEtBQUs7b0JBQ2pDLE9BQU8sRUFBRSxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsS0FBSyxvQkFBb0IsQ0FBQyxPQUFPLENBQUM7aUJBQ25HLENBQUMsQ0FBQzthQUNKO1lBRUQsSUFBSSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7U0FDbkc7SUFDSCxDQUFDO0lBRU8sMEJBQTBCO1FBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFDL0IsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0QsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0QsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0QsSUFBSSxjQUFjLElBQUksY0FBYyxJQUFJLGFBQWEsRUFBRTtZQUNyRCxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUMzRSxRQUFRLEtBQUssRUFBRTtvQkFDYixLQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDbkIsYUFBYSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUN6QyxjQUFjLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7d0JBQzNDLE1BQU07cUJBQ1A7b0JBQ0QsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2hCLGNBQWMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQzt3QkFDMUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUMxQyxNQUFNO3FCQUNQO29CQUNELEtBQUssUUFBUSxDQUFDLEtBQUssQ0FBQztvQkFDcEIsT0FBTyxDQUFDLENBQUM7d0JBQ1AsY0FBYyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUMzQyxhQUFhLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7d0JBQzFDLE1BQU07cUJBQ1A7aUJBQ0Y7WUFDSCxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVPLGlDQUFpQztRQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVk7WUFBRSxPQUFPO1FBQy9CLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakUsTUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzNFLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNuRixNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pFLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxFQUFFLENBQzVCLGdCQUFnQixDQUFDLEtBQUssS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBRWhHLElBQUksZ0JBQWdCLElBQUkscUJBQXFCLElBQUkseUJBQXlCLElBQUksZ0JBQWdCLEVBQUU7WUFDOUYscUJBQXFCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNsRixJQUFJLEtBQUssQ0FBQyxLQUFLLEtBQUssb0JBQW9CLENBQUMsS0FBSyxFQUFFO29CQUM5QyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDNUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7aUJBQ3ZEO3FCQUFNO29CQUNMLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUNyRCxnQkFBZ0IsRUFBRSxDQUFDO29CQUNuQix5QkFBeUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO2lCQUNsRztZQUNILENBQUMsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDO0lBRU8sNEJBQTRCO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFDL0IsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0QsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0QsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0QsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxNQUFNLHFCQUFxQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDM0UsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxNQUFNLHlCQUF5QixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFFbkYsSUFBSSxnQkFBZ0IsSUFBSSxnQkFBZ0IsSUFBSSxxQkFBcUIsSUFBSSxjQUFjLElBQUksY0FBYyxFQUFFO1lBQ3JHLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDN0UsSUFBSSxLQUFLLEtBQUssYUFBYSxDQUFDLElBQUksRUFBRTtvQkFDaEMscUJBQXFCLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQ2pELHFCQUFxQixDQUFDLHNCQUFzQixFQUFFLENBQUM7b0JBQy9DLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUNyRCxjQUFjLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQzNDLGNBQWMsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDM0MsYUFBYSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2lCQUMzQztxQkFBTTtvQkFDTCxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDbEQseUJBQXlCLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQ3RELGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUM1QyxjQUFjLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQzFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDekMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUN6QjtZQUNILENBQUMsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDO0lBRUQscUJBQXFCLENBQUMsV0FBaUM7UUFDckQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEcsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLDJCQUEyQixDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3JGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3BGLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBRWhGLE9BQU8sU0FBUyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsU0FBbUIsRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNyRixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNqRixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUVoRixPQUFPLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsU0FBbUIsRUFBRSxPQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BILENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzNCLENBQUM7OytHQS9OVSxpQkFBaUI7bUdBQWpCLGlCQUFpQixpVkNwQjlCLGdqaEJBNFhBOzRGRHhXYSxpQkFBaUI7a0JBSjdCLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtvQkFDMUIsV0FBVyxFQUFFLDJCQUEyQjtpQkFDekM7b0hBUVUsV0FBVztzQkFBbkIsS0FBSztnQkFJRyxTQUFTO3NCQUFqQixLQUFLO2dCQUlHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBSUcsWUFBWTtzQkFBcEIsS0FBSztnQkFJRyxPQUFPO3NCQUFmLEtBQUs7Z0JBSUcseUJBQXlCO3NCQUFqQyxLQUFLO2dCQUlHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBS0csZUFBZTtzQkFBdkIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgT25EZXN0cm95LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFBheW1lbnRTZXJ2aWNlIH0gZnJvbSAnQGJhY2tiYXNlL2RhdGEtYW5nL2JpbGxwYXknO1xuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtcbiAgRnJlcXVlbmN5S2V5cyxcbiAgRW5kVHlwZXMsXG4gIFBheW1lbnRTZXJ2aWNlc1R5cGVzLFxuICBQYXltZW50U2VydmljZVJhZGlvLFxuICBCaWxscGF5UGF5bWVudFNjaGVkdWxlU2VydmljZSxcbiAgZm9ybUNvbnRyb2xPcHRpb25zLFxuICBGcmVxdWVuY3ksXG4gIEJpbGxwYXlVdGlsaXR5U2VydmljZSBhcyBVdGlsaXR5LFxufSBmcm9tICdAYmFja2Jhc2UvYmlsbHBheS1qb3VybmV5cy1jb21tb24nO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1zY2hlZHVsZS11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9zY2hlZHVsZS5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIFNjaGVkdWxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcyB7XG4gIHJlYWRvbmx5IHN0YXJ0RGF0ZUxhYmVsSWQgPSBVdGlsaXR5LmdlbmVyYXRlSWQoKTtcbiAgcmVhZG9ubHkgZW5kaW5nTGFiZWxJZCA9IFV0aWxpdHkuZ2VuZXJhdGVJZCgpO1xuICByZWFkb25seSBpZCA9IFV0aWxpdHkuZ2VuZXJhdGVJZCgpO1xuICAvKipcbiAgICogQXJyYXkgb2YgdmFsaWQgZnJlcXVlbmNpZXMgdGhhdCBjYW4gYmUgdXNlZCB0byBzY2hlZHVsZSBwYXltZW50cy5cbiAgICovXG4gIEBJbnB1dCgpIGZyZXF1ZW5jaWVzOiBBcnJheTxGcmVxdWVuY3k+IHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogTWluaW11bSBvY2N1cnJlbmNlcyBmb3IgdGhlIG51bWJlciBvZiBvY2N1cnJlbmNlcyBpbnB1dCBib3guXG4gICAqL1xuICBASW5wdXQoKSBtaW5PY2N1cnM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE1heGltdW0gb2NjdXJyZW5jZXMgZm9yIHRoZSBudW1iZXIgb2Ygb2NjdXJyZW5jZXMgaW5wdXQgYm94LlxuICAgKi9cbiAgQElucHV0KCkgbWF4T2NjdXJzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBmb3JtIHRvIGJlIGRpc3BsYXllZC5cbiAgICovXG4gIEBJbnB1dCgpIHNjaGVkdWxlRm9ybTogRm9ybUdyb3VwIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogTWluaW11bSBzdGFydCBkYXRlIGZvciB0aGUgZGF0ZXBpY2tlciBlbGVtZW50cy5cbiAgICovXG4gIEBJbnB1dCgpIG1pbkRhdGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFNldCBpbml0aWFsIHBheW1lbnQgc2VydmljZSBmb3IgdGhlIGluaXRpYWwgY29tcG9uZW50IHN0YXRlLlxuICAgKi9cbiAgQElucHV0KCkgZGVmYXVsdFBheW1lbnRTZXJ2aWNlVHlwZTogUGF5bWVudFNlcnZpY2VzVHlwZXMgPSBQYXltZW50U2VydmljZXNUeXBlcy5SZWd1bGFyO1xuICAvKipcbiAgICogTWFyayB0aGUgZm9ybSBhcyBzdWJtaXR0ZWQsIGNvbnRyb2xzIHZhbGlkYXRpb24gZWxlbWVudHMuIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKi9cbiAgQElucHV0KCkgZm9ybVN1Ym1pdHRlZCA9IGZhbHNlO1xuICAvKipcbiAgICogRGlzcGxheSByZWxldmFudCBwYXltZW50IHNlcnZpY2UgcmFkaW8gYnV0dG9uIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gc2VydmljZXMgYXJyYXkgb2YgcGF5bWVudCBzZXJ2aWNlIGRldGFpbHMuXG4gICAqL1xuICBASW5wdXQoKSBwYXltZW50U2VydmljZXM6IEFycmF5PFBheW1lbnRTZXJ2aWNlPiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIF9wYXltZW50U2VydmljZVJhZGlvczogQXJyYXk8UGF5bWVudFNlcnZpY2VSYWRpbz4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVzdHJveSQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBzY2hlZHVsZVNlcnZpY2U6IEJpbGxwYXlQYXltZW50U2NoZWR1bGVTZXJ2aWNlKSB7fVxuXG4gIGdldCBwYXltZW50U2VydmljZVJhZGlvcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGF5bWVudFNlcnZpY2VSYWRpb3M7XG4gIH1cblxuICBnZXQgZnJlcXVlbmN5VmFsdWVzKCkge1xuICAgIHJldHVybiBGcmVxdWVuY3lLZXlzO1xuICB9XG5cbiAgZ2V0IGVuZFR5cGVzKCkge1xuICAgIHJldHVybiBFbmRUeXBlcztcbiAgfVxuXG4gIGdldCBpdGVtKCkge1xuICAgIHJldHVybiB0aGlzLnNjaGVkdWxlRm9ybSAmJiB0aGlzLnNjaGVkdWxlRm9ybS5nZXRSYXdWYWx1ZSgpO1xuICB9XG5cbiAgZ2V0IHBheW1lbnRTZXJ2aWNlc1R5cGVzKCkge1xuICAgIHJldHVybiBQYXltZW50U2VydmljZXNUeXBlcztcbiAgfVxuXG4gIHByaXZhdGUgc2V0RGVmYXVsdFBheW1lbnRTZXJ2aWNlVmFsdWUoaW5kZXg/OiBQYXltZW50U2VydmljZXNUeXBlcywgb3B0aW9ucz86IE9iamVjdCkge1xuICAgIC8vIHNldCBkZWZhdWx0IHZhbHVlIGZyb20gaW5pdGlhbCBzdGF0ZSBmb3JtIGZvciBtYXBwZWQgYHBheW1lbnRTZXJ2aWNlUmFkaW9zYFxuICAgIGNvbnN0IHBheW1lbnRTZXJ2aWNlQ29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtICYmIHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydwYXltZW50U2VydmljZSddO1xuICAgIGlmIChwYXltZW50U2VydmljZUNvbnRyb2wpIHtcbiAgICAgIHBheW1lbnRTZXJ2aWNlQ29udHJvbC5zZXRWYWx1ZShcbiAgICAgICAgdGhpcy5wYXltZW50U2VydmljZVJhZGlvcyAmJlxuICAgICAgICAgIHRoaXMucGF5bWVudFNlcnZpY2VSYWRpb3MuZmluZChcbiAgICAgICAgICAgIGl0ZW0gPT4gISEoaXRlbS5zZXJ2aWNlICYmIGl0ZW0uaW5kZXggPT09IChpbmRleCB8fCBwYXltZW50U2VydmljZUNvbnRyb2wudmFsdWUuaW5kZXgpKSxcbiAgICAgICAgICApLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAodGhpcy5zY2hlZHVsZUZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgc2NoZWR1bGVGb3JtYCBpbnB1dCBpcyByZXF1aXJlZCBpbiBgYmItc2NoZWR1bGUtdWlgIGNvbXBvbmVudCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZyZXF1ZW5jaWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZyZXF1ZW5jaWVzYCBpbnB1dCBpcyByZXF1aXJlZCBpbiBgYmItc2NoZWR1bGUtdWlgIGNvbXBvbmVudCcpO1xuICAgIH1cblxuICAgIHRoaXMucHJvY2Vzc0VuZFR5cGVWYWx1ZUNoYW5nZXMoKTtcblxuICAgIHRoaXMucHJvY2Vzc1BheW1lbnRTZXJ2aWNlVmFsdWVDaGFuZ2VzKCk7XG5cbiAgICB0aGlzLnByb2Nlc3NGcmVxdWVuY3lWYWx1ZUNoYW5nZXMoKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlcy5wYXltZW50U2VydmljZXMpIHtcbiAgICAgIGNvbnN0IGlzRmlyc3RDaGFuZ2UgPSAhdGhpcy5wYXltZW50U2VydmljZVJhZGlvcztcbiAgICAgIGNvbnN0IHNlcnZpY2U6IEFycmF5PFBheW1lbnRTZXJ2aWNlPiB8IHVuZGVmaW5lZCA9IGNoYW5nZXMucGF5bWVudFNlcnZpY2VzLmN1cnJlbnRWYWx1ZTtcbiAgICAgIHRoaXMuX3BheW1lbnRTZXJ2aWNlUmFkaW9zID1cbiAgICAgICAgc2VydmljZSAmJlxuICAgICAgICBzZXJ2aWNlLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgaW5kZXg6IGl0ZW0ucGF5bWVudFNlcnZpY2VUeXBlIHx8ICcnLFxuICAgICAgICAgIHNlcnZpY2U6IGl0ZW0sXG4gICAgICAgIH0pKTtcblxuICAgICAgaWYgKHRoaXMuX3BheW1lbnRTZXJ2aWNlUmFkaW9zKSB7XG4gICAgICAgIHRoaXMuX3BheW1lbnRTZXJ2aWNlUmFkaW9zLnB1c2goe1xuICAgICAgICAgIGluZGV4OiBQYXltZW50U2VydmljZXNUeXBlcy5PdGhlcixcbiAgICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlICYmIHNlcnZpY2UuZmluZChpdGVtID0+IGl0ZW0ucGF5bWVudFNlcnZpY2VUeXBlID09PSBQYXltZW50U2VydmljZXNUeXBlcy5SZWd1bGFyKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RGVmYXVsdFBheW1lbnRTZXJ2aWNlVmFsdWUodGhpcy5kZWZhdWx0UGF5bWVudFNlcnZpY2VUeXBlLCB7IGVtaXRFdmVudDogIWlzRmlyc3RDaGFuZ2UgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzRW5kVHlwZVZhbHVlQ2hhbmdlcygpIHtcbiAgICBpZiAoIXRoaXMuc2NoZWR1bGVGb3JtKSByZXR1cm47XG4gICAgY29uc3QgZW5kVHlwZUNvbnRyb2wgPSB0aGlzLnNjaGVkdWxlRm9ybS5jb250cm9sc1snZW5kVHlwZSddO1xuICAgIGNvbnN0IGVuZERhdGVDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2VuZERhdGUnXTtcbiAgICBjb25zdCByZXBlYXRDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ3JlcGVhdCddO1xuICAgIGlmIChlbmRUeXBlQ29udHJvbCAmJiBlbmREYXRlQ29udHJvbCAmJiByZXBlYXRDb250cm9sKSB7XG4gICAgICBlbmRUeXBlQ29udHJvbC52YWx1ZUNoYW5nZXMucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIEVuZFR5cGVzLkFmdGVyOiB7XG4gICAgICAgICAgICByZXBlYXRDb250cm9sLmVuYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgICAgZW5kRGF0ZUNvbnRyb2wuZGlzYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgRW5kVHlwZXMuT246IHtcbiAgICAgICAgICAgIGVuZERhdGVDb250cm9sLmVuYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgICAgcmVwZWF0Q29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBFbmRUeXBlcy5OZXZlcjpcbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBlbmREYXRlQ29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgICByZXBlYXRDb250cm9sLmRpc2FibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGF5bWVudFNlcnZpY2VWYWx1ZUNoYW5nZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNjaGVkdWxlRm9ybSkgcmV0dXJuO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZUNvbnRyb2wgPSB0aGlzLnNjaGVkdWxlRm9ybS5jb250cm9sc1snc3RhcnREYXRlJ107XG4gICAgY29uc3QgcGF5bWVudFNlcnZpY2VDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ3BheW1lbnRTZXJ2aWNlJ107XG4gICAgY29uc3QgcGF5bWVudFNlcnZpY2VEYXRlQ29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydwYXltZW50U2VydmljZURhdGUnXTtcbiAgICBjb25zdCBmcmVxdWVuY3lDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2ZyZXF1ZW5jeSddO1xuICAgIGNvbnN0IGRpc2FibGVTdGFydERhdGUgPSAoKSA9PlxuICAgICAgZnJlcXVlbmN5Q29udHJvbC52YWx1ZSA9PT0gRnJlcXVlbmN5S2V5cy5PbmNlICYmIHN0YXJ0RGF0ZUNvbnRyb2wuZGlzYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuXG4gICAgaWYgKHN0YXJ0RGF0ZUNvbnRyb2wgJiYgcGF5bWVudFNlcnZpY2VDb250cm9sICYmIHBheW1lbnRTZXJ2aWNlRGF0ZUNvbnRyb2wgJiYgZnJlcXVlbmN5Q29udHJvbCkge1xuICAgICAgcGF5bWVudFNlcnZpY2VDb250cm9sLnZhbHVlQ2hhbmdlcy5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSkuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4ID09PSBQYXltZW50U2VydmljZXNUeXBlcy5PdGhlcikge1xuICAgICAgICAgIHN0YXJ0RGF0ZUNvbnRyb2wuZW5hYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgcGF5bWVudFNlcnZpY2VEYXRlQ29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF5bWVudFNlcnZpY2VEYXRlQ29udHJvbC5lbmFibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgICBkaXNhYmxlU3RhcnREYXRlKCk7XG4gICAgICAgICAgcGF5bWVudFNlcnZpY2VEYXRlQ29udHJvbC5zZXRWYWx1ZSh0aGlzLmdldEVzdGltYXRlZFN0YXJ0RGF0ZSh2YWx1ZS5zZXJ2aWNlLnBheW1lbnRTZXJ2aWNlVHlwZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NGcmVxdWVuY3lWYWx1ZUNoYW5nZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNjaGVkdWxlRm9ybSkgcmV0dXJuO1xuICAgIGNvbnN0IGVuZFR5cGVDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2VuZFR5cGUnXTtcbiAgICBjb25zdCBlbmREYXRlQ29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydlbmREYXRlJ107XG4gICAgY29uc3QgcmVwZWF0Q29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydyZXBlYXQnXTtcbiAgICBjb25zdCBzdGFydERhdGVDb250cm9sID0gdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ3N0YXJ0RGF0ZSddO1xuICAgIGNvbnN0IHBheW1lbnRTZXJ2aWNlQ29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydwYXltZW50U2VydmljZSddO1xuICAgIGNvbnN0IGZyZXF1ZW5jeUNvbnRyb2wgPSB0aGlzLnNjaGVkdWxlRm9ybS5jb250cm9sc1snZnJlcXVlbmN5J107XG4gICAgY29uc3QgcGF5bWVudFNlcnZpY2VEYXRlQ29udHJvbCA9IHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydwYXltZW50U2VydmljZURhdGUnXTtcblxuICAgIGlmIChzdGFydERhdGVDb250cm9sICYmIGZyZXF1ZW5jeUNvbnRyb2wgJiYgcGF5bWVudFNlcnZpY2VDb250cm9sICYmIGVuZFR5cGVDb250cm9sICYmIGVuZERhdGVDb250cm9sKSB7XG4gICAgICBmcmVxdWVuY3lDb250cm9sLnZhbHVlQ2hhbmdlcy5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSkuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBGcmVxdWVuY3lLZXlzLk9uY2UpIHtcbiAgICAgICAgICBwYXltZW50U2VydmljZUNvbnRyb2wuZW5hYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgcGF5bWVudFNlcnZpY2VDb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoKTtcbiAgICAgICAgICBwYXltZW50U2VydmljZURhdGVDb250cm9sLmVuYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgIGVuZERhdGVDb250cm9sLmRpc2FibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgICBlbmRUeXBlQ29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgcmVwZWF0Q29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF5bWVudFNlcnZpY2VDb250cm9sLmRpc2FibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgICBwYXltZW50U2VydmljZURhdGVDb250cm9sLmRpc2FibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgICBzdGFydERhdGVDb250cm9sLmVuYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgIGVuZERhdGVDb250cm9sLmVuYWJsZShmb3JtQ29udHJvbE9wdGlvbnMpO1xuICAgICAgICAgIHJlcGVhdENvbnRyb2wuZW5hYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgICAgZW5kVHlwZUNvbnRyb2wuZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldEVzdGltYXRlZFN0YXJ0RGF0ZShzZXJ2aWNlVHlwZTogUGF5bWVudFNlcnZpY2VzVHlwZXMpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNlcnZpY2VzID0gdGhpcy5wYXltZW50U2VydmljZVJhZGlvcyAmJiB0aGlzLnBheW1lbnRTZXJ2aWNlUmFkaW9zLm1hcChpdGVtID0+IGl0ZW0uc2VydmljZSk7XG4gICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVTZXJ2aWNlLmVzdGltYXRlZFBheW1lbnRTZXJ2aWNlRGF0ZShzZXJ2aWNlcywgc2VydmljZVR5cGUpO1xuICB9XG5cbiAgZ2V0RXN0aW1hdGVkRW5kRGF0ZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMuc2NoZWR1bGVGb3JtICYmIHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydzdGFydERhdGUnXS52YWx1ZTtcbiAgICBjb25zdCBvY2N1cnJlbmNlcyA9IHRoaXMuc2NoZWR1bGVGb3JtICYmIHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydyZXBlYXQnXS52YWx1ZTtcbiAgICBjb25zdCBmcmVxID0gdGhpcy5zY2hlZHVsZUZvcm0gJiYgdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2ZyZXF1ZW5jeSddLnZhbHVlO1xuXG4gICAgcmV0dXJuIHN0YXJ0RGF0ZSAmJiB0aGlzLnNjaGVkdWxlU2VydmljZS5lc3RpbWF0ZWRFbmREYXRlKHN0YXJ0RGF0ZSBhcyBzdHJpbmcsIGZyZXEsIG9jY3VycmVuY2VzKTtcbiAgfVxuXG4gIGdldEVzdGltYXRlZE9jY3VycygpOiBudW1iZXIge1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMuc2NoZWR1bGVGb3JtICYmIHRoaXMuc2NoZWR1bGVGb3JtLmNvbnRyb2xzWydzdGFydERhdGUnXS52YWx1ZTtcbiAgICBjb25zdCBlbmREYXRlID0gdGhpcy5zY2hlZHVsZUZvcm0gJiYgdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2VuZERhdGUnXS52YWx1ZTtcbiAgICBjb25zdCBmcmVxID0gdGhpcy5zY2hlZHVsZUZvcm0gJiYgdGhpcy5zY2hlZHVsZUZvcm0uY29udHJvbHNbJ2ZyZXF1ZW5jeSddLnZhbHVlO1xuXG4gICAgcmV0dXJuIChzdGFydERhdGUgJiYgdGhpcy5zY2hlZHVsZVNlcnZpY2UuZXN0aW1hdGVkT2NjdXJlbmNlcyhzdGFydERhdGUgYXMgc3RyaW5nLCBlbmREYXRlIGFzIHN0cmluZywgZnJlcSkpIHx8IDA7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcbiAgICB0aGlzLmRlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsIjxkaXYgW2Zvcm1Hcm91cF09XCJzY2hlZHVsZUZvcm1cIiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiPlxuICA8ZGl2IGNsYXNzPVwiYmItZm9ybS1maWVsZCBiYi1mb3JtLWZpZWxkLS1tZCBiYi1ibG9jayBiYi1ibG9jay0tbWRcIiAqbmdJZj1cImZyZXF1ZW5jaWVzPy5sZW5ndGhcIj5cbiAgICA8bGFiZWxcbiAgICAgIGRhdGEtcm9sZT1cImZyZXF1ZW5jeS1sYWJlbFwiXG4gICAgICBjbGFzcz1cImZvcm0tbGFiZWxcIlxuICAgICAgaTE4bj1cIlxuICAgICAgICBTY2hlZHVsZSBmcmVxdWVuY3kgbGFiZWx8TGFiZWwgZm9yIGEgZnJlcXVlbmN5IGRyb3Bkb3duIGluIHRoZSBjb21wb25lbnRAQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkubGFiZWwuZnJlcXVlbmN5XCJcbiAgICA+XG4gICAgICBGcmVxdWVuY3lcbiAgICA8L2xhYmVsPlxuICAgIDxiYi1kcm9wZG93bi1zaW5nbGUtc2VsZWN0LXVpIGRhdGEtcm9sZT1cImZyZXF1ZW5jeS1kcm9wZG93blwiIGFyaWEtbGFiZWw9XCJmcmVxdWVuY3lcIiBmb3JtQ29udHJvbE5hbWU9XCJmcmVxdWVuY3lcIj5cbiAgICAgIDxiYi1kcm9wZG93bi1zaW5nbGUtc2VsZWN0LW9wdGlvbi11aVxuICAgICAgICAqbmdGb3I9XCJsZXQgZnJlcXVlbmN5IG9mIGZyZXF1ZW5jaWVzXCJcbiAgICAgICAgW3ZhbHVlXT1cImZyZXF1ZW5jeS52YWx1ZVwiXG4gICAgICAgIFtsYWJlbF09XCJmcmVxdWVuY3kubmFtZVwiXG4gICAgICA+PC9iYi1kcm9wZG93bi1zaW5nbGUtc2VsZWN0LW9wdGlvbi11aT5cbiAgICA8L2JiLWRyb3Bkb3duLXNpbmdsZS1zZWxlY3QtdWk+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIiBbaGlkZGVuXT1cIml0ZW0/LmZyZXF1ZW5jeSAhPT0gZnJlcXVlbmN5VmFsdWVzLk9uY2VcIj5cbiAgICA8bGFiZWxcbiAgICAgIGRhdGEtcm9sZT1cInBheW1lbnQtZGF0ZS1sYWJlbFwiXG4gICAgICBjbGFzcz1cImJiLWxhYmVsXCJcbiAgICAgIGkxOG49XCJcbiAgICAgICAgU2NoZWR1bGUgb25jZSBwYXltZW50IHNlY3Rpb24gbmFtZXxMYWJlbCBmb3IgdGhlIHNlY3Rpb24gY29udGFpbmluZyBpbnB1dHMgdGhhdCBkZXRlcm1pbmUgd2F5IG9mIG9uY2UgcGF5bWVudFxuICAgICAgICB0aGUgc2NoZWR1bGVkIHBheW1lbnRzQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmxhYmVsLm9uY2UtZGF0ZVwiXG4gICAgPlxuICAgICAgRXhlY3V0aW9uIGRhdGVcbiAgICA8L2xhYmVsPlxuICAgIDxiYi1pbnB1dC1yYWRpby1ncm91cC11aVxuICAgICAgZGF0YS1yb2xlPVwib25jZS1wYXltZW50LWdyb3VwXCJcbiAgICAgIGZvcm1Db250cm9sTmFtZT1cInBheW1lbnRTZXJ2aWNlXCJcbiAgICAgIFtyZXF1aXJlZF09XCJ0cnVlXCJcbiAgICAgIGFyaWEtbGFiZWw9XCJvbmNlLWRhdGUtdHlwZVwiXG4gICAgPlxuICAgICAgPGJiLWlucHV0LXJhZGlvLXVpXG4gICAgICAgICpuZ0Zvcj1cImxldCByYWRpbyBvZiBwYXltZW50U2VydmljZVJhZGlvc1wiXG4gICAgICAgIFt2YWx1ZV09XCJyYWRpb1wiXG4gICAgICAgIGFyaWEtaW52YWxpZD1cImZhbHNlXCJcbiAgICAgICAgW2xhYmVsVGVtcGxhdGVdPVwicmFkaW8uaW5kZXggIT09ICdPVEhFUicgPyBwYXltZW50U2VydmljZUxhYmVsVGVtcGxhdGUgOiBwYXltZW50U2VydmljZU90aGVyTGFiZWxUZW1wbGF0ZVwiXG4gICAgICA+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjcGF5bWVudFNlcnZpY2VMYWJlbFRlbXBsYXRlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi10ZXh0LWFsaWduLWxlZnRcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwicGF5bWVudC1vcHRpb25cIlxuICAgICAgICAgICAgICAgIGkxOG49XCJTZXJ2aWNlIGxhYmVsIGxpc3R8UmFkaW8gTGFiZWxAQGJpbGxwYXkuYmItaW5wdXQtcmFkaW8tdWkucmFkaW8ubGFiZWwub25jZS1kYXRlLnNlcnZpY2VcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyByYWRpby5zZXJ2aWNlLnBheW1lbnRTZXJ2aWNlVHlwZSwgc2VsZWN0LCBSRUdVTEFSX1BBWU1FTlQge0VhcmxpZXN0IGZyZWUgZGVsaXZlcnl9IEVYUEVESVRFRF9QQVlNRU5UXG4gICAgICAgICAgICAgICAge1J1c2ggcGF5bWVudH0gT1ZFUk5JR0hUX0NIRUNLIHtPdmVybmlnaHQgY2hlY2t9IH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICByYWRpby5zZXJ2aWNlLnBheW1lbnRTZXJ2aWNlVHlwZSA9PT0gcGF5bWVudFNlcnZpY2VzVHlwZXMuRXhwZWRpdGVkIHx8XG4gICAgICAgICAgICAgICAgICByYWRpby5zZXJ2aWNlLnBheW1lbnRTZXJ2aWNlVHlwZSA9PT0gcGF5bWVudFNlcnZpY2VzVHlwZXMuT3Zlcm5pZ2h0XG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBTZXJ2aWNlIGxhYmVsIGZlZSB0ZXh0fFJhZGlvIExhYmVsIGZlZUBAYmlsbHBheS5iYi1pbnB1dC1yYWRpby11aS5yYWRpby5sYWJlbC5vbmNlLWRhdGUuc2VydmljZS5mZWVcIlxuICAgICAgICAgICAgICAgID4mbmJzcDstJm5ic3A7e3tcbiAgICAgICAgICAgICAgICAgIHJhZGlvLnNlcnZpY2UuZmVlLmFtb3VudCB8IGN1cnJlbmN5OiByYWRpby5zZXJ2aWNlLmZlZS5jdXJyZW5jeUNvZGU6J3N5bWJvbC1uYXJyb3cnXG4gICAgICAgICAgICAgICAgfX0mbmJzcDtmZWU8L3NwYW5cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGRhdGEtcm9sZT1cImRlbGl2ZXJ5LWJ5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LXN1cHBvcnQgYmItc3VidGl0bGVcIlxuICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgU2VydmljZSBsYWJlbCBzdWJ0ZXh0fFJhZGlvIExhYmVsXG4gICAgICAgICAgICAgICAgc3VidGV4dEBAYmlsbHBheS5iYi1pbnB1dC1yYWRpby11aS5yYWRpby5sYWJlbC5vbmNlLWRhdGUuc2VydmljZS5zdWJ0ZXh0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRGVsaXZlcnkgYnkge3sgZ2V0RXN0aW1hdGVkU3RhcnREYXRlKHJhZGlvLnNlcnZpY2UucGF5bWVudFNlcnZpY2VUeXBlKSB8IGRhdGU6ICdsb25nRGF0ZScgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8bmctdGVtcGxhdGUgI3BheW1lbnRTZXJ2aWNlT3RoZXJMYWJlbFRlbXBsYXRlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja1wiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICBpZD1cImJpbGxwYXktc2NoZWR1bGUtb3RoZXItZGF0ZS17eyBpZCB9fVwiXG4gICAgICAgICAgICAgIGkxOG49XCJPdGhlciBkYXRlfFJhZGlvIExhYmVsQEBiaWxscGF5LmJiLWlucHV0LXJhZGlvLXVpLnJhZGlvLmxhYmVsLm9uY2UtZGF0ZS5vdGhlclwiXG4gICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm90aGVyLWRhdGUtbGFiZWxcIlxuICAgICAgICAgICAgICA+T3RoZXIgZGF0ZTwvc3BhblxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgICAgICA8YmItaW5wdXQtZGF0ZXBpY2tlci11aVxuICAgICAgICAgICAgICAgIChjbGljayk9XCIkZXZlbnQucHJldmVudERlZmF1bHQoKVwiXG4gICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwic3RhcnREYXRlXCJcbiAgICAgICAgICAgICAgICBbbWluRGF0ZV09XCJtaW5EYXRlXCJcbiAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJvbmNlLXN0YXJ0LWRhdGUtY2FsZW5kYXJcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJzdGFydC1kYXRlXCJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJ0b3AtcmlnaHRcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImJpbGxwYXktc2NoZWR1bGUtb3RoZXItZGF0ZS17eyBpZCB9fVwiXG4gICAgICAgICAgICAgICAgW2RhdGVwaWNrZXJEZXNjcmliZWRieV09XCInYmlsbHBheS1zY2hlZHVsZS1vdGhlci1kYXRlLWRlc2NyaWJlLXt7IGlkIH19J1wiXG4gICAgICAgICAgICAgID48L2JiLWlucHV0LWRhdGVwaWNrZXItdWk+XG4gICAgICAgICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWlcbiAgICAgICAgICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICAgICAgICAgIGlkPVwiJ2JpbGxwYXktc2NoZWR1bGUtb3RoZXItZGF0ZS1kZXNjcmliZS17eyBpZCB9fSdcIlxuICAgICAgICAgICAgICAgIFtzaG93RXJyb3JzXT1cInNjaGVkdWxlRm9ybT8uZ2V0KCdzdGFydERhdGUnKT8uaW52YWxpZCAmJiBmb3JtU3VibWl0dGVkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cInNjaGVkdWxlRm9ybT8uZ2V0KCdzdGFydERhdGUnKT8uZXJyb3JzPy5yZXF1aXJlZFwiXG4gICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgIEV4ZWN1dGlvbiBkYXRlIHJlcXVpcmVkIGVycm9yIHRleHR8RXJyb3IgcmVxdWlyZWQgbWVzc2FnZSBmb3IgRXhlY3V0aW9uIGRhdGUgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgZmllbGRAQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkuZXJyb3IucmVxdWlyZWQuc3RhcnREYXRlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm1pc3Npbmctc2NoZWR1bGUtZXhlY3V0aW9uLWRhdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEV4ZWN1dGlvbiBkYXRlIGlzIHJlcXVpcmVkLlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCJzY2hlZHVsZUZvcm0/LmdldCgnc3RhcnREYXRlJyk/LmVycm9ycz8ucGFzdERhdGVcIlxuICAgICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgICBFeGVjdXRpb24gZGF0ZSBwYXN0IGRhdGUgZXJyb3IgdGV4dCB8RXJyb3IgcGFzdCBkYXRlIG1lc3NhZ2UgZm9yIEV4ZWN1dGlvbiBkYXRlIGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmVycm9yLnBhc3REYXRlLnN0YXJ0RGF0ZVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJwYXN0LWRhdGUtc2NoZWR1bGUtZXhlY3V0aW9uLWRhdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEV4ZWN1dGlvbiBkYXRlIGNhbm5vdCBiZSBiZWZvcmUgZGVsaXZlcnkgZGF0ZS5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICpuZ0lmPVwic2NoZWR1bGVGb3JtPy5nZXQoJ3N0YXJ0RGF0ZScpPy5lcnJvcnM/LmludmFsaWREYXRlRm9ybWF0XCJcbiAgICAgICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICAgICAgRXhlY3V0aW9uIGRhdGUgaW52YWxpZCBkYXRlIGVycm9yIHRleHQgfEVycm9yIGludmFsaWQgZGF0ZSBmb3JtYXQgbWVzc2FnZSBmb3IgRXhlY3V0aW9uIGRhdGUgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgZmllbGRAQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkuZXJyb3IuaW52YWxpZERhdGVGb3JtYXRcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1kYXRlLXNjaGVkdWxlLWV4ZWN1dGlvbi1kYXRlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBJbnZhbGlkIGRhdGUgZm9ybWF0LlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICA8L2JiLWlucHV0LXJhZGlvLXVpPlxuICAgIDwvYmItaW5wdXQtcmFkaW8tZ3JvdXAtdWk+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIiAqbmdJZj1cIml0ZW0/LmZyZXF1ZW5jeSAhPT0gZnJlcXVlbmN5VmFsdWVzLk9uY2VcIj5cbiAgICA8bGFiZWwgaWQ9XCJ7eyBzdGFydERhdGVMYWJlbElkIH19XCIgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIj5cbiAgICAgIDxzcGFuXG4gICAgICAgICpuZ0lmPVwidHJ1ZVwiXG4gICAgICAgIGlkPVwiYmlsbHBheS1zY2hlZHVsZS1zdGFydC1kYXRlLXt7IGlkIH19XCJcbiAgICAgICAgaTE4bi1sYWJlbD1cIlxuICAgICAgICAgIFNjaGVkdWxlIHN0YXJ0IGxhYmVsfExhYmVsIGZvciBhbiBzdGFydCBkYXRlIGluIHNjaGVkdWxpbmcgY29tcG9uZW50QEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmxhYmVsLnN0YXJ0XCJcbiAgICAgICAgZGF0YS1yb2xlPVwic3RhcnQtZGF0ZS1sYWJlbFwiXG4gICAgICA+XG4gICAgICAgIFN0YXJ0IG9uXG4gICAgICA8L3NwYW4+XG4gICAgPC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiYmItZm9ybS1maWVsZCBiYi1mb3JtLWZpZWxkLS1zbVwiPlxuICAgICAgPGJiLWlucHV0LWRhdGVwaWNrZXItdWlcbiAgICAgICAgW2FyaWEtbGFiZWxsZWRieV09XCJzdGFydERhdGVMYWJlbElkXCJcbiAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwic3RhcnREYXRlXCJcbiAgICAgICAgW21pbkRhdGVdPVwibWluRGF0ZVwiXG4gICAgICAgIGRhdGEtcm9sZT1cInN0YXJ0LWRhdGUtY2FsZW5kYXJcIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJiaWxscGF5LXNjaGVkdWxlLXN0YXJ0LWRhdGUte3sgaWQgfX1cIlxuICAgICAgICBbZGF0ZXBpY2tlckRlc2NyaWJlZGJ5XT1cIidiaWxscGF5LXNjaGVkdWxlLXN0YXJ0LWRhdGUtZXJyb3Ite3sgaWQgfX0nXCJcbiAgICAgID48L2JiLWlucHV0LWRhdGVwaWNrZXItdWk+XG4gICAgPC9kaXY+XG5cbiAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpXG4gICAgICBpZD1cIidiaWxscGF5LXNjaGVkdWxlLXN0YXJ0LWRhdGUtZXJyb3Ite3sgaWQgfX0nXCJcbiAgICAgIHJvbGU9XCJhbGVydFwiXG4gICAgICBbc2hvd0Vycm9yc109XCJzY2hlZHVsZUZvcm0/LmdldCgnc3RhcnREYXRlJyk/LmludmFsaWQgJiYgZm9ybVN1Ym1pdHRlZFwiXG4gICAgPlxuICAgICAgPHNwYW5cbiAgICAgICAgKm5nSWY9XCJzY2hlZHVsZUZvcm0/LmdldCgnc3RhcnREYXRlJyk/LmVycm9ycz8ucmVxdWlyZWRcIlxuICAgICAgICBpMThuPVwiXG4gICAgICAgICAgRXhlY3V0aW9uIGRhdGUgcmVxdWlyZWQgZXJyb3IgdGV4dHxFcnJvciByZXF1aXJlZCBtZXNzYWdlIGZvciBFeGVjdXRpb24gZGF0ZSBpbnB1dFxuICAgICAgICAgIGZpZWxkQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmVycm9yLnJlcXVpcmVkLnN0YXJ0RGF0ZVwiXG4gICAgICAgIGRhdGEtcm9sZT1cIm1pc3Npbmctc2NoZWR1bGUtZXhlY3V0aW9uLWRhdGVcIlxuICAgICAgPlxuICAgICAgICBFeGVjdXRpb24gZGF0ZSBpcyByZXF1aXJlZC5cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuXG4gICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgc2NoZWR1bGVGb3JtPy5nZXQoJ3N0YXJ0RGF0ZScpPy5lcnJvcnM/LnBhc3REYXRlIHx8XG4gICAgICAgICAgc2NoZWR1bGVGb3JtPy5nZXQoJ3N0YXJ0RGF0ZScpPy5lcnJvcnM/LmRhdGVMZXNzVGhhbk1pbkRhdGVcbiAgICAgICAgXCJcbiAgICAgICAgaTE4bj1cIlxuICAgICAgICAgIEV4ZWN1dGlvbiBkYXRlIHBhc3QgZGF0ZSBlcnJvciB0ZXh0IHxFcnJvciBwYXN0IGRhdGUgbWVzc2FnZSBmb3IgRXhlY3V0aW9uIGRhdGUgaW5wdXRcbiAgICAgICAgICBmaWVsZEBAYmlsbHBheS5iYi1zY2hlZHVsZS11aS5lcnJvci5wYXN0RGF0ZS5zdGFydERhdGVcIlxuICAgICAgICBkYXRhLXJvbGU9XCJwYXN0LWRhdGUtc2NoZWR1bGUtZXhlY3V0aW9uLWRhdGVcIlxuICAgICAgPlxuICAgICAgICBFeGVjdXRpb24gZGF0ZSBjYW5ub3QgYmUgYmVmb3JlIGRlbGl2ZXJ5IGRhdGUuXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhblxuICAgICAgICAqbmdJZj1cInNjaGVkdWxlRm9ybT8uZ2V0KCdzdGFydERhdGUnKT8uZXJyb3JzPy5pbnZhbGlkRGF0ZUZvcm1hdFwiXG4gICAgICAgIGkxOG49XCJcbiAgICAgICAgICBFeGVjdXRpb24gZGF0ZSBpbnZhbGlkIGRhdGUgZXJyb3IgdGV4dCB8RXJyb3IgaW52YWxpZCBkYXRlIGZvcm1hdCBtZXNzYWdlIGZvciBFeGVjdXRpb24gZGF0ZSBpbnB1dFxuICAgICAgICAgIGZpZWxkQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmVycm9yLmludmFsaWREYXRlRm9ybWF0XCJcbiAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1kYXRlLXNjaGVkdWxlLWV4ZWN1dGlvbi1kYXRlXCJcbiAgICAgID5cbiAgICAgICAgSW52YWxpZCBkYXRlIGZvcm1hdC5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiIFtoaWRkZW5dPVwiaXRlbT8uZnJlcXVlbmN5ID09IGZyZXF1ZW5jeVZhbHVlcy5PbmNlXCI+XG4gICAgPGxhYmVsXG4gICAgICBpZD1cInt7IGVuZGluZ0xhYmVsSWQgfX1cIlxuICAgICAgZGF0YS1yb2xlPVwiZW5kaW5nLWxhYmVsXCJcbiAgICAgIGNsYXNzPVwiYmItbGFiZWxcIlxuICAgICAgaTE4bj1cIlxuICAgICAgICBTY2hlZHVsZSBlbmRpbmcgc2VjdGlvbiBuYW1lfExhYmVsIGZvciB0aGUgc2VjdGlvbiBjb250YWluaW5nIGlucHV0cyB0aGF0IGRldGVybWluZSB3YXkgb2YgZW5kaW5nIG9mIHRoZVxuICAgICAgICBzY2hlZHVsZWQgcGF5bWVudHNAQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkubGFiZWwuZW5kaW5nXCJcbiAgICA+XG4gICAgICBFbmRcbiAgICA8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFjayBiYi1zdGFjay0tYWxpZ24tYm90dG9tXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIj5cbiAgICAgICAgPGJiLWlucHV0LXJhZGlvLWdyb3VwLXVpIFtyZXF1aXJlZF09XCJ0cnVlXCIgZm9ybUNvbnRyb2xOYW1lPVwiZW5kVHlwZVwiPlxuICAgICAgICAgIDxiYi1pbnB1dC1yYWRpby11aVxuICAgICAgICAgICAgW3ZhbHVlXT1cImVuZFR5cGVzLk5ldmVyXCJcbiAgICAgICAgICAgIGxhYmVsPVwiTmV2ZXJcIlxuICAgICAgICAgICAgYXJpYS1pbnZhbGlkPVwiZmFsc2VcIlxuICAgICAgICAgICAgaTE4bi1sYWJlbD1cIlxuICAgICAgICAgICAgICBTY2hlZHVsZSBuZXZlciBlbmRzfExhYmVsIGZvciBhbiBvcHRpb24gdG8gbmV2ZXIgZW5kIHRoZSBwYXltZW50XG4gICAgICAgICAgICAgIHNjaGVkdWxlQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmxhYmVsLmVuZGluZy5uZXZlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvYmItaW5wdXQtcmFkaW8tdWk+XG4gICAgICAgICAgPGJiLWlucHV0LXJhZGlvLXVpIFt2YWx1ZV09XCJlbmRUeXBlcy5PblwiIGFyaWEtaW52YWxpZD1cImZhbHNlXCIgW2xhYmVsVGVtcGxhdGVdPVwiZW5kaW5nVGVtcGxhdGVcIj5cbiAgICAgICAgICA8L2JiLWlucHV0LXJhZGlvLXVpPlxuICAgICAgICAgIDxiYi1pbnB1dC1yYWRpby11aSBbdmFsdWVdPVwiZW5kVHlwZXMuQWZ0ZXJcIiBhcmlhLWludmFsaWQ9XCJmYWxzZVwiIFtsYWJlbFRlbXBsYXRlXT1cImFmdGVyVGVtcGxhdGVcIj5cbiAgICAgICAgICA8L2JiLWlucHV0LXJhZGlvLXVpPlxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZW5kaW5nVGVtcGxhdGU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJlbmRpbmctZGF0ZS1vbi1sYWJlbFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi1zdGFja19faXRlbS0tc3BhY2luZy1sZ1wiXG4gICAgICAgICAgICAgICAgaWQ9XCJiaWxscGF5LXNjaGVkdWxlLWVuZC1kYXRlLW9uLXt7IGlkIH19XCJcbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBTY2hlZHVsZSBlbmQgZGF0ZXxMYWJlbCBmb3IgYW4gb3B0aW9uIHRvIGVuZCB0aGUgcGF5bWVudCBzY2hlZHVsZSBvbiBhIHNwZWNpZmljXG4gICAgICAgICAgICAgICAgICBkYXRlQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmxhYmVsLmVuZGluZy5vblwiXG4gICAgICAgICAgICAgICAgPk9uPC9zcGFuXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGJiLWlucHV0LWRhdGVwaWNrZXItdWlcbiAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImVuZERhdGVcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwiZW5kaW5nLWVuZC1kYXRlXCJcbiAgICAgICAgICAgICAgICAgIGkxOG4tYXJpYS1sYWJlbD1cIlxuICAgICAgICAgICAgICAgICAgICBTY2hlZHVsZSBlbmQgZGF0ZSBkYXRlcGlja2VyIGxhYmVsfEFyaWEgbGFiZWwgZm9yIGVuZCBkYXRlIHBheW1lbnQgc2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEBAYmlsbHBheS5iYi1zY2hlZHVsZS11aS5sYWJlbC5lbmQtZGF0ZVwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiZW5kLWRhdGVcIlxuICAgICAgICAgICAgICAgICAgW21pbkRhdGVdPVwic2NoZWR1bGVGb3JtPy5nZXQoJ3N0YXJ0RGF0ZScpPy52YWx1ZVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJ0b3AtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiYmlsbHBheS1zY2hlZHVsZS1lbmQtZGF0ZS1vbi17eyBpZCB9fVwiXG4gICAgICAgICAgICAgICAgPjwvYmItaW5wdXQtZGF0ZXBpY2tlci11aT5cbiAgICAgICAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpXG4gICAgICAgICAgICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCJzY2hlZHVsZUZvcm0/LmdldCgnZW5kRGF0ZScpIGFzIGNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgW3Nob3dFcnJvcnNdPVwiY29udHJvbD8uaW52YWxpZCAmJiBmb3JtU3VibWl0dGVkXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbnRyb2w/LmVycm9ycz8ucGFzdERhdGUgfHwgY29udHJvbD8uZXJyb3JzPy5kYXRlTGVzc1RoYW5NaW5EYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgICAgIEVuZCBkYXRlIHBhc3QgZGF0ZSBlcnJvciB0ZXh0IHxFcnJvciBwYXN0IGRhdGUgbWVzc2FnZSBmb3IgRW5kIGRhdGUgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBmaWVsZEBAYmlsbHBheS5iYi1zY2hlZHVsZS11aS5lbmQtZGF0ZS5wYXN0LWRhdGUtZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJwYXN0LWRhdGUtZW5kaW5nLWVuZC1kYXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgRW5kIGRhdGUgY291bGQgbm90IGJlIGxvd2VyIHRoYW4gc3RhcnQgZGF0ZS5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiY29udHJvbD8uZXJyb3JzPy5pbnZhbGlkRGF0ZUZvcm1hdFwiXG4gICAgICAgICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICAgICAgICBFbmQgZGF0ZSBpbnZhbGlkIGRhdGUgZXJyb3IgdGV4dCB8RXJyb3IgaW52YWxpZCBkYXRlIGZvcm1hdCBtZXNzYWdlIGZvciBFbmQgZGF0ZSBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmVuZC1kYXRlLmludmFsaWQtZGF0ZS1mb3JtYXQtZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJpbnZhbGlkLWRhdGUtc2NoZWR1bGUtZW5kLWRhdGVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBJbnZhbGlkIGRhdGUgZm9ybWF0LlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb250cm9sPy5lcnJvcnM/LnJlcXVpcmVkXCJcbiAgICAgICAgICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICAgICAgICAgIEVuZCBkYXRlIGludmFsaWQgZGF0ZSBlcnJvciB0ZXh0IHxEYXRlIGlzIHJlcXVpcmVkIGZvciBFbmQgZGF0ZSBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmVuZC1kYXRlLmRhdGUtcmVxdWlyZWQtZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJyZXF1aXJlZC1kYXRlLXNjaGVkdWxlLWVuZC1kYXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgRW5kIGRhdGUgaXMgcmVxdWlyZWQuXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI2FmdGVyVGVtcGxhdGU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtIGJiLXN0YWNrX19pdGVtLS1zcGFjaW5nLXNtXCJcbiAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICBTY2hlZHVsZSBudW1iZXIgb2Ygb2NjdXJyZW5jZXN8TGFiZWwgZm9yIGFuIG9wdGlvbiB0byBlbmQgdGhlIHBheW1lbnQgc2NoZWR1bGUgYWZ0ZXIgc29tZSBudW1iZXIgb2ZcbiAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2VzQEBiaWxscGF5LmJiLXNjaGVkdWxlLXVpLmxhYmVsLmVuZGluZy5hZnRlclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBBZnRlclxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtIGJiLWZvcm0tZmllbGQgYmItZm9ybS1maWVsZC0teHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJiLWlucHV0LW51bWJlci11aVxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInJlcGVhdFwiXG4gICAgICAgICAgICAgICAgICAgICAgW21pbl09XCJtaW5PY2N1cnNcIlxuICAgICAgICAgICAgICAgICAgICAgIFttYXhdPVwibWF4T2NjdXJzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJlbmRpbmctb2NjdXJyZW5jZXNcIlxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJvY2N1cnJlbmNlc1wiXG4gICAgICAgICAgICAgICAgICAgID48L2JiLWlucHV0LW51bWJlci11aT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiXG4gICAgICAgICAgICAgICAgICAgIGkxOG4tbGFiZWw9XCJcbiAgICAgICAgICAgICAgICAgICAgICBTY2hlZHVsZSBvY2N1cnJlbmNlcyB0ZXh0fFRleHQgdG8gYmUgYXBwZW5kZWQgYWZ0ZXIgc2NoZWR1bGUgZW5kIGFmdGVyIHNvbWUgbnVtYmVyIG9mIG9jY3VycmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXRAQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkubGFiZWwuZW5kaW5nLm9jY3VycmVuY2VzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgT2NjdXJyZW5jZXNcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8L2JiLWlucHV0LXJhZGlvLWdyb3VwLXVpPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgKm5nSWY9XCJpdGVtPy5mcmVxdWVuY3kgIT09IGZyZXF1ZW5jeVZhbHVlcy5PbmNlICYmIGl0ZW0/LmVuZFR5cGUgIT09IGVuZFR5cGVzLk5ldmVyICYmIGl0ZW0/LnN0YXJ0RGF0ZVwiPlxuICAgIDxiYi1hbGVydC11aSBtb2RpZmllcj1cImluZm9cIiB0aXRsZT1cIlwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYi10ZXh0LWJvbGRcIiAqbmdJZj1cIml0ZW0/LmVuZFR5cGUgPT09IGVuZFR5cGVzLkFmdGVyXCIgZGF0YS1yb2xlPVwiZXN0aW1hdGVkLWVuZC1kYXRlLWxhYmVsXCI+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgaTE4bj1cIkVzdGltYXRlZCBlbmQgZGF0ZXxMYWJlbCBmb3IgZXN0aW1hdGVkIGVuZCBkYXRlIHNlY3Rpb25AQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkubGFiZWwuZXN0aW1hdGVkLmRhdGVcIlxuICAgICAgICA+XG4gICAgICAgICAgRXN0aW1hdGVkIGVuZCBkYXRlIHt7IGdldEVzdGltYXRlZEVuZERhdGUoKSB8IGRhdGU6ICdsb25nRGF0ZScgfX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYi10ZXh0LWJvbGRcIiAqbmdJZj1cIml0ZW0/LmVuZFR5cGUgPT09IGVuZFR5cGVzLk9uXCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICBFc3RpbWF0ZWQgcGF5bWVudCBpbiB0b3RhbHxMYWJlbCBmb3IgZXN0aW1hdGVkIHBheW1lbnQgaW4gdG90YWxcbiAgICAgICAgICAgIHNlY3Rpb25AQGJpbGxwYXkuYmItc2NoZWR1bGUtdWkubGFiZWwuZXN0aW1hdGVkLm9jY3Vyc1wiXG4gICAgICAgID5cbiAgICAgICAgICB7IGdldEVzdGltYXRlZE9jY3VycygpLCBwbHVyYWwsID0xIHsge3sgZ2V0RXN0aW1hdGVkT2NjdXJzKCkgfX0gcGF5bWVudCBpbiB0b3RhbCB9IG90aGVyIHtcbiAgICAgICAgICB7eyBnZXRFc3RpbWF0ZWRPY2N1cnMoKSB9fSBwYXltZW50cyBpbiB0b3RhbCB9fVxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2JiLWFsZXJ0LXVpPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiIFtoaWRkZW5dPVwiaXRlbT8uZnJlcXVlbmN5ID09IGZyZXF1ZW5jeVZhbHVlcy5PbmNlXCI+XG4gICAgPGxhYmVsXG4gICAgICBkYXRhLXJvbGU9XCJub3RpZnktbWUtbGFiZWxcIlxuICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgaTE4bj1cIlxuICAgICAgICBOb3RpZnkgbWUgc2VjdGlvbiBuYW1lfExhYmVsIGZvciB0aGUgc2VjdGlvbiBub3RpZnkgY29udGFpbmluZyBjaGVja2JveGVzIEBAYmlsbHBheS5iYi1zY2hlZHVsZS11aS5sYWJlbC5ub3RpZnlcIlxuICAgID5cbiAgICAgIE5vdGlmeSBtZVxuICAgIDwvbGFiZWw+XG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0teHNcIj5cbiAgICAgICAgPGJiLWlucHV0LWNoZWNrYm94LXVpXG4gICAgICAgICAgW2lkXT1cIidhbGVydFBlbmRpbmdDaGVja2JveCdcIlxuICAgICAgICAgIGxhYmVsPVwiV2hlbiBhIHBheW1lbnQgaXMgcGVuZGluZ1wiXG4gICAgICAgICAgaTE4bi1sYWJlbD1cIldoZW4gYSBwYXltZW50IGlzIHBlbmRpbmd8Q2hlY2tib3ggTGFiZWxAQGJiLWlucHV0LWNoZWNrYm94LXVpLmNoZWNrYm94LmxhYmVsLnBlbmRpbmdcIlxuICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImFsZXJ0UGVuZGluZ0NoZWNrYm94XCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLWlucHV0LWNoZWNrYm94LXVpPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLXhzXCI+XG4gICAgICAgIDxiYi1pbnB1dC1jaGVja2JveC11aVxuICAgICAgICAgIFtpZF09XCInYWxlcnRTZW50Q2hlY2tib3gnXCJcbiAgICAgICAgICBsYWJlbD1cIldoZW4gYSBwYXltZW50IGhhcyBiZWVuIHNlbnRcIlxuICAgICAgICAgIGkxOG4tbGFiZWw9XCJXaGVuIGEgcGF5bWVudCBoYXMgYmVlbiBzZW50fENoZWNrYm94IExhYmVsQEBiYi1pbnB1dC1jaGVja2JveC11aS5jaGVja2JveC5sYWJlbC5zZW50XCJcbiAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJhbGVydFNlbnRDaGVja2JveFwiXG4gICAgICAgID5cbiAgICAgICAgPC9iYi1pbnB1dC1jaGVja2JveC11aT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgPGJiLWlucHV0LWNoZWNrYm94LXVpXG4gICAgICAgICAgW2lkXT1cIidhbGVydExhc3RQZW5kaW5nQ2hlY2tib3gnXCJcbiAgICAgICAgICBsYWJlbD1cIldoZW4gdGhlIGxhc3QgcGF5bWVudCBpcyBwZW5kaW5nXCJcbiAgICAgICAgICBpMThuLWxhYmVsPVwiV2hlbiB0aGUgbGFzdCBwYXltZW50IGlzIHBlbmRpbmd8Q2hlY2tib3ggTGFiZWxAQGJiLWlucHV0LWNoZWNrYm94LXVpLmNoZWNrYm94LmxhYmVsLmxhc3QtcGVuZGluZ1wiXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiYWxlcnRMYXN0UGVuZGluZ0NoZWNrYm94XCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLWlucHV0LWNoZWNrYm94LXVpPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=