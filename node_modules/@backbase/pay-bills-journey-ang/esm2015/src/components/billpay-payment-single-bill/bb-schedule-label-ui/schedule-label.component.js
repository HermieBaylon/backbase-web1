import { Component, Input } from '@angular/core';
import { FrequencyKeys, PaymentServicesTypes } from '@backbase/billpay-journeys-common';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class ScheduleLabelComponent {
    constructor() {
        /**
         * Selects elements appropriate to a one-off payment. Defaults to true.
         */
        this.isSingleTransfer = true;
        /**
         * Minimum number of occurrences for recurring payments.
         */
        this.minOccurrences = 1;
    }
    get frequencyLabel() {
        var _a;
        const frequency = (_a = this.frequencies) === null || _a === void 0 ? void 0 : _a.find(freq => { var _a; return ((_a = this.item) === null || _a === void 0 ? void 0 : _a.frequency) === freq.value; });
        return $localize `:@@billpay-payment.form.schedule-frequency-label:${(frequency === null || frequency === void 0 ? void 0 : frequency.name) || ''}`;
    }
    get startDate() {
        var _a, _b, _c;
        const date = String((((_a = this.item) === null || _a === void 0 ? void 0 : _a.frequency) === FrequencyKeys.Once &&
            ((_b = this.item.paymentService) === null || _b === void 0 ? void 0 : _b.index) !== PaymentServicesTypes.Other &&
            this.item.paymentServiceDate) ||
            ((_c = this.item) === null || _c === void 0 ? void 0 : _c.startDate));
        return (this.item && date) || undefined;
    }
    get endDate() {
        return this.item && this.item.endDate && Date.parse(this.item.endDate) ? new Date(this.item.endDate) : undefined;
    }
    isToday() {
        if (this.item === undefined) {
            throw new Error('`item` input is required in `bb-schedule-label-ui` component');
        }
        const today = new Date().setHours(0, 0, 0, 0);
        const startDate = new Date(this.item.startDate);
        return startDate.setHours(0, 0, 0, 0) === today;
    }
    hasEnd() {
        return !!this.item && (this.item.endDate !== undefined || this.item.repeat !== undefined);
    }
    hasLimit() {
        return this.hasEnd() && !this.isSingleTransfer;
    }
}
ScheduleLabelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ScheduleLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ScheduleLabelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: ScheduleLabelComponent, selector: "bb-schedule-label-ui", inputs: { item: "item", isSingleTransfer: "isSingleTransfer", minOccurrences: "minOccurrences", frequencies: "frequencies" }, ngImport: i0, template: "<span>\n  <ng-container *ngIf=\"frequencyLabel; else defaultLabels\">{{ frequencyLabel }},</ng-container>\n  <!-- Remove default labels after journey migration phase 2 -->\n  <ng-template #defaultLabels>\n    <span\n      i18n=\"\n        Schedule frequency title list|List of titles for available schedule\n        frequencies@@billpay.bb-schedule-label-ui.frequency.list\"\n    >\n      {item?.frequency, select, ONCE {Once} WEEKLY {Weekly} EVERY_2_WEEKS {Every two weeks} MONTHLY {Monthly}\n      EVERY_4_WEEKS {Every for weeks} TWICE_A_MONTH {Semi monthly} EVERY_2_MONTHS {Every two months} EVERY_3_MONTHS {\n      Every three months} EVERY_6_MONTHS {Every six months} ANNUALLY {Annually}},\n    </span>\n  </ng-template>\n</span>\n<ng-container *ngIf=\"isSingleTransfer\">\n  <span\n    i18n=\"\n      On|Word to be used before a date to indicate that the payment will be executed on that\n      date@@billpay.bb-schedule-label-ui.label.on\"\n    >&nbsp;on</span\n  >\n</ng-container>\n\n<ng-container *ngIf=\"!isSingleTransfer\">\n  <span\n    i18n=\"\n      Schedule start|Word to be used before a date to indicate that this date is a starting date of the\n      schedule@@billpay.bb-schedule-label-ui.label.start\"\n    >&nbsp;starting</span\n  >\n</ng-container>\n\n<span>&nbsp;{{ startDate | date: 'mediumDate' }}</span>\n\n<ng-container *ngIf=\"hasLimit() && item?.endDate\"\n  >&sbquo;\n  <span\n    i18n=\"\n      Schedule end|Word to be used before a date to indicate that this date is an end date of the\n      schedule@@billpay.bb-schedule-label-ui.label.end\"\n    >Until&nbsp;{{ endDate | date: 'mediumDate' }}</span\n  >\n</ng-container>\n\n<ng-container *ngIf=\"hasLimit() && (item?.repeat || 0) >= minOccurrences\"\n  >&sbquo;\n  <span>{ item?.repeat, plural, =1 { {{ item?.repeat }} time} other { {{ item?.repeat }} times}}</span>\n</ng-container>\n", directives: [{ type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "date": i1.DatePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: ScheduleLabelComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-schedule-label-ui',
                    templateUrl: './schedule-label.component.html',
                }]
        }], propDecorators: { item: [{
                type: Input
            }], isSingleTransfer: [{
                type: Input
            }], minOccurrences: [{
                type: Input
            }], frequencies: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGUtbGFiZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmItc2NoZWR1bGUtbGFiZWwtdWkvc2NoZWR1bGUtbGFiZWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmItc2NoZWR1bGUtbGFiZWwtdWkvc2NoZWR1bGUtbGFiZWwuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakQsT0FBTyxFQUFhLGFBQWEsRUFBRSxvQkFBb0IsRUFBWSxNQUFNLG1DQUFtQyxDQUFDOzs7QUFNN0csTUFBTSxPQUFPLHNCQUFzQjtJQUpuQztRQVNFOztXQUVHO1FBQ00scUJBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQ2pDOztXQUVHO1FBQ00sbUJBQWMsR0FBRyxDQUFDLENBQUM7S0F3QzdCO0lBbkNDLElBQUksY0FBYzs7UUFDaEIsTUFBTSxTQUFTLEdBQUcsTUFBQSxJQUFJLENBQUMsV0FBVywwQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsV0FBQyxPQUFBLENBQUEsTUFBQSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxTQUFTLE1BQUssSUFBSSxDQUFDLEtBQUssQ0FBQSxFQUFBLENBQUMsQ0FBQztRQUN0RixPQUFPLFNBQVMsQ0FBQSxvREFBb0QsQ0FBQSxTQUFTLGFBQVQsU0FBUyx1QkFBVCxTQUFTLENBQUUsSUFBSSxLQUFJLEVBQUUsRUFBRSxDQUFDO0lBQzlGLENBQUM7SUFFRCxJQUFJLFNBQVM7O1FBQ1gsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUNqQixDQUFDLENBQUEsTUFBQSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxTQUFTLE1BQUssYUFBYSxDQUFDLElBQUk7WUFDMUMsQ0FBQSxNQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYywwQ0FBRSxLQUFLLE1BQUssb0JBQW9CLENBQUMsS0FBSztZQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO2FBQzdCLE1BQUEsSUFBSSxDQUFDLElBQUksMENBQUUsU0FBUyxDQUFBLENBQ3ZCLENBQUM7UUFDRixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxTQUFTLENBQUM7SUFDMUMsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNuSCxDQUFDO0lBRUQsT0FBTztRQUNMLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDM0IsTUFBTSxJQUFJLEtBQUssQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO1NBQ2pGO1FBQ0QsTUFBTSxLQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDOUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoRCxPQUFPLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDO0lBQ2xELENBQUM7SUFFRCxNQUFNO1FBQ0osT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FBQztJQUM1RixDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQ2pELENBQUM7O29IQW5EVSxzQkFBc0I7d0dBQXRCLHNCQUFzQiwwTENQbkMsaTFEQWlEQTs0RkQxQ2Esc0JBQXNCO2tCQUpsQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxzQkFBc0I7b0JBQ2hDLFdBQVcsRUFBRSxpQ0FBaUM7aUJBQy9DOzhCQUtVLElBQUk7c0JBQVosS0FBSztnQkFJRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBSUcsY0FBYztzQkFBdEIsS0FBSztnQkFJRyxXQUFXO3NCQUFuQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRnJlcXVlbmN5LCBGcmVxdWVuY3lLZXlzLCBQYXltZW50U2VydmljZXNUeXBlcywgU2NoZWR1bGUgfSBmcm9tICdAYmFja2Jhc2UvYmlsbHBheS1qb3VybmV5cy1jb21tb24nO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1zY2hlZHVsZS1sYWJlbC11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9zY2hlZHVsZS1sYWJlbC5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIFNjaGVkdWxlTGFiZWxDb21wb25lbnQge1xuICAvKipcbiAgICogRGV0YWlscyBvZiB0aGUgcGF5bWVudCBzY2hlZHVsZS5cbiAgICovXG4gIEBJbnB1dCgpIGl0ZW06IFNjaGVkdWxlIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogU2VsZWN0cyBlbGVtZW50cyBhcHByb3ByaWF0ZSB0byBhIG9uZS1vZmYgcGF5bWVudC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIEBJbnB1dCgpIGlzU2luZ2xlVHJhbnNmZXIgPSB0cnVlO1xuICAvKipcbiAgICogTWluaW11bSBudW1iZXIgb2Ygb2NjdXJyZW5jZXMgZm9yIHJlY3VycmluZyBwYXltZW50cy5cbiAgICovXG4gIEBJbnB1dCgpIG1pbk9jY3VycmVuY2VzID0gMTtcbiAgLyoqXG4gICAqIE1pbmltdW0gbnVtYmVyIG9mIG9jY3VycmVuY2VzIGZvciByZWN1cnJpbmcgcGF5bWVudHMuXG4gICAqL1xuICBASW5wdXQoKSBmcmVxdWVuY2llcz86IEZyZXF1ZW5jeVtdO1xuICBnZXQgZnJlcXVlbmN5TGFiZWwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmcmVxdWVuY3kgPSB0aGlzLmZyZXF1ZW5jaWVzPy5maW5kKGZyZXEgPT4gdGhpcy5pdGVtPy5mcmVxdWVuY3kgPT09IGZyZXEudmFsdWUpO1xuICAgIHJldHVybiAkbG9jYWxpemVgOkBAYmlsbHBheS1wYXltZW50LmZvcm0uc2NoZWR1bGUtZnJlcXVlbmN5LWxhYmVsOiR7ZnJlcXVlbmN5Py5uYW1lIHx8ICcnfWA7XG4gIH1cblxuICBnZXQgc3RhcnREYXRlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZGF0ZSA9IFN0cmluZyhcbiAgICAgICh0aGlzLml0ZW0/LmZyZXF1ZW5jeSA9PT0gRnJlcXVlbmN5S2V5cy5PbmNlICYmXG4gICAgICAgIHRoaXMuaXRlbS5wYXltZW50U2VydmljZT8uaW5kZXggIT09IFBheW1lbnRTZXJ2aWNlc1R5cGVzLk90aGVyICYmXG4gICAgICAgIHRoaXMuaXRlbS5wYXltZW50U2VydmljZURhdGUpIHx8XG4gICAgICAgIHRoaXMuaXRlbT8uc3RhcnREYXRlLFxuICAgICk7XG4gICAgcmV0dXJuICh0aGlzLml0ZW0gJiYgZGF0ZSkgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IGVuZERhdGUoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbSAmJiB0aGlzLml0ZW0uZW5kRGF0ZSAmJiBEYXRlLnBhcnNlKHRoaXMuaXRlbS5lbmREYXRlKSA/IG5ldyBEYXRlKHRoaXMuaXRlbS5lbmREYXRlKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzVG9kYXkoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BpdGVtYCBpbnB1dCBpcyByZXF1aXJlZCBpbiBgYmItc2NoZWR1bGUtbGFiZWwtdWlgIGNvbXBvbmVudCcpO1xuICAgIH1cbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUodGhpcy5pdGVtLnN0YXJ0RGF0ZSk7XG4gICAgcmV0dXJuIHN0YXJ0RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSA9PT0gdG9kYXk7XG4gIH1cblxuICBoYXNFbmQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5pdGVtICYmICh0aGlzLml0ZW0uZW5kRGF0ZSAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuaXRlbS5yZXBlYXQgIT09IHVuZGVmaW5lZCk7XG4gIH1cblxuICBoYXNMaW1pdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oYXNFbmQoKSAmJiAhdGhpcy5pc1NpbmdsZVRyYW5zZmVyO1xuICB9XG59XG4iLCI8c3Bhbj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImZyZXF1ZW5jeUxhYmVsOyBlbHNlIGRlZmF1bHRMYWJlbHNcIj57eyBmcmVxdWVuY3lMYWJlbCB9fSw8L25nLWNvbnRhaW5lcj5cbiAgPCEtLSBSZW1vdmUgZGVmYXVsdCBsYWJlbHMgYWZ0ZXIgam91cm5leSBtaWdyYXRpb24gcGhhc2UgMiAtLT5cbiAgPG5nLXRlbXBsYXRlICNkZWZhdWx0TGFiZWxzPlxuICAgIDxzcGFuXG4gICAgICBpMThuPVwiXG4gICAgICAgIFNjaGVkdWxlIGZyZXF1ZW5jeSB0aXRsZSBsaXN0fExpc3Qgb2YgdGl0bGVzIGZvciBhdmFpbGFibGUgc2NoZWR1bGVcbiAgICAgICAgZnJlcXVlbmNpZXNAQGJpbGxwYXkuYmItc2NoZWR1bGUtbGFiZWwtdWkuZnJlcXVlbmN5Lmxpc3RcIlxuICAgID5cbiAgICAgIHtpdGVtPy5mcmVxdWVuY3ksIHNlbGVjdCwgT05DRSB7T25jZX0gV0VFS0xZIHtXZWVrbHl9IEVWRVJZXzJfV0VFS1Mge0V2ZXJ5IHR3byB3ZWVrc30gTU9OVEhMWSB7TW9udGhseX1cbiAgICAgIEVWRVJZXzRfV0VFS1Mge0V2ZXJ5IGZvciB3ZWVrc30gVFdJQ0VfQV9NT05USCB7U2VtaSBtb250aGx5fSBFVkVSWV8yX01PTlRIUyB7RXZlcnkgdHdvIG1vbnRoc30gRVZFUllfM19NT05USFMge1xuICAgICAgRXZlcnkgdGhyZWUgbW9udGhzfSBFVkVSWV82X01PTlRIUyB7RXZlcnkgc2l4IG1vbnRoc30gQU5OVUFMTFkge0FubnVhbGx5fX0sXG4gICAgPC9zcGFuPlxuICA8L25nLXRlbXBsYXRlPlxuPC9zcGFuPlxuPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzU2luZ2xlVHJhbnNmZXJcIj5cbiAgPHNwYW5cbiAgICBpMThuPVwiXG4gICAgICBPbnxXb3JkIHRvIGJlIHVzZWQgYmVmb3JlIGEgZGF0ZSB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwYXltZW50IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhhdFxuICAgICAgZGF0ZUBAYmlsbHBheS5iYi1zY2hlZHVsZS1sYWJlbC11aS5sYWJlbC5vblwiXG4gICAgPiZuYnNwO29uPC9zcGFuXG4gID5cbjwvbmctY29udGFpbmVyPlxuXG48bmctY29udGFpbmVyICpuZ0lmPVwiIWlzU2luZ2xlVHJhbnNmZXJcIj5cbiAgPHNwYW5cbiAgICBpMThuPVwiXG4gICAgICBTY2hlZHVsZSBzdGFydHxXb3JkIHRvIGJlIHVzZWQgYmVmb3JlIGEgZGF0ZSB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgZGF0ZSBpcyBhIHN0YXJ0aW5nIGRhdGUgb2YgdGhlXG4gICAgICBzY2hlZHVsZUBAYmlsbHBheS5iYi1zY2hlZHVsZS1sYWJlbC11aS5sYWJlbC5zdGFydFwiXG4gICAgPiZuYnNwO3N0YXJ0aW5nPC9zcGFuXG4gID5cbjwvbmctY29udGFpbmVyPlxuXG48c3Bhbj4mbmJzcDt7eyBzdGFydERhdGUgfCBkYXRlOiAnbWVkaXVtRGF0ZScgfX08L3NwYW4+XG5cbjxuZy1jb250YWluZXIgKm5nSWY9XCJoYXNMaW1pdCgpICYmIGl0ZW0/LmVuZERhdGVcIlxuICA+JnNicXVvO1xuICA8c3BhblxuICAgIGkxOG49XCJcbiAgICAgIFNjaGVkdWxlIGVuZHxXb3JkIHRvIGJlIHVzZWQgYmVmb3JlIGEgZGF0ZSB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgZGF0ZSBpcyBhbiBlbmQgZGF0ZSBvZiB0aGVcbiAgICAgIHNjaGVkdWxlQEBiaWxscGF5LmJiLXNjaGVkdWxlLWxhYmVsLXVpLmxhYmVsLmVuZFwiXG4gICAgPlVudGlsJm5ic3A7e3sgZW5kRGF0ZSB8IGRhdGU6ICdtZWRpdW1EYXRlJyB9fTwvc3BhblxuICA+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLWNvbnRhaW5lciAqbmdJZj1cImhhc0xpbWl0KCkgJiYgKGl0ZW0/LnJlcGVhdCB8fCAwKSA+PSBtaW5PY2N1cnJlbmNlc1wiXG4gID4mc2JxdW87XG4gIDxzcGFuPnsgaXRlbT8ucmVwZWF0LCBwbHVyYWwsID0xIHsge3sgaXRlbT8ucmVwZWF0IH19IHRpbWV9IG90aGVyIHsge3sgaXRlbT8ucmVwZWF0IH19IHRpbWVzfX08L3NwYW4+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==