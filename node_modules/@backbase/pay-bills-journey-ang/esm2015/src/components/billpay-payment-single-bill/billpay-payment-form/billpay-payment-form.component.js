import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { Validators, } from '@angular/forms';
import { BehaviorSubject, Subject } from 'rxjs';
import { accountNumberFullFormat, accountNumberMaskedFormat, EndTypes, formControlOptions, frequencies, RECURRING_PAYMENT, ONE_OFF_PAYMENT, FrequencyKeys, PaymentServicesTypes, BillpayUtilityService as Utility, } from '@backbase/billpay-journeys-common';
import { take, takeUntil } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@backbase/billpay-journeys-common";
import * as i3 from "@backbase/ui-ang/header";
import * as i4 from "@backbase/ui-ang/fieldset";
import * as i5 from "@backbase/ui-ang/product-selector";
import * as i6 from "@backbase/ui-ang/product-item-basic-account";
import * as i7 from "@backbase/ui-ang/input-validation-message";
import * as i8 from "@backbase/ui-ang/product-item-current-account";
import * as i9 from "../billpay-ebill-payment-ui/billpay-ebill-payment-ui.component";
import * as i10 from "@backbase/ui-ang/amount-input";
import * as i11 from "@backbase/ui-ang/textarea";
import * as i12 from "@backbase/ui-ang/collapsible";
import * as i13 from "../bb-schedule-label-ui/schedule-label.component";
import * as i14 from "@backbase/ui-ang/icon";
import * as i15 from "../bb-schedule-ui/schedule.component";
import * as i16 from "@backbase/ui-ang/input-datepicker";
import * as i17 from "@backbase/ui-ang/alert";
import * as i18 from "@angular/common";
import * as i19 from "@backbase/ui-ang/button";
export class BillpayPaymentFormComponent {
    /** @internal */
    constructor(fb, scheduleService) {
        this.fb = fb;
        this.scheduleService = scheduleService;
        /**
         * Identifier for the payee that is currently selected to be paid from.
         */
        this.selectedPayeeId = '';
        /**
         * Identifier for the payment when the form is an edit payment.
         */
        this.paymentId = '';
        /**
         * Whether the account number should be masked. Defaults to true.
         */
        this.accountNumberMask = true;
        /**
         * Activates edit payment elements. Defaults to false.
         */
        this.isEditPayment = false;
        /**
         * get the payment details title preference. default to 'Payment details'.
         */
        this.paymentDetailsTitle = 'Payment details';
        /**
         * get the payment default currency preference. default to 'USD'.
         */
        this.paymentDefaultCurrency = 'USD';
        this.submitPayment = new EventEmitter();
        this.cancelPayment = new EventEmitter();
        this.valueChanged = new EventEmitter();
        /**
         * Payment form group
         */
        this.paymentForm = this.fb.group({});
        /**
         * Flag to display if payment is submitted
         */
        this.formSubmitted = false;
        this.minDate$ = new BehaviorSubject(this.scheduleService.today);
        this.selectedAccount$ = new BehaviorSubject(undefined);
        this.selectedPayee$ = new BehaviorSubject(undefined);
        this.destroy$ = new Subject();
        /**
         * Maximum occurrences for the number of occurrences input box.
         */
        this.maxOccurs = 999;
        /**
         * Minimum occurrences for the number of occurrences input box.
         */
        this.minOccurs = 1;
        /**
         * unique key used for ids
         */
        this.id = Utility.generateId();
    }
    set frequencies(value) {
        this._frequencies = value;
    }
    get frequencies() {
        const isEditRecurring = this.isEditPayment && this.paymentType === RECURRING_PAYMENT;
        const usableFrequencies = this._frequencies ? this._frequencies : frequencies;
        return isEditRecurring ? usableFrequencies.filter(freq => freq.value !== FrequencyKeys.Once) : usableFrequencies;
    }
    ngOnInit() {
        this.defaultAmount = {
            amount: '',
            currency: this.paymentDefaultCurrency,
            type: undefined,
        };
        this.selectedAccount$.next(this.defaultAccountFrom);
        this.selectedPayee$.next(this.defaultPayeeTo);
        if (this.defaultPayeeTo) {
            this.ebillSummary = this.defaultPayeeTo.ebill;
        }
        this.minDate$.next(this.scheduleService.estimatedPaymentServiceDate(this.defaultPayeeTo && this.defaultPayeeTo.paymentServices, PaymentServicesTypes.Regular));
        this.createForm();
        this.proccessPaymentServiceValueChanges();
        this.proccessFrequencyValueChanges();
        this.paymentForm.valueChanges.pipe(takeUntil(this.destroy$), take(1)).subscribe(() => {
            this.valueChanged.emit();
        });
    }
    ngAfterViewInit() {
        setTimeout(() => {
            if (this.fromAccount) {
                this.fromAccount.dropdownToggle.nativeElement.focus();
            }
        });
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    cancel() {
        this.cancelPayment.emit();
    }
    get defaultPaymentServiceType() {
        const payee = this.selectedPayee$.getValue();
        return ((this.paymentState &&
            payee &&
            this.paymentState.payeeTo.id === payee.id &&
            this.paymentState.schedule &&
            this.paymentState.schedule.paymentService &&
            this.paymentState.schedule.paymentService.index) || PaymentServicesTypes.Regular);
    }
    get accountNumberFormatConfig() {
        return this.accountNumberMask ? accountNumberMaskedFormat : accountNumberFullFormat;
    }
    get ebillPayment() {
        return !!(!this.isEditPayment &&
            this.ebillSummary &&
            this.ebillSummary.latestBill &&
            this.ebillSummary.latestBill.status === 'UNPAID' &&
            (!this.ebillSummary.status || this.ebillSummary.status === 'ACTIVE'));
    }
    get frequencyKeys() {
        return FrequencyKeys;
    }
    get schedule() {
        var _a;
        return (_a = this.paymentForm) === null || _a === void 0 ? void 0 : _a.controls['schedule'].value;
    }
    get amountGroup() {
        var _a;
        return (_a = this.paymentForm) === null || _a === void 0 ? void 0 : _a.get('amount');
    }
    get startDateControl() {
        return this.paymentForm.get('schedule.startDate');
    }
    get endDateControl() {
        return this.paymentForm.get('schedule.endDate');
    }
    get scheduleLabelData() {
        const schedule = this.schedule;
        return Object.assign(Object.assign({}, schedule), { endDate: schedule.endType === EndTypes.On ? schedule.endDate : undefined, repeat: schedule.endType === EndTypes.After ? schedule.repeat : undefined });
    }
    get defaultAccountFrom() {
        var _a;
        return this.paymentState && this.paymentState.accountFrom ? this.paymentState.accountFrom : (_a = this.accounts) === null || _a === void 0 ? void 0 : _a[0];
    }
    get defaultPayeeTo() {
        var _a;
        return ((_a = this.paymentState) === null || _a === void 0 ? void 0 : _a.payeeTo)
            ? this.paymentState.payeeTo
            : this.payeeSummaries && this.payeeSummaries.find(acc => acc.id === this.selectedPayeeId);
    }
    getOvernightAddress(payee) {
        return (this.hasOvernightCheck(payee.paymentServices) && payee.overnightDeliveryAddress) || undefined;
    }
    hasOvernightCheck(services) {
        return !!(services === null || services === void 0 ? void 0 : services.find((item) => item.paymentServiceType === PaymentServicesTypes.Overnight));
    }
    get defaultOvernightAddressState() {
        const payee = this.selectedPayee$.getValue() || {};
        const address = this.getOvernightAddress(payee) || {};
        return {
            address1: address.address1 || '',
            address2: address.address2 || '',
            city: address.city || '',
            state: address.state,
            postalCode: address.postalCode || '',
        };
    }
    get defaultFormState() {
        const payee = this.selectedPayee$.getValue() || {};
        const paymentPayeeService = payee.paymentServices &&
            payee.paymentServices.find((item) => item.paymentServiceType === this.defaultPaymentServiceType);
        const paymentPayeeServiceDate = !this.paymentState || this.paymentState.schedule.frequency === this.frequencyKeys.Once
            ? payee.paymentServices &&
                this.scheduleService.estimatedPaymentServiceDate(payee.paymentServices, this.defaultPaymentServiceType)
            : undefined;
        const { paymentId, accountFrom = this.selectedAccount$.getValue() || {}, payeeTo = payee, amount = this.defaultAmount, memo = '', overnightDeliveryAddress = this.defaultOvernightAddressState, schedule: { frequency = this.findDefaultFrequency(), startDate = this.minDate$.getValue(), endDate = this.minDate$.getValue(), repeat = 1, endType = EndTypes.Never, paymentService = this.getDefaultPaymentService(paymentPayeeService), paymentServiceDate = paymentPayeeServiceDate, alertPendingCheckbox = false, alertSentCheckbox = false, alertLastPendingCheckbox = false, } = {}, } = this.paymentState || {};
        return {
            paymentId,
            accountFrom,
            payeeTo,
            amount,
            memo,
            overnightDeliveryAddress,
            schedule: {
                frequency,
                startDate,
                endDate,
                repeat,
                endType,
                paymentService,
                paymentServiceDate,
                alertPendingCheckbox,
                alertSentCheckbox,
                alertLastPendingCheckbox,
            },
        };
    }
    proccessPaymentServiceValueChanges() {
        const paymentServiceControl = this.paymentForm.get('schedule.paymentService');
        const overnightAddressControl = this.paymentForm.controls['overnightDeliveryAddress'];
        if (paymentServiceControl && overnightAddressControl) {
            paymentServiceControl.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(val => {
                if (val.service.paymentServiceType === PaymentServicesTypes.Overnight) {
                    overnightAddressControl.enable(formControlOptions);
                }
                else {
                    overnightAddressControl.disable(formControlOptions);
                }
            });
        }
    }
    proccessFrequencyValueChanges() {
        const frequencyControl = this.paymentForm.get('schedule.frequency');
        const overnightAddressControl = this.paymentForm.controls['overnightDeliveryAddress'];
        if (frequencyControl && overnightAddressControl) {
            frequencyControl.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(val => {
                if (val.value !== FrequencyKeys.Once) {
                    overnightAddressControl.disable(formControlOptions);
                }
            });
        }
    }
    createOvernightAddressFormGroup() {
        const overnightAddress = this.defaultFormState.overnightDeliveryAddress || {};
        const paymentService = this.defaultFormState.schedule.paymentService;
        const isOvernightAddressDisabled = !paymentService ||
            !paymentService.service ||
            !paymentService.service.paymentServiceType ||
            paymentService.service.paymentServiceType !== PaymentServicesTypes.Overnight;
        return this.fb.group({
            address1: [
                {
                    value: overnightAddress.address1,
                    disabled: isOvernightAddressDisabled,
                },
            ],
            address2: [
                {
                    value: overnightAddress.address2,
                    disabled: isOvernightAddressDisabled,
                },
            ],
            city: [
                {
                    value: overnightAddress.city,
                    disabled: isOvernightAddressDisabled,
                },
            ],
            state: [
                {
                    value: overnightAddress.state,
                    disabled: isOvernightAddressDisabled,
                },
            ],
            postalCode: [
                {
                    value: overnightAddress.postalCode,
                    disabled: isOvernightAddressDisabled,
                },
            ],
        });
    }
    createScheduleFormGroup() {
        const initState = this.defaultFormState;
        const paymentService = initState.schedule.paymentService;
        const isEndDateDisabled = initState.schedule.endType !== EndTypes.On;
        const isRepeatDisabled = initState.schedule.endType !== EndTypes.After;
        const isStartDateDisabled = !!(paymentService &&
            paymentService.index !== PaymentServicesTypes.Other &&
            initState.schedule.frequency === this.frequencyKeys.Once);
        //@TODO Replace startDate, endDate validators after fix angular issues
        //https://github.com/angular/angular/issues/13461#issuecomment-502674629
        //https://github.com/angular/angular/issues/10567
        return this.fb.group({
            frequency: [initState.schedule.frequency],
            startDate: [
                {
                    value: this.scheduleService.getLocalISODate(initState.schedule.startDate),
                    disabled: isStartDateDisabled,
                },
                [Validators.required, this.minDateValidator(this.minDate$.getValue())],
            ],
            endDate: [
                {
                    value: this.scheduleService.getLocalISODate(initState.schedule.endDate),
                    disabled: isEndDateDisabled,
                },
                [Validators.required, this.minDateValidator(this.minDate$.getValue())],
            ],
            repeat: [{ value: initState.schedule.repeat, disabled: isRepeatDisabled }],
            endType: [initState.schedule.endType],
            paymentService: [initState.schedule.paymentService],
            paymentServiceDate: [
                {
                    value: initState.schedule.paymentServiceDate,
                    disabled: !isStartDateDisabled,
                },
            ],
            alertPendingCheckbox: [initState.schedule.alertPendingCheckbox],
            alertSentCheckbox: [initState.schedule.alertSentCheckbox],
            alertLastPendingCheckbox: [initState.schedule.alertLastPendingCheckbox],
        });
    }
    createForm() {
        var _a;
        const initState = this.defaultFormState;
        const amount = ((_a = initState.amount.amount) === null || _a === void 0 ? void 0 : _a.toString()) || undefined;
        this.paymentForm = this.fb.group({
            paymentId: [this.paymentId],
            accountFrom: [initState.accountFrom],
            payeeTo: [initState.payeeTo],
            amount: this.fb.group({
                amount: [amount],
                currency: [initState.amount.currency],
                type: [initState.amount.type],
            }),
            memo: [initState.memo],
            overnightDeliveryAddress: this.createOvernightAddressFormGroup(),
            schedule: this.createScheduleFormGroup(),
        });
        this.setValidators();
    }
    amountValidator(control) {
        if (!control.value.amount || +control.value.amount <= 0) {
            return {
                amountInvalid: false,
            };
        }
        else {
            // eslint-disable-next-line no-null/no-null
            return null;
        }
    }
    isInvalidControl(control) {
        return this.formSubmitted && control.invalid && control.touched;
    }
    minDateValidator(minDate) {
        return (fg) => {
            if (!fg.value) {
                // eslint-disable-next-line no-null/no-null
                return null;
            }
            if (new Date(fg.value).setHours(0, 0, 0, 0) < new Date(minDate).setHours(0, 0, 0, 0)) {
                return {
                    pastDate: true,
                };
            }
            else {
                // eslint-disable-next-line no-null/no-null
                return null;
            }
        };
    }
    notEmptyObjectValidator(control) {
        // eslint-disable-next-line no-null/no-null
        return Object.keys(control.value).length ? null : { notEmptyObject: false };
    }
    processFormData(data) {
        switch (data.schedule.endType) {
            case EndTypes.After:
                return Object.assign(Object.assign({}, data), { schedule: Object.assign(Object.assign({}, data.schedule), { endDate: new Date(this.scheduleService.estimatedEndDate(data.schedule.startDate, data.schedule.frequency, data.schedule.repeat)).toISOString() }) });
            case EndTypes.On:
                return Object.assign(Object.assign({}, data), { schedule: Object.assign(Object.assign({}, data.schedule), { repeat: this.scheduleService.estimatedOccurences(data.schedule.startDate, data.schedule.endDate || data.schedule.startDate, data.schedule.frequency) }) });
            default:
                return Object.assign(Object.assign({}, data), { schedule: Object.assign(Object.assign({}, data.schedule), (!data.schedule.startDate &&
                        this.defaultFormState.schedule.startDate && { startDate: this.defaultFormState.schedule.startDate })) });
        }
    }
    setValidators() {
        [
            ['accountFrom', [this.notEmptyObjectValidator]],
            ['payeeTo', [this.notEmptyObjectValidator]],
            ['amount', [Validators.required, this.amountValidator]],
            ['schedule.repeat', [Validators.required, Validators.min(this.minOccurs), Validators.max(this.maxOccurs)]],
            ['overnightDeliveryAddress.address1', [Validators.required, Validators.maxLength(40)]],
            ['overnightDeliveryAddress.address2', [Validators.maxLength(40)]],
            ['overnightDeliveryAddress.city', [Validators.required, Validators.maxLength(32)]],
            ['overnightDeliveryAddress.state', [Validators.required]],
            ['overnightDeliveryAddress.postalCode', [Validators.required, Validators.pattern(/^\d{5}(\d{4})?$/)]],
        ].forEach(([controlName, validators]) => {
            const control = this.paymentForm.get(controlName);
            if (control) {
                control.setValidators(validators);
                control.updateValueAndValidity();
            }
        });
    }
    handleSubmit() {
        if (!this.formSubmitted) {
            this.formSubmitted = true;
        }
        if (this.paymentForm.valid) {
            this.submitPayment.emit(this.processFormData(this.paymentForm.value));
        }
        this.paymentForm.markAllAsTouched();
    }
    selectAccount(account) {
        this.selectedAccount$.next(account);
        this.paymentForm.controls['accountFrom'].setValue(account);
    }
    setOvernightAddress(payee) {
        const control = this.paymentForm.controls['overnightDeliveryAddress'];
        if ((payee === null || payee === void 0 ? void 0 : payee.overnightDeliveryAddress) && this.hasOvernightCheck(payee.paymentServices)) {
            control.setValue({
                address1: payee.overnightDeliveryAddress.address1,
                address2: payee.overnightDeliveryAddress.address2 || '',
                city: payee.overnightDeliveryAddress.city,
                state: payee.overnightDeliveryAddress.state,
                postalCode: payee.overnightDeliveryAddress.postalCode,
            });
        }
        else {
            control.reset();
        }
    }
    selectPayee(payee) {
        this.selectedPayee$.next(payee);
        this.paymentForm.controls['payeeTo'].setValue(payee);
        this.minDate$.next(this.scheduleService.estimatedPaymentServiceDate(payee && payee.paymentServices, PaymentServicesTypes.Regular));
        if (this.startDateControl && this.endDateControl) {
            this.startDateControl.setValue(this.minDate$.getValue());
            this.endDateControl.setValue(this.minDate$.getValue());
        }
        this.setOvernightAddress(payee);
        if (payee) {
            this.ebillSummary = payee.ebill;
        }
        if (this.amountGroup) {
            this.amountGroup.patchValue({ amount: ' ', type: undefined });
        }
    }
    getDefaultPaymentService(paymentService) {
        return {
            index: this.isEditPayment && this.paymentType === ONE_OFF_PAYMENT
                ? PaymentServicesTypes.Other
                : (paymentService === null || paymentService === void 0 ? void 0 : paymentService.paymentServiceType) || '',
            service: paymentService,
        };
    }
    findDefaultFrequency() {
        var _a, _b, _c;
        let defaultFrequency;
        switch (this.paymentType) {
            case ONE_OFF_PAYMENT: {
                defaultFrequency = (_a = this.frequencies) === null || _a === void 0 ? void 0 : _a.find(item => item.value === FrequencyKeys.Once);
                break;
            }
            case RECURRING_PAYMENT: {
                defaultFrequency = (_b = this.frequencies) === null || _b === void 0 ? void 0 : _b.find(item => item.value === FrequencyKeys.Monthly);
                break;
            }
        }
        if (defaultFrequency === undefined) {
            defaultFrequency = ((_c = this.frequencies) === null || _c === void 0 ? void 0 : _c[0]) || { value: FrequencyKeys.Once, name: '' };
        }
        return defaultFrequency.value;
    }
}
BillpayPaymentFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: BillpayPaymentFormComponent, deps: [{ token: i1.FormBuilder }, { token: i2.BillpayPaymentScheduleService }], target: i0.ɵɵFactoryTarget.Component });
BillpayPaymentFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: BillpayPaymentFormComponent, selector: "bb-billpay-payment-form", inputs: { payeeSummaries: "payeeSummaries", accounts: "accounts", selectedPayeeId: "selectedPayeeId", paymentState: "paymentState", paymentId: "paymentId", accountNumberMask: "accountNumberMask", paymentType: "paymentType", isEditPayment: "isEditPayment", paymentDetailsTitle: "paymentDetailsTitle", paymentDefaultCurrency: "paymentDefaultCurrency", frequencies: "frequencies" }, outputs: { submitPayment: "submitPayment", cancelPayment: "cancelPayment", valueChanged: "valueChanged" }, viewQueries: [{ propertyName: "fromAccount", first: true, predicate: ["fromAccount"], descendants: true }], ngImport: i0, template: "<form data-role=\"payment-form\" [formGroup]=\"paymentForm\" (ngSubmit)=\"handleSubmit()\">\n  <!-- Payee To edit Label -->\n  <ng-container *ngIf=\"isEditPayment\">\n    <div class=\"bb-block bb-block--lg\">\n      <bb-header-ui\n        *ngIf=\"selectedPayee$ | async as payee\"\n        data-role=\"payee-to-edit-header\"\n        headingType=\"h1\"\n        heading=\"Payment to {{ (payee.nickName && payee.nickName + ' (' + payee.name + ')') || payee.name }}\"\n        i18n-heading=\"Payment to|Payee to edit label@@billpay-manage-payment.payee-to.edit.header\"\n      ></bb-header-ui>\n    </div>\n  </ng-container>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <!-- Account From -->\n      <ng-container *ngTemplateOutlet=\"paymentFormAccountFrom\"> </ng-container>\n\n      <!-- Payee To -->\n      <ng-container *ngTemplateOutlet=\"paymentFormPayeeTo\"> </ng-container>\n\n      <!-- Payment details -->\n      <ng-container *ngTemplateOutlet=\"formDetails\"> </ng-container>\n\n      <!-- Payment overnight delivery address -->\n      <ng-container *ngTemplateOutlet=\"formOvernightAddress\"> </ng-container>\n      <div class=\"bb-button-bar bb-button-bar--reverse\">\n        <button\n          bbButton\n          i18n=\"Make payment button|Button text to make a payment@@bb-billpay-payment-form.button.submit\"\n          data-role=\"button-submit\"\n          class=\"bb-button-bar__button\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          Continue\n        </button>\n        <button\n          bbButton\n          i18n=\"Make payment cancel button|Button text to make cancel a payment@@bb-billpay-payment-form.button.cancel\"\n          data-role=\"cancel-payment-button\"\n          class=\"bb-button-bar__button bb-button-bar__button--across\"\n          (click)=\"cancel()\"\n          color=\"link\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<ng-template #paymentFormAccountFrom>\n  <bb-fieldset-ui class=\"bb-block bb-block--lg\" data-role=\"account-from-selected\">\n    <label\n      data-role=\"select-account-label\"\n      aria-live=\"polite\"\n      class=\"bb-label\"\n      i18n=\"From|From section title@@billpay-manage-payment.section.from\"\n    >\n      From\n    </label>\n    <bb-product-selector-ui #fromAccount>\n      <ng-container bbDropdownToggle *ngIf=\"selectedAccount$ | async as selectedAccount\">\n        <bb-product-item-basic-account-ui\n          *ngIf=\"selectedAccount\"\n          [title]=\"selectedAccount.accountNickName\"\n          [productNumber]=\"selectedAccount.accountNumber\"\n          [productNumberFormat]=\"accountNumberFormatConfig\"\n          [amount]=\"selectedAccount.accountBalance?.amount\"\n          [currency]=\"selectedAccount.accountBalance?.currencyCode\"\n          [highlight]=\"false\"\n          [active]=\"false\"\n          data-role=\"account-from-selected-toggle\"\n          class=\"bb-text-align-left\"\n        >\n        </bb-product-item-basic-account-ui>\n\n        <div\n          *ngIf=\"!selectedAccount\"\n          data-role=\"select-account-option\"\n          i18n-aria-label=\"\n            Account selector aria label|Aria label to show when no account is being\n            selected@@bb-billpay-manage-payment.account.placeholder.label\"\n          aria-label=\"Select a debit account\"\n          i18n=\"\n            Account selector placeholder|Text to show when no account is being\n            selected@@bb-billpay-manage-payment.payee.placeholder\"\n          class=\"bb-text-align-left\"\n        >\n          Select an account\n        </div>\n      </ng-container>\n      <ng-container bbDropdownMenu>\n        <button\n          #listItem\n          bbButton\n          class=\"bb-product-selector__dropdown-item\"\n          color=\"unstyled\"\n          [block]=\"true\"\n          *ngFor=\"let account of accounts\"\n          (click)=\"selectAccount(account)\"\n          data-role=\"account-item\"\n        >\n          <bb-product-item-basic-account-ui\n            [title]=\"account.accountNickName\"\n            [productNumber]=\"account.accountNumber\"\n            [productNumberFormat]=\"accountNumberFormatConfig\"\n            [amount]=\"account.accountBalance?.amount\"\n            [currency]=\"account.accountBalance?.currencyCode\"\n            [highlight]=\"false\"\n            [active]=\"false\"\n            class=\"bb-stack__item bb-stack__item--fill bb-text-align-left\"\n            role=\"menuitem\"\n          >\n          </bb-product-item-basic-account-ui>\n        </button>\n      </ng-container>\n    </bb-product-selector-ui>\n    <bb-input-validation-message-ui role=\"alert\" [showErrors]=\"isInvalidControl(paymentForm?.get('accountFrom'))\">\n      <span\n        *ngIf=\"!paymentForm?.get('accountFrom')?.errors?.notEmptyObject\"\n        i18n=\"Account from required error message@@bb-billpay-payment-form.error.account-from\"\n        data-role=\"invalid-account-from\"\n        >Please select an account</span\n      >\n    </bb-input-validation-message-ui>\n  </bb-fieldset-ui>\n</ng-template>\n\n<ng-template #paymentFormPayeeTo>\n  <bb-fieldset-ui *ngIf=\"!isEditPayment\" data-role=\"payee-to-product-selector\" class=\"bb-block bb-block--lg\">\n    <label\n      data-role=\"select-payee-label\"\n      aria-live=\"polite\"\n      class=\"bb-label\"\n      i18n=\"To|To section title@@billpay-manage-payment.section.to\"\n    >\n      To\n    </label>\n    <bb-product-selector-ui>\n      <ng-container bbDropdownToggle>\n        <ng-container *ngIf=\"selectedPayee$ | async as selectedPayee; else selectPauee\">\n          <bb-product-item-current-account-ui\n            *ngIf=\"selectedPayee\"\n            [title]=\"selectedPayee.nickName || selectedPayee.name\"\n            [mainSectionTitle]=\"(selectedPayee.nickName && selectedPayee.name) || ''\"\n            [highlight]=\"false\"\n            data-role=\"payee-to-selected-toggle\"\n            [active]=\"false\"\n            class=\"bb-text-align-left\"\n          >\n            <ng-template bbCustomProductItemCurrentAccountMainSection let-mainSectionTitle=\"mainSectionTitle\">\n              <div>\n                <span class=\"bb-text-support bb-subtitle\">{{ mainSectionTitle }}</span>\n              </div>\n            </ng-template>\n          </bb-product-item-current-account-ui>\n        </ng-container>\n        <ng-template #selectPauee>\n          <div\n            data-role=\"select-payee-label\"\n            class=\"bb-text-align-left\"\n            i18n=\"\n              Payee selector placeholder|Text to show when no payee is being\n              selected@@bb-billpay-manage-payment.payee.placeholder\"\n          >\n            Select a payee\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container bbDropdownMenu>\n        <button\n          #listItem\n          bbButton\n          class=\"bb-product-selector__dropdown-item\"\n          color=\"unstyled\"\n          [block]=\"true\"\n          *ngFor=\"let payee of payeeSummaries\"\n          (click)=\"selectPayee(payee)\"\n          data-role=\"payee-item\"\n        >\n          <bb-product-item-current-account-ui\n            [title]=\"payee.nickName || payee.name\"\n            [mainSectionTitle]=\"(payee.nickName && payee.name) || ''\"\n            [highlight]=\"false\"\n            [active]=\"false\"\n            class=\"bb-stack__item bb-stack__item--fill bb-text-align-left\"\n            role=\"menuitem\"\n          >\n            <ng-template bbCustomProductItemCurrentAccountMainSection let-mainSectionTitle=\"mainSectionTitle\">\n              <div>\n                <span class=\"bb-text-support bb-subtitle\">\n                  {{ mainSectionTitle }}\n                </span>\n              </div>\n            </ng-template>\n          </bb-product-item-current-account-ui>\n        </button>\n      </ng-container>\n    </bb-product-selector-ui>\n    <bb-input-validation-message-ui role=\"alert\" [showErrors]=\"isInvalidControl(paymentForm?.get('payeeTo'))\">\n      <span\n        *ngIf=\"!paymentForm?.get('payeeTo')?.errors?.notEmptyObject\"\n        i18n=\"Payee to required error message@@bb-billpay-payment-form.error.payee-to\"\n        data-role=\"invalid-payee-to\"\n      >\n        Please select a payee\n      </span>\n    </bb-input-validation-message-ui>\n  </bb-fieldset-ui>\n</ng-template>\n\n<ng-template #formDetails>\n  <fieldset class=\"bb-fieldset\" data-role=\"payment-details-fieldset\" *ngIf=\"selectedPayee$ | async\">\n    <legend class=\"bb-fieldset__heading border-bottom\">\n      <div class=\"bb-block bb-block--sm\">\n        <span i18n=\"Payment details|text for the 'payment details' payment@@bb-billpay-payment-form.payment-details\">{{\n          paymentDetailsTitle\n        }}</span>\n        <span\n          *ngIf=\"ebillPayment\"\n          class=\"bb-text-support bb-text-default\"\n          i18n=\"\n            Payment description Due|text for the 'payment description'\n            payment@@bb-billpay-payment-form.payment-description\"\n        >\n          - { paymentForm?.get('amount')?.value?.type, select, Due { eBill due amount } Minimum { eBill minimum amount }\n          Balance { eBill total amount } other { eBill custom amount } }\n        </span>\n      </div>\n    </legend>\n    <div class=\"bb-block bb-block--md\" *ngIf=\"ebillPayment\">\n      <bb-billpay-ebill-payment\n        [control]=\"amountGroup\"\n        [eBillDefaultCurrency]=\"paymentDefaultCurrency\"\n        [latestBill]=\"ebillSummary?.latestBill\"\n        [isSubmitted]=\"formSubmitted\"\n      ></bb-billpay-ebill-payment>\n    </div>\n\n    <div class=\"bb-block bb-block--md\" [formGroup]=\"amountGroup\" *ngIf=\"!ebillPayment\">\n      <label\n        class=\"bb-label\"\n        data-role=\"payment-amount-label\"\n        for=\"{{ 'billpay-amount-input-' + id }}\"\n        i18n=\"Amount of payment|ext for the 'payment details' amount@@bb-billpay-payment-form.payment-details.amount\"\n        >Amount</label\n      >\n      <div class=\"bb-form-field bb-form-field--md\">\n        <bb-amount-input-ui\n          formControlName=\"amount\"\n          data-role=\"amount\"\n          [id]=\"'billpay-amount-input-' + id\"\n          [autoDecimal]=\"true\"\n          wrapperClasses=\"bb-amount-input__field--large\"\n          [currency]=\"(selectedAccount$ | async)?.accountBalance?.currencyCode || defaultAmount.currency\"\n          placeholder=\"0.00\"\n          aria-describedby=\"{{ 'billpay-amount-errors-' + id }}\"\n        >\n        </bb-amount-input-ui>\n      </div>\n      <bb-input-validation-message-ui\n        role=\"alert\"\n        id=\"{{ 'billpay-amount-errors-' + id }}\"\n        [showErrors]=\"isInvalidControl(paymentForm?.get('amount'))\"\n      >\n        <span\n          *ngIf=\"!paymentForm?.get('amount')?.errors?.amountInvalid\"\n          i18n=\"Please add amount of this payment|Error zero amount@@bb-billpay-payment-form.error.amount\"\n          data-role=\"invalid-amount\"\n        >\n          Please add amount of this payment.\n        </span>\n      </bb-input-validation-message-ui>\n    </div>\n\n    <div class=\"bb-fieldset\" [formGroup]=\"paymentForm\">\n      <label class=\"bb-label\" data-role=\"add-memo-label\" for=\"bb-billpay-payment-form-memo\">\n        <span i18n=\"Memo label|Label for payment memo@@bb-billpay-payment-form.label.memo\">Payment description</span>\n        <span class=\"bb-text-support\" i18n=\"label helper|optional text@@bb-billpay-payment-form.label.memo-helper\">\n          (Optional)</span\n        >\n      </label>\n      <div class=\"bb-form-field bb-form-field--md\">\n        <bb-textarea-ui\n          [id]=\"'bb-billpay-payment-form-memo'\"\n          formControlName=\"memo\"\n          data-role=\"memo\"\n          placeholder=\"Enter payment description\"\n          i18n-placeholder=\"\n            Enter payment description|Placeholder for payment description@@bb-billpay-payment-form.payment.description\"\n          [showCharCounter]=\"true\"\n          [maxLength]=\"140\"\n          [rows]=\"2\"\n        >\n        </bb-textarea-ui>\n      </div>\n    </div>\n\n    <!-- Payment scheduler -->\n    <bb-collapsible-ui\n      *ngIf=\"(selectedPayee$ | async) && (!isEditPayment || paymentType !== 'oneOff'); else editOneOffPaymentSchedule\"\n      data-role=\"schedule-toggle\"\n      [isOpen]=\"true\"\n    >\n      <ng-template bbCollapsibleHeader let-toggle=\"toggle\" let-isOpen=\"isOpen\">\n        <div class=\"border-bottom bb-block bb-block--md\">\n          <button\n            bbButton\n            class=\"bb-stack bb-product-selector__item-content\"\n            (click)=\"toggle()\"\n            type=\"button\"\n            color=\"unstyled\"\n          >\n            <div class=\"bb-stack__item bb-stack__item--fill bb-text-align-left\">\n              <div class=\"bb-block bb-block--sm\">\n                <span\n                  class=\"bb-heading-2\"\n                  data-role=\"schedule-section-title\"\n                  i18n=\"\n                    Schedule section title|Title of the form section with payment schedule\n                    fields@@bb-billpay-payment-form.section.schedule.title\"\n                >\n                  Schedule\n                </span>\n                <span class=\"bb-text-support bb-text-default\">\n                  <bb-schedule-label-ui\n                    [item]=\"scheduleLabelData\"\n                    [frequencies]=\"frequencies\"\n                    [minOccurrences]=\"minOccurs\"\n                    [isSingleTransfer]=\"schedule.frequency === frequencyKeys.Once\"\n                  >\n                  </bb-schedule-label-ui>\n                </span>\n              </div>\n            </div>\n            <bb-icon-ui\n              class=\"bb-stack__item\"\n              cropped\n              data-role=\"schedule-toggle-icon\"\n              aria-label=\"Schedule toggle\"\n              i18n-aria-label=\"\n                Schedule toggle label|Aria label for schedule\n                toggle@@bb-billpay-payment-form.bb-schedule-ui.label.toggle\"\n              [name]=\"isOpen ? 'toggle-up' : 'toggle-down'\"\n            ></bb-icon-ui>\n          </button>\n        </div>\n      </ng-template>\n      <ng-template bbCollapsibleBody>\n        <bb-schedule-ui\n          [scheduleForm]=\"paymentForm.get('schedule')\"\n          [paymentServices]=\"(selectedPayee$ | async)?.paymentServices\"\n          [defaultPaymentServiceType]=\"defaultPaymentServiceType\"\n          [frequencies]=\"frequencies\"\n          [minOccurs]=\"minOccurs\"\n          [maxOccurs]=\"maxOccurs\"\n          [minDate]=\"minDate$ | async\"\n          [formSubmitted]=\"formSubmitted\"\n          data-role=\"payment-schedule\"\n        >\n        </bb-schedule-ui>\n      </ng-template>\n    </bb-collapsible-ui>\n\n    <ng-template #editOneOffPaymentSchedule>\n      <div *ngIf=\"selectedPayee$ | async\" class=\"bb-block bb-block--md\" [formGroup]=\"paymentForm.get('schedule')\">\n        <label class=\"bb-label\" data-role=\"deliver-payment-by-date\">\n          <span\n            id=\"billpay-schedule-end-date-on-{{ id }}\"\n            i18n=\"Deliver payment by label|Edit one off payment date@@bb-billpay-payment-form.label.deliver-payment-by\"\n            >Deliver payment by</span\n          >\n          <div>\n            <bb-input-datepicker-ui\n              formControlName=\"startDate\"\n              [minDate]=\"minDate$ | async\"\n              data-role=\"once-start-date-calendar\"\n              aria-label=\"start-date\"\n              aria-labelledby=\"billpay-schedule-end-date-on-{{ id }}\"\n              datepickerDescribedby=\"billpay-schedule-end-date-on-error-{{ id }}\"\n            ></bb-input-datepicker-ui>\n          </div>\n          <bb-input-validation-message-ui\n            id=\"billpay-schedule-end-date-on-error-{{ id }}\"\n            aria-live=\"polite\"\n            [showErrors]=\"paymentForm.get('schedule.startDate')?.invalid && formSubmitted\"\n          >\n            <span\n              *ngIf=\"paymentForm.get('schedule.startDate')?.hasError('required')\"\n              i18n=\"\n                Execution date required error text|Error required message for Execution date input\n                field@@bb-billpay-payment-form.error.required.startDate\"\n              data-role=\"missing-schedule-execution-date\"\n            >\n              Execution date is required.\n            </span>\n            <span\n              *ngIf=\"\n                paymentForm.get('schedule.startDate')?.hasError('pastDate') ||\n                paymentForm.get('schedule.startDate')?.hasError('dateLessThanMinDate')\n              \"\n              i18n=\"\n                Execution date past date error text |Error past date message for Execution date input\n                field@@bb-billpay-payment-form.error.pastDate.startDate\"\n              data-role=\"past-date-schedule-execution-date\"\n            >\n              Execution date cannot be before delivery date.\n            </span>\n            <span\n              *ngIf=\"paymentForm?.get('schedule.startDate')?.hasError('invalidDateFormat')\"\n              i18n=\"\n                Execution date invalid date error text |Error invalid date format message for Execution date input\n                field@@bb-billpay-payment-form.error.invalidDateFormat\"\n              data-role=\"invalid-date-schedule-execution-date\"\n            >\n              Invalid date format.\n            </span>\n          </bb-input-validation-message-ui>\n        </label>\n      </div>\n    </ng-template>\n  </fieldset>\n</ng-template>\n\n<ng-template #formOvernightAddress>\n  <ng-container\n    *ngIf=\"schedule.paymentService?.service?.paymentServiceType === 'OVERNIGHT_CHECK'\"\n    [formGroup]=\"paymentForm\"\n  >\n    <bb-fieldset-ui\n      i18n-heading=\"\n        Overnight check address|Text for the payment overnight\n        address@@bb-billpay-payment-form.payment-overnight-address\"\n      heading=\"Overnight check address\"\n      class=\"bb-block bb-block-xl\"\n    >\n      <bb-alert-ui\n        modifier=\"info\"\n        class=\"d-block\"\n        title=\"This address might be a dedicated PO box for overnight payments. Please check with your biller\"\n        i18n-title=\"alert title|Address alert@@bb-billpay-payment-form.payment-overnight-address.alert\"\n        data-role=\"overnight-alert-message\"\n      >\n      </bb-alert-ui>\n      <bb-billpay-address-form\n        [formGroup]=\"paymentForm.get('overnightDeliveryAddress')\"\n        formGroupName=\"overnightDeliveryAddress\"\n      ></bb-billpay-address-form>\n    </bb-fieldset-ui>\n  </ng-container>\n</ng-template>\n", components: [{ type: i3.HeaderComponent, selector: "bb-header-ui", inputs: ["headingClasses", "headingType", "heading"] }, { type: i4.FieldsetComponent, selector: "bb-fieldset-ui", inputs: ["heading", "disabled"] }, { type: i5.ProductSelectorComponent, selector: "bb-product-selector-ui", inputs: ["autoClose", "position", "container"] }, { type: i6.ProductItemBasicAccountComponent, selector: "bb-product-item-basic-account-ui", inputs: ["title", "productNumber", "productNumberFormat", "currency", "showCurrencySymbol", "amount", "highlight", "productDetailsInfo", "active", "favorite", "favoriteIconColor", "selected", "type", "status", "balanceLabel", "bankBranchCode"] }, { type: i7.InputValidationMessageComponent, selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i8.ProductItemCurrentAccountComponent, selector: "bb-product-item-current-account-ui", inputs: ["title", "productNumber", "productNumberFormat", "currency", "amount", "mainSectionCurrency", "mainSectionAmount", "mainSectionTitle", "secondarySectionCurrency", "secondarySectionAmount", "secondarySectionTitle", "highlight", "productDetailsInfo", "active", "favorite", "favoriteIconColor"] }, { type: i9.BillpayEbillPaymentUIComponent, selector: "bb-billpay-ebill-payment", inputs: ["latestBill", "control", "isSubmitted", "eBillDefaultCurrency"] }, { type: i10.AmountInputComponent, selector: "bb-amount-input-ui", inputs: ["placeholder", "maxLength", "wrapperClasses", "mapCurrency", "currency", "autoDecimal"] }, { type: i11.TextareaComponent, selector: "bb-textarea-ui", inputs: ["rows", "cols", "placeholder", "maxLength", "minLength", "readonly", "showCharCounter", "wrap"] }, { type: i12.CollapsibleComponent, selector: "bb-collapsible-ui", inputs: ["recreateBodyContent", "hasChevron", "isOpen"], outputs: ["isOpenChange"] }, { type: i13.ScheduleLabelComponent, selector: "bb-schedule-label-ui", inputs: ["item", "isSingleTransfer", "minOccurrences", "frequencies"] }, { type: i14.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i15.ScheduleComponent, selector: "bb-schedule-ui", inputs: ["frequencies", "minOccurs", "maxOccurs", "scheduleForm", "minDate", "defaultPaymentServiceType", "formSubmitted", "paymentServices"] }, { type: i16.InputDatepickerComponent, selector: "bb-input-datepicker-ui", inputs: ["rangeSelection", "rangeSelectionSplit", "clickOpen", "focusOpen", "placement", "datepickerDescribedby", "ariaLabelForButton", "minDate", "maxDate", "markDisabled", "icon", "iconSize", "iconColor", "btnColor", "ariaLabel", "navigation", "autocomplete", "firstDayOfWeek", "displayMonths", "placeholder", "overrideDateFormat"], outputs: ["focusedDate"] }, { type: i17.AlertComponent, selector: "bb-alert-ui", inputs: ["modifier", "dismissible", "title", "message"], outputs: ["close"] }, { type: i2.ӨBillpayAddressFormComponent, selector: "bb-billpay-address-form" }], directives: [{ type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i18.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i18.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i19.ButtonDirective, selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }, { type: i18.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i8.CustomProductItemCurrentAccountMainSectionDirective, selector: "ng-template[bbCustomProductItemCurrentAccountMainSection]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i12.CollapsibleHeaderDirective, selector: "ng-template[bbCollapsibleHeader]" }, { type: i12.CollapsibleBodyDirective, selector: "ng-template[bbCollapsibleBody]" }, { type: i16.MinDateValidatorDirective, selector: "bb-input-datepicker-ui[minDate]", inputs: ["minDate"] }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }], pipes: { "async": i18.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: BillpayPaymentFormComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-billpay-payment-form',
                    templateUrl: './billpay-payment-form.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }, { type: i2.BillpayPaymentScheduleService }]; }, propDecorators: { payeeSummaries: [{
                type: Input
            }], accounts: [{
                type: Input
            }], selectedPayeeId: [{
                type: Input
            }], paymentState: [{
                type: Input
            }], paymentId: [{
                type: Input
            }], accountNumberMask: [{
                type: Input
            }], paymentType: [{
                type: Input
            }], isEditPayment: [{
                type: Input
            }], paymentDetailsTitle: [{
                type: Input
            }], paymentDefaultCurrency: [{
                type: Input
            }], frequencies: [{
                type: Input
            }], fromAccount: [{
                type: ViewChild,
                args: ['fromAccount']
            }], submitPayment: [{
                type: Output
            }], cancelPayment: [{
                type: Output
            }], valueChanged: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlsbHBheS1wYXltZW50LWZvcm0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmlsbHBheS1wYXltZW50LWZvcm0vYmlsbHBheS1wYXltZW50LWZvcm0uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXktYmlsbHMtam91cm5leS9zcmMvY29tcG9uZW50cy9iaWxscGF5LXBheW1lbnQtc2luZ2xlLWJpbGwvYmlsbHBheS1wYXltZW50LWZvcm0vYmlsbHBheS1wYXltZW50LWZvcm0uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFpQixTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBcUIsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwSCxPQUFPLEVBT0wsVUFBVSxHQUNYLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLGVBQWUsRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFJaEQsT0FBTyxFQUVMLHVCQUF1QixFQUN2Qix5QkFBeUIsRUFFekIsUUFBUSxFQUNSLGtCQUFrQixFQUNsQixXQUFXLEVBR1gsaUJBQWlCLEVBQ2pCLGVBQWUsRUFFZixhQUFhLEVBRWIsb0JBQW9CLEVBR3BCLHFCQUFxQixJQUFJLE9BQU8sR0FDakMsTUFBTSxtQ0FBbUMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPakQsTUFBTSxPQUFPLDJCQUEyQjtJQXlGdEMsZ0JBQWdCO0lBQ2hCLFlBQTZCLEVBQWUsRUFBbUIsZUFBOEM7UUFBaEYsT0FBRSxHQUFGLEVBQUUs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QUksRUFBRSxFQUFFLEVBQUUsQ0FBQztTQUNyRjtRQUVELE9BQU8sZ0JBQWdCLENBQUMsS0FBc0IsQ0FBQztJQUNqRCxDQUFDOzt5SEF2a0JVLDJCQUEyQjs2R0FBM0IsMkJBQTJCLGtwQkN6Q3hDLDA3a0JBcWNBOzRGRDVaYSwyQkFBMkI7a0JBSnZDLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLHlCQUF5QjtvQkFDbkMsV0FBVyxFQUFFLHVDQUF1QztpQkFDckQ7OElBS1UsY0FBYztzQkFBdEIsS0FBSztnQkFJRyxRQUFRO3NCQUFoQixLQUFLO2dCQUlHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBSUcsWUFBWTtzQkFBcEIsS0FBSztnQkFJRyxTQUFTO3NCQUFqQixLQUFLO2dCQUlHLGlCQUFpQjtzQkFBekIsS0FBSztnQkFLRyxXQUFXO3NCQUFuQixLQUFLO2dCQUlHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBSUcsbUJBQW1CO3NCQUEzQixLQUFLO2dCQUtHLHNCQUFzQjtzQkFBOUIsS0FBSztnQkFLTyxXQUFXO3NCQUF2QixLQUFLO2dCQVNvQixXQUFXO3NCQUFwQyxTQUFTO3VCQUFDLGFBQWE7Z0JBRWQsYUFBYTtzQkFBdEIsTUFBTTtnQkFDRyxhQUFhO3NCQUF0QixNQUFNO2dCQUNHLFlBQVk7c0JBQXJCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgQWJzdHJhY3RDb250cm9sLFxuICBGb3JtQnVpbGRlcixcbiAgRm9ybUNvbnRyb2wsXG4gIEZvcm1Hcm91cCxcbiAgVmFsaWRhdGlvbkVycm9ycyxcbiAgVmFsaWRhdG9yRm4sXG4gIFZhbGlkYXRvcnMsXG59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBBY2NvdW50LCBBZGRyZXNzLCBFYmlsbFN1bW1hcnksIFBheWVlU3VtbWFyeSwgUGF5bWVudFNlcnZpY2UgfSBmcm9tICdAYmFja2Jhc2UvZGF0YS1hbmcvYmlsbHBheSc7XG5cbmltcG9ydCB7XG4gIEFjY291bnROdW1iZXJGb3JtYXQsXG4gIGFjY291bnROdW1iZXJGdWxsRm9ybWF0LFxuICBhY2NvdW50TnVtYmVyTWFza2VkRm9ybWF0LFxuICBCaWxscGF5UGF5bWVudFNjaGVkdWxlU2VydmljZSxcbiAgRW5kVHlwZXMsXG4gIGZvcm1Db250cm9sT3B0aW9ucyxcbiAgZnJlcXVlbmNpZXMsXG4gIFBheW1lbnRUeXBlLFxuICBQYXltZW50QW1vdW50LFxuICBSRUNVUlJJTkdfUEFZTUVOVCxcbiAgT05FX09GRl9QQVlNRU5ULFxuICBGcmVxdWVuY3ksXG4gIEZyZXF1ZW5jeUtleXMsXG4gIFBheW1lbnRGb3JtU3RhdGUsXG4gIFBheW1lbnRTZXJ2aWNlc1R5cGVzLFxuICBTY2hlZHVsZSxcbiAgUGF5bWVudFNlcnZpY2VSYWRpbyxcbiAgQmlsbHBheVV0aWxpdHlTZXJ2aWNlIGFzIFV0aWxpdHksXG59IGZyb20gJ0BiYWNrYmFzZS9iaWxscGF5LWpvdXJuZXlzLWNvbW1vbic7XG5pbXBvcnQgeyB0YWtlLCB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBQcm9kdWN0U2VsZWN0b3JDb21wb25lbnQgfSBmcm9tICdAYmFja2Jhc2UvdWktYW5nL3Byb2R1Y3Qtc2VsZWN0b3InO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiYi1iaWxscGF5LXBheW1lbnQtZm9ybScsXG4gIHRlbXBsYXRlVXJsOiAnLi9iaWxscGF5LXBheW1lbnQtZm9ybS5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIEJpbGxwYXlQYXltZW50Rm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBBZnRlclZpZXdJbml0IHtcbiAgLyoqXG4gICAqIEFycmF5IG9mIHBheWVlIHN1bW1hcnkgZGV0YWlscy5cbiAgICovXG4gIEBJbnB1dCgpIHBheWVlU3VtbWFyaWVzOiBQYXllZVN1bW1hcnlbXSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEFycmF5IG9mIHVzZXIncyBhY2NvdW50cy5cbiAgICovXG4gIEBJbnB1dCgpIGFjY291bnRzOiBBY2NvdW50W10gfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBJZGVudGlmaWVyIGZvciB0aGUgcGF5ZWUgdGhhdCBpcyBjdXJyZW50bHkgc2VsZWN0ZWQgdG8gYmUgcGFpZCBmcm9tLlxuICAgKi9cbiAgQElucHV0KCkgc2VsZWN0ZWRQYXllZUlkID0gJyc7XG4gIC8qKlxuICAgKiBEZXRhaWxzIG9mIHRoZSBwYXltZW50IGZvcm0uXG4gICAqL1xuICBASW5wdXQoKSBwYXltZW50U3RhdGU6IFBheW1lbnRGb3JtU3RhdGUgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBJZGVudGlmaWVyIGZvciB0aGUgcGF5bWVudCB3aGVuIHRoZSBmb3JtIGlzIGFuIGVkaXQgcGF5bWVudC5cbiAgICovXG4gIEBJbnB1dCgpIHBheW1lbnRJZCA9ICcnO1xuICAvKipcbiAgICogV2hldGhlciB0aGUgYWNjb3VudCBudW1iZXIgc2hvdWxkIGJlIG1hc2tlZC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIEBJbnB1dCgpIGFjY291bnROdW1iZXJNYXNrID0gdHJ1ZTtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHBheW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBwYXltZW50VHlwZT86IFBheW1lbnRUeXBlO1xuICAvKipcbiAgICogQWN0aXZhdGVzIGVkaXQgcGF5bWVudCBlbGVtZW50cy4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqL1xuICBASW5wdXQoKSBpc0VkaXRQYXltZW50ID0gZmFsc2U7XG4gIC8qKlxuICAgKiBnZXQgdGhlIHBheW1lbnQgZGV0YWlscyB0aXRsZSBwcmVmZXJlbmNlLiBkZWZhdWx0IHRvICdQYXltZW50IGRldGFpbHMnLlxuICAgKi9cbiAgQElucHV0KCkgcGF5bWVudERldGFpbHNUaXRsZSA9ICdQYXltZW50IGRldGFpbHMnO1xuXG4gIC8qKlxuICAgKiBnZXQgdGhlIHBheW1lbnQgZGVmYXVsdCBjdXJyZW5jeSBwcmVmZXJlbmNlLiBkZWZhdWx0IHRvICdVU0QnLlxuICAgKi9cbiAgQElucHV0KCkgcGF5bWVudERlZmF1bHRDdXJyZW5jeSA9ICdVU0QnO1xuICAvKipcbiAgICogRnJlcXVlbmNpZXMgZm9yIHNjaGVkdWxlXG4gICAqL1xuICBwcml2YXRlIF9mcmVxdWVuY2llcz86IEZyZXF1ZW5jeVtdO1xuICBASW5wdXQoKSBzZXQgZnJlcXVlbmNpZXModmFsdWU6IEZyZXF1ZW5jeVtdIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5fZnJlcXVlbmNpZXMgPSB2YWx1ZTtcbiAgfVxuICBnZXQgZnJlcXVlbmNpZXMoKTogQXJyYXk8RnJlcXVlbmN5PiB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgaXNFZGl0UmVjdXJyaW5nID0gdGhpcy5pc0VkaXRQYXltZW50ICYmIHRoaXMucGF5bWVudFR5cGUgPT09IFJFQ1VSUklOR19QQVlNRU5UO1xuICAgIGNvbnN0IHVzYWJsZUZyZXF1ZW5jaWVzID0gdGhpcy5fZnJlcXVlbmNpZXMgPyB0aGlzLl9mcmVxdWVuY2llcyA6IGZyZXF1ZW5jaWVzO1xuICAgIHJldHVybiBpc0VkaXRSZWN1cnJpbmcgPyB1c2FibGVGcmVxdWVuY2llcy5maWx0ZXIoZnJlcSA9PiBmcmVxLnZhbHVlICE9PSBGcmVxdWVuY3lLZXlzLk9uY2UpIDogdXNhYmxlRnJlcXVlbmNpZXM7XG4gIH1cblxuICBAVmlld0NoaWxkKCdmcm9tQWNjb3VudCcpIGZyb21BY2NvdW50ITogUHJvZHVjdFNlbGVjdG9yQ29tcG9uZW50O1xuXG4gIEBPdXRwdXQoKSBzdWJtaXRQYXltZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgY2FuY2VsUGF5bWVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHZhbHVlQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICAvKipcbiAgICogUGF5bWVudCBmb3JtIGdyb3VwXG4gICAqL1xuICBwYXltZW50Rm9ybTogRm9ybUdyb3VwID0gdGhpcy5mYi5ncm91cCh7fSk7XG4gIC8qKlxuICAgKiBGbGFnIHRvIGRpc3BsYXkgaWYgcGF5bWVudCBpcyBzdWJtaXR0ZWRcbiAgICovXG4gIGZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcbiAgZWJpbGxTdW1tYXJ5OiBFYmlsbFN1bW1hcnkgfCB1bmRlZmluZWQ7XG4gIGRlZmF1bHRBbW91bnQhOiBQYXltZW50QW1vdW50O1xuICByZWFkb25seSBtaW5EYXRlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPih0aGlzLnNjaGVkdWxlU2VydmljZS50b2RheSk7XG4gIHJlYWRvbmx5IHNlbGVjdGVkQWNjb3VudCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEFjY291bnQgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHJlYWRvbmx5IHNlbGVjdGVkUGF5ZWUkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxQYXllZVN1bW1hcnkgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVzdHJveSQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICAvKipcbiAgICogTWF4aW11bSBvY2N1cnJlbmNlcyBmb3IgdGhlIG51bWJlciBvZiBvY2N1cnJlbmNlcyBpbnB1dCBib3guXG4gICAqL1xuICByZWFkb25seSBtYXhPY2N1cnMgPSA5OTk7XG4gIC8qKlxuICAgKiBNaW5pbXVtIG9jY3VycmVuY2VzIGZvciB0aGUgbnVtYmVyIG9mIG9jY3VycmVuY2VzIGlucHV0IGJveC5cbiAgICovXG4gIHJlYWRvbmx5IG1pbk9jY3VycyA9IDE7XG4gIC8qKlxuICAgKiB1bmlxdWUga2V5IHVzZWQgZm9yIGlkc1xuICAgKi9cbiAgcmVhZG9ubHkgaWQgPSBVdGlsaXR5LmdlbmVyYXRlSWQoKTtcblxuICAvKiogQGludGVybmFsICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZmI6IEZvcm1CdWlsZGVyLCBwcml2YXRlIHJlYWRvbmx5IHNjaGVkdWxlU2VydmljZTogQmlsbHBheVBheW1lbnRTY2hlZHVsZVNlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5kZWZhdWx0QW1vdW50ID0ge1xuICAgICAgYW1vdW50OiAnJyxcbiAgICAgIGN1cnJlbmN5OiB0aGlzLnBheW1lbnREZWZhdWx0Q3VycmVuY3ksXG4gICAgICB0eXBlOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdGVkQWNjb3VudCQubmV4dCh0aGlzLmRlZmF1bHRBY2NvdW50RnJvbSk7XG4gICAgdGhpcy5zZWxlY3RlZFBheWVlJC5uZXh0KHRoaXMuZGVmYXVsdFBheWVlVG8pO1xuICAgIGlmICh0aGlzLmRlZmF1bHRQYXllZVRvKSB7XG4gICAgICB0aGlzLmViaWxsU3VtbWFyeSA9IHRoaXMuZGVmYXVsdFBheWVlVG8uZWJpbGw7XG4gICAgfVxuICAgIHRoaXMubWluRGF0ZSQubmV4dChcbiAgICAgIHRoaXMuc2NoZWR1bGVTZXJ2aWNlLmVzdGltYXRlZFBheW1lbnRTZXJ2aWNlRGF0ZShcbiAgICAgICAgdGhpcy5kZWZhdWx0UGF5ZWVUbyAmJiB0aGlzLmRlZmF1bHRQYXllZVRvLnBheW1lbnRTZXJ2aWNlcyxcbiAgICAgICAgUGF5bWVudFNlcnZpY2VzVHlwZXMuUmVndWxhcixcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNyZWF0ZUZvcm0oKTtcbiAgICB0aGlzLnByb2NjZXNzUGF5bWVudFNlcnZpY2VWYWx1ZUNoYW5nZXMoKTtcbiAgICB0aGlzLnByb2NjZXNzRnJlcXVlbmN5VmFsdWVDaGFuZ2VzKCk7XG5cbiAgICB0aGlzLnBheW1lbnRGb3JtLnZhbHVlQ2hhbmdlcy5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSwgdGFrZSgxKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLmVtaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmZyb21BY2NvdW50KSB7XG4gICAgICAgIHRoaXMuZnJvbUFjY291bnQuZHJvcGRvd25Ub2dnbGUubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY2FuY2VsUGF5bWVudC5lbWl0KCk7XG4gIH1cblxuICBnZXQgZGVmYXVsdFBheW1lbnRTZXJ2aWNlVHlwZSgpOiBQYXltZW50U2VydmljZXNUeXBlcyB7XG4gICAgY29uc3QgcGF5ZWUgPSB0aGlzLnNlbGVjdGVkUGF5ZWUkLmdldFZhbHVlKCk7XG4gICAgcmV0dXJuIChcbiAgICAgICgodGhpcy5wYXltZW50U3RhdGUgJiZcbiAgICAgICAgcGF5ZWUgJiZcbiAgICAgICAgdGhpcy5wYXltZW50U3RhdGUucGF5ZWVUby5pZCA9PT0gcGF5ZWUuaWQgJiZcbiAgICAgICAgdGhpcy5wYXltZW50U3RhdGUuc2NoZWR1bGUgJiZcbiAgICAgICAgdGhpcy5wYXltZW50U3RhdGUuc2NoZWR1bGUucGF5bWVudFNlcnZpY2UgJiZcbiAgICAgICAgdGhpcy5wYXltZW50U3RhdGUuc2NoZWR1bGUucGF5bWVudFNlcnZpY2UuaW5kZXgpIGFzIFBheW1lbnRTZXJ2aWNlc1R5cGVzKSB8fCBQYXltZW50U2VydmljZXNUeXBlcy5SZWd1bGFyXG4gICAgKTtcbiAgfVxuXG4gIGdldCBhY2NvdW50TnVtYmVyRm9ybWF0Q29uZmlnKCk6IEFjY291bnROdW1iZXJGb3JtYXQge1xuICAgIHJldHVybiB0aGlzLmFjY291bnROdW1iZXJNYXNrID8gYWNjb3VudE51bWJlck1hc2tlZEZvcm1hdCA6IGFjY291bnROdW1iZXJGdWxsRm9ybWF0O1xuICB9XG5cbiAgZ2V0IGViaWxsUGF5bWVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISEoXG4gICAgICAhdGhpcy5pc0VkaXRQYXltZW50ICYmXG4gICAgICB0aGlzLmViaWxsU3VtbWFyeSAmJlxuICAgICAgdGhpcy5lYmlsbFN1bW1hcnkubGF0ZXN0QmlsbCAmJlxuICAgICAgdGhpcy5lYmlsbFN1bW1hcnkubGF0ZXN0QmlsbC5zdGF0dXMgPT09ICdVTlBBSUQnICYmXG4gICAgICAoIXRoaXMuZWJpbGxTdW1tYXJ5LnN0YXR1cyB8fCB0aGlzLmViaWxsU3VtbWFyeS5zdGF0dXMgPT09ICdBQ1RJVkUnKVxuICAgICk7XG4gIH1cblxuICBnZXQgZnJlcXVlbmN5S2V5cygpIHtcbiAgICByZXR1cm4gRnJlcXVlbmN5S2V5cztcbiAgfVxuXG4gIGdldCBzY2hlZHVsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXltZW50Rm9ybT8uY29udHJvbHNbJ3NjaGVkdWxlJ10udmFsdWU7XG4gIH1cblxuICBnZXQgYW1vdW50R3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bWVudEZvcm0/LmdldCgnYW1vdW50Jyk7XG4gIH1cblxuICBnZXQgc3RhcnREYXRlQ29udHJvbCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXltZW50Rm9ybS5nZXQoJ3NjaGVkdWxlLnN0YXJ0RGF0ZScpO1xuICB9XG5cbiAgZ2V0IGVuZERhdGVDb250cm9sKCkge1xuICAgIHJldHVybiB0aGlzLnBheW1lbnRGb3JtLmdldCgnc2NoZWR1bGUuZW5kRGF0ZScpO1xuICB9XG5cbiAgZ2V0IHNjaGVkdWxlTGFiZWxEYXRhKCk6IFNjaGVkdWxlIHtcbiAgICBjb25zdCBzY2hlZHVsZSA9IHRoaXMuc2NoZWR1bGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNjaGVkdWxlLFxuICAgICAgZW5kRGF0ZTogc2NoZWR1bGUuZW5kVHlwZSA9PT0gRW5kVHlwZXMuT24gPyBzY2hlZHVsZS5lbmREYXRlIDogdW5kZWZpbmVkLFxuICAgICAgcmVwZWF0OiBzY2hlZHVsZS5lbmRUeXBlID09PSBFbmRUeXBlcy5BZnRlciA/IHNjaGVkdWxlLnJlcGVhdCA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZGVmYXVsdEFjY291bnRGcm9tKCk6IEFjY291bnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnBheW1lbnRTdGF0ZSAmJiB0aGlzLnBheW1lbnRTdGF0ZS5hY2NvdW50RnJvbSA/IHRoaXMucGF5bWVudFN0YXRlLmFjY291bnRGcm9tIDogdGhpcy5hY2NvdW50cz8uWzBdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZGVmYXVsdFBheWVlVG8oKTogUGF5ZWVTdW1tYXJ5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wYXltZW50U3RhdGU/LnBheWVlVG9cbiAgICAgID8gdGhpcy5wYXltZW50U3RhdGUucGF5ZWVUb1xuICAgICAgOiB0aGlzLnBheWVlU3VtbWFyaWVzICYmIHRoaXMucGF5ZWVTdW1tYXJpZXMuZmluZChhY2MgPT4gYWNjLmlkID09PSB0aGlzLnNlbGVjdGVkUGF5ZWVJZCk7XG4gIH1cblxuICBwcml2YXRlIGdldE92ZXJuaWdodEFkZHJlc3MocGF5ZWU6IFBheWVlU3VtbWFyeSk6IEFkZHJlc3MgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiAodGhpcy5oYXNPdmVybmlnaHRDaGVjayhwYXllZS5wYXltZW50U2VydmljZXMpICYmIHBheWVlLm92ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcykgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNPdmVybmlnaHRDaGVjayhzZXJ2aWNlczogUGF5bWVudFNlcnZpY2VbXSB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXNlcnZpY2VzPy5maW5kKChpdGVtOiBQYXltZW50U2VydmljZSkgPT4gaXRlbS5wYXltZW50U2VydmljZVR5cGUgPT09IFBheW1lbnRTZXJ2aWNlc1R5cGVzLk92ZXJuaWdodCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBkZWZhdWx0T3Zlcm5pZ2h0QWRkcmVzc1N0YXRlKCk6IEFkZHJlc3Mge1xuICAgIGNvbnN0IHBheWVlID0gdGhpcy5zZWxlY3RlZFBheWVlJC5nZXRWYWx1ZSgpIHx8ICh7fSBhcyBQYXllZVN1bW1hcnkpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLmdldE92ZXJuaWdodEFkZHJlc3MocGF5ZWUpIHx8ICh7fSBhcyBBZGRyZXNzKTtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczE6IGFkZHJlc3MuYWRkcmVzczEgfHwgJycsXG4gICAgICBhZGRyZXNzMjogYWRkcmVzcy5hZGRyZXNzMiB8fCAnJyxcbiAgICAgIGNpdHk6IGFkZHJlc3MuY2l0eSB8fCAnJyxcbiAgICAgIHN0YXRlOiBhZGRyZXNzLnN0YXRlLFxuICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlIHx8ICcnLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldCBkZWZhdWx0Rm9ybVN0YXRlKCk6IFBheW1lbnRGb3JtU3RhdGUge1xuICAgIGNvbnN0IHBheWVlID0gdGhpcy5zZWxlY3RlZFBheWVlJC5nZXRWYWx1ZSgpIHx8ICh7fSBhcyBQYXllZVN1bW1hcnkpO1xuICAgIGNvbnN0IHBheW1lbnRQYXllZVNlcnZpY2UgPVxuICAgICAgcGF5ZWUucGF5bWVudFNlcnZpY2VzICYmXG4gICAgICBwYXllZS5wYXltZW50U2VydmljZXMuZmluZCgoaXRlbTogUGF5bWVudFNlcnZpY2UpID0+IGl0ZW0ucGF5bWVudFNlcnZpY2VUeXBlID09PSB0aGlzLmRlZmF1bHRQYXltZW50U2VydmljZVR5cGUpO1xuICAgIGNvbnN0IHBheW1lbnRQYXllZVNlcnZpY2VEYXRlID1cbiAgICAgICF0aGlzLnBheW1lbnRTdGF0ZSB8fCB0aGlzLnBheW1lbnRTdGF0ZS5zY2hlZHVsZS5mcmVxdWVuY3kgPT09IHRoaXMuZnJlcXVlbmN5S2V5cy5PbmNlXG4gICAgICAgID8gcGF5ZWUucGF5bWVudFNlcnZpY2VzICYmXG4gICAgICAgICAgdGhpcy5zY2hlZHVsZVNlcnZpY2UuZXN0aW1hdGVkUGF5bWVudFNlcnZpY2VEYXRlKHBheWVlLnBheW1lbnRTZXJ2aWNlcywgdGhpcy5kZWZhdWx0UGF5bWVudFNlcnZpY2VUeXBlKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHtcbiAgICAgIHBheW1lbnRJZCxcbiAgICAgIGFjY291bnRGcm9tID0gdGhpcy5zZWxlY3RlZEFjY291bnQkLmdldFZhbHVlKCkgfHwgKHt9IGFzIEFjY291bnQpLFxuICAgICAgcGF5ZWVUbyA9IHBheWVlLFxuICAgICAgYW1vdW50ID0gdGhpcy5kZWZhdWx0QW1vdW50LFxuICAgICAgbWVtbyA9ICcnLFxuICAgICAgb3Zlcm5pZ2h0RGVsaXZlcnlBZGRyZXNzID0gdGhpcy5kZWZhdWx0T3Zlcm5pZ2h0QWRkcmVzc1N0YXRlLFxuICAgICAgc2NoZWR1bGU6IHtcbiAgICAgICAgZnJlcXVlbmN5ID0gdGhpcy5maW5kRGVmYXVsdEZyZXF1ZW5jeSgpLFxuICAgICAgICBzdGFydERhdGUgPSB0aGlzLm1pbkRhdGUkLmdldFZhbHVlKCksXG4gICAgICAgIGVuZERhdGUgPSB0aGlzLm1pbkRhdGUkLmdldFZhbHVlKCksXG4gICAgICAgIHJlcGVhdCA9IDEsXG4gICAgICAgIGVuZFR5cGUgPSBFbmRUeXBlcy5OZXZlcixcbiAgICAgICAgcGF5bWVudFNlcnZpY2UgPSB0aGlzLmdldERlZmF1bHRQYXltZW50U2VydmljZShwYXltZW50UGF5ZWVTZXJ2aWNlKSxcbiAgICAgICAgcGF5bWVudFNlcnZpY2VEYXRlID0gcGF5bWVudFBheWVlU2VydmljZURhdGUsXG4gICAgICAgIGFsZXJ0UGVuZGluZ0NoZWNrYm94ID0gZmFsc2UsXG4gICAgICAgIGFsZXJ0U2VudENoZWNrYm94ID0gZmFsc2UsXG4gICAgICAgIGFsZXJ0TGFzdFBlbmRpbmdDaGVja2JveCA9IGZhbHNlLFxuICAgICAgfSA9IHt9LFxuICAgIH0gPSB0aGlzLnBheW1lbnRTdGF0ZSB8fCAoe30gYXMgUGF5bWVudEZvcm1TdGF0ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBheW1lbnRJZCxcbiAgICAgIGFjY291bnRGcm9tLFxuICAgICAgcGF5ZWVUbyxcbiAgICAgIGFtb3VudCxcbiAgICAgIG1lbW8sXG4gICAgICBvdmVybmlnaHREZWxpdmVyeUFkZHJlc3MsXG4gICAgICBzY2hlZHVsZToge1xuICAgICAgICBmcmVxdWVuY3ksXG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSxcbiAgICAgICAgcmVwZWF0LFxuICAgICAgICBlbmRUeXBlLFxuICAgICAgICBwYXltZW50U2VydmljZSxcbiAgICAgICAgcGF5bWVudFNlcnZpY2VEYXRlLFxuICAgICAgICBhbGVydFBlbmRpbmdDaGVja2JveCxcbiAgICAgICAgYWxlcnRTZW50Q2hlY2tib3gsXG4gICAgICAgIGFsZXJ0TGFzdFBlbmRpbmdDaGVja2JveCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Nlc3NQYXltZW50U2VydmljZVZhbHVlQ2hhbmdlcygpIHtcbiAgICBjb25zdCBwYXltZW50U2VydmljZUNvbnRyb2wgPSB0aGlzLnBheW1lbnRGb3JtLmdldCgnc2NoZWR1bGUucGF5bWVudFNlcnZpY2UnKTtcbiAgICBjb25zdCBvdmVybmlnaHRBZGRyZXNzQ29udHJvbCA9IHRoaXMucGF5bWVudEZvcm0uY29udHJvbHNbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcyddO1xuICAgIGlmIChwYXltZW50U2VydmljZUNvbnRyb2wgJiYgb3Zlcm5pZ2h0QWRkcmVzc0NvbnRyb2wpIHtcbiAgICAgIHBheW1lbnRTZXJ2aWNlQ29udHJvbC52YWx1ZUNoYW5nZXMucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgICAgICBpZiAodmFsLnNlcnZpY2UucGF5bWVudFNlcnZpY2VUeXBlID09PSBQYXltZW50U2VydmljZXNUeXBlcy5PdmVybmlnaHQpIHtcbiAgICAgICAgICBvdmVybmlnaHRBZGRyZXNzQ29udHJvbC5lbmFibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdmVybmlnaHRBZGRyZXNzQ29udHJvbC5kaXNhYmxlKGZvcm1Db250cm9sT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Nlc3NGcmVxdWVuY3lWYWx1ZUNoYW5nZXMoKSB7XG4gICAgY29uc3QgZnJlcXVlbmN5Q29udHJvbCA9IHRoaXMucGF5bWVudEZvcm0uZ2V0KCdzY2hlZHVsZS5mcmVxdWVuY3knKTtcbiAgICBjb25zdCBvdmVybmlnaHRBZGRyZXNzQ29udHJvbCA9IHRoaXMucGF5bWVudEZvcm0uY29udHJvbHNbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcyddO1xuICAgIGlmIChmcmVxdWVuY3lDb250cm9sICYmIG92ZXJuaWdodEFkZHJlc3NDb250cm9sKSB7XG4gICAgICBmcmVxdWVuY3lDb250cm9sLnZhbHVlQ2hhbmdlcy5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSkuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgIGlmICh2YWwudmFsdWUgIT09IEZyZXF1ZW5jeUtleXMuT25jZSkge1xuICAgICAgICAgIG92ZXJuaWdodEFkZHJlc3NDb250cm9sLmRpc2FibGUoZm9ybUNvbnRyb2xPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVPdmVybmlnaHRBZGRyZXNzRm9ybUdyb3VwKCk6IEZvcm1Hcm91cCB7XG4gICAgY29uc3Qgb3Zlcm5pZ2h0QWRkcmVzcyA9IHRoaXMuZGVmYXVsdEZvcm1TdGF0ZS5vdmVybmlnaHREZWxpdmVyeUFkZHJlc3MgfHwgKHt9IGFzIEFkZHJlc3MpO1xuICAgIGNvbnN0IHBheW1lbnRTZXJ2aWNlID0gdGhpcy5kZWZhdWx0Rm9ybVN0YXRlLnNjaGVkdWxlLnBheW1lbnRTZXJ2aWNlO1xuICAgIGNvbnN0IGlzT3Zlcm5pZ2h0QWRkcmVzc0Rpc2FibGVkID1cbiAgICAgICFwYXltZW50U2VydmljZSB8fFxuICAgICAgIXBheW1lbnRTZXJ2aWNlLnNlcnZpY2UgfHxcbiAgICAgICFwYXltZW50U2VydmljZS5zZXJ2aWNlLnBheW1lbnRTZXJ2aWNlVHlwZSB8fFxuICAgICAgcGF5bWVudFNlcnZpY2Uuc2VydmljZS5wYXltZW50U2VydmljZVR5cGUgIT09IFBheW1lbnRTZXJ2aWNlc1R5cGVzLk92ZXJuaWdodDtcbiAgICByZXR1cm4gdGhpcy5mYi5ncm91cCh7XG4gICAgICBhZGRyZXNzMTogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IG92ZXJuaWdodEFkZHJlc3MuYWRkcmVzczEsXG4gICAgICAgICAgZGlzYWJsZWQ6IGlzT3Zlcm5pZ2h0QWRkcmVzc0Rpc2FibGVkLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGFkZHJlc3MyOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogb3Zlcm5pZ2h0QWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICBkaXNhYmxlZDogaXNPdmVybmlnaHRBZGRyZXNzRGlzYWJsZWQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY2l0eTogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IG92ZXJuaWdodEFkZHJlc3MuY2l0eSxcbiAgICAgICAgICBkaXNhYmxlZDogaXNPdmVybmlnaHRBZGRyZXNzRGlzYWJsZWQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgc3RhdGU6IFtcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiBvdmVybmlnaHRBZGRyZXNzLnN0YXRlLFxuICAgICAgICAgIGRpc2FibGVkOiBpc092ZXJuaWdodEFkZHJlc3NEaXNhYmxlZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBwb3N0YWxDb2RlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogb3Zlcm5pZ2h0QWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgIGRpc2FibGVkOiBpc092ZXJuaWdodEFkZHJlc3NEaXNhYmxlZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNjaGVkdWxlRm9ybUdyb3VwKCk6IEZvcm1Hcm91cCB7XG4gICAgY29uc3QgaW5pdFN0YXRlID0gdGhpcy5kZWZhdWx0Rm9ybVN0YXRlO1xuICAgIGNvbnN0IHBheW1lbnRTZXJ2aWNlID0gaW5pdFN0YXRlLnNjaGVkdWxlLnBheW1lbnRTZXJ2aWNlO1xuICAgIGNvbnN0IGlzRW5kRGF0ZURpc2FibGVkID0gaW5pdFN0YXRlLnNjaGVkdWxlLmVuZFR5cGUgIT09IEVuZFR5cGVzLk9uO1xuICAgIGNvbnN0IGlzUmVwZWF0RGlzYWJsZWQgPSBpbml0U3RhdGUuc2NoZWR1bGUuZW5kVHlwZSAhPT0gRW5kVHlwZXMuQWZ0ZXI7XG4gICAgY29uc3QgaXNTdGFydERhdGVEaXNhYmxlZCA9ICEhKFxuICAgICAgcGF5bWVudFNlcnZpY2UgJiZcbiAgICAgIHBheW1lbnRTZXJ2aWNlLmluZGV4ICE9PSBQYXltZW50U2VydmljZXNUeXBlcy5PdGhlciAmJlxuICAgICAgaW5pdFN0YXRlLnNjaGVkdWxlLmZyZXF1ZW5jeSA9PT0gdGhpcy5mcmVxdWVuY3lLZXlzLk9uY2VcbiAgICApO1xuXG4gICAgLy9AVE9ETyBSZXBsYWNlIHN0YXJ0RGF0ZSwgZW5kRGF0ZSB2YWxpZGF0b3JzIGFmdGVyIGZpeCBhbmd1bGFyIGlzc3Vlc1xuICAgIC8vaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTM0NjEjaXNzdWVjb21tZW50LTUwMjY3NDYyOVxuICAgIC8vaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA1NjdcbiAgICByZXR1cm4gdGhpcy5mYi5ncm91cCh7XG4gICAgICBmcmVxdWVuY3k6IFtpbml0U3RhdGUuc2NoZWR1bGUuZnJlcXVlbmN5XSxcbiAgICAgIHN0YXJ0RGF0ZTogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuc2NoZWR1bGVTZXJ2aWNlLmdldExvY2FsSVNPRGF0ZShpbml0U3RhdGUuc2NoZWR1bGUuc3RhcnREYXRlKSxcbiAgICAgICAgICBkaXNhYmxlZDogaXNTdGFydERhdGVEaXNhYmxlZCxcbiAgICAgICAgfSxcbiAgICAgICAgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIHRoaXMubWluRGF0ZVZhbGlkYXRvcih0aGlzLm1pbkRhdGUkLmdldFZhbHVlKCkpXSxcbiAgICAgIF0sXG4gICAgICBlbmREYXRlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5zY2hlZHVsZVNlcnZpY2UuZ2V0TG9jYWxJU09EYXRlKGluaXRTdGF0ZS5zY2hlZHVsZS5lbmREYXRlIGFzIHN0cmluZyksXG4gICAgICAgICAgZGlzYWJsZWQ6IGlzRW5kRGF0ZURpc2FibGVkLFxuICAgICAgICB9LFxuICAgICAgICBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgdGhpcy5taW5EYXRlVmFsaWRhdG9yKHRoaXMubWluRGF0ZSQuZ2V0VmFsdWUoKSldLFxuICAgICAgXSxcbiAgICAgIHJlcGVhdDogW3sgdmFsdWU6IGluaXRTdGF0ZS5zY2hlZHVsZS5yZXBlYXQsIGRpc2FibGVkOiBpc1JlcGVhdERpc2FibGVkIH1dLFxuICAgICAgZW5kVHlwZTogW2luaXRTdGF0ZS5zY2hlZHVsZS5lbmRUeXBlXSxcbiAgICAgIHBheW1lbnRTZXJ2aWNlOiBbaW5pdFN0YXRlLnNjaGVkdWxlLnBheW1lbnRTZXJ2aWNlXSxcbiAgICAgIHBheW1lbnRTZXJ2aWNlRGF0ZTogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IGluaXRTdGF0ZS5zY2hlZHVsZS5wYXltZW50U2VydmljZURhdGUsXG4gICAgICAgICAgZGlzYWJsZWQ6ICFpc1N0YXJ0RGF0ZURpc2FibGVkLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGFsZXJ0UGVuZGluZ0NoZWNrYm94OiBbaW5pdFN0YXRlLnNjaGVkdWxlLmFsZXJ0UGVuZGluZ0NoZWNrYm94XSxcbiAgICAgIGFsZXJ0U2VudENoZWNrYm94OiBbaW5pdFN0YXRlLnNjaGVkdWxlLmFsZXJ0U2VudENoZWNrYm94XSxcbiAgICAgIGFsZXJ0TGFzdFBlbmRpbmdDaGVja2JveDogW2luaXRTdGF0ZS5zY2hlZHVsZS5hbGVydExhc3RQZW5kaW5nQ2hlY2tib3hdLFxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlRm9ybSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbml0U3RhdGUgPSB0aGlzLmRlZmF1bHRGb3JtU3RhdGU7XG4gICAgY29uc3QgYW1vdW50ID0gaW5pdFN0YXRlLmFtb3VudC5hbW91bnQ/LnRvU3RyaW5nKCkgfHwgdW5kZWZpbmVkO1xuICAgIHRoaXMucGF5bWVudEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgIHBheW1lbnRJZDogW3RoaXMucGF5bWVudElkXSxcbiAgICAgIGFjY291bnRGcm9tOiBbaW5pdFN0YXRlLmFjY291bnRGcm9tXSxcbiAgICAgIHBheWVlVG86IFtpbml0U3RhdGUucGF5ZWVUb10sXG4gICAgICBhbW91bnQ6IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICBhbW91bnQ6IFthbW91bnRdLFxuICAgICAgICBjdXJyZW5jeTogW2luaXRTdGF0ZS5hbW91bnQuY3VycmVuY3ldLFxuICAgICAgICB0eXBlOiBbaW5pdFN0YXRlLmFtb3VudC50eXBlXSxcbiAgICAgIH0pLFxuICAgICAgbWVtbzogW2luaXRTdGF0ZS5tZW1vXSxcbiAgICAgIG92ZXJuaWdodERlbGl2ZXJ5QWRkcmVzczogdGhpcy5jcmVhdGVPdmVybmlnaHRBZGRyZXNzRm9ybUdyb3VwKCksXG4gICAgICBzY2hlZHVsZTogdGhpcy5jcmVhdGVTY2hlZHVsZUZvcm1Hcm91cCgpLFxuICAgIH0pO1xuICAgIHRoaXMuc2V0VmFsaWRhdG9ycygpO1xuICB9XG5cbiAgYW1vdW50VmFsaWRhdG9yKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMgfCBudWxsIHtcbiAgICBpZiAoIWNvbnRyb2wudmFsdWUuYW1vdW50IHx8ICtjb250cm9sLnZhbHVlLmFtb3VudCA8PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbW91bnRJbnZhbGlkOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1udWxsL25vLW51bGxcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlzSW52YWxpZENvbnRyb2woY29udHJvbDogRm9ybUNvbnRyb2wpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtU3VibWl0dGVkICYmIGNvbnRyb2wuaW52YWxpZCAmJiBjb250cm9sLnRvdWNoZWQ7XG4gIH1cblxuICBwcml2YXRlIG1pbkRhdGVWYWxpZGF0b3IobWluRGF0ZTogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xuICAgIHJldHVybiAoZmc6IEFic3RyYWN0Q29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMgfCBudWxsID0+IHtcbiAgICAgIGlmICghZmcudmFsdWUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChuZXcgRGF0ZShmZy52YWx1ZSkuc2V0SG91cnMoMCwgMCwgMCwgMCkgPCBuZXcgRGF0ZShtaW5EYXRlKS5zZXRIb3VycygwLCAwLCAwLCAwKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhc3REYXRlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBub3RFbXB0eU9iamVjdFZhbGlkYXRvcihjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiBWYWxpZGF0aW9uRXJyb3JzIHwgbnVsbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgIHJldHVybiBPYmplY3Qua2V5cyhjb250cm9sLnZhbHVlKS5sZW5ndGggPyBudWxsIDogeyBub3RFbXB0eU9iamVjdDogZmFsc2UgfTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0Zvcm1EYXRhKGRhdGE6IFBheW1lbnRGb3JtU3RhdGUpOiBQYXltZW50Rm9ybVN0YXRlIHtcbiAgICBzd2l0Y2ggKGRhdGEuc2NoZWR1bGUuZW5kVHlwZSkge1xuICAgICAgY2FzZSBFbmRUeXBlcy5BZnRlcjpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHNjaGVkdWxlOiB7XG4gICAgICAgICAgICAuLi5kYXRhLnNjaGVkdWxlLFxuICAgICAgICAgICAgZW5kRGF0ZTogbmV3IERhdGUoXG4gICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVTZXJ2aWNlLmVzdGltYXRlZEVuZERhdGUoXG4gICAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5zdGFydERhdGUsXG4gICAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5mcmVxdWVuY3ksXG4gICAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5yZXBlYXQsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgRW5kVHlwZXMuT246XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICBzY2hlZHVsZToge1xuICAgICAgICAgICAgLi4uZGF0YS5zY2hlZHVsZSxcbiAgICAgICAgICAgIHJlcGVhdDogdGhpcy5zY2hlZHVsZVNlcnZpY2UuZXN0aW1hdGVkT2NjdXJlbmNlcyhcbiAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5zdGFydERhdGUsXG4gICAgICAgICAgICAgIGRhdGEuc2NoZWR1bGUuZW5kRGF0ZSB8fCBkYXRhLnNjaGVkdWxlLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5mcmVxdWVuY3ksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgc2NoZWR1bGU6IHtcbiAgICAgICAgICAgIC4uLmRhdGEuc2NoZWR1bGUsXG4gICAgICAgICAgICAuLi4oIWRhdGEuc2NoZWR1bGUuc3RhcnREYXRlICYmXG4gICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZvcm1TdGF0ZS5zY2hlZHVsZS5zdGFydERhdGUgJiYgeyBzdGFydERhdGU6IHRoaXMuZGVmYXVsdEZvcm1TdGF0ZS5zY2hlZHVsZS5zdGFydERhdGUgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldFZhbGlkYXRvcnMoKSB7XG4gICAgKFtcbiAgICAgIFsnYWNjb3VudEZyb20nLCBbdGhpcy5ub3RFbXB0eU9iamVjdFZhbGlkYXRvcl1dLFxuICAgICAgWydwYXllZVRvJywgW3RoaXMubm90RW1wdHlPYmplY3RWYWxpZGF0b3JdXSxcbiAgICAgIFsnYW1vdW50JywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIHRoaXMuYW1vdW50VmFsaWRhdG9yXV0sXG4gICAgICBbJ3NjaGVkdWxlLnJlcGVhdCcsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1pbih0aGlzLm1pbk9jY3VycyksIFZhbGlkYXRvcnMubWF4KHRoaXMubWF4T2NjdXJzKV1dLFxuICAgICAgWydvdmVybmlnaHREZWxpdmVyeUFkZHJlc3MuYWRkcmVzczEnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoNDApXV0sXG4gICAgICBbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcy5hZGRyZXNzMicsIFtWYWxpZGF0b3JzLm1heExlbmd0aCg0MCldXSxcbiAgICAgIFsnb3Zlcm5pZ2h0RGVsaXZlcnlBZGRyZXNzLmNpdHknLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoMzIpXV0sXG4gICAgICBbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcy5zdGF0ZScsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICBbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcy5wb3N0YWxDb2RlJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMucGF0dGVybigvXlxcZHs1fShcXGR7NH0pPyQvKV1dLFxuICAgIF0gYXMgW3N0cmluZywgVmFsaWRhdG9yRm5bXV1bXSkuZm9yRWFjaCgoW2NvbnRyb2xOYW1lLCB2YWxpZGF0b3JzXSkgPT4ge1xuICAgICAgY29uc3QgY29udHJvbCA9IHRoaXMucGF5bWVudEZvcm0uZ2V0KGNvbnRyb2xOYW1lKTtcbiAgICAgIGlmIChjb250cm9sKSB7XG4gICAgICAgIGNvbnRyb2wuc2V0VmFsaWRhdG9ycyh2YWxpZGF0b3JzKTtcbiAgICAgICAgY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmZvcm1TdWJtaXR0ZWQpIHtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdHRlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnBheW1lbnRGb3JtLnZhbGlkKSB7XG4gICAgICB0aGlzLnN1Ym1pdFBheW1lbnQuZW1pdCh0aGlzLnByb2Nlc3NGb3JtRGF0YSh0aGlzLnBheW1lbnRGb3JtLnZhbHVlKSk7XG4gICAgfVxuICAgIHRoaXMucGF5bWVudEZvcm0ubWFya0FsbEFzVG91Y2hlZCgpO1xuICB9XG5cbiAgc2VsZWN0QWNjb3VudChhY2NvdW50OiBBY2NvdW50IHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3RlZEFjY291bnQkLm5leHQoYWNjb3VudCk7XG4gICAgdGhpcy5wYXltZW50Rm9ybS5jb250cm9sc1snYWNjb3VudEZyb20nXS5zZXRWYWx1ZShhY2NvdW50KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3Zlcm5pZ2h0QWRkcmVzcyhwYXllZTogUGF5ZWVTdW1tYXJ5IHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMucGF5bWVudEZvcm0uY29udHJvbHNbJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcyddO1xuICAgIGlmIChwYXllZT8ub3Zlcm5pZ2h0RGVsaXZlcnlBZGRyZXNzICYmIHRoaXMuaGFzT3Zlcm5pZ2h0Q2hlY2socGF5ZWUucGF5bWVudFNlcnZpY2VzKSkge1xuICAgICAgY29udHJvbC5zZXRWYWx1ZSh7XG4gICAgICAgIGFkZHJlc3MxOiBwYXllZS5vdmVybmlnaHREZWxpdmVyeUFkZHJlc3MuYWRkcmVzczEsXG4gICAgICAgIGFkZHJlc3MyOiBwYXllZS5vdmVybmlnaHREZWxpdmVyeUFkZHJlc3MuYWRkcmVzczIgfHwgJycsXG4gICAgICAgIGNpdHk6IHBheWVlLm92ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcy5jaXR5LFxuICAgICAgICBzdGF0ZTogcGF5ZWUub3Zlcm5pZ2h0RGVsaXZlcnlBZGRyZXNzLnN0YXRlLFxuICAgICAgICBwb3N0YWxDb2RlOiBwYXllZS5vdmVybmlnaHREZWxpdmVyeUFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sLnJlc2V0KCk7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0UGF5ZWUocGF5ZWU6IFBheWVlU3VtbWFyeSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0ZWRQYXllZSQubmV4dChwYXllZSk7XG4gICAgdGhpcy5wYXltZW50Rm9ybS5jb250cm9sc1sncGF5ZWVUbyddLnNldFZhbHVlKHBheWVlKTtcbiAgICB0aGlzLm1pbkRhdGUkLm5leHQoXG4gICAgICB0aGlzLnNjaGVkdWxlU2VydmljZS5lc3RpbWF0ZWRQYXltZW50U2VydmljZURhdGUocGF5ZWUgJiYgcGF5ZWUucGF5bWVudFNlcnZpY2VzLCBQYXltZW50U2VydmljZXNUeXBlcy5SZWd1bGFyKSxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuc3RhcnREYXRlQ29udHJvbCAmJiB0aGlzLmVuZERhdGVDb250cm9sKSB7XG4gICAgICB0aGlzLnN0YXJ0RGF0ZUNvbnRyb2wuc2V0VmFsdWUodGhpcy5taW5EYXRlJC5nZXRWYWx1ZSgpKTtcbiAgICAgIHRoaXMuZW5kRGF0ZUNvbnRyb2wuc2V0VmFsdWUodGhpcy5taW5EYXRlJC5nZXRWYWx1ZSgpKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldE92ZXJuaWdodEFkZHJlc3MocGF5ZWUpO1xuXG4gICAgaWYgKHBheWVlKSB7XG4gICAgICB0aGlzLmViaWxsU3VtbWFyeSA9IHBheWVlLmViaWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbW91bnRHcm91cCkge1xuICAgICAgdGhpcy5hbW91bnRHcm91cC5wYXRjaFZhbHVlKHsgYW1vdW50OiAnICcsIHR5cGU6IHVuZGVmaW5lZCB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERlZmF1bHRQYXltZW50U2VydmljZShwYXltZW50U2VydmljZT86IFBheW1lbnRTZXJ2aWNlKTogUGF5bWVudFNlcnZpY2VSYWRpbyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OlxuICAgICAgICB0aGlzLmlzRWRpdFBheW1lbnQgJiYgdGhpcy5wYXltZW50VHlwZSA9PT0gT05FX09GRl9QQVlNRU5UXG4gICAgICAgICAgPyBQYXltZW50U2VydmljZXNUeXBlcy5PdGhlclxuICAgICAgICAgIDogcGF5bWVudFNlcnZpY2U/LnBheW1lbnRTZXJ2aWNlVHlwZSB8fCAnJyxcbiAgICAgIHNlcnZpY2U6IHBheW1lbnRTZXJ2aWNlLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGZpbmREZWZhdWx0RnJlcXVlbmN5KCk6IEZyZXF1ZW5jeUtleXMge1xuICAgIGxldCBkZWZhdWx0RnJlcXVlbmN5OiBGcmVxdWVuY3kgfCB1bmRlZmluZWQ7XG5cbiAgICBzd2l0Y2ggKHRoaXMucGF5bWVudFR5cGUpIHtcbiAgICAgIGNhc2UgT05FX09GRl9QQVlNRU5UOiB7XG4gICAgICAgIGRlZmF1bHRGcmVxdWVuY3kgPSB0aGlzLmZyZXF1ZW5jaWVzPy5maW5kKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gRnJlcXVlbmN5S2V5cy5PbmNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFJFQ1VSUklOR19QQVlNRU5UOiB7XG4gICAgICAgIGRlZmF1bHRGcmVxdWVuY3kgPSB0aGlzLmZyZXF1ZW5jaWVzPy5maW5kKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gRnJlcXVlbmN5S2V5cy5Nb250aGx5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRGcmVxdWVuY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVmYXVsdEZyZXF1ZW5jeSA9IHRoaXMuZnJlcXVlbmNpZXM/LlswXSB8fCB7IHZhbHVlOiBGcmVxdWVuY3lLZXlzLk9uY2UsIG5hbWU6ICcnIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRGcmVxdWVuY3kudmFsdWUgYXMgRnJlcXVlbmN5S2V5cztcbiAgfVxufVxuIiwiPGZvcm0gZGF0YS1yb2xlPVwicGF5bWVudC1mb3JtXCIgW2Zvcm1Hcm91cF09XCJwYXltZW50Rm9ybVwiIChuZ1N1Ym1pdCk9XCJoYW5kbGVTdWJtaXQoKVwiPlxuICA8IS0tIFBheWVlIFRvIGVkaXQgTGFiZWwgLS0+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc0VkaXRQYXltZW50XCI+XG4gICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1sZ1wiPlxuICAgICAgPGJiLWhlYWRlci11aVxuICAgICAgICAqbmdJZj1cInNlbGVjdGVkUGF5ZWUkIHwgYXN5bmMgYXMgcGF5ZWVcIlxuICAgICAgICBkYXRhLXJvbGU9XCJwYXllZS10by1lZGl0LWhlYWRlclwiXG4gICAgICAgIGhlYWRpbmdUeXBlPVwiaDFcIlxuICAgICAgICBoZWFkaW5nPVwiUGF5bWVudCB0byB7eyAocGF5ZWUubmlja05hbWUgJiYgcGF5ZWUubmlja05hbWUgKyAnICgnICsgcGF5ZWUubmFtZSArICcpJykgfHwgcGF5ZWUubmFtZSB9fVwiXG4gICAgICAgIGkxOG4taGVhZGluZz1cIlBheW1lbnQgdG98UGF5ZWUgdG8gZWRpdCBsYWJlbEBAYmlsbHBheS1tYW5hZ2UtcGF5bWVudC5wYXllZS10by5lZGl0LmhlYWRlclwiXG4gICAgICA+PC9iYi1oZWFkZXItdWk+XG4gICAgPC9kaXY+XG4gIDwvbmctY29udGFpbmVyPlxuICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICAgIDwhLS0gQWNjb3VudCBGcm9tIC0tPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cInBheW1lbnRGb3JtQWNjb3VudEZyb21cIj4gPC9uZy1jb250YWluZXI+XG5cbiAgICAgIDwhLS0gUGF5ZWUgVG8gLS0+XG4gICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwicGF5bWVudEZvcm1QYXllZVRvXCI+IDwvbmctY29udGFpbmVyPlxuXG4gICAgICA8IS0tIFBheW1lbnQgZGV0YWlscyAtLT5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJmb3JtRGV0YWlsc1wiPiA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgPCEtLSBQYXltZW50IG92ZXJuaWdodCBkZWxpdmVyeSBhZGRyZXNzIC0tPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImZvcm1PdmVybmlnaHRBZGRyZXNzXCI+IDwvbmctY29udGFpbmVyPlxuICAgICAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXIgYmItYnV0dG9uLWJhci0tcmV2ZXJzZVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYmJCdXR0b25cbiAgICAgICAgICBpMThuPVwiTWFrZSBwYXltZW50IGJ1dHRvbnxCdXR0b24gdGV4dCB0byBtYWtlIGEgcGF5bWVudEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0uYnV0dG9uLnN1Ym1pdFwiXG4gICAgICAgICAgZGF0YS1yb2xlPVwiYnV0dG9uLXN1Ym1pdFwiXG4gICAgICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b25cIlxuICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgID5cbiAgICAgICAgICBDb250aW51ZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgaTE4bj1cIk1ha2UgcGF5bWVudCBjYW5jZWwgYnV0dG9ufEJ1dHRvbiB0ZXh0IHRvIG1ha2UgY2FuY2VsIGEgcGF5bWVudEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0uYnV0dG9uLmNhbmNlbFwiXG4gICAgICAgICAgZGF0YS1yb2xlPVwiY2FuY2VsLXBheW1lbnQtYnV0dG9uXCJcbiAgICAgICAgICBjbGFzcz1cImJiLWJ1dHRvbi1iYXJfX2J1dHRvbiBiYi1idXR0b24tYmFyX19idXR0b24tLWFjcm9zc1wiXG4gICAgICAgICAgKGNsaWNrKT1cImNhbmNlbCgpXCJcbiAgICAgICAgICBjb2xvcj1cImxpbmtcIlxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9mb3JtPlxuXG48bmctdGVtcGxhdGUgI3BheW1lbnRGb3JtQWNjb3VudEZyb20+XG4gIDxiYi1maWVsZHNldC11aSBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1sZ1wiIGRhdGEtcm9sZT1cImFjY291bnQtZnJvbS1zZWxlY3RlZFwiPlxuICAgIDxsYWJlbFxuICAgICAgZGF0YS1yb2xlPVwic2VsZWN0LWFjY291bnQtbGFiZWxcIlxuICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgIGNsYXNzPVwiYmItbGFiZWxcIlxuICAgICAgaTE4bj1cIkZyb218RnJvbSBzZWN0aW9uIHRpdGxlQEBiaWxscGF5LW1hbmFnZS1wYXltZW50LnNlY3Rpb24uZnJvbVwiXG4gICAgPlxuICAgICAgRnJvbVxuICAgIDwvbGFiZWw+XG4gICAgPGJiLXByb2R1Y3Qtc2VsZWN0b3ItdWkgI2Zyb21BY2NvdW50PlxuICAgICAgPG5nLWNvbnRhaW5lciBiYkRyb3Bkb3duVG9nZ2xlICpuZ0lmPVwic2VsZWN0ZWRBY2NvdW50JCB8IGFzeW5jIGFzIHNlbGVjdGVkQWNjb3VudFwiPlxuICAgICAgICA8YmItcHJvZHVjdC1pdGVtLWJhc2ljLWFjY291bnQtdWlcbiAgICAgICAgICAqbmdJZj1cInNlbGVjdGVkQWNjb3VudFwiXG4gICAgICAgICAgW3RpdGxlXT1cInNlbGVjdGVkQWNjb3VudC5hY2NvdW50Tmlja05hbWVcIlxuICAgICAgICAgIFtwcm9kdWN0TnVtYmVyXT1cInNlbGVjdGVkQWNjb3VudC5hY2NvdW50TnVtYmVyXCJcbiAgICAgICAgICBbcHJvZHVjdE51bWJlckZvcm1hdF09XCJhY2NvdW50TnVtYmVyRm9ybWF0Q29uZmlnXCJcbiAgICAgICAgICBbYW1vdW50XT1cInNlbGVjdGVkQWNjb3VudC5hY2NvdW50QmFsYW5jZT8uYW1vdW50XCJcbiAgICAgICAgICBbY3VycmVuY3ldPVwic2VsZWN0ZWRBY2NvdW50LmFjY291bnRCYWxhbmNlPy5jdXJyZW5jeUNvZGVcIlxuICAgICAgICAgIFtoaWdobGlnaHRdPVwiZmFsc2VcIlxuICAgICAgICAgIFthY3RpdmVdPVwiZmFsc2VcIlxuICAgICAgICAgIGRhdGEtcm9sZT1cImFjY291bnQtZnJvbS1zZWxlY3RlZC10b2dnbGVcIlxuICAgICAgICAgIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1sZWZ0XCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLXByb2R1Y3QtaXRlbS1iYXNpYy1hY2NvdW50LXVpPlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAqbmdJZj1cIiFzZWxlY3RlZEFjY291bnRcIlxuICAgICAgICAgIGRhdGEtcm9sZT1cInNlbGVjdC1hY2NvdW50LW9wdGlvblwiXG4gICAgICAgICAgaTE4bi1hcmlhLWxhYmVsPVwiXG4gICAgICAgICAgICBBY2NvdW50IHNlbGVjdG9yIGFyaWEgbGFiZWx8QXJpYSBsYWJlbCB0byBzaG93IHdoZW4gbm8gYWNjb3VudCBpcyBiZWluZ1xuICAgICAgICAgICAgc2VsZWN0ZWRAQGJiLWJpbGxwYXktbWFuYWdlLXBheW1lbnQuYWNjb3VudC5wbGFjZWhvbGRlci5sYWJlbFwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlNlbGVjdCBhIGRlYml0IGFjY291bnRcIlxuICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgIEFjY291bnQgc2VsZWN0b3IgcGxhY2Vob2xkZXJ8VGV4dCB0byBzaG93IHdoZW4gbm8gYWNjb3VudCBpcyBiZWluZ1xuICAgICAgICAgICAgc2VsZWN0ZWRAQGJiLWJpbGxwYXktbWFuYWdlLXBheW1lbnQucGF5ZWUucGxhY2Vob2xkZXJcIlxuICAgICAgICAgIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1sZWZ0XCJcbiAgICAgICAgPlxuICAgICAgICAgIFNlbGVjdCBhbiBhY2NvdW50XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8bmctY29udGFpbmVyIGJiRHJvcGRvd25NZW51PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgI2xpc3RJdGVtXG4gICAgICAgICAgYmJCdXR0b25cbiAgICAgICAgICBjbGFzcz1cImJiLXByb2R1Y3Qtc2VsZWN0b3JfX2Ryb3Bkb3duLWl0ZW1cIlxuICAgICAgICAgIGNvbG9yPVwidW5zdHlsZWRcIlxuICAgICAgICAgIFtibG9ja109XCJ0cnVlXCJcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgYWNjb3VudCBvZiBhY2NvdW50c1wiXG4gICAgICAgICAgKGNsaWNrKT1cInNlbGVjdEFjY291bnQoYWNjb3VudClcIlxuICAgICAgICAgIGRhdGEtcm9sZT1cImFjY291bnQtaXRlbVwiXG4gICAgICAgID5cbiAgICAgICAgICA8YmItcHJvZHVjdC1pdGVtLWJhc2ljLWFjY291bnQtdWlcbiAgICAgICAgICAgIFt0aXRsZV09XCJhY2NvdW50LmFjY291bnROaWNrTmFtZVwiXG4gICAgICAgICAgICBbcHJvZHVjdE51bWJlcl09XCJhY2NvdW50LmFjY291bnROdW1iZXJcIlxuICAgICAgICAgICAgW3Byb2R1Y3ROdW1iZXJGb3JtYXRdPVwiYWNjb3VudE51bWJlckZvcm1hdENvbmZpZ1wiXG4gICAgICAgICAgICBbYW1vdW50XT1cImFjY291bnQuYWNjb3VudEJhbGFuY2U/LmFtb3VudFwiXG4gICAgICAgICAgICBbY3VycmVuY3ldPVwiYWNjb3VudC5hY2NvdW50QmFsYW5jZT8uY3VycmVuY3lDb2RlXCJcbiAgICAgICAgICAgIFtoaWdobGlnaHRdPVwiZmFsc2VcIlxuICAgICAgICAgICAgW2FjdGl2ZV09XCJmYWxzZVwiXG4gICAgICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtIGJiLXN0YWNrX19pdGVtLS1maWxsIGJiLXRleHQtYWxpZ24tbGVmdFwiXG4gICAgICAgICAgICByb2xlPVwibWVudWl0ZW1cIlxuICAgICAgICAgID5cbiAgICAgICAgICA8L2JiLXByb2R1Y3QtaXRlbS1iYXNpYy1hY2NvdW50LXVpPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvYmItcHJvZHVjdC1zZWxlY3Rvci11aT5cbiAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIHJvbGU9XCJhbGVydFwiIFtzaG93RXJyb3JzXT1cImlzSW52YWxpZENvbnRyb2wocGF5bWVudEZvcm0/LmdldCgnYWNjb3VudEZyb20nKSlcIj5cbiAgICAgIDxzcGFuXG4gICAgICAgICpuZ0lmPVwiIXBheW1lbnRGb3JtPy5nZXQoJ2FjY291bnRGcm9tJyk/LmVycm9ycz8ubm90RW1wdHlPYmplY3RcIlxuICAgICAgICBpMThuPVwiQWNjb3VudCBmcm9tIHJlcXVpcmVkIGVycm9yIG1lc3NhZ2VAQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLmVycm9yLmFjY291bnQtZnJvbVwiXG4gICAgICAgIGRhdGEtcm9sZT1cImludmFsaWQtYWNjb3VudC1mcm9tXCJcbiAgICAgICAgPlBsZWFzZSBzZWxlY3QgYW4gYWNjb3VudDwvc3BhblxuICAgICAgPlxuICAgIDwvYmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpPlxuICA8L2JiLWZpZWxkc2V0LXVpPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNwYXltZW50Rm9ybVBheWVlVG8+XG4gIDxiYi1maWVsZHNldC11aSAqbmdJZj1cIiFpc0VkaXRQYXltZW50XCIgZGF0YS1yb2xlPVwicGF5ZWUtdG8tcHJvZHVjdC1zZWxlY3RvclwiIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2stLWxnXCI+XG4gICAgPGxhYmVsXG4gICAgICBkYXRhLXJvbGU9XCJzZWxlY3QtcGF5ZWUtbGFiZWxcIlxuICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgIGNsYXNzPVwiYmItbGFiZWxcIlxuICAgICAgaTE4bj1cIlRvfFRvIHNlY3Rpb24gdGl0bGVAQGJpbGxwYXktbWFuYWdlLXBheW1lbnQuc2VjdGlvbi50b1wiXG4gICAgPlxuICAgICAgVG9cbiAgICA8L2xhYmVsPlxuICAgIDxiYi1wcm9kdWN0LXNlbGVjdG9yLXVpPlxuICAgICAgPG5nLWNvbnRhaW5lciBiYkRyb3Bkb3duVG9nZ2xlPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2VsZWN0ZWRQYXllZSQgfCBhc3luYyBhcyBzZWxlY3RlZFBheWVlOyBlbHNlIHNlbGVjdFBhdWVlXCI+XG4gICAgICAgICAgPGJiLXByb2R1Y3QtaXRlbS1jdXJyZW50LWFjY291bnQtdWlcbiAgICAgICAgICAgICpuZ0lmPVwic2VsZWN0ZWRQYXllZVwiXG4gICAgICAgICAgICBbdGl0bGVdPVwic2VsZWN0ZWRQYXllZS5uaWNrTmFtZSB8fCBzZWxlY3RlZFBheWVlLm5hbWVcIlxuICAgICAgICAgICAgW21haW5TZWN0aW9uVGl0bGVdPVwiKHNlbGVjdGVkUGF5ZWUubmlja05hbWUgJiYgc2VsZWN0ZWRQYXllZS5uYW1lKSB8fCAnJ1wiXG4gICAgICAgICAgICBbaGlnaGxpZ2h0XT1cImZhbHNlXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInBheWVlLXRvLXNlbGVjdGVkLXRvZ2dsZVwiXG4gICAgICAgICAgICBbYWN0aXZlXT1cImZhbHNlXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmItdGV4dC1hbGlnbi1sZWZ0XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgYmJDdXN0b21Qcm9kdWN0SXRlbUN1cnJlbnRBY2NvdW50TWFpblNlY3Rpb24gbGV0LW1haW5TZWN0aW9uVGl0bGU9XCJtYWluU2VjdGlvblRpdGxlXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYi10ZXh0LXN1cHBvcnQgYmItc3VidGl0bGVcIj57eyBtYWluU2VjdGlvblRpdGxlIH19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgPC9iYi1wcm9kdWN0LWl0ZW0tY3VycmVudC1hY2NvdW50LXVpPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNzZWxlY3RQYXVlZT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBkYXRhLXJvbGU9XCJzZWxlY3QtcGF5ZWUtbGFiZWxcIlxuICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWFsaWduLWxlZnRcIlxuICAgICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgICBQYXllZSBzZWxlY3RvciBwbGFjZWhvbGRlcnxUZXh0IHRvIHNob3cgd2hlbiBubyBwYXllZSBpcyBiZWluZ1xuICAgICAgICAgICAgICBzZWxlY3RlZEBAYmItYmlsbHBheS1tYW5hZ2UtcGF5bWVudC5wYXllZS5wbGFjZWhvbGRlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgU2VsZWN0IGEgcGF5ZWVcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPG5nLWNvbnRhaW5lciBiYkRyb3Bkb3duTWVudT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICNsaXN0SXRlbVxuICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJiYi1wcm9kdWN0LXNlbGVjdG9yX19kcm9wZG93bi1pdGVtXCJcbiAgICAgICAgICBjb2xvcj1cInVuc3R5bGVkXCJcbiAgICAgICAgICBbYmxvY2tdPVwidHJ1ZVwiXG4gICAgICAgICAgKm5nRm9yPVwibGV0IHBheWVlIG9mIHBheWVlU3VtbWFyaWVzXCJcbiAgICAgICAgICAoY2xpY2spPVwic2VsZWN0UGF5ZWUocGF5ZWUpXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJwYXllZS1pdGVtXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxiYi1wcm9kdWN0LWl0ZW0tY3VycmVudC1hY2NvdW50LXVpXG4gICAgICAgICAgICBbdGl0bGVdPVwicGF5ZWUubmlja05hbWUgfHwgcGF5ZWUubmFtZVwiXG4gICAgICAgICAgICBbbWFpblNlY3Rpb25UaXRsZV09XCIocGF5ZWUubmlja05hbWUgJiYgcGF5ZWUubmFtZSkgfHwgJydcIlxuICAgICAgICAgICAgW2hpZ2hsaWdodF09XCJmYWxzZVwiXG4gICAgICAgICAgICBbYWN0aXZlXT1cImZhbHNlXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLWZpbGwgYmItdGV4dC1hbGlnbi1sZWZ0XCJcbiAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGJiQ3VzdG9tUHJvZHVjdEl0ZW1DdXJyZW50QWNjb3VudE1haW5TZWN0aW9uIGxldC1tYWluU2VjdGlvblRpdGxlPVwibWFpblNlY3Rpb25UaXRsZVwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmItdGV4dC1zdXBwb3J0IGJiLXN1YnRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICB7eyBtYWluU2VjdGlvblRpdGxlIH19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgPC9iYi1wcm9kdWN0LWl0ZW0tY3VycmVudC1hY2NvdW50LXVpPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvYmItcHJvZHVjdC1zZWxlY3Rvci11aT5cbiAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIHJvbGU9XCJhbGVydFwiIFtzaG93RXJyb3JzXT1cImlzSW52YWxpZENvbnRyb2wocGF5bWVudEZvcm0/LmdldCgncGF5ZWVUbycpKVwiPlxuICAgICAgPHNwYW5cbiAgICAgICAgKm5nSWY9XCIhcGF5bWVudEZvcm0/LmdldCgncGF5ZWVUbycpPy5lcnJvcnM/Lm5vdEVtcHR5T2JqZWN0XCJcbiAgICAgICAgaTE4bj1cIlBheWVlIHRvIHJlcXVpcmVkIGVycm9yIG1lc3NhZ2VAQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLmVycm9yLnBheWVlLXRvXCJcbiAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1wYXllZS10b1wiXG4gICAgICA+XG4gICAgICAgIFBsZWFzZSBzZWxlY3QgYSBwYXllZVxuICAgICAgPC9zcGFuPlxuICAgIDwvYmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpPlxuICA8L2JiLWZpZWxkc2V0LXVpPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNmb3JtRGV0YWlscz5cbiAgPGZpZWxkc2V0IGNsYXNzPVwiYmItZmllbGRzZXRcIiBkYXRhLXJvbGU9XCJwYXltZW50LWRldGFpbHMtZmllbGRzZXRcIiAqbmdJZj1cInNlbGVjdGVkUGF5ZWUkIHwgYXN5bmNcIj5cbiAgICA8bGVnZW5kIGNsYXNzPVwiYmItZmllbGRzZXRfX2hlYWRpbmcgYm9yZGVyLWJvdHRvbVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1zbVwiPlxuICAgICAgICA8c3BhbiBpMThuPVwiUGF5bWVudCBkZXRhaWxzfHRleHQgZm9yIHRoZSAncGF5bWVudCBkZXRhaWxzJyBwYXltZW50QEBiYi1iaWxscGF5LXBheW1lbnQtZm9ybS5wYXltZW50LWRldGFpbHNcIj57e1xuICAgICAgICAgIHBheW1lbnREZXRhaWxzVGl0bGVcbiAgICAgICAgfX08L3NwYW4+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgKm5nSWY9XCJlYmlsbFBheW1lbnRcIlxuICAgICAgICAgIGNsYXNzPVwiYmItdGV4dC1zdXBwb3J0IGJiLXRleHQtZGVmYXVsdFwiXG4gICAgICAgICAgaTE4bj1cIlxuICAgICAgICAgICAgUGF5bWVudCBkZXNjcmlwdGlvbiBEdWV8dGV4dCBmb3IgdGhlICdwYXltZW50IGRlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgcGF5bWVudEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0ucGF5bWVudC1kZXNjcmlwdGlvblwiXG4gICAgICAgID5cbiAgICAgICAgICAtIHsgcGF5bWVudEZvcm0/LmdldCgnYW1vdW50Jyk/LnZhbHVlPy50eXBlLCBzZWxlY3QsIER1ZSB7IGVCaWxsIGR1ZSBhbW91bnQgfSBNaW5pbXVtIHsgZUJpbGwgbWluaW11bSBhbW91bnQgfVxuICAgICAgICAgIEJhbGFuY2UgeyBlQmlsbCB0b3RhbCBhbW91bnQgfSBvdGhlciB7IGVCaWxsIGN1c3RvbSBhbW91bnQgfSB9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGVnZW5kPlxuICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbWRcIiAqbmdJZj1cImViaWxsUGF5bWVudFwiPlxuICAgICAgPGJiLWJpbGxwYXktZWJpbGwtcGF5bWVudFxuICAgICAgICBbY29udHJvbF09XCJhbW91bnRHcm91cFwiXG4gICAgICAgIFtlQmlsbERlZmF1bHRDdXJyZW5jeV09XCJwYXltZW50RGVmYXVsdEN1cnJlbmN5XCJcbiAgICAgICAgW2xhdGVzdEJpbGxdPVwiZWJpbGxTdW1tYXJ5Py5sYXRlc3RCaWxsXCJcbiAgICAgICAgW2lzU3VibWl0dGVkXT1cImZvcm1TdWJtaXR0ZWRcIlxuICAgICAgPjwvYmItYmlsbHBheS1lYmlsbC1wYXltZW50PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiIFtmb3JtR3JvdXBdPVwiYW1vdW50R3JvdXBcIiAqbmdJZj1cIiFlYmlsbFBheW1lbnRcIj5cbiAgICAgIDxsYWJlbFxuICAgICAgICBjbGFzcz1cImJiLWxhYmVsXCJcbiAgICAgICAgZGF0YS1yb2xlPVwicGF5bWVudC1hbW91bnQtbGFiZWxcIlxuICAgICAgICBmb3I9XCJ7eyAnYmlsbHBheS1hbW91bnQtaW5wdXQtJyArIGlkIH19XCJcbiAgICAgICAgaTE4bj1cIkFtb3VudCBvZiBwYXltZW50fGV4dCBmb3IgdGhlICdwYXltZW50IGRldGFpbHMnIGFtb3VudEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0ucGF5bWVudC1kZXRhaWxzLmFtb3VudFwiXG4gICAgICAgID5BbW91bnQ8L2xhYmVsXG4gICAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItZm9ybS1maWVsZCBiYi1mb3JtLWZpZWxkLS1tZFwiPlxuICAgICAgICA8YmItYW1vdW50LWlucHV0LXVpXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiYW1vdW50XCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJhbW91bnRcIlxuICAgICAgICAgIFtpZF09XCInYmlsbHBheS1hbW91bnQtaW5wdXQtJyArIGlkXCJcbiAgICAgICAgICBbYXV0b0RlY2ltYWxdPVwidHJ1ZVwiXG4gICAgICAgICAgd3JhcHBlckNsYXNzZXM9XCJiYi1hbW91bnQtaW5wdXRfX2ZpZWxkLS1sYXJnZVwiXG4gICAgICAgICAgW2N1cnJlbmN5XT1cIihzZWxlY3RlZEFjY291bnQkIHwgYXN5bmMpPy5hY2NvdW50QmFsYW5jZT8uY3VycmVuY3lDb2RlIHx8IGRlZmF1bHRBbW91bnQuY3VycmVuY3lcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInt7ICdiaWxscGF5LWFtb3VudC1lcnJvcnMtJyArIGlkIH19XCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLWFtb3VudC1pbnB1dC11aT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGJiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aVxuICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICBpZD1cInt7ICdiaWxscGF5LWFtb3VudC1lcnJvcnMtJyArIGlkIH19XCJcbiAgICAgICAgW3Nob3dFcnJvcnNdPVwiaXNJbnZhbGlkQ29udHJvbChwYXltZW50Rm9ybT8uZ2V0KCdhbW91bnQnKSlcIlxuICAgICAgPlxuICAgICAgICA8c3BhblxuICAgICAgICAgICpuZ0lmPVwiIXBheW1lbnRGb3JtPy5nZXQoJ2Ftb3VudCcpPy5lcnJvcnM/LmFtb3VudEludmFsaWRcIlxuICAgICAgICAgIGkxOG49XCJQbGVhc2UgYWRkIGFtb3VudCBvZiB0aGlzIHBheW1lbnR8RXJyb3IgemVybyBhbW91bnRAQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLmVycm9yLmFtb3VudFwiXG4gICAgICAgICAgZGF0YS1yb2xlPVwiaW52YWxpZC1hbW91bnRcIlxuICAgICAgICA+XG4gICAgICAgICAgUGxlYXNlIGFkZCBhbW91bnQgb2YgdGhpcyBwYXltZW50LlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJiYi1maWVsZHNldFwiIFtmb3JtR3JvdXBdPVwicGF5bWVudEZvcm1cIj5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImJiLWxhYmVsXCIgZGF0YS1yb2xlPVwiYWRkLW1lbW8tbGFiZWxcIiBmb3I9XCJiYi1iaWxscGF5LXBheW1lbnQtZm9ybS1tZW1vXCI+XG4gICAgICAgIDxzcGFuIGkxOG49XCJNZW1vIGxhYmVsfExhYmVsIGZvciBwYXltZW50IG1lbW9AQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLmxhYmVsLm1lbW9cIj5QYXltZW50IGRlc2NyaXB0aW9uPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJiLXRleHQtc3VwcG9ydFwiIGkxOG49XCJsYWJlbCBoZWxwZXJ8b3B0aW9uYWwgdGV4dEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0ubGFiZWwubWVtby1oZWxwZXJcIj5cbiAgICAgICAgICAoT3B0aW9uYWwpPC9zcGFuXG4gICAgICAgID5cbiAgICAgIDwvbGFiZWw+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItZm9ybS1maWVsZCBiYi1mb3JtLWZpZWxkLS1tZFwiPlxuICAgICAgICA8YmItdGV4dGFyZWEtdWlcbiAgICAgICAgICBbaWRdPVwiJ2JiLWJpbGxwYXktcGF5bWVudC1mb3JtLW1lbW8nXCJcbiAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJtZW1vXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJtZW1vXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHBheW1lbnQgZGVzY3JpcHRpb25cIlxuICAgICAgICAgIGkxOG4tcGxhY2Vob2xkZXI9XCJcbiAgICAgICAgICAgIEVudGVyIHBheW1lbnQgZGVzY3JpcHRpb258UGxhY2Vob2xkZXIgZm9yIHBheW1lbnQgZGVzY3JpcHRpb25AQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLnBheW1lbnQuZGVzY3JpcHRpb25cIlxuICAgICAgICAgIFtzaG93Q2hhckNvdW50ZXJdPVwidHJ1ZVwiXG4gICAgICAgICAgW21heExlbmd0aF09XCIxNDBcIlxuICAgICAgICAgIFtyb3dzXT1cIjJcIlxuICAgICAgICA+XG4gICAgICAgIDwvYmItdGV4dGFyZWEtdWk+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gUGF5bWVudCBzY2hlZHVsZXIgLS0+XG4gICAgPGJiLWNvbGxhcHNpYmxlLXVpXG4gICAgICAqbmdJZj1cIihzZWxlY3RlZFBheWVlJCB8IGFzeW5jKSAmJiAoIWlzRWRpdFBheW1lbnQgfHwgcGF5bWVudFR5cGUgIT09ICdvbmVPZmYnKTsgZWxzZSBlZGl0T25lT2ZmUGF5bWVudFNjaGVkdWxlXCJcbiAgICAgIGRhdGEtcm9sZT1cInNjaGVkdWxlLXRvZ2dsZVwiXG4gICAgICBbaXNPcGVuXT1cInRydWVcIlxuICAgID5cbiAgICAgIDxuZy10ZW1wbGF0ZSBiYkNvbGxhcHNpYmxlSGVhZGVyIGxldC10b2dnbGU9XCJ0b2dnbGVcIiBsZXQtaXNPcGVuPVwiaXNPcGVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJib3JkZXItYm90dG9tIGJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGJiQnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cImJiLXN0YWNrIGJiLXByb2R1Y3Qtc2VsZWN0b3JfX2l0ZW0tY29udGVudFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidG9nZ2xlKClcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjb2xvcj1cInVuc3R5bGVkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLWZpbGwgYmItdGV4dC1hbGlnbi1sZWZ0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tc21cIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiYi1oZWFkaW5nLTJcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwic2NoZWR1bGUtc2VjdGlvbi10aXRsZVwiXG4gICAgICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgICAgIFNjaGVkdWxlIHNlY3Rpb24gdGl0bGV8VGl0bGUgb2YgdGhlIGZvcm0gc2VjdGlvbiB3aXRoIHBheW1lbnQgc2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzQEBiYi1iaWxscGF5LXBheW1lbnQtZm9ybS5zZWN0aW9uLnNjaGVkdWxlLnRpdGxlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTY2hlZHVsZVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJiLXRleHQtc3VwcG9ydCBiYi10ZXh0LWRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgIDxiYi1zY2hlZHVsZS1sYWJlbC11aVxuICAgICAgICAgICAgICAgICAgICBbaXRlbV09XCJzY2hlZHVsZUxhYmVsRGF0YVwiXG4gICAgICAgICAgICAgICAgICAgIFtmcmVxdWVuY2llc109XCJmcmVxdWVuY2llc1wiXG4gICAgICAgICAgICAgICAgICAgIFttaW5PY2N1cnJlbmNlc109XCJtaW5PY2N1cnNcIlxuICAgICAgICAgICAgICAgICAgICBbaXNTaW5nbGVUcmFuc2Zlcl09XCJzY2hlZHVsZS5mcmVxdWVuY3kgPT09IGZyZXF1ZW5jeUtleXMuT25jZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8L2JiLXNjaGVkdWxlLWxhYmVsLXVpPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxiYi1pY29uLXVpXG4gICAgICAgICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIlxuICAgICAgICAgICAgICBjcm9wcGVkXG4gICAgICAgICAgICAgIGRhdGEtcm9sZT1cInNjaGVkdWxlLXRvZ2dsZS1pY29uXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlNjaGVkdWxlIHRvZ2dsZVwiXG4gICAgICAgICAgICAgIGkxOG4tYXJpYS1sYWJlbD1cIlxuICAgICAgICAgICAgICAgIFNjaGVkdWxlIHRvZ2dsZSBsYWJlbHxBcmlhIGxhYmVsIGZvciBzY2hlZHVsZVxuICAgICAgICAgICAgICAgIHRvZ2dsZUBAYmItYmlsbHBheS1wYXltZW50LWZvcm0uYmItc2NoZWR1bGUtdWkubGFiZWwudG9nZ2xlXCJcbiAgICAgICAgICAgICAgW25hbWVdPVwiaXNPcGVuID8gJ3RvZ2dsZS11cCcgOiAndG9nZ2xlLWRvd24nXCJcbiAgICAgICAgICAgID48L2JiLWljb24tdWk+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDxuZy10ZW1wbGF0ZSBiYkNvbGxhcHNpYmxlQm9keT5cbiAgICAgICAgPGJiLXNjaGVkdWxlLXVpXG4gICAgICAgICAgW3NjaGVkdWxlRm9ybV09XCJwYXltZW50Rm9ybS5nZXQoJ3NjaGVkdWxlJylcIlxuICAgICAgICAgIFtwYXltZW50U2VydmljZXNdPVwiKHNlbGVjdGVkUGF5ZWUkIHwgYXN5bmMpPy5wYXltZW50U2VydmljZXNcIlxuICAgICAgICAgIFtkZWZhdWx0UGF5bWVudFNlcnZpY2VUeXBlXT1cImRlZmF1bHRQYXltZW50U2VydmljZVR5cGVcIlxuICAgICAgICAgIFtmcmVxdWVuY2llc109XCJmcmVxdWVuY2llc1wiXG4gICAgICAgICAgW21pbk9jY3Vyc109XCJtaW5PY2N1cnNcIlxuICAgICAgICAgIFttYXhPY2N1cnNdPVwibWF4T2NjdXJzXCJcbiAgICAgICAgICBbbWluRGF0ZV09XCJtaW5EYXRlJCB8IGFzeW5jXCJcbiAgICAgICAgICBbZm9ybVN1Ym1pdHRlZF09XCJmb3JtU3VibWl0dGVkXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJwYXltZW50LXNjaGVkdWxlXCJcbiAgICAgICAgPlxuICAgICAgICA8L2JiLXNjaGVkdWxlLXVpPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L2JiLWNvbGxhcHNpYmxlLXVpPlxuXG4gICAgPG5nLXRlbXBsYXRlICNlZGl0T25lT2ZmUGF5bWVudFNjaGVkdWxlPlxuICAgICAgPGRpdiAqbmdJZj1cInNlbGVjdGVkUGF5ZWUkIHwgYXN5bmNcIiBjbGFzcz1cImJiLWJsb2NrIGJiLWJsb2NrLS1tZFwiIFtmb3JtR3JvdXBdPVwicGF5bWVudEZvcm0uZ2V0KCdzY2hlZHVsZScpXCI+XG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImJiLWxhYmVsXCIgZGF0YS1yb2xlPVwiZGVsaXZlci1wYXltZW50LWJ5LWRhdGVcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgaWQ9XCJiaWxscGF5LXNjaGVkdWxlLWVuZC1kYXRlLW9uLXt7IGlkIH19XCJcbiAgICAgICAgICAgIGkxOG49XCJEZWxpdmVyIHBheW1lbnQgYnkgbGFiZWx8RWRpdCBvbmUgb2ZmIHBheW1lbnQgZGF0ZUBAYmItYmlsbHBheS1wYXltZW50LWZvcm0ubGFiZWwuZGVsaXZlci1wYXltZW50LWJ5XCJcbiAgICAgICAgICAgID5EZWxpdmVyIHBheW1lbnQgYnk8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxiYi1pbnB1dC1kYXRlcGlja2VyLXVpXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInN0YXJ0RGF0ZVwiXG4gICAgICAgICAgICAgIFttaW5EYXRlXT1cIm1pbkRhdGUkIHwgYXN5bmNcIlxuICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJvbmNlLXN0YXJ0LWRhdGUtY2FsZW5kYXJcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwic3RhcnQtZGF0ZVwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImJpbGxwYXktc2NoZWR1bGUtZW5kLWRhdGUtb24te3sgaWQgfX1cIlxuICAgICAgICAgICAgICBkYXRlcGlja2VyRGVzY3JpYmVkYnk9XCJiaWxscGF5LXNjaGVkdWxlLWVuZC1kYXRlLW9uLWVycm9yLXt7IGlkIH19XCJcbiAgICAgICAgICAgID48L2JiLWlucHV0LWRhdGVwaWNrZXItdWk+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aVxuICAgICAgICAgICAgaWQ9XCJiaWxscGF5LXNjaGVkdWxlLWVuZC1kYXRlLW9uLWVycm9yLXt7IGlkIH19XCJcbiAgICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICAgICAgICBbc2hvd0Vycm9yc109XCJwYXltZW50Rm9ybS5nZXQoJ3NjaGVkdWxlLnN0YXJ0RGF0ZScpPy5pbnZhbGlkICYmIGZvcm1TdWJtaXR0ZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICpuZ0lmPVwicGF5bWVudEZvcm0uZ2V0KCdzY2hlZHVsZS5zdGFydERhdGUnKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJylcIlxuICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgRXhlY3V0aW9uIGRhdGUgcmVxdWlyZWQgZXJyb3IgdGV4dHxFcnJvciByZXF1aXJlZCBtZXNzYWdlIGZvciBFeGVjdXRpb24gZGF0ZSBpbnB1dFxuICAgICAgICAgICAgICAgIGZpZWxkQEBiYi1iaWxscGF5LXBheW1lbnQtZm9ybS5lcnJvci5yZXF1aXJlZC5zdGFydERhdGVcIlxuICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJtaXNzaW5nLXNjaGVkdWxlLWV4ZWN1dGlvbi1kYXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRXhlY3V0aW9uIGRhdGUgaXMgcmVxdWlyZWQuXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgIHBheW1lbnRGb3JtLmdldCgnc2NoZWR1bGUuc3RhcnREYXRlJyk/Lmhhc0Vycm9yKCdwYXN0RGF0ZScpIHx8XG4gICAgICAgICAgICAgICAgcGF5bWVudEZvcm0uZ2V0KCdzY2hlZHVsZS5zdGFydERhdGUnKT8uaGFzRXJyb3IoJ2RhdGVMZXNzVGhhbk1pbkRhdGUnKVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBpMThuPVwiXG4gICAgICAgICAgICAgICAgRXhlY3V0aW9uIGRhdGUgcGFzdCBkYXRlIGVycm9yIHRleHQgfEVycm9yIHBhc3QgZGF0ZSBtZXNzYWdlIGZvciBFeGVjdXRpb24gZGF0ZSBpbnB1dFxuICAgICAgICAgICAgICAgIGZpZWxkQEBiYi1iaWxscGF5LXBheW1lbnQtZm9ybS5lcnJvci5wYXN0RGF0ZS5zdGFydERhdGVcIlxuICAgICAgICAgICAgICBkYXRhLXJvbGU9XCJwYXN0LWRhdGUtc2NoZWR1bGUtZXhlY3V0aW9uLWRhdGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBFeGVjdXRpb24gZGF0ZSBjYW5ub3QgYmUgYmVmb3JlIGRlbGl2ZXJ5IGRhdGUuXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAqbmdJZj1cInBheW1lbnRGb3JtPy5nZXQoJ3NjaGVkdWxlLnN0YXJ0RGF0ZScpPy5oYXNFcnJvcignaW52YWxpZERhdGVGb3JtYXQnKVwiXG4gICAgICAgICAgICAgIGkxOG49XCJcbiAgICAgICAgICAgICAgICBFeGVjdXRpb24gZGF0ZSBpbnZhbGlkIGRhdGUgZXJyb3IgdGV4dCB8RXJyb3IgaW52YWxpZCBkYXRlIGZvcm1hdCBtZXNzYWdlIGZvciBFeGVjdXRpb24gZGF0ZSBpbnB1dFxuICAgICAgICAgICAgICAgIGZpZWxkQEBiYi1iaWxscGF5LXBheW1lbnQtZm9ybS5lcnJvci5pbnZhbGlkRGF0ZUZvcm1hdFwiXG4gICAgICAgICAgICAgIGRhdGEtcm9sZT1cImludmFsaWQtZGF0ZS1zY2hlZHVsZS1leGVjdXRpb24tZGF0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEludmFsaWQgZGF0ZSBmb3JtYXQuXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L25nLXRlbXBsYXRlPlxuICA8L2ZpZWxkc2V0PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNmb3JtT3Zlcm5pZ2h0QWRkcmVzcz5cbiAgPG5nLWNvbnRhaW5lclxuICAgICpuZ0lmPVwic2NoZWR1bGUucGF5bWVudFNlcnZpY2U/LnNlcnZpY2U/LnBheW1lbnRTZXJ2aWNlVHlwZSA9PT0gJ09WRVJOSUdIVF9DSEVDSydcIlxuICAgIFtmb3JtR3JvdXBdPVwicGF5bWVudEZvcm1cIlxuICA+XG4gICAgPGJiLWZpZWxkc2V0LXVpXG4gICAgICBpMThuLWhlYWRpbmc9XCJcbiAgICAgICAgT3Zlcm5pZ2h0IGNoZWNrIGFkZHJlc3N8VGV4dCBmb3IgdGhlIHBheW1lbnQgb3Zlcm5pZ2h0XG4gICAgICAgIGFkZHJlc3NAQGJiLWJpbGxwYXktcGF5bWVudC1mb3JtLnBheW1lbnQtb3Zlcm5pZ2h0LWFkZHJlc3NcIlxuICAgICAgaGVhZGluZz1cIk92ZXJuaWdodCBjaGVjayBhZGRyZXNzXCJcbiAgICAgIGNsYXNzPVwiYmItYmxvY2sgYmItYmxvY2steGxcIlxuICAgID5cbiAgICAgIDxiYi1hbGVydC11aVxuICAgICAgICBtb2RpZmllcj1cImluZm9cIlxuICAgICAgICBjbGFzcz1cImQtYmxvY2tcIlxuICAgICAgICB0aXRsZT1cIlRoaXMgYWRkcmVzcyBtaWdodCBiZSBhIGRlZGljYXRlZCBQTyBib3ggZm9yIG92ZXJuaWdodCBwYXltZW50cy4gUGxlYXNlIGNoZWNrIHdpdGggeW91ciBiaWxsZXJcIlxuICAgICAgICBpMThuLXRpdGxlPVwiYWxlcnQgdGl0bGV8QWRkcmVzcyBhbGVydEBAYmItYmlsbHBheS1wYXltZW50LWZvcm0ucGF5bWVudC1vdmVybmlnaHQtYWRkcmVzcy5hbGVydFwiXG4gICAgICAgIGRhdGEtcm9sZT1cIm92ZXJuaWdodC1hbGVydC1tZXNzYWdlXCJcbiAgICAgID5cbiAgICAgIDwvYmItYWxlcnQtdWk+XG4gICAgICA8YmItYmlsbHBheS1hZGRyZXNzLWZvcm1cbiAgICAgICAgW2Zvcm1Hcm91cF09XCJwYXltZW50Rm9ybS5nZXQoJ292ZXJuaWdodERlbGl2ZXJ5QWRkcmVzcycpXCJcbiAgICAgICAgZm9ybUdyb3VwTmFtZT1cIm92ZXJuaWdodERlbGl2ZXJ5QWRkcmVzc1wiXG4gICAgICA+PC9iYi1iaWxscGF5LWFkZHJlc3MtZm9ybT5cbiAgICA8L2JiLWZpZWxkc2V0LXVpPlxuICA8L25nLWNvbnRhaW5lcj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=