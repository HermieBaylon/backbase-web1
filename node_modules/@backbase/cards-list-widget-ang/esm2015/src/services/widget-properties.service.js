import { Injectable, Optional } from '@angular/core';
import { BaseWidgetPropertiesService, DEFAULT_PAYMENT_CARD_TYPE_GROUP } from '@backbase/cards-common-ang';
import { of } from 'rxjs';
import { map } from 'rxjs/operators';
import { WidgetProperties } from '../constants';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/foundation-ang/core";
export class WidgetPropertiesService extends BaseWidgetPropertiesService {
    constructor(itemModel) {
        super(itemModel);
        this.itemModel = itemModel;
    }
    get groupByPaymentCardTypes() {
        return this.itemModel
            ? this.itemModel
                .property(WidgetProperties.GroupByPaymentCardTypes)
                .pipe(map((propertyValue) => (propertyValue || '').split(',').filter((value) => value.length > 0)))
            : of(DEFAULT_PAYMENT_CARD_TYPE_GROUP);
    }
}
WidgetPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: WidgetPropertiesService, deps: [{ token: i1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });
WidgetPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: WidgetPropertiesService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: WidgetPropertiesService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.ItemModel, decorators: [{
                    type: Optional
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0LXByb3BlcnRpZXMuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY2FyZHMtbGlzdC13aWRnZXQtYW5nL3NyYy9zZXJ2aWNlcy93aWRnZXQtcHJvcGVydGllcy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSwyQkFBMkIsRUFBRSwrQkFBK0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTFHLE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGNBQWMsQ0FBQzs7O0FBR2hELE1BQU0sT0FBTyx1QkFBd0IsU0FBUSwyQkFBMkI7SUFXdEUsWUFBMkMsU0FBb0I7UUFDN0QsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRHdCLGNBQVMsR0FBVCxTQUFTLENBQVc7SUFFL0QsQ0FBQztJQVpELElBQUksdUJBQXVCO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLFNBQVM7WUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTO2lCQUNYLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQztpQkFDbEQsSUFBSSxDQUNILEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBRSxhQUF3QixJQUFJLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDekc7WUFDTCxDQUFDLENBQUMsRUFBRSxDQUFDLCtCQUErQixDQUFDLENBQUM7SUFDMUMsQ0FBQzs7cUhBVFUsdUJBQXVCO3lIQUF2Qix1QkFBdUI7NEZBQXZCLHVCQUF1QjtrQkFEbkMsVUFBVTs7MEJBWUksUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlV2lkZ2V0UHJvcGVydGllc1NlcnZpY2UsIERFRkFVTFRfUEFZTUVOVF9DQVJEX1RZUEVfR1JPVVAgfSBmcm9tICdAYmFja2Jhc2UvY2FyZHMtY29tbW9uLWFuZyc7XG5pbXBvcnQgeyBJdGVtTW9kZWwgfSBmcm9tICdAYmFja2Jhc2UvZm91bmRhdGlvbi1hbmcvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgV2lkZ2V0UHJvcGVydGllcyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBXaWRnZXRQcm9wZXJ0aWVzU2VydmljZSBleHRlbmRzIEJhc2VXaWRnZXRQcm9wZXJ0aWVzU2VydmljZSB7XG4gIGdldCBncm91cEJ5UGF5bWVudENhcmRUeXBlcygpOiBPYnNlcnZhYmxlPEFycmF5PHN0cmluZz4+IHtcbiAgICByZXR1cm4gdGhpcy5pdGVtTW9kZWxcbiAgICAgID8gdGhpcy5pdGVtTW9kZWxcbiAgICAgICAgICAucHJvcGVydHkoV2lkZ2V0UHJvcGVydGllcy5Hcm91cEJ5UGF5bWVudENhcmRUeXBlcylcbiAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgIG1hcCgocHJvcGVydHlWYWx1ZSkgPT4gKChwcm9wZXJ0eVZhbHVlIGFzIHN0cmluZykgfHwgJycpLnNwbGl0KCcsJykuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUubGVuZ3RoID4gMCkpLFxuICAgICAgICAgIClcbiAgICAgIDogb2YoREVGQVVMVF9QQVlNRU5UX0NBUkRfVFlQRV9HUk9VUCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBwcm90ZWN0ZWQgcmVhZG9ubHkgaXRlbU1vZGVsOiBJdGVtTW9kZWwpIHtcbiAgICBzdXBlcihpdGVtTW9kZWwpO1xuICB9XG59XG4iXX0=