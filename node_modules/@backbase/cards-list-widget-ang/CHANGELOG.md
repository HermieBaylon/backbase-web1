# Changelog

All notable changes to this project will be documented in this file.

This project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## 10.0.0

### Added

- Updated to Angular 12 [NVCTS-707]
- Removed `viewChild` deprecations from notifications logic [NVCTS-768] 

## 9.2.2

### Modified

- Updated Activation error message [NVCTS-606]

## 9.2.1

### Modified

- Replaced "Deactivated" keyword to "Cancelled" and unit test updated [NVCTS-554]

## 9.2.0

### Added

- Widget configuration to update multiple limits at once. Default value `false` [NVCTS-597]

## 9.1.0

### Modified

- Replaced notifications logic to use `$localize` instead of `viewChild` to the template [NVCTS-307]

### Deprecation Warning

- All `viewchild` properties in `payment-card` to be removed in favor of `localization` object [NVCTS-307]


## 9.0.1

### Modified

- Updated dependencies [NOJIRA]

## 9.0.0

### Added

- Updated to Angular 11 [NVCTS-37]

### Modified

- Removed deprecated `error` property from `bb-cards-list-widget` [NVCTS-37]

## 8.3.1

### Fixed

- Fixed missing hostRef references [NVCTS-109]

## 8.3.0

### Added

- Replaced error state ui component by a common one named `bb-payment-card-multiple-error-state` that also has a extension slot called `bbCardsMultipleErrorStateCustomizable` [NVCTS-45]
## 8.2.0

### Added

- Prepared widget for journeys [NVCTS-43]

## 8.1.3

### Fixed

- Add support for multiple http response errors [MAINT-10443]

## [8.1.2]

### Fixed

- Use more descriptive messages for HTTP errors

## [8.1.1]

### Fixed

- Remove unused imports and fix unit tests

## [8.1.0]

### Added

- Fix emptyState to be customizable in Card List Widget.

## [8.0.1]

### Fixed

- Versions of peer dependencies

## [8.0.0]

### Changed

- Update data modules to use a new prefix

## [7.0.1]

### Changed

- Update major peer dependency on `@backbase/cards-common-ang`. 

## [7.0.0]

### Changed

- Use new data module for Http requests.

### Fixed

- Removed unnecessary parameters from reset pin.

## 6.0.1

### Fix

- Add `aria-level="2"` for payment card group header


## 6.0.0

### Updated

- Updated to angular 10 and foundation-ang 6

## 5.1.0

### Added

- Added dynamic Card Types given the `groupByPaymentCardTypes` preference

## 5.0.0

### Updated

- Updated foundation-ang peer dependency to v5.0.0

### Internal

- Update public api documentation

## 4.2.0

### Added

- Added CXP property `notificationTtl` to configure notifications timeout

## 4.1.0

### Added

- `ui-ang` added as peerDependency on widgets

### Changed 

- `ui-ang` imports are now made directly instead of using `foundation-ang` [TRANS-4669]

## 4.0.2 

### Fixed 

- rename widget title to `View cards` [TRANS-3892]

## 4.0.1

### Fixed

- Removed unnecessary spacing between card sections [TRANS-3656]
- Reworked headers according to new design [TRANS-3656]

## 4.0.0

### Added

- Migrated `cards-list-widget` to `Theme V2` [`TRANS-2586`]
- Changed displayed message when no cards are found

### Fixed

- fix alignment for cards overview [TRANS-3579]

## 3.5.1

## Added

- Remove deprecation warnings when `circle` property in `bb-ui-icon`  [`TRANS-3267`]

## 3.5.0

## Added

- Added all the missing descriptions to `i18n` tags [`TRANS-1796`]

## 3.4.0

## Added 

- Added configurations for the new Jenkins Pipeline.

## 3.3.0

### Added

- Added `PaymentCardLimitChannelToken` for overriding the limit channels mapping configs [TRANS-2463]

## 3.2.0

### Added 

- Added Accessibility [TRANS-2562]

## 3.1.0

### Added

- Added reset PIN [TRANS-2280]

## 3.0.0

### Dependency updates 

- Migrate to `angular@8.0.0` [TRANS-2306]

## 3.0.0-beta.2 (11-06-2019)

### Dependency updates 

- Migrate to `angular@8.0.0` [TRANS-2255]

## 3.0.0-beta.1 (07-05-2019)

### Dependency updates

- Migrate to `angular@8.0.0` [TRANS-2024]
- Migrate to `@backbase/foundation-ang@4.0.0` [TRANS-2024]

## 2.6.1 (17-05-2019)

### Fixed

- Notification messages spacing added

## 2.6.0 (17-05-2019)

### Added 
- Export components exposed in customization templates in public_api.ts [TRANS-2182]

## 2.5.1 (14-05-2019)

### Added

- Reorganized E2E tests (performance and stability improvements) [TRANS-2139]

## 2.5.0 (08-05-2019)

### Added

- Added translation for payment cards notification messages

## 2.4.3 (07-05-2019)

### Fixed

- Add `Inactive` state status

## 2.4.2 (07-05-2019)

### Fixed

- Run formatter against `prettier@1.17.0`

## 2.4.1 (02-05-2019)

### Fixed

- Module now imports individual UI modules instead of entire `BackbaseUiModule` [TRANS-2129]
- Used UI modules are now exported by widget module, so app using widget module does not have to
  import them separately [TRANS-2129]

## 2.4.0 (01-05-2019)

### Added

- Added card activation to `PaymentCardControlsComponent` [TRANS-2080]

## 2.3.0 (26-04-2019)

### Dependency updates

- Upgrade to `@backbase/data-ang@3.2.1`
- Upgrade to `@backbase/cards-common-ang@1.8.0`

### Added

- Added `PaymentCardContainerComponent#onInitiateActivation` function to activate a card using a
  token [TRANS-2080]

## 2.2.0 (28-03-2019)

### Changes 

- Implement `PaymentCardInitiateReplacementComponent` from `cards-common-ang` [TRANS-1998]

## 2.1.1 (25-03-2019)

### Fixes

- Expose `CardsListWidgetComponent` in public api so it can be used in customizable templates
- Expose `CardsCommonWidget` in module so UI components can be used in customizable templates

## 2.1.0 (22-03-2019)

### Fixes

- Added `bb-cards-list-payment-card-controls` selector with `bb-payment-card-controls`
to avoid conflicts. [TRANS-1968]

### Changes

- Move `PaymentCardControlsComponent` logic into `cards-common-ang` and extend it from there

## 2.0.1 (22-03-2019)

### Changes

- Add navigation output handler to `model.xml`

## 2.0.0 (18-03-2019)

### Changes

- Removed deprecated fields `PaymentCardContainerComponent#creditCards` and
  `PaymentCardContainerComponent#debitCards`.  Use `paymentCardGroups` fields instead. [TRANS-1935]

## 1.20.0 (18-03-2019)

### Dependency updates

- Upgrade to `@backbase/cards-common-ang@1.4.0`

### Features

- Use updated `PaymentCardReplacementReason` in views. [TRANS-1589]

## 1.19.0 (13-03-2019)

### Dependency updates

- Upgrade to `@backbase/cards-common-ang@1.3.0`

### Features

- Use updated `PaymentCardStatus`, `PaymentCardReplacementStatus` in views. [TRANS-1856]

## 1.18.0 (12-03-2019)

### Features

- Use updated `PaymentCardStateWrapperComponent`. [TRANS-1856]

### Changes

- Controls are hidden by default - this can now be overridden in customizable templates if the
  lock/unlock functionality should be there instead of in the details widget. [TRANS-1854]

## 1.17.0 (05-03-2019)

### Dependency updates

- `@backbase/cards-common` renamed to `@backbase/cards-common-ang`

### Changes

- Folder renamed to `cards-list-widget-ang` to match package name

## 1.16.0 (05-03-2019)

### Dependency updates

- Downgrade to `@backbase/universal-ang@3.7.0`

### Changes

- `PaymentCardComponent` functionality has been moved to `@backbase/cards-common`
- Moved `PaymentCardStateWrapperComponent` to `@backbase/cards-common`
- Unit test coverage increased

## 1.15.0 (04-03-2019)

### Dependency updates

- Add `@backbase/cards-common@1.0.0`
- Upgrade to `@backbase/backbase-theme@1.40.1`
- Upgrade to `@backbase/data-ang@3.1.5`
- Upgrade to `@backbase/foundation-ang@3.27.0`
- Upgrade to `@backbase/universal-ang@3.8.0`
- Remove unused dependency `@ngrx/store-devtools`
- Remove unused dependency `jasmine-marbles`
- Remove unused dependency `ngrx-store-freeze`

### Features

- Move shared services and models to `@backbase/cards-common`

## 1.14.0 (13-02-2019)

### Features

- Add `PaymentCardComponent#onOpenDetails` function, which (through parent events) emits a
  `selectedCard` (type `cardId`) event that can be used as widget output. [TRANS-1829]
- Add routing to demo app to emit event and open details widget.

## 1.13.1 (12-02-2019)

### Fixes

- Use correct theme classes for overlay and icon (note: works best with theme v1.38.0) [TRANS-1718]

## 1.13.0 (08-02-2019)

### Features

- Dynamic background image based on card name [TRANS-1718]

## 1.12.1 (05-02-2019)

### Dependency updates

- Upgrade to `codelyzer@4.5.0`
- Upgrade to `tslint@5.12.1`

### Changes

- Added latest recommended codelyzer configuration
- Refactored code to adhere to latest codelyzer configuration

## 1.12.0 (04-02-2019)

### Dependency updates

- Upgrade to `@backbase/foundation-ang@3.23.0`
- Upgrade to `@backbase/backbase-theme@1.36.0`
- Added `@backbase/universal-ang@3.6.1`

### Features

- Add Sonarqube configuration
- Add universal widgets to local demo app

### Fixes

- Fix handling of empty `groupByPaymentCardTypes` widget preference

### Changes

- Unit test coverage increased

## 1.11.0 (15-01-2019)

### Dependency updates

- Upgrade to `@backbase/foundation-ang@3.21.1`
- Upgrade to `@ng-bootstrap/ng-bootstrap@2.2.2`

## 1.10.1 (11-01-2019)

### Fixes

- Visual updates to match design system [LF-3834]

## 1.10.0 (03-01-2019)

### Features

- Add more relevant information to README file [TRANS-1698]

### Changed

- Card container is no longer inside a bootstrap col [TRANS-1658]
- Various small visual optimizations [TRANS-1658]

## 1.9.0 (20-12-2018)

### Dependency updates

- Upgrade to `@backbase/foundation-ang@3.18.0`
- Upgrade to `@backbase/data-ang@3.1.3`
- Upgrade to `@backbase/backbase-theme@1.32.4`
- Upgrade to `@bb-cli/bb-ang@2.0.1-pr.35`

### Features

- Fields `currency`, `subType` and `additions` from RAML specifications have been added to the
  `PaymentCard` interface

## 1.8.1 (18-12-2018)

### Dependency updates

- Upgrade to `@backbase/data-ang@3.1.2`
- Upgrade to `@backbase/foundation-ang@3.17.0`

### Fixes

- Services are provided at the correct component level, allowing multiple instances of the widget
  to run independently on the same page [TRANS-1594]

<a name="1.7.1"></a>
## 1.7.1 (18-12-2018)

### Dependency updates

- Add `@backbase/lib-test-widget` [TRANS-1650]

### Features

- Add and enable e2e tests using `@backbase/lib-test-widget` [TRANS-1650]

<a name="1.7.0"></a>
## 1.7.0 (04-12-2018)

### Deprecation notice

- Previously the PaymentCardsContainerComponent had non-configurable `creditCards` and `debitCards`
  fields but these are now deprecated - please use the `groupByPaymentCardTypes` widget preference
  to achieve the same grouping [TRANS-1333]

### Features

- Payment card grouping by type is now configurable by widget property `groupByPaymentCardTypes`
  [TRANS-1333]

<a name="1.6.4"></a>
## 1.6.4 (28-11-2018)

### Dependency updates

- Upgrade to `@backbase/foundation-ang@3.16.0-pr.3`

### Changes

- Update name (label in CXP) of demo app to Cards Demo App

<a name="1.6.3"></a>
## 1.6.3 (23-11-2018)

### Fixes

- Remove mapping to enum type for payment card status and payment card type and pass through
  directly [TRANS-1499]
- Remove mapping for payment card vendor, and pass through directly [TRANS-1499]

<a name="1.6.2"></a>
## 1.6.2 (22-11-2018)

### Fixes

- Fix button spinner not disappearing after an error occurs [TRANS-1567]

<a name="1.6.1"></a>
## 1.6.1 (20-11-2018)

### Fixes

- Fix display name of widget in CXP [TRANS-1351]

<a name="1.6.0"></a>
## 1.6.0 (19-11-2018)

### Dependency updates

- Upgrade to `@backbase/foundation-ang@3.15.0` [TRANS-1322]

<a name="1.5.0"></a>
## 1.5.0 (16-11-2018)

### Features

- **PaymentCardControlsComponent**: use new `bb-load-button-ui` component [LF-3670]

<a name="1.4.0"></a>
## 1.4.0 (13-11-2018)

### Dependency updates

- Use `@backbase/data-ang` and `@backbase/foundation-ang` [TRANS-1473]
- Upgrade to `@backbase/backbase-theme@1.30.0` [TRANS-1473]

### Features

- Add `foundation-ang/data-http#createMocksInterceptor` to `mockProviders` [TRANS-1473]

<a name="1.3.0"></a>
## 1.3.0 (12-11-2018)

### Features

- **PaymentCardComponent**: show notification after updating lock status [TRANS-1322]
- **PaymentCardControlsComponent**: buttons show spinner while loading [TRANS-1322]
- **PaymentCardControlsComponent**: buttons are disabled while loading [TRANS-1322]
- **PaymentCardControlsComponent**: hide buttons when card status is not active/inactive [TRANS-1322]
- **PaymentCardStateWrapper**: show lock icon over locked cards [TRANS-1322]
- **CardsService**: parse `status` field in http response [TRANS-1322]

<a name="1.2.0"></a>
## 1.2.0 (09-11-2018)

### Features

- **CardsService**: add function to update lock status [TRANS-1322]
- **PaymentCardComponent**: use service function to update lock status [TRANS-1322]

<a name="1.1.0"></a>
## 1.1.0 (06-11-2018)

### Dependency updates

- Upgrade to `@backbase/cards-data-http-ang@1.1.0` [TRANS-1433]
- Upgrade to `@backbase/backbase-theme@1.30.0-cr.0` [TRANS-1432]
- Upgrade to `@backbase/ui-ang@2.30.1`

### Features

- **PaymentCardComponent**: wrapped component in customizable template [TRANS-1427]
- **PaymentCardControlsComponent**: wrapped component in customizable template [TRANS-1427]
- **PaymentCardsContainerComponent**: wrapped component in customizable template [TRANS-1427]
- **CardsService**: parse `lockStatus` field in http response
- **CardsListWidgetComponent**: use new `bb-empty-state-ui`, `bb-loading-indicator-ui` and
  `bb-icon-ui` components [TRANS-1430]

### Fixes

- **PaymentCardGroupComponent**: use `heading` input instead of `title`, removing unwanted tooltip
  behavior

<a name="1.0.1"></a>
## 1.0.1 (24-10-2018)

### Fixes

- **CardsListWidgetComponent**: fix infinite loading state when http response
  takes longer than the delay to show loading state

<a name="1.0.0"></a>
## 1.0.0 (23-10-2018)

Initial version, scaffolded using `foundation-ang@3.10.0`, `ui-ang@2.29.0-rc2` and
`cards-data-http-ang@1.0.0`.

### Features

- **CardsListWidgetComponent**: show payment cards using `bb-payment-card-ui` component - or the
  loading state while loading, or the error state if there is an error
- **PaymentCardsContainerComponent**: display credit and debit cards separately - or the empty
  state if none are available
- **PaymentCardControlsComponent**: lock/unlock button (does not do backend call yet)
- **CardsService**: parse responses and errors
- **CardsMockBackendProvider**: backend mocks with mocked GET response and error hook

[LF-3670]: https://backbase.atlassian.net/browse/LF-3670
[LF-3834]: https://backbase.atlassian.net/browse/LF-3834
[TRANS-1322]: https://backbase.atlassian.net/browse/TRANS-1322
[TRANS-1333]: https://backbase.atlassian.net/browse/TRANS-1333
[TRANS-1351]: https://backbase.atlassian.net/browse/TRANS-1351
[TRANS-1374]: https://backbase.atlassian.net/browse/TRANS-1374
[TRANS-1427]: https://backbase.atlassian.net/browse/TRANS-1427
[TRANS-1430]: https://backbase.atlassian.net/browse/TRANS-1430
[TRANS-1432]: https://backbase.atlassian.net/browse/TRANS-1432
[TRANS-1433]: https://backbase.atlassian.net/browse/TRANS-1433
[TRANS-1473]: https://backbase.atlassian.net/browse/TRANS-1473
[TRANS-1499]: https://backbase.atlassian.net/browse/TRANS-1499
[TRANS-1567]: https://backbase.atlassian.net/browse/TRANS-1567
[TRANS-1589]: https://backbase.atlassian.net/browse/TRANS-1589
[TRANS-1594]: https://backbase.atlassian.net/browse/TRANS-1594
[TRANS-1650]: https://backbase.atlassian.net/browse/TRANS-1650
[TRANS-1658]: https://backbase.atlassian.net/browse/TRANS-1658
[TRANS-1698]: https://backbase.atlassian.net/browse/TRANS-1698
[TRANS-1718]: https://backbase.atlassian.net/browse/TRANS-1718
[TRANS-1829]: https://backbase.atlassian.net/browse/TRANS-1829
[TRANS-1854]: https://backbase.atlassian.net/browse/TRANS-1854
[TRANS-1856]: https://backbase.atlassian.net/browse/TRANS-1856
[TRANS-1935]: https://backbase.atlassian.net/browse/TRANS-1935
[TRANS-1968]: https://backbase.atlassian.net/browse/TRANS-1968
[TRANS-1998]: https://backbase.atlassian.net/browse/TRANS-1998
[TRANS-2024]: https://backbase.atlassian.net/browse/TRANS-2024
[TRANS-2080]: https://backbase.atlassian.net/browse/TRANS-2080
[TRANS-2139]: https://backbase.atlassian.net/browse/TRANS-2139
