{"version":3,"file":"account-info-property.component.js","sourceRoot":"","sources":["../../../../../../../../../libs/shared/ui/account/src/lib/components/account-info-property/account-info-property.component.ts","../../../../../../../../../libs/shared/ui/account/src/lib/components/account-info-property/account-info-property.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEhG,OAAO,EAAuB,uBAAuB,EAAE,MAAM,oCAAoC,CAAC;;;;;;;;;;;;;;;;AAOlG,MAAM,OAAO,4BAA4B;IALzC;QAQW,mBAAc,GAAsB,MAAM,CAAC;QAC3C,eAAU,GAAG,UAAU,CAAC;QACxB,eAAU,GAAG,KAAK,CAAC;QACnB,aAAQ,GAAG,KAAK,CAAC;QAChB,WAAM,GAA0B,IAAI,YAAY,EAAW,CAAC;QAE7D,iBAAY,GAAG,uBAAuB,CAAC;KACjD;;6IAVY,4BAA4B;iIAA5B,4BAA4B,iQCTzC,ksPAyLA;4FDhLa,4BAA4B;kBALxC,SAAS;mBAAC;oBACT,QAAQ,EAAE,0BAA0B;oBACpC,WAAW,EAAE,wCAAwC;oBACrD,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;8BAEU,OAAO;sBAAf,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,cAAc;sBAAtB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACI,MAAM;sBAAf,MAAM","sourcesContent":["import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Arrangement } from '@backbase/product-summary-common-ang';\nimport { AccountInfoProperty, AccountInfoPropertyType } from '../../models/account-info-property';\n\n@Component({\n  selector: 'bb-account-info-property',\n  templateUrl: './account-info-property.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccountInfoPropertyComponent {\n  @Input() account: Arrangement | undefined;\n  @Input() property: AccountInfoProperty | undefined;\n  @Input() currencyFormat: 'code' | 'symbol' = 'code';\n  @Input() dateFormat = 'longDate';\n  @Input() isMaskable = false;\n  @Input() isMasked = false;\n  @Output() masked: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  readonly propertyType = AccountInfoPropertyType;\n}\n","<div\n  class=\"bb-account-details-item bb-stack__item bb-stack__item--fill\"\n  [attr.data-role]=\"'account-info-property-' + property?.key\"\n>\n  <div\n    *ngIf=\"property?.label\"\n    class=\"bb-block bb-block--sm bb-stack bb-stack--density-sm\"\n    [attr.data-role]=\"'account-info-property-' + property?.key + '-label'\"\n  >\n    <span class=\"bb-stack__item bb-text-bold\">\n      {{ property?.label }}\n    </span>\n    <bb-icon-ui\n      *ngIf=\"property?.tooltip\"\n      class=\"bb-stack__item bb-text-support\"\n      data-role=\"toggle-tooltip-icon\"\n      tabindex=\"0\"\n      name=\"info\"\n      size=\"sm\"\n      aria-label=\"Toggle tooltip for {{ property?.label }}\"\n      i18n-aria-label=\"Toggle tooltip icon aria label@@product-summary.account-details-property.tooltip-icon.aria-label\"\n      [bbTooltip]=\"property?.tooltip\"\n      triggers=\"focus hover\"\n    ></bb-icon-ui>\n  </div>\n\n  <div [attr.data-role]=\"'account-info-property-' + property?.key + '-value'\">\n    <ng-container [ngSwitch]=\"property?.type\">\n      <ng-container *ngSwitchCase=\"propertyType.ACCOUNT_NUMBER\">\n        <ng-container *ngTemplateOutlet=\"accountNumberValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.ACCOUNT_STATE\">\n        <ng-container *ngTemplateOutlet=\"accountStateValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.AMOUNT\">\n        <ng-container *ngTemplateOutlet=\"amountOrPercentValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.DATE\">\n        <ng-container *ngTemplateOutlet=\"dateValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.DEBIT_CARDS\">\n        <ng-container *ngTemplateOutlet=\"debitCardsValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.FREQUENCY\">\n        <ng-container *ngTemplateOutlet=\"termValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.NUMBER\">\n        <ng-container *ngTemplateOutlet=\"numberOrPercentValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.PERCENT\">\n        <ng-container *ngTemplateOutlet=\"percentValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.RENEWAL_STATUS\">\n        <ng-container *ngTemplateOutlet=\"renewalStatus\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.TEXT\">\n        <ng-container *ngTemplateOutlet=\"textValue\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"propertyType.UPDATE_TIME\">\n        <ng-container *ngTemplateOutlet=\"updateTimeValue\"></ng-container>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #accountNumberValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.ACCOUNT_NUMBER as valueProperty\">\n    <span aria-live=\"assertive\">\n      <bb-product-number\n        [type]=\"valueProperty.numberType\"\n        [number]=\"account | bbGetValue: valueProperty.key\"\n        [unmaskable]=\"isMaskable && !valueProperty.hideMaskIndicator && !(account | bbHasExternalInfo)\"\n        [masked]=\"isMasked\"\n        (unmask)=\"masked.emit(false)\"\n        (mask)=\"masked.emit(true)\"\n      ></bb-product-number>\n    </span>\n  </ng-container>\n</ng-template>\n\n<ng-template #accountStateValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.ACCOUNT_STATE as valueProperty\">\n    <bb-arrangement-state-indicator\n      *ngIf=\"account | bbGetValue: valueProperty.key as state\"\n      [state]=\"state\"\n      [showIcon]=\"valueProperty.showIcon || false\"\n      [showActive]=\"true\"\n    ></bb-arrangement-state-indicator>\n  </ng-container>\n</ng-template>\n\n<ng-template #amountOrPercentValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.AMOUNT as valueProperty\">\n    <ng-container *ngIf=\"account | bbGetValue: valueProperty.key | bbIsPercentValue; else amountValue\">\n      <ng-container *ngTemplateOutlet=\"percentValue\"></ng-container>\n    </ng-container>\n  </ng-container>\n</ng-template>\n\n<ng-template #amountValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.AMOUNT as valueProperty\">\n    <bb-amount-ui\n      *ngIf=\"account | bbGetValue: valueProperty.key as amount\"\n      [amount]=\"amount\"\n      [currency]=\"valueProperty.currency || account?.currency || ''\"\n      [mapCurrency]=\"(valueProperty.currencyFormat || currencyFormat) === 'symbol'\"\n    ></bb-amount-ui>\n  </ng-container>\n</ng-template>\n\n<ng-template #dateValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.DATE as valueProperty\">\n    {{ account | bbGetValue: valueProperty.key | bbDate: valueProperty.dateFormat || dateFormat }}\n  </ng-container>\n</ng-template>\n\n<ng-template #debitCardsValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.DEBIT_CARDS as valueProperty\">\n    <div class=\"bb-stack bb-stack--density-xl bb-stack--wrap\">\n      <bb-payment-card-ui\n        class=\"bb-stack__item bb-block bb-block--md\"\n        *ngFor=\"let debitCardData of account | bbGetValue: valueProperty.key | bbToArray\"\n        [paymentCard]=\"debitCardData | bbToPaymentCardData\"\n        [paymentCardNumberFormat]=\"'cardNumber' | bbProductNumberFormat\"\n      ></bb-payment-card-ui>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #termValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.FREQUENCY as valueProperty\">\n    <bb-account-info-frequency\n      [value]=\"account | bbGetValue: valueProperty.key\"\n      [unit]=\"account | bbGetValue: valueProperty.unitKey\"\n    ></bb-account-info-frequency>\n  </ng-container>\n</ng-template>\n\n<ng-template #numberOrPercentValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.NUMBER as valueProperty\">\n    <ng-container *ngIf=\"account | bbGetValue: valueProperty.key | bbIsPercentValue; else numberValue\">\n      <ng-container *ngTemplateOutlet=\"percentValue\"></ng-container>\n    </ng-container>\n  </ng-container>\n</ng-template>\n\n<ng-template #numberValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.NUMBER as valueProperty\">\n    <bb-amount-ui\n      *ngIf=\"account | bbGetValue: valueProperty.key | bbToNumber as amount\"\n      [amount]=\"amount\"\n      [decimalPlaces]=\"valueProperty.decimalPlaces\"\n    ></bb-amount-ui>\n  </ng-container>\n</ng-template>\n\n<ng-template #percentValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.PERCENT as valueProperty\">\n    <bb-amount-ui\n      *ngIf=\"account | bbGetValue: valueProperty.key | bbToNumber as amount\"\n      [amount]=\"amount\"\n      [showPercent]=\"true\"\n    ></bb-amount-ui>\n  </ng-container>\n</ng-template>\n\n<ng-template #renewalStatus>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.RENEWAL_STATUS as valueProperty\">\n    <bb-account-info-renewal-status\n      [isRenewalAllowed]=\"(account | bbGetValue: valueProperty.key) || false\"\n    ></bb-account-info-renewal-status>\n  </ng-container>\n</ng-template>\n\n<ng-template #textValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.TEXT as valueProperty\">\n    {{ account | bbGetValue: valueProperty.key }}\n  </ng-container>\n</ng-template>\n\n<ng-template #updateTimeValue>\n  <ng-container *ngIf=\"property | bbCastAccountProperty: propertyType.UPDATE_TIME as valueProperty\">\n    {{ (account | bbGetValue: valueProperty.key) || '' | bbDateUpdatedAgo: valueProperty.dateFormat || dateFormat }}\n  </ng-container>\n</ng-template>\n"]}