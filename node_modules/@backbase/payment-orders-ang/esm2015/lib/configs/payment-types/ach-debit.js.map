{"version":3,"file":"ach-debit.js","sourceRoot":"","sources":["../../../../../../../libs/payment-orders-ang/src/lib/configs/payment-types/ach-debit.ts"],"names":[],"mappings":"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","sourcesContent":["import '@angular/localize/init';\nimport { Validators } from '@angular/forms';\nimport {\n  PaymentComponents,\n  PaymentFormGroup,\n  PaymentTypeConfig,\n} from '../models/form-items.model';\nimport {\n  CounterPartyFields,\n  HiddenFields,\n  InitiatorFields,\n  PaymentBaseFields,\n  RemittanceInfoFields,\n} from '../models/form-item-names.model';\nimport { defaultScheduleConfig as schedule } from './default-config';\n\nimport { BeneficiaryList } from '../../ui/constants';\nimport { US_States } from '../constants';\nimport { routingTransitNumberValidator } from '../../ui/helpers/form-validation';\n\nconst initiator: PaymentFormGroup = {\n  name: PaymentBaseFields.initiator,\n  title: $localize`:@@ach-debit-config.initiator-label:Transfer to`,\n  fields: [\n    {\n      type: PaymentComponents.accountSelector,\n      name: InitiatorFields.initiatorAccountGroup,\n      options: {\n        placeholder: 'Select an account',\n        cssClasses: ['col-12', 'mb-0'],\n        validationMessages: [\n          {\n            message: $localize`:@@ach-debit-config.account-missing-error-message:Account is invalid`,\n            name: 'missingInList',\n          },\n          {\n            message: $localize`:@@ach-debit-config.required-message:Please select an account`,\n            name: 'required',\n          },\n          {\n            message: $localize`:@@ach-debit-config.closed-permission-error-message:You can not do payments to new beneficiary from this account.`,\n            name: 'hasOnlyClosedPaymentPermission',\n          },\n        ],\n      },\n    },\n  ],\n};\n\nconst counterparty: PaymentFormGroup = {\n  name: PaymentBaseFields.counterparty,\n  fields: [\n    {\n      name: PaymentComponents.beneficiaryGroupHeader,\n      type: PaymentComponents.beneficiaryGroupHeader,\n      options: {\n        label: $localize`:@@ach-debit-config.beneficiary.header-label:Collect from`,\n        hasDynamicTitle: true,\n      },\n    },\n    {\n      name: CounterPartyFields.name,\n      type: PaymentComponents.beneficiarySelector,\n      options: {\n        placeholder: $localize`:@@ach-debit-config.beneficiary-selector-placeholder:Select a client`,\n        cssClasses: ['col-12', 'mb-0'],\n        saveNewContactLabel: 'Save as a new contact',\n        validationMessages: [\n          {\n            message: $localize`:@@ach-debit-config.new-contact-label:Beneficiary is same as selected Debit account`,\n            name: 'sameDebitCreditAccountsSelected',\n          },\n        ],\n        dependants: [\n          CounterPartyFields.creditorBank,\n          CounterPartyFields.accountNumber,\n          CounterPartyFields.postalAddress,\n          CounterPartyFields.bankBranchCode,\n        ],\n        tabs: [BeneficiaryList.CONTACTS],\n      },\n    },\n    {\n      name: CounterPartyFields.accountNumber,\n      type: PaymentComponents.text,\n      options: {\n        validators: [Validators.required],\n        label: $localize`:@@ach-debit-config.beneficiary.account-number-label:Account number`,\n        maxLength: 36,\n        cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'pr-md-3'],\n      },\n    },\n    {\n      name: CounterPartyFields.creditorBank,\n      fields: [\n        {\n          name: CounterPartyFields.bankBranchCode,\n          type: PaymentComponents.text,\n          options: {\n            validators: [Validators.required, routingTransitNumberValidator],\n            label: $localize`:@@ach-debit-config.bank-code-label:Routing transit number (ABA)`,\n            maxLength: 20,\n            mapToField: `${PaymentBaseFields.counterparty}.${CounterPartyFields.creditorBank}`,\n            cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'pr-md-3'],\n          },\n        },\n      ],\n    },\n    {\n      name: CounterPartyFields.postalAddress,\n      type: PaymentComponents.address,\n      options: {\n        addressType: 'client',\n        cssClasses: ['col-12'],\n        states: US_States,\n        countries: [\n          {\n            label: 'United States',\n            value: 'US',\n          },\n        ],\n      },\n    },\n    {\n      name: CounterPartyFields.creditorBank,\n      fields: [\n        {\n          name: CounterPartyFields.bankName,\n          type: PaymentComponents.text,\n          options: {\n            label: $localize`:@@ach-debit-config.creditor-bank-name-label:Bank name`,\n            helperText: $localize`:@@ach-debit-config.bank-name-helper-text: (optional)`,\n            maxLength: 140,\n            cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'pr-md-3'],\n          },\n        },\n        {\n          name: CounterPartyFields.postalAddress,\n          type: PaymentComponents.address,\n          options: {\n            addressType: 'client bank',\n            cssClasses: ['col-12'],\n            states: US_States,\n            countries: [\n              {\n                label: 'United States',\n                value: 'US',\n              },\n            ],\n          },\n        },\n      ],\n    },\n  ],\n};\n\nconst remittanceInfo: PaymentFormGroup = {\n  name: PaymentBaseFields.remittanceInfo,\n  fields: [\n    {\n      type: PaymentComponents.amount,\n      name: RemittanceInfoFields.amountCurrencyGroup,\n      options: {\n        label: $localize`:@@ach-debit-config.amount-label:Amount`,\n        cssClasses: ['col-md-8', 'large-label', 'mt-4'],\n        currencies: ['USD'],\n        validationMessages: [\n          {\n            message: $localize`:@@ach-debit-config.invalid-amount-message:Enter amount`,\n            name: 'invalidAmount',\n          },\n        ],\n      },\n    },\n  ],\n};\n\nconst additionalMessage: PaymentFormGroup = {\n  name: 'additionalMessage',\n  fields: [\n    {\n      name: CounterPartyFields.mandateIdentifier,\n      type: PaymentComponents.text,\n      options: {\n        label: $localize`:@@ach-debit-config.mandate-identifier-label:Mandate identifier`,\n        placeholder: $localize`:@@ach-debit-config.mandate-identifier-placeholder:Enter mandate identifier`,\n        helperText: $localize`:@@ach-debit-config.mandate-identifier-helper-text: (optional)`,\n        minLength: 0,\n        maxLength: 35,\n        cssClasses: ['d-block', 'col-md-8'],\n        mapToField: PaymentBaseFields.counterparty,\n      },\n    },\n    {\n      name: CounterPartyFields.remittanceInformation,\n      type: PaymentComponents.textarea,\n      options: {\n        label: $localize`:@@ach-debit-config.remittance-info-label:Message to client`,\n        helperText: $localize`:@@ach-debit-config.remittance-info-helper-text: (optional)`,\n        showCharCounter: true,\n        collapseOptions: {\n          label: $localize`:@@ach-debit-config.collapsed.remittance-info-label:Add message to client`,\n        },\n        minLength: 0,\n        rows: 3,\n        maxLength: 140,\n        cols: 50,\n        cssClasses: ['d-block', 'col-md-8'],\n        mapToField: PaymentBaseFields.counterparty,\n      },\n    },\n    {\n      name: CounterPartyFields.messageToBank,\n      type: PaymentComponents.textarea,\n      options: {\n        label: $localize`:@@ach-debit-config.message-to-bank-label:Message to client bank`,\n        helperText: $localize`:@@ach-debit-config.message-to-bank-helper-text: (optional)`,\n        showCharCounter: true,\n        collapseOptions: {\n          label: $localize`:@@ach-debit-config.message-to-bank-collapsed-label:Add message to client bank`,\n        },\n        maxLength: 140,\n        cssClasses: ['d-block', 'col-md-8'],\n        mapToField: PaymentBaseFields.counterparty,\n      },\n    },\n  ],\n};\n\nconst isDebitPayment = {\n  name: HiddenFields.isDebitPayment,\n  type: PaymentComponents.checkbox,\n  options: {\n    cssClasses: ['d-none'],\n    defaultValue: true,\n  },\n};\n\nexport const ACH_DEBIT: PaymentTypeConfig = {\n  fields: [\n    initiator,\n    remittanceInfo,\n    counterparty,\n    additionalMessage,\n    schedule,\n    isDebitPayment,\n  ],\n  name: $localize`:@@ach-debit-config.name:ACH Debit`,\n  businessFunction: 'ACH Debit',\n  paymentType: 'ACH_DEBIT',\n};\n"]}