{"version":3,"file":"schedule-config-helpers.js","sourceRoot":"","sources":["../../../../../../../libs/payment-orders-ang/src/lib/configs/helpers/schedule-config-helpers.ts"],"names":[],"mappings":"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","sourcesContent":["import { Subject, combineLatest, Observable } from 'rxjs';\nimport {\n  takeUntil,\n  pluck,\n  distinctUntilChanged,\n  startWith,\n  skip,\n  filter,\n} from 'rxjs/operators';\nimport {\n  AmountOption,\n  AmountOptions,\n  DependantItem,\n  FormFieldHooksParams,\n  ProductKinds,\n} from '../models/form-items.model';\nimport {\n  CounterPartyFields,\n  HiddenFields,\n  PaymentBaseFields,\n  RemittanceInfoFields,\n  ScheduleFields,\n} from '../models/form-item-names.model';\nimport { getEndDate } from '../../ui/helpers/date-helpers';\nimport { NgbDate } from '@ng-bootstrap/ng-bootstrap';\nimport { AbstractControl } from '@angular/forms';\nimport { Frequencies, ScheduleEndType } from '../../ui/constants/constants';\nimport { InternalAccountFormItem } from '../../ui/models/types';\n\nexport function scheduleEndTypeToggleDependants(value: string) {\n  switch (value) {\n    case ScheduleEndType.ON:\n      return [ScheduleFields.endDate];\n    case ScheduleEndType.AFTER:\n      return [ScheduleFields.repeat];\n    default:\n      return;\n  }\n}\n\nexport function scheduleFrequencyToggleDependants(value: string) {\n  return value !== Frequencies.ONCE ? [ScheduleFields.endType] : undefined;\n}\n\nlet onDestroyStartDate$: Subject<void>;\nlet onDestroyEndDate$: Subject<void>;\n\nconst getNgbTime = (date: NgbDate) =>\n  new Date(date.year, date.month - 1, date.day).getTime();\nconst oneDay = 24 * 60 * 60 * 1000;\n\nexport function scheduleStartDateOnDestroyHook() {\n  if (onDestroyStartDate$) {\n    onDestroyStartDate$.next();\n    onDestroyStartDate$.complete();\n  }\n  if (onDestroyEndDate$) {\n    onDestroyEndDate$.next();\n    onDestroyEndDate$.complete();\n  }\n}\n\nexport function scheduleStartDateOnInitHook({\n  control,\n  group,\n  component,\n}: FormFieldHooksParams) {\n  onDestroyStartDate$ = new Subject();\n  if (group) {\n    group.valueChanges\n      .pipe(\n        takeUntil(onDestroyStartDate$),\n        pluck(ScheduleFields.frequency),\n        distinctUntilChanged()\n      )\n      .subscribe((value: Frequencies) => {\n        if (value === Frequencies.ONCE) {\n          component.options.label = 'Execution date';\n        } else {\n          component.options.label = 'Start on';\n        }\n        component.options.markDisabled = (date: NgbDate) =>\n          getNgbTime(date) < new Date().getTime() - oneDay;\n      });\n  }\n}\n\nexport function scheduleEndDateOnInitHook({\n  control,\n  group,\n  component,\n}: FormFieldHooksParams) {\n  onDestroyEndDate$ = new Subject();\n  const startDate = group && group.get(ScheduleFields.startDate);\n  const frequency = group && group.get(ScheduleFields.frequency);\n  const endType = group && group.get(ScheduleFields.endType);\n\n  if (startDate && !startDate.pristine && frequency && control.pristine) {\n    control.patchValue(getEndDate(frequency.value, startDate.value));\n  }\n\n  if (startDate && frequency && endType) {\n    combineLatest([\n      startDate.valueChanges.pipe(\n        startWith(startDate.value),\n        distinctUntilChanged()\n      ),\n      frequency.valueChanges.pipe(\n        startWith(frequency.value),\n        distinctUntilChanged()\n      ),\n      endType.valueChanges.pipe(\n        startWith(endType.value),\n        distinctUntilChanged()\n      ),\n    ])\n      .pipe(takeUntil(onDestroyEndDate$), skip(1))\n      .subscribe(() => {\n        if (control) {\n          const endDate = getEndDate(frequency.value, startDate.value);\n          control.patchValue(endDate);\n          component.options.markDisabled = (date: NgbDate) =>\n            getNgbTime(date) < new Date(endDate || '').getTime();\n        }\n      });\n  }\n}\n\nexport function toggleForAmountOptions(\n  _: any,\n  control?: AbstractControl,\n  amountOptions?: AmountOptions\n): DependantItem[] {\n  const selectedAccKind =\n    control && control.parent ? control.parent.value?.productKindName : null;\n  const product =\n    control && control.parent\n      ? control.parent.value?.accountData?.defaultRecord\n      : null;\n  const isAmountOptionsZero = amountOptions?.creditCard?.every(\n    (option: AmountOption) =>\n      option?.amountApiField\n        ? Number(product?.[<string>option.amountApiField]) === 0\n        : true\n  );\n\n  if (\n    selectedAccKind === ProductKinds.creditCard ||\n    selectedAccKind === ProductKinds.loanAccount\n  ) {\n    const items = [RemittanceInfoFields.amountOptions];\n    if (selectedAccKind === ProductKinds.creditCard && isAmountOptionsZero) {\n      items.push(RemittanceInfoFields.amountCurrencyGroup);\n    }\n    return [\n      {\n        parent: PaymentBaseFields.remittanceInfo,\n        items,\n      },\n    ];\n  }\n  return [\n    {\n      parent: PaymentBaseFields.remittanceInfo,\n      items: [\n        RemittanceInfoFields.description,\n        RemittanceInfoFields.amountCurrencyGroup,\n      ],\n    },\n  ];\n}\n\n// Internal transfer onInit-onDestroy hooks\nlet internalTransferDestroy$: Subject<void>;\nexport function internalTransferScheduleFreqOnInitHook({\n  control,\n  group,\n  component,\n}: FormFieldHooksParams) {\n  internalTransferDestroy$ = new Subject();\n  const initialOptions = component.options.options;\n  const frequencyCtrl = group.parent\n    ?.get(PaymentBaseFields.remittanceInfo)\n    ?.get('scheduleFrequency');\n  const paymentType$ = group.parent?.get('paymentType')?.valueChanges;\n\n  paymentType$\n    ?.pipe(takeUntil(internalTransferDestroy$))\n    .subscribe((paymentType) => {\n      if (paymentType === 'EXTERNAL_A2A') {\n        const optionsWithoutDaily = initialOptions.filter(\n          (opt: { value: string }) => opt.value !== Frequencies.DAILY\n        );\n        component.options.options = optionsWithoutDaily;\n      } else {\n        component.options.options = initialOptions;\n      }\n      component.toggleDependants();\n    });\n\n  frequencyCtrl?.valueChanges\n    .pipe(takeUntil(internalTransferDestroy$), startWith(frequencyCtrl.value))\n    .subscribe((scheduleFrequency) => {\n      const scheduleOptions = scheduleFrequency || initialOptions;\n      component.options.options = scheduleOptions;\n\n      const isFreqExistInOptions = scheduleOptions.find(\n        ({ value }: { label: string; value: Frequencies }) =>\n          value === control.value\n      );\n\n      // Check whether previously selected frequency is in options\n      if (!isFreqExistInOptions) {\n        control.setValue(component.options.defaultValue);\n        component.toggleDependants();\n      }\n    });\n}\n\nexport function internalTransferOnDestroyHook() {\n  if (internalTransferDestroy$) {\n    internalTransferDestroy$.next();\n    internalTransferDestroy$.complete();\n  }\n}\n\nexport function internalTransferScheduleAlertOnInitHook({\n  group,\n  component,\n}: FormFieldHooksParams) {\n  internalTransferDestroy$ = new Subject();\n  const { config, options } = component;\n  group?.parent\n    ?.get(PaymentBaseFields.counterparty)\n    ?.valueChanges.pipe(\n      filter((account) => {\n        const isCreditCardOrLoan = [\n          ProductKinds.creditCard,\n          ProductKinds.loanAccount,\n        ].includes(account?.productKindName);\n        config.hidden = !isCreditCardOrLoan;\n        return isCreditCardOrLoan;\n      }),\n      takeUntil(internalTransferDestroy$)\n    )\n    .subscribe((account) => {\n      const dueDate = new Date(\n        account?.accountData?.defaultRecord?.minimumPaymentDueDate\n      );\n      if (dueDate) {\n        const fullMonth = dueDate.toLocaleDateString('default', {\n          month: 'long',\n        });\n        const formattedDueDate = `${fullMonth} ${dueDate.getDate()}, ${dueDate.getFullYear()}`;\n        const alert =\n          new Date().getTime() >= dueDate.getTime()\n            ? options.alerts?.overdue\n            : options.alerts?.undue;\n\n        if (alert) {\n          alert.description = alert.description?.replace(\n            '@@date',\n            formattedDueDate\n          );\n        }\n\n        component.options = {\n          ...options,\n          ...(alert ? alert : {}),\n        };\n      }\n    });\n}\n\nexport function internalTransAmountOptToggleDependants(\n  _: any,\n  control?: AbstractControl\n) {\n  const showFreqSwitch =\n    control && control.parent\n      ? control.parent.get('showFrequencySwitch')?.value\n      : null;\n  const items = showFreqSwitch\n    ? [ScheduleFields.frequencySwitch]\n    : [ScheduleFields.frequency];\n  return [\n    {\n      parent: PaymentBaseFields.schedule,\n      items,\n    },\n  ];\n}\n\nexport function internalTransScheduleStartDateOnInitHook({\n  control,\n  group,\n  component,\n}: FormFieldHooksParams) {\n  scheduleStartDateOnInitHook({ control, group, component });\n  internalTransferDestroy$ = new Subject();\n  const { options } = component;\n  const defaultDescription = options.description;\n  component.options = { ...options, description: '' }; // No description until an account is selected\n  const date$ = control?.valueChanges.pipe(startWith(control.value));\n  const account$ = group?.parent\n    ?.get(PaymentBaseFields.counterparty)\n    ?.valueChanges.pipe(\n      startWith(group.parent.get(PaymentBaseFields.counterparty)?.value),\n      filter((account) =>\n        [ProductKinds.creditCard, ProductKinds.loanAccount].includes(\n          account?.productKindName\n        )\n      )\n    ) as Observable<InternalAccountFormItem>;\n\n  combineLatest([account$, date$])\n    .pipe(takeUntil(internalTransferDestroy$))\n    .subscribe(([account, date]) => {\n      const dueDate = new Date(\n        account?.accountData?.defaultRecord?.minimumPaymentDueDate\n      ).getTime();\n      const executeDate = new Date(date).getTime();\n      if (dueDate && executeDate) {\n        component.options.description =\n          executeDate >= dueDate && dueDate >= new Date().getTime()\n            ? defaultDescription\n            : '';\n      }\n    });\n}\n\nexport function intrabankCheckboxOnInitHook({\n  control,\n  group,\n  component,\n}: FormFieldHooksParams) {\n  internalTransferDestroy$ = new Subject();\n  const contactNameCtrl = group.parent?.get(\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.name}`\n  );\n  const contactNumberCtrl = group.parent?.get(\n    `${PaymentBaseFields.counterparty}.${CounterPartyFields.accountNumber}`\n  );\n  const selectedContact = group.parent?.get(\n    `${PaymentBaseFields.counterparty}.${HiddenFields.selectedBeneficiary}`\n  );\n\n  combineLatest([\n    contactNameCtrl?.valueChanges as Observable<any>,\n    contactNumberCtrl?.valueChanges as Observable<any>,\n    selectedContact?.valueChanges as Observable<any>,\n  ])\n    .pipe(takeUntil(internalTransferDestroy$))\n    .subscribe(([typedName, typedAccountNumber, { name, accounts }]) => {\n      const { accountNumber, email, phoneNumber } = accounts[0];\n      const isFormValuesEqualToSavedContact =\n        typedName === name &&\n        [accountNumber, email, phoneNumber].includes(typedAccountNumber);\n      component.options.disabled = isFormValuesEqualToSavedContact;\n      if (isFormValuesEqualToSavedContact) {\n        control.reset();\n      }\n    });\n}\n\nexport function internalTransferEndTypeOnInitHook({\n  group,\n  component,\n}: FormFieldHooksParams) {\n  internalTransferDestroy$ = new Subject();\n  const initialOptions = component.options.options;\n  const initialCssClasses = component.options.cssClasses;\n  const paymentType$ = group.parent?.get('paymentType')?.valueChanges;\n\n  paymentType$\n    ?.pipe(takeUntil(internalTransferDestroy$))\n    .subscribe((paymentType) => {\n      if (paymentType === 'EXTERNAL_A2A') {\n        component.options.options = initialOptions.filter(\n          (opt: { value: string }) => opt.value !== ScheduleEndType.ON\n        );\n        component.options.cssClasses = initialCssClasses.filter(\n          (i: string) => i !== 'bb-schedule__end-type'\n        );\n      } else {\n        component.options.options = initialOptions;\n        component.options.cssClasses = initialCssClasses;\n      }\n    });\n}\n\nexport function internalTransferRepeatOnInitHook({\n  group,\n  component,\n}: FormFieldHooksParams) {\n  internalTransferDestroy$ = new Subject();\n  const initialCssClasses = component.options.cssClasses;\n  const paymentType$ = group.parent?.get('paymentType')?.valueChanges;\n\n  paymentType$\n    ?.pipe(takeUntil(internalTransferDestroy$))\n    .subscribe((paymentType) => {\n      component.options.cssClasses = [\n        ...initialCssClasses,\n        ...(paymentType === 'EXTERNAL_A2A'\n          ? ['bb-schedule__repeat--two-option']\n          : []),\n      ];\n    });\n}\n"]}