{"version":3,"file":"create-template-form-modal.component.js","sourceRoot":"","sources":["../../../../../../../../libs/payment-orders-ang/src/lib/ui/components/create-payment-template-modal/create-template-form-modal.component.ts","../../../../../../../../libs/payment-orders-ang/src/lib/ui/components/create-payment-template-modal/create-payment-template-modal.component.html"],"names":[],"mappings":"AAAA,OAAO,EACL,SAAS,EACT,uBAAuB,EACvB,KAAK,EACL,MAAM,EACN,YAAY,GACb,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAE,eAAe,EAAE,MAAM,MAAM,CAAC;;;;;;;;;;;AAQvC,MAAM,OAAO,wBAAwB;IALrC;QAMW,iBAAY,GAAoB;YACvC,QAAQ,EAAE,QAAQ;YAClB,QAAQ,EAAE,KAAK;SAChB,CAAC;QAYF;;;WAGG;QACM,qBAAgB,GAAG,KAAK,CAAC;QAElC;;WAEG;QACO,eAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;QAEhD;;WAEG;QACO,cAAS,GAAG,IAAI,YAAY,EAAQ,CAAC;QAE/C;;WAEG;QACO,eAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;QAEvC,WAAM,GAAG,UAAU,CAAC;QAC7B,gBAAW,GAAG,KAAK,CAAC;KAerB;IAbC,MAAM;QACJ,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;;yIApDU,wBAAwB;6HAAxB,wBAAwB,iRCjBrC,o5HAwHA;4FDvGa,wBAAwB;kBALpC,SAAS;mBAAC;oBACT,QAAQ,EAAE,0BAA0B;oBACpC,WAAW,EAAE,gDAAgD;oBAC7D,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;8BAUU,UAAU;sBAAlB,KAAK;gBAKG,mBAAmB;sBAA3B,KAAK;gBAMG,gBAAgB;sBAAxB,KAAK;gBAKI,UAAU;sBAAnB,MAAM;gBAKG,SAAS;sBAAlB,MAAM;gBAKG,UAAU;sBAAnB,MAAM","sourcesContent":["import {\n  Component,\n  ChangeDetectionStrategy,\n  Input,\n  Output,\n  EventEmitter,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ModalState } from '../../models';\nimport { BehaviorSubject } from 'rxjs';\nimport { NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'bb-payment-template-form',\n  templateUrl: './create-payment-template-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PaymentTemplateComponent {\n  readonly modalOptions: NgbModalOptions = {\n    backdrop: 'static',\n    keyboard: false,\n  };\n\n  /**\n   * Modal state flag.\n   */\n  @Input() modalState!: BehaviorSubject<ModalState>;\n\n  /**\n   * Payment template form.\n   */\n  @Input() paymentTemplateForm!: FormGroup;\n\n  /**\n   * Saving template data flag.\n   * Default value is false.\n   */\n  @Input() isSavingTemplate = false;\n\n  /**\n   * Close payment template modal event emitter\n   */\n  @Output() closeModal = new EventEmitter<void>();\n\n  /**\n   * Open payment template modal event emitter\n   */\n  @Output() openModal = new EventEmitter<void>();\n\n  /**\n   * Submit form event emitter\n   */\n  @Output() submitForm = new EventEmitter<void>();\n\n  readonly states = ModalState;\n  isSubmitted = false;\n\n  onOpen() {\n    this.openModal.emit();\n  }\n\n  onClose() {\n    this.closeModal.emit();\n    this.isSubmitted = false;\n  }\n\n  onSubmit() {\n    this.submitForm.emit();\n    this.isSubmitted = true;\n  }\n}\n","<bb-modal-ui\n  [isOpen]=\"states.Preview === (modalState | async)\"\n  [modalOptions]=\"modalOptions\"\n>\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <div class=\"bb-stack\">\n        <bb-icon-ui\n          class=\"bb-text-disabled bb-stack__item bb-stack__item--spacing-sm bb-text-support d-inline-block\"\n          name=\"insert-drive-file\"\n        >\n        </bb-icon-ui>\n        <bb-header-ui\n          class=\"bb-stack__item\"\n          headingType=\"h2\"\n          heading=\"Save as a template\"\n          i18n-heading=\"@@omni-payment-review-template-modal.title\"\n          [attr.data-role]=\"'payment-template-header'\"\n        ></bb-header-ui>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <div\n        class=\"bb-block bb-block--lg\"\n        data-role=\"payment-template-modal-text\"\n        i18n=\"@@omni-payment-review-template-modal.description\"\n      >\n        Type a name to the template in order to re-use it and manage it when\n        needed.\n      </div>\n      <form [formGroup]=\"paymentTemplateForm\" class=\"form-group\">\n        <label [for]=\"TemplateName.id\" class=\"bb-label\">\n          <span\n            id=\"name\"\n            i18n=\"@@omni-payment-review-template-modal.template-name.label\"\n            >Name of the template</span\n          >\n        </label>\n        <span\n          class=\"bb-text-support\"\n          i18n=\"\n            @@omni-payment-review-template-modal.template-name.required.label\"\n        >\n          (required)\n        </span>\n        <div class=\"bb-payment-template__form-container\">\n          <bb-input-text-ui\n            #TemplateName\n            [aria-labelledby]=\"'name'\"\n            formControlName=\"templateName\"\n            [maxLength]=\"50\"\n            [showCharCounter]=\"true\"\n            data-role=\"template-name-field\"\n          ></bb-input-text-ui>\n\n          <bb-input-validation-message-ui\n            data-role=\"initiate-payment-template-name-input-error\"\n            role=\"alert\"\n            [showErrors]=\"paymentTemplateForm?.get('templateName')?.invalid\"\n          >\n            <ng-container\n              *ngIf=\"\n                paymentTemplateForm?.get('templateName') as templateNameControl\n              \"\n            >\n              <span\n                data-role=\"required-template-name-error\"\n                i18n=\"\n                  @@omni-payment-review-template-modal.template-name.validation.required-error\"\n                *ngIf=\"\n                  templateNameControl.errors &&\n                  templateNameControl.errors['required'] &&\n                  isSubmitted\n                \"\n              >\n                Template name is required\n              </span>\n            </ng-container>\n          </bb-input-validation-message-ui>\n        </div>\n      </form>\n    </ng-template>\n  </bb-modal-body-ui>\n\n  <bb-modal-footer-ui>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar\">\n        <bb-load-button-ui\n          [isLoading]=\"isSavingTemplate\"\n          color=\"primary\"\n          class=\"bb-button-bar__button\"\n          data-role=\"save-template-button\"\n          (click)=\"onSubmit()\"\n        >\n          <ng-container\n            i18n=\"@@omni-payment-review-template-modal.save-btn.label\"\n          >\n            Save\n          </ng-container>\n        </bb-load-button-ui>\n        <button\n          bbButton\n          color=\"link\"\n          class=\"bb-button-bar__button\"\n          data-role=\"cancel-template-button\"\n          (click)=\"onClose()\"\n        >\n          <ng-container\n            i18n=\"@@omni-payment-review-template-modal.cancel-btn.label\"\n          >\n            Cancel\n          </ng-container>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n"]}