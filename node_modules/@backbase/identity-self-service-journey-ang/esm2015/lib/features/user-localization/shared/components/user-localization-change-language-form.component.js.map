{"version":3,"file":"user-localization-change-language-form.component.js","sourceRoot":"","sources":["../../../../../../../../../libs/identity-self-service-journey-ang/src/lib/features/user-localization/shared/components/user-localization-change-language-form.component.ts","../../../../../../../../../libs/identity-self-service-journey-ang/src/lib/features/user-localization/shared/components/user-localization-change-language-form.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAU,MAAM,EAAE,MAAM,eAAe,CAAC;AACxG,OAAO,EAAE,WAAW,EAAa,UAAU,EAAE,MAAM,gBAAgB,CAAC;AACpE,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;AAE3D,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;;;;;;;;AAOrE,MAAM,OAAO,2CAA2C;IAiCtD,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAhC5C;;WAEG;QACM,YAAO,GAA8B,EAAE,CAAC;QAOjD;;WAEG;QACM,gBAAW,GAAG,KAAK,CAAC;QAE7B;;WAEG;QACO,gBAAW,GAAuB,IAAI,YAAY,EAAE,CAAC;QAE/D;;WAEG;QACO,cAAS,GAAqD,IAAI,YAAY,EAAE,CAAC;QAElF,QAAG,GAAG;YACb,mBAAmB,EAAE,UAAU,CAAC,iBAAiB,CAAC;SACnD,CAAC;QAGF,gBAAW,GAAG,KAAK,CAAC;IAE2B,CAAC;IAEhD,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACjC,cAAc,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,oBAAoB,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,UAAU,CAAC,QAAQ,CAAC;SAC7F,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC;SAC5E;IACH,CAAC;IAED,IAAI,wBAAwB;QAC1B,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,cAAc,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC;IACtF,CAAC;IAED,IAAI,0BAA0B;QAC5B,OAAO,mBAAmB,CAAC;IAC7B,CAAC;;4JAtDU,2CAA2C;gJAA3C,2CAA2C,4PCXxD,ixEA4DA;4FDjDa,2CAA2C;kBALvD,SAAS;mBAAC;oBACT,QAAQ,EAAE,2CAA2C;oBACrD,WAAW,EAAE,yDAAyD;oBACtE,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;kGAKU,OAAO;sBAAf,KAAK;gBAKG,oBAAoB;sBAA5B,KAAK;gBAKG,WAAW;sBAAnB,KAAK;gBAKI,WAAW;sBAApB,MAAM;gBAKG,SAAS;sBAAlB,MAAM","sourcesContent":["import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { generateId } from '@backbase/identity-common-ang';\nimport { UserLocalizationSaveClickEventData, LocalizationOption } from '../../../../util';\nimport { localizationOptions } from '../../user-localization.config';\n\n@Component({\n  selector: 'bb-user-localization-change-language-form',\n  templateUrl: './user-localization-change-language-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UserLocalizationChangeLanguageFormComponent implements OnInit {\n  /**\n   * Set language options\n   */\n  @Input() options: Array<LocalizationOption> = [];\n\n  /**\n   * Set selected language\n   */\n  @Input() selectedLanguageCode: string | undefined;\n\n  /**\n   * Set save loading language\n   */\n  @Input() saveLoading = false;\n\n  /**\n   * Output for cancel clicked\n   */\n  @Output() cancelClick: EventEmitter<void> = new EventEmitter();\n\n  /**\n   * Output for save clicked\n   */\n  @Output() saveClick: EventEmitter<UserLocalizationSaveClickEventData> = new EventEmitter();\n\n  readonly ids = {\n    languageRegionLabel: generateId('language-region'),\n  };\n\n  form: FormGroup | undefined;\n  isSubmitted = false;\n\n  constructor(private formBuilder: FormBuilder) {}\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      languageRegion: [{ value: this.selectedLanguageCode, disabled: false }, Validators.required],\n    });\n  }\n\n  save() {\n    this.isSubmitted = true;\n    if (this.form && this.form.valid) {\n      this.saveClick.emit({ preferredLanguage: this.form.value.languageRegion });\n    }\n  }\n\n  get showLanguageControlError() {\n    return !((this.form || {}).controls || {}).languageRegion.value && this.isSubmitted;\n  }\n\n  get defaultLocalizationOptions() {\n    return localizationOptions;\n  }\n}\n","<form *ngIf=\"form\" [formGroup]=\"form\" (submit)=\"save()\">\n  <div class=\"bb-block bb-block--lg\">\n    <bb-input-radio-group-ui\n      data-role=\"user-localization-change-language-form-radio-option-group\"\n      formControlName=\"languageRegion\"\n      label=\"Language and region\"\n      i18n-label=\"Label for language and region radio options@@bb-user-localization-change-language-form.label.lanugage\"\n      [preselect]=\"false\"\n      [required]=\"true\"\n    >\n      <ng-container *ngIf=\"(options.length && options) || defaultLocalizationOptions as localizationOptions\">\n        <bb-input-radio-ui\n          *ngFor=\"let option of localizationOptions\"\n          [value]=\"option.value\"\n          [labelTemplate]=\"radioLabelTemplate\"\n          [labelTemplateContext]=\"option\"\n        >\n        </bb-input-radio-ui>\n      </ng-container>\n    </bb-input-radio-group-ui>\n    <bb-input-validation-message-ui [showErrors]=\"showLanguageControlError\">\n      <span\n        i18n=\"\n          Language required error|Error to say that language is a required\n          field@@bb-user-localization-change-language-form.language.errors.required\"\n      >\n        You must choose a language\n      </span>\n    </bb-input-validation-message-ui>\n  </div>\n\n  <div class=\"bb-button-bar bb-button-bar--reverse\">\n    <bb-load-button-ui\n      type=\"submit\"\n      data-role=\"user-localization-change-language-form-save-button\"\n      class=\"bb-button-bar__button\"\n      [isLoading]=\"saveLoading\"\n      i18n=\"Save changes button action@@bb-user-localization-change-language-form.action.save\"\n    >\n      Save changes\n    </bb-load-button-ui>\n    <button\n      bbButton\n      data-role=\"user-localization-change-language-form-cancel-button\"\n      color=\"secondary\"\n      class=\"bb-button-bar__button\"\n      type=\"button\"\n      (click)=\"cancelClick.emit()\"\n      i18n=\"Cancel changes button action@@bb-user-localization-change-language-form.action.cancel\"\n    >\n      Cancel\n    </button>\n  </div>\n</form>\n\n<ng-template #radioLabelTemplate let-labelTemplateContext=\"labelTemplateContext\">\n  <span class=\"bb-input-radio-group__radio-label\" [lang]=\"labelTemplateContext.value\">\n    {{ labelTemplateContext.label }}\n  </span>\n</ng-template>\n"]}