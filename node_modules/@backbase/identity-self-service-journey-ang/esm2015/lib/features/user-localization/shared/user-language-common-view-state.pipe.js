import { of, pipe } from 'rxjs';
import { catchError, map, startWith, switchMap } from 'rxjs/operators';
import { findLanguageRegionOption } from '../../../util/mappings/find-language-region-from-options';
export const userLanguageCommonViewStatePipe = (userLocalizationService) => pipe(switchMap(() => userLocalizationService.getUser$.pipe(map((userProfile) => ({
    loading: false,
    languageRegion: findLanguageRegionOption(userLocalizationService.config.localizationOptions, userProfile.preferredLanguage),
})), startWith({ loading: true }), catchError((error) => of({ loading: false, error })))));
//# sourceMappingURL=user-language-common-view-state.pipe.js.map