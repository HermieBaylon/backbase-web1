import { Inject, Injectable, Optional } from '@angular/core';
import { HttpHeaders, HttpParams } from '@angular/common/http';
import { CustomHttpParameterCodec } from '../encoder';
import { TRANSACTIONS_BASE_PATH } from '../variables';
import { TransactionsConfiguration } from '../configuration';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
import * as i2 from "../configuration";
export class TransactionClientHttpService {
    constructor(httpClient, basePath, configuration) {
        this.httpClient = httpClient;
        this.basePath = '';
        this.defaultHeaders = new HttpHeaders();
        this.configuration = new TransactionsConfiguration();
        if (configuration) {
            this.configuration = configuration;
        }
        if (typeof this.configuration.basePath !== 'string') {
            if (typeof basePath !== 'string') {
                basePath = this.basePath;
            }
            this.configuration.basePath = basePath;
        }
        this.encoder = this.configuration.encoder || new CustomHttpParameterCodec();
    }
    addToHttpParams(httpParams, value, key) {
        if (typeof value === "object" && value instanceof Date === false) {
            httpParams = this.addToHttpParamsRecursive(httpParams, value);
        }
        else {
            httpParams = this.addToHttpParamsRecursive(httpParams, value, key);
        }
        return httpParams;
    }
    addToHttpParamsRecursive(httpParams, value, key) {
        if (value == null) {
            return httpParams;
        }
        if (typeof value === "object") {
            if (Array.isArray(value)) {
                value.forEach(elem => httpParams = this.addToHttpParamsRecursive(httpParams, elem, key));
            }
            else if (value instanceof Date) {
                if (key != null) {
                    httpParams = httpParams.append(key, value.toISOString().substr(0, 10));
                }
                else {
                    throw Error("key may not be null if value is Date");
                }
            }
            else {
                Object.keys(value).forEach(k => httpParams = this.addToHttpParamsRecursive(httpParams, value[k], key != null ? `${key}.${k}` : k));
            }
        }
        else if (key != null) {
            httpParams = httpParams.append(key, value);
        }
        else {
            throw Error("key may not be null if value is not object or array");
        }
        return httpParams;
    }
    getEnumValuesByAttributeName(requestParameters, observe = 'body', reportProgress = false, options) {
        const _attributeName = requestParameters["attributeName"];
        if (_attributeName === null || _attributeName === undefined) {
            throw new Error('Required parameter attributeName was null or undefined when calling getEnumValuesByAttributeName.');
        }
        const _subDomain = requestParameters["subDomain"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_subDomain !== undefined && _subDomain !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _subDomain, 'subDomain');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        let responseType = 'json';
        if (httpHeaderAcceptSelected && httpHeaderAcceptSelected.startsWith('text')) {
            responseType = 'text';
        }
        return this.httpClient.get(`${this.configuration.basePath}/client-api/v2/transactions/enumValues/${encodeURIComponent(String(_attributeName))}`, {
            params: queryParameters,
            responseType: responseType,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getEnumValuesByAttributeNameUrl(requestParameters) {
        const _attributeName = requestParameters["attributeName"];
        if (_attributeName === null || _attributeName === undefined) {
            throw new Error('Required parameter attributeName was null or undefined when calling getEnumValuesByAttributeName.');
        }
        const _subDomain = requestParameters["subDomain"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_subDomain !== undefined && _subDomain !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _subDomain, 'subDomain');
        }
        const queryString = queryParameters.toString();
        return `${this.configuration.basePath}/client-api/v2/transactions/enumValues/${encodeURIComponent(String(_attributeName))}${queryString ? `?${queryString}` : ''}`;
    }
    getTransactionCheckImages(requestParameters, observe = 'body', reportProgress = false, options) {
        const _transactionId = requestParameters["transactionId"];
        if (_transactionId === null || _transactionId === undefined) {
            throw new Error('Required parameter transactionId was null or undefined when calling getTransactionCheckImages.');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        let responseType = 'json';
        if (httpHeaderAcceptSelected && httpHeaderAcceptSelected.startsWith('text')) {
            responseType = 'text';
        }
        return this.httpClient.get(`${this.configuration.basePath}/client-api/v2/transactions/${encodeURIComponent(String(_transactionId))}/check-images`, {
            responseType: responseType,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getTransactionCheckImagesUrl(requestParameters) {
        const _transactionId = requestParameters["transactionId"];
        if (_transactionId === null || _transactionId === undefined) {
            throw new Error('Required parameter transactionId was null or undefined when calling getTransactionCheckImages.');
        }
        return `${this.configuration.basePath}/client-api/v2/transactions/${encodeURIComponent(String(_transactionId))}/check-images`;
    }
    getTransactions(requestParameters, observe = 'body', reportProgress = false, options) {
        const _amountGreaterThan = requestParameters["amountGreaterThan"];
        const _amountLessThan = requestParameters["amountLessThan"];
        const _bookingDateGreaterThan = requestParameters["bookingDateGreaterThan"];
        const _bookingDateLessThan = requestParameters["bookingDateLessThan"];
        const _types = requestParameters["types"];
        const _description = requestParameters["description"];
        const _reference = requestParameters["reference"];
        const _typeGroups = requestParameters["typeGroups"];
        const _counterPartyName = requestParameters["counterPartyName"];
        const _counterPartyAccountNumber = requestParameters["counterPartyAccountNumber"];
        const _creditDebitIndicator = requestParameters["creditDebitIndicator"];
        const _categories = requestParameters["categories"];
        const _billingStatus = requestParameters["billingStatus"];
        const _state = requestParameters["state"];
        const _currency = requestParameters["currency"];
        const _notes = requestParameters["notes"];
        const _id = requestParameters["id"];
        const _arrangementId = requestParameters["arrangementId"];
        const _arrangementsIds = requestParameters["arrangementsIds"];
        const _fromCheckSerialNumber = requestParameters["fromCheckSerialNumber"];
        const _toCheckSerialNumber = requestParameters["toCheckSerialNumber"];
        const _checkSerialNumbers = requestParameters["checkSerialNumbers"];
        const _query = requestParameters["query"];
        const _from = requestParameters["from"];
        const _cursor = requestParameters["cursor"];
        const _size = requestParameters["size"];
        const _orderBy = requestParameters["orderBy"];
        const _direction = requestParameters["direction"];
        const _secDirection = requestParameters["secDirection"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_amountGreaterThan !== undefined && _amountGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountGreaterThan, 'amountGreaterThan');
        }
        if (_amountLessThan !== undefined && _amountLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountLessThan, 'amountLessThan');
        }
        if (_bookingDateGreaterThan !== undefined && _bookingDateGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateGreaterThan, 'bookingDateGreaterThan');
        }
        if (_bookingDateLessThan !== undefined && _bookingDateLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateLessThan, 'bookingDateLessThan');
        }
        if (_types) {
            _types.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'types');
            });
        }
        if (_description !== undefined && _description !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _description, 'description');
        }
        if (_reference !== undefined && _reference !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _reference, 'reference');
        }
        if (_typeGroups) {
            _typeGroups.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'typeGroups');
            });
        }
        if (_counterPartyName !== undefined && _counterPartyName !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyName, 'counterPartyName');
        }
        if (_counterPartyAccountNumber !== undefined && _counterPartyAccountNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyAccountNumber, 'counterPartyAccountNumber');
        }
        if (_creditDebitIndicator !== undefined && _creditDebitIndicator !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _creditDebitIndicator, 'creditDebitIndicator');
        }
        if (_categories) {
            _categories.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'categories');
            });
        }
        if (_billingStatus !== undefined && _billingStatus !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _billingStatus, 'billingStatus');
        }
        if (_state !== undefined && _state !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _state, 'state');
        }
        if (_currency !== undefined && _currency !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _currency, 'currency');
        }
        if (_notes !== undefined && _notes !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _notes, 'notes');
        }
        if (_id !== undefined && _id !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _id, 'id');
        }
        if (_arrangementId !== undefined && _arrangementId !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _arrangementId, 'arrangementId');
        }
        if (_arrangementsIds) {
            _arrangementsIds.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'arrangementsIds');
            });
        }
        if (_fromCheckSerialNumber !== undefined && _fromCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _fromCheckSerialNumber, 'fromCheckSerialNumber');
        }
        if (_toCheckSerialNumber !== undefined && _toCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _toCheckSerialNumber, 'toCheckSerialNumber');
        }
        if (_checkSerialNumbers) {
            _checkSerialNumbers.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'checkSerialNumbers');
            });
        }
        if (_query !== undefined && _query !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _query, 'query');
        }
        if (_from !== undefined && _from !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _from, 'from');
        }
        if (_cursor !== undefined && _cursor !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _cursor, 'cursor');
        }
        if (_size !== undefined && _size !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _size, 'size');
        }
        if (_orderBy !== undefined && _orderBy !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _orderBy, 'orderBy');
        }
        if (_direction !== undefined && _direction !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _direction, 'direction');
        }
        if (_secDirection !== undefined && _secDirection !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _secDirection, 'secDirection');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        let responseType = 'json';
        if (httpHeaderAcceptSelected && httpHeaderAcceptSelected.startsWith('text')) {
            responseType = 'text';
        }
        return this.httpClient.get(`${this.configuration.basePath}/client-api/v2/transactions`, {
            params: queryParameters,
            responseType: responseType,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getTransactionsUrl(requestParameters) {
        const _amountGreaterThan = requestParameters["amountGreaterThan"];
        const _amountLessThan = requestParameters["amountLessThan"];
        const _bookingDateGreaterThan = requestParameters["bookingDateGreaterThan"];
        const _bookingDateLessThan = requestParameters["bookingDateLessThan"];
        const _types = requestParameters["types"];
        const _description = requestParameters["description"];
        const _reference = requestParameters["reference"];
        const _typeGroups = requestParameters["typeGroups"];
        const _counterPartyName = requestParameters["counterPartyName"];
        const _counterPartyAccountNumber = requestParameters["counterPartyAccountNumber"];
        const _creditDebitIndicator = requestParameters["creditDebitIndicator"];
        const _categories = requestParameters["categories"];
        const _billingStatus = requestParameters["billingStatus"];
        const _state = requestParameters["state"];
        const _currency = requestParameters["currency"];
        const _notes = requestParameters["notes"];
        const _id = requestParameters["id"];
        const _arrangementId = requestParameters["arrangementId"];
        const _arrangementsIds = requestParameters["arrangementsIds"];
        const _fromCheckSerialNumber = requestParameters["fromCheckSerialNumber"];
        const _toCheckSerialNumber = requestParameters["toCheckSerialNumber"];
        const _checkSerialNumbers = requestParameters["checkSerialNumbers"];
        const _query = requestParameters["query"];
        const _from = requestParameters["from"];
        const _cursor = requestParameters["cursor"];
        const _size = requestParameters["size"];
        const _orderBy = requestParameters["orderBy"];
        const _direction = requestParameters["direction"];
        const _secDirection = requestParameters["secDirection"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_amountGreaterThan !== undefined && _amountGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountGreaterThan, 'amountGreaterThan');
        }
        if (_amountLessThan !== undefined && _amountLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountLessThan, 'amountLessThan');
        }
        if (_bookingDateGreaterThan !== undefined && _bookingDateGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateGreaterThan, 'bookingDateGreaterThan');
        }
        if (_bookingDateLessThan !== undefined && _bookingDateLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateLessThan, 'bookingDateLessThan');
        }
        if (_types) {
            _types.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'types');
            });
        }
        if (_description !== undefined && _description !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _description, 'description');
        }
        if (_reference !== undefined && _reference !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _reference, 'reference');
        }
        if (_typeGroups) {
            _typeGroups.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'typeGroups');
            });
        }
        if (_counterPartyName !== undefined && _counterPartyName !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyName, 'counterPartyName');
        }
        if (_counterPartyAccountNumber !== undefined && _counterPartyAccountNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyAccountNumber, 'counterPartyAccountNumber');
        }
        if (_creditDebitIndicator !== undefined && _creditDebitIndicator !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _creditDebitIndicator, 'creditDebitIndicator');
        }
        if (_categories) {
            _categories.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'categories');
            });
        }
        if (_billingStatus !== undefined && _billingStatus !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _billingStatus, 'billingStatus');
        }
        if (_state !== undefined && _state !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _state, 'state');
        }
        if (_currency !== undefined && _currency !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _currency, 'currency');
        }
        if (_notes !== undefined && _notes !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _notes, 'notes');
        }
        if (_id !== undefined && _id !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _id, 'id');
        }
        if (_arrangementId !== undefined && _arrangementId !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _arrangementId, 'arrangementId');
        }
        if (_arrangementsIds) {
            _arrangementsIds.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'arrangementsIds');
            });
        }
        if (_fromCheckSerialNumber !== undefined && _fromCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _fromCheckSerialNumber, 'fromCheckSerialNumber');
        }
        if (_toCheckSerialNumber !== undefined && _toCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _toCheckSerialNumber, 'toCheckSerialNumber');
        }
        if (_checkSerialNumbers) {
            _checkSerialNumbers.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'checkSerialNumbers');
            });
        }
        if (_query !== undefined && _query !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _query, 'query');
        }
        if (_from !== undefined && _from !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _from, 'from');
        }
        if (_cursor !== undefined && _cursor !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _cursor, 'cursor');
        }
        if (_size !== undefined && _size !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _size, 'size');
        }
        if (_orderBy !== undefined && _orderBy !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _orderBy, 'orderBy');
        }
        if (_direction !== undefined && _direction !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _direction, 'direction');
        }
        if (_secDirection !== undefined && _secDirection !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _secDirection, 'secDirection');
        }
        const queryString = queryParameters.toString();
        return `${this.configuration.basePath}/client-api/v2/transactions${queryString ? `?${queryString}` : ''}`;
    }
    getTransactionsExport(requestParameters, observe = 'body', reportProgress = false, options) {
        const _amountGreaterThan = requestParameters["amountGreaterThan"];
        const _amountLessThan = requestParameters["amountLessThan"];
        const _bookingDateGreaterThan = requestParameters["bookingDateGreaterThan"];
        const _bookingDateLessThan = requestParameters["bookingDateLessThan"];
        const _types = requestParameters["types"];
        const _categories = requestParameters["categories"];
        const _description = requestParameters["description"];
        const _reference = requestParameters["reference"];
        const _typeGroups = requestParameters["typeGroups"];
        const _counterPartyName = requestParameters["counterPartyName"];
        const _counterPartyAccountNumber = requestParameters["counterPartyAccountNumber"];
        const _creditDebitIndicator = requestParameters["creditDebitIndicator"];
        const _billingStatus = requestParameters["billingStatus"];
        const _state = requestParameters["state"];
        const _currency = requestParameters["currency"];
        const _notes = requestParameters["notes"];
        const _id = requestParameters["id"];
        const _arrangementId = requestParameters["arrangementId"];
        const _arrangementsIds = requestParameters["arrangementsIds"];
        const _fromCheckSerialNumber = requestParameters["fromCheckSerialNumber"];
        const _toCheckSerialNumber = requestParameters["toCheckSerialNumber"];
        const _checkSerialNumbers = requestParameters["checkSerialNumbers"];
        const _query = requestParameters["query"];
        const _from = requestParameters["from"];
        const _cursor = requestParameters["cursor"];
        const _size = requestParameters["size"];
        const _orderBy = requestParameters["orderBy"];
        const _direction = requestParameters["direction"];
        const _secDirection = requestParameters["secDirection"];
        const _exportType = requestParameters["exportType"];
        const _locale = requestParameters["locale"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_amountGreaterThan !== undefined && _amountGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountGreaterThan, 'amountGreaterThan');
        }
        if (_amountLessThan !== undefined && _amountLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountLessThan, 'amountLessThan');
        }
        if (_bookingDateGreaterThan !== undefined && _bookingDateGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateGreaterThan, 'bookingDateGreaterThan');
        }
        if (_bookingDateLessThan !== undefined && _bookingDateLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateLessThan, 'bookingDateLessThan');
        }
        if (_types) {
            _types.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'types');
            });
        }
        if (_categories) {
            _categories.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'categories');
            });
        }
        if (_description !== undefined && _description !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _description, 'description');
        }
        if (_reference !== undefined && _reference !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _reference, 'reference');
        }
        if (_typeGroups) {
            _typeGroups.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'typeGroups');
            });
        }
        if (_counterPartyName !== undefined && _counterPartyName !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyName, 'counterPartyName');
        }
        if (_counterPartyAccountNumber !== undefined && _counterPartyAccountNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyAccountNumber, 'counterPartyAccountNumber');
        }
        if (_creditDebitIndicator !== undefined && _creditDebitIndicator !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _creditDebitIndicator, 'creditDebitIndicator');
        }
        if (_billingStatus !== undefined && _billingStatus !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _billingStatus, 'billingStatus');
        }
        if (_state !== undefined && _state !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _state, 'state');
        }
        if (_currency !== undefined && _currency !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _currency, 'currency');
        }
        if (_notes !== undefined && _notes !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _notes, 'notes');
        }
        if (_id !== undefined && _id !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _id, 'id');
        }
        if (_arrangementId !== undefined && _arrangementId !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _arrangementId, 'arrangementId');
        }
        if (_arrangementsIds) {
            _arrangementsIds.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'arrangementsIds');
            });
        }
        if (_fromCheckSerialNumber !== undefined && _fromCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _fromCheckSerialNumber, 'fromCheckSerialNumber');
        }
        if (_toCheckSerialNumber !== undefined && _toCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _toCheckSerialNumber, 'toCheckSerialNumber');
        }
        if (_checkSerialNumbers) {
            _checkSerialNumbers.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'checkSerialNumbers');
            });
        }
        if (_query !== undefined && _query !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _query, 'query');
        }
        if (_from !== undefined && _from !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _from, 'from');
        }
        if (_cursor !== undefined && _cursor !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _cursor, 'cursor');
        }
        if (_size !== undefined && _size !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _size, 'size');
        }
        if (_orderBy !== undefined && _orderBy !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _orderBy, 'orderBy');
        }
        if (_direction !== undefined && _direction !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _direction, 'direction');
        }
        if (_secDirection !== undefined && _secDirection !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _secDirection, 'secDirection');
        }
        if (_exportType !== undefined && _exportType !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _exportType, 'exportType');
        }
        if (_locale !== undefined && _locale !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _locale, 'locale');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/pdf',
                'application/x-ofx',
                'text/csv',
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        return this.httpClient.get(`${this.configuration.basePath}/client-api/v2/transactions/export`, {
            params: queryParameters,
            responseType: "blob",
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getTransactionsExportUrl(requestParameters) {
        const _amountGreaterThan = requestParameters["amountGreaterThan"];
        const _amountLessThan = requestParameters["amountLessThan"];
        const _bookingDateGreaterThan = requestParameters["bookingDateGreaterThan"];
        const _bookingDateLessThan = requestParameters["bookingDateLessThan"];
        const _types = requestParameters["types"];
        const _categories = requestParameters["categories"];
        const _description = requestParameters["description"];
        const _reference = requestParameters["reference"];
        const _typeGroups = requestParameters["typeGroups"];
        const _counterPartyName = requestParameters["counterPartyName"];
        const _counterPartyAccountNumber = requestParameters["counterPartyAccountNumber"];
        const _creditDebitIndicator = requestParameters["creditDebitIndicator"];
        const _billingStatus = requestParameters["billingStatus"];
        const _state = requestParameters["state"];
        const _currency = requestParameters["currency"];
        const _notes = requestParameters["notes"];
        const _id = requestParameters["id"];
        const _arrangementId = requestParameters["arrangementId"];
        const _arrangementsIds = requestParameters["arrangementsIds"];
        const _fromCheckSerialNumber = requestParameters["fromCheckSerialNumber"];
        const _toCheckSerialNumber = requestParameters["toCheckSerialNumber"];
        const _checkSerialNumbers = requestParameters["checkSerialNumbers"];
        const _query = requestParameters["query"];
        const _from = requestParameters["from"];
        const _cursor = requestParameters["cursor"];
        const _size = requestParameters["size"];
        const _orderBy = requestParameters["orderBy"];
        const _direction = requestParameters["direction"];
        const _secDirection = requestParameters["secDirection"];
        const _exportType = requestParameters["exportType"];
        const _locale = requestParameters["locale"];
        let queryParameters = new HttpParams({ encoder: this.encoder });
        if (_amountGreaterThan !== undefined && _amountGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountGreaterThan, 'amountGreaterThan');
        }
        if (_amountLessThan !== undefined && _amountLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _amountLessThan, 'amountLessThan');
        }
        if (_bookingDateGreaterThan !== undefined && _bookingDateGreaterThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateGreaterThan, 'bookingDateGreaterThan');
        }
        if (_bookingDateLessThan !== undefined && _bookingDateLessThan !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _bookingDateLessThan, 'bookingDateLessThan');
        }
        if (_types) {
            _types.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'types');
            });
        }
        if (_categories) {
            _categories.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'categories');
            });
        }
        if (_description !== undefined && _description !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _description, 'description');
        }
        if (_reference !== undefined && _reference !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _reference, 'reference');
        }
        if (_typeGroups) {
            _typeGroups.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'typeGroups');
            });
        }
        if (_counterPartyName !== undefined && _counterPartyName !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyName, 'counterPartyName');
        }
        if (_counterPartyAccountNumber !== undefined && _counterPartyAccountNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _counterPartyAccountNumber, 'counterPartyAccountNumber');
        }
        if (_creditDebitIndicator !== undefined && _creditDebitIndicator !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _creditDebitIndicator, 'creditDebitIndicator');
        }
        if (_billingStatus !== undefined && _billingStatus !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _billingStatus, 'billingStatus');
        }
        if (_state !== undefined && _state !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _state, 'state');
        }
        if (_currency !== undefined && _currency !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _currency, 'currency');
        }
        if (_notes !== undefined && _notes !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _notes, 'notes');
        }
        if (_id !== undefined && _id !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _id, 'id');
        }
        if (_arrangementId !== undefined && _arrangementId !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _arrangementId, 'arrangementId');
        }
        if (_arrangementsIds) {
            _arrangementsIds.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'arrangementsIds');
            });
        }
        if (_fromCheckSerialNumber !== undefined && _fromCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _fromCheckSerialNumber, 'fromCheckSerialNumber');
        }
        if (_toCheckSerialNumber !== undefined && _toCheckSerialNumber !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _toCheckSerialNumber, 'toCheckSerialNumber');
        }
        if (_checkSerialNumbers) {
            _checkSerialNumbers.forEach((element) => {
                queryParameters = this.addToHttpParams(queryParameters, element, 'checkSerialNumbers');
            });
        }
        if (_query !== undefined && _query !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _query, 'query');
        }
        if (_from !== undefined && _from !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _from, 'from');
        }
        if (_cursor !== undefined && _cursor !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _cursor, 'cursor');
        }
        if (_size !== undefined && _size !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _size, 'size');
        }
        if (_orderBy !== undefined && _orderBy !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _orderBy, 'orderBy');
        }
        if (_direction !== undefined && _direction !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _direction, 'direction');
        }
        if (_secDirection !== undefined && _secDirection !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _secDirection, 'secDirection');
        }
        if (_exportType !== undefined && _exportType !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _exportType, 'exportType');
        }
        if (_locale !== undefined && _locale !== null) {
            queryParameters = this.addToHttpParams(queryParameters, _locale, 'locale');
        }
        const queryString = queryParameters.toString();
        return `${this.configuration.basePath}/client-api/v2/transactions/export${queryString ? `?${queryString}` : ''}`;
    }
    getTransactionsExportWithPost(requestParameters, observe = 'body', reportProgress = false, options) {
        const _transactionListRequest = requestParameters["transactionListRequest"];
        if (_transactionListRequest === null || _transactionListRequest === undefined) {
            throw new Error('Required parameter transactionListRequest was null or undefined when calling getTransactionsExportWithPost.');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/pdf',
                'application/x-ofx',
                'text/csv',
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        const consumes = [
            'application/json'
        ];
        const httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
        if (httpContentTypeSelected !== undefined) {
            headers = headers.set('Content-Type', httpContentTypeSelected);
        }
        return this.httpClient.post(`${this.configuration.basePath}/client-api/v2/transactions/export`, _transactionListRequest, {
            responseType: "blob",
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getTransactionsExportWithPostUrl(requestParameters) {
        const _transactionListRequest = requestParameters["transactionListRequest"];
        if (_transactionListRequest === null || _transactionListRequest === undefined) {
            throw new Error('Required parameter transactionListRequest was null or undefined when calling getTransactionsExportWithPost.');
        }
        return `${this.configuration.basePath}/client-api/v2/transactions/export`;
    }
    getTransactionsWithPost(requestParameters, observe = 'body', reportProgress = false, options) {
        const _transactionListRequest = requestParameters["transactionListRequest"];
        if (_transactionListRequest === null || _transactionListRequest === undefined) {
            throw new Error('Required parameter transactionListRequest was null or undefined when calling getTransactionsWithPost.');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        const consumes = [
            'application/json'
        ];
        const httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
        if (httpContentTypeSelected !== undefined) {
            headers = headers.set('Content-Type', httpContentTypeSelected);
        }
        let responseType = 'json';
        if (httpHeaderAcceptSelected && httpHeaderAcceptSelected.startsWith('text')) {
            responseType = 'text';
        }
        return this.httpClient.post(`${this.configuration.basePath}/client-api/v2/transactions`, _transactionListRequest, {
            responseType: responseType,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getTransactionsWithPostUrl(requestParameters) {
        const _transactionListRequest = requestParameters["transactionListRequest"];
        if (_transactionListRequest === null || _transactionListRequest === undefined) {
            throw new Error('Required parameter transactionListRequest was null or undefined when calling getTransactionsWithPost.');
        }
        return `${this.configuration.basePath}/client-api/v2/transactions`;
    }
    patchTransactions(requestParameters, observe = 'body', reportProgress = false, options) {
        const _transactionsClientPatchRequestBody = requestParameters["transactionsClientPatchRequestBody"];
        if (_transactionsClientPatchRequestBody === null || _transactionsClientPatchRequestBody === undefined) {
            throw new Error('Required parameter transactionsClientPatchRequestBody was null or undefined when calling patchTransactions.');
        }
        let headers = this.defaultHeaders;
        let httpHeaderAcceptSelected = options && options.httpHeaderAccept;
        if (httpHeaderAcceptSelected === undefined) {
            const httpHeaderAccepts = [
                'application/json'
            ];
            httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        }
        if (httpHeaderAcceptSelected !== undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        const consumes = [
            'application/json'
        ];
        const httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
        if (httpContentTypeSelected !== undefined) {
            headers = headers.set('Content-Type', httpContentTypeSelected);
        }
        let responseType = 'json';
        if (httpHeaderAcceptSelected && httpHeaderAcceptSelected.startsWith('text')) {
            responseType = 'text';
        }
        return this.httpClient.patch(`${this.configuration.basePath}/client-api/v2/transactions`, _transactionsClientPatchRequestBody, {
            responseType: responseType,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    patchTransactionsUrl(requestParameters) {
        const _transactionsClientPatchRequestBody = requestParameters["transactionsClientPatchRequestBody"];
        if (_transactionsClientPatchRequestBody === null || _transactionsClientPatchRequestBody === undefined) {
            throw new Error('Required parameter transactionsClientPatchRequestBody was null or undefined when calling patchTransactions.');
        }
        return `${this.configuration.basePath}/client-api/v2/transactions`;
    }
}
TransactionClientHttpService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TransactionClientHttpService, deps: [{ token: i1.HttpClient }, { token: TRANSACTIONS_BASE_PATH, optional: true }, { token: i2.TransactionsConfiguration, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });
TransactionClientHttpService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TransactionClientHttpService, providedIn: 'root' });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: TransactionClientHttpService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [TRANSACTIONS_BASE_PATH]
                }] }, { type: i2.TransactionsConfiguration, decorators: [{
                    type: Optional
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb25DbGllbnQuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2FwaS90cmFuc2FjdGlvbkNsaWVudC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUEyQixlQUFlLENBQUM7QUFDbEYsT0FBTyxFQUFjLFdBQVcsRUFBRSxVQUFVLEVBQ1UsTUFBWSxzQkFBc0IsQ0FBQztBQUN6RixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBK0IsWUFBWSxDQUFDO0FBaUIvRSxPQUFPLEVBQUUsc0JBQXNCLEVBQXNCLE1BQTBCLGNBQWMsQ0FBQztBQUM5RixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBMEMsa0JBQWtCLENBQUM7Ozs7QUE2SmpHLE1BQU0sT0FBTyw0QkFBNEI7SUFPckMsWUFBc0IsVUFBc0IsRUFBOEMsUUFBZ0IsRUFBYyxhQUF3QztRQUExSSxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBTGxDLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFDakIsbUJBQWMsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO1FBQ25DLGtCQUFhLEdBQUcsSUFBSSx5QkFBeUIsRUFBRSxDQUFDO1FBSW5ELElBQUksYUFBYSxFQUFFO1lBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7U0FDdEM7UUFDRCxJQUFJLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFFO1lBQ2pELElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO2dCQUM5QixRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUM1QjtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztTQUMxQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLElBQUksSUFBSSx3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dHJpZXZlIGEgc29ydGVkIGxpc3Qgb2YgdHJhbnNhY3Rpb25zLCBzZWFyY2ggYW5kIGZpbHRlciB0cmFuc2FjdGlvbiBsaXN0cywgZXhwb3J0IHRyYW5zYWN0aW9ucywgYW5kIGFkZCBub3RlcyB0byBpbmRpdmlkdWFsIHRyYW5zYWN0aW9ucy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMi42LjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vZ2l0aHViLmNvbS9CYWNrYmFzZS9iYWNrYmFzZS1vcGVuYXBpLXRvb2xzKS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9CYWNrYmFzZS9iYWNrYmFzZS1vcGVuYXBpLXRvb2xzXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50LCBIdHRwUGFyYW1ldGVyQ29kZWMgfSAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwUGFyYW1ldGVyQ29kZWMgfSAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IEJhZFJlcXVlc3RFcnJvciB9IGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDcmVkaXREZWJpdEluZGljYXRvciB9IGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lR2V0UmVzcG9uc2VCb2R5IH0gZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IEZvcmJpZGRlbkVycm9yIH0gZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IEludGVybmFsU2VydmVyRXJyb3IgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgTm90Rm91bmRFcnJvciB9IGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBTb3J0RGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNSZXNwb25zZSB9IGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkl0ZW0gfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25MaXN0UmVxdWVzdCB9IGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblN0YXRlIH0gZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uc0NsaWVudFBhdGNoUmVxdWVzdEJvZHkgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgVW5hdXRob3JpemVkRXJyb3IgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuXG5pbXBvcnQgeyBUUkFOU0FDVElPTlNfQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbnNDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuZXhwb3J0IGludGVyZmFjZSBHZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lUmVxdWVzdFBhcmFtcyB7XG4gICAgLyoqIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBnZXQgKi9cbiAgICBbXCJhdHRyaWJ1dGVOYW1lXCJdOiBzdHJpbmc7XG4gICAgLyoqIFN1Yi1kb21haW4gb2YgdGhlIGF0dHJpYnV0ZSB0byBnZXQgKi9cbiAgICBbXCJzdWJEb21haW5cIl0/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlc1JlcXVlc3RQYXJhbXMge1xuICAgIC8qKiBJbnRlcm5hbCB0cmFuc2FjdGlvbiBJRCAqL1xuICAgIFtcInRyYW5zYWN0aW9uSWRcIl06IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRUcmFuc2FjdGlvbnNSZXF1ZXN0UGFyYW1zIHtcbiAgICAvKiogVmFsdWUgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBhbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gKi9cbiAgICBbXCJhbW91bnRHcmVhdGVyVGhhblwiXT86IG51bWJlcjtcbiAgICAvKiogVmFsdWUgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBhbW91bnQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gKi9cbiAgICBbXCJhbW91bnRMZXNzVGhhblwiXT86IG51bWJlcjtcbiAgICAvKiogRGF0ZSB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIGJvb2tpbmcgZGF0ZSBtdXN0IGJlIGFmdGVyIG9yIGVxdWFsIHRvICovXG4gICAgW1wiYm9va2luZ0RhdGVHcmVhdGVyVGhhblwiXT86IHN0cmluZztcbiAgICAvKiogRGF0ZSB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIGJvb2tpbmcgZGF0ZSBtdXN0IGJlIGJlZm9yZSBvciBlcXVhbCB0byAqL1xuICAgIFtcImJvb2tpbmdEYXRlTGVzc1RoYW5cIl0/OiBzdHJpbmc7XG4gICAgLyoqIExpc3Qgb2YgdHlwZXMgdGhhdCB0aGUgdHJhbnNhY3Rpb24gbXVzdCBoYXZlIG9uZSBvZiAqL1xuICAgIFtcInR5cGVzXCJdPzogQXJyYXk8c3RyaW5nPjtcbiAgICAvKiogVGV4dCB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIGRlc2NyaXB0aW9uIG11c3QgbWF0Y2ggKi9cbiAgICBbXCJkZXNjcmlwdGlvblwiXT86IHN0cmluZztcbiAgICAvKiogVGV4dCB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIHJlZmVyZW5jZSBtdXN0IG1hdGNoICovXG4gICAgW1wicmVmZXJlbmNlXCJdPzogc3RyaW5nO1xuICAgIC8qKiBMaXN0IG9mIHR5cGUgZ3JvdXBzIHRoYXQgdGhlIHRyYW5zYWN0aW9uIG11c3QgaGF2ZSBvbmUgb2YgKi9cbiAgICBbXCJ0eXBlR3JvdXBzXCJdPzogQXJyYXk8c3RyaW5nPjtcbiAgICAvKiogVGV4dCB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIGNvdW50ZXJwYXJ0eSBuYW1lIG11c3QgY29udGFpbiAqL1xuICAgIFtcImNvdW50ZXJQYXJ0eU5hbWVcIl0/OiBzdHJpbmc7XG4gICAgLyoqIFRleHQgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBjb3VudGVycGFydHkgYWNjb3VudCBudW1iZXIgbXVzdCBtYXRjaCAqL1xuICAgIFtcImNvdW50ZXJQYXJ0eUFjY291bnROdW1iZXJcIl0/OiBzdHJpbmc7XG4gICAgLyoqIENyZWRpdC9EZWJpdCBJbmRpY2F0b3IgdGhhdCB0aGUgdHJhbnNhY3Rpb24gbXVzdCBiZSBlcXVhbCB0byAqL1xuICAgIFtcImNyZWRpdERlYml0SW5kaWNhdG9yXCJdPzogQ3JlZGl0RGViaXRJbmRpY2F0b3I7XG4gICAgLyoqIExpc3Qgb2YgY2F0ZWdvcmllcyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBtdXN0IGhhdmUgb25lIG9mICovXG4gICAgW1wiY2F0ZWdvcmllc1wiXT86IEFycmF5PHN0cmluZz47XG4gICAgLyoqIFRleHQgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBiaWxsaW5nIHN0YXR1cyBtdXN0IG1hdGNoICovXG4gICAgW1wiYmlsbGluZ1N0YXR1c1wiXT86IHN0cmluZztcbiAgICAvKiogU3RhdGUgdGhlIHRyYW5zYWN0aW9uIG11c3QgYmUgaW4gKi9cbiAgICBbXCJzdGF0ZVwiXT86IFRyYW5zYWN0aW9uU3RhdGU7XG4gICAgLyoqIEN1cnJlbmN5IHRoZSB0cmFuc2FjdGlvbiBtdXN0IG1hdGNoICovXG4gICAgW1wiY3VycmVuY3lcIl0/OiBzdHJpbmc7XG4gICAgLyoqIEluZGljYXRlcyB3aGV0aGVyIG9ubHkgdHJhbnNhY3Rpb25zIGNvbnRhaW5pbmcgbm90ZXMgbXVzdCBiZSByZXRyaWV2ZWQgKDEgbWVhbnMgdHJ1ZSkgKi9cbiAgICBbXCJub3Rlc1wiXT86IG51bWJlcjtcbiAgICAvKiogVHJhbnNhY3Rpb24gSUQgdGhhdCBtdXN0IGJlIHJldHJpZXZlZCAqL1xuICAgIFtcImlkXCJdPzogc3RyaW5nO1xuICAgIC8qKiBBcnJhbmdlbWVudCBJRCBvZiB0cmFuc2FjdGlvbnMgdGhhdCBtdXN0IGJlIHJldHJpZXZlZCAqL1xuICAgIFtcImFycmFuZ2VtZW50SWRcIl0/OiBzdHJpbmc7XG4gICAgLyoqIExpc3Qgb2YgQXJyYW5nZW1lbnQgSURzIHRvIHdoaWNoIHRyYW5zYWN0aW9ucyBtdXN0IGJlbG9uZyB0byAqL1xuICAgIFtcImFycmFuZ2VtZW50c0lkc1wiXT86IEFycmF5PHN0cmluZz47XG4gICAgLyoqIFZhbHVlIHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgY2hlY2sgc2VyaWFsIG51bWJlciBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAqL1xuICAgIFtcImZyb21DaGVja1NlcmlhbE51bWJlclwiXT86IG51bWJlcjtcbiAgICAvKiogVmFsdWUgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBjaGVjayBzZXJpYWwgbnVtYmVyIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICovXG4gICAgW1widG9DaGVja1NlcmlhbE51bWJlclwiXT86IG51bWJlcjtcbiAgICAvKiogTGlzdCBvZiBjaGVjayBzZXJpYWwgbnVtYmVycyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBtdXN0IGhhdmUgb25lIG9mICovXG4gICAgW1wiY2hlY2tTZXJpYWxOdW1iZXJzXCJdPzogQXJyYXk8bnVtYmVyPjtcbiAgICAvKiogU2VhcmNoIHRlcm0gdGhhdCBvbmUgb2YgdGhlIGZpZWxkcyBjb25maWd1cmVkIGluIFxcJnF1b3Q7YmFja2Jhc2UudHJhbnNhY3Rpb24uc2VhcmNoLmZpZWxkc1xcJnF1b3Q7IG11c3QgY29udGFpbiAqL1xuICAgIFtcInF1ZXJ5XCJdPzogc3RyaW5nO1xuICAgIC8qKiBQYWdlIG51bWJlciB0byByZXRyaWV2ZSB0cmFuc2FjdGlvbnMgKi9cbiAgICBbXCJmcm9tXCJdPzogbnVtYmVyO1xuICAgIC8qKiBBcyBhbiBhbHRlcm5hdGl2ZSBmb3Igc3BlY2lmeWluZyBcXCYjMzk7ZnJvbVxcJiMzOTsgdGhpcyBhbGxvd3MgcG9pbnRpbmcgdG8gYSByZWNvcmQgdG8gc3RhcnQgdGhlIHJldHJpZXZhbCBmcm9tLiBOb3Qgc3VwcG9ydGVkIG91dCBvZiB0aGUgYm94LiAgKi9cbiAgICBbXCJjdXJzb3JcIl0/OiBzdHJpbmc7XG4gICAgLyoqIExpbWl0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgb24gdGhlIHJlc3BvbnNlLiBXaGVuIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBjdXJzb3IsIHRoZSB2YWx1ZSBpcyBhbGxvd2VkIHRvIGJlIGEgbmVnYXRpdmUgbnVtYmVyIHRvIGluZGljYXRlIHJlcXVlc3RpbmcgcmVjb3JkcyB1cHdhcmRzIGZyb20gdGhlIHN0YXJ0aW5nIHBvaW50IGluZGljYXRlZCBieSB0aGUgY3Vyc29yLiAgKi9cbiAgICBbXCJzaXplXCJdPzogbnVtYmVyO1xuICAgIC8qKiBGaWVsZCBuYW1lIHRoYXQgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyBtdXN0IGJlIG9yZGVyZWQgYnksIG9uZSBvZiB0aGUgZm9sbG93aW5nOiAqIGRlc2NyaXB0aW9uICogYm9va2luZ0RhdGUgKiBhcnJhbmdlbWVudElkICogcmVmZXJlbmNlICogdHlwZUdyb3VwICogdHlwZSAqIGNhdGVnb3J5ICogdmFsdWVEYXRlICogYW1vdW50ICogY3VycmVuY3kgKiBjcmVkaXREZWJpdEluZGljYXRvciAqIGluc3RydWN0ZWRBbW91bnQgKiBpbnN0cnVjdGVkQ3VycmVuY3kgKiBjdXJyZW5jeUV4Y2hhbmdlUmF0ZSAqIGNvdW50ZXJQYXJ0eU5hbWUgKiBjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICogY2hlY2tTZXJpYWxOdW1iZXIgKiBjcmVhdGlvblRpbWUgICovXG4gICAgW1wib3JkZXJCeVwiXT86IHN0cmluZztcbiAgICAvKiogUHJpbWFyeSBzb3J0aW5nIGRpcmVjdGlvbiBmb3IgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyAqL1xuICAgIFtcImRpcmVjdGlvblwiXT86IFNvcnREaXJlY3Rpb247XG4gICAgLyoqIFNlY29uZGFyeSBzb3J0aW5nIGRpcmVjdGlvbiBmb3IgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyAqL1xuICAgIFtcInNlY0RpcmVjdGlvblwiXT86IFNvcnREaXJlY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VHJhbnNhY3Rpb25zRXhwb3J0UmVxdWVzdFBhcmFtcyB7XG4gICAgLyoqIFZhbHVlIHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgYW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICovXG4gICAgW1wiYW1vdW50R3JlYXRlclRoYW5cIl0/OiBudW1iZXI7XG4gICAgLyoqIFZhbHVlIHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgYW1vdW50IG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICovXG4gICAgW1wiYW1vdW50TGVzc1RoYW5cIl0/OiBudW1iZXI7XG4gICAgLyoqIERhdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBib29raW5nIGRhdGUgbXVzdCBiZSBhZnRlciBvciBlcXVhbCB0byAqL1xuICAgIFtcImJvb2tpbmdEYXRlR3JlYXRlclRoYW5cIl0/OiBzdHJpbmc7XG4gICAgLyoqIERhdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBib29raW5nIGRhdGUgbXVzdCBiZSBiZWZvcmUgb3IgZXF1YWwgdG8gKi9cbiAgICBbXCJib29raW5nRGF0ZUxlc3NUaGFuXCJdPzogc3RyaW5nO1xuICAgIC8qKiBMaXN0IG9mIHR5cGVzIHRoYXQgdGhlIHRyYW5zYWN0aW9uIG11c3QgaGF2ZSBvbmUgb2YgKi9cbiAgICBbXCJ0eXBlc1wiXT86IEFycmF5PHN0cmluZz47XG4gICAgLyoqIExpc3Qgb2YgY2F0ZWdvcmllcyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBtdXN0IGhhdmUgb25lIG9mICovXG4gICAgW1wiY2F0ZWdvcmllc1wiXT86IEFycmF5PHN0cmluZz47XG4gICAgLyoqIFRleHQgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBkZXNjcmlwdGlvbiBtdXN0IG1hdGNoICovXG4gICAgW1wiZGVzY3JpcHRpb25cIl0/OiBzdHJpbmc7XG4gICAgLyoqIFRleHQgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyByZWZlcmVuY2UgbXVzdCBtYXRjaCAqL1xuICAgIFtcInJlZmVyZW5jZVwiXT86IHN0cmluZztcbiAgICAvKiogTGlzdCBvZiB0eXBlIGdyb3VwcyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBtdXN0IGhhdmUgb25lIG9mICovXG4gICAgW1widHlwZUdyb3Vwc1wiXT86IEFycmF5PHN0cmluZz47XG4gICAgLyoqIFRleHQgdGhhdCB0aGUgdHJhbnNhY3Rpb25cXCYjMzk7cyBjb3VudGVycGFydHkgbmFtZSBtdXN0IGNvbnRhaW4gKi9cbiAgICBbXCJjb3VudGVyUGFydHlOYW1lXCJdPzogc3RyaW5nO1xuICAgIC8qKiBUZXh0IHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgY291bnRlcnBhcnR5IGFjY291bnQgbnVtYmVyIG11c3QgbWF0Y2ggKi9cbiAgICBbXCJjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyXCJdPzogc3RyaW5nO1xuICAgIC8qKiBDcmVkaXQvRGViaXQgSW5kaWNhdG9yIHRoYXQgdGhlIHRyYW5zYWN0aW9uIG11c3QgYmUgZXF1YWwgdG8gKi9cbiAgICBbXCJjcmVkaXREZWJpdEluZGljYXRvclwiXT86IENyZWRpdERlYml0SW5kaWNhdG9yO1xuICAgIC8qKiBUZXh0IHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgYmlsbGluZyBzdGF0dXMgbXVzdCBtYXRjaCAqL1xuICAgIFtcImJpbGxpbmdTdGF0dXNcIl0/OiBzdHJpbmc7XG4gICAgLyoqIFN0YXRlIHRoZSB0cmFuc2FjdGlvbiBtdXN0IGJlIGluICovXG4gICAgW1wic3RhdGVcIl0/OiBUcmFuc2FjdGlvblN0YXRlO1xuICAgIC8qKiBDdXJyZW5jeSB0aGUgdHJhbnNhY3Rpb24gbXVzdCBtYXRjaCAqL1xuICAgIFtcImN1cnJlbmN5XCJdPzogc3RyaW5nO1xuICAgIC8qKiBJbmRpY2F0ZXMgd2hldGhlciBvbmx5IHRyYW5zYWN0aW9ucyBjb250YWluaW5nIG5vdGVzIG11c3QgYmUgcmV0cmlldmVkICgxIG1lYW5zIHRydWUpICovXG4gICAgW1wibm90ZXNcIl0/OiBudW1iZXI7XG4gICAgLyoqIFRyYW5zYWN0aW9uIElEIHRoYXQgbXVzdCBiZSByZXRyaWV2ZWQgKi9cbiAgICBbXCJpZFwiXT86IHN0cmluZztcbiAgICAvKiogQXJyYW5nZW1lbnQgSUQgb2YgdHJhbnNhY3Rpb25zIHRoYXQgbXVzdCBiZSByZXRyaWV2ZWQgKi9cbiAgICBbXCJhcnJhbmdlbWVudElkXCJdPzogc3RyaW5nO1xuICAgIC8qKiBMaXN0IG9mIEFycmFuZ2VtZW50IElEcyB0byB3aGljaCB0cmFuc2FjdGlvbnMgbXVzdCBiZWxvbmcgdG8gKi9cbiAgICBbXCJhcnJhbmdlbWVudHNJZHNcIl0/OiBBcnJheTxzdHJpbmc+O1xuICAgIC8qKiBWYWx1ZSB0aGF0IHRoZSB0cmFuc2FjdGlvblxcJiMzOTtzIGNoZWNrIHNlcmlhbCBudW1iZXIgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gKi9cbiAgICBbXCJmcm9tQ2hlY2tTZXJpYWxOdW1iZXJcIl0/OiBudW1iZXI7XG4gICAgLyoqIFZhbHVlIHRoYXQgdGhlIHRyYW5zYWN0aW9uXFwmIzM5O3MgY2hlY2sgc2VyaWFsIG51bWJlciBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAqL1xuICAgIFtcInRvQ2hlY2tTZXJpYWxOdW1iZXJcIl0/OiBudW1iZXI7XG4gICAgLyoqIExpc3Qgb2YgY2hlY2sgc2VyaWFsIG51bWJlcnMgdGhhdCB0aGUgdHJhbnNhY3Rpb24gbXVzdCBoYXZlIG9uZSBvZiAqL1xuICAgIFtcImNoZWNrU2VyaWFsTnVtYmVyc1wiXT86IEFycmF5PG51bWJlcj47XG4gICAgLyoqIFNlYXJjaCB0ZXJtIHRoYXQgb25lIHRoZSBmb2xsb3dpbmcgZmllbGRzIG9mIHRyYW5zYWN0aW9ucyByZXRyaWV2ZWQgbXVzdCBjb250YWluOiAqIHJlZmVyZW5jZSAqIGRlc2NyaXB0aW9uICogdHlwZUdyb3VwICogdHlwZSAqIGNvdW50ZXJQYXJ0eU5hbWUgKiBjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICogY291bnRlclBhcnR5QklDICogY291bnRlclBhcnR5Q291bnRyeSAqIGNvdW50ZXJQYXJ0eUJhbmtOYW1lICogY2F0ZWdvcnkgKiBjaGVja1NlcmlhbE51bWJlciAqIG5vdGVzICAqL1xuICAgIFtcInF1ZXJ5XCJdPzogc3RyaW5nO1xuICAgIC8qKiBQYWdlIG51bWJlciB0byByZXRyaWV2ZSB0cmFuc2FjdGlvbnMgKi9cbiAgICBbXCJmcm9tXCJdPzogbnVtYmVyO1xuICAgIC8qKiBBcyBhbiBhbHRlcm5hdGl2ZSBmb3Igc3BlY2lmeWluZyBcXCYjMzk7ZnJvbVxcJiMzOTsgdGhpcyBhbGxvd3MgcG9pbnRpbmcgdG8gYSByZWNvcmQgdG8gc3RhcnQgdGhlIHJldHJpZXZhbCBmcm9tLiBOb3Qgc3VwcG9ydGVkIG91dCBvZiB0aGUgYm94LiAgKi9cbiAgICBbXCJjdXJzb3JcIl0/OiBzdHJpbmc7XG4gICAgLyoqIE51bWJlciBvZiB0cmFuc2FjdGlvbnMgdG8gcmV0cmlldmUgKi9cbiAgICBbXCJzaXplXCJdPzogbnVtYmVyO1xuICAgIC8qKiBGaWVsZCBuYW1lIHRoYXQgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyBtdXN0IGJlIG9yZGVyZWQgYnksIG9uZSBvZiB0aGUgZm9sbG93aW5nOiAqIGRlc2NyaXB0aW9uICogYm9va2luZ0RhdGUgKiBhcnJhbmdlbWVudElkICogcmVmZXJlbmNlICogdHlwZUdyb3VwICogdHlwZSAqIGNhdGVnb3J5ICogdmFsdWVEYXRlICogYW1vdW50ICogY3VycmVuY3kgKiBjcmVkaXREZWJpdEluZGljYXRvciAqIGluc3RydWN0ZWRBbW91bnQgKiBpbnN0cnVjdGVkQ3VycmVuY3kgKiBjdXJyZW5jeUV4Y2hhbmdlUmF0ZSAqIGNvdW50ZXJQYXJ0eU5hbWUgKiBjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICogY2hlY2tTZXJpYWxOdW1iZXIgKiBjcmVhdGlvblRpbWUgICovXG4gICAgW1wib3JkZXJCeVwiXT86IHN0cmluZztcbiAgICAvKiogUHJpbWFyeSBzb3J0aW5nIGRpcmVjdGlvbiBmb3IgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyAqL1xuICAgIFtcImRpcmVjdGlvblwiXT86IFNvcnREaXJlY3Rpb247XG4gICAgLyoqIFNlY29uZGFyeSBzb3J0aW5nIGRpcmVjdGlvbiBmb3IgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyAqL1xuICAgIFtcInNlY0RpcmVjdGlvblwiXT86IFNvcnREaXJlY3Rpb247XG4gICAgLyoqIEV4cG9ydCB0eXBlLCB0aGUgZm9sbG93aW5nIG9uZXMgYXJlIHN1cHBvcnRlZCBPT1RCOiAqIENTViAqIE9GWCAqIFBERiAgKi9cbiAgICBbXCJleHBvcnRUeXBlXCJdPzogc3RyaW5nO1xuICAgIC8qKiBMb2NhbGUgZm9yIGV4cG9ydGluZyBwZGYgaW4gdGhlIHVzZXIgbG9jYWxlICovXG4gICAgW1wibG9jYWxlXCJdPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcyB7XG4gICAgW1widHJhbnNhY3Rpb25MaXN0UmVxdWVzdFwiXTogVHJhbnNhY3Rpb25MaXN0UmVxdWVzdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRUcmFuc2FjdGlvbnNXaXRoUG9zdFJlcXVlc3RQYXJhbXMge1xuICAgIFtcInRyYW5zYWN0aW9uTGlzdFJlcXVlc3RcIl06IFRyYW5zYWN0aW9uTGlzdFJlcXVlc3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF0Y2hUcmFuc2FjdGlvbnNSZXF1ZXN0UGFyYW1zIHtcbiAgICBbXCJ0cmFuc2FjdGlvbnNDbGllbnRQYXRjaFJlcXVlc3RCb2R5XCJdOiBBcnJheTxUcmFuc2FjdGlvbnNDbGllbnRQYXRjaFJlcXVlc3RCb2R5Pjtcbn1cblxuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbkNsaWVudEh0dHBTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICcnO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uID0gbmV3IFRyYW5zYWN0aW9uc0NvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZW5jb2RlcjogSHR0cFBhcmFtZXRlckNvZGVjO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpIEBJbmplY3QoVFJBTlNBQ1RJT05TX0JBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogVHJhbnNhY3Rpb25zQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYmFzZVBhdGggPSB0aGlzLmJhc2VQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmNvZGVyID0gdGhpcy5jb25maWd1cmF0aW9uLmVuY29kZXIgfHwgbmV3IEN1c3RvbUh0dHBQYXJhbWV0ZXJDb2RlYygpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBhZGRUb0h0dHBQYXJhbXMoaHR0cFBhcmFtczogSHR0cFBhcmFtcywgdmFsdWU6IGFueSwga2V5Pzogc3RyaW5nKTogSHR0cFBhcmFtcyB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgaW5zdGFuY2VvZiBEYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaHR0cFBhcmFtcyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zUmVjdXJzaXZlKGh0dHBQYXJhbXMsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0dHBQYXJhbXMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtc1JlY3Vyc2l2ZShodHRwUGFyYW1zLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHR0cFBhcmFtcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFRvSHR0cFBhcmFtc1JlY3Vyc2l2ZShodHRwUGFyYW1zOiBIdHRwUGFyYW1zLCB2YWx1ZT86IGFueSwga2V5Pzogc3RyaW5nKTogSHR0cFBhcmFtcyB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaHR0cFBhcmFtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICh2YWx1ZSBhcyBhbnlbXSkuZm9yRWFjaCggZWxlbSA9PiBodHRwUGFyYW1zID0gdGhpcy5hZGRUb0h0dHBQYXJhbXNSZWN1cnNpdmUoaHR0cFBhcmFtcywgZWxlbSwga2V5KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBodHRwUGFyYW1zID0gaHR0cFBhcmFtcy5hcHBlbmQoa2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlIGFzIERhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImtleSBtYXkgbm90IGJlIG51bGwgaWYgdmFsdWUgaXMgRGF0ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKCBrID0+IGh0dHBQYXJhbXMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtc1JlY3Vyc2l2ZShcbiAgICAgICAgICAgICAgICAgICAgaHR0cFBhcmFtcywgdmFsdWVba10sIGtleSAhPSBudWxsID8gYCR7a2V5fS4ke2t9YCA6IGspKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaHR0cFBhcmFtcyA9IGh0dHBQYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJrZXkgbWF5IG5vdCBiZSBudWxsIGlmIHZhbHVlIGlzIG5vdCBvYmplY3Qgb3IgYXJyYXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0dHBQYXJhbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsdWVzIGF2YWlsYWJsZSBmb3IgZW51bWVyYXRlZCBhdHRyaWJ1dGVzXG4gICAgICogUmV0cmlldmVzIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxBcnJheTxFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lR2V0UmVzcG9uc2VCb2R5Pj47XG4gICAgLyoqXG4gICAgICogVmFsdWVzIGF2YWlsYWJsZSBmb3IgZW51bWVyYXRlZCBhdHRyaWJ1dGVzXG4gICAgICogUmV0cmlldmVzIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5PEVudW1WYWx1ZXNCeUF0dHJpYnV0ZU5hbWVHZXRSZXNwb25zZUJvZHk+Pj47XG4gICAgLyoqXG4gICAgICogVmFsdWVzIGF2YWlsYWJsZSBmb3IgZW51bWVyYXRlZCBhdHRyaWJ1dGVzXG4gICAgICogUmV0cmlldmVzIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheTxFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lR2V0UmVzcG9uc2VCb2R5Pj4+O1xuICAgIC8qKlxuICAgICAqIFZhbHVlcyBhdmFpbGFibGUgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlc1xuICAgICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgcG9zc2libGUgdmFsdWVzIGZvciBlbnVtZXJhdGVkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RW51bVZhbHVlc0J5QXR0cmlidXRlTmFtZShyZXF1ZXN0UGFyYW1ldGVyczogR2V0RW51bVZhbHVlc0J5QXR0cmlidXRlTmFtZVJlcXVlc3RQYXJhbXMsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGNvbnN0IF9hdHRyaWJ1dGVOYW1lID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhdHRyaWJ1dGVOYW1lXCJdO1xuICAgICAgICBpZiAoX2F0dHJpYnV0ZU5hbWUgPT09IG51bGwgfHwgX2F0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYXR0cmlidXRlTmFtZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldEVudW1WYWx1ZXNCeUF0dHJpYnV0ZU5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgX3N1YkRvbWFpbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic3ViRG9tYWluXCJdO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogdGhpcy5lbmNvZGVyfSk7XG4gICAgICAgIGlmIChfc3ViRG9tYWluICE9PSB1bmRlZmluZWQgJiYgX3N1YkRvbWFpbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3N1YkRvbWFpbiwgJ3N1YkRvbWFpbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5odHRwSGVhZGVyQWNjZXB0O1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICAgICAgY29uc3QgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdBY2NlcHQnLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgcmVzcG9uc2VUeXBlOiAndGV4dCcgfCAnanNvbicgPSAnanNvbic7XG4gICAgICAgIGlmKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAmJiBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQuc3RhcnRzV2l0aCgndGV4dCcpKSB7XG4gICAgICAgICAgICByZXNwb25zZVR5cGUgPSAndGV4dCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxBcnJheTxFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lR2V0UmVzcG9uc2VCb2R5Pj4oYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy9lbnVtVmFsdWVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhfYXR0cmlidXRlTmFtZSkpfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiA8YW55PnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lVXJsKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRFbnVtVmFsdWVzQnlBdHRyaWJ1dGVOYW1lUmVxdWVzdFBhcmFtcyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IF9hdHRyaWJ1dGVOYW1lID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhdHRyaWJ1dGVOYW1lXCJdO1xuICAgICAgICBpZiAoX2F0dHJpYnV0ZU5hbWUgPT09IG51bGwgfHwgX2F0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYXR0cmlidXRlTmFtZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldEVudW1WYWx1ZXNCeUF0dHJpYnV0ZU5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgX3N1YkRvbWFpbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic3ViRG9tYWluXCJdO1xuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IHRoaXMuZW5jb2Rlcn0pO1xuICAgICAgICBpZiAoX3N1YkRvbWFpbiAhPT0gdW5kZWZpbmVkICYmIF9zdWJEb21haW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9zdWJEb21haW4sICdzdWJEb21haW4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5UGFyYW1ldGVycy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy9lbnVtVmFsdWVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhfYXR0cmlidXRlTmFtZSkpfSR7cXVlcnlTdHJpbmcgPyBgPyR7cXVlcnlTdHJpbmd9YCA6ICcnfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNhY3Rpb24gY2hlY2sgaW1hZ2VzXG4gICAgICogUmV0cmlldmVzIGNoZWNrIGltYWdlcyBmb3IgYSBnaXZlbiB0cmFuc2FjdGlvblxuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbkNoZWNrSW1hZ2VzKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbkNoZWNrSW1hZ2VzUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxUcmFuc2FjdGlvbkNoZWNrSW1hZ2VzUmVzcG9uc2U+O1xuICAgIC8qKlxuICAgICAqIFRyYW5zYWN0aW9uIGNoZWNrIGltYWdlc1xuICAgICAqIFJldHJpZXZlcyBjaGVjayBpbWFnZXMgZm9yIGEgZ2l2ZW4gdHJhbnNhY3Rpb25cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlcyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlc1JlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxUcmFuc2FjdGlvbkNoZWNrSW1hZ2VzUmVzcG9uc2U+PjtcbiAgICAvKipcbiAgICAgKiBUcmFuc2FjdGlvbiBjaGVjayBpbWFnZXNcbiAgICAgKiBSZXRyaWV2ZXMgY2hlY2sgaW1hZ2VzIGZvciBhIGdpdmVuIHRyYW5zYWN0aW9uXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXMocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNSZXNwb25zZT4+O1xuICAgIC8qKlxuICAgICAqIFRyYW5zYWN0aW9uIGNoZWNrIGltYWdlc1xuICAgICAqIFJldHJpZXZlcyBjaGVjayBpbWFnZXMgZm9yIGEgZ2l2ZW4gdHJhbnNhY3Rpb25cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlcyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlc1JlcXVlc3RQYXJhbXMsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGNvbnN0IF90cmFuc2FjdGlvbklkID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJ0cmFuc2FjdGlvbklkXCJdO1xuICAgICAgICBpZiAoX3RyYW5zYWN0aW9uSWQgPT09IG51bGwgfHwgX3RyYW5zYWN0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdHJhbnNhY3Rpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG5cbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gb3B0aW9ucyAmJiBvcHRpb25zLmh0dHBIZWFkZXJBY2NlcHQ7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgICAgICBjb25zdCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCByZXNwb25zZVR5cGU6ICd0ZXh0JyB8ICdqc29uJyA9ICdqc29uJztcbiAgICAgICAgaWYoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICYmIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZC5zdGFydHNXaXRoKCd0ZXh0JykpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZSA9ICd0ZXh0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNSZXNwb25zZT4oYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoX3RyYW5zYWN0aW9uSWQpKX0vY2hlY2staW1hZ2VzYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IDxhbnk+cmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNVcmwocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uQ2hlY2tJbWFnZXNSZXF1ZXN0UGFyYW1zKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgX3RyYW5zYWN0aW9uSWQgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInRyYW5zYWN0aW9uSWRcIl07XG4gICAgICAgIGlmIChfdHJhbnNhY3Rpb25JZCA9PT0gbnVsbCB8fCBfdHJhbnNhY3Rpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB0cmFuc2FjdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0VHJhbnNhY3Rpb25DaGVja0ltYWdlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoX3RyYW5zYWN0aW9uSWQpKX0vY2hlY2staW1hZ2VzYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IHRyYW5zYWN0aW9uc1xuICAgICAqIFJldHJpZXZlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRyYW5zYWN0aW9ucyB0aGF0IGZ1bGZpbGwgdGhlIHNlbGVjdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9ucyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxBcnJheTxUcmFuc2FjdGlvbkl0ZW0+PjtcbiAgICAvKipcbiAgICAgKiBMaXN0IHRyYW5zYWN0aW9uc1xuICAgICAqIFJldHJpZXZlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRyYW5zYWN0aW9ucyB0aGF0IGZ1bGZpbGwgdGhlIHNlbGVjdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9ucyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5PFRyYW5zYWN0aW9uSXRlbT4+PjtcbiAgICAvKipcbiAgICAgKiBMaXN0IHRyYW5zYWN0aW9uc1xuICAgICAqIFJldHJpZXZlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRyYW5zYWN0aW9ucyB0aGF0IGZ1bGZpbGwgdGhlIHNlbGVjdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9ucyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheTxUcmFuc2FjdGlvbkl0ZW0+Pj47XG4gICAgLyoqXG4gICAgICogTGlzdCB0cmFuc2FjdGlvbnNcbiAgICAgKiBSZXRyaWV2ZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0cmFuc2FjdGlvbnMgdGhhdCBmdWxmaWxsIHRoZSBzZWxlY3Rpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnMocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc1JlcXVlc3RQYXJhbXMsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGNvbnN0IF9hbW91bnRHcmVhdGVyVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYW1vdW50R3JlYXRlclRoYW5cIl07XG4gICAgICAgIGNvbnN0IF9hbW91bnRMZXNzVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYW1vdW50TGVzc1RoYW5cIl07XG4gICAgICAgIGNvbnN0IF9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJib29raW5nRGF0ZUdyZWF0ZXJUaGFuXCJdO1xuICAgICAgICBjb25zdCBfYm9va2luZ0RhdGVMZXNzVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYm9va2luZ0RhdGVMZXNzVGhhblwiXTtcbiAgICAgICAgY29uc3QgX3R5cGVzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJ0eXBlc1wiXTtcbiAgICAgICAgY29uc3QgX2Rlc2NyaXB0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3JlZmVyZW5jZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wicmVmZXJlbmNlXCJdO1xuICAgICAgICBjb25zdCBfdHlwZUdyb3VwcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHlwZUdyb3Vwc1wiXTtcbiAgICAgICAgY29uc3QgX2NvdW50ZXJQYXJ0eU5hbWUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNvdW50ZXJQYXJ0eU5hbWVcIl07XG4gICAgICAgIGNvbnN0IF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfY3JlZGl0RGViaXRJbmRpY2F0b3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNyZWRpdERlYml0SW5kaWNhdG9yXCJdO1xuICAgICAgICBjb25zdCBfY2F0ZWdvcmllcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2F0ZWdvcmllc1wiXTtcbiAgICAgICAgY29uc3QgX2JpbGxpbmdTdGF0dXMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImJpbGxpbmdTdGF0dXNcIl07XG4gICAgICAgIGNvbnN0IF9zdGF0ZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic3RhdGVcIl07XG4gICAgICAgIGNvbnN0IF9jdXJyZW5jeSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY3VycmVuY3lcIl07XG4gICAgICAgIGNvbnN0IF9ub3RlcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wibm90ZXNcIl07XG4gICAgICAgIGNvbnN0IF9pZCA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiaWRcIl07XG4gICAgICAgIGNvbnN0IF9hcnJhbmdlbWVudElkID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhcnJhbmdlbWVudElkXCJdO1xuICAgICAgICBjb25zdCBfYXJyYW5nZW1lbnRzSWRzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhcnJhbmdlbWVudHNJZHNcIl07XG4gICAgICAgIGNvbnN0IF9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImZyb21DaGVja1NlcmlhbE51bWJlclwiXTtcbiAgICAgICAgY29uc3QgX3RvQ2hlY2tTZXJpYWxOdW1iZXIgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInRvQ2hlY2tTZXJpYWxOdW1iZXJcIl07XG4gICAgICAgIGNvbnN0IF9jaGVja1NlcmlhbE51bWJlcnMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNoZWNrU2VyaWFsTnVtYmVyc1wiXTtcbiAgICAgICAgY29uc3QgX3F1ZXJ5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJxdWVyeVwiXTtcbiAgICAgICAgY29uc3QgX2Zyb20gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImZyb21cIl07XG4gICAgICAgIGNvbnN0IF9jdXJzb3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImN1cnNvclwiXTtcbiAgICAgICAgY29uc3QgX3NpemUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInNpemVcIl07XG4gICAgICAgIGNvbnN0IF9vcmRlckJ5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJvcmRlckJ5XCJdO1xuICAgICAgICBjb25zdCBfZGlyZWN0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkaXJlY3Rpb25cIl07XG4gICAgICAgIGNvbnN0IF9zZWNEaXJlY3Rpb24gPSByZXF1ZXN0UGFyYW1ldGVyc1tcInNlY0RpcmVjdGlvblwiXTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IHRoaXMuZW5jb2Rlcn0pO1xuICAgICAgICBpZiAoX2Ftb3VudEdyZWF0ZXJUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Ftb3VudEdyZWF0ZXJUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYW1vdW50R3JlYXRlclRoYW4sICdhbW91bnRHcmVhdGVyVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYW1vdW50TGVzc1RoYW4gIT09IHVuZGVmaW5lZCAmJiBfYW1vdW50TGVzc1RoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9hbW91bnRMZXNzVGhhbiwgJ2Ftb3VudExlc3NUaGFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuLCAnYm9va2luZ0RhdGVHcmVhdGVyVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYm9va2luZ0RhdGVMZXNzVGhhbiAhPT0gdW5kZWZpbmVkICYmIF9ib29raW5nRGF0ZUxlc3NUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYm9va2luZ0RhdGVMZXNzVGhhbiwgJ2Jvb2tpbmdEYXRlTGVzc1RoYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3R5cGVzKSB7XG4gICAgICAgICAgICBfdHlwZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ3R5cGVzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChfZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCAmJiBfZGVzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9kZXNjcmlwdGlvbiwgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9yZWZlcmVuY2UgIT09IHVuZGVmaW5lZCAmJiBfcmVmZXJlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fcmVmZXJlbmNlLCAncmVmZXJlbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90eXBlR3JvdXBzKSB7XG4gICAgICAgICAgICBfdHlwZUdyb3Vwcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAndHlwZUdyb3VwcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NvdW50ZXJQYXJ0eU5hbWUgIT09IHVuZGVmaW5lZCAmJiBfY291bnRlclBhcnR5TmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2NvdW50ZXJQYXJ0eU5hbWUsICdjb3VudGVyUGFydHlOYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICE9PSB1bmRlZmluZWQgJiYgX2NvdW50ZXJQYXJ0eUFjY291bnROdW1iZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyLCAnY291bnRlclBhcnR5QWNjb3VudE51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY3JlZGl0RGViaXRJbmRpY2F0b3IgIT09IHVuZGVmaW5lZCAmJiBfY3JlZGl0RGViaXRJbmRpY2F0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jcmVkaXREZWJpdEluZGljYXRvciwgJ2NyZWRpdERlYml0SW5kaWNhdG9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICBfY2F0ZWdvcmllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAnY2F0ZWdvcmllcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2JpbGxpbmdTdGF0dXMgIT09IHVuZGVmaW5lZCAmJiBfYmlsbGluZ1N0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2JpbGxpbmdTdGF0dXMsICdiaWxsaW5nU3RhdHVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIF9zdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3N0YXRlLCAnc3RhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2N1cnJlbmN5ICE9PSB1bmRlZmluZWQgJiYgX2N1cnJlbmN5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY3VycmVuY3ksICdjdXJyZW5jeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbm90ZXMgIT09IHVuZGVmaW5lZCAmJiBfbm90ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9ub3RlcywgJ25vdGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9pZCAhPT0gdW5kZWZpbmVkICYmIF9pZCAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2lkLCAnaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2FycmFuZ2VtZW50SWQgIT09IHVuZGVmaW5lZCAmJiBfYXJyYW5nZW1lbnRJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2FycmFuZ2VtZW50SWQsICdhcnJhbmdlbWVudElkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9hcnJhbmdlbWVudHNJZHMpIHtcbiAgICAgICAgICAgIF9hcnJhbmdlbWVudHNJZHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2FycmFuZ2VtZW50c0lkcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Zyb21DaGVja1NlcmlhbE51bWJlciAhPT0gdW5kZWZpbmVkICYmIF9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIsICdmcm9tQ2hlY2tTZXJpYWxOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RvQ2hlY2tTZXJpYWxOdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBfdG9DaGVja1NlcmlhbE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3RvQ2hlY2tTZXJpYWxOdW1iZXIsICd0b0NoZWNrU2VyaWFsTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jaGVja1NlcmlhbE51bWJlcnMpIHtcbiAgICAgICAgICAgIF9jaGVja1NlcmlhbE51bWJlcnMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2NoZWNrU2VyaWFsTnVtYmVycycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3F1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgX3F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fcXVlcnksICdxdWVyeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZnJvbSAhPT0gdW5kZWZpbmVkICYmIF9mcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZnJvbSwgJ2Zyb20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2N1cnNvciAhPT0gdW5kZWZpbmVkICYmIF9jdXJzb3IgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jdXJzb3IsICdjdXJzb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3NpemUgIT09IHVuZGVmaW5lZCAmJiBfc2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3NpemUsICdzaXplJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9vcmRlckJ5ICE9PSB1bmRlZmluZWQgJiYgX29yZGVyQnkgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9vcmRlckJ5LCAnb3JkZXJCeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiYgX2RpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2RpcmVjdGlvbiwgJ2RpcmVjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfc2VjRGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiYgX3NlY0RpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3NlY0RpcmVjdGlvbiwgJ3NlY0RpcmVjdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5odHRwSGVhZGVyQWNjZXB0O1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICAgICAgY29uc3QgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdBY2NlcHQnLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgcmVzcG9uc2VUeXBlOiAndGV4dCcgfCAnanNvbicgPSAnanNvbic7XG4gICAgICAgIGlmKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAmJiBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQuc3RhcnRzV2l0aCgndGV4dCcpKSB7XG4gICAgICAgICAgICByZXNwb25zZVR5cGUgPSAndGV4dCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxBcnJheTxUcmFuc2FjdGlvbkl0ZW0+PihgJHt0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGh9L2NsaWVudC1hcGkvdjIvdHJhbnNhY3Rpb25zYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IDxhbnk+cmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc1VybChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zUmVxdWVzdFBhcmFtcyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IF9hbW91bnRHcmVhdGVyVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYW1vdW50R3JlYXRlclRoYW5cIl07XG4gICAgICAgIGNvbnN0IF9hbW91bnRMZXNzVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYW1vdW50TGVzc1RoYW5cIl07XG4gICAgICAgIGNvbnN0IF9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJib29raW5nRGF0ZUdyZWF0ZXJUaGFuXCJdO1xuICAgICAgICBjb25zdCBfYm9va2luZ0RhdGVMZXNzVGhhbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYm9va2luZ0RhdGVMZXNzVGhhblwiXTtcbiAgICAgICAgY29uc3QgX3R5cGVzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJ0eXBlc1wiXTtcbiAgICAgICAgY29uc3QgX2Rlc2NyaXB0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3JlZmVyZW5jZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wicmVmZXJlbmNlXCJdO1xuICAgICAgICBjb25zdCBfdHlwZUdyb3VwcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHlwZUdyb3Vwc1wiXTtcbiAgICAgICAgY29uc3QgX2NvdW50ZXJQYXJ0eU5hbWUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNvdW50ZXJQYXJ0eU5hbWVcIl07XG4gICAgICAgIGNvbnN0IF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfY3JlZGl0RGViaXRJbmRpY2F0b3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNyZWRpdERlYml0SW5kaWNhdG9yXCJdO1xuICAgICAgICBjb25zdCBfY2F0ZWdvcmllcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2F0ZWdvcmllc1wiXTtcbiAgICAgICAgY29uc3QgX2JpbGxpbmdTdGF0dXMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImJpbGxpbmdTdGF0dXNcIl07XG4gICAgICAgIGNvbnN0IF9zdGF0ZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic3RhdGVcIl07XG4gICAgICAgIGNvbnN0IF9jdXJyZW5jeSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY3VycmVuY3lcIl07XG4gICAgICAgIGNvbnN0IF9ub3RlcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wibm90ZXNcIl07XG4gICAgICAgIGNvbnN0IF9pZCA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiaWRcIl07XG4gICAgICAgIGNvbnN0IF9hcnJhbmdlbWVudElkID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhcnJhbmdlbWVudElkXCJdO1xuICAgICAgICBjb25zdCBfYXJyYW5nZW1lbnRzSWRzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhcnJhbmdlbWVudHNJZHNcIl07XG4gICAgICAgIGNvbnN0IF9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImZyb21DaGVja1NlcmlhbE51bWJlclwiXTtcbiAgICAgICAgY29uc3QgX3RvQ2hlY2tTZXJpYWxOdW1iZXIgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInRvQ2hlY2tTZXJpYWxOdW1iZXJcIl07XG4gICAgICAgIGNvbnN0IF9jaGVja1NlcmlhbE51bWJlcnMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNoZWNrU2VyaWFsTnVtYmVyc1wiXTtcbiAgICAgICAgY29uc3QgX3F1ZXJ5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJxdWVyeVwiXTtcbiAgICAgICAgY29uc3QgX2Zyb20gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImZyb21cIl07XG4gICAgICAgIGNvbnN0IF9jdXJzb3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImN1cnNvclwiXTtcbiAgICAgICAgY29uc3QgX3NpemUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInNpemVcIl07XG4gICAgICAgIGNvbnN0IF9vcmRlckJ5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJvcmRlckJ5XCJdO1xuICAgICAgICBjb25zdCBfZGlyZWN0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkaXJlY3Rpb25cIl07XG4gICAgICAgIGNvbnN0IF9zZWNEaXJlY3Rpb24gPSByZXF1ZXN0UGFyYW1ldGVyc1tcInNlY0RpcmVjdGlvblwiXTtcbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiB0aGlzLmVuY29kZXJ9KTtcbiAgICAgICAgaWYgKF9hbW91bnRHcmVhdGVyVGhhbiAhPT0gdW5kZWZpbmVkICYmIF9hbW91bnRHcmVhdGVyVGhhbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Ftb3VudEdyZWF0ZXJUaGFuLCAnYW1vdW50R3JlYXRlclRoYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Ftb3VudExlc3NUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Ftb3VudExlc3NUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYW1vdW50TGVzc1RoYW4sICdhbW91bnRMZXNzVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYm9va2luZ0RhdGVHcmVhdGVyVGhhbiAhPT0gdW5kZWZpbmVkICYmIF9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYm9va2luZ0RhdGVHcmVhdGVyVGhhbiwgJ2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Jvb2tpbmdEYXRlTGVzc1RoYW4gIT09IHVuZGVmaW5lZCAmJiBfYm9va2luZ0RhdGVMZXNzVGhhbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Jvb2tpbmdEYXRlTGVzc1RoYW4sICdib29raW5nRGF0ZUxlc3NUaGFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90eXBlcykge1xuICAgICAgICAgICAgX3R5cGVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICA8YW55PmVsZW1lbnQsICd0eXBlcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Rlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgJiYgX2Rlc2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZGVzY3JpcHRpb24sICdkZXNjcmlwdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfcmVmZXJlbmNlICE9PSB1bmRlZmluZWQgJiYgX3JlZmVyZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3JlZmVyZW5jZSwgJ3JlZmVyZW5jZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdHlwZUdyb3Vwcykge1xuICAgICAgICAgICAgX3R5cGVHcm91cHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ3R5cGVHcm91cHMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jb3VudGVyUGFydHlOYW1lICE9PSB1bmRlZmluZWQgJiYgX2NvdW50ZXJQYXJ0eU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jb3VudGVyUGFydHlOYW1lLCAnY291bnRlclBhcnR5TmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY291bnRlclBhcnR5QWNjb3VudE51bWJlciAhPT0gdW5kZWZpbmVkICYmIF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY291bnRlclBhcnR5QWNjb3VudE51bWJlciwgJ2NvdW50ZXJQYXJ0eUFjY291bnROdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NyZWRpdERlYml0SW5kaWNhdG9yICE9PSB1bmRlZmluZWQgJiYgX2NyZWRpdERlYml0SW5kaWNhdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY3JlZGl0RGViaXRJbmRpY2F0b3IsICdjcmVkaXREZWJpdEluZGljYXRvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgX2NhdGVnb3JpZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2NhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9iaWxsaW5nU3RhdHVzICE9PSB1bmRlZmluZWQgJiYgX2JpbGxpbmdTdGF0dXMgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9iaWxsaW5nU3RhdHVzLCAnYmlsbGluZ1N0YXR1cycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBfc3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9zdGF0ZSwgJ3N0YXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jdXJyZW5jeSAhPT0gdW5kZWZpbmVkICYmIF9jdXJyZW5jeSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2N1cnJlbmN5LCAnY3VycmVuY3knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX25vdGVzICE9PSB1bmRlZmluZWQgJiYgX25vdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fbm90ZXMsICdub3RlcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfaWQgIT09IHVuZGVmaW5lZCAmJiBfaWQgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9pZCwgJ2lkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9hcnJhbmdlbWVudElkICE9PSB1bmRlZmluZWQgJiYgX2FycmFuZ2VtZW50SWQgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9hcnJhbmdlbWVudElkLCAnYXJyYW5nZW1lbnRJZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYXJyYW5nZW1lbnRzSWRzKSB7XG4gICAgICAgICAgICBfYXJyYW5nZW1lbnRzSWRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICA8YW55PmVsZW1lbnQsICdhcnJhbmdlbWVudHNJZHMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBfZnJvbUNoZWNrU2VyaWFsTnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZnJvbUNoZWNrU2VyaWFsTnVtYmVyLCAnZnJvbUNoZWNrU2VyaWFsTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90b0NoZWNrU2VyaWFsTnVtYmVyICE9PSB1bmRlZmluZWQgJiYgX3RvQ2hlY2tTZXJpYWxOdW1iZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl90b0NoZWNrU2VyaWFsTnVtYmVyLCAndG9DaGVja1NlcmlhbE51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY2hlY2tTZXJpYWxOdW1iZXJzKSB7XG4gICAgICAgICAgICBfY2hlY2tTZXJpYWxOdW1iZXJzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICA8YW55PmVsZW1lbnQsICdjaGVja1NlcmlhbE51bWJlcnMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9xdWVyeSAhPT0gdW5kZWZpbmVkICYmIF9xdWVyeSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3F1ZXJ5LCAncXVlcnknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Zyb20gIT09IHVuZGVmaW5lZCAmJiBfZnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Zyb20sICdmcm9tJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jdXJzb3IgIT09IHVuZGVmaW5lZCAmJiBfY3Vyc29yICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY3Vyc29yLCAnY3Vyc29yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zaXplICE9PSB1bmRlZmluZWQgJiYgX3NpemUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9zaXplLCAnc2l6ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfb3JkZXJCeSAhPT0gdW5kZWZpbmVkICYmIF9vcmRlckJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fb3JkZXJCeSwgJ29yZGVyQnknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2RpcmVjdGlvbiAhPT0gdW5kZWZpbmVkICYmIF9kaXJlY3Rpb24gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9kaXJlY3Rpb24sICdkaXJlY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3NlY0RpcmVjdGlvbiAhPT0gdW5kZWZpbmVkICYmIF9zZWNEaXJlY3Rpb24gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9zZWNEaXJlY3Rpb24sICdzZWNEaXJlY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5UGFyYW1ldGVycy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucyR7cXVlcnlTdHJpbmcgPyBgPyR7cXVlcnlTdHJpbmd9YCA6ICcnfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9uc1xuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnQocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3BkZid9KTogT2JzZXJ2YWJsZTxCbG9iPjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHMuXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3BkZid9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QmxvYj4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnNcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0cy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3BkZid9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnNcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0cy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi94LW9meCd9KTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnNcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0cy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24veC1vZngnfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnNcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0cy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3gtb2Z4J30pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHMuXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAndGV4dC9jc3YnfSk6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHMuXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ3RleHQvY3N2J30pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHMuXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICd0ZXh0L2Nzdid9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8c3RyaW5nPj47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9uc1xuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnQocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8QmxvYj47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9uc1xuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnQocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9uc1xuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnQocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnNcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0cy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UsIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9wZGYnIHwgJ2FwcGxpY2F0aW9uL3gtb2Z4JyB8ICd0ZXh0L2NzdicgfCAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3QgX2Ftb3VudEdyZWF0ZXJUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhbW91bnRHcmVhdGVyVGhhblwiXTtcbiAgICAgICAgY29uc3QgX2Ftb3VudExlc3NUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhbW91bnRMZXNzVGhhblwiXTtcbiAgICAgICAgY29uc3QgX2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImJvb2tpbmdEYXRlR3JlYXRlclRoYW5cIl07XG4gICAgICAgIGNvbnN0IF9ib29raW5nRGF0ZUxlc3NUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJib29raW5nRGF0ZUxlc3NUaGFuXCJdO1xuICAgICAgICBjb25zdCBfdHlwZXMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInR5cGVzXCJdO1xuICAgICAgICBjb25zdCBfY2F0ZWdvcmllcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2F0ZWdvcmllc1wiXTtcbiAgICAgICAgY29uc3QgX2Rlc2NyaXB0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3JlZmVyZW5jZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wicmVmZXJlbmNlXCJdO1xuICAgICAgICBjb25zdCBfdHlwZUdyb3VwcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHlwZUdyb3Vwc1wiXTtcbiAgICAgICAgY29uc3QgX2NvdW50ZXJQYXJ0eU5hbWUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNvdW50ZXJQYXJ0eU5hbWVcIl07XG4gICAgICAgIGNvbnN0IF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfY3JlZGl0RGViaXRJbmRpY2F0b3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNyZWRpdERlYml0SW5kaWNhdG9yXCJdO1xuICAgICAgICBjb25zdCBfYmlsbGluZ1N0YXR1cyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYmlsbGluZ1N0YXR1c1wiXTtcbiAgICAgICAgY29uc3QgX3N0YXRlID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJzdGF0ZVwiXTtcbiAgICAgICAgY29uc3QgX2N1cnJlbmN5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjdXJyZW5jeVwiXTtcbiAgICAgICAgY29uc3QgX25vdGVzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJub3Rlc1wiXTtcbiAgICAgICAgY29uc3QgX2lkID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJpZFwiXTtcbiAgICAgICAgY29uc3QgX2FycmFuZ2VtZW50SWQgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImFycmFuZ2VtZW50SWRcIl07XG4gICAgICAgIGNvbnN0IF9hcnJhbmdlbWVudHNJZHMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImFycmFuZ2VtZW50c0lkc1wiXTtcbiAgICAgICAgY29uc3QgX2Zyb21DaGVja1NlcmlhbE51bWJlciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZnJvbUNoZWNrU2VyaWFsTnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfdG9DaGVja1NlcmlhbE51bWJlciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widG9DaGVja1NlcmlhbE51bWJlclwiXTtcbiAgICAgICAgY29uc3QgX2NoZWNrU2VyaWFsTnVtYmVycyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2hlY2tTZXJpYWxOdW1iZXJzXCJdO1xuICAgICAgICBjb25zdCBfcXVlcnkgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInF1ZXJ5XCJdO1xuICAgICAgICBjb25zdCBfZnJvbSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZnJvbVwiXTtcbiAgICAgICAgY29uc3QgX2N1cnNvciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY3Vyc29yXCJdO1xuICAgICAgICBjb25zdCBfc2l6ZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic2l6ZVwiXTtcbiAgICAgICAgY29uc3QgX29yZGVyQnkgPSByZXF1ZXN0UGFyYW1ldGVyc1tcIm9yZGVyQnlcIl07XG4gICAgICAgIGNvbnN0IF9kaXJlY3Rpb24gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImRpcmVjdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3NlY0RpcmVjdGlvbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic2VjRGlyZWN0aW9uXCJdO1xuICAgICAgICBjb25zdCBfZXhwb3J0VHlwZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZXhwb3J0VHlwZVwiXTtcbiAgICAgICAgY29uc3QgX2xvY2FsZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wibG9jYWxlXCJdO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogdGhpcy5lbmNvZGVyfSk7XG4gICAgICAgIGlmIChfYW1vdW50R3JlYXRlclRoYW4gIT09IHVuZGVmaW5lZCAmJiBfYW1vdW50R3JlYXRlclRoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9hbW91bnRHcmVhdGVyVGhhbiwgJ2Ftb3VudEdyZWF0ZXJUaGFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9hbW91bnRMZXNzVGhhbiAhPT0gdW5kZWZpbmVkICYmIF9hbW91bnRMZXNzVGhhbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Ftb3VudExlc3NUaGFuLCAnYW1vdW50TGVzc1RoYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4gIT09IHVuZGVmaW5lZCAmJiBfYm9va2luZ0RhdGVHcmVhdGVyVGhhbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4sICdib29raW5nRGF0ZUdyZWF0ZXJUaGFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9ib29raW5nRGF0ZUxlc3NUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Jvb2tpbmdEYXRlTGVzc1RoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9ib29raW5nRGF0ZUxlc3NUaGFuLCAnYm9va2luZ0RhdGVMZXNzVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdHlwZXMpIHtcbiAgICAgICAgICAgIF90eXBlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAndHlwZXMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICBfY2F0ZWdvcmllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAnY2F0ZWdvcmllcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Rlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgJiYgX2Rlc2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZGVzY3JpcHRpb24sICdkZXNjcmlwdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfcmVmZXJlbmNlICE9PSB1bmRlZmluZWQgJiYgX3JlZmVyZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3JlZmVyZW5jZSwgJ3JlZmVyZW5jZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdHlwZUdyb3Vwcykge1xuICAgICAgICAgICAgX3R5cGVHcm91cHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ3R5cGVHcm91cHMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jb3VudGVyUGFydHlOYW1lICE9PSB1bmRlZmluZWQgJiYgX2NvdW50ZXJQYXJ0eU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jb3VudGVyUGFydHlOYW1lLCAnY291bnRlclBhcnR5TmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY291bnRlclBhcnR5QWNjb3VudE51bWJlciAhPT0gdW5kZWZpbmVkICYmIF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY291bnRlclBhcnR5QWNjb3VudE51bWJlciwgJ2NvdW50ZXJQYXJ0eUFjY291bnROdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NyZWRpdERlYml0SW5kaWNhdG9yICE9PSB1bmRlZmluZWQgJiYgX2NyZWRpdERlYml0SW5kaWNhdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY3JlZGl0RGViaXRJbmRpY2F0b3IsICdjcmVkaXREZWJpdEluZGljYXRvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYmlsbGluZ1N0YXR1cyAhPT0gdW5kZWZpbmVkICYmIF9iaWxsaW5nU3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYmlsbGluZ1N0YXR1cywgJ2JpbGxpbmdTdGF0dXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3N0YXRlICE9PSB1bmRlZmluZWQgJiYgX3N0YXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fc3RhdGUsICdzdGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY3VycmVuY3kgIT09IHVuZGVmaW5lZCAmJiBfY3VycmVuY3kgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jdXJyZW5jeSwgJ2N1cnJlbmN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9ub3RlcyAhPT0gdW5kZWZpbmVkICYmIF9ub3RlcyAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X25vdGVzLCAnbm90ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2lkICE9PSB1bmRlZmluZWQgJiYgX2lkICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5faWQsICdpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYXJyYW5nZW1lbnRJZCAhPT0gdW5kZWZpbmVkICYmIF9hcnJhbmdlbWVudElkICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYXJyYW5nZW1lbnRJZCwgJ2FycmFuZ2VtZW50SWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2FycmFuZ2VtZW50c0lkcykge1xuICAgICAgICAgICAgX2FycmFuZ2VtZW50c0lkcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAnYXJyYW5nZW1lbnRzSWRzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChfZnJvbUNoZWNrU2VyaWFsTnVtYmVyICE9PSB1bmRlZmluZWQgJiYgX2Zyb21DaGVja1NlcmlhbE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Zyb21DaGVja1NlcmlhbE51bWJlciwgJ2Zyb21DaGVja1NlcmlhbE51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdG9DaGVja1NlcmlhbE51bWJlciAhPT0gdW5kZWZpbmVkICYmIF90b0NoZWNrU2VyaWFsTnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fdG9DaGVja1NlcmlhbE51bWJlciwgJ3RvQ2hlY2tTZXJpYWxOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NoZWNrU2VyaWFsTnVtYmVycykge1xuICAgICAgICAgICAgX2NoZWNrU2VyaWFsTnVtYmVycy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgPGFueT5lbGVtZW50LCAnY2hlY2tTZXJpYWxOdW1iZXJzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChfcXVlcnkgIT09IHVuZGVmaW5lZCAmJiBfcXVlcnkgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9xdWVyeSwgJ3F1ZXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9mcm9tICE9PSB1bmRlZmluZWQgJiYgX2Zyb20gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9mcm9tLCAnZnJvbScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY3Vyc29yICE9PSB1bmRlZmluZWQgJiYgX2N1cnNvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2N1cnNvciwgJ2N1cnNvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfc2l6ZSAhPT0gdW5kZWZpbmVkICYmIF9zaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fc2l6ZSwgJ3NpemUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX29yZGVyQnkgIT09IHVuZGVmaW5lZCAmJiBfb3JkZXJCeSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X29yZGVyQnksICdvcmRlckJ5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBfZGlyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZGlyZWN0aW9uLCAnZGlyZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zZWNEaXJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBfc2VjRGlyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fc2VjRGlyZWN0aW9uLCAnc2VjRGlyZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9leHBvcnRUeXBlICE9PSB1bmRlZmluZWQgJiYgX2V4cG9ydFR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9leHBvcnRUeXBlLCAnZXhwb3J0VHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbG9jYWxlICE9PSB1bmRlZmluZWQgJiYgX2xvY2FsZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2xvY2FsZSwgJ2xvY2FsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5odHRwSGVhZGVyQWNjZXB0O1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICAgICAgY29uc3QgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi9wZGYnLFxuICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi94LW9meCcsXG4gICAgICAgICAgICAgICAgJ3RleHQvY3N2JyxcbiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQWNjZXB0JywgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQoYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy9leHBvcnRgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJibG9iXCIsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0VXJsKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRSZXF1ZXN0UGFyYW1zKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgX2Ftb3VudEdyZWF0ZXJUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhbW91bnRHcmVhdGVyVGhhblwiXTtcbiAgICAgICAgY29uc3QgX2Ftb3VudExlc3NUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJhbW91bnRMZXNzVGhhblwiXTtcbiAgICAgICAgY29uc3QgX2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImJvb2tpbmdEYXRlR3JlYXRlclRoYW5cIl07XG4gICAgICAgIGNvbnN0IF9ib29raW5nRGF0ZUxlc3NUaGFuID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJib29raW5nRGF0ZUxlc3NUaGFuXCJdO1xuICAgICAgICBjb25zdCBfdHlwZXMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInR5cGVzXCJdO1xuICAgICAgICBjb25zdCBfY2F0ZWdvcmllcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2F0ZWdvcmllc1wiXTtcbiAgICAgICAgY29uc3QgX2Rlc2NyaXB0aW9uID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3JlZmVyZW5jZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wicmVmZXJlbmNlXCJdO1xuICAgICAgICBjb25zdCBfdHlwZUdyb3VwcyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHlwZUdyb3Vwc1wiXTtcbiAgICAgICAgY29uc3QgX2NvdW50ZXJQYXJ0eU5hbWUgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNvdW50ZXJQYXJ0eU5hbWVcIl07XG4gICAgICAgIGNvbnN0IF9jb3VudGVyUGFydHlBY2NvdW50TnVtYmVyID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfY3JlZGl0RGViaXRJbmRpY2F0b3IgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImNyZWRpdERlYml0SW5kaWNhdG9yXCJdO1xuICAgICAgICBjb25zdCBfYmlsbGluZ1N0YXR1cyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiYmlsbGluZ1N0YXR1c1wiXTtcbiAgICAgICAgY29uc3QgX3N0YXRlID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJzdGF0ZVwiXTtcbiAgICAgICAgY29uc3QgX2N1cnJlbmN5ID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJjdXJyZW5jeVwiXTtcbiAgICAgICAgY29uc3QgX25vdGVzID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJub3Rlc1wiXTtcbiAgICAgICAgY29uc3QgX2lkID0gcmVxdWVzdFBhcmFtZXRlcnNbXCJpZFwiXTtcbiAgICAgICAgY29uc3QgX2FycmFuZ2VtZW50SWQgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImFycmFuZ2VtZW50SWRcIl07XG4gICAgICAgIGNvbnN0IF9hcnJhbmdlbWVudHNJZHMgPSByZXF1ZXN0UGFyYW1ldGVyc1tcImFycmFuZ2VtZW50c0lkc1wiXTtcbiAgICAgICAgY29uc3QgX2Zyb21DaGVja1NlcmlhbE51bWJlciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZnJvbUNoZWNrU2VyaWFsTnVtYmVyXCJdO1xuICAgICAgICBjb25zdCBfdG9DaGVja1NlcmlhbE51bWJlciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widG9DaGVja1NlcmlhbE51bWJlclwiXTtcbiAgICAgICAgY29uc3QgX2NoZWNrU2VyaWFsTnVtYmVycyA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY2hlY2tTZXJpYWxOdW1iZXJzXCJdO1xuICAgICAgICBjb25zdCBfcXVlcnkgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInF1ZXJ5XCJdO1xuICAgICAgICBjb25zdCBfZnJvbSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZnJvbVwiXTtcbiAgICAgICAgY29uc3QgX2N1cnNvciA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiY3Vyc29yXCJdO1xuICAgICAgICBjb25zdCBfc2l6ZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic2l6ZVwiXTtcbiAgICAgICAgY29uc3QgX29yZGVyQnkgPSByZXF1ZXN0UGFyYW1ldGVyc1tcIm9yZGVyQnlcIl07XG4gICAgICAgIGNvbnN0IF9kaXJlY3Rpb24gPSByZXF1ZXN0UGFyYW1ldGVyc1tcImRpcmVjdGlvblwiXTtcbiAgICAgICAgY29uc3QgX3NlY0RpcmVjdGlvbiA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wic2VjRGlyZWN0aW9uXCJdO1xuICAgICAgICBjb25zdCBfZXhwb3J0VHlwZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wiZXhwb3J0VHlwZVwiXTtcbiAgICAgICAgY29uc3QgX2xvY2FsZSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1wibG9jYWxlXCJdO1xuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IHRoaXMuZW5jb2Rlcn0pO1xuICAgICAgICBpZiAoX2Ftb3VudEdyZWF0ZXJUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Ftb3VudEdyZWF0ZXJUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYW1vdW50R3JlYXRlclRoYW4sICdhbW91bnRHcmVhdGVyVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYW1vdW50TGVzc1RoYW4gIT09IHVuZGVmaW5lZCAmJiBfYW1vdW50TGVzc1RoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9hbW91bnRMZXNzVGhhbiwgJ2Ftb3VudExlc3NUaGFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuICE9PSB1bmRlZmluZWQgJiYgX2Jvb2tpbmdEYXRlR3JlYXRlclRoYW4gIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9ib29raW5nRGF0ZUdyZWF0ZXJUaGFuLCAnYm9va2luZ0RhdGVHcmVhdGVyVGhhbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYm9va2luZ0RhdGVMZXNzVGhhbiAhPT0gdW5kZWZpbmVkICYmIF9ib29raW5nRGF0ZUxlc3NUaGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fYm9va2luZ0RhdGVMZXNzVGhhbiwgJ2Jvb2tpbmdEYXRlTGVzc1RoYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3R5cGVzKSB7XG4gICAgICAgICAgICBfdHlwZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ3R5cGVzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChfY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgX2NhdGVnb3JpZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2NhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkICYmIF9kZXNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2Rlc2NyaXB0aW9uLCAnZGVzY3JpcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3JlZmVyZW5jZSAhPT0gdW5kZWZpbmVkICYmIF9yZWZlcmVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9yZWZlcmVuY2UsICdyZWZlcmVuY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3R5cGVHcm91cHMpIHtcbiAgICAgICAgICAgIF90eXBlR3JvdXBzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICA8YW55PmVsZW1lbnQsICd0eXBlR3JvdXBzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChfY291bnRlclBhcnR5TmFtZSAhPT0gdW5kZWZpbmVkICYmIF9jb3VudGVyUGFydHlOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY291bnRlclBhcnR5TmFtZSwgJ2NvdW50ZXJQYXJ0eU5hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NvdW50ZXJQYXJ0eUFjY291bnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBfY291bnRlclBhcnR5QWNjb3VudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2NvdW50ZXJQYXJ0eUFjY291bnROdW1iZXIsICdjb3VudGVyUGFydHlBY2NvdW50TnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jcmVkaXREZWJpdEluZGljYXRvciAhPT0gdW5kZWZpbmVkICYmIF9jcmVkaXREZWJpdEluZGljYXRvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2NyZWRpdERlYml0SW5kaWNhdG9yLCAnY3JlZGl0RGViaXRJbmRpY2F0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2JpbGxpbmdTdGF0dXMgIT09IHVuZGVmaW5lZCAmJiBfYmlsbGluZ1N0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2JpbGxpbmdTdGF0dXMsICdiaWxsaW5nU3RhdHVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIF9zdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3N0YXRlLCAnc3RhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2N1cnJlbmN5ICE9PSB1bmRlZmluZWQgJiYgX2N1cnJlbmN5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fY3VycmVuY3ksICdjdXJyZW5jeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbm90ZXMgIT09IHVuZGVmaW5lZCAmJiBfbm90ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9ub3RlcywgJ25vdGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9pZCAhPT0gdW5kZWZpbmVkICYmIF9pZCAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2lkLCAnaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2FycmFuZ2VtZW50SWQgIT09IHVuZGVmaW5lZCAmJiBfYXJyYW5nZW1lbnRJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2FycmFuZ2VtZW50SWQsICdhcnJhbmdlbWVudElkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9hcnJhbmdlbWVudHNJZHMpIHtcbiAgICAgICAgICAgIF9hcnJhbmdlbWVudHNJZHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2FycmFuZ2VtZW50c0lkcycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Zyb21DaGVja1NlcmlhbE51bWJlciAhPT0gdW5kZWZpbmVkICYmIF9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9mcm9tQ2hlY2tTZXJpYWxOdW1iZXIsICdmcm9tQ2hlY2tTZXJpYWxOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RvQ2hlY2tTZXJpYWxOdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBfdG9DaGVja1NlcmlhbE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3RvQ2hlY2tTZXJpYWxOdW1iZXIsICd0b0NoZWNrU2VyaWFsTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jaGVja1NlcmlhbE51bWJlcnMpIHtcbiAgICAgICAgICAgIF9jaGVja1NlcmlhbE51bWJlcnMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIDxhbnk+ZWxlbWVudCwgJ2NoZWNrU2VyaWFsTnVtYmVycycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3F1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgX3F1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fcXVlcnksICdxdWVyeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZnJvbSAhPT0gdW5kZWZpbmVkICYmIF9mcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZnJvbSwgJ2Zyb20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2N1cnNvciAhPT0gdW5kZWZpbmVkICYmIF9jdXJzb3IgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9jdXJzb3IsICdjdXJzb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3NpemUgIT09IHVuZGVmaW5lZCAmJiBfc2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3NpemUsICdzaXplJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9vcmRlckJ5ICE9PSB1bmRlZmluZWQgJiYgX29yZGVyQnkgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9vcmRlckJ5LCAnb3JkZXJCeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiYgX2RpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X2RpcmVjdGlvbiwgJ2RpcmVjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfc2VjRGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiYgX3NlY0RpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuYWRkVG9IdHRwUGFyYW1zKHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIDxhbnk+X3NlY0RpcmVjdGlvbiwgJ3NlY0RpcmVjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZXhwb3J0VHlwZSAhPT0gdW5kZWZpbmVkICYmIF9leHBvcnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hZGRUb0h0dHBQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgPGFueT5fZXhwb3J0VHlwZSwgJ2V4cG9ydFR5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2xvY2FsZSAhPT0gdW5kZWZpbmVkICYmIF9sb2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFkZFRvSHR0cFBhcmFtcyhxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICA8YW55Pl9sb2NhbGUsICdsb2NhbGUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5UGFyYW1ldGVycy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy9leHBvcnQke3F1ZXJ5U3RyaW5nID8gYD8ke3F1ZXJ5U3RyaW5nfWAgOiAnJ31gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vcGRmJ30pOiBPYnNlcnZhYmxlPEJsb2I+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3BkZid9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QmxvYj4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9wZGYnfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zIChQT1NUKVxuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3gtb2Z4J30pOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9ucyAoUE9TVClcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0c1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3RSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24veC1vZngnfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi94LW9meCd9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8c3RyaW5nPj47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9ucyAoUE9TVClcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0c1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3RSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICd0ZXh0L2Nzdid9KTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ3RleHQvY3N2J30pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zIChQT1NUKVxuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAndGV4dC9jc3YnfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+O1xuICAgIC8qKlxuICAgICAqIEV4cG9ydCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogRXhwb3J0cyB0cmFuc2FjdGlvbnMgaW4gYSB2YXJpZXR5IG9mIGZvcm1hdHNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxCbG9iPjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zIChQT1NUKVxuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj47XG4gICAgLyoqXG4gICAgICogRXhwb3J0IHRyYW5zYWN0aW9ucyAoUE9TVClcbiAgICAgKiBFeHBvcnRzIHRyYW5zYWN0aW9ucyBpbiBhIHZhcmlldHkgb2YgZm9ybWF0c1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zRXhwb3J0V2l0aFBvc3RSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PjtcbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdHJhbnNhY3Rpb25zIChQT1NUKVxuICAgICAqIEV4cG9ydHMgdHJhbnNhY3Rpb25zIGluIGEgdmFyaWV0eSBvZiBmb3JtYXRzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdFJlcXVlc3RQYXJhbXMsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL3BkZicgfCAnYXBwbGljYXRpb24veC1vZngnIHwgJ3RleHQvY3N2JyB8ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCBfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHJhbnNhY3Rpb25MaXN0UmVxdWVzdFwiXTtcbiAgICAgICAgaWYgKF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSBudWxsIHx8IF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHRyYW5zYWN0aW9uTGlzdFJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBvcHRpb25zICYmIG9wdGlvbnMuaHR0cEhlYWRlckFjY2VwdDtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vcGRmJyxcbiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24veC1vZngnLFxuICAgICAgICAgICAgICAgICd0ZXh0L2NzdicsXG4gICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBjb25zdCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJDb250ZW50VHlwZShjb25zdW1lcyk7XG4gICAgICAgIGlmIChodHRwQ29udGVudFR5cGVTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsIGh0dHBDb250ZW50VHlwZVNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdChgJHt0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGh9L2NsaWVudC1hcGkvdjIvdHJhbnNhY3Rpb25zL2V4cG9ydGAsXG4gICAgICAgICAgICBfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwiYmxvYlwiLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc0V4cG9ydFdpdGhQb3N0VXJsKHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdFJlcXVlc3RQYXJhbXMpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHJhbnNhY3Rpb25MaXN0UmVxdWVzdFwiXTtcbiAgICAgICAgaWYgKF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSBudWxsIHx8IF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHRyYW5zYWN0aW9uTGlzdFJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRUcmFuc2FjdGlvbnNFeHBvcnRXaXRoUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRofS9jbGllbnQtYXBpL3YyL3RyYW5zYWN0aW9ucy9leHBvcnRgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3QgdHJhbnNhY3Rpb25zIChQT1NUKVxuICAgICAqIFJldHJpZXZlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRyYW5zYWN0aW9ucyB0aGF0IGZ1bGZpbGwgdGhlIHNlbGVjdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zYWN0aW9uc1dpdGhQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRUcmFuc2FjdGlvbnNXaXRoUG9zdFJlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8QXJyYXk8VHJhbnNhY3Rpb25JdGVtPj47XG4gICAgLyoqXG4gICAgICogTGlzdCB0cmFuc2FjdGlvbnMgKFBPU1QpXG4gICAgICogUmV0cmlldmVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdHJhbnNhY3Rpb25zIHRoYXQgZnVsZmlsbCB0aGUgc2VsZWN0aW9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VHJhbnNhY3Rpb25zV2l0aFBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEdldFRyYW5zYWN0aW9uc1dpdGhQb3N0UmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5PFRyYW5zYWN0aW9uSXRlbT4+PjtcbiAgICAvKipcbiAgICAgKiBMaXN0IHRyYW5zYWN0aW9ucyAoUE9TVClcbiAgICAgKiBSZXRyaWV2ZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0cmFuc2FjdGlvbnMgdGhhdCBmdWxmaWxsIHRoZSBzZWxlY3Rpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNXaXRoUG9zdChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zV2l0aFBvc3RSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEFycmF5PFRyYW5zYWN0aW9uSXRlbT4+PjtcbiAgICAvKipcbiAgICAgKiBMaXN0IHRyYW5zYWN0aW9ucyAoUE9TVClcbiAgICAgKiBSZXRyaWV2ZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0cmFuc2FjdGlvbnMgdGhhdCBmdWxmaWxsIHRoZSBzZWxlY3Rpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNXaXRoUG9zdChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zV2l0aFBvc3RSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UsIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCBfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHJhbnNhY3Rpb25MaXN0UmVxdWVzdFwiXTtcbiAgICAgICAgaWYgKF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSBudWxsIHx8IF90cmFuc2FjdGlvbkxpc3RSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHRyYW5zYWN0aW9uTGlzdFJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRUcmFuc2FjdGlvbnNXaXRoUG9zdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBvcHRpb25zICYmIG9wdGlvbnMuaHR0cEhlYWRlckFjY2VwdDtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQWNjZXB0JywgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGNvbnN0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuICAgICAgICBjb25zdCBodHRwQ29udGVudFR5cGVTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckNvbnRlbnRUeXBlKGNvbnN1bWVzKTtcbiAgICAgICAgaWYgKGh0dHBDb250ZW50VHlwZVNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3BvbnNlVHlwZTogJ3RleHQnIHwgJ2pzb24nID0gJ2pzb24nO1xuICAgICAgICBpZihodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgJiYgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkLnN0YXJ0c1dpdGgoJ3RleHQnKSkge1xuICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wb3N0PEFycmF5PFRyYW5zYWN0aW9uSXRlbT4+KGAke3RoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aH0vY2xpZW50LWFwaS92Mi90cmFuc2FjdGlvbnNgLFxuICAgICAgICAgICAgX3RyYW5zYWN0aW9uTGlzdFJlcXVlc3QsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiA8YW55PnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUcmFuc2FjdGlvbnNXaXRoUG9zdFVybChyZXF1ZXN0UGFyYW1ldGVyczogR2V0VHJhbnNhY3Rpb25zV2l0aFBvc3RSZXF1ZXN0UGFyYW1zKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgX3RyYW5zYWN0aW9uTGlzdFJlcXVlc3QgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInRyYW5zYWN0aW9uTGlzdFJlcXVlc3RcIl07XG4gICAgICAgIGlmIChfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9PT0gbnVsbCB8fCBfdHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB0cmFuc2FjdGlvbkxpc3RSZXF1ZXN0IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0VHJhbnNhY3Rpb25zV2l0aFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aH0vY2xpZW50LWFwaS92Mi90cmFuc2FjdGlvbnNgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0cmFuc2FjdGlvbnNcbiAgICAgKiBVcGRhdGVzIHNvbWUgYXR0cmlidXRlcyBvZiBhIGNvbGxlY3Rpb24gb2YgdHJhbnNhY3Rpb25zXG4gICAgICogQHBhcmFtIHJlcXVlc3RQYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHBhdGNoVHJhbnNhY3Rpb25zKHJlcXVlc3RQYXJhbWV0ZXJzOiBQYXRjaFRyYW5zYWN0aW9uc1JlcXVlc3RQYXJhbXMsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiwgb3B0aW9ucz86IHtodHRwSGVhZGVyQWNjZXB0PzogJ2FwcGxpY2F0aW9uL2pzb24nfSk6IE9ic2VydmFibGU8YW55PjtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdHJhbnNhY3Rpb25zXG4gICAgICogVXBkYXRlcyBzb21lIGF0dHJpYnV0ZXMgb2YgYSBjb2xsZWN0aW9uIG9mIHRyYW5zYWN0aW9uc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBwYXRjaFRyYW5zYWN0aW9ucyhyZXF1ZXN0UGFyYW1ldGVyczogUGF0Y2hUcmFuc2FjdGlvbnNSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLCBvcHRpb25zPzoge2h0dHBIZWFkZXJBY2NlcHQ/OiAnYXBwbGljYXRpb24vanNvbid9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8YW55Pj47XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRyYW5zYWN0aW9uc1xuICAgICAqIFVwZGF0ZXMgc29tZSBhdHRyaWJ1dGVzIG9mIGEgY29sbGVjdGlvbiBvZiB0cmFuc2FjdGlvbnNcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcGF0Y2hUcmFuc2FjdGlvbnMocmVxdWVzdFBhcmFtZXRlcnM6IFBhdGNoVHJhbnNhY3Rpb25zUmVxdWVzdFBhcmFtcywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4sIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PjtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdHJhbnNhY3Rpb25zXG4gICAgICogVXBkYXRlcyBzb21lIGF0dHJpYnV0ZXMgb2YgYSBjb2xsZWN0aW9uIG9mIHRyYW5zYWN0aW9uc1xuICAgICAqIEBwYXJhbSByZXF1ZXN0UGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBwYXRjaFRyYW5zYWN0aW9ucyhyZXF1ZXN0UGFyYW1ldGVyczogUGF0Y2hUcmFuc2FjdGlvbnNSZXF1ZXN0UGFyYW1zLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UsIG9wdGlvbnM/OiB7aHR0cEhlYWRlckFjY2VwdD86ICdhcHBsaWNhdGlvbi9qc29uJ30pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCBfdHJhbnNhY3Rpb25zQ2xpZW50UGF0Y2hSZXF1ZXN0Qm9keSA9IHJlcXVlc3RQYXJhbWV0ZXJzW1widHJhbnNhY3Rpb25zQ2xpZW50UGF0Y2hSZXF1ZXN0Qm9keVwiXTtcbiAgICAgICAgaWYgKF90cmFuc2FjdGlvbnNDbGllbnRQYXRjaFJlcXVlc3RCb2R5ID09PSBudWxsIHx8IF90cmFuc2FjdGlvbnNDbGllbnRQYXRjaFJlcXVlc3RCb2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHRyYW5zYWN0aW9uc0NsaWVudFBhdGNoUmVxdWVzdEJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwYXRjaFRyYW5zYWN0aW9ucy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBvcHRpb25zICYmIG9wdGlvbnMuaHR0cEhlYWRlckFjY2VwdDtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQWNjZXB0JywgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGNvbnN0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuICAgICAgICBjb25zdCBodHRwQ29udGVudFR5cGVTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckNvbnRlbnRUeXBlKGNvbnN1bWVzKTtcbiAgICAgICAgaWYgKGh0dHBDb250ZW50VHlwZVNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3BvbnNlVHlwZTogJ3RleHQnIHwgJ2pzb24nID0gJ2pzb24nO1xuICAgICAgICBpZihodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgJiYgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkLnN0YXJ0c1dpdGgoJ3RleHQnKSkge1xuICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wYXRjaDxhbnk+KGAke3RoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aH0vY2xpZW50LWFwaS92Mi90cmFuc2FjdGlvbnNgLFxuICAgICAgICAgICAgX3RyYW5zYWN0aW9uc0NsaWVudFBhdGNoUmVxdWVzdEJvZHksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiA8YW55PnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXRjaFRyYW5zYWN0aW9uc1VybChyZXF1ZXN0UGFyYW1ldGVyczogUGF0Y2hUcmFuc2FjdGlvbnNSZXF1ZXN0UGFyYW1zKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgX3RyYW5zYWN0aW9uc0NsaWVudFBhdGNoUmVxdWVzdEJvZHkgPSByZXF1ZXN0UGFyYW1ldGVyc1tcInRyYW5zYWN0aW9uc0NsaWVudFBhdGNoUmVxdWVzdEJvZHlcIl07XG4gICAgICAgIGlmIChfdHJhbnNhY3Rpb25zQ2xpZW50UGF0Y2hSZXF1ZXN0Qm9keSA9PT0gbnVsbCB8fCBfdHJhbnNhY3Rpb25zQ2xpZW50UGF0Y2hSZXF1ZXN0Qm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB0cmFuc2FjdGlvbnNDbGllbnRQYXRjaFJlcXVlc3RCb2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcGF0Y2hUcmFuc2FjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aH0vY2xpZW50LWFwaS92Mi90cmFuc2FjdGlvbnNgO1xuICAgIH1cblxufVxuIl19