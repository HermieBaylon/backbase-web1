{"version":3,"file":"backbase-authorized-users-journey-ang.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/authorized-users-journey/src/common/model/authorized-users.model.ts","../../../../libs/authorized-users-journey/src/common/constants.ts","../../../../libs/authorized-users-journey/src/common/utils/accessibility-keyboard.directive.ts","../../../../libs/authorized-users-journey/src/common/components/permissions-table/permissions-table.component.ts","../../../../libs/authorized-users-journey/src/common/components/permissions-table/permissions-table.component.html","../../../../libs/authorized-users-journey/src/common/model/account-list.model.ts","../../../../libs/authorized-users-journey/src/common/model/service-agreement.model.ts","../../../../libs/authorized-users-journey/src/common/services/default-level-mapping-config.service.ts","../../../../libs/authorized-users-journey/src/common/services/users-ui.service.ts","../../../../libs/authorized-users-journey/src/common/services/user-data.service.ts","../../../../libs/authorized-users-journey/src/common/authorized-users-common.module.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-stepper/authorized-users-stepper.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-stepper/authorized-users-stepper.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-stepper/authorized-users-edit-stepper.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-stepper/authorized-users-edit-stepper.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-create-container/authorized-users-create-container.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-create-container/authorized-users-create-container.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-create-common/base-authorized-users-create-step.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-user-details/authorized-users-user-details.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-user-details/authorized-users-user-details.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-accounts/authorized-users-accounts.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-accounts/authorized-users-accounts.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-permissions/authorized-users-permissions-card.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-permissions/authorized-users-permissions-card.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-permissions/authorized-users-permissions.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-permissions/authorized-users-permissions.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-confirmation/authorized-users-confirmation.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-confirmation/authorized-users-confirmation.component.html","../../../../libs/authorized-users-journey/src/common/components/authorized-users-base-dialog/authorized-users-base-dialog.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-confirmation-complete/authorized-users-confirmation-complete.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-confirmation-complete/authorized-users-confirmation-complete.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-cancel-creation/authorized-users-cancel-creation.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-cancel-creation/authorized-users-cancel-creation.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/components/authorized-users-create-common/authorized-users-step-handler.directive.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/authorized-users-create-wrapper.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-create/authorized-users-create-wrapper.component.html","../../../../libs/authorized-users-journey/src/authorized-users-create/authorized-users-create.module.ts","../../../../libs/authorized-users-journey/src/authorized-users-journey.component.ts","../../../../libs/authorized-users-journey/src/common/model/authorized-users-error.model.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-status-badge/authorized-users-list-status-badge.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-status-badge/authorized-users-list-status-badge.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-item/authorized-users-list-item.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-item/authorized-users-list-item.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list/authorized-users-list.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list/authorized-users-list.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-empty-list/authorized-users-empty-list.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-empty-list/authorized-users-empty-list.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-confirmation-dialog/authorized-users-list-confirmation-remove-user-dialog.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-confirmation-dialog/authorized-users-list-confirmation-remove-user-dialog.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-confirmation-dialog/authorized-user-list-confirmation-pause-user-dialog.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-confirmation-dialog/authorized-user-list-confirmation-pause-user-dialog.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-wrapper/authorized-users-list-wrapper.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-list/components/authorized-users-list-wrapper/authorized-users-list-wrapper.component.html","../../../../libs/authorized-users-journey/src/authorized-users-list/authorized-users-list.module.ts","../../../../libs/authorized-users-journey/src/services/authorized-users-journey-config.service.ts","../../../../libs/authorized-users-journey/src/views/authorized-user-create.component.ts","../../../../libs/authorized-users-journey/src/views/authorized-users-list.component.ts","../../../../libs/authorized-users-journey/src/authorized-users-journey.module.ts","../../../../libs/authorized-users-journey/backbase-authorized-users-journey-ang.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {\n  GetAuthorizedUserItem,\n  PostAuthorizedUser,\n  PutAuthorizedUserPermissions,\n} from '@backbase/data-ang/authorized-users';\nimport { AccountList } from './account-list.model';\nimport { Account } from './account.model';\n\nexport interface BaseAuthorizedUser {\n  id?: string;\n  said: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  mobileNumber: string;\n  username: string;\n  status?: AuthorizedUserStatus;\n  additions?: { [key: string]: any };\n}\n\nexport interface AuthorizedUser extends BaseAuthorizedUser {\n  permissions: Array<AuthorizedPermission>;\n}\n\nexport interface RawAuthorizedUser extends BaseAuthorizedUser {\n  permissions: Array<RawAuthorizedPermission>;\n}\n\nexport interface AuthorizedUsersList {\n  items: AuthorizedUser[];\n}\n\nexport interface AuthorizedPermission {\n  account: Account;\n  level?: AuthorizedPermissionLevel;\n}\n\nexport interface RawAuthorizedPermission {\n  accountId?: string;\n  level?: AuthorizedPermissionLevel;\n}\n\nexport enum AuthorizedPermissionLevel {\n  VIEW_ONLY = 'viewOnly',\n  MONEY_MOVEMENT = 'moneyMovement',\n  FULL_ACCESS = 'fullAccess',\n}\n\nexport enum AuthorizedUserStatus {\n  PAUSED = 'PAUSED',\n  AWAITING_REGISTRATION = 'AWAITING_REGISTRATION',\n  ACTIVE = 'ACTIVE',\n}\n\nexport type PartialAuthorizedUsers = Partial<AuthorizedUser>;\n\nexport type SafeTypeArray = readonly [] | readonly any[];\n\nexport interface LevelsMappingConfig {\n  fromStringToPermissionLevel(value: string): AuthorizedPermissionLevel;\n  fromPermissionLevelToString(value: AuthorizedPermissionLevel | undefined): string;\n}\n\nexport interface LevelUIConfig<T> {\n  icon: string;\n  title: string;\n  permissionsAssigned: T;\n}\n\nexport interface LevelUIConfigHeader<T> extends LevelUIConfig<T> {\n  level: AuthorizedPermissionLevel;\n  validate(): boolean;\n}\n\nexport interface LevelsUIConfig<T> {\n  levels: [LevelUIConfig<T>, LevelUIConfig<T>, LevelUIConfig<T>];\n}\n\nexport interface PermissionUIConfig<T> {\n  permissions: T;\n}\n\nexport interface LevelsConfig<T extends SafeTypeArray, S extends { [k in keyof T]: any }> {\n  mappings?: LevelsMappingConfig;\n  uiConfig?: LevelsUIConfig<T> & PermissionUIConfig<S>;\n}\n\nexport namespace AuthorizedUsersList {\n  export function buildHttpResponse(levelMappignConfig: LevelsMappingConfig) {\n    return (response: Array<GetAuthorizedUserItem>): RawAuthorizedUser[] => {\n      if (response) {\n        const data = Array.isArray(response) ? response : [response];\n        return data.map(\n          ({ id, said, firstName, lastName, email, mobileNumber, username, status, permissions, ...others }) => {\n            return {\n              id,\n              said,\n              firstName,\n              lastName,\n              email,\n              mobileNumber,\n              username,\n              status: status as AuthorizedUserStatus,\n              permissions: permissions.map(({ accountId, level, ...otherPermissionsProps }) => ({\n                accountId,\n                level: levelMappignConfig.fromStringToPermissionLevel(level || ''),\n                ...otherPermissionsProps,\n              })),\n              ...others,\n            };\n          },\n        );\n      }\n      return [];\n    };\n  }\n\n  export function mapData(authorizedUsers: RawAuthorizedUser[], accounts: AccountList): AuthorizedUsersList {\n    const items = authorizedUsers.map((authorizedUser) => {\n      const { permissions, ...others } = authorizedUser;\n      return {\n        permissions: setAccountToPermissions(permissions, accounts),\n        ...others,\n      };\n    });\n\n    return {\n      items,\n    };\n  }\n\n  function setAccountToPermissions(\n    permissions: RawAuthorizedPermission[],\n    accounts: AccountList,\n  ): AuthorizedPermission[] {\n    return permissions\n      .map((permission) => {\n        const { accountId, ...others } = permission;\n\n        return {\n          account: accounts.items.find((account) => account.id === accountId)!,\n          ...others,\n        };\n      })\n      .filter((permission) => !!permission.account);\n  }\n}\n\nexport namespace AuthorizedUser {\n  export function buildHttpRequest(levelMappignConfig: LevelsMappingConfig) {\n    const formatAuthorizedPermission = ({ account, level, ...othersPropsPermissions }: AuthorizedPermission) => ({\n      accountId: account.id,\n      level: levelMappignConfig.fromPermissionLevelToString(level),\n      ...othersPropsPermissions,\n    });\n\n    return {\n      post(user: PartialAuthorizedUsers): PostAuthorizedUser {\n        const { email = '', firstName = '', lastName = '', mobileNumber = '', permissions = [], ...others } = user;\n        return {\n          email,\n          firstName,\n          lastName,\n          mobileNumber,\n          permissions: permissions.map(formatAuthorizedPermission),\n          ...others,\n        };\n      },\n\n      put(permissions: AuthorizedPermission[]): PutAuthorizedUserPermissions {\n        return {\n          permissions: permissions.map(formatAuthorizedPermission),\n        };\n      },\n    };\n  }\n}\n","import { PaymentCardNumberFormat } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { LevelsUIConfig, PermissionUIConfig } from './model/authorized-users.model';\n\n// eslint-disable-next-line no-var\ndeclare var $localize: any;\n\nexport type AccountNumberFormat = Readonly<PaymentCardNumberFormat>;\n\nexport const DEFAULT_ACCOUNT_NUMBER_FORMAT: AccountNumberFormat = {\n  length: 9,\n  maskRange: [0, length - 4],\n  segments: 0,\n};\n\nexport const SERVICE_AGREEMENT_DISABLED = 'DISABLED';\nexport const SERVICE_AGREEMENT_ENABLED = 'ENABLED';\n\nexport const DEFAULT_UI_LEVELS_CONFIG: LevelsUIConfig<[boolean, boolean, boolean, boolean, boolean]> = {\n  levels: [\n    { icon: 'visibility', title: $localize`View Only`, permissionsAssigned: [true, true, false, false, false] },\n    { icon: 'attach-money', title: $localize`Money Movement`, permissionsAssigned: [true, true, true, false, false] },\n    { icon: 'vpn-key', title: $localize`Full Access`, permissionsAssigned: [true, true, true, true, true] },\n  ],\n};\n\nexport const DEFAULT_UI_PERMISSIONS_CONFIG: PermissionUIConfig<[string, string, string, string, string]> = {\n  permissions: [\n    $localize`Balances, Transactions and Statements`,\n    $localize`Cashflow and Spending Analysis`,\n    $localize`Transfers and Bill Payments`,\n    $localize`Check Deposits`,\n    $localize`Other User Features`,\n  ],\n};\n","import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[bbAuthorizedUsersAccessibilityKeyboard]',\n})\nexport class AuthorizedUsersAccessibilityKeyboardDirective {\n  constructor(readonly element: ElementRef) {\n    element.nativeElement.tabIndex = 0;\n  }\n\n  // eslint-disable-next-line\n  @HostListener('keydown.enter', ['$event'])\n  // eslint-disable-next-line\n  @HostListener('keydown.space', ['$event'])\n  eventListener(event: any) {\n    this.element.nativeElement.click(event);\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport {\n  AuthorizedPermission,\n  AuthorizedPermissionLevel,\n  LevelUIConfigHeader,\n} from '../../model/authorized-users.model';\nimport { DEFAULT_ACCOUNT_NUMBER_FORMAT } from '../../constants';\n\n@Component({\n  selector: 'bb-authorized-users-permissions-levels-table',\n  templateUrl: './permissions-table.component.html',\n})\nexport class AuthorizedUsersPermissionsLevelsTableComponent {\n  @Input() selectedAccounts: AuthorizedPermission[] | undefined;\n  @Input() isEditing = false;\n  @Input() enableAccountLevelFullAccessPermission: boolean | undefined;\n  @Input() levelsConfig: Array<LevelUIConfigHeader<boolean[]>> | undefined;\n  @Output() updateAccount = new EventEmitter<AuthorizedPermission>();\n\n  productNumberFormat = DEFAULT_ACCOUNT_NUMBER_FORMAT;\n  authorizedPermissionLevel = AuthorizedPermissionLevel;\n\n  changeAccountLevel(account: AuthorizedPermission, newLevel: AuthorizedPermissionLevel) {\n    this.updateAccount.emit({\n      ...account,\n      ...{ level: newLevel },\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  sortKeepOriginalOrder = (..._: any): number => {\n    return 0;\n  };\n\n  useEditableCell(level: AuthorizedPermissionLevel) {\n    const isFullAccessField = level === this.authorizedPermissionLevel.FULL_ACCESS;\n    const isFullAccesEditable = isFullAccessField && this.enableAccountLevelFullAccessPermission;\n    return isFullAccesEditable || !isFullAccessField;\n  }\n}\n","<table class=\"table table-striped bb-authorized-users-common-permission-table\">\n  <caption class=\"sr-only\" i18n=\"Permission Management|Table Caption@@authorized-users.common.permissions-table.caption\">\n    Permission Management\n  </caption>\n  <thead>\n    <tr>\n      <th scope=\"col\">\n        <strong>\n          <span i18n=\"Accounts and Permissions title@@authorized-users.common.permissions-table.column-1.title\">\n            Accounts and Permissions\n          </span>\n        </strong>\n      </th>\n      <th scope=\"col\" class=\"text-center\" *ngFor=\"let levelConfig of levelsConfig\">\n        <strong class=\"bb-inline-stack\">\n          <bb-icon-ui [name]=\"levelConfig.icon\" size=\"sm\" class=\"bb-inline-stack__item\"></bb-icon-ui>\n          <span class=\"bb-inline-stack__item\">\n            {{levelConfig.title}}\n          </span>\n        </strong>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <ng-container *ngFor=\"let selectedAccount of selectedAccounts\">\n      <tr>\n        <td>\n          <div>\n            {{ selectedAccount.account.name }}\n          </div>\n          <div *ngIf=\"selectedAccount.account.displayNumber\" class=\"bb-text-support\">\n            {{ selectedAccount.account.displayNumber.slice(selectedAccount.account.displayNumber.length-9, selectedAccount.account.displayNumber.length) | paymentCardNumber: productNumberFormat }}\n          </div>\n        </td>\n        <ng-container *ngIf=\"isEditing then editMode; else viewMode\"></ng-container>\n      </tr>\n      \n      <ng-template #editMode>\n        <ng-container *ngFor=\"let permissionLevel of authorizedPermissionLevel | keyvalue : sortKeepOriginalOrder\">\n          <td class=\"text-center\">\n            <ng-container *ngIf=\"useEditableCell(permissionLevel.value); then editableTemplate; else mutedTemplate\"></ng-container>\n            \n            <ng-template #editableTemplate>\n              <bb-icon-ui\n                bbAuthorizedUsersAccessibilityKeyboard\n                [attr.data-role]=\"'user-permissions-edit-table-' + permissionLevel.value + (selectedAccount.level === permissionLevel.value ? '-checked' : '-unchecked')\"\n                [name]=\"selectedAccount.level === permissionLevel.value ? 'radio-button-checked' : 'radio-button-unchecked'\"\n                [color]=\"selectedAccount.level === permissionLevel.value ? 'primary' : 'inactive'\"\n                (click)=\"changeAccountLevel(selectedAccount, permissionLevel.value)\"\n                [attr.aria-checked]=\"selectedAccount.level === permissionLevel.value\"\n              ></bb-icon-ui>\n            </ng-template>\n\n            <ng-template #mutedTemplate>\n              <bb-icon-ui name=\"remove\" color=\"muted\" data-role=\"user-permissions-edit-table-fullAccess-muted\"></bb-icon-ui>\n              <span\n                class=\"sr-only\" \n                i18n=\"Full access can only be assigned to all accounts at once, individual account-level full access permission cannot be assigned | ScreenReader text@@authorized-users.common.permissions-table.view-mode.non-editable\"\n              >\n                Full access can only be assigned to all accounts at once, individual account-level full access permission cannot be assigned.\n              </span>\n            </ng-template>\n          </td>\n        </ng-container>\n      </ng-template>\n      \n      <ng-template #viewMode>\n        <ng-container *ngFor=\"let permissionLevel of authorizedPermissionLevel | keyvalue : sortKeepOriginalOrder\">\n          <td class=\"text-center\">\n            <bb-icon-ui\n              [name]=\"selectedAccount.level === permissionLevel.value ? 'check' : 'remove'\"\n              [color]=\"selectedAccount.level === permissionLevel.value ? 'success' : 'muted'\"\n              [attr.data-role]=\"'user-permissions-view-table-' + permissionLevel.value + (selectedAccount.level === permissionLevel.value ? '-checked' : '-unchecked')\"\n            ></bb-icon-ui>\n            <span\n              *ngIf=\"selectedAccount.level === permissionLevel.value\"\n              class=\"sr-only\" \n              i18n=\"Checked | ScreenReader text@@authorized-users.common.permissions-table.view-mode.checked\"\n            >\n              Checked\n            </span>\n            <span\n              *ngIf=\"!selectedAccount.level === permissionLevel.value\"\n              class=\"sr-only\" \n              i18n=\"Unchecked | ScreenReader text@@authorized-users.common.permissions-table.view-mode.unchecked\"\n            >\n              Unchecked\n            </span>\n          </td>\n        </ng-container>\n      </ng-template>\n      \n    </ng-container>\n  </tbody>\n</table>","import { ProductSummaryItem } from '@backbase/data-ang/arrangements';\nimport { Account } from './account.model';\n\nexport interface AccountList {\n  items: Account[];\n}\n\nexport namespace AccountList {\n  export function fromHttpResponse(response: Array<ProductSummaryItem>): AccountList {\n    return {\n      items: response.map((item: ProductSummaryItem) => ({\n        id: item.id,\n        name: item.name,\n        alias: item.bankAlias,\n        IBAN: item.IBAN,\n        BBAN: item.BBAN,\n        number: item.number,\n        currency: item.currency,\n        displayNumber: item.IBAN || item.BBAN || item.number,\n      })),\n    };\n  }\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { ServiceAgreementStatePut, Status } from '@backbase/data-ang/accesscontrol';\n\nexport interface ServiceAgreementRequest {\n  validUntilDate: string;\n  validUntilTime: string;\n  status: string;\n  additions: { [key: string]: any };\n}\n\nexport namespace ServiceAgreementRequest {\n  export function toHttpRequest(state: Status): ServiceAgreementStatePut {\n    return {\n      state,\n    };\n  }\n\n  export function fromHttpResponse(response: HttpResponse<any>): any {\n    return response.body;\n  }\n}\n","import { AuthorizedPermissionLevel, LevelsMappingConfig } from '../model/authorized-users.model';\n\nexport class LevelsMappingConfigImplementation implements LevelsMappingConfig {\n  fromStringToPermissionLevel(value: string): AuthorizedPermissionLevel {\n    if (value.toLocaleLowerCase() === 'view only') {\n      return AuthorizedPermissionLevel.VIEW_ONLY;\n    } else if (value.toLocaleLowerCase() === 'money movement') {\n      return AuthorizedPermissionLevel.MONEY_MOVEMENT;\n    } else if (value.toLocaleLowerCase() === 'full access') {\n      return AuthorizedPermissionLevel.FULL_ACCESS;\n    } else {\n      return AuthorizedPermissionLevel.VIEW_ONLY;\n    }\n  }\n\n  fromPermissionLevelToString(value: AuthorizedPermissionLevel | undefined): string {\n    switch (value) {\n      case AuthorizedPermissionLevel.VIEW_ONLY:\n        return 'View Only';\n      case AuthorizedPermissionLevel.MONEY_MOVEMENT:\n        return 'Money Movement';\n      case AuthorizedPermissionLevel.FULL_ACCESS:\n        return 'Full Access';\n      default:\n        return 'View Only';\n    }\n  }\n}\n","import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { DEFAULT_UI_LEVELS_CONFIG, DEFAULT_UI_PERMISSIONS_CONFIG } from '../constants';\nimport {\n  AuthorizedPermissionLevel,\n  LevelsConfig,\n  LevelsMappingConfig,\n  LevelUIConfig,\n  LevelUIConfigHeader,\n  PermissionUIConfig,\n  SafeTypeArray,\n} from '../model/authorized-users.model';\nimport { LevelsMappingConfigImplementation } from './default-level-mapping-config.service';\nimport { first, switchMap, catchError } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nexport const levelsMappingConfigToken = new InjectionToken<LevelsMappingConfig>('level injection token');\n@Injectable()\nexport class UsersUIService {\n  private readonly statusMapping: LevelsMappingConfig;\n  private readonly uiLevelsConfig: Array<LevelUIConfigHeader<SafeTypeArray>> | undefined;\n  private readonly uiPermissionsConfig: PermissionUIConfig<SafeTypeArray> | undefined;\n  private readonly authorizedPermissionLevel = [\n    AuthorizedPermissionLevel.VIEW_ONLY,\n    AuthorizedPermissionLevel.MONEY_MOVEMENT,\n    AuthorizedPermissionLevel.FULL_ACCESS,\n  ];\n  private readonly getURIFromTxtAssetID = (assetId: string) => `${assetId}.txt`;\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  private readonly resolveTxtAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-authorized-users-journey-ang',\n    getURIFromAssetID: this.getURIFromTxtAssetID,\n  });\n\n  get uiLevelsConfigValue() {\n    return this.uiLevelsConfig;\n  }\n\n  get uiPermissionsConfigValue() {\n    return this.uiPermissionsConfig;\n  }\n\n  get statusMappingValue() {\n    return this.statusMapping;\n  }\n\n  private get termsConditionsUrl(): Observable<string> {\n    return this.resolveTxtAsset('terms-and-conditions');\n  }\n\n  private fetchFile = (fileLocation: string) => {\n    return this.http.get(fileLocation, { responseType: 'text' });\n  };\n\n  termsConditionsContent(): Observable<string> {\n    return this.termsConditionsUrl.pipe(\n      first(),\n      switchMap(this.fetchFile),\n      catchError(() => {\n        console.warn('No terms and conditions file was found');\n        return of('');\n      }),\n    );\n  }\n\n  constructor(\n    // eslint-disable-next-line\n    @Inject(levelsMappingConfigToken)\n    @Optional()\n    private levelsConfig: LevelsConfig<SafeTypeArray, SafeTypeArray> | undefined,\n    private readonly http: HttpClient,\n    private readonly assetsService: AssetsService,\n  ) {\n    this.statusMapping = this?.levelsConfig?.mappings\n      ? this.levelsConfig.mappings\n      : new LevelsMappingConfigImplementation();\n\n    const mapLevels = (value: LevelUIConfig<SafeTypeArray>, index: number): LevelUIConfigHeader<SafeTypeArray> => ({\n      ...value,\n      level: this.authorizedPermissionLevel[index],\n      validate() {\n        return this.level !== AuthorizedPermissionLevel.FULL_ACCESS;\n      },\n    });\n\n    this.uiLevelsConfig = this?.levelsConfig?.uiConfig?.levels\n      ? this.levelsConfig.uiConfig.levels.map(mapLevels)\n      : DEFAULT_UI_LEVELS_CONFIG.levels.map(mapLevels);\n    this.uiPermissionsConfig = this?.levelsConfig?.uiConfig?.permissions\n      ? { permissions: this.levelsConfig.uiConfig.permissions }\n      : DEFAULT_UI_PERMISSIONS_CONFIG;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AuthorizedUserService } from '@backbase/data-ang/authorized-users';\nimport {\n  AuthorizedPermission,\n  AuthorizedUser,\n  AuthorizedUsersList,\n  LevelsMappingConfig,\n  PartialAuthorizedUsers,\n  RawAuthorizedUser,\n} from '../model/authorized-users.model';\nimport { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ProductSummaryHttpService } from '@backbase/data-ang/arrangements';\nimport { AccountList } from '../model/account-list.model';\nimport { ServiceAgreementRequest } from '../model/service-agreement.model';\nimport { ServiceAgreementHttpService, Status } from '@backbase/data-ang/accesscontrol';\nimport { UsersUIService } from './users-ui.service';\n\n@Injectable()\nexport class UserDataService {\n  private accounts: Observable<AccountList>;\n  private authorizedUsersList: Observable<RawAuthorizedUser[]>;\n  private readonly statusMapping: LevelsMappingConfig;\n\n  setStatusForServiceAgreements(userSaid: string, status: Status): Observable<void> {\n    return this.accessGroupDataHttpService.putServiceAgreementState({\n      serviceAgreementId: userSaid,\n      serviceAgreementStatePut: ServiceAgreementRequest.toHttpRequest(status),\n    });\n  }\n\n  updateAuthorizedUserStatus(id: string, status: Status) {\n    return this.userDataHttpService.updateStatusForAuthorizedUser({\n      authorizedUserId: id,\n      updateAuthorizedUserStatus: { enabled: status === Status.ENABLED },\n    });\n  }\n\n  addAuthorizedUser(user: PartialAuthorizedUsers): Observable<void> {\n    return this.userDataHttpService.createAuthorizedUser({\n      postAuthorizedUser: AuthorizedUser.buildHttpRequest(this.statusMapping!).post(user),\n    });\n  }\n\n  retrieveAuthorizedUser(): Observable<AuthorizedUsersList> {\n    return combineLatest([this.authorizedUsersList, this.accounts]).pipe(\n      map(([authorizedUsers, accounts]) => AuthorizedUsersList.mapData(authorizedUsers, accounts)),\n    );\n  }\n\n  getAllArrangements(): Observable<AccountList> {\n    return this.accounts;\n  }\n\n  updateAuthorizedUser(id: string, permissions: AuthorizedPermission[]): Observable<void> {\n    return this.userDataHttpService.updatePermissionsForAuthorizedUser({\n      authorizedUserId: id,\n      putAuthorizedUserPermissions: AuthorizedUser.buildHttpRequest(this.statusMapping!).put(permissions),\n    });\n  }\n\n  removeAuthorizedUser(id: string): Observable<any> {\n    return this.userDataHttpService.deleteAuthorizedUser({\n      authorizedUserId: id,\n    });\n  }\n\n  constructor(\n    private readonly accessGroupDataHttpService: ServiceAgreementHttpService,\n    private readonly userDataHttpService: AuthorizedUserService,\n    private readonly productSummaryDataHttpService: ProductSummaryHttpService,\n    private readonly usersUIService: UsersUIService,\n  ) {\n    this.statusMapping = this.usersUIService.statusMappingValue;\n    this.accounts = this.productSummaryDataHttpService\n      .getArrangementsByBusinessFunction({\n        businessFunction: 'Product Summary',\n        resourceName: 'Product Summary',\n        privilege: 'view',\n        size: 1000000,\n      })\n      .pipe(map(AccountList.fromHttpResponse));\n\n    this.authorizedUsersList = this.userDataHttpService\n      .getAuthorizedUsers()\n      .pipe(map(AuthorizedUsersList.buildHttpResponse(this.statusMapping)));\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { PaymentCardNumberModule } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { TableModule } from '@backbase/ui-ang/table';\nimport { AuthorizedUsersPermissionsLevelsTableComponent } from './components/permissions-table/permissions-table.component';\nimport { UserDataService } from './services/user-data.service';\nimport { UsersUIService } from './services/users-ui.service';\nimport { AuthorizedUsersAccessibilityKeyboardDirective } from './utils/accessibility-keyboard.directive';\n\nconst modules = [IconModule, TableModule, PaymentCardNumberModule];\n\nconst declarations = [AuthorizedUsersPermissionsLevelsTableComponent, AuthorizedUsersAccessibilityKeyboardDirective];\n\n@NgModule({\n  imports: [CommonModule, ...modules],\n  providers: [UserDataService, UsersUIService],\n  declarations: [...declarations],\n  exports: [...modules, ...declarations],\n})\nexport class AuthorizedUsersCommonModule {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-authorized-users-stepper',\n  templateUrl: 'authorized-users-stepper.component.html',\n})\nexport class AuthorizedUsersStepperComponent {\n  @Input() currentStep = 1;\n}\n","<bb-stepper-ui>\n  <bb-stepper-step-ui \n    label=\"User details\"\n    class=\"bb-stack__item\"\n    i18n-label=\"User details@@authorized-users.create.stepper.header.step1\"\n    [isChecked]=\"currentStep > 1\"\n    [isActive]=\"currentStep >= 1\"\n    ariaLabel=\"Step 1 out of 4\"\n    i18n-ariaLabel=\"Step 1 out of 4@@authorized-users.create.stepper.aria.label.step1\"\n  >\n  </bb-stepper-step-ui>\n  <bb-stepper-step-ui \n    class=\"bb-stack__item\" \n    label=\"Accounts\"\n    i18n-label=\"Accounts@@authorized-users.create.stepper.header.step2\"\n    [isChecked]=\"currentStep > 2\"\n    [isActive]=\"currentStep >= 2\" \n    ariaLabel=\"Step 2 out of 4\"\n    i18n-ariaLabel=\"Step 2 out of 4@@authorized-users.create.stepper.aria.label.step2\"\n  >\n  </bb-stepper-step-ui>\n  <bb-stepper-step-ui \n    class=\"bb-stack__item\" \n    label=\"Permissions\" \n    i18n-label=\"Permissions@@authorized-users.create.stepper.header.step3\"\n    [isActive]=\"currentStep >= 3\" \n    [isChecked]=\"currentStep > 3\"\n    ariaLabel=\"Step 3 out of 4\"\n    i18n-ariaLabel=\"Step 3 out of 4@@authorized-users.create.stepper.aria.label.step3\"\n  >\n  </bb-stepper-step-ui>\n  <bb-stepper-step-ui \n    class=\"bb-stack__item\" \n    label=\"Confirmation\" \n    i18n-label=\"Confirmation@@authorized-users.create.stepper.header.step4\"\n    [isActive]=\"currentStep >= 4\" \n    ariaLabel=\"Step 4 out of 4\"\n    i18n-ariaLabel=\"Step 3 out of 4@@authorized-users.create.stepper.aria.label.step4\"\n  >\n  </bb-stepper-step-ui>\n</bb-stepper-ui>","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bb-authorized-users-edit-stepper',\n  templateUrl: 'authorized-users-edit-stepper.component.html',\n})\nexport class AuthorizedUserEditStepperComponent {\n  @Input() currentStep = 1;\n}\n","<div class=\"bb-authorized-users-stepper\">\n  <bb-stepper-ui class=\"col-8\">\n    <bb-stepper-step-ui \n      class=\"bb-stack__item\"\n      label=\"Accounts\"\n      i18n-label=\"Accounts@@authorized-users.edit.stepper.header.step1\"\n      [isChecked]=\"currentStep > 1\"\n      [isActive]=\"currentStep >= 1\"\n      ariaLabel=\"Step 1 out of 3\"\n      i18n-ariaLabel=\"Step 1 out of 3@@authorized-users.edit.stepper.aria.label.step1\"\n    >\n    </bb-stepper-step-ui>\n    <bb-stepper-step-ui \n      class=\"bb-stack__item\" \n      label=\"Permissions\" \n      i18n-label=\"Permissions@@authorized-users.edit.stepper.header.step2\"\n      [isChecked]=\"currentStep > 2\"\n      [isActive]=\"currentStep >= 2\" \n      ariaLabel=\"Step 2 out of 3\"\n      i18n-ariaLabel=\"Step 2 out of 3@@authorized-users.edit.stepper.aria.label.step2\"\n    >\n    </bb-stepper-step-ui>\n    <bb-stepper-step-ui \n      class=\"bb-stack__item\" \n      label=\"Confirmation\"\n      i18n-label=\"Permissions@@authorized-users.edit.stepper.header.step3\"\n      [isActive]=\"currentStep >= 3\" \n      [isChecked]=\"currentStep > 3\"\n      ariaLabel=\"Step 3 out of 3\"\n      i18n-ariaLabel=\"Step 3 out of 3@@authorized-users.edit.stepper.aria.label.step3\"\n    >\n    </bb-stepper-step-ui>\n  </bb-stepper-ui>\n</div>","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bb-authorized-users-create-container',\n  templateUrl: 'authorized-users-create-container.component.html',\n})\nexport class AuthorizedUsersCreateContainerComponent {\n  private nextStep = 1;\n  nextStepIndex() {\n    return this.nextStep++;\n  }\n}\n","<div class=\"card\">\n  <div class=\"card-body modal-body\">\n    <ng-content></ng-content>\n  </div>\n</div>","import { Output, EventEmitter, Input, Directive, OnInit } from '@angular/core';\nimport {\n  AuthorizedUser,\n  LevelUIConfigHeader,\n  PartialAuthorizedUsers,\n  PermissionUIConfig,\n} from '../../../common/model/authorized-users.model';\n\n@Directive()\n// eslint-disable-next-line\nexport abstract class BaseAuthorizedUsersCreateStep implements OnInit {\n  @Output() next = new EventEmitter<Partial<AuthorizedUser>>();\n  @Output() back = new EventEmitter<void>();\n  @Output() saveOnly = new EventEmitter<Partial<AuthorizedUser>>();\n  @Output() cancel = new EventEmitter<void>();\n  @Input() authorizedUser!: PartialAuthorizedUsers;\n  @Input() isFirstStep = false;\n  @Input() enableAccountLevelFullAccessPermission: boolean | undefined;\n  @Input() levelsConfig: Array<LevelUIConfigHeader<boolean[]>> | undefined;\n  @Input() permissionsConfig: PermissionUIConfig<string[]> | undefined;\n\n  goNext(authorizedUser?: PartialAuthorizedUsers) {\n    this.next.emit(authorizedUser);\n  }\n\n  goBack() {\n    this.back.emit();\n  }\n\n  saveChanges(authorizedUser?: PartialAuthorizedUsers) {\n    this.saveOnly.emit(authorizedUser);\n  }\n\n  abort() {\n    this.cancel.emit();\n  }\n\n  ngOnInit() {\n    if (!this.authorizedUser) {\n      throw new Error(`\"authorizedUser\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { BaseAuthorizedUsersCreateStep } from '../authorized-users-create-common/base-authorized-users-create-step';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'bb-authorized-users-user-details',\n  templateUrl: 'authorized-users-user-details.component.html',\n})\nexport class AuthorizedUsersUserDetailsComponent extends BaseAuthorizedUsersCreateStep implements OnInit, OnDestroy {\n  userDetailsForm: FormGroup | undefined;\n  private suscription$ = new Subscription();\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.userDetailsForm = this.formBuilder.group({\n      firstName: [this.authorizedUser.firstName, Validators.required],\n      lastName: [this.authorizedUser.lastName, Validators.required],\n      emailGroup: this.formBuilder.group({\n        email: [this.authorizedUser.email, Validators.compose([Validators.required, Validators.email])],\n        confirmationEmail: [this.authorizedUser.email, Validators.compose([Validators.required, Validators.email])],\n      }),\n      mobileNumber: [this.authorizedUser.mobileNumber, Validators.required],\n    });\n    this.suscription$.add(\n      this.formGetter('emailGroup')?.valueChanges.subscribe(() => {\n        const confirmationEmailControl = this.formGetter('confirmationEmail', 'emailGroup');\n        if (confirmationEmailControl) {\n          confirmationEmailControl.setValidators([Validators.required, Validators.email, this.validateEmailMatch]);\n          confirmationEmailControl.updateValueAndValidity({ emitEvent: false });\n        }\n      }),\n    );\n  }\n\n  isFieldValid(fieldName: string, fieldGroup?: string): boolean {\n    const controlField = this.formGetter(fieldName, fieldGroup);\n    return !!controlField && (controlField.valid || controlField.untouched);\n  }\n\n  private readonly validateEmailMatch = () => {\n    const emailField = this.formGetter('email', 'emailGroup');\n    const confirmationEmailField = this.formGetter('confirmationEmail', 'emailGroup');\n    // eslint-disable-next-line no-null/no-null\n    return emailField?.value !== confirmationEmailField?.value ? { validateMailConfirmation: true } : null;\n  };\n\n  save() {\n    if (this.userDetailsForm?.valid) {\n      this.goNext(this.formatAuthorizedUserValue());\n    } else {\n      this.userDetailsForm?.markAllAsTouched();\n    }\n  }\n\n  private formatAuthorizedUserValue() {\n    const {\n      firstName,\n      lastName,\n      emailGroup: { email },\n      mobileNumber,\n    } = this.userDetailsForm!.value;\n    return { firstName, lastName, email, mobileNumber };\n  }\n\n  formGetter(fieldName: string, fieldGroup?: string) {\n    const controlField = !!fieldGroup\n      ? this.userDetailsForm?.get(fieldGroup)?.get(fieldName)\n      : this.userDetailsForm?.get(fieldName);\n\n    return controlField;\n  }\n\n  ngOnDestroy() {\n    this.suscription$.unsubscribe();\n  }\n\n  constructor(private readonly formBuilder: FormBuilder) {\n    super();\n  }\n}\n","<form [formGroup]=\"userDetailsForm\" (submit)=\"save()\">\n  <div class=\"bb-block bb-block--lg\" bbAuthorizedUsersAccessibilityKeyboard>\n    <h2 \n      data-role=\"user-details-header\"\n      i18n=\"user creation details header@@authorized.users.createUser.header\"\n    >\n      Who would you like to give access to?\n    </h2>\n  </div>\n\n  <div class=\"bb-block\">\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-text-ui\n          formControlName=\"firstName\"\n          data-role=\"user-details-first-name\"\n          label=\"First Name\"\n          i18n-label=\"user creation details first name@@authorized.users.createUser.label.firstName\"\n          maxLength=\"256\"\n        ></bb-input-text-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('firstName')\">\n          <span \n            data-role=\"user-details-first-name-validation-msg\"\n            i18n=\"user creation first name required error message@@authorized.users.createUser.errorMessage.required.firstName\">\n            First name is required\n          </span>\n        </bb-input-validation-message-ui>  \n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-text-ui\n          formControlName=\"lastName\"\n          data-role=\"user-details-last-name\"\n          label=\"Last Name\"\n          i18n-label=\"user creation details last name@@authorized.users.createUser.label.lastName\"\n          maxLength=\"256\"\n        ></bb-input-text-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('lastName')\">\n          <span \n            data-role=\"user-details-last-name-validation-msg\"\n            i18n=\"user creation last name required error message@@authorized.users.createUser.errorMessage.required.lastName\">\n            Last name is required\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n    <ng-container formGroupName=\"emailGroup\">\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 form-group\">\n          <bb-input-email-ui\n            formControlName=\"email\"\n            data-role=\"user-details-email\"\n            label=\"Email\"\n            i18n-label=\"user creation details email@@authorized.users.createUser.label.email\"\n            required=\"true\"\n          ></bb-input-email-ui>\n          <ng-container *ngIf=\"isFieldValid('email', 'emailGroup')\">\n            <span \n              class=\"bb-text-support text-small\" \n              i18n=\"user creation confirmation support text@@authorized.users.createUser.info.emailConfirmation\"\n            >\n            We will send a confirmation to their email address.\n            </span> \n          </ng-container>\n          <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('email', 'emailGroup')\" data-role=\"user-details-email-validation-msg\">\n            <ng-container *ngFor=\"let error of formGetter('email', 'emailGroup')?.errors | keyvalue; first as first\">\n                <ng-container *ngIf=\"first\" [ngSwitch]=\"error.key\">\n                  <span\n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"user creation email required error message@@authorized.users.createUser.errorMessage.required.email\"\n                  >\n                    Email address is required\n                  </span>\n                  <span\n                    *ngSwitchCase=\"'email'\"\n                    i18n=\"invalid email format@@authorized.users.createUser.errorMessage.format.confirmationEmail\"\n                  >\n                  Invalid email format\n                  </span>\n                </ng-container>\n              </ng-container>\n          </bb-input-validation-message-ui>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 form-group\">\n          <bb-input-email-ui\n            formControlName=\"confirmationEmail\"\n            data-role=\"user-details-confirmation-email\"\n            label=\"Confirm Email\"\n            i18n-label=\"user creation details confirm email@@authorized.users.createUser.label.confirmationEmail\"\n            required=\"true\"\n          ></bb-input-email-ui>\n          <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('confirmationEmail', 'emailGroup')\" data-role=\"user-details-confirmation-email-validation-msg\">\n            <ng-container *ngFor=\"let error of formGetter('confirmationEmail', 'emailGroup')?.errors | keyvalue; first as first\">\n              <ng-container *ngIf=\"first\" [ngSwitch]=\"error.key\">\n                <span\n                  *ngSwitchCase=\"'required'\"\n                  i18n=\"confirm email address is required@@authorized.users.createUser.errorMessage.required.confirmationEmail\"\n                >\n                  Confirm email address is required\n                </span>\n                <span\n                  *ngSwitchCase=\"'email'\"\n                  i18n=\"invalid email format@@authorized.users.createUser.errorMessage.format.confirmationEmail\"\n                >\n                Invalid email format\n                </span>\n                <span\n                  *ngSwitchCase=\"'validateMailConfirmation'\"\n                  i18n=\"email addresses do not match@@authorized.users.createUser.errorMessage.match.confirmationEmail\"\n                >\n                Email addresses do not match\n                </span>\n              </ng-container>\n            </ng-container>\n          </bb-input-validation-message-ui>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-phone-ui\n          formControlName=\"mobileNumber\"\n          data-role=\"user-details-phone-number\"\n          label=\"Phone Number\"\n          i18n-label=\"user creation details phone number@@authorized.users.createUser.label.phoneNumber\"\n          required=\"true\"\n        ></bb-input-phone-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('mobileNumber')\">\n          <span \n            data-role=\"user-details-phone-number-validation-msg\"\n            i18n=\"user creation phone number required error message@@authorized.users.createUser.errorMessage.required.phoneNumber\">\n            Phone number is required\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      data-role=\"user-details-continue-button\"\n      i18n=\"Continue button text@@authorized-users.create.details.continue.button\"\n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >Continue</button>\n    <button \n      bbButton \n      data-role=\"user-details-cancel-button\"\n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel button text@@authorized-users.create.details.cancel.button\"\n      (click)=\"abort()\"\n    >Cancel</button>\n  </div>\n</form>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DEFAULT_ACCOUNT_NUMBER_FORMAT } from '../../../common/constants';\nimport { Account } from '../../../common/model/account.model';\nimport { AuthorizedPermission, AuthorizedPermissionLevel } from '../../../common/model/authorized-users.model';\nimport { BaseAuthorizedUsersCreateStep } from '../authorized-users-create-common/base-authorized-users-create-step';\n\n@Component({\n  selector: 'bb-authorized-users-accounts',\n  templateUrl: 'authorized-users-accounts.component.html',\n})\nexport class AuthorizedUsersAccountsComponent extends BaseAuthorizedUsersCreateStep implements OnInit {\n  @Input() accounts!: Account[];\n  model: { [key: string]: boolean } = {};\n\n  productNumberFormat = DEFAULT_ACCOUNT_NUMBER_FORMAT;\n  showError = false;\n\n  save() {\n    if (this.hasAccounts()) {\n      this.goNext({ permissions: this.cleanPermissions(this.createAuthorizedPermission()) });\n    } else {\n      this.showError = true;\n    }\n  }\n\n  closeError() {\n    this.showError = false;\n  }\n\n  private cleanPermissions(permissions: Array<AuthorizedPermission>): Array<AuthorizedPermission> {\n    const fullAccessPermissions = permissions.filter(\n      (permission) => permission.level === AuthorizedPermissionLevel.FULL_ACCESS,\n    );\n    if (fullAccessPermissions.length > 0 && fullAccessPermissions.length !== this.accounts.length) {\n      return permissions.map((permission) => ({ ...permission, level: AuthorizedPermissionLevel.VIEW_ONLY }));\n    } else {\n      return [...permissions];\n    }\n  }\n\n  private createAuthorizedPermission(): Array<AuthorizedPermission> {\n    // Every member of the model has the account id as a key\n    return Object.keys(this.model)\n      .filter((accountId) => !!this.model[accountId])\n      .map((accountId) => ({\n        account: this.accounts.find((account) => account.id === accountId)!,\n        level: this.setLevelToPermissionByAccount(accountId),\n      }));\n  }\n\n  private setLevelToPermissionByAccount(account: string): AuthorizedPermissionLevel {\n    if (this.authorizedUser.permissions) {\n      const permission = this.authorizedUser.permissions.find((item) => item.account.id === account);\n      return permission?.level ? permission.level : AuthorizedPermissionLevel.VIEW_ONLY;\n    } else {\n      return AuthorizedPermissionLevel.VIEW_ONLY;\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.setPresetPermissions(this.authorizedUser.permissions);\n  }\n\n  private setPresetPermissions(permissions: AuthorizedPermission[] = []) {\n    permissions.forEach((data) => {\n      this.model[data.account.id] = true;\n    });\n  }\n\n  private hasAccounts() {\n    return Object.keys(this.model).reduce((prev, curr) => (this.model[curr] ? prev + 1 : prev), 0) > 0;\n  }\n}\n","<form \n  #authorizedUsersAccountForm=\"ngForm\" \n  (ngSubmit)=\"save()\" \n  data-role=\"user-accounts-form\"\n>\n  <div class=\"bb-block bb-block--xl\" bbAuthorizedUsersAccessibilityKeyboard>\n    <h2 \n      data-role=\"user-accounts-header\"\n      i18n=\"user accounts selection header@@authorized.users.accounts.header\"\n    >\n      Which accounts will they have access to?\n    </h2>\n    <p \n      class=\"bb-text-support text-small\" \n      data-role=\"user-accounts-subHeader\"\n      i18n=\"user accounts selection subHeader@@authorized.users.accounts.subHeader\"\n    >\n      You will be able to specify permissions for each account in the next step.\n    </p>\n  </div>\n  <bb-alert-ui \n    *ngIf=\"showError\" \n    data-role=\"user-accounts-error-message\"\n    title=\"You need to select at least one account in order to continue\"\n    i18n-title=\"Account Failed Notification|Message for a notification displayed when no accounts are selected@@authorized-users.create.accounts.notification.error\"\n    [dismissible]=\"true\"\n    (closed)=\"closeError()\"\n  ></bb-alert-ui>\n  <ul \n    ngModelGroup=\"list\" \n    class=\"bb-list\"\n  >\n    <li class=\"bb-block bb-block--lg\">\n      <bb-checkbox-group-ui \n        label=\"Select all my accounts\"\n        data-role=\"user-accounts-select-all\"\n      ></bb-checkbox-group-ui>\n    </li>\n    <li *ngFor=\"let item of accounts\" class=\"bb-block bb-block--lg\" data-role=\"user-accounts-list\">\n      <bb-input-checkbox-ui\n        name=\"{{item.id}}\"\n        [(ngModel)]=\"model[item.id]\"\n        data-role=\"user-accounts-account-checkbox\"\n      >\n        <span class=\"bb-stack__item--spacing-sm highlight\" data-role=\"user-accounts-account-name\">{{item.name}}</span>\n        <span *ngIf=\"item.displayNumber\" class=\"bb-text-support\" data-role=\"user-accounts-account-number\">\n          {{ item.displayNumber.slice(item.displayNumber.length-9, item.displayNumber.length) | paymentCardNumber: productNumberFormat }}\n        </span>\n      </bb-input-checkbox-ui>\n    </li>\n  </ul>\n\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      data-role=\"user-accounts-continue-button\"\n      i18n=\"Continue button text@@authorized-users.create.accounts.continue.button\"\n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >Continue</button>\n    <button \n      bbButton \n      data-role=\"user-accounts-back-button\"\n      class=\"bb-button-bar__button\"\n      i18n=\"Back button text@@authorized-users.create.accounts.back.button\"\n      color=\"secondary\" \n      *ngIf=\"!isFirstStep\"\n      (click)=\"goBack()\"\n    >Back</button>\n    <button \n      bbButton \n      data-role=\"user-accounts-cancel-button\"\n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel button text@@authorized-users.accounts.create.cancel.button\"\n      (click)=\"abort()\"\n    >Cancel</button>\n  </div>\n</form>\n","import { Component, Input, OnInit } from '@angular/core';\n\ninterface Permission {\n  name: string;\n  value: boolean;\n}\n\n@Component({\n  selector: 'bb-authorized-users-permissions-card',\n  templateUrl: 'authorized-users-permissions-card.component.html',\n})\nexport class AuthorizedUsersPermissionsCardComponent implements OnInit {\n  @Input() icon = '';\n  @Input() title = '';\n  @Input() name: string | undefined;\n  @Input() currentName: string | undefined;\n  @Input() permissionsConfig: string[] | undefined;\n  @Input() permissionsAssigned: boolean[] | undefined;\n  @Input() disabled = false;\n\n  permissions: Permission[] = [];\n  ngOnInit() {\n    if (this.permissionsAssigned && this.permissionsConfig) {\n      const permissionsAssigned = this.permissionsAssigned;\n      this.permissions = this.permissionsConfig.map((name, index) => ({ name, value: permissionsAssigned[index] }));\n    }\n  }\n}\n","<div \n  class=\"bb-authorized-users-permission-card card card-sm\"\n  [ngClass]=\"{\n    'bb-authorized-users-permission-card--selected': name===currentName,\n    'bb-authorized-users-permission-card--disabled': disabled\n  }\"\n>\n  <div class=\"card-body\" bbAuthorizedUsersAccessibilityKeyboard>\n    <div class=\"bb-stack\">\n      <div class=\"bb-stack__item bb-stack__item--push-right\">\n        <span class=\"bb-authorized-user-permission-card__radio\">\n          <bb-icon-ui \n            [name]=\"name===currentName?'radio-button-checked':'radio-button-unchecked'\"\n            [color]=\"name===currentName?'primary':'inactive'\"\n          ></bb-icon-ui>\n        </span>\n      </div>\n    </div>\n    <div class=\"bb-text-align-center\">\n      <bb-icon-ui [name]=\"icon\"></bb-icon-ui>\n    </div>\n    <div class=\"bb-block bb-block--md bb-highlight bb-text-align-center\">\n      {{title}}\n    </div> \n    \n\n    <ul class=\"bb-list\">\n      <li class=\"bb-stack bb-block bb-block--md\" *ngFor=\"let permission of permissions\">\n        <bb-icon-ui \n          class=\"bb-stack__item\" \n          [color]=\"permission.value?'success':'danger'\" \n          size=\"sm\" \n          [name]=\"permission.value?'check':'clear'\" \n          aria-label=\"include: \"\n          i18n-aria-label=\"include: @@uthorized.users.permissions.card.include\"\n        ></bb-icon-ui>\n        <span class=\"bb-text-support bb-subheader bb-subheader--regular\">{{permission.name}}</span>\n      </li>\n    </ul>\n  </div>\n</div>\n<div \n  data-role=\"user-permissions-card-disclaimer\"\n  class=\"bb-authorized-users-permission-card__disclaimer text-small text-center\" \n  *ngIf=\"name===currentName\"\n  i18n=\"authorized users disclaimer@@authorized-users.create.permissions.card.disclaimer\"\n>\n  Applied to all Selected Accounts\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Account } from '../../../common/model/account.model';\nimport {\n  AuthorizedPermission,\n  AuthorizedPermissionLevel,\n  LevelUIConfigHeader,\n} from '../../../common/model/authorized-users.model';\nimport { BaseAuthorizedUsersCreateStep } from '../authorized-users-create-common/base-authorized-users-create-step';\n\n@Component({\n  selector: 'bb-authorized-users-permissions',\n  templateUrl: 'authorized-users-permissions.component.html',\n})\nexport class AuthorizedUsersPermissionsComponent extends BaseAuthorizedUsersCreateStep implements OnInit {\n  @Input() accounts: Account[] | undefined;\n\n  authorizedPermissionLevel = AuthorizedPermissionLevel;\n  generalLevel: AuthorizedPermissionLevel | undefined;\n\n  private _isCustomPermission = false;\n\n  get isCustomPermission() {\n    return this._isCustomPermission;\n  }\n\n  set isCustomPermission(value) {\n    this._isCustomPermission = value;\n    this.generalLevel = undefined;\n  }\n\n  private applyLevelToAccounts(generalLevel: AuthorizedPermissionLevel | undefined) {\n    const permissions = this.authorizedUser.permissions?.map((permission) => ({\n      ...permission,\n      level: generalLevel || AuthorizedPermissionLevel.VIEW_ONLY,\n    }));\n\n    return { ...this.authorizedUser, permissions };\n  }\n\n  private applyLevelToAccount(permission: AuthorizedPermission) {\n    const permissions = [...(this.authorizedUser.permissions || [])];\n    const index = permissions.findIndex((item) => item.account.id === permission.account.id);\n\n    if (index !== -1) {\n      permissions[index] = permission;\n    }\n\n    return { ...this.authorizedUser, permissions };\n  }\n\n  private areTheSameLevel() {\n    const level = this.authorizedUser?.permissions && this.authorizedUser.permissions[0].level;\n    const count =\n      this.authorizedUser?.permissions?.reduce((prev, curr) => (level === curr.level ? prev + 1 : prev), 0) || -1;\n\n    return count === this.authorizedUser?.permissions?.length;\n  }\n\n  setGeneralLevel(level: AuthorizedPermissionLevel) {\n    if (!this.isCustomPermission) {\n      this.generalLevel = level;\n      this.saveChanges(this.applyLevelToAccounts(this.generalLevel));\n    }\n  }\n\n  apply() {\n    this.goNext(this.authorizedUser);\n  }\n\n  updateAccount(permission: AuthorizedPermission) {\n    this.saveChanges(this.applyLevelToAccount(permission));\n  }\n\n  disableCard(level: LevelUIConfigHeader<boolean[]>) {\n    if (!this.authorizedUser?.permissions) {\n      return false;\n    }\n\n    const allAccountsSelected = this.authorizedUser?.permissions?.length === this.accounts?.length;\n    return !allAccountsSelected && !level.validate();\n  }\n\n  togglePermissionMode() {\n    if (this.isCustomPermission && this.levelsConfig) {\n      this.saveChanges(this.applyLevelToAccounts(this.levelsConfig[0].level));\n    } else if (this.levelsConfig) {\n      this.setGeneralLevel(this.levelsConfig[0].level);\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.areTheSameLevel()) {\n      this.generalLevel = this.authorizedUser.permissions && this.authorizedUser.permissions[0].level;\n    } else {\n      this.isCustomPermission = true;\n    }\n  }\n}\n","<form #authorizedUsersPermissionsForm=\"ngForm\" data-role=\"user-permissions-form\">\n  <div class=\"bb-block bb-block--lg\" bbAuthorizedUsersAccessibilityKeyboard>\n    <h2 \n      data-role=\"user-permissions-header\"\n      i18n=\"user permissions selection header@@authorized.users.permissions.header\"\n    >\n      What permissions do you want to give?\n    </h2>\n    <p \n      class=\"bb-text-support text-small\" \n      data-role=\"user-permissions-subHeader\"\n      i18n=\"user permissions selection subHeader@@authorized.users.permissions.subHeader\"\n    >\n      Choose one permission for all selected accounts or different permissions for each account.\n    </p>\n  </div>\n\n  <div class=\"row bb-block bb-block--xl\">\n    <bb-authorized-users-permissions-card\n      *ngFor=\"let permissionLevel of levelsConfig\"\n      class=\"col-lg-4 bb-block bb-block--md-md-down\"\n      [title]=\"permissionLevel.title\"\n      [icon]=\"permissionLevel.icon\"\n      [name]=\"permissionLevel.level\"\n      [currentName]=\"generalLevel\"\n      [disabled]=\"disableCard(permissionLevel)\"\n      [permissionsConfig]=\"permissionsConfig?.permissions\"\n      [permissionsAssigned]=\"permissionLevel.permissionsAssigned\"\n      (click)=\"!disableCard(permissionLevel) && setGeneralLevel(permissionLevel.level)\"\n    >\n    </bb-authorized-users-permissions-card>\n  </div>\n\n  <div class=\"bb-stack bb-block bb-block--xl\">\n    <div class=\"bb-stack__item bb-stack__item--spacing-sm bb-stack__item--align-top\">\n      <bb-switch-ui\n        name=\"customPermissions\"\n        data-role=\"user-permissions-switch\"\n        aria-label=\"Choose different permissions for each account\"\n        [(ngModel)]=\"isCustomPermission\"\n        (click)=\"togglePermissionMode()\"\n      ></bb-switch-ui>\n    </div>\n    <div class=\"bb-stack__item\">\n      <label \n        class=\"bb-switch__label\" \n        data-role=\"user-permissions-switch-label\"\n      >\n        Choose different permissions for each account\n      </label>\n      <div\n        *ngIf=\"!enableAccountLevelFullAccessPermission\"\n        class=\"bb-text-support text-small\"\n        data-role=\"user-permissions-switch-description\"\n        i18n=\"Different permission selection subTitle@@authorized.users.different.permission.subTtitle\"\n      >\n        Keep in mind that you can only give Full Access permissions to all accounts at once.\n    </div>\n   </div>\n  </div>\n\n  <bb-authorized-users-permissions-levels-table\n    *ngIf=\"isCustomPermission\"\n    [isEditing]=\"true\"\n    [enableAccountLevelFullAccessPermission]=\"enableAccountLevelFullAccessPermission\"\n    [selectedAccounts]=\"authorizedUser.permissions\"\n    [levelsConfig]=\"levelsConfig\"\n    (updateAccount)=\"updateAccount($event)\"\n    data-role=\"user-permissions-table\"\n  ></bb-authorized-users-permissions-levels-table>\n\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      data-role=\"user-permissions-continue-button\"\n      i18n=\"Continue button text@@authorized-users.create.permissions.continue.button\"\n      class=\"bb-button-bar__button\" \n      (click)=\"apply()\"\n    >Continue</button>\n    <button \n      bbButton \n      data-role=\"user-permissions-back-button\"\n      class=\"bb-button-bar__button\"\n      i18n=\"Back button text@@authorized-users.create.permissions.back.button\"\n      color=\"secondary\" \n      (click)=\"goBack()\"\n    >Back</button>\n    <button \n      bbButton \n      data-role=\"user-permissions-cancel-button\"\n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel button text@@authorized-users.create.permissions.cancel.button\"\n      (click)=\"abort()\"\n    >Cancel</button>\n  </div>\n</form>","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { BaseAuthorizedUsersCreateStep } from '../authorized-users-create-common/base-authorized-users-create-step';\nimport { FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'bb-authorized-users-confirmation',\n  templateUrl: 'authorized-users-confirmation.component.html',\n})\nexport class AuthorizedUsersConfirmationComponent extends BaseAuthorizedUsersCreateStep {\n  @Input() showError = false;\n  @Input() isSaving = false;\n  @Input() termsConditions: string | undefined;\n  @Output() showErrorChange = new EventEmitter<boolean>();\n\n  confirmationDetailsForm = this.formBuilder.group({\n    termsCB: [false, Validators.requiredTrue],\n  });\n\n  saveUser() {\n    if (this.confirmationDetailsForm.valid) {\n      this.goNext(this.authorizedUser);\n    } else {\n      this.confirmationDetailsForm.markAllAsTouched();\n    }\n  }\n\n  closeError() {\n    this.showErrorChange.emit(false);\n  }\n\n  private getControl(fieldName: string) {\n    return this.confirmationDetailsForm.get(fieldName);\n  }\n\n  isFieldValid(fieldName: string) {\n    const control = this.getControl(fieldName);\n\n    return control && (control.valid || control.untouched);\n  }\n\n  hasError(field: string, type: string) {\n    const fieldControl = this.getControl(field);\n    if (!fieldControl || !fieldControl.errors) {\n      return;\n    }\n    return fieldControl.errors[type];\n  }\n\n  constructor(private readonly formBuilder: FormBuilder) {\n    super();\n  }\n}\n","<form \n  [formGroup]=\"confirmationDetailsForm\" \n  data-role=\"user-confirmation-form\"\n>\n  <div class=\"bb-block bb-block--lg\" bbAuthorizedUsersAccessibilityKeyboard>\n    <h2\n      class=\"bb-block bb-block--lg\" \n      data-role=\"user-confirmation-header\"\n      i18n=\"Please review and confirm the authorized user information@@authorized-users.create.confirmation.heading-1\"\n    >\n      Please review and confirm the authorized user information.\n    </h2>\n    <bb-alert-ui \n      *ngIf=\"showError\" \n      data-role=\"user-confirmation-error-message\"\n      title=\"Something Went Wrong\"\n      i18n-title=\"Confirmation Failed Notification|Title for a notification displayed when confirmation user is failed@@authorized-users.create.confirmation.notification.error.title\"\n      message=\"We failed to confirm this authorized user, please try again later.\"\n      i18n-message=\"Confirmation Failed Notification Message|Message for a notification displayed when confirmation user is failed@@authorized-users.create.confirmation.notification.error.message\"\n      [dismissible]=\"true\"\n      (closed)=\"closeError()\"\n    ></bb-alert-ui>\n    <h3 class=\"bb-block bb-block--sm\" data-role=\"user-confirmation-fullName\">\n      {{authorizedUser.firstName + ' ' + authorizedUser.lastName}}\n    </h3>\n    <div class=\"bb-block bb-block--sm\" data-role=\"user-confirmation-email\">{{authorizedUser.email}}</div>\n    <div class=\"bb-block bb-block--sm\" data-role=\"user-confirmation-phone-number\">{{authorizedUser.mobileNumber}}</div>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <bb-authorized-users-permissions-levels-table \n      [selectedAccounts]=\"authorizedUser.permissions\"\n      [levelsConfig]=\"levelsConfig\"\n      data-role=\"user-confirmation-permissions-table\"\n    ></bb-authorized-users-permissions-levels-table>\n  </div>\n\n  <div class=\"bb-block bb-block--xl\">\n    <div \n      class=\"bb-block bb-block--md bb-highlight\" \n      data-role=\"user-confirmation-terms-header\"\n      i18n=\"Terms and conditions@@authorized-users.create.confirmation.tos.title\"\n    >\n      Terms and Conditions\n    </div>\n\n    <div class=\"bb-authorized-users-terms bb-block bb-block--md\" bbAuthorizedUsersAccessibilityKeyboard>\n      <ng-container *ngTemplateOutlet=\"termsAndConditions\"></ng-container>\n    </div>\n\n    <bb-input-checkbox-ui\n      formControlName=\"termsCB\"\n      [id]=\"'confirmationTosCheckbox'\"\n      data-role=\"user-confirmation-terms-checkbox\"\n      label=\"I have read and accept the terms and conditions.\"\n      i18n-label=\"I have read and accept the terms and conditions.@@authorized-users.create.confirmation.tos.label\"\n      class=\"bb-stack__item\"\n    ></bb-input-checkbox-ui>\n\n    <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('termsCB')\">\n      <span \n        *ngIf=\"hasError('termsCB', 'required')\" \n        data-role=\"user-confirmation-terms-validation-msg\"\n        i18n=\"You are required to accept terms and conditions@@authorized-users.create.confirmation.tos.error-label.required\"\n      >\n        You are required to accept terms and conditions\n      </span>\n    </bb-input-validation-message-ui>\n  </div>\n\n  <div class=\"bb-button-bar\">\n    <bb-load-button-ui\n        color=\"primary\"\n        class=\"bb-button-bar__button\"\n        data-role=\"user-confirmation-confirm-button\"\n        [isLoading]=\"isSaving\"\n        (click)=\"!isSaving && saveUser()\"\n        i18n=\"Confirm button text@@authorized-users.create.confirmation.confirm.button\"\n      >Confirm</bb-load-button-ui>\n    <button \n      bbButton \n      data-role=\"user-confirmation-back-button\"\n      class=\"bb-button-bar__button\"\n      i18n=\"Back button text@@authorized-users.create.confirmation.back.button\"\n      color=\"secondary\" \n      (click)=\"goBack()\"\n    >Back</button>\n    <button \n      bbButton \n      data-role=\"user-confirmation-cancel-button\"\n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel button text@@authorized-users.create.confirmation.cancel.button\"\n      (click)=\"abort()\"\n    >Cancel</button>\n  </div>\n</form>\n\n<ng-template #termsAndConditions>\n  <div\n    i18n=\"Terms and Conditions Text|Text for authorized users terms and conditions@@authorized-users.create.confirmation.tos.text\"\n    data-role=\"user-confirmation-terms-text\"\n    [innerHTML]=\"termsConditions\"\n  >\n  </div>\n</ng-template>","import { Directive, EventEmitter, Input, Output } from '@angular/core';\n\n@Directive()\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\nexport class AuthorizedUsersBaseDialogComponent {\n  @Input() dialogOpen = false;\n  @Output() confirm = new EventEmitter<void>();\n  @Output() closed = new EventEmitter<void>();\n\n  onClose = () => {\n    this.closed.emit();\n  };\n\n  onConfirm() {\n    this.confirm.emit();\n  }\n}\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { AuthorizedUsersBaseDialogComponent } from '../../../common/components/authorized-users-base-dialog/authorized-users-base-dialog.component';\nimport { PartialAuthorizedUsers } from '../../../common/model/authorized-users.model';\n\n@Component({\n  selector: 'bb-authorized-users-confirmation-complete',\n  templateUrl: 'authorized-users-confirmation-complete.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AuthorizedUsersConfirmationCompleteComponent extends AuthorizedUsersBaseDialogComponent {\n  /**\n   * Authorized user\n   */\n  @Input() authorizedUser: PartialAuthorizedUsers | undefined;\n  /**\n   * success image path\n   */\n  @Input() successImg: string | undefined;\n  /**\n   * success status\n   */\n  @Input() succeedStatus = '';\n  /**\n   * unique time to reload animated svg everytime\n   */\n  readonly timestamp = new Date().getTime();\n}\n","<bb-modal-ui [isOpen]=\"dialogOpen\" (cancel)=\"onClose()\" data-role=\"complete-modal\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <div class=\"bb-stack\">\n        <div class=\"bb-stack__item bb-stack__item--push-right\">\n          <button \n            bbButton \n            data-role=\"complete-modal-close-button\" \n            color=\"unstyled\" \n            (click)=\"onClose()\"\n            aria-label=\"close confirmation complete modal\"\n            i18-aria-label=\"Close confirmation complete|Button for close confirmation complete@@authorized.users.confirmation.complete.closed.button\"\n          >\n            <bb-icon-ui color=\"muted\" name=\"clear\" size=\"lg\"></bb-icon-ui>\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <div class=\"bb-text-align-center bb-block\">\n        <img\n          src=\"{{ successImg + '?' + timestamp }}\"\n          alt=\"Confirmation succeeded\"\n          i18n-alt=\"Confirmation succeeded|Image for Confirmation succeeded@@authorized.users.confirmation.complete.confirmation-succeeded\"\n          data-role=\"confirmation-success-anim\"\n          class=\"img-fluid\"\n          data-role=\"complete-modal-image\"\n        />\n        <!-- Create confirmation -->\n        <ng-container *ngIf=\"succeedStatus==='create'\">\n          <h2\n            class=\"bb-text-bold\"\n            data-role=\"complete-create-modal-header\"\n            i18n=\"New authorized user!@@authorized.users.confirmation.create.complete.header\"\n          >\n            New authorized user!\n          </h2>\n          <span class=\"bb-text-support text-small\" data-role=\"complete-create-modal-subHeader\">\n            <span>{{authorizedUser?.firstName + ' ' + authorizedUser?.lastName + ' ' }}</span>\n            <span i18n=\"Success confirmation|Text for success confirmation@@authorized.users.confirmation.create.complete.success-message\">\n              will receive an email with a link to complete the registration process.\n            </span>\n          </span>\n        </ng-container>\n        <!-- Edit confirmation -->\n        <ng-container *ngIf=\"succeedStatus==='edit'\">\n          <h2\n            class=\"bb-text-bold\"\n            data-role=\"complete-edit-modal-header\"\n            i18n=\"New authorized user!@@authorized.users.confirmation.edit.complete.header\"\n          >\n            User permissions updated!\n          </h2>\n          <span class=\"bb-text-support text-small\" data-role=\"complete-edit-modal-subHeader\">\n            <span>{{authorizedUser?.firstName + ' ' + authorizedUser?.lastName + ' ' }}</span>\n            <span i18n=\"Success confirmation|Text for success confirmation@@authorized.users.confirmation.edit.complete.success-message\">\n              permissions were edited successfully.\n            </span>\n          </span>\n        </ng-container>\n      </div>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui #footerRef>\n    <ng-template bbCustomModalFooter>\n      <div class=\"bb-button-bar bb-button-bar--center\">\n        <button\n          bbButton\n          data-role=\"complete-modal-gotIt-button\"\n          class=\"bb-button-bar__button\"\n          color=\"primary\"\n          (click)=\"onConfirm()\"\n          i18n=\"Got it button|confirmation Done@@authorized.users.confirmation.complete.button.confirmation-done\"\n        >\n          Got it!\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>","import { Component } from '@angular/core';\nimport { AuthorizedUsersBaseDialogComponent } from '../../../common/components/authorized-users-base-dialog/authorized-users-base-dialog.component';\n\n@Component({\n  selector: 'bb-authorized-users-cancel-creation',\n  templateUrl: 'authorized-users-cancel-creation.component.html',\n})\nexport class AuthorizedUsersCancelCreationComponent extends AuthorizedUsersBaseDialogComponent {}\n","<bb-modal-ui [isOpen]=\"dialogOpen\" (cancel)=\"onClose()\" data-role=\"cancel-modal\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <h2 \n        data-role=\"cancel-modal-header\"\n        i18n=\"Discard authorized user@@authorized-users.cancel.modal.header\"\n      >\n        Discard New Authorized User?\n      </h2>\n      <div>\n        <button \n          bbButton  \n          data-role=\"cancel-modal-close-button\" \n          color=\"unstyled\" \n          (click)=\"onClose()\"\n          aria-label=\"Close Creation Modal\"\n          i18-aria-label=\"Close Create User|Button for close creation of authorized user@@authorized-users.cancel.modal.closed.button\"\n        >\n          <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span \n        data-role=\"cancel-modal-subHeader\"\n        i18n=\"Delete confirmation text@@authorized-users.cancel.modal.body\"\n      >\n        All entered information for this authorized user will be permanently lost.\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui #footerRef>\n    <ng-template bbCustomModalFooter>\n      <button bbButton data-role=\"cancel-modal-keep-button\" (click)=\"onClose()\" color=\"link\">\n        <span i18n=\"Keep button text@@authorized-users.messages.createMessage.composeMessageModal.keepCreating.button\">\n          Keep It\n        </span>\n      </button>\n      <button bbButton data-role=\"cancel-modal-discard-button\" (click)=\"onConfirm()\" color=\"danger\">\n        <span i18n=\"Discard button text@@authorized-users.messages.createMessage.composeMessageModal.discardButton\">\n          Discard Authorized User\n        </span>\n      </button>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n","import { Directive, Input, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { AuthorizedUsersCreateContainerComponent } from '../authorized-users-create-container/authorized-users-create-container.component';\nimport { BaseAuthorizedUsersCreateStep } from './base-authorized-users-create-step';\n\n@Directive({\n  selector: '[bbAuthorizedUsersStepHandler]',\n})\nexport class AuthorizedUserStepHandlerDirective implements OnInit {\n  private step: number | undefined;\n  private _currentStep = 0;\n  private showOrHideStep() {\n    if (this._currentStep === this.step) {\n      this.viewContainerRef.createEmbeddedView(this.templateRef);\n    } else {\n      this.viewContainerRef.clear();\n    }\n  }\n\n  @Input('bbAuthorizedUsersStepHandler') set currentStep(value: number) {\n    this._currentStep = value;\n    this.showOrHideStep();\n  }\n\n  ngOnInit() {\n    this.step = this._currentStep > 0 ? this.parent.nextStepIndex() : undefined;\n    this.showOrHideStep();\n  }\n\n  constructor(\n    private templateRef: TemplateRef<BaseAuthorizedUsersCreateStep>,\n    private viewContainerRef: ViewContainerRef,\n    private parent: AuthorizedUsersCreateContainerComponent,\n  ) {}\n}\n","import { Component, Output, EventEmitter, Input, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Observable, BehaviorSubject, ReplaySubject, merge, of, combineLatest } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { AccountList } from '../common/model/account-list.model';\nimport {\n  AuthorizedUsersList,\n  LevelUIConfigHeader,\n  PartialAuthorizedUsers,\n  PermissionUIConfig,\n  SafeTypeArray,\n} from '../common/model/authorized-users.model';\nimport { UserDataService } from '../common/services/user-data.service';\nimport { UsersUIService } from '../common/services/users-ui.service';\n\ninterface LoadingData {\n  accounts: AccountList;\n  termsAndConditions: string;\n}\n\nexport enum AuthorizedUserPermissionControlType {\n  INDIVIDUAL_CONTROL = 'individual-control',\n  ALL_AT_ONCE = 'all-at-once',\n}\n\n@Component({\n  selector: 'bb-authorized-users-create-wrapper',\n  templateUrl: 'authorized-users-create-wrapper.component.html',\n})\nexport class AuthorizedUsersCreateWrapperComponent implements OnInit {\n  currentStep = 1;\n  isAborting = false;\n  succeedStatus = '';\n  isFailure = false;\n  isSaving = false;\n  levelsConfig: Array<LevelUIConfigHeader<SafeTypeArray>> | undefined;\n  permissionsConfig: PermissionUIConfig<SafeTypeArray> | undefined;\n  loadingData: Observable<LoadingData> | undefined;\n\n  @Input() selectedUser: string | undefined;\n\n  @Input('enableAccountLevelFullAccessPermission') set enableAccountLevelFullAccessPermissionValue(value: string) {\n    this.enableAccountLevelFullAccessPermissionSubject.next(value);\n  }\n\n  @Output() showAuthorizedUsers = new EventEmitter<void>();\n  private termsConditionsContent: Observable<string> | undefined;\n  private accounts: Observable<AccountList> | undefined;\n  private currentUserStore: BehaviorSubject<PartialAuthorizedUsers> = new BehaviorSubject({});\n  private changesStore: BehaviorSubject<PartialAuthorizedUsers> = new BehaviorSubject({});\n  private selectedEditUserStore: ReplaySubject<PartialAuthorizedUsers> = new ReplaySubject();\n\n  authorizedUser: Observable<PartialAuthorizedUsers> = this.currentUserStore.asObservable();\n  enableAccountLevelFullAccessPermissionSubject = new BehaviorSubject<string | undefined>(undefined);\n\n  private readonly getURIFromSvgAssetID = (assetId: string) => `${assetId}.svg`;\n\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  private readonly resolveSvgAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-authorized-users-journey-ang',\n    getURIFromAssetID: this.getURIFromSvgAssetID,\n  });\n\n  get imageSucceedUrl(): Observable<string> {\n    return this.resolveSvgAsset('succeed');\n  }\n\n  get editMode() {\n    return this.selectedUser !== undefined;\n  }\n\n  goToAuthorizedUsersList = () => {\n    this.showAuthorizedUsers.emit();\n  };\n\n  private setCurrentUserValue(value: PartialAuthorizedUsers) {\n    this.changesStore.next({ ...this.currentUserStore.value, ...value });\n  }\n\n  private goToStep(value: number) {\n    this.currentStep = value;\n  }\n\n  private getAllAccounts() {\n    return this.userService.getAllArrangements().pipe(catchError(this.handleAccountError));\n  }\n\n  private handleAccountError(): Observable<AccountList> {\n    return of({ items: [] });\n  }\n\n  private handleUserError(): Observable<AuthorizedUsersList> {\n    return of({ items: [] });\n  }\n\n  next(authorizedUser: PartialAuthorizedUsers) {\n    this.setCurrentUserValue(authorizedUser);\n    this.goToStep(this.currentStep + 1);\n  }\n\n  back() {\n    this.goToStep(this.currentStep - 1);\n  }\n\n  saveOnly(authorizedUser: PartialAuthorizedUsers) {\n    this.setCurrentUserValue(authorizedUser);\n  }\n\n  setAbortingDialog(value: boolean) {\n    this.isAborting = value;\n  }\n\n  setSucceedDialogStatus(value: string) {\n    this.succeedStatus = value;\n  }\n\n  finish(authorizedUser: PartialAuthorizedUsers) {\n    this.isSaving = true;\n    const onCreateSuccess = () => {\n      this.setSucceedDialogStatus('create');\n      this.isSaving = false;\n      this.cd.markForCheck();\n    };\n\n    const onEditSuccess = () => {\n      this.setSucceedDialogStatus('edit');\n      this.isSaving = false;\n      this.cd.markForCheck();\n    };\n\n    const onError = () => {\n      this.isFailure = true;\n      this.isSaving = false;\n      this.cd.markForCheck();\n    };\n\n    if (this.editMode) {\n      this.userService\n        .updateAuthorizedUser(this.selectedUser!, authorizedUser.permissions!)\n        .subscribe(onEditSuccess, onError);\n    } else {\n      this.userService.addAuthorizedUser(authorizedUser).subscribe(onCreateSuccess, onError);\n    }\n  }\n\n  ngOnInit() {\n    if (this.editMode) {\n      this.userService\n        .retrieveAuthorizedUser()\n        .pipe(\n          catchError(this.handleUserError),\n          map((data) => data.items.find((item) => item.id === this.selectedUser)),\n        )\n        .subscribe(this.selectedEditUserStore);\n\n      this.accounts = this.selectedEditUserStore.pipe(\n        switchMap((data) => (data ? this.getAllAccounts() : this.handleAccountError())),\n      );\n    } else {\n      this.accounts = this.getAllAccounts();\n    }\n\n    this.termsConditionsContent = this.usersUIService.termsConditionsContent();\n\n    this.loadingData = combineLatest([this.accounts, this.termsConditionsContent]).pipe(\n      map(([accounts, termsAndConditions]) => ({\n        accounts,\n        termsAndConditions,\n      })),\n    );\n  }\n\n  get enableAccountLevelFullAccessPermission(): Observable<boolean | undefined> {\n    return this.enableAccountLevelFullAccessPermissionSubject.asObservable().pipe(\n      map((data) => {\n        return data === AuthorizedUserPermissionControlType.INDIVIDUAL_CONTROL;\n      }),\n    );\n  }\n\n  constructor(\n    private readonly userService: UserDataService,\n    private readonly usersUIService: UsersUIService,\n    private readonly assetsService: AssetsService,\n    private readonly cd: ChangeDetectorRef,\n  ) {\n    this.levelsConfig = this.usersUIService.uiLevelsConfigValue;\n    this.permissionsConfig = this.usersUIService.uiPermissionsConfigValue;\n    merge(this.changesStore, this.selectedEditUserStore).subscribe(this.currentUserStore);\n  }\n}\n","<ng-container *ngIf=\"loadingData | async as data; else loadingState\">\n  <ng-container *ngIf=\"data.accounts?.items?.length > 0 && data.termsAndConditions; else errorState\">\n    <div class=\"bb-block bb-block--lg\">\n      <div class=\"row bb-stack bb-stack--center\">\n        <ng-container *ngIf=\"!editMode; else editModeStepper\">\n          <bb-authorized-users-stepper\n            class= \"col-12 col-md-10 col-lg-8\"\n            [currentStep]=\"currentStep\"\n          ></bb-authorized-users-stepper>\n        </ng-container>\n      </div>\n    </div>\n    \n    <ng-template #editModeStepper>\n      <bb-authorized-users-edit-stepper \n        class= \"col-12 col-md-10\"\n        [currentStep]=\"currentStep\"\n      ></bb-authorized-users-edit-stepper>\n    </ng-template>\n    \n    <bb-authorized-users-create-container>\n      <bb-authorized-users-user-details \n        *bbAuthorizedUsersStepHandler=\"!editMode ? currentStep : -1\"\n        [authorizedUser]=\"authorizedUser | async\"\n        [isFirstStep]=\"true\"\n        (next)=\"next($event)\"\n        (back)=\"back()\"\n        (cancel)=\"setAbortingDialog(true)\"\n      ></bb-authorized-users-user-details>\n      <bb-authorized-users-accounts \n        *bbAuthorizedUsersStepHandler=\"currentStep\" \n        [authorizedUser]=\"authorizedUser | async\"\n        [accounts]=\"data.accounts.items\"\n        [isFirstStep]=\"editMode\"\n        (next)=\"next($event)\"\n        (back)=\"back()\"\n        (saveOnly)=\"saveOnly($event)\"\n        (cancel)=\"setAbortingDialog(true)\"\n      ></bb-authorized-users-accounts>\n      <bb-authorized-users-permissions \n        *bbAuthorizedUsersStepHandler=\"currentStep\"\n        [authorizedUser]=\"authorizedUser | async\"\n        [enableAccountLevelFullAccessPermission]=\"enableAccountLevelFullAccessPermission | async\"\n        [accounts]=\"data.accounts.items\"\n        [levelsConfig]=\"levelsConfig\"\n        [permissionsConfig]=\"permissionsConfig\"\n        (next)=\"next($event)\"\n        (back)=\"back()\"\n        (saveOnly)=\"saveOnly($event)\"\n        (cancel)=\"setAbortingDialog(true)\"\n      ></bb-authorized-users-permissions>\n      <bb-authorized-users-confirmation \n        *bbAuthorizedUsersStepHandler=\"currentStep\"\n        [authorizedUser]=\"authorizedUser | async\"\n        [termsConditions]=\"data.termsAndConditions\"\n        [levelsConfig]=\"levelsConfig\"\n        [isSaving]=\"isSaving\"\n        [(showError)]=\"isFailure\"\n        (next)=\"finish($event)\"\n        (back)=\"back()\"\n        (cancel)=\"setAbortingDialog(true)\"\n      ></bb-authorized-users-confirmation>\n    </bb-authorized-users-create-container>\n  </ng-container>\n</ng-container>\n\n<bb-authorized-users-confirmation-complete\n  *ngIf=\"succeedStatus\"\n  [dialogOpen]=\"succeedStatus\"\n  [succeedStatus]=\"succeedStatus\"\n  [authorizedUser]=\"authorizedUser | async\"\n  [successImg]=\"imageSucceedUrl | async\"\n  (confirm)=\"goToAuthorizedUsersList()\"\n  (closed)=\"goToAuthorizedUsersList()\"\n></bb-authorized-users-confirmation-complete>\n\n<bb-authorized-users-cancel-creation\n  [dialogOpen]=\"isAborting\"\n  (confirm)=\"goToAuthorizedUsersList()\"\n  (closed)=\"setAbortingDialog(false)\"\n></bb-authorized-users-cancel-creation>\n\n<ng-template #loadingState>\n  <div class=\"card\">\n    <bb-loading-indicator-ui \n      loaderSize=\"lg\" \n      text=\"Loading...\"\n      i18n-text=\"Loading|Text for the loading indicator@@authorized.users.create.loading.indicator.text\"\n    ></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n\n<ng-template #errorState>\n  <div class=\"card\">\n    <div class=\"card-body bb-state-container\">\n      <bb-empty-state-ui\n        iconModifier=\"error-outline\"\n        iconColor=\"dark\"\n        title=\"Something went wrong\"\n        i18n-title=\"Error state title@@authorized.users.create.errorState.title\"\n        subtitle=\"Try to reload the page or contact the system administrator.\"\n        i18n-subtitle=\"Error state message@@authorized.users.create.errorState.message\"\n      ></bb-empty-state-ui>\n    </div>\n  </div>\n</ng-template>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { CheckboxGroupModule } from '@backbase/ui-ang/checkbox-group';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport { InputEmailModule } from '@backbase/ui-ang/input-email';\nimport { InputPhoneModule } from '@backbase/ui-ang/input-phone';\nimport { InputTextModule } from '@backbase/ui-ang/input-text';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { PaymentCardNumberModule } from '@backbase/ui-ang/payment-card-number-pipe';\nimport { StepperModule } from '@backbase/ui-ang/stepper';\nimport { SwitchModule } from '@backbase/ui-ang/switch';\nimport { AuthorizedUsersCommonModule } from '../common/authorized-users-common.module';\nimport { AuthorizedUsersCreateWrapperComponent } from './authorized-users-create-wrapper.component';\nimport { AuthorizedUsersAccountsComponent } from './components/authorized-users-accounts/authorized-users-accounts.component';\nimport { AuthorizedUsersCancelCreationComponent } from './components/authorized-users-cancel-creation/authorized-users-cancel-creation.component';\nimport { AuthorizedUsersConfirmationCompleteComponent } from './components/authorized-users-confirmation-complete/authorized-users-confirmation-complete.component';\nimport { AuthorizedUsersConfirmationComponent } from './components/authorized-users-confirmation/authorized-users-confirmation.component';\nimport { AuthorizedUserStepHandlerDirective } from './components/authorized-users-create-common/authorized-users-step-handler.directive';\nimport { AuthorizedUsersCreateContainerComponent } from './components/authorized-users-create-container/authorized-users-create-container.component';\nimport { AuthorizedUsersPermissionsCardComponent } from './components/authorized-users-permissions/authorized-users-permissions-card.component';\nimport { AuthorizedUsersPermissionsComponent } from './components/authorized-users-permissions/authorized-users-permissions.component';\nimport { AuthorizedUserEditStepperComponent } from './components/authorized-users-stepper/authorized-users-edit-stepper.component';\nimport { AuthorizedUsersStepperComponent } from './components/authorized-users-stepper/authorized-users-stepper.component';\nimport { AuthorizedUsersUserDetailsComponent } from './components/authorized-users-user-details/authorized-users-user-details.component';\n\nconst modules = [\n  StepperModule,\n  ButtonModule,\n  IconModule,\n  SwitchModule,\n  CheckboxGroupModule,\n  InputCheckboxModule,\n  PaymentCardNumberModule,\n  InputPhoneModule,\n  InputEmailModule,\n  InputTextModule,\n  ReactiveFormsModule,\n  FormsModule,\n  InputValidationMessageModule,\n  InputCheckboxModule,\n  ModalModule,\n  AlertModule,\n  LoadingIndicatorModule,\n  LoadButtonModule,\n  EmptyStateModule,\n  AuthorizedUsersCommonModule,\n];\n\nconst components = [\n  AuthorizedUsersCreateWrapperComponent,\n  AuthorizedUsersStepperComponent,\n  AuthorizedUsersConfirmationComponent,\n  AuthorizedUsersAccountsComponent,\n  AuthorizedUsersCreateContainerComponent,\n  AuthorizedUsersPermissionsComponent,\n  AuthorizedUsersUserDetailsComponent,\n  AuthorizedUsersPermissionsCardComponent,\n  AuthorizedUsersCancelCreationComponent,\n  AuthorizedUserEditStepperComponent,\n  AuthorizedUserStepHandlerDirective,\n  AuthorizedUsersConfirmationCompleteComponent,\n];\n\n@NgModule({\n  declarations: [...components],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ...modules,\n    BackbaseCoreModule.withConfig({\n      classMap: { AuthorizedUsersCreateWrapperComponent },\n    }),\n  ],\n  exports: [...components, ...modules],\n})\nexport class AuthorizedUsersCreateModule {}\n","import { Component } from '@angular/core';\n@Component({\n  selector: 'bb-authorized-users-journey',\n  template: '<router-outlet></router-outlet>',\n})\nexport class AuthorizedUsersJourneyComponent {}\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport interface AuthorizedUsersError {\n  message: string;\n  key?: string;\n  context?: { [key: string]: any };\n}\n\nconst getMessageFromResponse = (error: HttpErrorResponse) => {\n  const responseBody = error.error;\n\n  if (responseBody && responseBody.errors && responseBody.errors[0] && responseBody.errors[0].message) {\n    return responseBody.errors[0].message;\n  } else {\n    return undefined;\n  }\n};\n\n/**\n * Parse an HttpErrorResponse and return a AuthorizedUsersError object that can be used to display a\n * user-friendly error message.\n */\nexport const parseError = (errorResponse: HttpErrorResponse): AuthorizedUsersError => {\n  if (errorResponse.error instanceof ErrorEvent) {\n    // Client-side or network error.\n    return {\n      message: 'An unexpected error occurred',\n    };\n  } else {\n    switch (errorResponse.status) {\n      case 400:\n        return {\n          message: getMessageFromResponse(errorResponse) || 'Error 400',\n        };\n      case 401:\n        return {\n          message: 'Error 401',\n        };\n      case 403:\n        return {\n          message: 'Error 403',\n        };\n      case 404:\n        return {\n          message: 'Error 404',\n        };\n      default:\n        return {\n          message: 'An unexpected error occurred',\n        };\n    }\n  }\n};\n","import { Component, Input } from '@angular/core';\nimport { AuthorizedUserStatus } from '../../../common/model/authorized-users.model';\n\n@Component({\n  selector: 'bb-authorized-users-list-status-badge',\n  templateUrl: './authorized-users-list-status-badge.component.html',\n})\nexport class AuthorizedUsersListStatusBadgeComponent {\n  /**\n   * Authorized users status.\n   */\n  @Input() authorizedUsersStatus: string | undefined;\n\n  authorizedUserStatus = AuthorizedUserStatus;\n}\n","<div class=\"bb-stack bb-block bb-block--md\" >\n  <ng-container *ngIf=\"authorizedUsersStatus === authorizedUserStatus.ACTIVE\">\n    <bb-badge-ui\n      text=\"Active\"\n      i18n-text=\"Active Label|Text for the active label@@authorized.users.status.active\"\n      color=\"success\"\n    ></bb-badge-ui>\n  </ng-container>\n\n  <ng-container *ngIf=\"authorizedUsersStatus === authorizedUserStatus.AWAITING_REGISTRATION\">\n    <bb-badge-ui\n      text=\"Awaiting Registration\"\n      i18n-text=\"Awaiting Registration Label|Text for the scheduled label@@authorized.users.status.awating\"\n      color=\"info\"\n    ></bb-badge-ui>\n  </ng-container>\n\n  <ng-container *ngIf=\"authorizedUsersStatus === authorizedUserStatus.PAUSED\">\n    <bb-badge-ui\n      text=\"Paused\"\n      i18n-text=\"Paused Label|Text for the expired label@@authorized.users.status.paused\"\n      color=\"warning\"\n    ></bb-badge-ui>\n  </ng-container>\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n  AuthorizedUser,\n  AuthorizedUserStatus,\n  LevelUIConfigHeader,\n} from '../../../common/model/authorized-users.model';\n\n@Component({\n  selector: 'bb-authorized-users-list-item',\n  templateUrl: `./authorized-users-list-item.component.html`,\n})\nexport class AuthorizedUsersListItemComponent {\n  /**\n   *  List of authorized users.\n   */\n  @Input() authorizedUsersItem: AuthorizedUser | undefined;\n  @Input() levelsConfig: Array<LevelUIConfigHeader<boolean[]>> | undefined;\n  @Output() edit = new EventEmitter<AuthorizedUser>();\n  @Output() remove = new EventEmitter<AuthorizedUser>();\n  @Output() paused = new EventEmitter<AuthorizedUser>();\n  @Output() resumed = new EventEmitter<AuthorizedUser>();\n\n  authorizedUserStatus = AuthorizedUserStatus;\n  arePermissionsOpen = false;\n  isUserActionsEnabled = false;\n\n  togglePermissionsVisibility() {\n    this.arePermissionsOpen = !this.arePermissionsOpen;\n  }\n\n  editPermissions() {\n    this.edit.emit(this.authorizedUsersItem);\n  }\n\n  removeUser() {\n    this.remove.emit(this.authorizedUsersItem);\n  }\n\n  pauseUser() {\n    this.paused.emit(this.authorizedUsersItem);\n  }\n\n  resumeUser() {\n    this.resumed.emit(this.authorizedUsersItem);\n  }\n}\n","<div class=\"card card-lg\">\n  <div class=\"card-body\" bbAuthorizedUsersAccessibilityKeyboard>\n    <div class=\"bb-stack bb-stack--density-sm\">\n      <div class=\"bb-stack__item\">\n        <p data-role=\"user-fullName\" class=\"bb-heading-3\">\n          {{authorizedUsersItem?.firstName + ' ' + authorizedUsersItem?.lastName}}\n        </p>\n      </div>\n\n      <div class=\"bb-stack__item\" data-role=\"user-status-badge\">\n        <bb-authorized-users-list-status-badge\n          [authorizedUsersStatus]=\"authorizedUsersItem?.status\"\n        ></bb-authorized-users-list-status-badge>\n      </div>\n\n      <div class=\"bb-stack__item bb-stack__item--push-right\">\n        <bb-dropdown-menu-ui\n          icon=\"ellipsis-h\"\n          btnColor=\"link-dark\"\n          btnCircle=\"true\"\n          container=\"body\"\n          position=\"bottom-right\"\n          data-role=\"options-dropdown\"\n          aria-label=\"Options\"\n          i18n-aria-label=\"Options button|Authorized user options button tooltip@@authorized.users.options.label\"\n        >\n          <ng-template bbDropdownMenuItem>\n            <a\n              bbAuthorizedUsersAccessibilityKeyboard\n              rel=\"noopener\"\n              role=\"menuitem\"\n              class=\"dropdown-item\"\n              data-role=\"edit-item\"\n              target=\"_blank\"\n              (click)=\"editPermissions()\"\n            >\n              <span class=\"bb-inline-stack\">\n                <bb-icon-ui class=\"bb-inline-stack__item\" name=\"edit\" size=\"md\"></bb-icon-ui>\n                <span \n                  class=\"bb-inline-stack__item\"  \n                  i18n=\"Edit User Permissions|Label for edit authorized user permissions action@@authorized.users.edit\"\n                >\n                  Edit User Permissions\n                </span>\n              </span>\n            </a>\n            <ng-container *ngIf=\"authorizedUsersItem?.status!==authorizedUserStatus.PAUSED; else resumeAuthorizedUserOption\">\n              <a\n                bbAuthorizedUsersAccessibilityKeyboard\n                rel=\"noopener\"\n                role=\"menuitem\"\n                class=\"dropdown-item\"\n                data-role=\"pause-item\"\n                target=\"_blank\"\n                (click)=\"pauseUser()\"\n              >\n                <span class=\"bb-inline-stack\">\n                  <bb-icon-ui class=\"bb-inline-stack__item\" name=\"pause\" size=\"md\"></bb-icon-ui>\n                  <span \n                    class=\"bb-inline-stack__item\" \n                    i18n=\"Pause Permissions|Label for pause authorized user permissions action@@authorized.users.paused\"\n                  >\n                    Pause Permissions\n                  </span>\n                </span>\n              </a>\n            </ng-container>\n            <ng-template #resumeAuthorizedUserOption>\n              <a\n                bbAuthorizedUsersAccessibilityKeyboard\n                rel=\"noopener\"\n                role=\"menuitem\"\n                class=\"dropdown-item\"\n                data-role=\"resume-item\"\n                target=\"_blank\"\n                (click)=\"resumeUser()\"\n              >\n                <span class=\"bb-inline-stack\">\n                  <bb-icon-ui class=\"bb-inline-stack__item\" name=\"update\" size=\"md\"></bb-icon-ui>\n                  <span \n                    class=\"bb-inline-stack__item\" \n                    i18n=\"Resume Permissions|Label for resume authorized user permissions action@@authorized.users.resumed\"\n                  >\n                    Resume Permissions\n                  </span>\n                </span>\n              </a>\n            </ng-template>\n            <a\n              bbAuthorizedUsersAccessibilityKeyboard\n              rel=\"noopener\"\n              role=\"menuitem\"\n              class=\"dropdown-item\"\n              data-role=\"remove-item\"\n              target=\"_blank\"\n              (click)=\"removeUser()\"\n            >\n              <span class=\"bb-inline-stack\">\n                <bb-icon-ui class=\"bb-inline-stack__item\" name=\"delete\" size=\"md\" color=\"danger\"></bb-icon-ui>\n                <span \n                  class=\"bb-inline-stack__item bb-text-danger\" \n                  i18n=\"Remove Authorized User|Label for remove authorized user action@@authorized.users.remove\"\n                >\n                  Remove Authorized User\n                </span>\n              </span>\n            </a>\n          </ng-template>\n        </bb-dropdown-menu-ui>\n      </div>\n    </div>\n\n    <div class=\"bb-block bb-block--sm\">\n      <div \n        class=\"bb-block bb-block--xs bb-text-support text-small\" \n        data-role=\"user-email\"\n      >\n        {{authorizedUsersItem?.email}} \n      </div>\n      <div \n        class=\"bb-text-support text-small\" \n        data-role=\"user-phone-number\"\n      > \n        {{authorizedUsersItem?.mobileNumber | phoneNumber: 'US'}} \n      </div>\n    </div>\n    \n    <div [ngbCollapse]=\"!arePermissionsOpen\" bbAuthorizedUsersAccessibilityKeyboard>\n      <div class=\"bb-block bb-block--xs\" data-role=\"user-username\" *ngIf=\"authorizedUsersItem?.username\"> \n        <span \n          class=\"bb-text-bold text-small\"\n          i18n='Authorized users list username header@@authorized.users.list.username.header'\n        >\n          Username: \n        </span>\n        <span class=\"bb-text-support text-small\">{{authorizedUsersItem?.username}}</span>\n      </div>\n      <div class=\"bb-block bb-block--md\" data-role=\"user-permissions-table\">\n        <bb-authorized-users-permissions-levels-table \n          [selectedAccounts]=\"authorizedUsersItem?.permissions\"\n          [levelsConfig]=\"levelsConfig\"\n        ></bb-authorized-users-permissions-levels-table>\n      </div>\n    </div>\n\n    <div>\n      <button bbButton data-role=\"permissions-button\" buttonSize=\"sm\" color=\"link-text\" (click)=\"togglePermissionsVisibility()\">\n        <bb-icon-ui [name]=\"arePermissionsOpen ? 'toggle-up' : 'toggle-down'\" size=\"md\"></bb-icon-ui>\n        <span \n          i18n='Hide user permissions button@@authorized.users.list.hide.button' \n          *ngIf=\"arePermissionsOpen\"\n        >\n          Hide User Permissions\n        </span>\n        <span \n          i18n='See user permissions button@@authorized.users.list.seeMore.button' \n          *ngIf=\"!arePermissionsOpen\"\n        >\n          See User Permissions\n        </span>\n      </button>\n    </div>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AuthorizedUser, AuthorizedUsersList, LevelUIConfigHeader } from '../../../common/model/authorized-users.model';\n\n@Component({\n  selector: 'bb-authorized-users-list',\n  templateUrl: `./authorized-users-list.component.html`,\n})\nexport class AuthorizedUsersListComponent {\n  /**\n   *  List of authorized users.\n   */\n  @Input() authorizedUsersList: AuthorizedUsersList | undefined;\n  @Input() levelsConfig: Array<LevelUIConfigHeader<boolean[]>> | undefined;\n\n  @Output() edit = new EventEmitter<AuthorizedUser>();\n  @Output() remove = new EventEmitter<AuthorizedUser>();\n  @Output() paused = new EventEmitter<AuthorizedUser>();\n  @Output() resumed = new EventEmitter<AuthorizedUser>();\n  @Output() createAuthorizedUser = new EventEmitter();\n\n  goToAuthorizedUser() {\n    this.createAuthorizedUser.emit();\n  }\n\n  editPermissions(user: AuthorizedUser) {\n    this.edit.emit(user);\n  }\n\n  removeUser(user: AuthorizedUser) {\n    this.remove.emit(user);\n  }\n\n  pauseUser(user: AuthorizedUser) {\n    this.paused.emit(user);\n  }\n\n  resumeUser(user: AuthorizedUser) {\n    this.resumed.emit(user);\n  }\n}\n","<div class=\"bb-block bb-block--lg bb-text-align-right\">\n  <button bbButton data-role=\"add-button\" color=\"primary\" (click)=\"goToAuthorizedUser()\">\n    <bb-icon-ui name=\"add\"></bb-icon-ui> \n    <span i18n=\"Add new authorized user button@@authorized.users.add.button\">\n      Add Authorized User\n    </span>\n  </button>\n</div>\n<div class=\"bb-list\">\n  <div class=\"bb-list__item--no-separator\" *ngFor=\"let authorizedUsersItem of authorizedUsersList\">\n    <div class=\"bb-block bb-block--lg\">\n      <bb-authorized-users-list-item\n        [authorizedUsersItem]=\"authorizedUsersItem\"\n        [levelsConfig]=\"levelsConfig\"\n        (edit)=\"editPermissions($event)\"\n        (remove)=\"removeUser($event)\"\n        (paused)=\"pauseUser($event)\"\n        (resumed)=\"resumeUser($event)\"\n      ></bb-authorized-users-list-item>\n    </div>\n  </div>\n</div>\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'bb-authorized-users-empty-list',\n  templateUrl: `./authorized-users-empty-list.component.html`,\n})\nexport class AuthorizedUsersEmptyListComponent {\n  /**\n   * Empty state image url.\n   */\n  @Input() imageUrl = '';\n\n  @Output() createAuthorizedUser = new EventEmitter();\n\n  goToAuthorizedUser() {\n    this.createAuthorizedUser.emit();\n  }\n}\n","<div class=\"card\">\n  <div class=\"card-body bb-text-align-center\">\n    <div class=\"bb-block bb-block--lg\">\n      <img \n        class=\"img-fluid\" \n        *ngIf=\"!!imageUrl\" \n        [src]=\"imageUrl\"\n        alt=\"empty-state-image\"\n      />\n    </div>\n    <h2 \n      class=\"bb-block bb-block--sm\"\n      data-role=\"empty-state-message\"\n      i18n=\"authorized users empty state header@@authorized.users.empty.state.header\"\n    >\n      Authorize access to your accounts\n    </h2>\n    <div class=\"bb-block bb-block--lg\">\n      <p \n        class=\"bb-text-support text-small\"\n        data-role=\"empty-state-description\"\n        i18n=\"authorized users empty state description@authorized.users.empty.state.description\"\n      >\n        Adding an authorized user allows you to give limited or full access to your accounts or financial products.\n      </p>\n    </div>\n  \n    <div>\n      <button bbButton data-role=\"add-button\" color=\"primary\" (click)=\"goToAuthorizedUser()\">\n        <bb-icon-ui name=\"add\"></bb-icon-ui> \n        <span i18n=\"Add new authorized user button@@authorized.users.add.button\">Add Authorized User</span>\n      </button>\n    </div>\n  </div>\n</div>","import { Component } from '@angular/core';\nimport { AuthorizedUsersBaseDialogComponent } from '../../../common/components/authorized-users-base-dialog/authorized-users-base-dialog.component';\n\n@Component({\n  selector: 'bb-authorized-user-list-remove-user-confirmation-dialog',\n  templateUrl: 'authorized-users-list-confirmation-remove-user-dialog.component.html',\n})\nexport class AuthorizedUsersListConfirmationRemoveUserDialogComponent extends AuthorizedUsersBaseDialogComponent {}\n","<!-- Remove authorized user confirmation model  -->\n<bb-modal-ui [isOpen]=\"dialogOpen\" (cancel)=\"onClose()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <h2 \n        data-role=\"remove-modal-title\" \n        i18n=\"Remove authorized user@@authorized.users.removeUser.modal.header\"\n      >\n        Remove Authorized User?\n      </h2>\n      <div>\n        <button \n          bbButton \n          color=\"unstyled\" \n          (click)=\"onClose()\"\n          aria-label=\"close removal confirmation modal dialog\"\n          i18-aria-label=\"Close removal confirmation modal dialog|Button for close removal confirmation modal dialog@@authorized.users.removeUser.modal.closed.button\"\n        >\n          <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span data-role=\"remove-modal-message\" i18n=\"Remove confirmation text@@authorized.users.removeUser.modal.body\">\n        All entered information and their corresponding permissions will be permanently removed.\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui #footerRef>\n    <ng-template bbCustomModalFooter>\n      <button bbButton (click)=\"onClose()\" color=\"link\" data-role=\"keep-button\">\n        <span i18n=\"Keep it button text@@authorized.users.removeUser.notNow.button\">\n          Keep It\n        </span>\n      </button>\n      <button bbButton (click)=\"onConfirm()\" color=\"danger\" data-role=\"remove-button\">\n        <span i18n=\"Remove authorized user button text@@authorized.users.removeUser.remove.button\">\n          Remove Authorized User\n        </span>\n      </button>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>\n","import { Component } from '@angular/core';\nimport { AuthorizedUsersBaseDialogComponent } from '../../../common/components/authorized-users-base-dialog/authorized-users-base-dialog.component';\n\n@Component({\n  selector: 'bb-authorized-user-list-confirmation-pause-user-dialog',\n  templateUrl: 'authorized-user-list-confirmation-pause-user-dialog.component.html',\n})\nexport class AuthorizedUserListConfirmationPauseUserDialogComponent extends AuthorizedUsersBaseDialogComponent {}\n","<!-- Pause authorized user confirmation model  -->\n<bb-modal-ui [isOpen]=\"dialogOpen\" (cancel)=\"onClose()\">\n  <bb-modal-header-ui>\n    <ng-template bbCustomModalHeader>\n      <h2 \n        data-role=\"pause-modal-title\" \n        i18n=\"Pause user permissions@@authorized.users.pauseUserPermissions.modal.header\"\n      >\n        Pause user permissions?\n      </h2>\n      <div>\n        <button \n          bbButton \n          color=\"unstyled\" \n          (click)=\"onClose()\"\n          aria-label=\"close pause permissions confirmation modal dialog\"\n          i18-aria-label=\"Close pause permissions confirmation modal dialog|Button for close pause permissions confirmation modal dialog@@authorized.users.pauseUserPermissions.modal.cancel.button\"\n        >\n          <bb-icon-ui color=\"muted\" name=\"clear\"></bb-icon-ui>\n        </button>\n      </div>\n    </ng-template>\n  </bb-modal-header-ui>\n  <bb-modal-body-ui>\n    <ng-template bbCustomModalBody>\n      <span data-role=\"pause-modal-message\" i18n=\"Pause confirmation text@@authorized.users.pauseUserPermissions.modal.body\">\n        Their account permissions will be paused indefinetely until you resume them.\n      </span>\n    </ng-template>\n  </bb-modal-body-ui>\n  <bb-modal-footer-ui #footerRef>\n    <ng-template bbCustomModalFooter>\n      <button bbButton (click)=\"onClose()\" color=\"link\" data-role=\"not-now-button\">\n        <span i18n=\"Not now button text@@authorized.users.pauseUserPermissions.modal.notNow.button\">\n          Not now\n        </span>\n      </button>\n      <button bbButton (click)=\"onConfirm()\" color=\"primary\" data-role=\"pause-button\">\n        <span i18n=\"Pause permissions button text@@authorized.users.pauseUserPermissions.modal.paused.button\">\n          Pause permissions\n        </span>\n      </button>\n    </ng-template>\n  </bb-modal-footer-ui>\n</bb-modal-ui>","import { Component, EventEmitter, OnDestroy, Output, TemplateRef } from '@angular/core';\nimport { AssetsResolver, AssetsService } from '@backbase/foundation-ang/core';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { catchError, mergeMap, tap } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport {\n  AuthorizedUser,\n  AuthorizedUsersList,\n  AuthorizedUserStatus,\n  LevelUIConfigHeader,\n  SafeTypeArray,\n} from '../../../common/model/authorized-users.model';\nimport { AuthorizedUsersError, parseError } from '../../../common/model/authorized-users-error.model';\nimport { SERVICE_AGREEMENT_DISABLED, SERVICE_AGREEMENT_ENABLED } from '../../../common/constants';\nimport { UserDataService } from '../../../common/services/user-data.service';\nimport { UsersUIService } from '../../../common/services/users-ui.service';\nimport { NotificationService } from '@backbase/ui-ang/notification';\n\n// eslint-disable-next-line no-var\ndeclare var $localize: any;\n\nexport type AuthorizedUserListActions = 'pause' | 'remove' | undefined;\ntype NotificationMessage = string | TemplateRef<any>;\ntype NotificationModifier = 'success' | 'info' | 'warning' | 'error' | undefined;\n\n@Component({\n  selector: 'bb-authorized-users-list-wrapper',\n  templateUrl: `authorized-users-list-wrapper.component.html`,\n})\nexport class AuthorizedUsersListWrapperComponent implements OnDestroy {\n  private refreshAuthorizedUsers = new BehaviorSubject<boolean>(true);\n  private authorizedUsersListSubject = new BehaviorSubject<AuthorizedUsersList>({ items: [] });\n  private isLoading = new BehaviorSubject<boolean>(true);\n  levelsConfig: Array<LevelUIConfigHeader<SafeTypeArray>> | undefined;\n\n  actionName: AuthorizedUserListActions;\n  authorizedUsersList = this.authorizedUsersListSubject.asObservable();\n  showLoadingIndicator = this.isLoading.asObservable();\n\n  @Output() selectedUser = new EventEmitter<string | undefined>();\n  /**\n   * Error message in case something unexpected occurs.\n   */\n  error: AuthorizedUsersError | undefined;\n\n  currentUser: AuthorizedUser | undefined;\n\n  private readonly getURIFromAssetID = (assetId: string) => `${assetId}-img.svg`;\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  private readonly resolveAsset: AssetsResolver = this.assetsService.createAssetsResolver({\n    widgetName: 'bb-authorized-users-journey-ang',\n    getURIFromAssetID: this.getURIFromAssetID,\n  });\n\n  private handleLoadingError = (error: HttpErrorResponse) => {\n    this.error = parseError(error);\n    return of({ items: [] });\n  };\n\n  private handleOperationsError = () => {\n    this.setLoadingIndicator(false);\n    this.pushNotification($localize`Something went wrong`, $localize`Please try again later.`, 'error');\n  };\n\n  private retrieveAuthorizedUsers() {\n    return this.userDataService.retrieveAuthorizedUser().pipe(\n      catchError(this.handleLoadingError),\n      tap(() => {\n        this.setLoadingIndicator(false);\n      }),\n    );\n  }\n\n  private pushNotification(header: NotificationMessage, message: NotificationMessage, modifier: NotificationModifier) {\n    this.notificationService.showNotification({\n      header,\n      message,\n      modifier,\n      dismissible: true,\n      ttl: 5000,\n    });\n  }\n\n  get imageEmptyStateUrl(): Observable<string> {\n    return this.resolveAsset('authorized-users-empty-state');\n  }\n\n  goToAuthorizedUser() {\n    this.selectedUser.emit();\n  }\n\n  editPermissions(user: AuthorizedUser) {\n    this.selectedUser.emit(user.id);\n  }\n\n  setCurrentUser(user?: AuthorizedUser, actionName?: AuthorizedUserListActions) {\n    this.currentUser = user;\n    this.actionName = actionName;\n  }\n\n  setLoadingIndicator(value: boolean) {\n    this.isLoading.next(value);\n  }\n\n  removeUser(user: AuthorizedUser | undefined) {\n    const success = () => {\n      this.pushNotification(\n        $localize`Authorized user removed`,\n        $localize`Their permissions are permanently removed.`,\n        'success',\n      );\n      this.refreshList();\n    };\n\n    if (user && user.id) {\n      this.setLoadingIndicator(true);\n      this.currentUser = undefined;\n      this.userDataService.removeAuthorizedUser(user.id).subscribe(success, this.handleOperationsError);\n    }\n  }\n\n  updateUserStatus(user: AuthorizedUser | undefined) {\n    const success = () => {\n      if (user!.status !== AuthorizedUserStatus.PAUSED) {\n        this.pushNotification(\n          $localize`Authorized user paused`,\n          $localize`You can resume their permissions at any time.`,\n          'success',\n        );\n      } else {\n        this.pushNotification(\n          $localize`User permissions resumed`,\n          $localize`Their permissions are now active again.`,\n          'success',\n        );\n      }\n      this.refreshList();\n    };\n    if (user && user.id) {\n      this.setLoadingIndicator(true);\n      this.currentUser = undefined;\n      this.userDataService\n        .updateAuthorizedUserStatus(\n          user.id,\n          user.status !== AuthorizedUserStatus.PAUSED ? SERVICE_AGREEMENT_DISABLED : SERVICE_AGREEMENT_ENABLED,\n        )\n        .subscribe(success, this.handleOperationsError);\n    }\n  }\n\n  refreshList() {\n    this.refreshAuthorizedUsers.next(true);\n  }\n\n  ngOnDestroy() {\n    this.refreshAuthorizedUsers.complete();\n    this.authorizedUsersListSubject.complete();\n    this.isLoading.complete();\n  }\n\n  constructor(\n    private readonly assetsService: AssetsService,\n    private readonly userDataService: UserDataService,\n    private readonly usersUIService: UsersUIService,\n    private readonly notificationService: NotificationService,\n  ) {\n    this.refreshAuthorizedUsers\n      .pipe(mergeMap(() => this.retrieveAuthorizedUsers()))\n      .subscribe(this.authorizedUsersListSubject);\n\n    this.levelsConfig = this.usersUIService.uiLevelsConfigValue;\n  }\n}\n","<ng-container *ngIf=\"!error; else errorState\">\n  <ng-container *ngIf=\"authorizedUsersList | async as list\">\n    <ng-container *ngIf=\"(showLoadingIndicator | async) === false; else loadingState\">\n      <ng-container *ngIf=\"list.items.length; else emptyState\">\n        <bb-authorized-users-list\n          [authorizedUsersList]=\"list.items\"\n          [levelsConfig]=\"levelsConfig\"\n          (edit)=\"editPermissions($event)\"\n          (remove)=\"setCurrentUser($event, 'remove')\"\n          (paused)=\"setCurrentUser($event, 'pause')\"\n          (resumed)=\"updateUserStatus($event)\"\n          (createAuthorizedUser)=\"goToAuthorizedUser()\"\n        ></bb-authorized-users-list>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n</ng-container>\n\n<ng-template #emptyState>\n  <bb-authorized-users-empty-list\n    [imageUrl]=\"imageEmptyStateUrl | async\"\n    (createAuthorizedUser)=\"goToAuthorizedUser()\"\n  ></bb-authorized-users-empty-list>\n</ng-template>\n\n<ng-template #loadingState>\n  <div class=\"card\">\n    <bb-loading-indicator-ui \n      loaderSize=\"lg\" \n      text=\"Loading...\"\n      i18n-text=\"Loading|Text for the loading indicator@@authorized.users.loading.indicator.text\"\n    ></bb-loading-indicator-ui>\n  </div>\n</ng-template>\n\n<ng-template #errorState>\n  <div class=\"card\">\n    <div class=\"card-body bb-state-container\">\n      <bb-empty-state-ui\n        iconModifier=\"error-outline\"\n        iconColor=\"dark\"\n        title=\"Something Went Wrong\"\n        i18n-title=\"Error state title@@authorized.users.errorState.title\"\n        subtitle=\"Try to reload the page or contact the system administrator.\"\n        i18n-subtitle=\"Error state message@@authorized.users.errorState.message\"\n      ></bb-empty-state-ui>\n      <div class=\"bb-state-container__footer\">\n        <button \n          bbButton \n          color=\"primary\" \n          i18n=\"Reload button text@@authorized-users.errorState.reload.button\"\n        >\n          Reload\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<bb-authorized-user-list-remove-user-confirmation-dialog\n  [dialogOpen]=\"!!currentUser && actionName === 'remove'\"\n  (confirm)=\"removeUser(currentUser)\"\n  (closed)=\"setCurrentUser()\"\n></bb-authorized-user-list-remove-user-confirmation-dialog>\n\n<bb-authorized-user-list-confirmation-pause-user-dialog\n  [dialogOpen]=\"!!currentUser && actionName === 'pause'\"\n  (confirm)=\"updateUserStatus(currentUser)\"\n  (closed)=\"setCurrentUser()\"\n></bb-authorized-user-list-confirmation-pause-user-dialog>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { AuthorizedUsersListWrapperComponent } from './components/authorized-users-list-wrapper/authorized-users-list-wrapper.component';\nimport { AuthorizedUsersEmptyListComponent } from './components/authorized-users-empty-list/authorized-users-empty-list.component';\nimport { AuthorizedUsersListComponent } from './components/authorized-users-list/authorized-users-list.component';\nimport { AuthorizedUsersListItemComponent } from './components/authorized-users-list-item/authorized-users-list-item.component';\nimport { NgbCollapseModule } from '@ng-bootstrap/ng-bootstrap';\nimport { AuthorizedUsersListStatusBadgeComponent } from './components/authorized-users-list-status-badge/authorized-users-list-status-badge.component';\nimport { AuthorizedUsersListConfirmationRemoveUserDialogComponent } from './components/authorized-users-list-confirmation-dialog/authorized-users-list-confirmation-remove-user-dialog.component';\nimport { AuthorizedUserListConfirmationPauseUserDialogComponent } from './components/authorized-users-list-confirmation-dialog/authorized-user-list-confirmation-pause-user-dialog.component';\nimport { AuthorizedUsersCommonModule } from '../common/authorized-users-common.module';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { PhoneNumberModule } from '@backbase/ui-ang/phone-number-format-pipe';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\nimport { NotificationModule } from '@backbase/ui-ang/notification';\n\nconst components = [\n  AuthorizedUsersListWrapperComponent,\n  AuthorizedUsersEmptyListComponent,\n  AuthorizedUsersListComponent,\n  AuthorizedUsersListItemComponent,\n  AuthorizedUsersListStatusBadgeComponent,\n  AuthorizedUsersListConfirmationRemoveUserDialogComponent,\n  AuthorizedUserListConfirmationPauseUserDialogComponent,\n];\n\nconst modules = [\n  ButtonModule,\n  IconModule,\n  PhoneNumberModule,\n  LoadingIndicatorModule,\n  EmptyStateModule,\n  NgbCollapseModule,\n  DropdownMenuModule,\n  ModalModule,\n  BadgeModule,\n  NotificationModule,\n  AuthorizedUsersCommonModule,\n];\n\n@NgModule({\n  declarations: [...components],\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { AuthorizedUsersListWrapperComponent },\n    }),\n    ...modules,\n  ],\n  exports: [...modules, ...components],\n})\nexport class AuthorizedUsersListModule {}\n","import { Injectable, Optional, Inject, InjectionToken } from '@angular/core';\nimport { DEFAULT_UI_LEVELS_CONFIG, DEFAULT_UI_PERMISSIONS_CONFIG } from '../common/constants';\nimport { LevelsConfig, SafeTypeArray } from '../common/model/authorized-users.model';\nimport { LevelsMappingConfigImplementation } from '../common/services/default-level-mapping-config.service';\nexport const AuthorizedUsersJourneyConfigurationToken = new InjectionToken<\n  AuthorizedUsersJourneyConfiguration<SafeTypeArray, SafeTypeArray>\n>('AuthorizedUsersJourneyConfiguration injection token');\n\nexport enum FullAccessGranularity {\n  PER_ACCOUNT = 'individual-control',\n  SAME_FOR_ALL_ACCOUNTS = 'all-at-once',\n}\n\nexport interface AuthorizedUsersJourneyConfiguration<T extends SafeTypeArray, S extends { [k in keyof T]: any }> {\n  fullAccess: FullAccessGranularity;\n  levelsConfig: LevelsConfig<T, S>;\n}\n\nconst configDefaults: AuthorizedUsersJourneyConfiguration<\n  [boolean, boolean, boolean, boolean, boolean],\n  [string, string, string, string, string]\n> = {\n  fullAccess: FullAccessGranularity.SAME_FOR_ALL_ACCOUNTS,\n  levelsConfig: {\n    mappings: new LevelsMappingConfigImplementation(),\n    uiConfig: {\n      ...DEFAULT_UI_LEVELS_CONFIG,\n      ...DEFAULT_UI_PERMISSIONS_CONFIG,\n    },\n  },\n};\n\n@Injectable()\nexport class AuthorizedUsersJourneyConfigService {\n  private _config: AuthorizedUsersJourneyConfiguration<SafeTypeArray, SafeTypeArray>;\n\n  constructor(\n    @Optional()\n    @Inject(AuthorizedUsersJourneyConfigurationToken)\n    config: AuthorizedUsersJourneyConfiguration<SafeTypeArray, SafeTypeArray>,\n  ) {\n    config = config || {};\n    this._config = { ...configDefaults, ...config };\n  }\n\n  get defaults(): AuthorizedUsersJourneyConfiguration<SafeTypeArray, SafeTypeArray> {\n    return configDefaults;\n  }\n\n  /**\n   * Full access permission. Defines how the account owner can set access permissions: for all accounts at once, or for each account individually.\n   */\n  get fullAccess(): FullAccessGranularity {\n    return this._config.fullAccess;\n  }\n\n  /**\n   * Custom UI configuration for the permission levels and their permission sets.\n   * For more details check https://community.backbase.com/documentation/Retail-Banking/latest/authorized_user_create_reference#create_authorized_users_configuration\n   */\n  get levelsConfig(): LevelsConfig<SafeTypeArray, SafeTypeArray> {\n    return this._config.levelsConfig;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { AuthorizedUsersJourneyConfigService } from '../services/authorized-users-journey-config.service';\n\n@Component({\n  selector: 'bb-authorized-user-create-view',\n  template: `\n    <bb-header-ui\n      headingType=\"h1\"\n      headingClasses=\"bb-heading-widget__heading px-0 pb-5\"\n      heading=\"Authorized User\"\n      i18n-heading=\"\n        Authorized User|Heading for the Create Authorized User View@@authorized-users.journey.create.heading.text\"\n    ></bb-header-ui>\n    <bb-authorized-users-create-wrapper\n      [selectedUser]=\"(selectedUser | async) || undefined\"\n      [enableAccountLevelFullAccessPermission]=\"config.fullAccess\"\n      (showAuthorizedUsers)=\"onClose()\"\n    ></bb-authorized-users-create-wrapper>\n  `,\n})\nexport class AuthorizedUserCreateViewComponent {\n  readonly selectedUser: Observable<string> = this.route.params.pipe(map((params: Params) => params['selectedUser']));\n\n  constructor(\n    readonly config: AuthorizedUsersJourneyConfigService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n  ) {}\n\n  onClose() {\n    this.router.navigate(['../list'], { relativeTo: this.route });\n  }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'bb-authorized-users-list-view',\n  template: `\n    <bb-header-ui\n      headingType=\"h1\"\n      headingClasses=\"bb-heading-widget__heading px-0 pb-5\"\n      heading=\"Authorized Users\"\n      i18n-heading=\"\n        Authorized Users|Heading for the Authorized Users List View@@authorized-users.journey.list.heading.text\"\n    ></bb-header-ui>\n    <bb-authorized-users-list-wrapper (selectedUser)=\"onUserSelected($event)\"></bb-authorized-users-list-wrapper>\n  `,\n})\nexport class AuthorizedUsersListViewComponent {\n  constructor(private readonly router: Router, private route: ActivatedRoute) {}\n\n  onUserSelected(id?: string) {\n    this.router.navigate(['../create', id ? { selectedUser: id } : {}], { relativeTo: this.route });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { provideRoutes, Route, RouterModule } from '@angular/router';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport { AuthorizedUsersCreateModule } from './authorized-users-create/authorized-users-create.module';\nimport { AuthorizedUsersJourneyComponent } from './authorized-users-journey.component';\nimport { AuthorizedUsersListModule } from './authorized-users-list/authorized-users-list.module';\nimport { levelsMappingConfigToken } from './common/services/users-ui.service';\nimport { AuthorizedUsersJourneyConfigService } from './services/authorized-users-journey-config.service';\nimport { AuthorizedUserCreateViewComponent } from './views/authorized-user-create.component';\nimport { AuthorizedUsersListViewComponent } from './views/authorized-users-list.component';\n\nexport const defaultRoute: Route = {\n  path: '',\n  component: AuthorizedUsersJourneyComponent,\n  children: [\n    {\n      path: '',\n      redirectTo: 'list',\n      pathMatch: 'full',\n    },\n    {\n      path: 'list',\n      data: { title: 'Authorized users' },\n      component: AuthorizedUsersListViewComponent,\n    },\n    {\n      path: 'create',\n      data: { title: 'Add authorized user' },\n      component: AuthorizedUserCreateViewComponent,\n    },\n  ],\n};\n\nexport function getLevelsConfig(config: AuthorizedUsersJourneyConfigService) {\n  return config.levelsConfig;\n}\n\n@NgModule({\n  declarations: [AuthorizedUsersJourneyComponent, AuthorizedUsersListViewComponent, AuthorizedUserCreateViewComponent],\n  imports: [\n    CommonModule,\n    BackbaseCoreModule.withConfig({\n      classMap: { AuthorizedUsersJourneyComponent },\n    }),\n    RouterModule.forChild([]),\n    HeaderModule,\n    AuthorizedUsersListModule,\n    AuthorizedUsersCreateModule,\n  ],\n  providers: [AuthorizedUsersJourneyConfigService],\n})\nexport class AuthorizedUsersJourneyModule {\n  static forRoot(\n    data: { route: Route; [key: string]: any } = { route: defaultRoute },\n  ): ModuleWithProviders<AuthorizedUsersJourneyModule> {\n    return {\n      ngModule: AuthorizedUsersJourneyModule,\n      providers: [\n        provideRoutes([data.route]),\n        {\n          provide: levelsMappingConfigToken,\n          useFactory: getLevelsConfig,\n          deps: [AuthorizedUsersJourneyConfigService],\n        },\n      ],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Directive","HostListener","EventEmitter","Component","Input","Output","InjectionToken","first","switchMap","catchError","of","Injectable","Inject","Optional","map","Status","combineLatest","modules","IconModule","TableModule","PaymentCardNumberModule","CommonModule","NgModule","Subscription","Validators","ChangeDetectionStrategy","BehaviorSubject","ReplaySubject","merge","StepperModule","ButtonModule","SwitchModule","CheckboxGroupModule","InputCheckboxModule","InputPhoneModule","InputEmailModule","InputTextModule","ReactiveFormsModule","FormsModule","InputValidationMessageModule","ModalModule","AlertModule","LoadingIndicatorModule","LoadButtonModule","EmptyStateModule","components","BackbaseCoreModule","mergeMap","tap","PhoneNumberModule","NgbCollapseModule","DropdownMenuModule","BadgeModule","NotificationModule","FullAccessGranularity","provideRoutes","HeaderModule","RouterModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;;;;;;;;;;;;;;IAcA;IAEA,IAAI,aAAa,GAAG,UAAS,CAAC,EAAE,CAAC;QAC7B,aAAa,GAAG,MAAM,CAAC,cAAc;aAChC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,UAAU,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC;gBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACtG,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;aAEc,SAAS,CAAC,CAAC,EAAE,CAAC;QAC1B,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;YACrC,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;QAC9F,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;IAEM,IAAI,QAAQ,GAAG;QAClB,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC;YAC3C,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,IAAI,CAAC,IAAI,CAAC;oBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;wBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aAChF;YACD,OAAO,CAAC,CAAC;SACZ,CAAA;QACD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,CAAC,CAAA;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC/E,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;YAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACzB;QACL,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;QACpD,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;YAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;oBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;aAEe,OAAO,CAAC,UAAU,EAAE,SAAS;QACzC,OAAO,UAAU,MAAM,EAAE,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE,CAAA;IACzE,CAAC;aAEe,UAAU,CAAC,WAAW,EAAE,aAAa;QACjD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;aAEe,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;QACvD,SAAS,KAAK,CAAC,KAAK,IAAI,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC5G,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM;YACrD,SAAS,SAAS,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC3F,SAAS,QAAQ,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC9F,SAAS,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;YAC9G,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SACzE,CAAC,CAAC;IACP,CAAC;aAEe,WAAW,CAAC,OAAO,EAAE,IAAI;QACrC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,cAAa,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAa,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACzJ,SAAS,IAAI,CAAC,CAAC,IAAI,OAAO,UAAU,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAClE,SAAS,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC;gBAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;YAC9D,OAAO,CAAC;gBAAE,IAAI;oBACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI;wBAAE,OAAO,CAAC,CAAC;oBAC7J,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;wBAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;oBACxC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACT,KAAK,CAAC,CAAC;wBAAC,KAAK,CAAC;4BAAE,CAAC,GAAG,EAAE,CAAC;4BAAC,MAAM;wBAC9B,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;wBACxD,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;4BAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;4BAAC,SAAS;wBACjD,KAAK,CAAC;4BAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;wBACjD;4BACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;gCAAE,CAAC,GAAG,CAAC,CAAC;gCAAC,SAAS;6BAAE;4BAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,GAAG,EAAE,CAAC;gCAAC,MAAM;6BAAE;4BACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACnE,IAAI,CAAC,CAAC,CAAC,CAAC;gCAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;qBAC9B;oBACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;iBAC9B;gBAAC,OAAO,CAAC,EAAE;oBAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAAC,CAAC,GAAG,CAAC,CAAC;iBAAE;wBAAS;oBAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAAE;YAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACpF;IACL,CAAC;IAEM,IAAI,eAAe,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;QAC9D,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,cAAa,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC,KAAK,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;aAEa,YAAY,CAAC,CAAC,EAAE,CAAC;QAC7B,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;gBAAE,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClH,CAAC;aAEe,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAC9E,IAAI,CAAC;YAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ;YAAE,OAAO;gBAC1C,IAAI,EAAE;oBACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;wBAAE,CAAC,GAAG,KAAK,CAAC,CAAC;oBACnC,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;iBAC3C;aACJ,CAAC;QACF,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI;YACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;gBAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC9E;QACD,OAAO,KAAK,EAAE;YAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;SAAE;gBAC/B;YACJ,IAAI;gBACA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;oBAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpD;oBACO;gBAAE,IAAI,CAAC;oBAAE,MAAM,CAAC,CAAC,KAAK,CAAC;aAAE;SACpC;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,QAAQ;QACpB,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9C,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC;IACd,CAAC;IAED;aACgB,cAAc;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QACpF,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAC5C,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC7D,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI;QACxC,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC;YAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjF,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;oBACpB,IAAI,CAAC,EAAE;wBAAE,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrD,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;iBACnB;aACJ;QACD,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D,CAAC;aAEe,OAAO,CAAC,CAAC;QACrB,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;aAEe,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS;QAC3D,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QAC9D,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QACtH,SAAS,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAC1I,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAAE;QAAC,OAAO,CAAC,EAAE;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAAE,EAAE;QAClF,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;QACxH,SAAS,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;aAEe,gBAAgB,CAAC,CAAC;QAC9B,IAAI,CAAC,EAAE,CAAC,CAAC;QACT,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5I,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;aAEe,aAAa,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACjN,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAChK,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,IAAI,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;aAEe,oBAAoB,CAAC,MAAM,EAAE,GAAG;QAC5C,IAAI,MAAM,CAAC,cAAc,EAAE;YAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;SAAE;aAAM;YAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;SAAE;QAC/G,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IAEF,IAAI,kBAAkB,GAAG,MAAM,CAAC,MAAM,IAAI,UAAS,CAAC,EAAE,CAAC;QACnD,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IACxE,CAAC,IAAI,UAAS,CAAC,EAAE,CAAC;QACd,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC;aAEc,YAAY,CAAC,GAAG;QAC5B,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU;YAAE,OAAO,GAAG,CAAC;QACtC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,GAAG,IAAI,IAAI;YAAE,KAAK,IAAI,CAAC,IAAI,GAAG;gBAAE,IAAI,CAAC,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,eAAe,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QACzI,kBAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QAChC,OAAO,MAAM,CAAC;IAClB,CAAC;aAEe,eAAe,CAAC,GAAG;QAC/B,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAC3D,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,0EAA0E,CAAC,CAAC;QACnL,OAAO,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAClG,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAClE,IAAI,IAAI,KAAK,GAAG;YAAE,MAAM,IAAI,SAAS,CAAC,gCAAgC,CAAC,CAAC;QACxE,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,CAAC;QAC7F,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG,QAAQ,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,SAAS,CAAC,yEAAyE,CAAC,CAAC;QAClL,OAAO,CAAC,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9G;;ICpMA,IAAY,yBAIX;IAJD,WAAY,yBAAyB;QACnC,mDAAsB,CAAA;QACtB,6DAAgC,CAAA;QAChC,uDAA0B,CAAA;IAC5B,CAAC,EAJW,yBAAyB,KAAzB,yBAAyB,QAIpC;IAED,IAAY,oBAIX;IAJD,WAAY,oBAAoB;QAC9B,yCAAiB,CAAA;QACjB,uEAA+C,CAAA;QAC/C,yCAAiB,CAAA;IACnB,CAAC,EAJW,oBAAoB,KAApB,oBAAoB,QAI/B;QAmCgB,mBAAmB,CA2DnC;IA3DD,WAAiB,mBAAmB;QAClC,SAAgB,iBAAiB,CAAC,kBAAuC;YACvE,OAAO,UAAC,QAAsC;gBAC5C,IAAI,QAAQ,EAAE;oBACZ,IAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAC7D,OAAO,IAAI,CAAC,GAAG,CACb,UAAC,EAAgG;wBAA9F,IAAA,EAAE,KAA4F,GAA5F,EAAE,IAAI,KAAsF,KAAtF,EAAE,SAAS,KAA2E,UAA3E,EAAE,QAAQ,KAAiE,SAAjE,EAAE,KAAK,KAA0D,MAA1D,EAAE,YAAY,KAA4C,aAA5C,EAAE,QAAQ,KAAkC,SAAlC,EAAE,MAAM,KAA0B,OAA1B,EAAE,WAAW,KAAa,YAAb,EAAK,MAAM,cAA9F,qGAAgG,CAAF;wBAC7F,uBACE,EAAE,IAAA,EACF,IAAI,MAAA,EACJ,SAAS,WAAA,EACT,QAAQ,UAAA,EACR,KAAK,OAAA,EACL,YAAY,cAAA,EACZ,QAAQ,UAAA,EACR,MAAM,EAAE,MAA8B,EACtC,WAAW,EAAE,WAAW,CAAC,GAAG,CAAC,UAAC,EAA8C;gCAA5C,IAAA,SAAS,KAAmC,UAAnC,EAAE,KAAK,KAA4B,MAA5B,EAAK,qBAAqB,cAA5C,sBAA8C,CAAF;gCAAO,wBAC/E,SAAS,WAAA,EACT,KAAK,EAAE,kBAAkB,CAAC,2BAA2B,CAAC,KAAK,IAAI,EAAE,CAAC,IAC/D,qBAAqB,GACxB;6BAAA,CAAC,IACA,MAAM,EACT;qBACH,CACF,CAAC;iBACH;gBACD,OAAO,EAAE,CAAC;aACX,CAAC;SACH;QA3Be,qCAAiB,oBA2BhC,CAAA;QAED,SAAgB,OAAO,CAAC,eAAoC,EAAE,QAAqB;YACjF,IAAM,KAAK,GAAG,eAAe,CAAC,GAAG,CAAC,UAAC,cAAc;gBACvC,IAAA,WAAW,GAAgB,cAAc,YAA9B,EAAK,MAAM,UAAK,cAAc,EAA3C,eAA0B,CAAiB,CAAC;gBAClD,uBACE,WAAW,EAAE,uBAAuB,CAAC,WAAW,EAAE,QAAQ,CAAC,IACxD,MAAM,EACT;aACH,CAAC,CAAC;YAEH,OAAO;gBACL,KAAK,OAAA;aACN,CAAC;SACH;QAZe,2BAAO,UAYtB,CAAA;QAED,SAAS,uBAAuB,CAC9B,WAAsC,EACtC,QAAqB;YAErB,OAAO,WAAW;iBACf,GAAG,CAAC,UAAC,UAAU;gBACN,IAAA,SAAS,GAAgB,UAAU,UAA1B,EAAK,MAAM,UAAK,UAAU,EAArC,aAAwB,CAAa,CAAC;gBAE5C,uBACE,OAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,UAAC,OAAO,IAAK,OAAA,OAAO,CAAC,EAAE,KAAK,SAAS,GAAA,CAAE,IACjE,MAAM,EACT;aACH,CAAC;iBACD,MAAM,CAAC,UAAC,UAAU,IAAK,OAAA,CAAC,CAAC,UAAU,CAAC,OAAO,GAAA,CAAC,CAAC;SACjD;IACH,CAAC,EA3DgB,mBAAmB,KAAnB,mBAAmB,QA2DnC;QAEgB,cAAc,CA4B9B;IA5BD,WAAiB,cAAc;QAC7B,SAAgB,gBAAgB,CAAC,kBAAuC;YACtE,IAAM,0BAA0B,GAAG,UAAC,EAAmE;gBAAjE,IAAA,OAAO,KAA0D,QAA1D,EAAE,KAAK,KAAmD,MAAnD,EAAK,sBAAsB,cAA3C,oBAA6C,CAAF;gBAA6B,wBAC1G,SAAS,EAAE,OAAO,CAAC,EAAE,EACrB,KAAK,EAAE,kBAAkB,CAAC,2BAA2B,CAAC,KAAK,CAAC,IACzD,sBAAsB,GACzB;aAAA,CAAC;YAEH,OAAO;gBACL,IAAI,YAAC,IAA4B;oBACvB,IAAA,KAA8F,IAAI,MAAxF,EAAV,KAAK,mBAAG,EAAE,KAAA,EAAE,KAAkF,IAAI,UAAxE,EAAd,SAAS,mBAAG,EAAE,KAAA,EAAE,KAAkE,IAAI,SAAzD,EAAb,QAAQ,mBAAG,EAAE,KAAA,EAAE,KAAmD,IAAI,aAAtC,EAAjB,YAAY,mBAAG,EAAE,KAAA,EAAE,KAAgC,IAAI,YAApB,EAAhB,WAAW,mBAAG,EAAE,KAAA,EAAK,MAAM,UAAK,IAAI,EAApG,iEAA6F,CAAO,CAAC;oBAC3G,uBACE,KAAK,OAAA,EACL,SAAS,WAAA,EACT,QAAQ,UAAA,EACR,YAAY,cAAA,EACZ,WAAW,EAAE,WAAW,CAAC,GAAG,CAAC,0BAA0B,CAAC,IACrD,MAAM,EACT;iBACH;gBAED,GAAG,YAAC,WAAmC;oBACrC,OAAO;wBACL,WAAW,EAAE,WAAW,CAAC,GAAG,CAAC,0BAA0B,CAAC;qBACzD,CAAC;iBACH;aACF,CAAC;SACH;QA1Be,+BAAgB,mBA0B/B,CAAA;IACH,CAAC,EA5BgB,cAAc,KAAd,cAAc;;IC5IxB,IAAM,6BAA6B,GAAwB;QAChE,MAAM,EAAE,CAAC;QACT,SAAS,EAAE,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC;QAC1B,QAAQ,EAAE,CAAC;KACZ,CAAC;IAEK,IAAM,0BAA0B,GAAG,UAAU,CAAC;IAC9C,IAAM,yBAAyB,GAAG,SAAS,CAAC;QAEtC,wBAAwB,GAAkE;QACrG,MAAM,EAAE;YACN,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,kFAAA,WAAW,IAAA,EAAE,mBAAmB,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE;YAC3G,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,uFAAA,gBAAgB,IAAA,EAAE,mBAAmB,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE;YACjH,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,oFAAA,aAAa,IAAA,EAAE,mBAAmB,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE;SACxG;MACD;QAEW,6BAA6B,GAAiE;QACzG,WAAW,EAAE;YACX,SAAS,8GAAA,uCAAuC;YAChD,SAAS,uGAAA,gCAAgC;YACzC,SAAS,oGAAA,6BAA6B;YACtC,SAAS,uFAAA,gBAAgB;YACzB,SAAS,4FAAA,qBAAqB;SAC/B;MACD;;;IC5BF;QACE,uDAAqB,OAAmB;YAAnB,YAAO,GAAP,OAAO,CAAY;YACtC,OAAO,CAAC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC;SACpC;;QAMD,qEAAa,GAAb,UAAc,KAAU;YACtB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACzC;;;qKAXU,6CAA6C;8IAA7C,6CAA6C;sHAA7C,6CAA6C;sBAHzDA,YAAS;uBAAC;wBACT,QAAQ,EAAE,0CAA0C;qBACrD;gHAUC,aAAa;0BAHZC,eAAY;2BAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;0BAExCA,eAAY;2BAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;;ICD3C;QAJA;YAMW,cAAS,GAAG,KAAK,CAAC;YAGjB,kBAAa,GAAG,IAAIC,eAAY,EAAwB,CAAC;YAEnE,wBAAmB,GAAG,6BAA6B,CAAC;YACpD,8BAAyB,GAAG,yBAAyB,CAAC;;YAUtD,0BAAqB,GAAG;gBAAC,WAAS;qBAAT,UAAS,EAAT,qBAAS,EAAT,IAAS;oBAAT,sBAAS;;gBAChC,OAAO,CAAC,CAAC;aACV,CAAC;SAOH;QAjBC,2EAAkB,GAAlB,UAAmB,OAA6B,EAAE,QAAmC;YACnF,IAAI,CAAC,aAAa,CAAC,IAAI,iCAClB,OAAO,GACP,EAAE,KAAK,EAAE,QAAQ,EAAE,EACtB,CAAC;SACJ;QAOD,wEAAe,GAAf,UAAgB,KAAgC;YAC9C,IAAM,iBAAiB,GAAG,KAAK,KAAK,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC;YAC/E,IAAM,mBAAmB,GAAG,iBAAiB,IAAI,IAAI,CAAC,sCAAsC,CAAC;YAC7F,OAAO,mBAAmB,IAAI,CAAC,iBAAiB,CAAC;SAClD;;;sKA1BU,8CAA8C;+IAA9C,8CAA8C,sUCZ3D,onJA8FQ;sHDlFK,8CAA8C;sBAJ1DC,YAAS;uBAAC;wBACT,QAAQ,EAAE,8CAA8C;wBACxD,WAAW,EAAE,oCAAoC;qBAClD;kCAEU,gBAAgB;0BAAxBC,QAAK;oBACG,SAAS;0BAAjBA,QAAK;oBACG,sCAAsC;0BAA9CA,QAAK;oBACG,YAAY;0BAApBA,QAAK;oBACI,aAAa;0BAAtBC,SAAM;;;QEVQ,WAAW,CAe3B;IAfD,WAAiB,WAAW;QAC1B,SAAgB,gBAAgB,CAAC,QAAmC;YAClE,OAAO;gBACL,KAAK,EAAE,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAwB,IAAK,QAAC;oBACjD,EAAE,EAAE,IAAI,CAAC,EAAE;oBACX,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,KAAK,EAAE,IAAI,CAAC,SAAS;oBACrB,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,MAAM,EAAE,IAAI,CAAC,MAAM;oBACnB,QAAQ,EAAE,IAAI,CAAC,QAAQ;oBACvB,aAAa,EAAE,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM;iBACrD,IAAC,CAAC;aACJ,CAAC;SACH;QAbe,4BAAgB,mBAa/B,CAAA;IACH,CAAC,EAfgB,WAAW,KAAX,WAAW;;QCGX,uBAAuB,CAUvC;IAVD,WAAiB,uBAAuB;QACtC,SAAgB,aAAa,CAAC,KAAa;YACzC,OAAO;gBACL,KAAK,OAAA;aACN,CAAC;SACH;QAJe,qCAAa,gBAI5B,CAAA;QAED,SAAgB,gBAAgB,CAAC,QAA2B;YAC1D,OAAO,QAAQ,CAAC,IAAI,CAAC;SACtB;QAFe,wCAAgB,mBAE/B,CAAA;IACH,CAAC,EAVgB,uBAAuB,KAAvB,uBAAuB;;;QCRxC;SAyBC;QAxBC,uEAA2B,GAA3B,UAA4B,KAAa;YACvC,IAAI,KAAK,CAAC,iBAAiB,EAAE,KAAK,WAAW,EAAE;gBAC7C,OAAO,yBAAyB,CAAC,SAAS,CAAC;aAC5C;iBAAM,IAAI,KAAK,CAAC,iBAAiB,EAAE,KAAK,gBAAgB,EAAE;gBACzD,OAAO,yBAAyB,CAAC,cAAc,CAAC;aACjD;iBAAM,IAAI,KAAK,CAAC,iBAAiB,EAAE,KAAK,aAAa,EAAE;gBACtD,OAAO,yBAAyB,CAAC,WAAW,CAAC;aAC9C;iBAAM;gBACL,OAAO,yBAAyB,CAAC,SAAS,CAAC;aAC5C;SACF;QAED,uEAA2B,GAA3B,UAA4B,KAA4C;YACtE,QAAQ,KAAK;gBACX,KAAK,yBAAyB,CAAC,SAAS;oBACtC,OAAO,WAAW,CAAC;gBACrB,KAAK,yBAAyB,CAAC,cAAc;oBAC3C,OAAO,gBAAgB,CAAC;gBAC1B,KAAK,yBAAyB,CAAC,WAAW;oBACxC,OAAO,aAAa,CAAC;gBACvB;oBACE,OAAO,WAAW,CAAC;aACtB;SACF;gDACF;KAAA;;ICXM,IAAM,wBAAwB,GAAG,IAAIC,iBAAc,CAAsB,uBAAuB,CAAC,CAAC;IAEzG;QA+CE;;QAIU,YAAoE,EAC3D,IAAgB,EAChB,aAA4B;YAN/C,iBA0BC;;YAtBS,iBAAY,GAAZ,YAAY,CAAwD;YAC3D,SAAI,GAAJ,IAAI,CAAY;YAChB,kBAAa,GAAb,aAAa,CAAe;YAjD9B,8BAAyB,GAAG;gBAC3C,yBAAyB,CAAC,SAAS;gBACnC,yBAAyB,CAAC,cAAc;gBACxC,yBAAyB,CAAC,WAAW;aACtC,CAAC;YACe,yBAAoB,GAAG,UAAC,OAAe,IAAK,OAAG,OAAO,SAAM,GAAA,CAAC;;YAE7D,oBAAe,GAAmB,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC;gBACzF,UAAU,EAAE,iCAAiC;gBAC7C,iBAAiB,EAAE,IAAI,CAAC,oBAAoB;aAC7C,CAAC,CAAC;YAkBK,cAAS,GAAG,UAAC,YAAoB;gBACvC,OAAO,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC;aAC9D,CAAC;YAqBA,IAAI,CAAC,aAAa,GAAG,CAAA,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,YAAY,0CAAE,QAAQ;kBAC7C,IAAI,CAAC,YAAY,CAAC,QAAQ;kBAC1B,IAAI,iCAAiC,EAAE,CAAC;YAE5C,IAAM,SAAS,GAAG,UAAC,KAAmC,EAAE,KAAa,IAAyC,wCACzG,KAAK,KACR,KAAK,EAAE,KAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,EAC5C,QAAQ;oBACN,OAAO,IAAI,CAAC,KAAK,KAAK,yBAAyB,CAAC,WAAW,CAAC;iBAC7D,OACD,CAAC;YAEH,IAAI,CAAC,cAAc,GAAG,CAAA,MAAA,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,YAAY,0CAAE,QAAQ,0CAAE,MAAM;kBACtD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC;kBAChD,wBAAwB,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACnD,IAAI,CAAC,mBAAmB,GAAG,CAAA,MAAA,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,YAAY,0CAAE,QAAQ,0CAAE,WAAW;kBAChE,EAAE,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,EAAE;kBACvD,6BAA6B,CAAC;SACnC;QAzDD,sBAAI,+CAAmB;iBAAvB;gBACE,OAAO,IAAI,CAAC,cAAc,CAAC;aAC5B;;;WAAA;QAED,sBAAI,oDAAwB;iBAA5B;gBACE,OAAO,IAAI,CAAC,mBAAmB,CAAC;aACjC;;;WAAA;QAED,sBAAI,8CAAkB;iBAAtB;gBACE,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;;;WAAA;QAED,sBAAY,8CAAkB;iBAA9B;gBACE,OAAO,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,CAAC;aACrD;;;WAAA;QAMD,+CAAsB,GAAtB;YACE,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CACjCC,eAAK,EAAE,EACPC,mBAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EACzBC,oBAAU,CAAC;gBACT,OAAO,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC;gBACvD,OAAOC,OAAE,CAAC,EAAE,CAAC,CAAC;aACf,CAAC,CACH,CAAC;SACH;;;sIA7CU,cAAc,kBAiDf,wBAAwB;0IAjDvB,cAAc;sHAAd,cAAc;sBAD1BC,aAAU;;;kCAkDNC,SAAM;mCAAC,wBAAwB;;kCAC/BC,WAAQ;;;;ICjDb;QAgDE,yBACmB,0BAAuD,EACvD,mBAA0C,EAC1C,6BAAwD,EACxD,cAA8B;YAH9B,+BAA0B,GAA1B,0BAA0B,CAA6B;YACvD,wBAAmB,GAAnB,mBAAmB,CAAuB;YAC1C,kCAA6B,GAA7B,6BAA6B,CAA2B;YACxD,mBAAc,GAAd,cAAc,CAAgB;YAE/C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC;YAC5D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,6BAA6B;iBAC/C,iCAAiC,CAAC;gBACjC,gBAAgB,EAAE,iBAAiB;gBACnC,YAAY,EAAE,iBAAiB;gBAC/B,SAAS,EAAE,MAAM;gBACjB,IAAI,EAAE,OAAO;aACd,CAAC;iBACD,IAAI,CAACC,aAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAE3C,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB;iBAChD,kBAAkB,EAAE;iBACpB,IAAI,CAACA,aAAG,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;SACzE;QA9DD,uDAA6B,GAA7B,UAA8B,QAAgB,EAAE,MAAc;YAC5D,OAAO,IAAI,CAAC,0BAA0B,CAAC,wBAAwB,CAAC;gBAC9D,kBAAkB,EAAE,QAAQ;gBAC5B,wBAAwB,EAAE,uBAAuB,CAAC,aAAa,CAAC,MAAM,CAAC;aACxE,CAAC,CAAC;SACJ;QAED,oDAA0B,GAA1B,UAA2B,EAAU,EAAE,MAAc;YACnD,OAAO,IAAI,CAAC,mBAAmB,CAAC,6BAA6B,CAAC;gBAC5D,gBAAgB,EAAE,EAAE;gBACpB,0BAA0B,EAAE,EAAE,OAAO,EAAE,MAAM,KAAKC,WAAM,CAAC,OAAO,EAAE;aACnE,CAAC,CAAC;SACJ;QAED,2CAAiB,GAAjB,UAAkB,IAA4B;YAC5C,OAAO,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;gBACnD,kBAAkB,EAAE,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAc,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;aACpF,CAAC,CAAC;SACJ;QAED,gDAAsB,GAAtB;YACE,OAAOC,kBAAa,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAClEF,aAAG,CAAC,UAAC,EAA2B;oBAA3B,KAAA,aAA2B,EAA1B,eAAe,QAAA,EAAE,QAAQ,QAAA;gBAAM,OAAA,mBAAmB,CAAC,OAAO,CAAC,eAAe,EAAE,QAAQ,CAAC;aAAA,CAAC,CAC7F,CAAC;SACH;QAED,4CAAkB,GAAlB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB;QAED,8CAAoB,GAApB,UAAqB,EAAU,EAAE,WAAmC;YAClE,OAAO,IAAI,CAAC,mBAAmB,CAAC,kCAAkC,CAAC;gBACjE,gBAAgB,EAAE,EAAE;gBACpB,4BAA4B,EAAE,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAc,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC;aACpG,CAAC,CAAC;SACJ;QAED,8CAAoB,GAApB,UAAqB,EAAU;YAC7B,OAAO,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC;gBACnD,gBAAgB,EAAE,EAAE;aACrB,CAAC,CAAC;SACJ;;;uIA9CU,eAAe;2IAAf,eAAe;sHAAf,eAAe;sBAD3BH,aAAU;;;ICRX,IAAMM,SAAO,GAAG,CAACC,aAAU,EAAEC,iBAAW,EAAEC,0BAAuB,CAAC,CAAC;IAEnE,IAAM,YAAY,GAAG,CAAC,8CAA8C,EAAE,6CAA6C,CAAC,CAAC;IAQrH;QAAA;;;;mJAAa,2BAA2B;oJAA3B,2BAA2B,iBARlB,8CAA8C,EAAE,6CAA6C,aAGvGC,eAAY,EALPH,aAAU,EAAEC,iBAAW,EAAEC,0BAAuB,aAAhDF,aAAU,EAAEC,iBAAW,EAAEC,0BAAuB,EAE3C,8CAA8C,EAAE,6CAA6C;oJAQtG,2BAA2B,aAJ3B,CAAC,eAAe,EAAE,cAAc,CAAC,2BADlCC,eAAY,UAAKJ,SAAO,IALnBC,aAAU,EAAEC,iBAAW,EAAEC,0BAAuB;sHAUpD,2BAA2B;sBANvCE,WAAQ;uBAAC;wBACR,OAAO,iBAAGD,eAAY,UAAKJ,SAAO,EAAC;wBACnC,SAAS,EAAE,CAAC,eAAe,EAAE,cAAc,CAAC;wBAC5C,YAAY,2BAAM,YAAY,EAAC;wBAC/B,OAAO,yCAAMA,SAAO,WAAK,YAAY,EAAC;qBACvC;;;ICbD;QAJA;YAKW,gBAAW,GAAG,CAAC,CAAC;SAC1B;;;uJAFY,+BAA+B;gIAA/B,+BAA+B,sHCN5C,ohDAwCgB;sHDlCH,+BAA+B;sBAJ3Cd,YAAS;uBAAC;wBACT,QAAQ,EAAE,6BAA6B;wBACvC,WAAW,EAAE,yCAAyC;qBACvD;kCAEU,WAAW;0BAAnBC,QAAK;;;IEDR;QAJA;YAKW,gBAAW,GAAG,CAAC,CAAC;SAC1B;;;0JAFY,kCAAkC;mIAAlC,kCAAkC,2HCN/C,wyCAiCM;sHD3BO,kCAAkC;sBAJ9CD,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,8CAA8C;qBAC5D;kCAEU,WAAW;0BAAnBC,QAAK;;;IEDR;QAJA;YAKU,aAAQ,GAAG,CAAC,CAAC;SAItB;QAHC,+DAAa,GAAb;YACE,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;SACxB;;;+JAJU,uCAAuC;wIAAvC,uCAAuC,uFCNpD,+GAIM;sHDEO,uCAAuC;sBAJnDD,YAAS;uBAAC;wBACT,QAAQ,EAAE,sCAAsC;wBAChD,WAAW,EAAE,kDAAkD;qBAChE;;;IEID;IACA;QAFA;YAGY,SAAI,GAAG,IAAID,eAAY,EAA2B,CAAC;YACnD,SAAI,GAAG,IAAIA,eAAY,EAAQ,CAAC;YAChC,aAAQ,GAAG,IAAIA,eAAY,EAA2B,CAAC;YACvD,WAAM,GAAG,IAAIA,eAAY,EAAQ,CAAC;YAEnC,gBAAW,GAAG,KAAK,CAAC;SA0B9B;QArBC,8CAAM,GAAN,UAAO,cAAuC;YAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAChC;QAED,8CAAM,GAAN;YACE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;SAClB;QAED,mDAAW,GAAX,UAAY,cAAuC;YACjD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SACpC;QAED,6CAAK,GAAL;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;SACpB;QAED,gDAAQ,GAAR;YACE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,+CAA0C,IAAI,CAAC,WAAW,CAAC,IAAI,OAAG,CAAC,CAAC;aACrF;SACF;;;qJA/BmB,6BAA6B;8HAA7B,6BAA6B;sHAA7B,6BAA6B;sBAFlDF,YAAS;kCAGE,IAAI;0BAAbK,SAAM;oBACG,IAAI;0BAAbA,SAAM;oBACG,QAAQ;0BAAjBA,SAAM;oBACG,MAAM;0BAAfA,SAAM;oBACE,cAAc;0BAAtBD,QAAK;oBACG,WAAW;0BAAnBA,QAAK;oBACG,sCAAsC;0BAA9CA,QAAK;oBACG,YAAY;0BAApBA,QAAK;oBACG,iBAAiB;0BAAzBA,QAAK;;;ICVR;QAAyD,uDAA6B;QAoEpF,6CAA6B,WAAwB;YAArD,YACE,iBAAO,SACR;YAF4B,iBAAW,GAAX,WAAW,CAAa;YAlE7C,kBAAY,GAAG,IAAImB,iBAAY,EAAE,CAAC;YA6BzB,wBAAkB,GAAG;gBACpC,IAAM,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;gBAC1D,IAAM,sBAAsB,GAAG,KAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC;;gBAElF,OAAO,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,KAAK,OAAK,sBAAsB,aAAtB,sBAAsB,uBAAtB,sBAAsB,CAAE,KAAK,CAAA,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;aACxG,CAAC;;SAkCD;QAlED,sDAAQ,GAAR;YAAA,iBAoBC;;YAnBC,iBAAM,QAAQ,WAAE,CAAC;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBAC5C,SAAS,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAEC,eAAU,CAAC,QAAQ,CAAC;gBAC/D,QAAQ,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAEA,eAAU,CAAC,QAAQ,CAAC;gBAC7D,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBACjC,KAAK,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAEA,eAAU,CAAC,OAAO,CAAC,CAACA,eAAU,CAAC,QAAQ,EAAEA,eAAU,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/F,iBAAiB,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAEA,eAAU,CAAC,OAAO,CAAC,CAACA,eAAU,CAAC,QAAQ,EAAEA,eAAU,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5G,CAAC;gBACF,YAAY,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAEA,eAAU,CAAC,QAAQ,CAAC;aACtE,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,CAAC,GAAG,CACnB,MAAA,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,0CAAE,YAAY,CAAC,SAAS,CAAC;gBACpD,IAAM,wBAAwB,GAAG,KAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC;gBACpF,IAAI,wBAAwB,EAAE;oBAC5B,wBAAwB,CAAC,aAAa,CAAC,CAACA,eAAU,CAAC,QAAQ,EAAEA,eAAU,CAAC,KAAK,EAAE,KAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBACzG,wBAAwB,CAAC,sBAAsB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;iBACvE;aACF,CAAC,CACH,CAAC;SACH;QAED,0DAAY,GAAZ,UAAa,SAAiB,EAAE,UAAmB;YACjD,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YAC5D,OAAO,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC,KAAK,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;SACzE;QASD,kDAAI,GAAJ;;YACE,IAAI,MAAA,IAAI,CAAC,eAAe,0CAAE,KAAK,EAAE;gBAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC;aAC/C;iBAAM;gBACL,MAAA,IAAI,CAAC,eAAe,0CAAE,gBAAgB,EAAE,CAAC;aAC1C;SACF;QAEO,uEAAyB,GAAzB;YACA,IAAA,KAKF,IAAI,CAAC,eAAgB,CAAC,KAAK,EAJ7B,SAAS,eAAA,EACT,QAAQ,cAAA,EACM,KAAK,sBAAA,EACnB,YAAY,kBACiB,CAAC;YAChC,OAAO,EAAE,SAAS,WAAA,EAAE,QAAQ,UAAA,EAAE,KAAK,OAAA,EAAE,YAAY,cAAA,EAAE,CAAC;SACrD;QAED,wDAAU,GAAV,UAAW,SAAiB,EAAE,UAAmB;;YAC/C,IAAM,YAAY,GAAG,CAAC,CAAC,UAAU;kBAC7B,MAAA,MAAA,IAAI,CAAC,eAAe,0CAAE,GAAG,CAAC,UAAU,CAAC,0CAAE,GAAG,CAAC,SAAS,CAAC;kBACrD,MAAA,IAAI,CAAC,eAAe,0CAAE,GAAG,CAAC,SAAS,CAAC,CAAC;YAEzC,OAAO,YAAY,CAAC;SACrB;QAED,yDAAW,GAAX;YACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;SACjC;;KAlEH,CAAyD,6BAA6B;2JAAzE,mCAAmC;oIAAnC,mCAAmC,0GCThD,kgOAgKA;sHDvJa,mCAAmC;sBAJ/CrB,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,8CAA8C;qBAC5D;;;IEED;QAAsD,oDAA6B;QAJnF;YAAA,6EAmEC;YA7DC,WAAK,GAA+B,EAAE,CAAC;YAEvC,yBAAmB,GAAG,6BAA6B,CAAC;YACpD,eAAS,GAAG,KAAK,CAAC;;SA0DnB;QAxDC,+CAAI,GAAJ;YACE,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC,EAAE,CAAC,CAAC;aACxF;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;SACF;QAED,qDAAU,GAAV;YACE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;QAEO,2DAAgB,GAAhB,UAAiB,WAAwC;YAC/D,IAAM,qBAAqB,GAAG,WAAW,CAAC,MAAM,CAC9C,UAAC,UAAU,IAAK,OAAA,UAAU,CAAC,KAAK,KAAK,yBAAyB,CAAC,WAAW,GAAA,CAC3E,CAAC;YACF,IAAI,qBAAqB,CAAC,MAAM,GAAG,CAAC,IAAI,qBAAqB,CAAC,MAAM,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC7F,OAAO,WAAW,CAAC,GAAG,CAAC,UAAC,UAAU,IAAK,wCAAM,UAAU,KAAE,KAAK,EAAE,yBAAyB,CAAC,SAAS,OAAG,CAAC,CAAC;aACzG;iBAAM;gBACL,gCAAW,WAAW,GAAE;aACzB;SACF;QAEO,qEAA0B,GAA1B;YAAA,iBAQP;;YANC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;iBAC3B,MAAM,CAAC,UAAC,SAAS,IAAK,OAAA,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAA,CAAC;iBAC9C,GAAG,CAAC,UAAC,SAAS,IAAK,QAAC;gBACnB,OAAO,EAAE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,OAAO,IAAK,OAAA,OAAO,CAAC,EAAE,KAAK,SAAS,GAAA,CAAE;gBACnE,KAAK,EAAE,KAAI,CAAC,6BAA6B,CAAC,SAAS,CAAC;aACrD,IAAC,CAAC,CAAC;SACP;QAEO,wEAA6B,GAA7B,UAA8B,OAAe;YACnD,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;gBACnC,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,OAAO,GAAA,CAAC,CAAC;gBAC/F,OAAO,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,KAAK,IAAG,UAAU,CAAC,KAAK,GAAG,yBAAyB,CAAC,SAAS,CAAC;aACnF;iBAAM;gBACL,OAAO,yBAAyB,CAAC,SAAS,CAAC;aAC5C;SACF;QAED,mDAAQ,GAAR;YACE,iBAAM,QAAQ,WAAE,CAAC;YACjB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;SAC5D;QAEO,+DAAoB,GAApB,UAAqB,WAAwC;YAA7D,iBAIP;YAJ4B,4BAAA,EAAA,gBAAwC;YACnE,WAAW,CAAC,OAAO,CAAC,UAAC,IAAI;gBACvB,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;aACpC,CAAC,CAAC;SACJ;QAEO,sDAAW,GAAX;YAAA,iBAEP;YADC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,IAAI,IAAK,QAAC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,IAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;SACpG;;KA9DH,CAAsD,6BAA6B;wJAAtE,gCAAgC;iIAAhC,gCAAgC,wICV7C,87FA+EA;sHDrEa,gCAAgC;sBAJ5CA,YAAS;uBAAC;wBACT,QAAQ,EAAE,8BAA8B;wBACxC,WAAW,EAAE,0CAA0C;qBACxD;kCAEU,QAAQ;0BAAhBC,QAAK;;;IEAR;QAJA;YAKW,SAAI,GAAG,EAAE,CAAC;YACV,UAAK,GAAG,EAAE,CAAC;YAKX,aAAQ,GAAG,KAAK,CAAC;YAE1B,gBAAW,GAAiB,EAAE,CAAC;SAOhC;QANC,0DAAQ,GAAR;YACE,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACtD,IAAM,qBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK,IAAK,QAAC,EAAE,IAAI,MAAA,EAAE,KAAK,EAAE,qBAAmB,CAAC,KAAK,CAAC,EAAE,IAAC,CAAC,CAAC;aAC/G;SACF;;;+JAfU,uCAAuC;wIAAvC,uCAAuC,qRCXpD,8zDAgDM;sHDrCO,uCAAuC;sBAJnDD,YAAS;uBAAC;wBACT,QAAQ,EAAE,sCAAsC;wBAChD,WAAW,EAAE,kDAAkD;qBAChE;kCAEU,IAAI;0BAAZC,QAAK;oBACG,KAAK;0BAAbA,QAAK;oBACG,IAAI;0BAAZA,QAAK;oBACG,WAAW;0BAAnBA,QAAK;oBACG,iBAAiB;0BAAzBA,QAAK;oBACG,mBAAmB;0BAA3BA,QAAK;oBACG,QAAQ;0BAAhBA,QAAK;;;IELR;QAAyD,uDAA6B;QAJtF;YAAA,6EA0FC;YAnFC,+BAAyB,GAAG,yBAAyB,CAAC;YAG9C,yBAAmB,GAAG,KAAK,CAAC;;SAgFrC;QA9EC,sBAAI,mEAAkB;iBAAtB;gBACE,OAAO,IAAI,CAAC,mBAAmB,CAAC;aACjC;iBAED,UAAuB,KAAK;gBAC1B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;gBACjC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;aAC/B;;;WALA;QAOO,kEAAoB,GAApB,UAAqB,YAAmD;;YAC9E,IAAM,WAAW,GAAG,MAAA,IAAI,CAAC,cAAc,CAAC,WAAW,0CAAE,GAAG,CAAC,UAAC,UAAU,IAAK,wCACpE,UAAU,KACb,KAAK,EAAE,YAAY,IAAI,yBAAyB,CAAC,SAAS,OAC1D,CAAC,CAAC;YAEJ,uCAAY,IAAI,CAAC,cAAc,KAAE,WAAW,aAAA,IAAG;SAChD;QAEO,iEAAmB,GAAnB,UAAoB,UAAgC;YAC1D,IAAM,WAAW,6BAAQ,IAAI,CAAC,cAAc,CAAC,WAAW,IAAI,EAAE,GAAE,CAAC;YACjE,IAAM,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,UAAU,CAAC,OAAO,CAAC,EAAE,GAAA,CAAC,CAAC;YAEzF,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBAChB,WAAW,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC;aACjC;YAED,uCAAY,IAAI,CAAC,cAAc,KAAE,WAAW,aAAA,IAAG;SAChD;QAEO,6DAAe,GAAf;;YACN,IAAM,KAAK,GAAG,CAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,WAAW,KAAI,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC3F,IAAM,KAAK,GACT,CAAA,MAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,WAAW,0CAAE,MAAM,CAAC,UAAC,IAAI,EAAE,IAAI,IAAK,QAAC,KAAK,KAAK,IAAI,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,IAAC,EAAE,CAAC,CAAC,KAAI,CAAC,CAAC,CAAC;YAE9G,OAAO,KAAK,MAAK,MAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,WAAW,0CAAE,MAAM,CAAA,CAAC;SAC3D;QAED,6DAAe,GAAf,UAAgB,KAAgC;YAC9C,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;gBAC5B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;aAChE;SACF;QAED,mDAAK,GAAL;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAClC;QAED,2DAAa,GAAb,UAAc,UAAgC;YAC5C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC,CAAC;SACxD;QAED,yDAAW,GAAX,UAAY,KAAqC;;YAC/C,IAAI,EAAC,MAAA,IAAI,CAAC,cAAc,0CAAE,WAAW,CAAA,EAAE;gBACrC,OAAO,KAAK,CAAC;aACd;YAED,IAAM,mBAAmB,GAAG,CAAA,MAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,WAAW,0CAAE,MAAM,OAAK,MAAA,IAAI,CAAC,QAAQ,0CAAE,MAAM,CAAA,CAAC;YAC/F,OAAO,CAAC,mBAAmB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;SAClD;QAED,kEAAoB,GAApB;YACE,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,YAAY,EAAE;gBAChD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;aACzE;iBAAM,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC5B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAClD;SACF;QAED,sDAAQ,GAAR;YACE,iBAAM,QAAQ,WAAE,CAAC;YAEjB,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE;gBAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;aACjG;iBAAM;gBACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;aAChC;SACF;;KArFH,CAAyD,6BAA6B;2JAAzE,mCAAmC;oIAAnC,mCAAmC,2ICbhD,guHAgGO;sHDnFM,mCAAmC;sBAJ/CD,YAAS;uBAAC;wBACT,QAAQ,EAAE,iCAAiC;wBAC3C,WAAW,EAAE,6CAA6C;qBAC3D;kCAEU,QAAQ;0BAAhBC,QAAK;;;IENR;QAA0D,wDAA6B;QAwCrF,8CAA6B,WAAwB;YAArD,YACE,iBAAO,SACR;YAF4B,iBAAW,GAAX,WAAW,CAAa;YAvC5C,eAAS,GAAG,KAAK,CAAC;YAClB,cAAQ,GAAG,KAAK,CAAC;YAEhB,qBAAe,GAAG,IAAIF,eAAY,EAAW,CAAC;YAExD,6BAAuB,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBAC/C,OAAO,EAAE,CAAC,KAAK,EAAEsB,eAAU,CAAC,YAAY,CAAC;aAC1C,CAAC,CAAC;;SAkCF;QAhCD,uDAAQ,GAAR;YACE,IAAI,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE;gBACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAClC;iBAAM;gBACL,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,EAAE,CAAC;aACjD;SACF;QAED,yDAAU,GAAV;YACE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAClC;QAEO,yDAAU,GAAV,UAAW,SAAiB;YAClC,OAAO,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACpD;QAED,2DAAY,GAAZ,UAAa,SAAiB;YAC5B,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAE3C,OAAO,OAAO,KAAK,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC;SACxD;QAED,uDAAQ,GAAR,UAAS,KAAa,EAAE,IAAY;YAClC,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;gBACzC,OAAO;aACR;YACD,OAAO,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAClC;;KAtCH,CAA0D,6BAA6B;4JAA1E,oCAAoC;qIAApC,oCAAoC,yPCRjD,u8IAyGc;sHDjGD,oCAAoC;sBAJhDrB,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,8CAA8C;qBAC5D;mHAEU,SAAS;0BAAjBC,QAAK;oBACG,QAAQ;0BAAhBA,QAAK;oBACG,eAAe;0BAAvBA,QAAK;oBACI,eAAe;0BAAxBC,SAAM;;;IETT;IACA;QAFA;YAAA,iBAcC;YAXU,eAAU,GAAG,KAAK,CAAC;YAClB,YAAO,GAAG,IAAIH,eAAY,EAAQ,CAAC;YACnC,WAAM,GAAG,IAAIA,eAAY,EAAQ,CAAC;YAE5C,YAAO,GAAG;gBACR,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;aACpB,CAAC;SAKH;QAHC,sDAAS,GAAT;YACE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACrB;;;0JAXU,kCAAkC;mIAAlC,kCAAkC;sHAAlC,kCAAkC;sBAF9CF,YAAS;kCAGC,UAAU;0BAAlBI,QAAK;oBACI,OAAO;0BAAhBC,SAAM;oBACG,MAAM;0BAAfA,SAAM;;;ICET;QAAkE,gEAAkC;QALpG;YAAA,6EAsBC;;;;YALU,mBAAa,GAAG,EAAE,CAAC;;;;YAInB,eAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;;SAC3C;;KAjBD,CAAkE,kCAAkC;oKAAvF,4CAA4C;6IAA5C,4CAA4C,2NCTzD,gjHAiFc;sHDxED,4CAA4C;sBALxDF,YAAS;uBAAC;wBACT,QAAQ,EAAE,2CAA2C;wBACrD,WAAW,EAAE,uDAAuD;wBACpE,eAAe,EAAEsB,0BAAuB,CAAC,MAAM;qBAChD;kCAKU,cAAc;0BAAtBrB,QAAK;oBAIG,UAAU;0BAAlBA,QAAK;oBAIG,aAAa;0BAArBA,QAAK;;;IEdR;QAA4D,0DAAkC;QAA9F;;;;KAAA,CAA4D,kCAAkC;8JAAjF,sCAAsC;uIAAtC,sCAAsC,6GCPnD,83DAgDA;sHDzCa,sCAAsC;sBAJlDD,YAAS;uBAAC;wBACT,QAAQ,EAAE,qCAAqC;wBAC/C,WAAW,EAAE,iDAAiD;qBAC/D;;;IECD;QAqBE,4CACU,WAAuD,EACvD,gBAAkC,EAClC,MAA+C;YAF/C,gBAAW,GAAX,WAAW,CAA4C;YACvD,qBAAgB,GAAhB,gBAAgB,CAAkB;YAClC,WAAM,GAAN,MAAM,CAAyC;YAtBjD,iBAAY,GAAG,CAAC,CAAC;SAuBrB;QAtBI,2DAAc,GAAd;YACN,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,IAAI,EAAE;gBACnC,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC5D;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;aAC/B;SACF;QAED,sBAA2C,2DAAW;iBAAtD,UAAuD,KAAa;gBAClE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;;;WAAA;QAED,qDAAQ,GAAR;YACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,SAAS,CAAC;YAC5E,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;;;0JAnBU,kCAAkC;mIAAlC,kCAAkC;sHAAlC,kCAAkC;sBAH9CH,YAAS;uBAAC;wBACT,QAAQ,EAAE,gCAAgC;qBAC3C;8MAY4C,WAAW;0BAArDI,QAAK;2BAAC,8BAA8B;;;ICEvC,IAAY,mCAGX;IAHD,WAAY,mCAAmC;QAC7C,gFAAyC,CAAA;QACzC,kEAA2B,CAAA;IAC7B,CAAC,EAHW,mCAAmC,KAAnC,mCAAmC,QAG9C;IAMD;QAuJE,+CACmB,WAA4B,EAC5B,cAA8B,EAC9B,aAA4B,EAC5B,EAAqB;YAJxC,iBASC;YARkB,gBAAW,GAAX,WAAW,CAAiB;YAC5B,mBAAc,GAAd,cAAc,CAAgB;YAC9B,kBAAa,GAAb,aAAa,CAAe;YAC5B,OAAE,GAAF,EAAE,CAAmB;YA1JxC,gBAAW,GAAG,CAAC,CAAC;YAChB,eAAU,GAAG,KAAK,CAAC;YACnB,kBAAa,GAAG,EAAE,CAAC;YACnB,cAAS,GAAG,KAAK,CAAC;YAClB,aAAQ,GAAG,KAAK,CAAC;YAWP,wBAAmB,GAAG,IAAIF,eAAY,EAAQ,CAAC;YAGjD,qBAAgB,GAA4C,IAAIwB,oBAAe,CAAC,EAAE,CAAC,CAAC;YACpF,iBAAY,GAA4C,IAAIA,oBAAe,CAAC,EAAE,CAAC,CAAC;YAChF,0BAAqB,GAA0C,IAAIC,kBAAa,EAAE,CAAC;YAE3F,mBAAc,GAAuC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;YAC1F,kDAA6C,GAAG,IAAID,oBAAe,CAAqB,SAAS,CAAC,CAAC;YAElF,yBAAoB,GAAG,UAAC,OAAe,IAAK,OAAG,OAAO,SAAM,GAAA,CAAC;;YAG7D,oBAAe,GAAmB,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC;gBACzF,UAAU,EAAE,iCAAiC;gBAC7C,iBAAiB,EAAE,IAAI,CAAC,oBAAoB;aAC7C,CAAC,CAAC;YAUH,4BAAuB,GAAG;gBACxB,KAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;aACjC,CAAC;YAiHA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC;YAC5D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC;YACtEE,UAAK,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACvF;QApJD,sBAAqD,8FAA2C;iBAAhG,UAAiG,KAAa;gBAC5G,IAAI,CAAC,6CAA6C,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChE;;;WAAA;QAoBD,sBAAI,kEAAe;iBAAnB;gBACE,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;aACxC;;;WAAA;QAED,sBAAI,2DAAQ;iBAAZ;gBACE,OAAO,IAAI,CAAC,YAAY,KAAK,SAAS,CAAC;aACxC;;;WAAA;QAMO,mEAAmB,GAAnB,UAAoB,KAA6B;YACvD,IAAI,CAAC,YAAY,CAAC,IAAI,iCAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAK,KAAK,EAAG,CAAC;SACtE;QAEO,wDAAQ,GAAR,UAAS,KAAa;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;QAEO,8DAAc,GAAd;YACN,OAAO,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAACnB,oBAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;SACxF;QAEO,kEAAkB,GAAlB;YACN,OAAOC,OAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;SAC1B;QAEO,+DAAe,GAAf;YACN,OAAOA,OAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;SAC1B;QAED,oDAAI,GAAJ,UAAK,cAAsC;YACzC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;SACrC;QAED,oDAAI,GAAJ;YACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;SACrC;QAED,wDAAQ,GAAR,UAAS,cAAsC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;SAC1C;QAED,iEAAiB,GAAjB,UAAkB,KAAc;YAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SACzB;QAED,sEAAsB,GAAtB,UAAuB,KAAa;YAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC5B;QAED,sDAAM,GAAN,UAAO,cAAsC;YAA7C,iBA2BC;YA1BC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAM,eAAe,GAAG;gBACtB,KAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;gBACtC,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aACxB,CAAC;YAEF,IAAM,aAAa,GAAG;gBACpB,KAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;gBACpC,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aACxB,CAAC;YAEF,IAAM,OAAO,GAAG;gBACd,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aACxB,CAAC;YAEF,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,WAAW;qBACb,oBAAoB,CAAC,IAAI,CAAC,YAAa,EAAE,cAAc,CAAC,WAAY,CAAC;qBACrE,SAAS,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;aACtC;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;aACxF;SACF;QAED,wDAAQ,GAAR;YAAA,iBAyBC;YAxBC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,WAAW;qBACb,sBAAsB,EAAE;qBACxB,IAAI,CACHD,oBAAU,CAAC,IAAI,CAAC,eAAe,CAAC,EAChCK,aAAG,CAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,EAAE,KAAK,KAAI,CAAC,YAAY,GAAA,CAAC,GAAA,CAAC,CACxE;qBACA,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;gBAEzC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAC7CN,mBAAS,CAAC,UAAC,IAAI,IAAK,QAAC,IAAI,GAAG,KAAI,CAAC,cAAc,EAAE,GAAG,KAAI,CAAC,kBAAkB,EAAE,IAAC,CAAC,CAChF,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;aACvC;YAED,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC;YAE3E,IAAI,CAAC,WAAW,GAAGQ,kBAAa,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,IAAI,CACjFF,aAAG,CAAC,UAAC,EAA8B;oBAA9B,KAAA,aAA8B,EAA7B,QAAQ,QAAA,EAAE,kBAAkB,QAAA;gBAAM,QAAC;oBACvC,QAAQ,UAAA;oBACR,kBAAkB,oBAAA;iBACnB;aAAC,CAAC,CACJ,CAAC;SACH;QAED,sBAAI,yFAAsC;iBAA1C;gBACE,OAAO,IAAI,CAAC,6CAA6C,CAAC,YAAY,EAAE,CAAC,IAAI,CAC3EA,aAAG,CAAC,UAAC,IAAI;oBACP,OAAO,IAAI,KAAK,mCAAmC,CAAC,kBAAkB,CAAC;iBACxE,CAAC,CACH,CAAC;aACH;;;WAAA;;;6JArJU,qCAAqC;sIAArC,qCAAqC,gUC7BlD,+jIAyGc;sHD5ED,qCAAqC;sBAJjDX,YAAS;uBAAC;wBACT,QAAQ,EAAE,oCAAoC;wBAC9C,WAAW,EAAE,gDAAgD;qBAC9D;qNAWU,YAAY;0BAApBC,QAAK;oBAE+C,2CAA2C;0BAA/FA,QAAK;2BAAC,wCAAwC;oBAIrC,mBAAmB;0BAA5BC,SAAM;;;IEXT,IAAMY,SAAO,GAAG;QACdY,kBAAa;QACbC,iBAAY;QACZZ,aAAU;QACVa,iBAAY;QACZC,wBAAmB;QACnBC,wBAAmB;QACnBb,0BAAuB;QACvBc,mBAAgB;QAChBC,qBAAgB;QAChBC,oBAAe;QACfC,wBAAmB;QACnBC,gBAAW;QACXC,iCAA4B;QAC5BN,wBAAmB;QACnBO,gBAAW;QACXC,gBAAW;QACXC,0BAAsB;QACtBC,mBAAgB;QAChBC,oBAAgB;QAChB,2BAA2B;KAC5B,CAAC;IAEF,IAAMC,YAAU,GAAG;QACjB,qCAAqC;QACrC,+BAA+B;QAC/B,oCAAoC;QACpC,gCAAgC;QAChC,uCAAuC;QACvC,mCAAmC;QACnC,mCAAmC;QACnC,uCAAuC;QACvC,sCAAsC;QACtC,kCAAkC;QAClC,kCAAkC;QAClC,4CAA4C;KAC7C,CAAC;IAeF;QAAA;;;;mJAAa,2BAA2B;oJAA3B,2BAA2B,iBA3BtC,qCAAqC;YACrC,+BAA+B;YAC/B,oCAAoC;YACpC,gCAAgC;YAChC,uCAAuC;YACvC,mCAAmC;YACnC,mCAAmC;YACnC,uCAAuC;YACvC,sCAAsC;YACtC,kCAAkC;YAClC,kCAAkC;YAClC,4CAA4C,aAM1CxB,eAAY;YACZiB,gBAAW;YACXD,wBAAmB,EA1CrBR,kBAAa;YACbC,iBAAY;YACZZ,aAAU;YACVa,iBAAY;YACZC,wBAAmB;YACnBC,wBAAmB;YACnBb,0BAAuB;YACvBc,mBAAgB;YAChBC,qBAAgB;YAChBC,oBAAe;YACfC,wBAAmB;YACnBC,gBAAW;YACXC,iCAA4B;YAC5BN,wBAAmB;YACnBO,gBAAW;YACXC,gBAAW;YACXC,0BAAsB;YACtBC,mBAAgB;YAChBC,oBAAgB;YAChB,2BAA2B,iDAI3B,qCAAqC;YACrC,+BAA+B;YAC/B,oCAAoC;YACpC,gCAAgC;YAChC,uCAAuC;YACvC,mCAAmC;YACnC,mCAAmC;YACnC,uCAAuC;YACvC,sCAAsC;YACtC,kCAAkC;YAClC,kCAAkC;YAClC,4CAA4C,EAlC5Cf,kBAAa;YACbC,iBAAY;YACZZ,aAAU;YACVa,iBAAY;YACZC,wBAAmB;YACnBC,wBAAmB;YACnBb,0BAAuB;YACvBc,mBAAgB;YAChBC,qBAAgB;YAChBC,oBAAe;YACfC,wBAAmB;YACnBC,gBAAW;YACXC,iCAA4B;YAC5BN,wBAAmB;YACnBO,gBAAW;YACXC,gBAAW;YACXC,0BAAsB;YACtBC,mBAAgB;YAChBC,oBAAgB;YAChB,2BAA2B;oJA+BhB,2BAA2B;gBAVpCvB,eAAY;gBACZiB,gBAAW;gBACXD,wBAAmB;sBAChBpB,SAAO;gBACV6B,uBAAkB,CAAC,UAAU,CAAC;oBAC5B,QAAQ,EAAE,EAAE,qCAAqC,uCAAA,EAAE;iBACpD,CAAC;gBA9CJjB,kBAAa;YACbC,iBAAY;YACZZ,aAAU;YACVa,iBAAY;YACZC,wBAAmB;YACnBC,wBAAmB;YACnBb,0BAAuB;YACvBc,mBAAgB;YAChBC,qBAAgB;YAChBC,oBAAe;YACfC,wBAAmB;YACnBC,gBAAW;YACXC,iCAA4B;YAC5BN,wBAAmB;YACnBO,gBAAW;YACXC,gBAAW;YACXC,0BAAsB;YACtBC,mBAAgB;YAChBC,oBAAgB;YAChB,2BAA2B;sHA+BhB,2BAA2B;sBAbvCtB,WAAQ;uBAAC;wBACR,YAAY,2BAAMuB,YAAU,EAAC;wBAC7B,OAAO;4BACLxB,eAAY;4BACZiB,gBAAW;4BACXD,wBAAmB;kCAChBpB,SAAO;4BACV6B,uBAAkB,CAAC,UAAU,CAAC;gCAC5B,QAAQ,EAAE,EAAE,qCAAqC,uCAAA,EAAE;6BACpD,CAAC;0BACH;wBACD,OAAO,yCAAMD,YAAU,WAAK5B,SAAO,EAAC;qBACrC;;;IC/ED;QAAA;;;;uJAAa,+BAA+B;gIAA/B,+BAA+B,8EAFhC,iCAAiC;sHAEhC,+BAA+B;sBAJ3Cd,YAAS;uBAAC;wBACT,QAAQ,EAAE,6BAA6B;wBACvC,QAAQ,EAAE,iCAAiC;qBAC5C;;;ICID,IAAM,sBAAsB,GAAG,UAAC,KAAwB;QACtD,IAAM,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC;QAEjC,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE;YACnG,OAAO,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;SACvC;aAAM;YACL,OAAO,SAAS,CAAC;SAClB;IACH,CAAC,CAAC;IAEF;;;;IAIO,IAAM,UAAU,GAAG,UAAC,aAAgC;QACzD,IAAI,aAAa,CAAC,KAAK,YAAY,UAAU,EAAE;;YAE7C,OAAO;gBACL,OAAO,EAAE,8BAA8B;aACxC,CAAC;SACH;aAAM;YACL,QAAQ,aAAa,CAAC,MAAM;gBAC1B,KAAK,GAAG;oBACN,OAAO;wBACL,OAAO,EAAE,sBAAsB,CAAC,aAAa,CAAC,IAAI,WAAW;qBAC9D,CAAC;gBACJ,KAAK,GAAG;oBACN,OAAO;wBACL,OAAO,EAAE,WAAW;qBACrB,CAAC;gBACJ,KAAK,GAAG;oBACN,OAAO;wBACL,OAAO,EAAE,WAAW;qBACrB,CAAC;gBACJ,KAAK,GAAG;oBACN,OAAO;wBACL,OAAO,EAAE,WAAW;qBACrB,CAAC;gBACJ;oBACE,OAAO;wBACL,OAAO,EAAE,8BAA8B;qBACxC,CAAC;aACL;SACF;IACH,CAAC;;IC7CD;QAJA;YAUE,yBAAoB,GAAG,oBAAoB,CAAC;SAC7C;;;+JAPY,uCAAuC;wIAAvC,uCAAuC,oJCPpD,o7BAwBM;sHDjBO,uCAAuC;sBAJnDA,YAAS;uBAAC;wBACT,QAAQ,EAAE,uCAAuC;wBACjD,WAAW,EAAE,qDAAqD;qBACnE;kCAKU,qBAAqB;0BAA7BC,QAAK;;;IEAR;QAJA;YAUY,SAAI,GAAG,IAAIF,eAAY,EAAkB,CAAC;YAC1C,WAAM,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAC5C,WAAM,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAC5C,YAAO,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAEvD,yBAAoB,GAAG,oBAAoB,CAAC;YAC5C,uBAAkB,GAAG,KAAK,CAAC;YAC3B,yBAAoB,GAAG,KAAK,CAAC;SAqB9B;QAnBC,sEAA2B,GAA3B;YACE,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;SACpD;QAED,0DAAe,GAAf;YACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAC1C;QAED,qDAAU,GAAV;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAC5C;QAED,oDAAS,GAAT;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAC5C;QAED,qDAAU,GAAV;YACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAC7C;;;wJAjCU,gCAAgC;iIAAhC,gCAAgC,yPCX7C,0/MAoKA;sHDzJa,gCAAgC;sBAJ5CC,YAAS;uBAAC;wBACT,QAAQ,EAAE,+BAA+B;wBACzC,WAAW,EAAE,6CAA6C;qBAC3D;kCAKU,mBAAmB;0BAA3BC,QAAK;oBACG,YAAY;0BAApBA,QAAK;oBACI,IAAI;0BAAbC,SAAM;oBACG,MAAM;0BAAfA,SAAM;oBACG,MAAM;0BAAfA,SAAM;oBACG,OAAO;0BAAhBA,SAAM;;;IEbT;QAJA;YAWY,SAAI,GAAG,IAAIH,eAAY,EAAkB,CAAC;YAC1C,WAAM,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAC5C,WAAM,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAC5C,YAAO,GAAG,IAAIA,eAAY,EAAkB,CAAC;YAC7C,yBAAoB,GAAG,IAAIA,eAAY,EAAE,CAAC;SAqBrD;QAnBC,yDAAkB,GAAlB;YACE,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;SAClC;QAED,sDAAe,GAAf,UAAgB,IAAoB;YAClC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACtB;QAED,iDAAU,GAAV,UAAW,IAAoB;YAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACxB;QAED,gDAAS,GAAT,UAAU,IAAoB;YAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACxB;QAED,iDAAU,GAAV,UAAW,IAAoB;YAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;;;oJA/BU,4BAA4B;6HAA5B,4BAA4B,kSCPzC,03BAsBA;sHDfa,4BAA4B;sBAJxCC,YAAS;uBAAC;wBACT,QAAQ,EAAE,0BAA0B;wBACpC,WAAW,EAAE,wCAAwC;qBACtD;kCAKU,mBAAmB;0BAA3BC,QAAK;oBACG,YAAY;0BAApBA,QAAK;oBAEI,IAAI;0BAAbC,SAAM;oBACG,MAAM;0BAAfA,SAAM;oBACG,MAAM;0BAAfA,SAAM;oBACG,OAAO;0BAAhBA,SAAM;oBACG,oBAAoB;0BAA7BA,SAAM;;;IEZT;QAJA;;;;YAQW,aAAQ,GAAG,EAAE,CAAC;YAEb,yBAAoB,GAAG,IAAIH,eAAY,EAAE,CAAC;SAKrD;QAHC,8DAAkB,GAAlB;YACE,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;SAClC;;;yJAVU,iCAAiC;kIAAjC,iCAAiC,8KCN9C,gtCAkCM;sHD5BO,iCAAiC;sBAJ7CC,YAAS;uBAAC;wBACT,QAAQ,EAAE,gCAAgC;wBAC1C,WAAW,EAAE,8CAA8C;qBAC5D;kCAKU,QAAQ;0BAAhBC,QAAK;oBAEI,oBAAoB;0BAA7BC,SAAM;;;IELT;QAA8E,4EAAkC;QAAhH;;;;KAAA,CAA8E,kCAAkC;gLAAnG,wDAAwD;yJAAxD,wDAAwD,iICPrE,yzDA6CA;sHDtCa,wDAAwD;sBAJpEF,YAAS;uBAAC;wBACT,QAAQ,EAAE,yDAAyD;wBACnE,WAAW,EAAE,sEAAsE;qBACpF;;;IECD;QAA4E,0EAAkC;QAA9G;;;;KAAA,CAA4E,kCAAkC;8KAAjG,sDAAsD;uJAAtD,sDAAsD,gICPnE,43DA4Cc;sHDrCD,sDAAsD;sBAJlEA,YAAS;uBAAC;wBACT,QAAQ,EAAE,wDAAwD;wBAClE,WAAW,EAAE,oEAAoE;qBAClF;;;IEuBD;QAmIE,6CACmB,aAA4B,EAC5B,eAAgC,EAChC,cAA8B,EAC9B,mBAAwC;YAJ3D,iBAWC;YAVkB,kBAAa,GAAb,aAAa,CAAe;YAC5B,oBAAe,GAAf,eAAe,CAAiB;YAChC,mBAAc,GAAd,cAAc,CAAgB;YAC9B,wBAAmB,GAAnB,mBAAmB,CAAqB;YAtInD,2BAAsB,GAAG,IAAIuB,oBAAe,CAAU,IAAI,CAAC,CAAC;YAC5D,+BAA0B,GAAG,IAAIA,oBAAe,CAAsB,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;YACrF,cAAS,GAAG,IAAIA,oBAAe,CAAU,IAAI,CAAC,CAAC;YAIvD,wBAAmB,GAAG,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,CAAC;YACrE,yBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAE3C,iBAAY,GAAG,IAAIxB,eAAY,EAAsB,CAAC;YAQ/C,sBAAiB,GAAG,UAAC,OAAe,IAAK,OAAG,OAAO,aAAU,GAAA,CAAC;;YAE9D,iBAAY,GAAmB,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC;gBACtF,UAAU,EAAE,iCAAiC;gBAC7C,iBAAiB,EAAE,IAAI,CAAC,iBAAiB;aAC1C,CAAC,CAAC;YAEK,uBAAkB,GAAG,UAAC,KAAwB;gBACpD,KAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;gBAC/B,OAAOQ,OAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;aAC1B,CAAC;YAEM,0BAAqB,GAAG;gBAC9B,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAChC,KAAI,CAAC,gBAAgB,CAAC,SAAS,yFAAA,sBAAsB,MAAE,SAAS,4FAAA,yBAAyB,MAAE,OAAO,CAAC,CAAC;aACrG,CAAC;YAwGA,IAAI,CAAC,sBAAsB;iBACxB,IAAI,CAACqC,kBAAQ,CAAC,cAAM,OAAA,KAAI,CAAC,uBAAuB,EAAE,GAAA,CAAC,CAAC;iBACpD,SAAS,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YAE9C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC;SAC7D;QA3GO,qEAAuB,GAAvB;YAAA,iBAOP;YANC,OAAO,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE,CAAC,IAAI,CACvDtC,oBAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,EACnCuC,aAAG,CAAC;gBACF,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aACjC,CAAC,CACH,CAAC;SACH;QAEO,8DAAgB,GAAhB,UAAiB,MAA2B,EAAE,OAA4B,EAAE,QAA8B;YAChH,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC;gBACxC,MAAM,QAAA;gBACN,OAAO,SAAA;gBACP,QAAQ,UAAA;gBACR,WAAW,EAAE,IAAI;gBACjB,GAAG,EAAE,IAAI;aACV,CAAC,CAAC;SACJ;QAED,sBAAI,mEAAkB;iBAAtB;gBACE,OAAO,IAAI,CAAC,YAAY,CAAC,8BAA8B,CAAC,CAAC;aAC1D;;;WAAA;QAED,gEAAkB,GAAlB;YACE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;QAED,6DAAe,GAAf,UAAgB,IAAoB;YAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACjC;QAED,4DAAc,GAAd,UAAe,IAAqB,EAAE,UAAsC;YAC1E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;SAC9B;QAED,iEAAmB,GAAnB,UAAoB,KAAc;YAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5B;QAED,wDAAU,GAAV,UAAW,IAAgC;YAA3C,iBAeC;YAdC,IAAM,OAAO,GAAG;gBACd,KAAI,CAAC,gBAAgB,CACnB,SAAS,4FAAA,yBAAyB,MAClC,SAAS,+GAAA,4CAA4C,MACrD,SAAS,CACV,CAAC;gBACF,KAAI,CAAC,WAAW,EAAE,CAAC;aACpB,CAAC;YAEF,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE;gBACnB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aACnG;SACF;QAED,8DAAgB,GAAhB,UAAiB,IAAgC;YAAjD,iBA2BC;YA1BC,IAAM,OAAO,GAAG;gBACd,IAAI,IAAK,CAAC,MAAM,KAAK,oBAAoB,CAAC,MAAM,EAAE;oBAChD,KAAI,CAAC,gBAAgB,CACnB,SAAS,2FAAA,wBAAwB,MACjC,SAAS,kHAAA,+CAA+C,MACxD,SAAS,CACV,CAAC;iBACH;qBAAM;oBACL,KAAI,CAAC,gBAAgB,CACnB,SAAS,6FAAA,0BAA0B,MACnC,SAAS,4GAAA,yCAAyC,MAClD,SAAS,CACV,CAAC;iBACH;gBACD,KAAI,CAAC,WAAW,EAAE,CAAC;aACpB,CAAC;YACF,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE;gBACnB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,eAAe;qBACjB,0BAA0B,CACzB,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,MAAM,KAAK,oBAAoB,CAAC,MAAM,GAAG,0BAA0B,GAAG,yBAAyB,CACrG;qBACA,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aACnD;SACF;QAED,yDAAW,GAAX;YACE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACxC;QAED,yDAAW,GAAX;YACE,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC;YACvC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,CAAC;YAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;SAC3B;;;2JAjIU,mCAAmC;oIAAnC,mCAAmC,8HC7BhD,mkFAsEA;sHDzCa,mCAAmC;sBAJ/C7C,YAAS;uBAAC;wBACT,QAAQ,EAAE,kCAAkC;wBAC5C,WAAW,EAAE,8CAA8C;qBAC5D;yNAWW,YAAY;0BAArBE,SAAM;;;;IEjBT,IAAM,UAAU,GAAG;QACjB,mCAAmC;QACnC,iCAAiC;QACjC,4BAA4B;QAC5B,gCAAgC;QAChC,uCAAuC;QACvC,wDAAwD;QACxD,sDAAsD;KACvD,CAAC;IAEF,IAAM,OAAO,GAAG;QACdyB,iBAAY;QACZZ,aAAU;QACV+B,oBAAiB;QACjBP,0BAAsB;QACtBE,oBAAgB;QAChBM,oBAAiB;QACjBC,uBAAkB;QAClBX,gBAAW;QACXY,gBAAW;QACXC,uBAAkB;QAClB,2BAA2B;KAC5B,CAAC;IAaF;QAAA;;;;iJAAa,yBAAyB;kJAAzB,yBAAyB,iBAlCpC,mCAAmC;YACnC,iCAAiC;YACjC,4BAA4B;YAC5B,gCAAgC;YAChC,uCAAuC;YACvC,wDAAwD;YACxD,sDAAsD,aAoBpDhC,eAAY,sCAhBdS,iBAAY;YACZZ,aAAU;YACV+B,oBAAiB;YACjBP,0BAAsB;YACtBE,oBAAgB;YAChBM,oBAAiB;YACjBC,uBAAkB;YAClBX,gBAAW;YACXY,gBAAW;YACXC,uBAAkB;YAClB,2BAA2B,aAV3BvB,iBAAY;YACZZ,aAAU;YACV+B,oBAAiB;YACjBP,0BAAsB;YACtBE,oBAAgB;YAChBM,oBAAiB;YACjBC,uBAAkB;YAClBX,gBAAW;YACXY,gBAAW;YACXC,uBAAkB;YAClB,2BAA2B,EApB3B,mCAAmC;YACnC,iCAAiC;YACjC,4BAA4B;YAC5B,gCAAgC;YAChC,uCAAuC;YACvC,wDAAwD;YACxD,sDAAsD;kJA4B3C,yBAAyB;gBARlChC,eAAY;gBACZyB,uBAAkB,CAAC,UAAU,CAAC;oBAC5B,QAAQ,EAAE,EAAE,mCAAmC,qCAAA,EAAE;iBAClD,CAAC;sBACC,OAAO,IApBZhB,iBAAY;YACZZ,aAAU;YACV+B,oBAAiB;YACjBP,0BAAsB;YACtBE,oBAAgB;YAChBM,oBAAiB;YACjBC,uBAAkB;YAClBX,gBAAW;YACXY,gBAAW;YACXC,uBAAkB;YAClB,2BAA2B;sHAchB,yBAAyB;sBAXrC/B,WAAQ;uBAAC;wBACR,YAAY,2BAAM,UAAU,EAAC;wBAC7B,OAAO;4BACLD,eAAY;4BACZyB,uBAAkB,CAAC,UAAU,CAAC;gCAC5B,QAAQ,EAAE,EAAE,mCAAmC,qCAAA,EAAE;6BAClD,CAAC;kCACC,OAAO,EACX;wBACD,OAAO,yCAAM,OAAO,WAAK,UAAU,EAAC;qBACrC;;;QCpDY,wCAAwC,GAAG,IAAIxC,iBAAc,CAExE,qDAAqD,EAAE;AAE7CgD;IAAZ,WAAY,qBAAqB;QAC/B,2DAAkC,CAAA;QAClC,8DAAqC,CAAA;IACvC,CAAC,EAHWA,6BAAqB,KAArBA,6BAAqB,QAGhC;IAOD,IAAM,cAAc,GAGhB;QACF,UAAU,EAAEA,6BAAqB,CAAC,qBAAqB;QACvD,YAAY,EAAE;YACZ,QAAQ,EAAE,IAAI,iCAAiC,EAAE;YACjD,QAAQ,kCACH,wBAAwB,GACxB,6BAA6B,CACjC;SACF;KACF,CAAC;;QAMA,6CAGE,MAAyE;YAEzE,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,OAAO,mCAAQ,cAAc,GAAK,MAAM,CAAE,CAAC;SACjD;QAED,sBAAI,yDAAQ;iBAAZ;gBACE,OAAO,cAAc,CAAC;aACvB;;;WAAA;QAKD,sBAAI,2DAAU;;;;iBAAd;gBACE,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;aAChC;;;WAAA;QAMD,sBAAI,6DAAY;;;;;iBAAhB;gBACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;aAClC;;;WAAA;;;2JA7BU,mCAAmC,kBAKpC,wCAAwC;+JALvC,mCAAmC;sHAAnC,mCAAmC;sBAD/C3C,aAAU;;;kCAKNE,WAAQ;;kCACRD,SAAM;mCAAC,wCAAwC;;;;;QCZlD,2CACW,MAA2C,EACnC,MAAc,EACd,KAAqB;YAF7B,WAAM,GAAN,MAAM,CAAqC;YACnC,WAAM,GAAN,MAAM,CAAQ;YACd,UAAK,GAAL,KAAK,CAAgB;YAL/B,iBAAY,GAAuB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAACE,aAAG,CAAC,UAAC,MAAc,IAAK,OAAA,MAAM,CAAC,cAAc,CAAC,GAAA,CAAC,CAAC,CAAC;SAMhH;QAEJ,mDAAO,GAAP;YACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;SAC/D;;;yJAXU,iCAAiC;kIAAjC,iCAAiC,iFAflC,2jBAaT;sHAEU,iCAAiC;sBAjB7CX,YAAS;uBAAC;wBACT,QAAQ,EAAE,gCAAgC;wBAC1C,QAAQ,EAAE,2jBAaT;qBACF;;;;QCLC,0CAA6B,MAAc,EAAU,KAAqB;YAA7C,WAAM,GAAN,MAAM,CAAQ;YAAU,UAAK,GAAL,KAAK,CAAgB;SAAI;QAE9E,yDAAc,GAAd,UAAe,EAAW;YACxB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,EAAE,GAAG,EAAE,YAAY,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;SACjG;;;wJALU,gCAAgC;iIAAhC,gCAAgC,gFAXjC,2aAST;sHAEU,gCAAgC;sBAb5CA,YAAS;uBAAC;wBACT,QAAQ,EAAE,+BAA+B;wBACzC,QAAQ,EAAE,2aAST;qBACF;;;ICFM,IAAM,YAAY,GAAU;QACjC,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+BAA+B;QAC1C,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,EAAE;gBACR,UAAU,EAAE,MAAM;gBAClB,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,EAAE,KAAK,EAAE,kBAAkB,EAAE;gBACnC,SAAS,EAAE,gCAAgC;aAC5C;YACD;gBACE,IAAI,EAAE,QAAQ;gBACd,IAAI,EAAE,EAAE,KAAK,EAAE,qBAAqB,EAAE;gBACtC,SAAS,EAAE,iCAAiC;aAC7C;SACF;KACF,CAAC;aAEc,eAAe,CAAC,MAA2C;QACzE,OAAO,MAAM,CAAC,YAAY,CAAC;IAC7B,CAAC;;QAgBD;;QACS,oCAAO,GAAd,UACE,IAAoE;YAApE,qBAAA,EAAA,SAA+C,KAAK,EAAE,YAAY,EAAE;YAEpE,OAAO;gBACL,QAAQ,EAAE,4BAA4B;gBACtC,SAAS,EAAE;oBACToD,kBAAa,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC3B;wBACE,OAAO,EAAE,wBAAwB;wBACjC,UAAU,EAAE,eAAe;wBAC3B,IAAI,EAAE,CAAC,mCAAmC,CAAC;qBAC5C;iBACF;aACF,CAAC;SACH;;;oJAfU,4BAA4B;qJAA5B,4BAA4B,iBAbxB,+BAA+B,EAAE,gCAAgC,EAAE,iCAAiC,aAEjHlC,eAAY,oEAKZmC,iBAAY;YACZ,yBAAyB;YACzB,2BAA2B;qJAIlB,4BAA4B,aAF5B,CAAC,mCAAmC,CAAC,YAVvC;gBACPnC,eAAY;gBACZyB,uBAAkB,CAAC,UAAU,CAAC;oBAC5B,QAAQ,EAAE,EAAE,+BAA+B,iCAAA,EAAE;iBAC9C,CAAC;gBACFW,iBAAY,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACzBD,iBAAY;gBACZ,yBAAyB;gBACzB,2BAA2B;aAC5B;sHAGU,4BAA4B;sBAdxClC,WAAQ;uBAAC;wBACR,YAAY,EAAE,CAAC,+BAA+B,EAAE,gCAAgC,EAAE,iCAAiC,CAAC;wBACpH,OAAO,EAAE;4BACPD,eAAY;4BACZyB,uBAAkB,CAAC,UAAU,CAAC;gCAC5B,QAAQ,EAAE,EAAE,+BAA+B,iCAAA,EAAE;6BAC9C,CAAC;4BACFW,iBAAY,CAAC,QAAQ,CAAC,EAAE,CAAC;4BACzBD,iBAAY;4BACZ,yBAAyB;4BACzB,2BAA2B;yBAC5B;wBACD,SAAS,EAAE,CAAC,mCAAmC,CAAC;qBACjD;;;ICpDD;;;;;;;;;;;;;;;;;;;"}