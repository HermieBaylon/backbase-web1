import { Component } from '@angular/core';
import { Validators } from '@angular/forms';
import { BaseAuthorizedUsersCreateStep } from '../authorized-users-create-common/base-authorized-users-create-step';
import { Subscription } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@backbase/ui-ang/input-text";
import * as i3 from "@backbase/ui-ang/input-validation-message";
import * as i4 from "@backbase/ui-ang/input-email";
import * as i5 from "@backbase/ui-ang/input-phone";
import * as i6 from "../../../common/utils/accessibility-keyboard.directive";
import * as i7 from "@angular/common";
import * as i8 from "@backbase/ui-ang/button";
export class AuthorizedUsersUserDetailsComponent extends BaseAuthorizedUsersCreateStep {
    constructor(formBuilder) {
        super();
        this.formBuilder = formBuilder;
        this.suscription$ = new Subscription();
        this.validateEmailMatch = () => {
            const emailField = this.formGetter('email', 'emailGroup');
            const confirmationEmailField = this.formGetter('confirmationEmail', 'emailGroup');
            // eslint-disable-next-line no-null/no-null
            return (emailField === null || emailField === void 0 ? void 0 : emailField.value) !== (confirmationEmailField === null || confirmationEmailField === void 0 ? void 0 : confirmationEmailField.value) ? { validateMailConfirmation: true } : null;
        };
    }
    ngOnInit() {
        var _a;
        super.ngOnInit();
        this.userDetailsForm = this.formBuilder.group({
            firstName: [this.authorizedUser.firstName, Validators.required],
            lastName: [this.authorizedUser.lastName, Validators.required],
            emailGroup: this.formBuilder.group({
                email: [this.authorizedUser.email, Validators.compose([Validators.required, Validators.email])],
                confirmationEmail: [this.authorizedUser.email, Validators.compose([Validators.required, Validators.email])],
            }),
            mobileNumber: [this.authorizedUser.mobileNumber, Validators.required],
        });
        this.suscription$.add((_a = this.formGetter('emailGroup')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(() => {
            const confirmationEmailControl = this.formGetter('confirmationEmail', 'emailGroup');
            if (confirmationEmailControl) {
                confirmationEmailControl.setValidators([Validators.required, Validators.email, this.validateEmailMatch]);
                confirmationEmailControl.updateValueAndValidity({ emitEvent: false });
            }
        }));
    }
    isFieldValid(fieldName, fieldGroup) {
        const controlField = this.formGetter(fieldName, fieldGroup);
        return !!controlField && (controlField.valid || controlField.untouched);
    }
    save() {
        var _a, _b;
        if ((_a = this.userDetailsForm) === null || _a === void 0 ? void 0 : _a.valid) {
            this.goNext(this.formatAuthorizedUserValue());
        }
        else {
            (_b = this.userDetailsForm) === null || _b === void 0 ? void 0 : _b.markAllAsTouched();
        }
    }
    formatAuthorizedUserValue() {
        const { firstName, lastName, emailGroup: { email }, mobileNumber, } = this.userDetailsForm.value;
        return { firstName, lastName, email, mobileNumber };
    }
    formGetter(fieldName, fieldGroup) {
        var _a, _b, _c;
        const controlField = !!fieldGroup
            ? (_b = (_a = this.userDetailsForm) === null || _a === void 0 ? void 0 : _a.get(fieldGroup)) === null || _b === void 0 ? void 0 : _b.get(fieldName)
            : (_c = this.userDetailsForm) === null || _c === void 0 ? void 0 : _c.get(fieldName);
        return controlField;
    }
    ngOnDestroy() {
        this.suscription$.unsubscribe();
    }
}
AuthorizedUsersUserDetailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: AuthorizedUsersUserDetailsComponent, deps: [{ token: i1.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });
AuthorizedUsersUserDetailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: AuthorizedUsersUserDetailsComponent, selector: "bb-authorized-users-user-details", usesInheritance: true, ngImport: i0, template: "<form [formGroup]=\"userDetailsForm\" (submit)=\"save()\">\n  <div class=\"bb-block bb-block--lg\" bbAuthorizedUsersAccessibilityKeyboard>\n    <h2 \n      data-role=\"user-details-header\"\n      i18n=\"user creation details header@@authorized.users.createUser.header\"\n    >\n      Who would you like to give access to?\n    </h2>\n  </div>\n\n  <div class=\"bb-block\">\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-text-ui\n          formControlName=\"firstName\"\n          data-role=\"user-details-first-name\"\n          label=\"First Name\"\n          i18n-label=\"user creation details first name@@authorized.users.createUser.label.firstName\"\n          maxLength=\"256\"\n        ></bb-input-text-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('firstName')\">\n          <span \n            data-role=\"user-details-first-name-validation-msg\"\n            i18n=\"user creation first name required error message@@authorized.users.createUser.errorMessage.required.firstName\">\n            First name is required\n          </span>\n        </bb-input-validation-message-ui>  \n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-text-ui\n          formControlName=\"lastName\"\n          data-role=\"user-details-last-name\"\n          label=\"Last Name\"\n          i18n-label=\"user creation details last name@@authorized.users.createUser.label.lastName\"\n          maxLength=\"256\"\n        ></bb-input-text-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('lastName')\">\n          <span \n            data-role=\"user-details-last-name-validation-msg\"\n            i18n=\"user creation last name required error message@@authorized.users.createUser.errorMessage.required.lastName\">\n            Last name is required\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n    <ng-container formGroupName=\"emailGroup\">\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 form-group\">\n          <bb-input-email-ui\n            formControlName=\"email\"\n            data-role=\"user-details-email\"\n            label=\"Email\"\n            i18n-label=\"user creation details email@@authorized.users.createUser.label.email\"\n            required=\"true\"\n          ></bb-input-email-ui>\n          <ng-container *ngIf=\"isFieldValid('email', 'emailGroup')\">\n            <span \n              class=\"bb-text-support text-small\" \n              i18n=\"user creation confirmation support text@@authorized.users.createUser.info.emailConfirmation\"\n            >\n            We will send a confirmation to their email address.\n            </span> \n          </ng-container>\n          <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('email', 'emailGroup')\" data-role=\"user-details-email-validation-msg\">\n            <ng-container *ngFor=\"let error of formGetter('email', 'emailGroup')?.errors | keyvalue; first as first\">\n                <ng-container *ngIf=\"first\" [ngSwitch]=\"error.key\">\n                  <span\n                    *ngSwitchCase=\"'required'\"\n                    i18n=\"user creation email required error message@@authorized.users.createUser.errorMessage.required.email\"\n                  >\n                    Email address is required\n                  </span>\n                  <span\n                    *ngSwitchCase=\"'email'\"\n                    i18n=\"invalid email format@@authorized.users.createUser.errorMessage.format.confirmationEmail\"\n                  >\n                  Invalid email format\n                  </span>\n                </ng-container>\n              </ng-container>\n          </bb-input-validation-message-ui>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 form-group\">\n          <bb-input-email-ui\n            formControlName=\"confirmationEmail\"\n            data-role=\"user-details-confirmation-email\"\n            label=\"Confirm Email\"\n            i18n-label=\"user creation details confirm email@@authorized.users.createUser.label.confirmationEmail\"\n            required=\"true\"\n          ></bb-input-email-ui>\n          <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('confirmationEmail', 'emailGroup')\" data-role=\"user-details-confirmation-email-validation-msg\">\n            <ng-container *ngFor=\"let error of formGetter('confirmationEmail', 'emailGroup')?.errors | keyvalue; first as first\">\n              <ng-container *ngIf=\"first\" [ngSwitch]=\"error.key\">\n                <span\n                  *ngSwitchCase=\"'required'\"\n                  i18n=\"confirm email address is required@@authorized.users.createUser.errorMessage.required.confirmationEmail\"\n                >\n                  Confirm email address is required\n                </span>\n                <span\n                  *ngSwitchCase=\"'email'\"\n                  i18n=\"invalid email format@@authorized.users.createUser.errorMessage.format.confirmationEmail\"\n                >\n                Invalid email format\n                </span>\n                <span\n                  *ngSwitchCase=\"'validateMailConfirmation'\"\n                  i18n=\"email addresses do not match@@authorized.users.createUser.errorMessage.match.confirmationEmail\"\n                >\n                Email addresses do not match\n                </span>\n              </ng-container>\n            </ng-container>\n          </bb-input-validation-message-ui>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 form-group\">\n        <bb-input-phone-ui\n          formControlName=\"mobileNumber\"\n          data-role=\"user-details-phone-number\"\n          label=\"Phone Number\"\n          i18n-label=\"user creation details phone number@@authorized.users.createUser.label.phoneNumber\"\n          required=\"true\"\n        ></bb-input-phone-ui>\n        <bb-input-validation-message-ui [showErrors]=\"!isFieldValid('mobileNumber')\">\n          <span \n            data-role=\"user-details-phone-number-validation-msg\"\n            i18n=\"user creation phone number required error message@@authorized.users.createUser.errorMessage.required.phoneNumber\">\n            Phone number is required\n          </span>\n        </bb-input-validation-message-ui>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bb-button-bar\">    \n    <button \n      bbButton \n      data-role=\"user-details-continue-button\"\n      i18n=\"Continue button text@@authorized-users.create.details.continue.button\"\n      class=\"bb-button-bar__button\" \n      type=\"submit\"\n    >Continue</button>\n    <button \n      bbButton \n      data-role=\"user-details-cancel-button\"\n      color=\"link\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n      i18n=\"Cancel button text@@authorized-users.create.details.cancel.button\"\n      (click)=\"abort()\"\n    >Cancel</button>\n  </div>\n</form>\n", components: [{ type: i2.InputTextComponent, selector: "bb-input-text-ui", inputs: ["placeholder", "maxLength", "minLength", "autocomplete", "readonly", "mask", "maskValidator", "showCharCounter"], outputs: ["valueChange"] }, { type: i3.InputValidationMessageComponent, selector: "bb-input-validation-message-ui", inputs: ["showErrors", "messageId"] }, { type: i4.InputEmailComponent, selector: "bb-input-email-ui", inputs: ["placeholder", "maxLength", "minLength", "readonly", "autocomplete"] }, { type: i5.InputPhoneComponent, selector: "bb-input-phone-ui", inputs: ["placeholder", "maxLength", "minLength", "readonly", "ariaLabel", "autocomplete", "countryList", "dropdownPosition", "clearable", "searchable", "defaultCountryIsoCode", "enableCountryCode"] }], directives: [{ type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i6.AuthorizedUsersAccessibilityKeyboardDirective, selector: "[bbAuthorizedUsersAccessibilityKeyboard]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { type: i1.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i7.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i7.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { type: i8.ButtonDirective, selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }], pipes: { "keyvalue": i7.KeyValuePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: AuthorizedUsersUserDetailsComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-authorized-users-user-details',
                    templateUrl: 'authorized-users-user-details.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aG9yaXplZC11c2Vycy11c2VyLWRldGFpbHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hdXRob3JpemVkLXVzZXJzLWpvdXJuZXkvc3JjL2F1dGhvcml6ZWQtdXNlcnMtY3JlYXRlL2NvbXBvbmVudHMvYXV0aG9yaXplZC11c2Vycy11c2VyLWRldGFpbHMvYXV0aG9yaXplZC11c2Vycy11c2VyLWRldGFpbHMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hdXRob3JpemVkLXVzZXJzLWpvdXJuZXkvc3JjL2F1dGhvcml6ZWQtdXNlcnMtY3JlYXRlL2NvbXBvbmVudHMvYXV0aG9yaXplZC11c2Vycy11c2VyLWRldGFpbHMvYXV0aG9yaXplZC11c2Vycy11c2VyLWRldGFpbHMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFDN0QsT0FBTyxFQUEwQixVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxxRUFBcUUsQ0FBQztBQUNwSCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDOzs7Ozs7Ozs7O0FBTXBDLE1BQU0sT0FBTyxtQ0FBb0MsU0FBUSw2QkFBNkI7SUFvRXBGLFlBQTZCLFdBQXdCO1FBQ25ELEtBQUssRUFBRSxDQUFDO1FBRG1CLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBbEU3QyxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUE2QnpCLHVCQUFrQixHQUFHLEdBQUcsRUFBRTtZQUN6QyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQztZQUMxRCxNQUFNLHNCQUFzQixHQUFHLElBQUksQ0FB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QUFLLENBQUM7UUFDaEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxDQUFDO0lBQ3RELENBQUM7SUFFRCxVQUFVLENBQUMsU0FBaUIsRUFBRSxVQUFtQjs7UUFDL0MsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLFVBQVU7WUFDL0IsQ0FBQyxDQUFDLE1BQUEsTUFBQSxJQUFJLENBQUMsZUFBZSwwQ0FBRSxHQUFHLENBQUMsVUFBVSxDQUFDLDBDQUFFLEdBQUcsQ0FBQyxTQUFTLENBQUM7WUFDdkQsQ0FBQyxDQUFDLE1BQUEsSUFBSSxDQUFDLGVBQWUsMENBQUUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXpDLE9BQU8sWUFBWSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDOztpSUFsRVUsbUNBQW1DO3FIQUFuQyxtQ0FBbUMsK0ZDVGhELGtnT0FnS0E7NEZEdkphLG1DQUFtQztrQkFKL0MsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsa0NBQWtDO29CQUM1QyxXQUFXLEVBQUUsOENBQThDO2lCQUM1RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBCYXNlQXV0aG9yaXplZFVzZXJzQ3JlYXRlU3RlcCB9IGZyb20gJy4uL2F1dGhvcml6ZWQtdXNlcnMtY3JlYXRlLWNvbW1vbi9iYXNlLWF1dGhvcml6ZWQtdXNlcnMtY3JlYXRlLXN0ZXAnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2JiLWF1dGhvcml6ZWQtdXNlcnMtdXNlci1kZXRhaWxzJyxcbiAgdGVtcGxhdGVVcmw6ICdhdXRob3JpemVkLXVzZXJzLXVzZXItZGV0YWlscy5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIEF1dGhvcml6ZWRVc2Vyc1VzZXJEZXRhaWxzQ29tcG9uZW50IGV4dGVuZHMgQmFzZUF1dGhvcml6ZWRVc2Vyc0NyZWF0ZVN0ZXAgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIHVzZXJEZXRhaWxzRm9ybTogRm9ybUdyb3VwIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHN1c2NyaXB0aW9uJCA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgIHRoaXMudXNlckRldGFpbHNGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICBmaXJzdE5hbWU6IFt0aGlzLmF1dGhvcml6ZWRVc2VyLmZpcnN0TmFtZSwgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICBsYXN0TmFtZTogW3RoaXMuYXV0aG9yaXplZFVzZXIubGFzdE5hbWUsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgZW1haWxHcm91cDogdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICAgIGVtYWlsOiBbdGhpcy5hdXRob3JpemVkVXNlci5lbWFpbCwgVmFsaWRhdG9ycy5jb21wb3NlKFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLmVtYWlsXSldLFxuICAgICAgICBjb25maXJtYXRpb25FbWFpbDogW3RoaXMuYXV0aG9yaXplZFVzZXIuZW1haWwsIFZhbGlkYXRvcnMuY29tcG9zZShbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5lbWFpbF0pXSxcbiAgICAgIH0pLFxuICAgICAgbW9iaWxlTnVtYmVyOiBbdGhpcy5hdXRob3JpemVkVXNlci5tb2JpbGVOdW1iZXIsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgIH0pO1xuICAgIHRoaXMuc3VzY3JpcHRpb24kLmFkZChcbiAgICAgIHRoaXMuZm9ybUdldHRlcignZW1haWxHcm91cCcpPy52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlybWF0aW9uRW1haWxDb250cm9sID0gdGhpcy5mb3JtR2V0dGVyKCdjb25maXJtYXRpb25FbWFpbCcsICdlbWFpbEdyb3VwJyk7XG4gICAgICAgIGlmIChjb25maXJtYXRpb25FbWFpbENvbnRyb2wpIHtcbiAgICAgICAgICBjb25maXJtYXRpb25FbWFpbENvbnRyb2wuc2V0VmFsaWRhdG9ycyhbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5lbWFpbCwgdGhpcy52YWxpZGF0ZUVtYWlsTWF0Y2hdKTtcbiAgICAgICAgICBjb25maXJtYXRpb25FbWFpbENvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IGVtaXRFdmVudDogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBpc0ZpZWxkVmFsaWQoZmllbGROYW1lOiBzdHJpbmcsIGZpZWxkR3JvdXA/OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjb250cm9sRmllbGQgPSB0aGlzLmZvcm1HZXR0ZXIoZmllbGROYW1lLCBmaWVsZEdyb3VwKTtcbiAgICByZXR1cm4gISFjb250cm9sRmllbGQgJiYgKGNvbnRyb2xGaWVsZC52YWxpZCB8fCBjb250cm9sRmllbGQudW50b3VjaGVkKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgdmFsaWRhdGVFbWFpbE1hdGNoID0gKCkgPT4ge1xuICAgIGNvbnN0IGVtYWlsRmllbGQgPSB0aGlzLmZvcm1HZXR0ZXIoJ2VtYWlsJywgJ2VtYWlsR3JvdXAnKTtcbiAgICBjb25zdCBjb25maXJtYXRpb25FbWFpbEZpZWxkID0gdGhpcy5mb3JtR2V0dGVyKCdjb25maXJtYXRpb25FbWFpbCcsICdlbWFpbEdyb3VwJyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgIHJldHVybiBlbWFpbEZpZWxkPy52YWx1ZSAhPT0gY29uZmlybWF0aW9uRW1haWxGaWVsZD8udmFsdWUgPyB7IHZhbGlkYXRlTWFpbENvbmZpcm1hdGlvbjogdHJ1ZSB9IDogbnVsbDtcbiAgfTtcblxuICBzYXZlKCkge1xuICAgIGlmICh0aGlzLnVzZXJEZXRhaWxzRm9ybT8udmFsaWQpIHtcbiAgICAgIHRoaXMuZ29OZXh0KHRoaXMuZm9ybWF0QXV0aG9yaXplZFVzZXJWYWx1ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51c2VyRGV0YWlsc0Zvcm0/Lm1hcmtBbGxBc1RvdWNoZWQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdEF1dGhvcml6ZWRVc2VyVmFsdWUoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICBlbWFpbEdyb3VwOiB7IGVtYWlsIH0sXG4gICAgICBtb2JpbGVOdW1iZXIsXG4gICAgfSA9IHRoaXMudXNlckRldGFpbHNGb3JtIS52YWx1ZTtcbiAgICByZXR1cm4geyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgbW9iaWxlTnVtYmVyIH07XG4gIH1cblxuICBmb3JtR2V0dGVyKGZpZWxkTmFtZTogc3RyaW5nLCBmaWVsZEdyb3VwPzogc3RyaW5nKSB7XG4gICAgY29uc3QgY29udHJvbEZpZWxkID0gISFmaWVsZEdyb3VwXG4gICAgICA/IHRoaXMudXNlckRldGFpbHNGb3JtPy5nZXQoZmllbGRHcm91cCk/LmdldChmaWVsZE5hbWUpXG4gICAgICA6IHRoaXMudXNlckRldGFpbHNGb3JtPy5nZXQoZmllbGROYW1lKTtcblxuICAgIHJldHVybiBjb250cm9sRmllbGQ7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1c2NyaXB0aW9uJC51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG4iLCI8Zm9ybSBbZm9ybUdyb3VwXT1cInVzZXJEZXRhaWxzRm9ybVwiIChzdWJtaXQpPVwic2F2ZSgpXCI+XG4gIDxkaXYgY2xhc3M9XCJiYi1ibG9jayBiYi1ibG9jay0tbGdcIiBiYkF1dGhvcml6ZWRVc2Vyc0FjY2Vzc2liaWxpdHlLZXlib2FyZD5cbiAgICA8aDIgXG4gICAgICBkYXRhLXJvbGU9XCJ1c2VyLWRldGFpbHMtaGVhZGVyXCJcbiAgICAgIGkxOG49XCJ1c2VyIGNyZWF0aW9uIGRldGFpbHMgaGVhZGVyQEBhdXRob3JpemVkLnVzZXJzLmNyZWF0ZVVzZXIuaGVhZGVyXCJcbiAgICA+XG4gICAgICBXaG8gd291bGQgeW91IGxpa2UgdG8gZ2l2ZSBhY2Nlc3MgdG8/XG4gICAgPC9oMj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImJiLWJsb2NrXCI+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtc20tNiBmb3JtLWdyb3VwXCI+XG4gICAgICAgIDxiYi1pbnB1dC10ZXh0LXVpXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZmlyc3ROYW1lXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJ1c2VyLWRldGFpbHMtZmlyc3QtbmFtZVwiXG4gICAgICAgICAgbGFiZWw9XCJGaXJzdCBOYW1lXCJcbiAgICAgICAgICBpMThuLWxhYmVsPVwidXNlciBjcmVhdGlvbiBkZXRhaWxzIGZpcnN0IG5hbWVAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5sYWJlbC5maXJzdE5hbWVcIlxuICAgICAgICAgIG1heExlbmd0aD1cIjI1NlwiXG4gICAgICAgID48L2JiLWlucHV0LXRleHQtdWk+XG4gICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWkgW3Nob3dFcnJvcnNdPVwiIWlzRmllbGRWYWxpZCgnZmlyc3ROYW1lJylcIj5cbiAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInVzZXItZGV0YWlscy1maXJzdC1uYW1lLXZhbGlkYXRpb24tbXNnXCJcbiAgICAgICAgICAgIGkxOG49XCJ1c2VyIGNyZWF0aW9uIGZpcnN0IG5hbWUgcmVxdWlyZWQgZXJyb3IgbWVzc2FnZUBAYXV0aG9yaXplZC51c2Vycy5jcmVhdGVVc2VyLmVycm9yTWVzc2FnZS5yZXF1aXJlZC5maXJzdE5hbWVcIj5cbiAgICAgICAgICAgIEZpcnN0IG5hbWUgaXMgcmVxdWlyZWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpPiAgXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1zbS02IGZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGJiLWlucHV0LXRleHQtdWlcbiAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJsYXN0TmFtZVwiXG4gICAgICAgICAgZGF0YS1yb2xlPVwidXNlci1kZXRhaWxzLWxhc3QtbmFtZVwiXG4gICAgICAgICAgbGFiZWw9XCJMYXN0IE5hbWVcIlxuICAgICAgICAgIGkxOG4tbGFiZWw9XCJ1c2VyIGNyZWF0aW9uIGRldGFpbHMgbGFzdCBuYW1lQEBhdXRob3JpemVkLnVzZXJzLmNyZWF0ZVVzZXIubGFiZWwubGFzdE5hbWVcIlxuICAgICAgICAgIG1heExlbmd0aD1cIjI1NlwiXG4gICAgICAgID48L2JiLWlucHV0LXRleHQtdWk+XG4gICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWkgW3Nob3dFcnJvcnNdPVwiIWlzRmllbGRWYWxpZCgnbGFzdE5hbWUnKVwiPlxuICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgZGF0YS1yb2xlPVwidXNlci1kZXRhaWxzLWxhc3QtbmFtZS12YWxpZGF0aW9uLW1zZ1wiXG4gICAgICAgICAgICBpMThuPVwidXNlciBjcmVhdGlvbiBsYXN0IG5hbWUgcmVxdWlyZWQgZXJyb3IgbWVzc2FnZUBAYXV0aG9yaXplZC51c2Vycy5jcmVhdGVVc2VyLmVycm9yTWVzc2FnZS5yZXF1aXJlZC5sYXN0TmFtZVwiPlxuICAgICAgICAgICAgTGFzdCBuYW1lIGlzIHJlcXVpcmVkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2JiLWlucHV0LXZhbGlkYXRpb24tbWVzc2FnZS11aT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxuZy1jb250YWluZXIgZm9ybUdyb3VwTmFtZT1cImVtYWlsR3JvdXBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtc20tNiBmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGJiLWlucHV0LWVtYWlsLXVpXG4gICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJlbWFpbFwiXG4gICAgICAgICAgICBkYXRhLXJvbGU9XCJ1c2VyLWRldGFpbHMtZW1haWxcIlxuICAgICAgICAgICAgbGFiZWw9XCJFbWFpbFwiXG4gICAgICAgICAgICBpMThuLWxhYmVsPVwidXNlciBjcmVhdGlvbiBkZXRhaWxzIGVtYWlsQEBhdXRob3JpemVkLnVzZXJzLmNyZWF0ZVVzZXIubGFiZWwuZW1haWxcIlxuICAgICAgICAgICAgcmVxdWlyZWQ9XCJ0cnVlXCJcbiAgICAgICAgICA+PC9iYi1pbnB1dC1lbWFpbC11aT5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXNGaWVsZFZhbGlkKCdlbWFpbCcsICdlbWFpbEdyb3VwJylcIj5cbiAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICBjbGFzcz1cImJiLXRleHQtc3VwcG9ydCB0ZXh0LXNtYWxsXCIgXG4gICAgICAgICAgICAgIGkxOG49XCJ1c2VyIGNyZWF0aW9uIGNvbmZpcm1hdGlvbiBzdXBwb3J0IHRleHRAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5pbmZvLmVtYWlsQ29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFdlIHdpbGwgc2VuZCBhIGNvbmZpcm1hdGlvbiB0byB0aGVpciBlbWFpbCBhZGRyZXNzLlxuICAgICAgICAgICAgPC9zcGFuPiBcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFpc0ZpZWxkVmFsaWQoJ2VtYWlsJywgJ2VtYWlsR3JvdXAnKVwiIGRhdGEtcm9sZT1cInVzZXItZGV0YWlscy1lbWFpbC12YWxpZGF0aW9uLW1zZ1wiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgZXJyb3Igb2YgZm9ybUdldHRlcignZW1haWwnLCAnZW1haWxHcm91cCcpPy5lcnJvcnMgfCBrZXl2YWx1ZTsgZmlyc3QgYXMgZmlyc3RcIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZmlyc3RcIiBbbmdTd2l0Y2hdPVwiZXJyb3Iua2V5XCI+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ3JlcXVpcmVkJ1wiXG4gICAgICAgICAgICAgICAgICAgIGkxOG49XCJ1c2VyIGNyZWF0aW9uIGVtYWlsIHJlcXVpcmVkIGVycm9yIG1lc3NhZ2VAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5lcnJvck1lc3NhZ2UucmVxdWlyZWQuZW1haWxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBFbWFpbCBhZGRyZXNzIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ2VtYWlsJ1wiXG4gICAgICAgICAgICAgICAgICAgIGkxOG49XCJpbnZhbGlkIGVtYWlsIGZvcm1hdEBAYXV0aG9yaXplZC51c2Vycy5jcmVhdGVVc2VyLmVycm9yTWVzc2FnZS5mb3JtYXQuY29uZmlybWF0aW9uRW1haWxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgSW52YWxpZCBlbWFpbCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLXNtLTYgZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDxiYi1pbnB1dC1lbWFpbC11aVxuICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiY29uZmlybWF0aW9uRW1haWxcIlxuICAgICAgICAgICAgZGF0YS1yb2xlPVwidXNlci1kZXRhaWxzLWNvbmZpcm1hdGlvbi1lbWFpbFwiXG4gICAgICAgICAgICBsYWJlbD1cIkNvbmZpcm0gRW1haWxcIlxuICAgICAgICAgICAgaTE4bi1sYWJlbD1cInVzZXIgY3JlYXRpb24gZGV0YWlscyBjb25maXJtIGVtYWlsQEBhdXRob3JpemVkLnVzZXJzLmNyZWF0ZVVzZXIubGFiZWwuY29uZmlybWF0aW9uRW1haWxcIlxuICAgICAgICAgICAgcmVxdWlyZWQ9XCJ0cnVlXCJcbiAgICAgICAgICA+PC9iYi1pbnB1dC1lbWFpbC11aT5cbiAgICAgICAgICA8YmItaW5wdXQtdmFsaWRhdGlvbi1tZXNzYWdlLXVpIFtzaG93RXJyb3JzXT1cIiFpc0ZpZWxkVmFsaWQoJ2NvbmZpcm1hdGlvbkVtYWlsJywgJ2VtYWlsR3JvdXAnKVwiIGRhdGEtcm9sZT1cInVzZXItZGV0YWlscy1jb25maXJtYXRpb24tZW1haWwtdmFsaWRhdGlvbi1tc2dcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGVycm9yIG9mIGZvcm1HZXR0ZXIoJ2NvbmZpcm1hdGlvbkVtYWlsJywgJ2VtYWlsR3JvdXAnKT8uZXJyb3JzIHwga2V5dmFsdWU7IGZpcnN0IGFzIGZpcnN0XCI+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJmaXJzdFwiIFtuZ1N3aXRjaF09XCJlcnJvci5rZXlcIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgKm5nU3dpdGNoQ2FzZT1cIidyZXF1aXJlZCdcIlxuICAgICAgICAgICAgICAgICAgaTE4bj1cImNvbmZpcm0gZW1haWwgYWRkcmVzcyBpcyByZXF1aXJlZEBAYXV0aG9yaXplZC51c2Vycy5jcmVhdGVVc2VyLmVycm9yTWVzc2FnZS5yZXF1aXJlZC5jb25maXJtYXRpb25FbWFpbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ29uZmlybSBlbWFpbCBhZGRyZXNzIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ2VtYWlsJ1wiXG4gICAgICAgICAgICAgICAgICBpMThuPVwiaW52YWxpZCBlbWFpbCBmb3JtYXRAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5lcnJvck1lc3NhZ2UuZm9ybWF0LmNvbmZpcm1hdGlvbkVtYWlsXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgSW52YWxpZCBlbWFpbCBmb3JtYXRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCIndmFsaWRhdGVNYWlsQ29uZmlybWF0aW9uJ1wiXG4gICAgICAgICAgICAgICAgICBpMThuPVwiZW1haWwgYWRkcmVzc2VzIGRvIG5vdCBtYXRjaEBAYXV0aG9yaXplZC51c2Vycy5jcmVhdGVVc2VyLmVycm9yTWVzc2FnZS5tYXRjaC5jb25maXJtYXRpb25FbWFpbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEVtYWlsIGFkZHJlc3NlcyBkbyBub3QgbWF0Y2hcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG5cbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1zbS02IGZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGJiLWlucHV0LXBob25lLXVpXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibW9iaWxlTnVtYmVyXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJ1c2VyLWRldGFpbHMtcGhvbmUtbnVtYmVyXCJcbiAgICAgICAgICBsYWJlbD1cIlBob25lIE51bWJlclwiXG4gICAgICAgICAgaTE4bi1sYWJlbD1cInVzZXIgY3JlYXRpb24gZGV0YWlscyBwaG9uZSBudW1iZXJAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5sYWJlbC5waG9uZU51bWJlclwiXG4gICAgICAgICAgcmVxdWlyZWQ9XCJ0cnVlXCJcbiAgICAgICAgPjwvYmItaW5wdXQtcGhvbmUtdWk+XG4gICAgICAgIDxiYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWkgW3Nob3dFcnJvcnNdPVwiIWlzRmllbGRWYWxpZCgnbW9iaWxlTnVtYmVyJylcIj5cbiAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInVzZXItZGV0YWlscy1waG9uZS1udW1iZXItdmFsaWRhdGlvbi1tc2dcIlxuICAgICAgICAgICAgaTE4bj1cInVzZXIgY3JlYXRpb24gcGhvbmUgbnVtYmVyIHJlcXVpcmVkIGVycm9yIG1lc3NhZ2VAQGF1dGhvcml6ZWQudXNlcnMuY3JlYXRlVXNlci5lcnJvck1lc3NhZ2UucmVxdWlyZWQucGhvbmVOdW1iZXJcIj5cbiAgICAgICAgICAgIFBob25lIG51bWJlciBpcyByZXF1aXJlZFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9iYi1pbnB1dC12YWxpZGF0aW9uLW1lc3NhZ2UtdWk+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImJiLWJ1dHRvbi1iYXJcIj4gICAgXG4gICAgPGJ1dHRvbiBcbiAgICAgIGJiQnV0dG9uIFxuICAgICAgZGF0YS1yb2xlPVwidXNlci1kZXRhaWxzLWNvbnRpbnVlLWJ1dHRvblwiXG4gICAgICBpMThuPVwiQ29udGludWUgYnV0dG9uIHRleHRAQGF1dGhvcml6ZWQtdXNlcnMuY3JlYXRlLmRldGFpbHMuY29udGludWUuYnV0dG9uXCJcbiAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCIgXG4gICAgICB0eXBlPVwic3VibWl0XCJcbiAgICA+Q29udGludWU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFxuICAgICAgYmJCdXR0b24gXG4gICAgICBkYXRhLXJvbGU9XCJ1c2VyLWRldGFpbHMtY2FuY2VsLWJ1dHRvblwiXG4gICAgICBjb2xvcj1cImxpbmtcIlxuICAgICAgY2xhc3M9XCJiYi1idXR0b24tYmFyX19idXR0b24gYmItYnV0dG9uLWJhcl9fYnV0dG9uLS1hY3Jvc3NcIlxuICAgICAgaTE4bj1cIkNhbmNlbCBidXR0b24gdGV4dEBAYXV0aG9yaXplZC11c2Vycy5jcmVhdGUuZGV0YWlscy5jYW5jZWwuYnV0dG9uXCJcbiAgICAgIChjbGljayk9XCJhYm9ydCgpXCJcbiAgICA+Q2FuY2VsPC9idXR0b24+XG4gIDwvZGl2PlxuPC9mb3JtPlxuIl19