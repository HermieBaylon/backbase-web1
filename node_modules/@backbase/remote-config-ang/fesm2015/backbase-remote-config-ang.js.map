{"version":3,"file":"backbase-remote-config-ang.js","sources":["../../../../packages/remote-config-ang/src/angular/remote-config-fetcher.service.ts","../../../../packages/remote-config-ang/src/core/parser/parse-result.ts","../../../../packages/remote-config-ang/src/core/type-extractor/extracted-value-types.ts","../../../../packages/remote-config-ang/src/core/utils/is.ts","../../../../packages/remote-config-ang/src/core/parser/value-parser.ts","../../../../packages/remote-config-ang/src/core/type-extractor/type-extractor.ts","../../../../packages/remote-config-ang/src/core/utils/has-property.ts","../../../../packages/remote-config-ang/src/core/utils/trim.ts","../../../../packages/remote-config-ang/src/core/remote-config.ts","../../../../packages/remote-config-ang/src/angular/remote-config.service.ts","../../../../packages/remote-config-ang/src/angular/remote-config.module.ts","../../../../packages/remote-config-ang/src/core/config-fetchers/abstract.ts","../../../../packages/remote-config-ang/src/backbase-remote-config-ang.ts"],"names":[],"mappings":"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","sourcesContent":["import { ConfigFetcher } from '../core/config-fetchers/abstract';\nimport { RemoteConfigParameters, RemoteConfigRequestParameters } from '../core/remote-config.types';\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class RemoteConfigFetcherService<T extends RemoteConfigParameters> implements ConfigFetcher<T> {\n  constructor(private readonly http: HttpClient) {}\n\n  fetch(requestParameters: RemoteConfigRequestParameters): Promise<T> {\n    return this.http\n      .get<T>(requestParameters.url, {\n        headers: requestParameters.headers,\n      })\n      .toPromise();\n  }\n}\n","export class ParseSuccess<T> {\n  static create<T>(result: T) {\n    return new ParseSuccess(result);\n  }\n\n  constructor(readonly result: T) {}\n}\n\nexport class ParseFailure<R> {\n  static create<R>(reason: R) {\n    return new ParseFailure(reason);\n  }\n\n  constructor(readonly reason: R) {}\n}\n\nexport type ParseResult<T, R> = ParseSuccess<T> | ParseFailure<R>;\n","export enum ValueType {\n  Array = 'array',\n  Boolean = 'boolean',\n  Object = 'object',\n  Null = 'null',\n  Number = 'number',\n  String = 'string',\n}\n\nexport type PrimitiveValueType = ValueType.Boolean | ValueType.Null | ValueType.Number | ValueType.String;\n\nexport class ArrayValueTypeDescriptor {\n  readonly type = ValueType.Array;\n}\n\nexport class ObjectValueTypeDescriptor {\n  readonly type = ValueType.Object;\n\n  constructor(readonly properties: ObjectValueTypeDescriptorProperties) {}\n}\n\nexport class PrimitiveValueTypeDescriptor {\n  constructor(readonly type: PrimitiveValueType) {}\n}\n\nexport type ValueTypeDescriptor = ArrayValueTypeDescriptor | ObjectValueTypeDescriptor | PrimitiveValueTypeDescriptor;\n\nexport interface ObjectValueTypeDescriptorProperties {\n  [propertyName: string]: ValueTypeDescriptor;\n}\n","export const isArray = (arg: unknown): boolean => Array.isArray(arg);\n\nexport const isBoolean = (arg: unknown): boolean => typeof arg === 'boolean';\n\nexport const isNull = (arg: unknown): boolean => arg === null;\n\nexport const isNullOrUndefined = (arg: unknown): boolean => isNull(arg) || isUndefined(arg);\n\nexport const isNumber = (arg: unknown): boolean => typeof arg === 'number';\n\nexport const isString = (arg: unknown): boolean => typeof arg === 'string';\n\nexport const isObject = (arg: unknown): boolean =>\n  typeof arg === 'object' && arg !== null && Array.isArray(arg) === false;\n\nexport const isUndefined = (arg: unknown): boolean => typeof arg === 'undefined';\n","import {\n  ArrayValueTypeDescriptor,\n  ObjectValueTypeDescriptor,\n  PrimitiveValueTypeDescriptor,\n  ValueType,\n  ValueTypeDescriptor,\n} from '../type-extractor/extracted-value-types';\nimport { isArray, isBoolean, isNull, isNumber, isObject, isString } from '../utils/is';\nimport { ParseFailure, ParseResult, ParseSuccess } from './parse-result';\n\ninterface UnknownObject {\n  [property: string]: unknown;\n}\n\nexport enum ParseError {\n  TypeMismatch = 'TypeMismatch',\n  UnknownPropertyType = 'UnknownPropertyType',\n}\n\nexport class ValueParser {\n  parseAs<T>(rawValue: unknown, valueType: ValueTypeDescriptor): ParseResult<T, ParseError> {\n    if (valueType instanceof ArrayValueTypeDescriptor) {\n      return this.parseArray<T>(rawValue);\n    }\n\n    if (valueType instanceof ObjectValueTypeDescriptor) {\n      return this.parseObjectAs<T>(rawValue, valueType);\n    }\n\n    return this.parsePrimitiveAs<T>(rawValue, valueType);\n  }\n\n  private parseArray<T>(value: unknown): ParseResult<T, ParseError> {\n    return isArray(value) ? ParseSuccess.create(value as T) : ParseFailure.create(ParseError.TypeMismatch);\n  }\n\n  private parseObjectAs<T>(rawValue: unknown, valueType: ObjectValueTypeDescriptor): ParseResult<T, ParseError> {\n    if (!isObject(rawValue)) {\n      return ParseFailure.create(ParseError.TypeMismatch);\n    }\n\n    const objectRawValue = rawValue as UnknownObject;\n    const result = {} as UnknownObject;\n\n    for (const propertyName of Object.keys(valueType.properties)) {\n      const propertyValueType = valueType.properties[propertyName];\n      const propertyValueParseResult = this.parseAs<T>(objectRawValue[propertyName], propertyValueType);\n\n      if (propertyValueParseResult instanceof ParseFailure) {\n        return ParseFailure.create(propertyValueParseResult.reason);\n      }\n\n      result[propertyName] = propertyValueParseResult.result;\n    }\n\n    return ParseSuccess.create(result as unknown as T);\n  }\n\n  private parsePrimitiveAs<T>(value: unknown, valueType: PrimitiveValueTypeDescriptor): ParseResult<T, ParseError> {\n    if (valueType.type === ValueType.Boolean) {\n      return isBoolean(value) ? ParseSuccess.create(value as T) : ParseFailure.create(ParseError.TypeMismatch);\n    }\n\n    if (valueType.type === ValueType.Number) {\n      return isNumber(value) ? ParseSuccess.create(value as T) : ParseFailure.create(ParseError.TypeMismatch);\n    }\n\n    if (valueType.type === ValueType.Null) {\n      return isNull(value) ? ParseSuccess.create(value as T) : ParseFailure.create(ParseError.TypeMismatch);\n    }\n\n    return isString(value) ? ParseSuccess.create(value as T) : ParseFailure.create(ParseError.TypeMismatch);\n  }\n}\n","import { isArray, isBoolean, isNull, isNumber, isObject, isString, isUndefined } from '../utils/is';\nimport {\n  ArrayValueTypeDescriptor,\n  ObjectValueTypeDescriptor,\n  ObjectValueTypeDescriptorProperties,\n  PrimitiveValueTypeDescriptor,\n  ValueType,\n  ValueTypeDescriptor,\n} from './extracted-value-types';\n\nexport interface ObjectValue {\n  [property: string]: unknown;\n}\n\nexport class TypeExtractor {\n  private static throwInvalidSourceError(source: unknown) {\n    throw new TypeError(\n      '[remote-config] Could not extract the types: Expected to receive an object, ' + `but got ${typeof source}`,\n    );\n  }\n\n  private static extractObjectType(value: ObjectValue): ObjectValueTypeDescriptor {\n    const properties: ObjectValueTypeDescriptorProperties = {};\n\n    for (const propertyName of Object.keys(value)) {\n      const propertyValue = value[propertyName];\n      const propertyValueType = TypeExtractor.extractType(propertyValue);\n\n      if (propertyValueType) {\n        properties[propertyName] = propertyValueType;\n      }\n    }\n\n    return new ObjectValueTypeDescriptor(properties);\n  }\n\n  private static extractType(value: unknown): ValueTypeDescriptor | null {\n    if (isUndefined(value)) {\n      return null;\n    }\n\n    if (isArray(value)) {\n      return new ArrayValueTypeDescriptor();\n    }\n\n    if (isBoolean(value)) {\n      return new PrimitiveValueTypeDescriptor(ValueType.Boolean);\n    }\n\n    if (isNull(value)) {\n      return new PrimitiveValueTypeDescriptor(ValueType.Null);\n    }\n\n    if (isNumber(value)) {\n      return new PrimitiveValueTypeDescriptor(ValueType.Number);\n    }\n\n    if (isString(value)) {\n      return new PrimitiveValueTypeDescriptor(ValueType.String);\n    }\n\n    return TypeExtractor.extractObjectType(value as ObjectValue);\n  }\n\n  extractTypes(source: ObjectValue): ObjectValueTypeDescriptor {\n    if (!isObject(source)) {\n      TypeExtractor.throwInvalidSourceError(source);\n    }\n\n    return TypeExtractor.extractObjectType(source);\n  }\n}\n","const hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport const hasProperty = (obj: unknown, propertyName: string): boolean => hasOwnProperty.call(obj, propertyName);\n","export const trim = (str: string) => String(str || '').trim();\n","import { ConfigFetcher } from './config-fetchers/abstract';\nimport { ParseFailure, ParseResult, ParseSuccess } from './parser/parse-result';\nimport { ParseError, ValueParser } from './parser/value-parser';\nimport { RemoteConfigContext, RemoteConfigParameters } from './remote-config.types';\nimport { ObjectValueTypeDescriptor } from './type-extractor/extracted-value-types';\nimport { ObjectValue, TypeExtractor } from './type-extractor/type-extractor';\nimport { hasProperty } from './utils/has-property';\nimport { isNullOrUndefined, isUndefined } from './utils/is';\nimport { trim } from './utils/trim';\n\nconst valueParser = new ValueParser();\nconst typeExtractor = new TypeExtractor();\n\nexport class RemoteConfig<T extends RemoteConfigParameters> {\n  constructor(private readonly configFetcher: ConfigFetcher<T>, context: RemoteConfigContext, defaults: T) {\n    const normalizedContext = RemoteConfig.normalizeContext(context);\n\n    RemoteConfig.validateContext(normalizedContext);\n\n    this.context = normalizedContext;\n\n    this.defaultConfig = {\n      ...defaults,\n    };\n\n    this.extractedType = typeExtractor.extractTypes(defaults as ObjectValue);\n  }\n\n  private static normalizeTag(tag: string) {\n    return trim(tag);\n  }\n\n  private static normalizeContext(context: RemoteConfigContext): RemoteConfigContext {\n    const appName = trim(context.appName);\n    const appVersion = trim(context.appVersion);\n    const projectName = trim(context.projectName);\n    const serviceRoot = trim(context.serviceRoot).replace(/\\/$/, '');\n\n    return {\n      appName,\n      appVersion,\n      projectName,\n      serviceRoot,\n    };\n  }\n\n  private static validateContext(context: RemoteConfigContext): void {\n    if (context.appName.length === 0) {\n      throw new TypeError(\n        `[remote-config] Could not instantiate Remove Config client: ` + `The provided appName is empty.`,\n      );\n    }\n\n    if (context.appVersion.length === 0) {\n      throw new TypeError(\n        `[remote-config] Could not instantiate Remove Config client: ` + `The provided appVersion is empty.`,\n      );\n    }\n  }\n  private activatedConfig?: Partial<T>;\n\n  private fetchedConfig?: Partial<T>;\n\n  private readonly context: RemoteConfigContext;\n\n  private readonly defaultConfig: T;\n\n  private readonly extractedType: ObjectValueTypeDescriptor;\n\n  private readonly tags = new Set<string>();\n\n  activate(): void {\n    this.activatedConfig = Object.assign({}, this.fetchedConfig);\n  }\n\n  addCustomTag(tag: string): void {\n    const normalizedTag = RemoteConfig.normalizeTag(tag);\n\n    if (normalizedTag.length === 0) {\n      console.warn(`[remote-config] Could not add the tag: ` + `A tag must be a non-empty string.`);\n\n      return;\n    }\n\n    this.tags.add(normalizedTag);\n  }\n\n  removeCustomTag(tag: string): boolean {\n    const normalizedTag = RemoteConfig.normalizeTag(tag);\n\n    if (normalizedTag.length === 0) {\n      console.warn(`[remote-config] Could not delete the tag: ` + `A tag must be a non-empty string.`);\n\n      return false;\n    }\n\n    return this.tags.delete(normalizedTag);\n  }\n\n  clearCustomTags() {\n    this.tags.clear();\n  }\n\n  async fetch(): Promise<void> {\n    const projectName = this.context.projectName;\n    const serviceRoot = this.context.serviceRoot;\n\n    const url = `${serviceRoot}/client-api/v1/projects/${projectName}/parameters`;\n\n    const headers = {\n      'Application-Name': this.context.appName,\n      'Application-Version': this.context.appVersion,\n      'Custom-Tags': Array.from(this.tags).join(','),\n    };\n\n    try {\n      this.fetchedConfig = await this.configFetcher.fetch({\n        headers,\n        url,\n      });\n    } catch (error) {\n      console.warn(`[remote-config] Could not fetch the remote config:`, error);\n    }\n  }\n\n  async fetchAndActivate(): Promise<void> {\n    await this.fetch();\n    this.activate();\n  }\n\n  getValue<K extends keyof T & string>(parameterName: K): T[K] | null {\n    const remoteValue = this.getRemoteValue(parameterName);\n\n    if (remoteValue instanceof ParseSuccess) {\n      return remoteValue.result;\n    }\n\n    if (remoteValue instanceof ParseFailure) {\n      console.warn(\n        `[remote-config] Failed to parse the remote value ` +\n          `of the parameter \"${parameterName}\". ` +\n          `Reason: ${remoteValue.reason}`,\n      );\n    }\n\n    return this.getDefaultValue(parameterName);\n  }\n\n  private getDefaultValue<K extends keyof T & string>(parameterName: K): T[K] | null {\n    if (hasProperty(this.defaultConfig, parameterName)) {\n      const defaultValue = this.defaultConfig[parameterName];\n\n      return isNullOrUndefined(defaultValue) ? null : defaultValue;\n    }\n\n    console.warn(\n      `[remote-config] Could not get a default value. ` +\n        `The parameter '${parameterName}' is not present in the default config.`,\n    );\n\n    return null;\n  }\n\n  private getRawRemoteValue<K extends keyof T & string>(parameterName: K): unknown | undefined {\n    if (this.activatedConfig && hasProperty(this.activatedConfig, parameterName)) {\n      return this.activatedConfig[parameterName];\n    }\n\n    return undefined;\n  }\n\n  private getRemoteValue<K extends keyof T & string>(parameterName: K): ParseResult<T[K], ParseError> | null {\n    const rawRemoteValue = this.getRawRemoteValue(parameterName);\n\n    return !isUndefined(rawRemoteValue) ? this.parseRemoteValue(rawRemoteValue, parameterName) : null;\n  }\n\n  private parseRemoteValue<K extends keyof T & string>(\n    rawRemoteValue: unknown,\n    parameterName: K,\n  ): ParseResult<T[K], ParseError> {\n    const valueType = this.extractedType.properties[parameterName];\n\n    if (!valueType) {\n      return ParseFailure.create(ParseError.UnknownPropertyType);\n    }\n\n    return valueParser.parseAs<T[K]>(rawRemoteValue, valueType);\n  }\n}\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\nimport { RemoteConfig } from '../core/remote-config';\nimport { RemoteConfigParameters } from '../core/remote-config.types';\nimport { RemoteConfigFetcherService } from './remote-config-fetcher.service';\nimport { RemoteConfigConfiguration } from './remote-config.types';\n\nexport const RemoteConfigConfigurationToken = new InjectionToken<RemoteConfigConfiguration<any>>(\n  '@backbase/remote-config-ang: RemoteConfigConfigurationToken',\n);\n\n@Injectable()\nexport class RemoteConfigService<T extends RemoteConfigParameters> {\n  private readonly remoteConfigClient: RemoteConfig<T>;\n\n  private readonly disabled: boolean;\n\n  constructor(\n    @Inject(RemoteConfigConfigurationToken) private readonly configuration: RemoteConfigConfiguration<T>,\n    private readonly configFetcher: RemoteConfigFetcherService<T>,\n  ) {\n    this.remoteConfigClient = new RemoteConfig<T>(\n      this.configFetcher,\n      {\n        appName: configuration.appName,\n        appVersion: configuration.appVersion,\n        projectName: configuration.projectName,\n        serviceRoot: configuration.serviceRoot,\n      },\n      configuration.defaults,\n    );\n\n    this.disabled = Boolean(configuration.disabled);\n  }\n\n  addCustomTag(tag: string): void {\n    this.remoteConfigClient.addCustomTag(tag);\n  }\n\n  clearCustomTags(): void {\n    this.remoteConfigClient.clearCustomTags();\n  }\n\n  getValue<K extends keyof T & string>(parameterName: K): T[K] {\n    return this.remoteConfigClient.getValue(parameterName) as T[K];\n  }\n\n  fetchAndActivate(): Promise<void> {\n    if (this.disabled) {\n      return Promise.resolve();\n    }\n\n    return this.remoteConfigClient.fetchAndActivate();\n  }\n\n  removeCustomTag(tag: string): boolean {\n    return this.remoteConfigClient.removeCustomTag(tag);\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RemoteConfigFetcherService } from './remote-config-fetcher.service';\nimport { RemoteConfigConfigurationToken, RemoteConfigService } from './remote-config.service';\nimport { RemoteConfigConfiguration } from './remote-config.types';\n\n@NgModule({\n  imports: [],\n  declarations: [],\n  providers: [RemoteConfigFetcherService, RemoteConfigService],\n  exports: [],\n})\nexport class RemoteConfigModule {\n  static forRoot<T>(configuration: RemoteConfigConfiguration<T>): ModuleWithProviders<RemoteConfigModule> {\n    return {\n      ngModule: RemoteConfigModule,\n      providers: [\n        {\n          provide: RemoteConfigConfigurationToken,\n          useValue: configuration,\n        },\n      ],\n    };\n  }\n}\n","import { RemoteConfigParameters } from '../remote-config.types';\n\nexport interface RemoteConfigRequestParameters {\n  headers: {\n    'Application-Name': string;\n    'Application-Version': string;\n    'Custom-Tags': string;\n  };\n  url: string;\n}\n\nexport abstract class ConfigFetcher<T extends RemoteConfigParameters> {\n  abstract fetch(requestParameters: RemoteConfigRequestParameters): Promise<Partial<T>>;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {RemoteConfigFetcherService as ɵb} from './angular/remote-config-fetcher.service';\nexport {RemoteConfigContext as ɵa} from './core/remote-config.types';\nexport {trim as ɵc} from './core/utils/trim';"]}