{"version":3,"file":"backbase-consent-journey-ang.js","sources":["../../../../libs/consent-journey/src/consent-journey.component.ts","../../../../libs/consent-journey/src/services/consent-journey-config.service.ts","../../../../libs/consent-journey/src/views/payment-request/payment-request.component.ts","../../../../libs/consent-journey/src/views/payment-consent-redirect/payment-consent-redirect.component.ts","../../../../libs/consent-journey/src/views/payment-consent-redirect/payment-consent-redirect.component.html","../../../../libs/consent-journey/src/views/tpp-consent-redirect/tpp-consent-redirect.component.ts","../../../../libs/consent-journey/src/views/tpp-consent-redirect/tpp-consent-redirect.component.html","../../../../libs/consent-journey/src/views/consent-request/consent-request.component.ts","../../../../libs/consent-journey/src/views/consents/consents.component.ts","../../../../libs/consent-journey/src/views/consents/consent-detail/consent-detail.component.ts","../../../../libs/consent-journey/src/views/consents/consent-list/consent-list.component.ts","../../../../libs/consent-journey/src/consent-journey.routes.ts","../../../../libs/consent-journey/src/consent-journey.module.ts","../../../../libs/consent-journey/backbase-consent-journey-ang.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Route } from '@angular/router';\nimport { Tab } from './models/tab';\n\n@Component({\n  selector: 'bb-consent-journey',\n  template: `\n    <div class=\"bb-tab\">\n      <div class=\"bb-tab-container__tabs nav nav-tabs\">\n        <a\n          *ngFor=\"let tab of tabs\"\n          class=\"nav-link nav-item\"\n          role=\"tab\"\n          [routerLink]=\"[tab.route]\"\n          routerLinkActive=\"active\">\n          <span class=\"bb-stack__item bb-stack__item--spacing-xs\">{{ tab?.title }}</span>\n        </a>\n      </div>\n      <div class=\"bb-tab-container__content tab-content\" role=\"tabpanel\">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n  `,\n})\nexport class ConsentJourneyComponent {\n  public tabs: Tab[];\n\n  constructor(private readonly route: ActivatedRoute) {\n    const { routeConfig } = this.route.snapshot;\n    this.tabs = routeConfig?.children ? this.initializeTabs(routeConfig) : [];\n  }\n\n  private initializeTabs({ children = [] }: Route) {\n    return children\n      .filter(routeItem => routeItem.path && routeItem.data)\n      .map((routeItem, index) => ({\n        title: routeItem.data?.title() || `Tab${index + 1}`,\n        route: routeItem.path || `${index + 1}`,\n      }));\n  }\n}\n","import { Injectable, Optional, Inject, InjectionToken } from '@angular/core';\nimport { ConsentJourneyConfiguration } from '../models/consent-configuration';\n\nexport const ConsentJourneyConfigurationToken = new InjectionToken<ConsentJourneyConfiguration>(\n  'ConsentJourneyConfigurationToken injection token',\n);\n\nexport const consentDefaultConfig: ConsentJourneyConfiguration = {\n  multiAccountSelection: false,\n};\n\n@Injectable()\nexport class ConsentJourneyConfigurationService {\n  private _config: ConsentJourneyConfiguration;\n\n  constructor(\n    @Optional()\n    @Inject(ConsentJourneyConfigurationToken)\n    private readonly config: ConsentJourneyConfiguration,\n  ) {\n    this.config = this.config || {};\n    this._config = { ...consentDefaultConfig, ...config };\n  }\n\n  get multiAccountSelection(): boolean {\n    return this._config.multiAccountSelection;\n  }\n}\n","import { Component, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConsentJourneyConfigurationService } from '../../services/consent-journey-config.service';\n\n@Component({\n  selector: 'bb-payment-request-view',\n  template: `\n    <div class=\"container--fixed-width-small mx-auto\">\n      <div class=\"bb-card\">\n        <div class=\"bb-card__body\">\n          <div class=\"mb-5 d-flex justify-content-center\">\n            <button\n              bbButton\n              (click)=\"requestPayment()\"\n              i18n=\"Simulate Payment Request@@consent-journey.label.simulate-payment-request\">\n              Pay with Backbase\n            </button>\n          </div>\n          <bb-payment-request-widget\n            (allowPaymentRequestRedirectUrl)=\"handleAllowRequest($event)\"\n            (rejectPaymentRequestRedirectUrl)=\"handleRejectRequest($event)\"></bb-payment-request-widget>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class PaymentRequestComponent implements OnDestroy {\n  private readonly destroy$ = new Subject<void>();\n\n  constructor(\n    readonly config: ConsentJourneyConfigurationService,\n    private router: Router,\n    private activeRoute: ActivatedRoute,\n  ) {}\n\n  requestPayment() {\n    this.router.navigate([], {\n      queryParams: {\n        paymentRequestId: '1231313',\n      },\n      skipLocationChange: false,\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  handleAllowRequest(event: string) {\n    this.router.navigate(['../payment-redirect', { allowPaymentRequestRedirectUrl: event }], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  handleRejectRequest(event: string) {\n    this.router.navigate(['../payment-redirect', { rejectPaymentRequestRedirectUrl: event }], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Observable, combineLatest } from 'rxjs';\nimport { map, pluck } from 'rxjs/operators';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\n\nexport enum Status {\n  ALLOW,\n  REJECT,\n  ERROR,\n}\n\nexport interface RedirectStatus {\n  url: string;\n  status: Status;\n}\n\n@Component({\n  selector: 'bb-payment-consent-redirect',\n  templateUrl: './payment-consent-redirect.component.html',\n})\nexport class PaymentConsentRedirectComponent implements OnInit {\n  PAYMENT_REDIRECT_TIMEOUT = 5000;\n  Status = Status;\n\n  readonly allowPaymentRequestRedirectUrl: Observable<string> = this.getRouteParam(\n    this.route,\n    'allowPaymentRequestRedirectUrl',\n  ).pipe(map(allowPaymentRequestRedirectUrl => allowPaymentRequestRedirectUrl || ''));\n\n  readonly rejectPaymentRequestRedirectUrl: Observable<string> = this.getRouteParam(\n    this.route,\n    'rejectPaymentRequestRedirectUrl',\n  ).pipe(map(rejectPaymentRequestRedirectUrl => rejectPaymentRequestRedirectUrl || ''));\n\n  readonly redirectStatus: Observable<RedirectStatus> = combineLatest(\n    this.allowPaymentRequestRedirectUrl,\n    this.rejectPaymentRequestRedirectUrl,\n  ).pipe(\n    map(([allowUrl, rejectUrl]: [string, string]) => ({\n      url: allowUrl ? allowUrl : rejectUrl ? rejectUrl : '',\n      status: allowUrl ? Status.ALLOW : rejectUrl ? Status.REJECT : Status.ERROR,\n    })),\n  );\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // ensure that level that has actual value keeps it from being cleared\n    return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(\n      map(params => params[0] || params[1]),\n    );\n  }\n\n  constructor(private route: ActivatedRoute) {}\n\n  redirect() {\n    this.redirectStatus.subscribe((redirectStatus: RedirectStatus) => {\n      if (redirectStatus.status !== Status.ERROR) {\n        window.location.href = redirectStatus.url;\n      }\n    });\n  }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.redirect();\n    }, this.PAYMENT_REDIRECT_TIMEOUT);\n  }\n}\n","<div class=\"container--fixed-width-small mx-auto\">\n  <div class=\"bb-card\">\n    <div class=\"bb-card__body\">\n      <div\n        *ngIf=\"redirectStatus | async as redirectStatus; else errorTemplate\"\n        class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n        <ng-container *ngIf=\"redirectStatus.status !== Status.ERROR; else errorTemplate\">\n          <bb-icon-ui name=\"success\" color=\"success\" size=\"xl\" class=\"d-inline mb-3\"></bb-icon-ui>\n          <h4\n            i18n=\"Payment status@@consent-journey.label.payment-status-allowed\"\n            *ngIf=\"redirectStatus.status === Status.ALLOW\"\n            data-role=\"payment-status-allowed\">\n            Payment accepted!\n          </h4>\n          <h4\n            i18n=\"Payment status@@consent-journey.label.payment-status-rejected\"\n            *ngIf=\"redirectStatus.status === Status.REJECT\"\n            data-role=\"payment-status-rejected\">\n            Payment rejected!\n          </h4>\n          <div class=\"mb-4\" i18n=\"Redirecting@@consent-journey.label.redirecting-to-tpp-website\">\n            Redirecting back to third party website...\n          </div>\n          <div class=\"mb-3\">\n            <bb-loading-indicator-ui></bb-loading-indicator-ui>\n          </div>\n        </ng-container>\n      </div>\n\n      <ng-template #errorTemplate>\n        <div class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n          <div i18n=\"No Redirect Url@@consent-journey.label.no-redirect-url\">No Redirect Url</div>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Observable, combineLatest } from 'rxjs';\nimport { map, pluck } from 'rxjs/operators';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\n\nexport enum Status {\n  ALLOW,\n  REJECT,\n  ERROR,\n}\n\nexport interface RedirectStatus {\n  url: string;\n  status: Status;\n}\n\n@Component({\n  selector: 'bb-tpp-consent-redirect',\n  templateUrl: './tpp-consent-redirect.component.html',\n})\nexport class TppConsentRedirectComponent implements OnInit {\n  CONSENT_REDIRECT_TIMEOUT = 5000;\n  Status = Status;\n\n  readonly allowConsentRequestRedirectUrl: Observable<string> = this.getRouteParam(\n    this.route,\n    'allowConsentRequestRedirectUrl',\n  ).pipe(map(allowConsentRequestRedirectUrl => allowConsentRequestRedirectUrl || ''));\n\n  readonly rejectConsentRequestRedirectUrl: Observable<string> = this.getRouteParam(\n    this.route,\n    'rejectConsentRequestRedirectUrl',\n  ).pipe(map(rejectConsentRequestRedirectUrl => rejectConsentRequestRedirectUrl || ''));\n\n  readonly redirectStatus: Observable<RedirectStatus> = combineLatest(\n    this.allowConsentRequestRedirectUrl,\n    this.rejectConsentRequestRedirectUrl,\n  ).pipe(\n    map(([allowUrl, rejectUrl]: [string, string]) => ({\n      url: allowUrl ? allowUrl : rejectUrl ? rejectUrl : '',\n      status: allowUrl ? Status.ALLOW : rejectUrl ? Status.REJECT : Status.ERROR,\n    })),\n  );\n\n  private getRouteParam(route: ActivatedRoute, param: string): Observable<string | null> {\n    const paramValue = route.paramMap.pipe(pluck<ParamMap, string | null>('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    }\n\n    // ensure that level that has actual value keeps it from being cleared\n    return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(\n      map(params => params[0] || params[1]),\n    );\n  }\n\n  constructor(private route: ActivatedRoute) {}\n\n  redirect() {\n    this.redirectStatus.subscribe((redirectStatus: RedirectStatus) => {\n      if (redirectStatus.status !== Status.ERROR) {\n        window.location.href = redirectStatus.url;\n      }\n    });\n  }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.redirect();\n    }, this.CONSENT_REDIRECT_TIMEOUT);\n  }\n}\n","<div class=\"container--fixed-width-small mx-auto\">\n  <div class=\"bb-card\">\n    <div class=\"bb-card__body\">\n      <div\n        *ngIf=\"redirectStatus | async as redirectStatus; else errorTemplate\"\n        class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n        <ng-container *ngIf=\"redirectStatus.status !== Status.ERROR; else errorTemplate\">\n          <bb-icon-ui name=\"success\" color=\"success\" size=\"xl\" class=\"d-inline mb-3\"></bb-icon-ui>\n          <h4\n            i18n=\"Consent status@@consent-journey.label.consent-status-allowed\"\n            *ngIf=\"redirectStatus.status === Status.ALLOW\"\n            data-role=\"consent-status-allowed\">\n            Consent granted!\n          </h4>\n          <h4\n            i18n=\"Consent status@@consent-journey.label.consent-status-rejected\"\n            *ngIf=\"redirectStatus.status === Status.REJECT\">\n            Consent rejected!\n          </h4>\n          <div class=\"mb-4\" i18n=\"Redirecting@@consent-journey.label.redirecting-to-tpp-website\">\n            Redirecting back to third party website...\n          </div>\n          <div class=\"mb-3\">\n            <bb-loading-indicator-ui></bb-loading-indicator-ui>\n          </div>\n        </ng-container>\n      </div>\n\n      <ng-template #errorTemplate>\n        <div class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n          <div i18n=\"No Redirect Url@@consent-journey.label.no-redirect-url\">No Redirect Url</div>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>\n","import { Component, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConsentJourneyConfigurationService } from '../../services/consent-journey-config.service';\n\n@Component({\n  selector: 'bb-consent-request-view',\n  template: `\n    <div class=\"container--fixed-width-small mx-auto\">\n      <div class=\"bb-card\">\n        <div class=\"bb-card__body\">\n          <div class=\"mb-5 d-flex justify-content-center\">\n            <button\n              bbButton\n              (click)=\"requestContext()\"\n              i18n=\"Simulate Consent Request@@consent-journey.label.simulate-consent-request\">\n              Simulate Consent Request\n            </button>\n          </div>\n          <bb-consent-request-widget\n            [multiAccountSelection]=\"config.multiAccountSelection\"\n            (allowConsentRequestRedirectUrl)=\"handleAllowRequest($event)\"\n            (rejectConsentRequestRedirectUrl)=\"handleRejectRequest($event)\"></bb-consent-request-widget>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class ConsentRequestComponent implements OnDestroy {\n  private readonly destroy$ = new Subject<void>();\n\n  constructor(\n    readonly config: ConsentJourneyConfigurationService,\n    private router: Router,\n    private activeRoute: ActivatedRoute,\n  ) {}\n\n  requestContext() {\n    this.router.navigate([], {\n      queryParams: {\n        consentRequestId: '1231313',\n      },\n      skipLocationChange: false,\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  handleAllowRequest(event: string) {\n    this.router.navigate(['../consent-redirect', { allowConsentRequestRedirectUrl: event }], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  handleRejectRequest(event: string) {\n    this.router.navigate(['../consent-redirect', { rejectConsentRequestRedirectUrl: event }], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bb-consents-view',\n  template: `<router-outlet></router-outlet>`,\n})\nexport class ConsentsComponent {}\n","import { Component, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConsentJourneyConfigurationService } from '../../../services/consent-journey-config.service';\n\n@Component({\n  selector: 'bb-consent-detail-view',\n  template: ` <div class=\"bb-card\">\n    <div class=\"bb-card__body\">\n      <div class=\"justify-content-start\" data-role=\"consent-heading\">\n        <button\n          data-role=\"consent-heading-button__navigation\"\n          (click)=\"handleBack()\"\n          class=\"btn btn-link bb-block bb-block--xl\">\n          <i aria-hidden=\"true\" class=\"bb-icon bb-icon-chevron-left\"></i>\n          <span i18n=\"Consent back button title@@consent-journey.detail.button.title\">Back to list</span>\n        </button>\n      </div>\n      <bb-consent-details-widget></bb-consent-details-widget>\n    </div>\n  </div>`,\n})\nexport class ConsentDetailComponent implements OnDestroy {\n  private readonly destroy$ = new Subject<void>();\n\n  constructor(\n    readonly config: ConsentJourneyConfigurationService,\n    private router: Router,\n    private activeRoute: ActivatedRoute,\n  ) {}\n\n  handleBack() {\n    this.router.navigate(['../list'], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n","import { Component, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConsentJourneyConfigurationService } from '../../../services/consent-journey-config.service';\n\n@Component({\n  selector: 'bb-consent-list-view',\n  template: ` <div class=\"bb-card\">\n    <div class=\"bb-card__body\">\n      <bb-consent-list-widget (consentId)=\"handleDetail($event)\"></bb-consent-list-widget>\n    </div>\n  </div>`,\n})\nexport class ConsentListComponent implements OnDestroy {\n  private readonly destroy$ = new Subject<void>();\n  consentId = '';\n\n  constructor(\n    readonly config: ConsentJourneyConfigurationService,\n    private router: Router,\n    private activeRoute: ActivatedRoute,\n  ) {}\n\n  handleDetail(event: string) {\n    this.consentId = event;\n    this.router.navigate(['../details', { consentId: event }], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n","import { Route } from '@angular/router';\nimport { ConsentJourneyComponent } from './consent-journey.component';\nimport { PaymentRequestComponent } from './views/payment-request/payment-request.component';\nimport { PaymentConsentRedirectComponent } from './views/payment-consent-redirect/payment-consent-redirect.component';\nimport { TppConsentRedirectComponent } from './views/tpp-consent-redirect/tpp-consent-redirect.component';\nimport { ConsentRequestComponent } from './views/consent-request/consent-request.component';\nimport { ConsentsComponent } from './views/consents/consents.component';\nimport { ConsentDetailComponent } from './views/consents/consent-detail/consent-detail.component';\nimport { ConsentListComponent } from './views/consents/consent-list/consent-list.component';\nimport '@angular/localize/init';\n\nexport const tabs = {\n  paymentRequest: () => $localize`:Payment request tab title@@consent-journey.tab.paymentRequest.title:Payment Request`,\n  consentRequest: () => $localize`:Consent request tab title@@consent-journey.tab.consentRequest.title:Consent Request`,\n  consents: () => $localize`:Consents tab title@@consent-journey.tab.consents.title:Consents`,\n};\n\nexport const consentRoutes: Route = {\n  path: '',\n  component: ConsentJourneyComponent,\n  children: [\n    {\n      path: '',\n      redirectTo: 'payment-request',\n      pathMatch: 'full',\n    },\n    {\n      path: 'payment-request',\n      component: PaymentRequestComponent,\n      data: { title: tabs.paymentRequest },\n    },\n    {\n      path: 'payment-redirect',\n      component: PaymentConsentRedirectComponent,\n    },\n    {\n      path: 'consent-redirect',\n      component: TppConsentRedirectComponent,\n    },\n    {\n      path: 'consent-request',\n      component: ConsentRequestComponent,\n      data: { title: tabs.consentRequest },\n    },\n    {\n      component: ConsentsComponent,\n      data: { title: tabs.consents },\n      path: 'consents',\n      children: [\n        {\n          path: '',\n          redirectTo: 'list',\n          pathMatch: 'full',\n        },\n        {\n          path: 'list',\n          component: ConsentListComponent,\n        },\n        {\n          path: 'details',\n          component: ConsentDetailComponent,\n        },\n      ],\n    },\n  ],\n};\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { provideRoutes, Route, RouterModule } from '@angular/router';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { EntitlementsModule } from '@backbase/foundation-ang/entitlements';\nimport { PaymentRequestWidgetModule } from '@backbase/payment-request-widget-ang';\nimport { ConsentRequestWidgetModule } from '@backbase/consent-request-widget-ang';\nimport { ConsentListWidgetModule } from '@backbase/consent-list-widget-ang';\nimport { ConsentDetailsWidgetModule } from '@backbase/consent-details-widget-ang';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport { ConsentJourneyComponent } from './consent-journey.component';\nimport { consentRoutes } from './consent-journey.routes';\nimport { ConsentJourneyConfigurationService } from './services/consent-journey-config.service';\n\nimport { PaymentRequestComponent } from './views/payment-request/payment-request.component';\nimport { PaymentConsentRedirectComponent } from './views/payment-consent-redirect/payment-consent-redirect.component';\nimport { TppConsentRedirectComponent } from './views/tpp-consent-redirect/tpp-consent-redirect.component';\nimport { ConsentRequestComponent } from './views/consent-request/consent-request.component';\nimport { ConsentsComponent } from './views/consents/consents.component';\nimport { ConsentDetailComponent } from './views/consents/consent-detail/consent-detail.component';\nimport { ConsentListComponent } from './views/consents/consent-list/consent-list.component';\n\nconst viewComponents = [\n  ConsentJourneyComponent,\n  PaymentRequestComponent,\n  PaymentConsentRedirectComponent,\n  TppConsentRedirectComponent,\n  ConsentRequestComponent,\n  ConsentsComponent,\n  ConsentDetailComponent,\n  ConsentListComponent,\n];\nconst uiModules = [\n  EntitlementsModule,\n  PaymentRequestWidgetModule,\n  ConsentRequestWidgetModule,\n  ConsentListWidgetModule,\n  ConsentDetailsWidgetModule,\n];\n@NgModule({\n  declarations: viewComponents,\n  imports: [\n    CommonModule,\n    RouterModule.forChild([consentRoutes]),\n    BackbaseCoreModule.withConfig({\n      classMap: { ConsentJourneyComponent: ConsentJourneyComponent },\n    }),\n    ...uiModules,\n    ButtonModule,\n  ],\n  providers: [ConsentJourneyConfigurationService],\n  exports: [...viewComponents, ...uiModules],\n})\nexport class ConsentJourneyModule {\n  static forRoot(\n    data: { route: Route; [key: string]: any } = { route: consentRoutes },\n  ): ModuleWithProviders<ConsentJourneyModule> {\n    return {\n      ngModule: ConsentJourneyModule,\n      providers: [provideRoutes([data.route])],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Status"],"mappings":"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"}