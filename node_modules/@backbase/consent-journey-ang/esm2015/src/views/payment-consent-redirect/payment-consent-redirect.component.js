import { Component } from '@angular/core';
import { combineLatest } from 'rxjs';
import { map, pluck } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@backbase/ui-ang/icon";
import * as i3 from "@backbase/ui-ang/loading-indicator";
import * as i4 from "@angular/common";
export var Status;
(function (Status) {
    Status[Status["ALLOW"] = 0] = "ALLOW";
    Status[Status["REJECT"] = 1] = "REJECT";
    Status[Status["ERROR"] = 2] = "ERROR";
})(Status || (Status = {}));
export class PaymentConsentRedirectComponent {
    constructor(route) {
        this.route = route;
        this.PAYMENT_REDIRECT_TIMEOUT = 5000;
        this.Status = Status;
        this.allowPaymentRequestRedirectUrl = this.getRouteParam(this.route, 'allowPaymentRequestRedirectUrl').pipe(map(allowPaymentRequestRedirectUrl => allowPaymentRequestRedirectUrl || ''));
        this.rejectPaymentRequestRedirectUrl = this.getRouteParam(this.route, 'rejectPaymentRequestRedirectUrl').pipe(map(rejectPaymentRequestRedirectUrl => rejectPaymentRequestRedirectUrl || ''));
        this.redirectStatus = combineLatest(this.allowPaymentRequestRedirectUrl, this.rejectPaymentRequestRedirectUrl).pipe(map(([allowUrl, rejectUrl]) => ({
            url: allowUrl ? allowUrl : rejectUrl ? rejectUrl : '',
            status: allowUrl ? Status.ALLOW : rejectUrl ? Status.REJECT : Status.ERROR,
        })));
    }
    getRouteParam(route, param) {
        const paramValue = route.paramMap.pipe(pluck('params', param));
        if (!route.parent) {
            return paramValue;
        }
        // ensure that level that has actual value keeps it from being cleared
        return combineLatest(paramValue, this.getRouteParam(route.parent, param)).pipe(map(params => params[0] || params[1]));
    }
    redirect() {
        this.redirectStatus.subscribe((redirectStatus) => {
            if (redirectStatus.status !== Status.ERROR) {
                window.location.href = redirectStatus.url;
            }
        });
    }
    ngOnInit() {
        setTimeout(() => {
            this.redirect();
        }, this.PAYMENT_REDIRECT_TIMEOUT);
    }
}
PaymentConsentRedirectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentConsentRedirectComponent, deps: [{ token: i1.ActivatedRoute }], target: i0.ɵɵFactoryTarget.Component });
PaymentConsentRedirectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.15", type: PaymentConsentRedirectComponent, selector: "bb-payment-consent-redirect", ngImport: i0, template: "<div class=\"container--fixed-width-small mx-auto\">\n  <div class=\"bb-card\">\n    <div class=\"bb-card__body\">\n      <div\n        *ngIf=\"redirectStatus | async as redirectStatus; else errorTemplate\"\n        class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n        <ng-container *ngIf=\"redirectStatus.status !== Status.ERROR; else errorTemplate\">\n          <bb-icon-ui name=\"success\" color=\"success\" size=\"xl\" class=\"d-inline mb-3\"></bb-icon-ui>\n          <h4\n            i18n=\"Payment status@@consent-journey.label.payment-status-allowed\"\n            *ngIf=\"redirectStatus.status === Status.ALLOW\"\n            data-role=\"payment-status-allowed\">\n            Payment accepted!\n          </h4>\n          <h4\n            i18n=\"Payment status@@consent-journey.label.payment-status-rejected\"\n            *ngIf=\"redirectStatus.status === Status.REJECT\"\n            data-role=\"payment-status-rejected\">\n            Payment rejected!\n          </h4>\n          <div class=\"mb-4\" i18n=\"Redirecting@@consent-journey.label.redirecting-to-tpp-website\">\n            Redirecting back to third party website...\n          </div>\n          <div class=\"mb-3\">\n            <bb-loading-indicator-ui></bb-loading-indicator-ui>\n          </div>\n        </ng-container>\n      </div>\n\n      <ng-template #errorTemplate>\n        <div class=\"mb-5 d-flex justify-content-center flex-column text-center\">\n          <div i18n=\"No Redirect Url@@consent-journey.label.no-redirect-url\">No Redirect Url</div>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>\n", components: [{ type: i2.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i3.LoadingIndicatorComponent, selector: "bb-loading-indicator-ui", inputs: ["text", "loaderSize", "showDelay", "hasBackground", "inline"] }], directives: [{ type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "async": i4.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.15", ngImport: i0, type: PaymentConsentRedirectComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-payment-consent-redirect',
                    templateUrl: './payment-consent-redirect.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jb25zZW50LXJlZGlyZWN0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29uc2VudC1qb3VybmV5L3NyYy92aWV3cy9wYXltZW50LWNvbnNlbnQtcmVkaXJlY3QvcGF5bWVudC1jb25zZW50LXJlZGlyZWN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29uc2VudC1qb3VybmV5L3NyYy92aWV3cy9wYXltZW50LWNvbnNlbnQtcmVkaXJlY3QvcGF5bWVudC1jb25zZW50LXJlZGlyZWN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFjLGFBQWEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNqRCxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7QUFHNUMsTUFBTSxDQUFOLElBQVksTUFJWDtBQUpELFdBQVksTUFBTTtJQUNoQixxQ0FBSyxDQUFBO0lBQ0wsdUNBQU0sQ0FBQTtJQUNOLHFDQUFLLENBQUE7QUFDUCxDQUFDLEVBSlcsTUFBTSxLQUFOLE1BQU0sUUFJakI7QUFXRCxNQUFNLE9BQU8sK0JBQStCO0lBcUMxQyxZQUFvQixLQUFxQjtRQUFyQixVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQXBDekMsNkJBQXdCLEdBQUcsSUFBSSxDQUFDO1FBQ2hDLFdBQU0sR0FBRyxNQUFNLENBQUM7UUFFUCxtQ0FBOEIsR0FBdUIsSUFBSSxDQUFDLGFBQWEsQ0FDOUUsSUFBSSxDQUFDLEtBQUssRUFDVixnQ0FBZ0MsQ0FDakMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLDhCQUE4QixDQUFDLEVBQUUsQ0FBQyw4QkFBOEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTNFLG9DQUErQixHQUF1QixJQUFJLENBQUMsYUFBYSxDQUMvRSxJQUFJLENBQUMsS0FBSyxFQUNWLGlDQUFpQyxDQUNsQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsRUFBRSxDQUFDLCtCQUErQixJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFN0UsbUJBQWMsR0FBK0IsYUFBYSxDQUNqRSxJQUFJLENBQUMsOEJBQThCLEVBQ25DLElBQUksQ0FBQywrQkFBK0IsQ0FDckMsQ0FBQyxJQUFJLENBQ0osR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDckQsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSztTQUMzRSxDQUFDLENBQUMsQ0FDSixDQUFDO0lBZTBDLENBQUM7SUFickMsYUFBYSxDQUFDLEtBQXFCLEVBQUUsS0FBYTtRQUN4RCxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQTBCLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRXhGLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2pCLE9BQU8sVUFBVSxDQUFDO1NBQ25CO1FBRUQsc0VBQXNFO1FBQ3RFLE9BQU8sYUFBYSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQzVFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDdEMsQ0FBQztJQUNKLENBQUM7SUFJRCxRQUFRO1FBQ04sSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxjQUE4QixFQUFFLEVBQUU7WUFDL0QsSUFBSSxjQUFjLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLLEVBQUU7Z0JBQzFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUM7YUFDM0M7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxRQUFRO1FBQ04sVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNsQixDQUFDLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDcEMsQ0FBQzs7NkhBbkRVLCtCQUErQjtpSEFBL0IsK0JBQStCLG1FQ3BCNUMsa21EQXFDQTs0RkRqQmEsK0JBQStCO2tCQUozQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSw2QkFBNkI7b0JBQ3ZDLFdBQVcsRUFBRSwyQ0FBMkM7aUJBQ3pEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgcGx1Y2sgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUGFyYW1NYXAgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5leHBvcnQgZW51bSBTdGF0dXMge1xuICBBTExPVyxcbiAgUkVKRUNULFxuICBFUlJPUixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWRpcmVjdFN0YXR1cyB7XG4gIHVybDogc3RyaW5nO1xuICBzdGF0dXM6IFN0YXR1cztcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItcGF5bWVudC1jb25zZW50LXJlZGlyZWN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BheW1lbnQtY29uc2VudC1yZWRpcmVjdC5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIFBheW1lbnRDb25zZW50UmVkaXJlY3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBQQVlNRU5UX1JFRElSRUNUX1RJTUVPVVQgPSA1MDAwO1xuICBTdGF0dXMgPSBTdGF0dXM7XG5cbiAgcmVhZG9ubHkgYWxsb3dQYXltZW50UmVxdWVzdFJlZGlyZWN0VXJsOiBPYnNlcnZhYmxlPHN0cmluZz4gPSB0aGlzLmdldFJvdXRlUGFyYW0oXG4gICAgdGhpcy5yb3V0ZSxcbiAgICAnYWxsb3dQYXltZW50UmVxdWVzdFJlZGlyZWN0VXJsJyxcbiAgKS5waXBlKG1hcChhbGxvd1BheW1lbnRSZXF1ZXN0UmVkaXJlY3RVcmwgPT4gYWxsb3dQYXltZW50UmVxdWVzdFJlZGlyZWN0VXJsIHx8ICcnKSk7XG5cbiAgcmVhZG9ubHkgcmVqZWN0UGF5bWVudFJlcXVlc3RSZWRpcmVjdFVybDogT2JzZXJ2YWJsZTxzdHJpbmc+ID0gdGhpcy5nZXRSb3V0ZVBhcmFtKFxuICAgIHRoaXMucm91dGUsXG4gICAgJ3JlamVjdFBheW1lbnRSZXF1ZXN0UmVkaXJlY3RVcmwnLFxuICApLnBpcGUobWFwKHJlamVjdFBheW1lbnRSZXF1ZXN0UmVkaXJlY3RVcmwgPT4gcmVqZWN0UGF5bWVudFJlcXVlc3RSZWRpcmVjdFVybCB8fCAnJykpO1xuXG4gIHJlYWRvbmx5IHJlZGlyZWN0U3RhdHVzOiBPYnNlcnZhYmxlPFJlZGlyZWN0U3RhdHVzPiA9IGNvbWJpbmVMYXRlc3QoXG4gICAgdGhpcy5hbGxvd1BheW1lbnRSZXF1ZXN0UmVkaXJlY3RVcmwsXG4gICAgdGhpcy5yZWplY3RQYXltZW50UmVxdWVzdFJlZGlyZWN0VXJsLFxuICApLnBpcGUoXG4gICAgbWFwKChbYWxsb3dVcmwsIHJlamVjdFVybF06IFtzdHJpbmcsIHN0cmluZ10pID0+ICh7XG4gICAgICB1cmw6IGFsbG93VXJsID8gYWxsb3dVcmwgOiByZWplY3RVcmwgPyByZWplY3RVcmwgOiAnJyxcbiAgICAgIHN0YXR1czogYWxsb3dVcmwgPyBTdGF0dXMuQUxMT1cgOiByZWplY3RVcmwgPyBTdGF0dXMuUkVKRUNUIDogU3RhdHVzLkVSUk9SLFxuICAgIH0pKSxcbiAgKTtcblxuICBwcml2YXRlIGdldFJvdXRlUGFyYW0ocm91dGU6IEFjdGl2YXRlZFJvdXRlLCBwYXJhbTogc3RyaW5nKTogT2JzZXJ2YWJsZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgY29uc3QgcGFyYW1WYWx1ZSA9IHJvdXRlLnBhcmFtTWFwLnBpcGUocGx1Y2s8UGFyYW1NYXAsIHN0cmluZyB8IG51bGw+KCdwYXJhbXMnLCBwYXJhbSkpO1xuXG4gICAgaWYgKCFyb3V0ZS5wYXJlbnQpIHtcbiAgICAgIHJldHVybiBwYXJhbVZhbHVlO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB0aGF0IGxldmVsIHRoYXQgaGFzIGFjdHVhbCB2YWx1ZSBrZWVwcyBpdCBmcm9tIGJlaW5nIGNsZWFyZWRcbiAgICByZXR1cm4gY29tYmluZUxhdGVzdChwYXJhbVZhbHVlLCB0aGlzLmdldFJvdXRlUGFyYW0ocm91dGUucGFyZW50LCBwYXJhbSkpLnBpcGUoXG4gICAgICBtYXAocGFyYW1zID0+IHBhcmFtc1swXSB8fCBwYXJhbXNbMV0pLFxuICAgICk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSkge31cblxuICByZWRpcmVjdCgpIHtcbiAgICB0aGlzLnJlZGlyZWN0U3RhdHVzLnN1YnNjcmliZSgocmVkaXJlY3RTdGF0dXM6IFJlZGlyZWN0U3RhdHVzKSA9PiB7XG4gICAgICBpZiAocmVkaXJlY3RTdGF0dXMuc3RhdHVzICE9PSBTdGF0dXMuRVJST1IpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdFN0YXR1cy51cmw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucmVkaXJlY3QoKTtcbiAgICB9LCB0aGlzLlBBWU1FTlRfUkVESVJFQ1RfVElNRU9VVCk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJjb250YWluZXItLWZpeGVkLXdpZHRoLXNtYWxsIG14LWF1dG9cIj5cbiAgPGRpdiBjbGFzcz1cImJiLWNhcmRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYmItY2FyZF9fYm9keVwiPlxuICAgICAgPGRpdlxuICAgICAgICAqbmdJZj1cInJlZGlyZWN0U3RhdHVzIHwgYXN5bmMgYXMgcmVkaXJlY3RTdGF0dXM7IGVsc2UgZXJyb3JUZW1wbGF0ZVwiXG4gICAgICAgIGNsYXNzPVwibWItNSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBmbGV4LWNvbHVtbiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicmVkaXJlY3RTdGF0dXMuc3RhdHVzICE9PSBTdGF0dXMuRVJST1I7IGVsc2UgZXJyb3JUZW1wbGF0ZVwiPlxuICAgICAgICAgIDxiYi1pY29uLXVpIG5hbWU9XCJzdWNjZXNzXCIgY29sb3I9XCJzdWNjZXNzXCIgc2l6ZT1cInhsXCIgY2xhc3M9XCJkLWlubGluZSBtYi0zXCI+PC9iYi1pY29uLXVpPlxuICAgICAgICAgIDxoNFxuICAgICAgICAgICAgaTE4bj1cIlBheW1lbnQgc3RhdHVzQEBjb25zZW50LWpvdXJuZXkubGFiZWwucGF5bWVudC1zdGF0dXMtYWxsb3dlZFwiXG4gICAgICAgICAgICAqbmdJZj1cInJlZGlyZWN0U3RhdHVzLnN0YXR1cyA9PT0gU3RhdHVzLkFMTE9XXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInBheW1lbnQtc3RhdHVzLWFsbG93ZWRcIj5cbiAgICAgICAgICAgIFBheW1lbnQgYWNjZXB0ZWQhXG4gICAgICAgICAgPC9oND5cbiAgICAgICAgICA8aDRcbiAgICAgICAgICAgIGkxOG49XCJQYXltZW50IHN0YXR1c0BAY29uc2VudC1qb3VybmV5LmxhYmVsLnBheW1lbnQtc3RhdHVzLXJlamVjdGVkXCJcbiAgICAgICAgICAgICpuZ0lmPVwicmVkaXJlY3RTdGF0dXMuc3RhdHVzID09PSBTdGF0dXMuUkVKRUNUXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cInBheW1lbnQtc3RhdHVzLXJlamVjdGVkXCI+XG4gICAgICAgICAgICBQYXltZW50IHJlamVjdGVkIVxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIiBpMThuPVwiUmVkaXJlY3RpbmdAQGNvbnNlbnQtam91cm5leS5sYWJlbC5yZWRpcmVjdGluZy10by10cHAtd2Vic2l0ZVwiPlxuICAgICAgICAgICAgUmVkaXJlY3RpbmcgYmFjayB0byB0aGlyZCBwYXJ0eSB3ZWJzaXRlLi4uXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cbiAgICAgICAgICAgIDxiYi1sb2FkaW5nLWluZGljYXRvci11aT48L2JiLWxvYWRpbmctaW5kaWNhdG9yLXVpPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8bmctdGVtcGxhdGUgI2Vycm9yVGVtcGxhdGU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYi01IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGZsZXgtY29sdW1uIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBpMThuPVwiTm8gUmVkaXJlY3QgVXJsQEBjb25zZW50LWpvdXJuZXkubGFiZWwubm8tcmVkaXJlY3QtdXJsXCI+Tm8gUmVkaXJlY3QgVXJsPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==