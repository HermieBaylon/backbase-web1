!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/common/http"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@backbase/actions-mocks-provider-ang",["exports","@angular/common/http","@angular/core","rxjs","rxjs/operators"],r):r(((e="undefined"!=typeof globalThis?globalThis:e||self).backbase=e.backbase||{},e.backbase["actions-mocks-provider-ang"]={}),e.ng.common.http,e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,r,t,o,n){"use strict";var a=new r.HttpErrorResponse({status:500,statusText:"Unhandled Exception"}),i={"1cdb2224-8926-4b4d-a99f-1c9dfbbb4692":a},s=function(){function e(){this.actionsGetErrorCode=parseInt(localStorage.getItem("actionsGetErrorCode")||"",10)}return e.prototype.intercept=function(e,t){var a=this;if("true"!==localStorage.getItem("enableMocks"))return t.handle(e);if(e.url.match(/\/action-recipes\/(?!batch).*$/)&&"PUT"===e.method){var s=new r.HttpResponse({status:202});return o.of(s).pipe(n.delay(500),n.tap((function(){return console.log("CUSTOM INTERCEPTOR:",e,s)})))}return e.url.match(/\/action-recipes\/batch$/)&&"PUT"===e.method?t.handle(e).pipe(n.map((function(t){var o,n,a,s;if(t instanceof r.HttpResponse){if(!e.body||!e.body.actionRecipes)return t;var c=e.body.actionRecipes[0];if(i[c.arrangementId]){var u=i[c.arrangementId];throw console.log("[ACTIONS INTERCEPTOR]",e,u),u}var d=t.clone({body:{actionRecipes:[Object.assign(Object.assign({id:Math.random().toString(16).slice(2)},c),{actions:(s=c.actions,["notification","email","sms"].map((function(e){return{type:e,enabled:-1!==s.findIndex((function(r){return r.type===e}))}}))),recurrence:{daysOfWeek:null===(o=null==c?void 0:c.recurrence)||void 0===o?void 0:o.daysOfWeek,hoursOfDay:null===(a=null===(n=null==c?void 0:c.recurrence)||void 0===n?void 0:n.hoursOfDay)||void 0===a?void 0:a.map((function(e){return Number(e)})).sort((function(e,r){return e-r}))}})]}});return console.log("[ACTIONS INTERCEPTOR]",e,d),d}return t}))):e.url.match(/\/action-recipes$/)&&"GET"===e.method?t.handle(e).pipe(n.map((function(t){if(a.actionsGetErrorCode){var o=new r.HttpErrorResponse({status:a.actionsGetErrorCode});throw console.log("[ACTIONS INTERCEPTOR]",e,o),o}return t}))):t.handle(e)},e}();s.decorators=[{type:t.Injectable}];var c={provide:r.HTTP_INTERCEPTORS,useClass:s,multi:!0};e.ActionsMocksProvider=c,e.Éµa=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=backbase-actions-mocks-provider-ang.umd.min.js.map