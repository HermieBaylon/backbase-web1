{"version":3,"file":"initiate-payment-journey.component.js","sourceRoot":"","sources":["../../../../../libs/initiate-payment-journey-ang/src/lib/initiate-payment-journey.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAa,QAAQ,EAAE,MAAM,eAAe,CAAC;AACvE,OAAO,EACL,iBAAiB,EACjB,oBAAoB,EACpB,YAAY,GAEb,MAAM,8BAA8B,CAAC;AACtC,OAAO,EAAE,gCAAgC,EAAE,MAAM,gDAAgD,CAAC;AAClG,OAAO,EAAE,mCAAmC,EAAE,MAAM,oDAAoD,CAAC;AACzG,OAAO,EACL,qCAAqC,GAEtC,MAAM,kCAAkC,CAAC;AAC1C,OAAO,EAAE,4BAA4B,EAAE,MAAM,4CAA4C,CAAC;AAC1F,OAAO,EAAE,+BAA+B,EAAE,MAAM,sCAAsC,CAAC;;;;AAgBvF,MAAM,OAAO,+BAA+B;IAC1C,YACmB,aAA2C,EAG3C,YAAwD;QAHxD,kBAAa,GAAb,aAAa,CAA8B;QAG3C,iBAAY,GAAZ,YAAY,CAA4C;QAEzE,IAAI,YAAY,EAAE;YAChB,YAAY,CAAC,IAAI,CAAC;gBAChB,SAAS,CAAC,IAAoC;oBAC5C,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC5B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,aAAa,CAAC,KAAK,EAAE,CAAC;SACvB;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;IAC5B,CAAC;;gJApBU,+BAA+B,8DAIhC,qCAAqC;oIAJpC,+BAA+B,sDAX/B;QACT,YAAY;QACZ,4BAA4B;QAC5B,+BAA+B;QAC/B,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,gCAAgC,EAAE;QAC1E;YACE,OAAO,EAAE,oBAAoB;YAC7B,QAAQ,EAAE,mCAAmC;SAC9C;KACF,0BAVS,kCAAkC;4FAYjC,+BAA+B;kBAd3C,SAAS;mBAAC;oBACT,QAAQ,EAAE,6BAA6B;oBACvC,QAAQ,EAAE,kCAAkC;oBAC5C,SAAS,EAAE;wBACT,YAAY;wBACZ,4BAA4B;wBAC5B,+BAA+B;wBAC/B,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,gCAAgC,EAAE;wBAC1E;4BACE,OAAO,EAAE,oBAAoB;4BAC7B,QAAQ,EAAE,mCAAmC;yBAC9C;qBACF;iBACF;;0BAII,QAAQ;;0BACR,MAAM;2BAAC,qCAAqC","sourcesContent":["import { Component, Inject, OnDestroy, Optional } from '@angular/core';\nimport {\n  NavigationService,\n  RoutableModalService,\n  StateService,\n  TriggerInitiatePaymentPayload,\n} from '@backbase/payment-orders-ang';\nimport { InitiatePaymentNavigationService } from './services/initiate-payment-navigation.service';\nimport { InitiatePaymentRoutableModalService } from './services/initiate-payment-routable-modal.service';\nimport {\n  INITIATE_PAYMENT_JOURNEY_COMMUNICATOR,\n  InitiatePaymentJourneyCommunicationService,\n} from './services/communication.service';\nimport { InitiatePaymentConfigService } from './services/initiate-payment-config.service';\nimport { CreatePaymentConfigSetupService } from '@backbase/payments-collection-ui-ang';\n\n@Component({\n  selector: 'bb-initiate-payment-journey',\n  template: ` <router-outlet></router-outlet>`,\n  providers: [\n    StateService,\n    InitiatePaymentConfigService,\n    CreatePaymentConfigSetupService,\n    { provide: NavigationService, useClass: InitiatePaymentNavigationService },\n    {\n      provide: RoutableModalService,\n      useClass: InitiatePaymentRoutableModalService,\n    },\n  ],\n})\nexport class InitiatePaymentJourneyComponent implements OnDestroy {\n  constructor(\n    private readonly configService: InitiatePaymentConfigService,\n    @Optional()\n    @Inject(INITIATE_PAYMENT_JOURNEY_COMMUNICATOR)\n    private readonly communicator: InitiatePaymentJourneyCommunicationService\n  ) {\n    if (communicator) {\n      communicator.init({\n        setupData(data?: TriggerInitiatePaymentPayload) {\n          configService.setup(data);\n        },\n      });\n    } else {\n      configService.setup();\n    }\n  }\n\n  ngOnDestroy() {\n    this.communicator.reset();\n  }\n}\n"]}