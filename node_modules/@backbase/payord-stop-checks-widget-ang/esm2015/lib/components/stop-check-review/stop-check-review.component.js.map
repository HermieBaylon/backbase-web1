{"version":3,"file":"stop-check-review.component.js","sourceRoot":"","sources":["../../../../../../../libs/payord-stop-checks-widget-ang/src/lib/components/stop-check-review/stop-check-review.component.ts","../../../../../../../libs/payord-stop-checks-widget-ang/src/lib/components/stop-check-review/stop-check-review.component.html"],"names":[],"mappings":"AAAA,OAAO,EACL,uBAAuB,EACvB,SAAS,EACT,SAAS,EACT,YAAY,EACZ,KAAK,EACL,MAAM,GACP,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;AAC3D,OAAO,EAAE,UAAU,EAAE,MAAM,MAAM,CAAC;;;;;;;;AASlC,MAAM,OAAO,wBAAwB;IALrC;QAMW,YAAO,GAA6B,IAAI,CAAC;QAClD,qBAAgB,GAAG,KAAK,CAAC;QACzB,wBAAmB,GAAG,KAAK,CAAC;QAC5B,cAAS,GAAG,KAAK,CAAC;QAiBlB;;WAEG;QACO,4BAAuB,GAAG,IAAI,YAAY,EAAQ,CAAC;QAE7D;;WAEG;QACO,6BAAwB,GAAG,IAAI,YAAY,EAAQ,CAAC;QAE9D;;WAEG;QACO,2BAAsB,GAAG,IAAI,YAAY,EAAQ,CAAC;KA6B7D;IA3BC;;OAEG;IACH,IAAa,cAAc,CAAC,CAAU;QACpC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACrB,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,CAAC;IACvC,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC;IACtC,CAAC;IAED,eAAe;QACb,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;IACrC,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC;IACjD,CAAC;IAED,SAAS;QACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;;yIA9DU,wBAAwB;6HAAxB,wBAAwB,mYClBrC,0mSAmTA,w3BD7Na,6CAA6C;4FApE7C,wBAAwB;kBALpC,SAAS;mBAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,WAAW,EAAE,oCAAoC;oBACjD,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;8BAUU,kBAAkB;sBAA1B,KAAK;gBAKG,OAAO;sBAAf,KAAK;gBAKG,sBAAsB;sBAA9B,KAAK;gBAKI,uBAAuB;sBAAhC,MAAM;gBAKG,wBAAwB;sBAAjC,MAAM;gBAKG,sBAAsB;sBAA/B,MAAM;gBAKM,cAAc;sBAA1B,KAAK;;AA6BR,MAAM,OAAO,6CAA8C,SAAQ,UAGlE;;8JAHY,6CAA6C;kJAA7C,6CAA6C;4FAA7C,6CAA6C;kBAHzD,SAAS;mBAAC;oBACT,QAAQ,EAAE,0CAA0C;iBACrD","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  EventEmitter,\n  Input,\n  Output,\n} from '@angular/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport { Observable } from 'rxjs';\n\nimport { InitialState } from '../../models/types';\n\n@Component({\n  selector: 'bb-stop-check-review',\n  templateUrl: './stop-check-review.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StopCheckReviewComponent {\n  readonly hostRef: StopCheckReviewComponent = this;\n  showConfirmation = false;\n  disableSubmitAction = false;\n  showAlert = false;\n\n  /**\n   * State of submitted stop check request\n   */\n  @Input() requestIsSubmitted!: Observable<boolean>;\n\n  /**\n   * Valid/Identified stop check request\n   */\n  @Input() request!: InitialState['requestInfo'];\n\n  /**\n   * State of submitted payment\n   */\n  @Input() stopRequestIsSubmitted!: boolean;\n\n  /**\n   * Event will be triggered on payment reset action\n   */\n  @Output() triggerStopRequestReset = new EventEmitter<void>();\n\n  /**\n   * Event will be triggered on payment submit action\n   */\n  @Output() triggerStopRequestSubmit = new EventEmitter<void>();\n\n  /**\n   * Event will be triggered on payment edit action\n   */\n  @Output() triggerStopRequestEdit = new EventEmitter<void>();\n\n  /**\n   * Flag for failing request submit\n   */\n  @Input() set failedToSubmit(v: boolean) {\n    this.showAlert = v;\n  }\n\n  submitStopRequest() {\n    this.disableSubmitAction = true;\n    this.triggerStopRequestSubmit.emit();\n  }\n\n  resetStopRequest() {\n    this.triggerStopRequestReset.emit();\n  }\n\n  editStopRequest() {\n    this.triggerStopRequestEdit.emit();\n  }\n\n  toggleConfirmationDialog() {\n    this.showConfirmation = !this.showConfirmation;\n  }\n\n  hideAlert() {\n    this.showAlert = false;\n  }\n}\n\n@Directive({\n  selector: '[bbStopCheckReviewComponentCustomizable]',\n})\nexport class StopCheckReviewComponentCustomizableDirective extends BbTemplate<\n  StopCheckReviewComponent,\n  undefined\n> {}\n","<ng-container\n  bbStopCheckReviewComponentCustomizable\n  [bbHostRef]=\"hostRef\"\n></ng-container>\n<ng-template bbStopCheckReviewComponentCustomizable let-hostRef>\n  <div class=\"bb-block bb-block--xl\">\n    <div class=\"bb-block bb-block--md\">\n      <bb-header-ui\n        headingType=\"h2\"\n        heading=\"Review and submit\"\n        i18n-heading=\"@@initiate-stop-check.review-request-details-header\"\n      ></bb-header-ui>\n    </div>\n\n    <bb-alert-ui\n      title=\"\"\n      modifier=\"error\"\n      [dismissible]=\"true\"\n      *ngIf=\"hostRef.showAlert\"\n      (close)=\"hostRef.hideAlert()\"\n    >\n      <span\n        data-role=\"failed-to-submit-alert\"\n        i18n=\"@@initiate-stop-check.review.failed-to-submit\"\n      >\n        Failed to submit stop check request, please try again later\n      </span>\n    </bb-alert-ui>\n  </div>\n\n  <div class=\"bb-block bb-block--md\">\n    <bb-header-ui\n      headingType=\"h3\"\n      heading=\"Check details\"\n      i18n-heading=\"@@initiate-stop-check.review-check-details-header\"\n    ></bb-header-ui>\n  </div>\n\n  <div class=\"row bb-block--xl\">\n    <div class=\"col-md-12 form-group\">\n      <div\n        class=\"bb-text-bold\"\n        i18n=\"@@initiate-stop-check.review.check-account\"\n        data-role=\"check-account-label\"\n      >\n        Check account\n      </div>\n      <div>\n        <div data-role=\"account-name\">\n          {{ hostRef.request?.payFromAccount?.name }}\n        </div>\n        <div data-role=\"account-number\" class=\"bb-text-support\">\n          {{ hostRef.request?.payFromAccount?.accountNumber }}\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"col-md-6 form-group\"\n      *ngIf=\"\n        hostRef.request?.checkNumber &&\n        hostRef.request?.stopRangeType === 'single'\n      \"\n    >\n      <div\n        class=\"bb-text-bold\"\n        i18n=\"@@initiate-stop-check.review.check-number\"\n        data-role=\"check-number-label\"\n      >\n        Check number\n      </div>\n      <div data-role=\"check-number\">\n        {{ hostRef.request?.checkNumber }}\n      </div>\n    </div>\n\n    <ng-container *ngIf=\"hostRef.request?.stopRangeType === 'multiple'\">\n      <div\n        class=\"col-md-6 form-group\"\n        *ngIf=\"hostRef.request?.firstCheckNumber\"\n      >\n        <div\n          class=\"bb-text-bold\"\n          i18n=\"@@initiate-stop-check.review.first-check-number\"\n          data-role=\"first-check-number-label\"\n        >\n          First check number\n        </div>\n        <div data-role=\"first-check-number\">\n          {{ hostRef.request?.firstCheckNumber }}\n        </div>\n      </div>\n\n      <div class=\"col-md-6 form-group\" *ngIf=\"hostRef.request?.lastCheckNumber\">\n        <div\n          class=\"bb-text-bold\"\n          i18n=\"@@initiate-stop-check.review.last-check-number\"\n          data-role=\"last-check-number-label\"\n        >\n          Last check number\n        </div>\n        <div data-role=\"last-check-number\">\n          {{ hostRef.request?.lastCheckNumber }}\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"hostRef.request?.stopRangeType === 'single'\">\n      <div\n        class=\"col-md-6 form-group\"\n        *ngIf=\"hostRef.request?.amountGroup?.amount\"\n      >\n        <div\n          class=\"bb-text-bold\"\n          i18n=\"@@initiate-stop-check.review.check-amount\"\n          data-role=\"check-amount-label\"\n        >\n          Check amount\n        </div>\n        <div>\n          <bb-amount-ui\n            [mapCurrency]=\"false\"\n            data-role=\"check-amount\"\n            [amount]=\"hostRef.request?.amountGroup?.amount\"\n            [currency]=\"hostRef.request?.amountGroup?.currency\"\n          ></bb-amount-ui>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 form-group\" *ngIf=\"hostRef.request?.dateIssued\">\n        <div\n          class=\"bb-text-bold\"\n          i18n=\"@@initiate-stop-check.review.check-issue-date\"\n          data-role=\"date-issued-label\"\n        >\n          Date issued\n        </div>\n        <div data-role=\"stop-request-check-issue-date\">\n          {{ hostRef.request?.dateIssued | date }}\n        </div>\n      </div>\n\n      <div class=\"col-md-6 form-group\" *ngIf=\"hostRef.request?.payeeName\">\n        <div\n          class=\"bb-text-bold\"\n          i18n=\"@@initiate-stop-check.review.payee-name\"\n          data-role=\"payee-name-label\"\n        >\n          Payee name\n        </div>\n        <div data-role=\"stop-request-payee-name\">\n          {{ hostRef.request?.payeeName }}\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"col-md-6 form-group\" *ngIf=\"hostRef.request?.stopReason\">\n      <div\n        class=\"bb-text-bold\"\n        i18n=\"@@initiate-stop-check.review.stop-reason-label\"\n        data-role=\"stop-reason-label\"\n      >\n        Stop reason\n      </div>\n\n      <ng-container\n        [ngSwitch]=\"hostRef.request?.stopReason\"\n        *ngIf=\"hostRef.request?.stopReason !== 'Other'\"\n      >\n        <div\n          *ngSwitchCase=\"'Insufficient_funds'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Insufficient funds\n        </div>\n\n        <div\n          *ngSwitchCase=\"'Incorrect_amount_or_other_details'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Incorrect amount or other details\n        </div>\n\n        <div\n          *ngSwitchCase=\"'Lost_or_stolen_checks_or_check_books'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Lost or stolen checks or check books\n        </div>\n\n        <div\n          *ngSwitchCase=\"'Checks_mailed_to_wrong_address'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Checks mailed to wrong address\n        </div>\n\n        <div\n          *ngSwitchCase=\"'Dispute_over_purchases'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Dispute over purchases\n        </div>\n\n        <div\n          *ngSwitchCase=\"'Lost_in_mail'\"\n          data-role=\"stop-request-selected-reason\"\n          i18n=\"@@initiate-stop-check.review.selected-reason\"\n        >\n          Lost in mail\n        </div>\n      </ng-container>\n\n      <div\n        class=\"break-word\"\n        *ngIf=\"hostRef.request?.stopReason === 'Other'\"\n        data-role=\"stop-request-other-reason-text\"\n        i18n=\"@@initiate-stop-check.review.other-reason-text\"\n      >\n        {{ hostRef.request?.otherReason.trim() || hostRef.request?.stopReason }}\n      </div>\n    </div>\n\n    <div class=\"col-md-6 form-group\" *ngIf=\"hostRef.request?.expirationDate\">\n      <div\n        class=\"bb-text-bold\"\n        i18n=\"@@initiate-stop-check.review\"\n        data-role=\"stop-request-expiration-date-label\"\n      >\n        Stop expiration date\n      </div>\n      <div data-role=\"stop-request-expiration-date-value\">\n        {{ hostRef.request?.expirationDate | date }}\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bb-button-bar\" *ngIf=\"!hostRef.stopRequestIsSubmitted\">\n    <button\n      bbButton\n      data-role=\"submit-button\"\n      class=\"bb-button-bar__button\"\n      (click)=\"hostRef.submitStopRequest()\"\n      [disabled]=\"hostRef.disableSubmitAction\"\n      i18n=\"@@initiate-stop-check.review.button.submit\"\n    >\n      Submit\n    </button>\n\n    <button\n      bbButton\n      color=\"secondary\"\n      data-role=\"edit-button\"\n      class=\"bb-button-bar__button\"\n      (click)=\"hostRef.editStopRequest()\"\n      i18n=\"@@initiate-stop-check.review.button.edit\"\n    >\n      Edit\n    </button>\n\n    <button\n      bbButton\n      color=\"link\"\n      data-role=\"cancel-button\"\n      (click)=\"hostRef.toggleConfirmationDialog()\"\n      i18n=\"@@initiate-stop-check.review.button.discard\"\n      class=\"bb-button-bar__button bb-button-bar__button--across\"\n    >\n      Cancel\n    </button>\n  </div>\n\n  <bb-confirmation-dialog\n    confirmButtonColor=\"danger\"\n    [isOpen]=\"hostRef.showConfirmation\"\n    (confirm)=\"hostRef.resetStopRequest()\"\n    (cancel)=\"hostRef.toggleConfirmationDialog()\"\n  >\n    <span title i18n=\"@@initiate-stop-check.confirm-action-dialog.title\">\n      Discard stop check request?\n    </span>\n\n    <span\n      body\n      i18n=\"@@initiate-stop-check.confirm-action-dialog.body\"\n      data-role=\"confirmation-text\"\n    >\n      All entered information for this stop check request will be lost.\n    </span>\n\n    <span\n      cancelActionName\n      i18n=\"@@initiate-stop-check.confirm-action-dialog.button.cancel\"\n      >Keep it</span\n    >\n    <span\n      confirmActionName\n      i18n=\"@@initiate-stop-check.confirm-action-dialog.button.confirm\"\n      >Discard stop check</span\n    >\n  </bb-confirmation-dialog>\n</ng-template>\n"]}