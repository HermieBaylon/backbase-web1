import { Component, EventEmitter, Input, Output } from '@angular/core';
import { Subject } from 'rxjs';
import { distinctUntilChanged } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "../bb-product-summary-account-logo-ui/bb-product-summary-account-logo.component";
import * as i2 from "@backbase/ui-ang/ellipsis";
import * as i3 from "@backbase/ui-ang/icon";
import * as i4 from "../bb-arrangement-state-indicator-ui/arrangement-state-indicator.component";
import * as i5 from "../bb-product-number/product-number.component";
import * as i6 from "@angular/common";
import * as i7 from "@backbase/ui-ang/keyboard-click-directive";
import * as i8 from "@backbase/ui-ang/tooltip-directive";
/**
 * Displays product item title
 *
 * @usageNotes
 *
 * ```html
 * <bb-product-item-custom-title-ui
 *   [title]="'title'"
 *   [productNumber]="'12345678'"
 *   [productNumberType]="'bban'"
 *   [favorite]="true"
 * ></bb-product-item-custom-title-ui>
 * ```
 *
 * @ngModule ProductItemCustomModule
 */
export class ProductItemCustomTitleComponent {
    constructor() {
        /**
         * The card Title value. Default is empty string
         *
         * @default ''
         */
        this.title = '';
        /**
         * Specifies if title can be focused and selected
         *
         * @default false
         */
        this.titleInteractive = false;
        /**
         * Specifies if logo should be displayed
         *
         * @default false
         */
        this.showLogo = true;
        /**
         * Source for bank logo.
         * Can be either a URL or base64 image.
         *
         * @default ''
         */
        this.logoSrc = '';
        /**
         * Product kind name to display a related logo icon.
         *
         * @default ''
         */
        this.logoKind = '';
        /**
         * Specifies if external title should be displayed.
         *
         * @default false
         */
        this.showExternalTitle = true;
        /**
         * The favorite state of card (add favorite icon next to title)
         *
         * @default false
         */
        this.favorite = false;
        /**
         * The favorite icon color (define star icon color)
         *
         * @default 'primary'
         */
        this.favoriteIconColor = 'primary';
        /**
         * The product Number. Default is empty string
         *
         * @default ''
         */
        this.productNumber = '';
        /**
         * State name to display
         * Supported values: 'active', 'inactive', 'closed'
         * If the state name is not supported it will be shown as it is
         *
         * @default ''
         */
        this.state = '';
        /**
         * selectTitle emits when custom title is selected
         */
        this.selectCustomTitle = new EventEmitter();
        this.uniqueSelectCustomTitleEvent = new Subject();
        this.subscriptions = [];
    }
    /**
     * @internal
     */
    ngOnInit() {
        const uniqueSelectCustomTitleSubscription = this.uniqueSelectCustomTitleEvent
            .pipe(distinctUntilChanged())
            .subscribe(event => this.selectCustomTitle.emit(event));
        this.subscriptions.push(uniqueSelectCustomTitleSubscription);
    }
    /**
     * @internal
     */
    ngOnDestroy() {
        this.subscriptions.forEach(subscription => subscription.unsubscribe());
        this.uniqueSelectCustomTitleEvent.complete();
    }
    /**
     * emits "selectCustomTitle" event
     */
    onSelectCustomTitle(event) {
        this.uniqueSelectCustomTitleEvent.next(event);
    }
    /**
     * Returns financial institution name
     */
    getExternalTitle() {
        var _a;
        if (this.showExternalTitle) {
            return ((_a = this.externalTitle) !== null && _a !== void 0 ? _a : $localize `:@@product-summary-ui.product-item-custom-title.external-title:External account`);
        }
        return undefined;
    }
}
ProductItemCustomTitleComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductItemCustomTitleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
ProductItemCustomTitleComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: ProductItemCustomTitleComponent, selector: "bb-product-item-custom-title-ui", inputs: { title: "title", titleInteractive: "titleInteractive", showLogo: "showLogo", logoSrc: "logoSrc", logoKind: "logoKind", showExternalTitle: "showExternalTitle", externalTitle: "externalTitle", favorite: "favorite", favoriteIconColor: "favoriteIconColor", productNumber: "productNumber", productNumberType: "productNumberType", state: "state" }, outputs: { selectCustomTitle: "selectCustomTitle" }, ngImport: i0, template: "<div class=\"bb-account-info\" (click)=\"onSelectCustomTitle($event)\">\n  <ng-container *ngIf=\"showLogo && (logoSrc || logoKind); else titleWithoutLogo\">\n    <div class=\"bb-stack bb-stack--align-top bb-stack--density-sm bb-block bb-block--xs\">\n      <bb-product-summary-account-logo\n        *ngIf=\"logoSrc || logoKind\"\n        class=\"bb-stack__item\"\n        [logoSrc]=\"logoSrc\"\n        [productKindName]=\"logoKind\"\n        iconColor=\"secondary\"\n        iconSize=\"sm\"\n        logoSize=\"sm\"\n      ></bb-product-summary-account-logo>\n      <div *ngIf=\"showExternalTitle; else accountTitle\" class=\"bb-stack__item\">\n        <ng-container *ngTemplateOutlet=\"accountExternalTitle\"></ng-container>\n      </div>\n    </div>\n    <ng-container *ngIf=\"showExternalTitle\">\n      <ng-container *ngTemplateOutlet=\"accountTitle\"></ng-container>\n    </ng-container>\n  </ng-container>\n\n  <ng-template #titleWithoutLogo>\n    <ng-container *ngTemplateOutlet=\"accountExternalTitle\"></ng-container>\n    <ng-container *ngTemplateOutlet=\"accountTitle\"></ng-container>\n  </ng-template>\n\n  <ng-template #accountExternalTitle>\n    <div *ngIf=\"showExternalTitle\" class=\"bb-subtitle bb-text-semi-bold bb-text-support bb-block bb-block--xs\">\n      <bb-ellipsis-ui [text]=\"getExternalTitle()\" lineClamp=\"1\"></bb-ellipsis-ui>\n    </div>\n  </ng-template>\n\n  <ng-template #accountTitle>\n    <div class=\"bb-stack bb-account-info__title bb-block bb-block--xs\" *ngIf=\"title || favorite || state\">\n      <div class=\"bb-stack__item bb-stack__item--spacing-sm\" data-role=\"card-title\">\n        <bb-ellipsis-ui\n          *ngIf=\"titleInteractive; else staticTitle\"\n          [text]=\"title\"\n          role=\"link\"\n          tabindex=\"0\"\n          lineClamp=\"1\"\n          (bbKeyboardClick)=\"onSelectCustomTitle($event)\"\n        ></bb-ellipsis-ui>\n        <ng-template #staticTitle>\n          <bb-ellipsis-ui [text]=\"title\" lineClamp=\"1\"></bb-ellipsis-ui>\n        </ng-template>\n      </div>\n      <bb-icon-ui\n        *ngIf=\"favorite\"\n        class=\"bb-stack__item bb-account-info__icon\"\n        size=\"sm\"\n        [color]=\"favoriteIconColor\"\n        data-role=\"favorite-icon\"\n        name=\"star\"\n        tabindex=\"0\"\n        aria-label=\"Favorite account\"\n        i18n-aria-label=\"Favorite account|Icon aria-label favorite account\n                @@product-summary.product-item-title-custom.icon.favorite.aria-label\"\n        bbTooltip=\"Favorite account\"\n        triggers=\"hover focus\"\n        i18n-bbTooltip=\"Favorite account|Icon tooltip favorite account\n                @@product-summary.product-item-title-custom.icon.favorite.tooltip\"\n      ></bb-icon-ui>\n      <bb-arrangement-state-indicator\n        *ngIf=\"state\"\n        [state]=\"state\"\n        class=\"bb-stack__item\"\n        data-role=\"arrangementState\"\n      ></bb-arrangement-state-indicator>\n    </div>\n  </ng-template>\n\n  <div\n      (mousedown)=\"$event.stopPropagation()\"\n      *ngIf=\"productNumber\"\n      data-role=\"card-sub-title\"\n      class=\"bb-account-info__product-number\"\n    >\n    <bb-ellipsis-ui>\n      <bb-product-number\n        [number]=\"productNumber\"\n        [type]=\"productNumberType\"\n      ></bb-product-number>\n    </bb-ellipsis-ui>\n  </div>\n</div>\n\n", components: [{ type: i1.ProductSummaryAccountLogoComponent, selector: "bb-product-summary-account-logo", inputs: ["logoSrc", "productKindName", "defaultProductKindName", "iconColor", "iconSize", "logoSize"] }, { type: i2.EllipsisComponent, selector: "bb-ellipsis-ui", inputs: ["text", "tooltipTriggers", "lineClamp"] }, { type: i3.IconComponent, selector: "bb-icon-ui", inputs: ["name", "inverse", "size", "color", "animate", "aria-label", "cropped", "backgroundType"] }, { type: i4.ArrangementStateIndicatorComponent, selector: "bb-arrangement-state-indicator", inputs: ["state", "showActive", "showIcon", "hideStateTextForMobile"] }, { type: i5.ProductNumberComponent, selector: "bb-product-number", inputs: ["number", "product", "format", "type", "unmaskable", "masked"], outputs: ["mask", "unmask"] }], directives: [{ type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i6.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i7.KeyboardClickDirective, selector: "[bbKeyboardClick]", outputs: ["bbKeyboardClick"] }, { type: i8.TooltipDirective, selector: "[bbTooltip]", inputs: ["bbTooltip", "triggers"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductItemCustomTitleComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-product-item-custom-title-ui',
                    templateUrl: './bb-product-item-custom-title-ui.component.html',
                }]
        }], propDecorators: { title: [{
                type: Input
            }], titleInteractive: [{
                type: Input
            }], showLogo: [{
                type: Input
            }], logoSrc: [{
                type: Input
            }], logoKind: [{
                type: Input
            }], showExternalTitle: [{
                type: Input
            }], externalTitle: [{
                type: Input
            }], favorite: [{
                type: Input
            }], favoriteIconColor: [{
                type: Input
            }], productNumber: [{
                type: Input
            }], productNumberType: [{
                type: Input
            }], state: [{
                type: Input
            }], selectCustomTitle: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmItcHJvZHVjdC1pdGVtLWN1c3RvbS10aXRsZS11aS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3Byb2R1Y3Qtc3VtbWFyeS11aS9zcmMvYmItcHJvZHVjdC1pdGVtLWN1c3RvbS10aXRsZS11aS9iYi1wcm9kdWN0LWl0ZW0tY3VzdG9tLXRpdGxlLXVpLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdC1zdW1tYXJ5LXVpL3NyYy9iYi1wcm9kdWN0LWl0ZW0tY3VzdG9tLXRpdGxlLXVpL2JiLXByb2R1Y3QtaXRlbS1jdXN0b20tdGl0bGUtdWkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFxQixNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFMUYsT0FBTyxFQUFFLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDN0MsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7QUFFdEQ7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBS0gsTUFBTSxPQUFPLCtCQUErQjtJQUo1QztRQUtFOzs7O1dBSUc7UUFDTSxVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3BCOzs7O1dBSUc7UUFDTSxxQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDbEM7Ozs7V0FJRztRQUNNLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFDekI7Ozs7O1dBS0c7UUFDTSxZQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ3RCOzs7O1dBSUc7UUFDTSxhQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCOzs7O1dBSUc7UUFDTSxzQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFPbEM7Ozs7V0FJRztRQUNNLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDMUI7Ozs7V0FJRztRQUNNLHNCQUFpQixHQUFHLFNBQVMsQ0FBQztRQUN2Qzs7OztXQUlHO1FBQ00sa0JBQWEsR0FBRyxFQUFFLENBQUM7UUFPNUI7Ozs7OztXQU1HO1FBQ00sVUFBSyxHQUFHLEVBQUUsQ0FBQztRQUNwQjs7V0FFRztRQUNPLHNCQUFpQixHQUF3QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXJELGlDQUE0QixHQUFtQixJQUFJLE9BQU8sRUFBUyxDQUFDO1FBQ3BFLGtCQUFhLEdBQXdCLEVBQUUsQ0FBQztLQW9DMUQ7SUFsQ0M7O09BRUc7SUFDSCxRQUFRO1FBQ04sTUFBTSxtQ0FBbUMsR0FBRyxJQUFJLENBQUMsNEJBQTRCO2FBQzFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO2FBQzVCLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFDRDs7T0FFRztJQUNILFdBQVc7UUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUMvQyxDQUFDO0lBQ0Q7O09BRUc7SUFDSCxtQkFBbUIsQ0FBQyxLQUFZO1FBQzlCLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsZ0JBQWdCOztRQUNkLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQzFCLE9BQU8sQ0FDTCxNQUFBLElBQUksQ0FBQyxhQUFhLG1DQUFJLFNBQVMsQ0FBQSxpRkFBaUYsQ0FDakgsQ0FBQztTQUNIO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQzs7NkhBckhVLCtCQUErQjtpSEFBL0IsK0JBQStCLDRkQ3pCNUMsZ3pHQXVGQTs0RkQ5RGEsK0JBQStCO2tCQUozQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxpQ0FBaUM7b0JBQzNDLFdBQVcsRUFBRSxrREFBa0Q7aUJBQ2hFOzhCQU9VLEtBQUs7c0JBQWIsS0FBSztnQkFNRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBTUcsUUFBUTtzQkFBaEIsS0FBSztnQkFPRyxPQUFPO3NCQUFmLEtBQUs7Z0JBTUcsUUFBUTtzQkFBaEIsS0FBSztnQkFNRyxpQkFBaUI7c0JBQXpCLEtBQUs7Z0JBTUcsYUFBYTtzQkFBckIsS0FBSztnQkFNRyxRQUFRO3NCQUFoQixLQUFLO2dCQU1HLGlCQUFpQjtzQkFBekIsS0FBSztnQkFNRyxhQUFhO3NCQUFyQixLQUFLO2dCQU1HLGlCQUFpQjtzQkFBekIsS0FBSztnQkFRRyxLQUFLO3NCQUFiLEtBQUs7Z0JBSUksaUJBQWlCO3NCQUExQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY2NvdW50TnVtYmVyVHlwZSB9IGZyb20gJ0BiYWNrYmFzZS91aS1hbmcvYWNjb3VudC1udW1iZXItcGlwZSc7XG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIERpc3BsYXlzIHByb2R1Y3QgaXRlbSB0aXRsZVxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogYGBgaHRtbFxuICogPGJiLXByb2R1Y3QtaXRlbS1jdXN0b20tdGl0bGUtdWlcbiAqICAgW3RpdGxlXT1cIid0aXRsZSdcIlxuICogICBbcHJvZHVjdE51bWJlcl09XCInMTIzNDU2NzgnXCJcbiAqICAgW3Byb2R1Y3ROdW1iZXJUeXBlXT1cIidiYmFuJ1wiXG4gKiAgIFtmYXZvcml0ZV09XCJ0cnVlXCJcbiAqID48L2JiLXByb2R1Y3QtaXRlbS1jdXN0b20tdGl0bGUtdWk+XG4gKiBgYGBcbiAqXG4gKiBAbmdNb2R1bGUgUHJvZHVjdEl0ZW1DdXN0b21Nb2R1bGVcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItcHJvZHVjdC1pdGVtLWN1c3RvbS10aXRsZS11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9iYi1wcm9kdWN0LWl0ZW0tY3VzdG9tLXRpdGxlLXVpLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgUHJvZHVjdEl0ZW1DdXN0b21UaXRsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgLyoqXG4gICAqIFRoZSBjYXJkIFRpdGxlIHZhbHVlLiBEZWZhdWx0IGlzIGVtcHR5IHN0cmluZ1xuICAgKlxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgQElucHV0KCkgdGl0bGUgPSAnJztcbiAgLyoqXG4gICAqIFNwZWNpZmllcyBpZiB0aXRsZSBjYW4gYmUgZm9jdXNlZCBhbmQgc2VsZWN0ZWRcbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIEBJbnB1dCgpIHRpdGxlSW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyBpZiBsb2dvIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIEBJbnB1dCgpIHNob3dMb2dvID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFNvdXJjZSBmb3IgYmFuayBsb2dvLlxuICAgKiBDYW4gYmUgZWl0aGVyIGEgVVJMIG9yIGJhc2U2NCBpbWFnZS5cbiAgICpcbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIEBJbnB1dCgpIGxvZ29TcmMgPSAnJztcbiAgLyoqXG4gICAqIFByb2R1Y3Qga2luZCBuYW1lIHRvIGRpc3BsYXkgYSByZWxhdGVkIGxvZ28gaWNvbi5cbiAgICpcbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIEBJbnB1dCgpIGxvZ29LaW5kID0gJyc7XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgaWYgZXh0ZXJuYWwgdGl0bGUgc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIEBJbnB1dCgpIHNob3dFeHRlcm5hbFRpdGxlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEV4dGVybmFsIHRpdGxlIHRvIGRpc3BsYXkuXG4gICAqXG4gICAqIEBkZWZhdWx0ICcnXG4gICAqL1xuICBASW5wdXQoKSBleHRlcm5hbFRpdGxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBUaGUgZmF2b3JpdGUgc3RhdGUgb2YgY2FyZCAoYWRkIGZhdm9yaXRlIGljb24gbmV4dCB0byB0aXRsZSlcbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIEBJbnB1dCgpIGZhdm9yaXRlID0gZmFsc2U7XG4gIC8qKlxuICAgKiBUaGUgZmF2b3JpdGUgaWNvbiBjb2xvciAoZGVmaW5lIHN0YXIgaWNvbiBjb2xvcilcbiAgICpcbiAgICogQGRlZmF1bHQgJ3ByaW1hcnknXG4gICAqL1xuICBASW5wdXQoKSBmYXZvcml0ZUljb25Db2xvciA9ICdwcmltYXJ5JztcbiAgLyoqXG4gICAqIFRoZSBwcm9kdWN0IE51bWJlci4gRGVmYXVsdCBpcyBlbXB0eSBzdHJpbmdcbiAgICpcbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIEBJbnB1dCgpIHByb2R1Y3ROdW1iZXIgPSAnJztcbiAgLyoqXG4gICAqIFRoZSBwcm9kdWN0IG51bWJlciB0eXBlICgnaWJhbicsICdiYmFuJyBvciAnY2FyZE51bWJlcicpXG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgQElucHV0KCkgcHJvZHVjdE51bWJlclR5cGU6IEFjY291bnROdW1iZXJUeXBlIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogU3RhdGUgbmFtZSB0byBkaXNwbGF5XG4gICAqIFN1cHBvcnRlZCB2YWx1ZXM6ICdhY3RpdmUnLCAnaW5hY3RpdmUnLCAnY2xvc2VkJ1xuICAgKiBJZiB0aGUgc3RhdGUgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGl0IHdpbGwgYmUgc2hvd24gYXMgaXQgaXNcbiAgICpcbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIEBJbnB1dCgpIHN0YXRlID0gJyc7XG4gIC8qKlxuICAgKiBzZWxlY3RUaXRsZSBlbWl0cyB3aGVuIGN1c3RvbSB0aXRsZSBpcyBzZWxlY3RlZFxuICAgKi9cbiAgQE91dHB1dCgpIHNlbGVjdEN1c3RvbVRpdGxlOiBFdmVudEVtaXR0ZXI8RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdW5pcXVlU2VsZWN0Q3VzdG9tVGl0bGVFdmVudDogU3ViamVjdDxFdmVudD4gPSBuZXcgU3ViamVjdDxFdmVudD4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpcHRpb25zOiBBcnJheTxTdWJzY3JpcHRpb24+ID0gW107XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gICAgY29uc3QgdW5pcXVlU2VsZWN0Q3VzdG9tVGl0bGVTdWJzY3JpcHRpb24gPSB0aGlzLnVuaXF1ZVNlbGVjdEN1c3RvbVRpdGxlRXZlbnRcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpXG4gICAgICAuc3Vic2NyaWJlKGV2ZW50ID0+IHRoaXMuc2VsZWN0Q3VzdG9tVGl0bGUuZW1pdChldmVudCkpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHVuaXF1ZVNlbGVjdEN1c3RvbVRpdGxlU3Vic2NyaXB0aW9uKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWJzY3JpcHRpb24gPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkpO1xuICAgIHRoaXMudW5pcXVlU2VsZWN0Q3VzdG9tVGl0bGVFdmVudC5jb21wbGV0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBlbWl0cyBcInNlbGVjdEN1c3RvbVRpdGxlXCIgZXZlbnRcbiAgICovXG4gIG9uU2VsZWN0Q3VzdG9tVGl0bGUoZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy51bmlxdWVTZWxlY3RDdXN0b21UaXRsZUV2ZW50Lm5leHQoZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmluYW5jaWFsIGluc3RpdHV0aW9uIG5hbWVcbiAgICovXG4gIGdldEV4dGVybmFsVGl0bGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5zaG93RXh0ZXJuYWxUaXRsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5leHRlcm5hbFRpdGxlID8/ICRsb2NhbGl6ZWA6QEBwcm9kdWN0LXN1bW1hcnktdWkucHJvZHVjdC1pdGVtLWN1c3RvbS10aXRsZS5leHRlcm5hbC10aXRsZTpFeHRlcm5hbCBhY2NvdW50YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImJiLWFjY291bnQtaW5mb1wiIChjbGljayk9XCJvblNlbGVjdEN1c3RvbVRpdGxlKCRldmVudClcIj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dMb2dvICYmIChsb2dvU3JjIHx8IGxvZ29LaW5kKTsgZWxzZSB0aXRsZVdpdGhvdXRMb2dvXCI+XG4gICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrIGJiLXN0YWNrLS1hbGlnbi10b3AgYmItc3RhY2stLWRlbnNpdHktc20gYmItYmxvY2sgYmItYmxvY2stLXhzXCI+XG4gICAgICA8YmItcHJvZHVjdC1zdW1tYXJ5LWFjY291bnQtbG9nb1xuICAgICAgICAqbmdJZj1cImxvZ29TcmMgfHwgbG9nb0tpbmRcIlxuICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCJcbiAgICAgICAgW2xvZ29TcmNdPVwibG9nb1NyY1wiXG4gICAgICAgIFtwcm9kdWN0S2luZE5hbWVdPVwibG9nb0tpbmRcIlxuICAgICAgICBpY29uQ29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICBpY29uU2l6ZT1cInNtXCJcbiAgICAgICAgbG9nb1NpemU9XCJzbVwiXG4gICAgICA+PC9iYi1wcm9kdWN0LXN1bW1hcnktYWNjb3VudC1sb2dvPlxuICAgICAgPGRpdiAqbmdJZj1cInNob3dFeHRlcm5hbFRpdGxlOyBlbHNlIGFjY291bnRUaXRsZVwiIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW1cIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImFjY291bnRFeHRlcm5hbFRpdGxlXCI+PC9uZy1jb250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2hvd0V4dGVybmFsVGl0bGVcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJhY2NvdW50VGl0bGVcIj48L25nLWNvbnRhaW5lcj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLXRlbXBsYXRlICN0aXRsZVdpdGhvdXRMb2dvPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJhY2NvdW50RXh0ZXJuYWxUaXRsZVwiPjwvbmctY29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJhY2NvdW50VGl0bGVcIj48L25nLWNvbnRhaW5lcj5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGUgI2FjY291bnRFeHRlcm5hbFRpdGxlPlxuICAgIDxkaXYgKm5nSWY9XCJzaG93RXh0ZXJuYWxUaXRsZVwiIGNsYXNzPVwiYmItc3VidGl0bGUgYmItdGV4dC1zZW1pLWJvbGQgYmItdGV4dC1zdXBwb3J0IGJiLWJsb2NrIGJiLWJsb2NrLS14c1wiPlxuICAgICAgPGJiLWVsbGlwc2lzLXVpIFt0ZXh0XT1cImdldEV4dGVybmFsVGl0bGUoKVwiIGxpbmVDbGFtcD1cIjFcIj48L2JiLWVsbGlwc2lzLXVpPlxuICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZSAjYWNjb3VudFRpdGxlPlxuICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFjayBiYi1hY2NvdW50LWluZm9fX3RpdGxlIGJiLWJsb2NrIGJiLWJsb2NrLS14c1wiICpuZ0lmPVwidGl0bGUgfHwgZmF2b3JpdGUgfHwgc3RhdGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbSBiYi1zdGFja19faXRlbS0tc3BhY2luZy1zbVwiIGRhdGEtcm9sZT1cImNhcmQtdGl0bGVcIj5cbiAgICAgICAgPGJiLWVsbGlwc2lzLXVpXG4gICAgICAgICAgKm5nSWY9XCJ0aXRsZUludGVyYWN0aXZlOyBlbHNlIHN0YXRpY1RpdGxlXCJcbiAgICAgICAgICBbdGV4dF09XCJ0aXRsZVwiXG4gICAgICAgICAgcm9sZT1cImxpbmtcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgbGluZUNsYW1wPVwiMVwiXG4gICAgICAgICAgKGJiS2V5Ym9hcmRDbGljayk9XCJvblNlbGVjdEN1c3RvbVRpdGxlKCRldmVudClcIlxuICAgICAgICA+PC9iYi1lbGxpcHNpcy11aT5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNzdGF0aWNUaXRsZT5cbiAgICAgICAgICA8YmItZWxsaXBzaXMtdWkgW3RleHRdPVwidGl0bGVcIiBsaW5lQ2xhbXA9XCIxXCI+PC9iYi1lbGxpcHNpcy11aT5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGJiLWljb24tdWlcbiAgICAgICAgKm5nSWY9XCJmYXZvcml0ZVwiXG4gICAgICAgIGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItYWNjb3VudC1pbmZvX19pY29uXCJcbiAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgW2NvbG9yXT1cImZhdm9yaXRlSWNvbkNvbG9yXCJcbiAgICAgICAgZGF0YS1yb2xlPVwiZmF2b3JpdGUtaWNvblwiXG4gICAgICAgIG5hbWU9XCJzdGFyXCJcbiAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIkZhdm9yaXRlIGFjY291bnRcIlxuICAgICAgICBpMThuLWFyaWEtbGFiZWw9XCJGYXZvcml0ZSBhY2NvdW50fEljb24gYXJpYS1sYWJlbCBmYXZvcml0ZSBhY2NvdW50XG4gICAgICAgICAgICAgICAgQEBwcm9kdWN0LXN1bW1hcnkucHJvZHVjdC1pdGVtLXRpdGxlLWN1c3RvbS5pY29uLmZhdm9yaXRlLmFyaWEtbGFiZWxcIlxuICAgICAgICBiYlRvb2x0aXA9XCJGYXZvcml0ZSBhY2NvdW50XCJcbiAgICAgICAgdHJpZ2dlcnM9XCJob3ZlciBmb2N1c1wiXG4gICAgICAgIGkxOG4tYmJUb29sdGlwPVwiRmF2b3JpdGUgYWNjb3VudHxJY29uIHRvb2x0aXAgZmF2b3JpdGUgYWNjb3VudFxuICAgICAgICAgICAgICAgIEBAcHJvZHVjdC1zdW1tYXJ5LnByb2R1Y3QtaXRlbS10aXRsZS1jdXN0b20uaWNvbi5mYXZvcml0ZS50b29sdGlwXCJcbiAgICAgID48L2JiLWljb24tdWk+XG4gICAgICA8YmItYXJyYW5nZW1lbnQtc3RhdGUtaW5kaWNhdG9yXG4gICAgICAgICpuZ0lmPVwic3RhdGVcIlxuICAgICAgICBbc3RhdGVdPVwic3RhdGVcIlxuICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCJcbiAgICAgICAgZGF0YS1yb2xlPVwiYXJyYW5nZW1lbnRTdGF0ZVwiXG4gICAgICA+PC9iYi1hcnJhbmdlbWVudC1zdGF0ZS1pbmRpY2F0b3I+XG4gICAgPC9kaXY+XG4gIDwvbmctdGVtcGxhdGU+XG5cbiAgPGRpdlxuICAgICAgKG1vdXNlZG93bik9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgKm5nSWY9XCJwcm9kdWN0TnVtYmVyXCJcbiAgICAgIGRhdGEtcm9sZT1cImNhcmQtc3ViLXRpdGxlXCJcbiAgICAgIGNsYXNzPVwiYmItYWNjb3VudC1pbmZvX19wcm9kdWN0LW51bWJlclwiXG4gICAgPlxuICAgIDxiYi1lbGxpcHNpcy11aT5cbiAgICAgIDxiYi1wcm9kdWN0LW51bWJlclxuICAgICAgICBbbnVtYmVyXT1cInByb2R1Y3ROdW1iZXJcIlxuICAgICAgICBbdHlwZV09XCJwcm9kdWN0TnVtYmVyVHlwZVwiXG4gICAgICA+PC9iYi1wcm9kdWN0LW51bWJlcj5cbiAgICA8L2JiLWVsbGlwc2lzLXVpPlxuICA8L2Rpdj5cbjwvZGl2PlxuXG4iXX0=