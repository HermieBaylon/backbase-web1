import { Component, ChangeDetectionStrategy, Directive, Input, Output, EventEmitter, } from '@angular/core';
import { BbTemplate } from '@backbase/foundation-ang/core';
import { ProductKindUri, ResponsiveContainerComponent } from '@backbase/product-summary-common-ang';
import * as i0 from "@angular/core";
import * as i1 from "@backbase/ui-ang/date-pipe";
import * as i2 from "../bb-product-number/product-number.component";
import * as i3 from "@backbase/ui-ang/amount";
import * as i4 from "@backbase/ui-ang/badge";
import * as i5 from "../bb-product-summary-account-logo-ui/bb-product-summary-account-logo.component";
import * as i6 from "@angular/common";
import * as i7 from "@backbase/ui-ang/keyboard-click-directive";
import * as i8 from "@backbase/ui-ang/button";
export class ProductNeedsAttentionItemComponent extends ResponsiveContainerComponent {
    constructor(datePipe, element, changeDetector) {
        super(element, changeDetector);
        this.datePipe = datePipe;
        this.hostRef = this;
        this.productKindUri = ProductKindUri;
        /**
         * Emits ProductKind when selected
         */
        this.selectProductKind = new EventEmitter();
        /**
         * Emits arrangement id when pay now is clicked
         */
        this.payNowClick = new EventEmitter();
    }
    /**
     * Localisation for statusBadge
     */
    get statusBadges() {
        var _a, _b, _c, _d, _e, _f;
        return {
            overdueWithDate: $localize `:Status badge for overdue accounts with date|status badge for overdue accounts with date@@product-summary-ui.product-needs-attention-item.badge.overdueWithDate:${(_b = (_a = this.item) === null || _a === void 0 ? void 0 : _a.paymentsPastDue) !== null && _b !== void 0 ? _b : ''} Payments Missed Since ${this.datePipe.transform((_c = this.item) === null || _c === void 0 ? void 0 : _c.overdueSince, 'MMM d, yyyy')}`,
            overdueWithoutDate: $localize `:Status badge for overdue accounts without date|status badge for overdue accounts without date@@product-summary-ui.product-needs-attention-item.badge.overdueWithoutDate:${(_e = (_d = this.item) === null || _d === void 0 ? void 0 : _d.paymentsPastDue) !== null && _e !== void 0 ? _e : ''} Payments Missed`,
            overdrawnWithDate: $localize `:Status badge for overdrawn accounts with date|status badge for overdrawn accounts with date@@product-summary-ui.product-needs-attention-item.badge.overdrawnWithDate:Overdrawn Since ${this.datePipe.transform((_f = this.item) === null || _f === void 0 ? void 0 : _f.overdueSince, 'MMM d, yyyy')}`,
            overdrawnWithoutDate: $localize `:Status badge for overdrawn accounts without date|status badge for overdrawn accounts without date@@product-summary-ui.product-needs-attention-item.badge.overdrawnWithoutDate:Overdrawn`,
        };
    }
    /**
     * Emits `selectProductKind` event
     */
    onSelectProductKind() {
        this.selectProductKind.emit(this.item);
    }
}
ProductNeedsAttentionItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductNeedsAttentionItemComponent, deps: [{ token: i1.BbDatePipe }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ProductNeedsAttentionItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: ProductNeedsAttentionItemComponent, selector: "bb-product-needs-attention-item-ui", inputs: { item: "item", showLogo: "showLogo" }, outputs: { selectProductKind: "selectProductKind", payNowClick: "payNowClick" }, usesInheritance: true, ngImport: i0, template: "<ng-container\n  bbProductNeedsAttentionItemCustomizable\n  [bbHostRef]=\"hostRef\"\n  [bbTemplateContext]=\"item\"\n></ng-container>\n\n<ng-template\n  bbProductNeedsAttentionItemCustomizable\n  let-hostRef\n>\n  <div class=\"bb-product-needs-attention-item-ui\">\n    <div class=\"bb-product-needs-attention-item-ui__item\" (click)=\"hostRef.onSelectProductKind($event)\">\n      <!-- Account details  -->\n      <div class=\"bb-stack bb-stack--align-top bb-product-needs-attention-item-ui-header\">\n        <div class=\"bb-stack__item\" *ngIf=\"hostRef.showLogo && hostRef.responsiveView !== 'mobile'\">\n          <ng-container *ngTemplateOutlet=\"productLogo\"></ng-container>\n        </div>\n        <div class=\"bb-stack__item bb-stack__item--fill\">\n          <div class=\"bb-stack bb-stack--wrap\">\n            <div class=\"bb-stack__item\">\n              <div\n                role=\"link\"\n                tabindex=\"0\"\n                class=\"bb-text-bold\"\n                data-role=\"overdue-account-name\"\n                (bbKeyboardClick)=\"hostRef.onSelectProductKind($event)\"\n              >\n                {{ hostRef.item?.name }}\n              </div>\n              <div\n                class=\"bb-account-info__product-number\"\n                *ngIf=\"hostRef.item && (hostRef.item.IBAN || hostRef.item.BBAN || hostRef.item.number)\"\n              >\n                <bb-product-number\n                  data-role=\"overdue-account-number\"\n                  [product]=\"hostRef.item\"\n                ></bb-product-number>\n              </div>\n            </div>\n            <div\n              class=\"bb-stack__item bb-stack__item--push-right-lg-down bb-product-item__details\"\n              [ngClass]=\"{\n                'bb-stack__item--push-right': !(hostRef.responsiveView === 'mobile'),\n                'bb-stack__item--push-left': (hostRef.responsiveView === 'mobile')\n              }\"\n            >\n              <bb-amount-ui\n                data-role=\"overdue-account-booked-balance\"\n                class=\"bb-text-bold\"\n                [amount]=\"hostRef.item?.bookedBalance\"\n                [currency]=\"hostRef.item?.currency\"\n                [mapCurrency]=\"true\"\n              >\n              </bb-amount-ui>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Account status -->\n      <div class=\"bb-stack bb-block bb-block--sm bb-block--md-md-down\">\n        <div class=\"bb-stack__item\">\n          <bb-badge-ui\n            *ngIf=\"hostRef.item.productKindUri === hostRef.productKindUri.LOAN || hostRef.item.productKindUri === hostRef.productKindUri.CREDIT_CARD; else overdrawnStatusBadge\"\n            text=\"{{hostRef.item.overdueSince ? hostRef.statusBadges.overdueWithDate : hostRef.statusBadges.overdueWithoutDate}}\"\n            color=\"danger\"\n            data-role=\"overdue-account-status-badge\"\n          ></bb-badge-ui>\n          <ng-template #overdrawnStatusBadge>\n            <bb-badge-ui\n              text=\"{{hostRef.item.overdueSince ? hostRef.statusBadges.overdrawnWithDate : hostRef.statusBadges.overdrawnWithoutDate}}\"\n              color=\"danger\"\n              data-role=\"overdue-account-status-badge\"\n            ></bb-badge-ui>\n          </ng-template>\n        </div>\n        <div class=\"bb-stack__item bb-stack__item--push-right\">\n          <bb-amount-ui\n            class=\"bb-text-bold bb-text-danger\"\n            data-role=\"overdue-account-secondary-balance\"\n            [amount]=\"hostRef.item?.secondaryBalance\"\n            [currency]=\"hostRef.item?.currency\"\n            [mapCurrency]=\"true\"\n          ></bb-amount-ui>\n        </div>\n      </div>\n\n      <!-- Pay now button -->\n      <div class=\"bb-button-bar\">\n        <button\n          bbButton\n          color=\"primary\"\n          class=\"bb-button-bar__button\"\n          data-role=\"overdue-account-pay-now-button\"\n          i18n=\"Pay Now button@@product-summary-ui.bb-product-needs-attention-item.button.payNow\"\n          (click)=\"hostRef.payNowClick.emit(hostRef.item.id); $event.stopPropagation()\"\n        >\n          Pay Now\n        </button>\n      </div>\n    </div>\n\n    <ng-template #productLogo>\n      <bb-product-summary-account-logo\n        [logoSrc]=\"hostRef.item?.financialInstitution?.logo\"\n        [productKindName]=\"hostRef.item?.productKindName\"\n        iconColor=\"secondary\"\n        data-role=\"overdue-account-logo\"\n      ></bb-product-summary-account-logo>\n    </ng-template>\n  </div>\n</ng-template>\n", components: [{ type: i0.forwardRef(function () { return i2.ProductNumberComponent; }), selector: "bb-product-number", inputs: ["number", "product", "format", "type", "unmaskable", "masked"], outputs: ["mask", "unmask"] }, { type: i0.forwardRef(function () { return i3.AmountComponent; }), selector: "bb-amount-ui", inputs: ["currency", "showPlusSign", "mapCurrency", "showPercent", "abbreviate", "decimalPlaces", "trailingZeroes", "amount"] }, { type: i0.forwardRef(function () { return i4.BadgeComponent; }), selector: "bb-badge-ui", inputs: ["color", "text", "abbr", "circle", "wrap", "ariaLabel"] }, { type: i0.forwardRef(function () { return i5.ProductSummaryAccountLogoComponent; }), selector: "bb-product-summary-account-logo", inputs: ["logoSrc", "productKindName", "defaultProductKindName", "iconColor", "iconSize", "logoSize"] }], directives: [{ type: i0.forwardRef(function () { return ProductNeedsAttentionItemCustomizableDirective; }), selector: "[bbProductNeedsAttentionItemCustomizable]" }, { type: i0.forwardRef(function () { return i6.NgIf; }), selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i0.forwardRef(function () { return i6.NgTemplateOutlet; }), selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i0.forwardRef(function () { return i7.KeyboardClickDirective; }), selector: "[bbKeyboardClick]", outputs: ["bbKeyboardClick"] }, { type: i0.forwardRef(function () { return i6.NgClass; }), selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i0.forwardRef(function () { return i8.ButtonDirective; }), selector: "button[bbButton]", inputs: ["type", "color", "buttonSize", "block", "circle"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductNeedsAttentionItemComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'bb-product-needs-attention-item-ui',
                    templateUrl: './product-needs-attention-item.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i1.BbDatePipe }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { item: [{
                type: Input
            }], showLogo: [{
                type: Input
            }], selectProductKind: [{
                type: Output
            }], payNowClick: [{
                type: Output
            }] } });
export class ProductNeedsAttentionItemCustomizableDirective extends BbTemplate {
}
ProductNeedsAttentionItemCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductNeedsAttentionItemCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });
ProductNeedsAttentionItemCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.2.16", type: ProductNeedsAttentionItemCustomizableDirective, selector: "[bbProductNeedsAttentionItemCustomizable]", usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: ProductNeedsAttentionItemCustomizableDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[bbProductNeedsAttentionItemCustomizable]',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3Byb2R1Y3Qtc3VtbWFyeS11aS9zcmMvYmItcHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS9wcm9kdWN0LW5lZWRzLWF0dGVudGlvbi1pdGVtLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdC1zdW1tYXJ5LXVpL3NyYy9iYi1wcm9kdWN0LW5lZWRzLWF0dGVudGlvbi1pdGVtL3Byb2R1Y3QtbmVlZHMtYXR0ZW50aW9uLWl0ZW0uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxHQUdiLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLEVBQVcsY0FBYyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7Ozs7Ozs7Ozs7QUFRN0csTUFBTSxPQUFPLGtDQUFtQyxTQUFRLDRCQUE0QjtJQXlDbEYsWUFBb0IsUUFBb0IsRUFBRSxPQUFnQyxFQUFFLGNBQWlDO1FBQzNHLEtBQUssQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFEYixhQUFRLEdBQVIsUUFBUSxDQUFZO1FBeEMvQixZQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2YsbUJBQWMsR0FBRyxjQUFjLENBQUM7UUFXekM7O1dBRUc7UUFDTyxzQkFBaUIsR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVwRTs7V0FFRztRQUNPLGdCQUFXLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7SUFzQmpFLENBQUM7SUFyQkQ7O09BRUc7SUFDSCxJQUFJLFlBQVk7O1FBQ2QsT0FBTztZQUNMLGVBQWUsRUFBRSxTQUFTLENBQUEsbUtBQ3hCLE1BQUEsTUFBQSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxlQUFlLG1DQUFJLEVBQ2hDLDBCQUEwQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFBLElBQUksQ0FBQyxJQUFJLDBDQUFFLFlBQVksRUFBRSxhQUFhLENBQUMsRUFBRTtZQUMzRixrQkFBa0IsRUFBRSxTQUFTLENBQUEsNEtBQzNCLE1BQUEsTUFBQSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxlQUFlLG1DQUFJLEVBQ2hDLGtCQUFrQjtZQUNsQixpQkFBaUIsRUFBRSxTQUFTLENBQUEseUxBQXlMLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUMxTyxNQUFBLElBQUksQ0FBQyxJQUFJLDBDQUFFLFlBQVksRUFDdkIsYUFBYSxDQUNkLEVBQUU7WUFDSCxvQkFBb0IsRUFBRSxTQUFTLENBQUEsMExBQTBMO1NBQzFOLENBQUM7SUFDSixDQUFDO0lBTUQ7O09BRUc7SUFDSCxtQkFBbUI7UUFDakIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekMsQ0FBQzs7Z0lBbERVLGtDQUFrQztvSEFBbEMsa0NBQWtDLGtPQ25CL0MsKy9JQWdIQSxrNEJEckNhLDhDQUE4Qzs0RkF4RDlDLGtDQUFrQztrQkFMOUMsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsb0NBQW9DO29CQUM5QyxXQUFXLEVBQUUsK0NBQStDO29CQUM1RCxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtpQkFDaEQ7MEpBT1UsSUFBSTtzQkFBWixLQUFLO2dCQUtHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBS0ksaUJBQWlCO3NCQUExQixNQUFNO2dCQUtHLFdBQVc7c0JBQXBCLE1BQU07O0FBbUNULE1BQU0sT0FBTyw4Q0FBK0MsU0FBUSxVQUduRTs7NElBSFksOENBQThDO2dJQUE5Qyw4Q0FBOEM7NEZBQTlDLDhDQUE4QztrQkFIMUQsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsMkNBQTJDO2lCQUN0RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIERpcmVjdGl2ZSxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyLFxuICBFbGVtZW50UmVmLFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYlRlbXBsYXRlIH0gZnJvbSAnQGJhY2tiYXNlL2ZvdW5kYXRpb24tYW5nL2NvcmUnO1xuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdEtpbmRVcmksIFJlc3BvbnNpdmVDb250YWluZXJDb21wb25lbnQgfSBmcm9tICdAYmFja2Jhc2UvcHJvZHVjdC1zdW1tYXJ5LWNvbW1vbi1hbmcnO1xuaW1wb3J0IHsgQmJEYXRlUGlwZSB9IGZyb20gJ0BiYWNrYmFzZS91aS1hbmcvZGF0ZS1waXBlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYmItcHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9wcm9kdWN0LW5lZWRzLWF0dGVudGlvbi1pdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3ROZWVkc0F0dGVudGlvbkl0ZW1Db21wb25lbnQgZXh0ZW5kcyBSZXNwb25zaXZlQ29udGFpbmVyQ29tcG9uZW50IHtcbiAgcmVhZG9ubHkgaG9zdFJlZiA9IHRoaXM7XG4gIHJlYWRvbmx5IHByb2R1Y3RLaW5kVXJpID0gUHJvZHVjdEtpbmRVcmk7XG4gIC8qKlxuICAgKiBQcm9kdWN0IHN1bW1hcnkgSXRlbSAgZGF0YSB0aGF0IHRoaXMgY29tcG9uZW50IGRpc3BsYXlzLlxuICAgKi9cbiAgQElucHV0KCkgaXRlbTogUHJvZHVjdCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQSBmbGFnIHNwZWNpZmllcyB3aGV0aGVyIHRvIGRpc3BsYXkgbG9nb1xuICAgKi9cbiAgQElucHV0KCkgc2hvd0xvZ286IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEVtaXRzIFByb2R1Y3RLaW5kIHdoZW4gc2VsZWN0ZWRcbiAgICovXG4gIEBPdXRwdXQoKSBzZWxlY3RQcm9kdWN0S2luZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFycmFuZ2VtZW50IGlkIHdoZW4gcGF5IG5vdyBpcyBjbGlja2VkXG4gICAqL1xuICBAT3V0cHV0KCkgcGF5Tm93Q2xpY2s6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAvKipcbiAgICogTG9jYWxpc2F0aW9uIGZvciBzdGF0dXNCYWRnZVxuICAgKi9cbiAgZ2V0IHN0YXR1c0JhZGdlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcmR1ZVdpdGhEYXRlOiAkbG9jYWxpemVgOlN0YXR1cyBiYWRnZSBmb3Igb3ZlcmR1ZSBhY2NvdW50cyB3aXRoIGRhdGV8c3RhdHVzIGJhZGdlIGZvciBvdmVyZHVlIGFjY291bnRzIHdpdGggZGF0ZUBAcHJvZHVjdC1zdW1tYXJ5LXVpLnByb2R1Y3QtbmVlZHMtYXR0ZW50aW9uLWl0ZW0uYmFkZ2Uub3ZlcmR1ZVdpdGhEYXRlOiR7XG4gICAgICAgIHRoaXMuaXRlbT8ucGF5bWVudHNQYXN0RHVlID8/ICcnXG4gICAgICB9IFBheW1lbnRzIE1pc3NlZCBTaW5jZSAke3RoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKHRoaXMuaXRlbT8ub3ZlcmR1ZVNpbmNlLCAnTU1NIGQsIHl5eXknKX1gLFxuICAgICAgb3ZlcmR1ZVdpdGhvdXREYXRlOiAkbG9jYWxpemVgOlN0YXR1cyBiYWRnZSBmb3Igb3ZlcmR1ZSBhY2NvdW50cyB3aXRob3V0IGRhdGV8c3RhdHVzIGJhZGdlIGZvciBvdmVyZHVlIGFjY291bnRzIHdpdGhvdXQgZGF0ZUBAcHJvZHVjdC1zdW1tYXJ5LXVpLnByb2R1Y3QtbmVlZHMtYXR0ZW50aW9uLWl0ZW0uYmFkZ2Uub3ZlcmR1ZVdpdGhvdXREYXRlOiR7XG4gICAgICAgIHRoaXMuaXRlbT8ucGF5bWVudHNQYXN0RHVlID8/ICcnXG4gICAgICB9IFBheW1lbnRzIE1pc3NlZGAsXG4gICAgICBvdmVyZHJhd25XaXRoRGF0ZTogJGxvY2FsaXplYDpTdGF0dXMgYmFkZ2UgZm9yIG92ZXJkcmF3biBhY2NvdW50cyB3aXRoIGRhdGV8c3RhdHVzIGJhZGdlIGZvciBvdmVyZHJhd24gYWNjb3VudHMgd2l0aCBkYXRlQEBwcm9kdWN0LXN1bW1hcnktdWkucHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS5iYWRnZS5vdmVyZHJhd25XaXRoRGF0ZTpPdmVyZHJhd24gU2luY2UgJHt0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShcbiAgICAgICAgdGhpcy5pdGVtPy5vdmVyZHVlU2luY2UsXG4gICAgICAgICdNTU0gZCwgeXl5eScsXG4gICAgICApfWAsXG4gICAgICBvdmVyZHJhd25XaXRob3V0RGF0ZTogJGxvY2FsaXplYDpTdGF0dXMgYmFkZ2UgZm9yIG92ZXJkcmF3biBhY2NvdW50cyB3aXRob3V0IGRhdGV8c3RhdHVzIGJhZGdlIGZvciBvdmVyZHJhd24gYWNjb3VudHMgd2l0aG91dCBkYXRlQEBwcm9kdWN0LXN1bW1hcnktdWkucHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS5iYWRnZS5vdmVyZHJhd25XaXRob3V0RGF0ZTpPdmVyZHJhd25gLFxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGVQaXBlOiBCYkRhdGVQaXBlLCBlbGVtZW50OiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PiwgY2hhbmdlRGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY2hhbmdlRGV0ZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGBzZWxlY3RQcm9kdWN0S2luZGAgZXZlbnRcbiAgICovXG4gIG9uU2VsZWN0UHJvZHVjdEtpbmQoKSB7XG4gICAgdGhpcy5zZWxlY3RQcm9kdWN0S2luZC5lbWl0KHRoaXMuaXRlbSk7XG4gIH1cbn1cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2JiUHJvZHVjdE5lZWRzQXR0ZW50aW9uSXRlbUN1c3RvbWl6YWJsZV0nLFxufSlcbmV4cG9ydCBjbGFzcyBQcm9kdWN0TmVlZHNBdHRlbnRpb25JdGVtQ3VzdG9taXphYmxlRGlyZWN0aXZlIGV4dGVuZHMgQmJUZW1wbGF0ZTxcbiAgUHJvZHVjdE5lZWRzQXR0ZW50aW9uSXRlbUNvbXBvbmVudCxcbiAgdW5kZWZpbmVkXG4+IHt9XG4iLCI8bmctY29udGFpbmVyXG4gIGJiUHJvZHVjdE5lZWRzQXR0ZW50aW9uSXRlbUN1c3RvbWl6YWJsZVxuICBbYmJIb3N0UmVmXT1cImhvc3RSZWZcIlxuICBbYmJUZW1wbGF0ZUNvbnRleHRdPVwiaXRlbVwiXG4+PC9uZy1jb250YWluZXI+XG5cbjxuZy10ZW1wbGF0ZVxuICBiYlByb2R1Y3ROZWVkc0F0dGVudGlvbkl0ZW1DdXN0b21pemFibGVcbiAgbGV0LWhvc3RSZWZcbj5cbiAgPGRpdiBjbGFzcz1cImJiLXByb2R1Y3QtbmVlZHMtYXR0ZW50aW9uLWl0ZW0tdWlcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYmItcHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS11aV9faXRlbVwiIChjbGljayk9XCJob3N0UmVmLm9uU2VsZWN0UHJvZHVjdEtpbmQoJGV2ZW50KVwiPlxuICAgICAgPCEtLSBBY2NvdW50IGRldGFpbHMgIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrIGJiLXN0YWNrLS1hbGlnbi10b3AgYmItcHJvZHVjdC1uZWVkcy1hdHRlbnRpb24taXRlbS11aS1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtXCIgKm5nSWY9XCJob3N0UmVmLnNob3dMb2dvICYmIGhvc3RSZWYucmVzcG9uc2l2ZVZpZXcgIT09ICdtb2JpbGUnXCI+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cInByb2R1Y3RMb2dvXCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2tfX2l0ZW0gYmItc3RhY2tfX2l0ZW0tLWZpbGxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2sgYmItc3RhY2stLXdyYXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgcm9sZT1cImxpbmtcIlxuICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm92ZXJkdWUtYWNjb3VudC1uYW1lXCJcbiAgICAgICAgICAgICAgICAoYmJLZXlib2FyZENsaWNrKT1cImhvc3RSZWYub25TZWxlY3RQcm9kdWN0S2luZCgkZXZlbnQpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt7IGhvc3RSZWYuaXRlbT8ubmFtZSB9fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYmItYWNjb3VudC1pbmZvX19wcm9kdWN0LW51bWJlclwiXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJob3N0UmVmLml0ZW0gJiYgKGhvc3RSZWYuaXRlbS5JQkFOIHx8IGhvc3RSZWYuaXRlbS5CQkFOIHx8IGhvc3RSZWYuaXRlbS5udW1iZXIpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxiYi1wcm9kdWN0LW51bWJlclxuICAgICAgICAgICAgICAgICAgZGF0YS1yb2xlPVwib3ZlcmR1ZS1hY2NvdW50LW51bWJlclwiXG4gICAgICAgICAgICAgICAgICBbcHJvZHVjdF09XCJob3N0UmVmLml0ZW1cIlxuICAgICAgICAgICAgICAgID48L2JiLXByb2R1Y3QtbnVtYmVyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzcz1cImJiLXN0YWNrX19pdGVtIGJiLXN0YWNrX19pdGVtLS1wdXNoLXJpZ2h0LWxnLWRvd24gYmItcHJvZHVjdC1pdGVtX19kZXRhaWxzXCJcbiAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICAgICAgICdiYi1zdGFja19faXRlbS0tcHVzaC1yaWdodCc6ICEoaG9zdFJlZi5yZXNwb25zaXZlVmlldyA9PT0gJ21vYmlsZScpLFxuICAgICAgICAgICAgICAgICdiYi1zdGFja19faXRlbS0tcHVzaC1sZWZ0JzogKGhvc3RSZWYucmVzcG9uc2l2ZVZpZXcgPT09ICdtb2JpbGUnKVxuICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGJiLWFtb3VudC11aVxuICAgICAgICAgICAgICAgIGRhdGEtcm9sZT1cIm92ZXJkdWUtYWNjb3VudC1ib29rZWQtYmFsYW5jZVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGRcIlxuICAgICAgICAgICAgICAgIFthbW91bnRdPVwiaG9zdFJlZi5pdGVtPy5ib29rZWRCYWxhbmNlXCJcbiAgICAgICAgICAgICAgICBbY3VycmVuY3ldPVwiaG9zdFJlZi5pdGVtPy5jdXJyZW5jeVwiXG4gICAgICAgICAgICAgICAgW21hcEN1cnJlbmN5XT1cInRydWVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvYmItYW1vdW50LXVpPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gQWNjb3VudCBzdGF0dXMgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItc3RhY2sgYmItYmxvY2sgYmItYmxvY2stLXNtIGJiLWJsb2NrLS1tZC1tZC1kb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYi1zdGFja19faXRlbVwiPlxuICAgICAgICAgIDxiYi1iYWRnZS11aVxuICAgICAgICAgICAgKm5nSWY9XCJob3N0UmVmLml0ZW0ucHJvZHVjdEtpbmRVcmkgPT09IGhvc3RSZWYucHJvZHVjdEtpbmRVcmkuTE9BTiB8fCBob3N0UmVmLml0ZW0ucHJvZHVjdEtpbmRVcmkgPT09IGhvc3RSZWYucHJvZHVjdEtpbmRVcmkuQ1JFRElUX0NBUkQ7IGVsc2Ugb3ZlcmRyYXduU3RhdHVzQmFkZ2VcIlxuICAgICAgICAgICAgdGV4dD1cInt7aG9zdFJlZi5pdGVtLm92ZXJkdWVTaW5jZSA/IGhvc3RSZWYuc3RhdHVzQmFkZ2VzLm92ZXJkdWVXaXRoRGF0ZSA6IGhvc3RSZWYuc3RhdHVzQmFkZ2VzLm92ZXJkdWVXaXRob3V0RGF0ZX19XCJcbiAgICAgICAgICAgIGNvbG9yPVwiZGFuZ2VyXCJcbiAgICAgICAgICAgIGRhdGEtcm9sZT1cIm92ZXJkdWUtYWNjb3VudC1zdGF0dXMtYmFkZ2VcIlxuICAgICAgICAgID48L2JiLWJhZGdlLXVpPlxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjb3ZlcmRyYXduU3RhdHVzQmFkZ2U+XG4gICAgICAgICAgICA8YmItYmFkZ2UtdWlcbiAgICAgICAgICAgICAgdGV4dD1cInt7aG9zdFJlZi5pdGVtLm92ZXJkdWVTaW5jZSA/IGhvc3RSZWYuc3RhdHVzQmFkZ2VzLm92ZXJkcmF3bldpdGhEYXRlIDogaG9zdFJlZi5zdGF0dXNCYWRnZXMub3ZlcmRyYXduV2l0aG91dERhdGV9fVwiXG4gICAgICAgICAgICAgIGNvbG9yPVwiZGFuZ2VyXCJcbiAgICAgICAgICAgICAgZGF0YS1yb2xlPVwib3ZlcmR1ZS1hY2NvdW50LXN0YXR1cy1iYWRnZVwiXG4gICAgICAgICAgICA+PC9iYi1iYWRnZS11aT5cbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJiLXN0YWNrX19pdGVtIGJiLXN0YWNrX19pdGVtLS1wdXNoLXJpZ2h0XCI+XG4gICAgICAgICAgPGJiLWFtb3VudC11aVxuICAgICAgICAgICAgY2xhc3M9XCJiYi10ZXh0LWJvbGQgYmItdGV4dC1kYW5nZXJcIlxuICAgICAgICAgICAgZGF0YS1yb2xlPVwib3ZlcmR1ZS1hY2NvdW50LXNlY29uZGFyeS1iYWxhbmNlXCJcbiAgICAgICAgICAgIFthbW91bnRdPVwiaG9zdFJlZi5pdGVtPy5zZWNvbmRhcnlCYWxhbmNlXCJcbiAgICAgICAgICAgIFtjdXJyZW5jeV09XCJob3N0UmVmLml0ZW0/LmN1cnJlbmN5XCJcbiAgICAgICAgICAgIFttYXBDdXJyZW5jeV09XCJ0cnVlXCJcbiAgICAgICAgICA+PC9iYi1hbW91bnQtdWk+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gUGF5IG5vdyBidXR0b24gLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiYmItYnV0dG9uLWJhclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYmJCdXR0b25cbiAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgIGNsYXNzPVwiYmItYnV0dG9uLWJhcl9fYnV0dG9uXCJcbiAgICAgICAgICBkYXRhLXJvbGU9XCJvdmVyZHVlLWFjY291bnQtcGF5LW5vdy1idXR0b25cIlxuICAgICAgICAgIGkxOG49XCJQYXkgTm93IGJ1dHRvbkBAcHJvZHVjdC1zdW1tYXJ5LXVpLmJiLXByb2R1Y3QtbmVlZHMtYXR0ZW50aW9uLWl0ZW0uYnV0dG9uLnBheU5vd1wiXG4gICAgICAgICAgKGNsaWNrKT1cImhvc3RSZWYucGF5Tm93Q2xpY2suZW1pdChob3N0UmVmLml0ZW0uaWQpOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICA+XG4gICAgICAgICAgUGF5IE5vd1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPG5nLXRlbXBsYXRlICNwcm9kdWN0TG9nbz5cbiAgICAgIDxiYi1wcm9kdWN0LXN1bW1hcnktYWNjb3VudC1sb2dvXG4gICAgICAgIFtsb2dvU3JjXT1cImhvc3RSZWYuaXRlbT8uZmluYW5jaWFsSW5zdGl0dXRpb24/LmxvZ29cIlxuICAgICAgICBbcHJvZHVjdEtpbmROYW1lXT1cImhvc3RSZWYuaXRlbT8ucHJvZHVjdEtpbmROYW1lXCJcbiAgICAgICAgaWNvbkNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgZGF0YS1yb2xlPVwib3ZlcmR1ZS1hY2NvdW50LWxvZ29cIlxuICAgICAgPjwvYmItcHJvZHVjdC1zdW1tYXJ5LWFjY291bnQtbG9nbz5cbiAgICA8L25nLXRlbXBsYXRlPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=