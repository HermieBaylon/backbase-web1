{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, Input, Directive, EventEmitter, Output, Injectable, Optional, Inject, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$2 from '@backbase/foundation-ang/core';\nimport { BbTemplate, BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\nimport * as i1$1 from '@backbase/accessgroup-ui';\nimport { AccessgroupUiModule } from '@backbase/accessgroup-ui';\nimport * as i8 from '@backbase/select-context-widget-ang';\nimport { SelectContextWidgetModule } from '@backbase/select-context-widget-ang';\nimport * as i1 from '@backbase/ui-ang/avatar';\nimport { AvatarModule } from '@backbase/ui-ang/avatar';\nimport * as i5 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i7 from '@backbase/ui-ang/modal';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport * as i10 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i3 from '@backbase/ui-ang/dropdown-menu';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { LOGOUT } from '@backbase/foundation-ang/web-sdk';\nimport { BehaviorSubject, of, combineLatest } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport * as i1$3 from '@backbase/data-ang/accesscontrol';\nimport * as i2$1 from '@backbase/data-ang/user';\n\nfunction UserContextMenuInfoComponent_ng_template_1_bb_avatar_ui_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-avatar-ui\", 7);\n  }\n\n  if (rf & 2) {\n    const userInfo_r2 = i0.ɵɵnextContext().context.userInfo;\n    i0.ɵɵproperty(\"name\", userInfo_r2 == null ? null : userInfo_r2.fullName);\n  }\n}\n\nfunction UserContextMenuInfoComponent_ng_template_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const userInfo_r2 = i0.ɵɵnextContext().context.userInfo;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", userInfo_r2 == null ? null : userInfo_r2.fullName, \" \");\n  }\n}\n\nfunction UserContextMenuInfoComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, UserContextMenuInfoComponent_ng_template_1_bb_avatar_ui_1_Template, 1, 1, \"bb-avatar-ui\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtemplate(3, UserContextMenuInfoComponent_ng_template_1_div_3_Template, 2, 1, \"div\", 5);\n    i0.ɵɵelementStart(4, \"div\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const userInfo_r2 = ctx.context.userInfo;\n    const currentContext_r3 = ctx.context.currentContext;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", userInfo_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", userInfo_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", currentContext_r3 == null ? null : currentContext_r3.name, \" \");\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    userInfo: a0,\n    currentContext: a1\n  };\n};\n\nfunction UserContextMenuDropdownComponent_ng_template_1_ng_container_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵi18n(1, 13);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserContextMenuDropdownComponent_ng_template_1_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function UserContextMenuDropdownComponent_ng_template_1_ng_container_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n      return hostRef_r1.onChangeContext();\n    });\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵelement(3, \"bb-user-context-icon-ui\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, UserContextMenuDropdownComponent_ng_template_1_ng_container_0_div_7_Template, 2, 0, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"div\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    const currentContext_r2 = ctx_r10.context.currentContext;\n    const canSelectContext_r3 = ctx_r10.context.canSelectContext;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"isMaster\", currentContext_r2 == null ? null : currentContext_r2.isMaster)(\"name\", currentContext_r2 == null ? null : currentContext_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", currentContext_r2 == null ? null : currentContext_r2.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", canSelectContext_r3);\n  }\n}\n\nfunction UserContextMenuDropdownComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵtemplate(0, UserContextMenuDropdownComponent_ng_template_1_ng_container_0_Template, 9, 4, \"ng-container\", 2);\n    i0.ɵɵelementStart(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function UserContextMenuDropdownComponent_ng_template_1_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const hostRef_r1 = restoredCtx.$implicit;\n      return hostRef_r1.onLogout();\n    });\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵi18n(3, 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const canSelectContext_r3 = ctx.context.canSelectContext;\n    const showSingleContext_r4 = ctx.context.showSingleContext;\n    i0.ɵɵproperty(\"ngIf\", canSelectContext_r3 || showSingleContext_r4);\n  }\n}\n\nconst _c5 = function (a0, a1, a2) {\n  return {\n    currentContext: a0,\n    canSelectContext: a1,\n    showSingleContext: a2\n  };\n};\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"bb-user-context-menu-info\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelement(3, \"bb-icon-ui\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    const userInfo_r6 = ctx_r12.context.userInfo;\n    const currentContext_r2 = ctx_r12.context.currentContext;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"userInfo\", userInfo_r6)(\"currentContext\", currentContext_r2);\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-user-context-menu-dropdown\", 13);\n    i0.ɵɵlistener(\"changeContext\", function UserContextMenuContainerComponent_ng_template_6_ng_template_3_Template_bb_user_context_menu_dropdown_changeContext_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n      return hostRef_r1.openSwitchContextModal();\n    })(\"logout\", function UserContextMenuContainerComponent_ng_template_6_ng_template_3_Template_bb_user_context_menu_dropdown_logout_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n      return hostRef_r1.logout();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    const currentContext_r2 = ctx_r18.context.currentContext;\n    const showSingleContext_r3 = ctx_r18.context.showSingleContext;\n    const canSelectContext_r5 = ctx_r18.context.canSelectContext;\n    i0.ɵɵproperty(\"currentContext\", currentContext_r2)(\"showSingleContext\", showSingleContext_r3)(\"canSelectContext\", canSelectContext_r5);\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_6_bb_select_context_widget_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-select-context-widget\", 15);\n    i0.ɵɵlistener(\"loading\", function UserContextMenuContainerComponent_ng_template_6_ng_template_6_bb_select_context_widget_0_Template_bb_select_context_widget_loading_0_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n      return hostRef_r1.loadingChanged($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const widgetProperties_r7 = i0.ɵɵnextContext(2).context.widgetProperties;\n    i0.ɵɵproperty(\"pageSize\", widgetProperties_r7.pageSize)(\"includeCurrentContext\", widgetProperties_r7.includeCurrentContext)(\"showSearchAfter\", widgetProperties_r7.showSearchAfter)(\"selectContextRedirectPage\", widgetProperties_r7.selectContextRedirectPage);\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, UserContextMenuContainerComponent_ng_template_6_ng_template_6_bb_select_context_widget_0_Template, 1, 4, \"bb-select-context-widget\", 14);\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.renderContextSelect);\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_8_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function UserContextMenuContainerComponent_ng_template_6_ng_template_8_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n      return hostRef_r1.showSwitchContextModal = false;\n    });\n    i0.ɵɵi18n(1, 18);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, UserContextMenuContainerComponent_ng_template_6_ng_template_8_button_0_Template, 2, 0, \"button\", 16);\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.showCancelButton);\n  }\n}\n\nfunction UserContextMenuContainerComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"bb-dropdown-menu-ui\", 3);\n    i0.ɵɵtemplate(2, UserContextMenuContainerComponent_ng_template_6_ng_template_2_Template, 4, 2, \"ng-template\", 4);\n    i0.ɵɵtemplate(3, UserContextMenuContainerComponent_ng_template_6_ng_template_3_Template, 1, 3, \"ng-template\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"bb-modal-ui\", 6);\n    i0.ɵɵlistener(\"isOpenChange\", function UserContextMenuContainerComponent_ng_template_6_Template_bb_modal_ui_isOpenChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const hostRef_r1 = restoredCtx.$implicit;\n      return hostRef_r1.showSwitchContextModal = $event;\n    });\n    i0.ɵɵelementStart(5, \"bb-modal-body-ui\");\n    i0.ɵɵtemplate(6, UserContextMenuContainerComponent_ng_template_6_ng_template_6_Template, 1, 1, \"ng-template\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"bb-modal-footer-ui\");\n    i0.ɵɵtemplate(8, UserContextMenuContainerComponent_ng_template_6_ng_template_8_Template, 1, 1, \"ng-template\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const dropdownMenuPosition_r4 = ctx.context.dropdownMenuPosition;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"position\", dropdownMenuPosition_r4)(\"fullWidth\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"isOpen\", hostRef_r1.showSwitchContextModal);\n  }\n}\n\nconst _c10 = function (a0, a1, a2, a3, a4, a5) {\n  return {\n    currentContext: a0,\n    showSingleContext: a1,\n    dropdownMenuPosition: a2,\n    canSelectContext: a3,\n    userInfo: a4,\n    widgetProperties: a5\n  };\n};\n\nclass UserContextMenuInfoComponent {\n  constructor() {\n    this.hostRef = this;\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuInfoComponent.ɵfac = function UserContextMenuInfoComponent_Factory(t) {\n  return new (t || UserContextMenuInfoComponent)();\n};\n/** @nocollapse */\n\n\nUserContextMenuInfoComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: UserContextMenuInfoComponent,\n  selectors: [[\"bb-user-context-menu-info\"]],\n  inputs: {\n    userInfo: \"userInfo\",\n    currentContext: \"currentContext\"\n  },\n  decls: 2,\n  vars: 5,\n  consts: [[\"bbUserContextMenuInfoCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbUserContextMenuInfoCustomizable\", \"\"], [1, \"user-context-menu-info\"], [\"class\", \"user-context-menu-info__avatar\", 3, \"name\", 4, \"ngIf\"], [1, \"user-context-menu-info__description\"], [\"class\", \"user-context-menu-info__name\", \"data-role\", \"user-full-name\", 4, \"ngIf\"], [\"data-role\", \"current-context\", 1, \"user-context-menu-info__context\"], [1, \"user-context-menu-info__avatar\", 3, \"name\"], [\"data-role\", \"user-full-name\", 1, \"user-context-menu-info__name\"]],\n  template: function UserContextMenuInfoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, UserContextMenuInfoComponent_ng_template_1_Template, 6, 3, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx.hostRef)(\"bbTemplateContext\", i0.ɵɵpureFunction2(2, _c0, ctx.userInfo, ctx.currentContext));\n    }\n  },\n  directives: function () {\n    return [UserContextMenuInfoCustomizableDirective, i2.NgIf, i1.AvatarComponent];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuInfoComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-user-context-menu-info',\n      templateUrl: './user-context-menu-info.component.html'\n    }]\n  }], null, {\n    userInfo: [{\n      type: Input\n    }],\n    currentContext: [{\n      type: Input\n    }]\n  });\n})();\n\nclass UserContextMenuInfoCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nUserContextMenuInfoCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵUserContextMenuInfoCustomizableDirective_BaseFactory;\n  return function UserContextMenuInfoCustomizableDirective_Factory(t) {\n    return (ɵUserContextMenuInfoCustomizableDirective_BaseFactory || (ɵUserContextMenuInfoCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(UserContextMenuInfoCustomizableDirective)))(t || UserContextMenuInfoCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nUserContextMenuInfoCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: UserContextMenuInfoCustomizableDirective,\n  selectors: [[\"\", \"bbUserContextMenuInfoCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuInfoCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbUserContextMenuInfoCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass UserContextMenuDropdownComponent {\n  constructor() {\n    this.hostRef = this;\n    this.canSelectContext = false;\n    this.changeContext = new EventEmitter();\n    this.logout = new EventEmitter();\n  }\n\n  onChangeContext() {\n    if (this.canSelectContext) {\n      this.changeContext.emit();\n    }\n  }\n\n  onLogout() {\n    this.logout.emit();\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuDropdownComponent.ɵfac = function UserContextMenuDropdownComponent_Factory(t) {\n  return new (t || UserContextMenuDropdownComponent)();\n};\n/** @nocollapse */\n\n\nUserContextMenuDropdownComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: UserContextMenuDropdownComponent,\n  selectors: [[\"bb-user-context-menu-dropdown\"]],\n  inputs: {\n    currentContext: \"currentContext\",\n    showSingleContext: \"showSingleContext\",\n    canSelectContext: \"canSelectContext\"\n  },\n  outputs: {\n    changeContext: \"changeContext\",\n    logout: \"logout\"\n  },\n  decls: 2,\n  vars: 6,\n  consts: function () {\n    let i18n_1;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Click to log out label\n       * @meaning Log out\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS__2 = goog.getMsg(\" Log out \");\n      i18n_1 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS__2;\n    } else {\n      i18n_1 = $localize`:Log out|Click to log out label@@user-context-menu.label.logout: Log out `;\n    }\n\n    let i18n_3;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Click to change context label\n       * @meaning Change context\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS____4 = goog.getMsg(\" (click to change context) \");\n      i18n_3 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS____4;\n    } else {\n      i18n_3 = $localize`:Change context|Click to change context label@@user-context-menu.label.clickToChange: (click to change context) `;\n    }\n\n    return [[\"bbUserContextMenuDropdownCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbUserContextMenuDropdownCustomizable\", \"\"], [4, \"ngIf\"], [\"role\", \"menuitem\", \"data-role\", \"logout\", 1, \"dropdown-item\", 3, \"click\"], [1, \"user-context-menu-info\"], i18n_1, [\"role\", \"menuitem\", \"data-role\", \"user-context-menu-dropdown-change-context-btn\", 1, \"dropdown-item\", \"bb-stack\", 3, \"click\"], [1, \"bb-stack__item\"], [3, \"isMaster\", \"name\"], [\"data-role\", \"user-context\", 1, \"bb-text-bold\"], [\"class\", \"bb-text-support\", \"data-role\", \"change-context\", 4, \"ngIf\"], [1, \"dropdown-divider\"], [\"data-role\", \"change-context\", 1, \"bb-text-support\"], i18n_3];\n  },\n  template: function UserContextMenuDropdownComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, UserContextMenuDropdownComponent_ng_template_1_Template, 4, 1, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx.hostRef)(\"bbTemplateContext\", i0.ɵɵpureFunction3(2, _c5, ctx.currentContext, ctx.canSelectContext, ctx.showSingleContext));\n    }\n  },\n  directives: function () {\n    return [UserContextMenuDropdownCustomizableDirective, i2.NgIf, i1$1.UserContextIconComponent];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuDropdownComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-user-context-menu-dropdown',\n      templateUrl: './user-context-menu-dropdown.component.html'\n    }]\n  }], null, {\n    currentContext: [{\n      type: Input\n    }],\n    showSingleContext: [{\n      type: Input\n    }],\n    canSelectContext: [{\n      type: Input\n    }],\n    changeContext: [{\n      type: Output\n    }],\n    logout: [{\n      type: Output\n    }]\n  });\n})();\n\nclass UserContextMenuDropdownCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nUserContextMenuDropdownCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵUserContextMenuDropdownCustomizableDirective_BaseFactory;\n  return function UserContextMenuDropdownCustomizableDirective_Factory(t) {\n    return (ɵUserContextMenuDropdownCustomizableDirective_BaseFactory || (ɵUserContextMenuDropdownCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(UserContextMenuDropdownCustomizableDirective)))(t || UserContextMenuDropdownCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nUserContextMenuDropdownCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: UserContextMenuDropdownCustomizableDirective,\n  selectors: [[\"\", \"bbUserContextMenuDropdownCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuDropdownCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbUserContextMenuDropdownCustomizable]'\n    }]\n  }], null, null);\n})();\n\nconst WidgetProperty = {\n  PAGE_SIZE: 'pageSize',\n  INCLUDE_CURRENT_CONTEXT: 'includeCurrentContext',\n  SHOW_SEARCH_AFTER: 'showSearchAfter',\n  SHOW_SINGLE_CONTEXT: 'showSingleContext',\n  REDIRECT_PAGE: 'selectContextRedirectPage'\n};\nconst DefaultWidgetProperties = {\n  pageSize: 7,\n  includeCurrentContext: true,\n  showSearchAfter: 7,\n  selectContextRedirectPage: '',\n  showSingleContext: true\n};\n\nclass UserContextMenuWidgetPropertiesService {\n  constructor(itemModel) {\n    this.itemModel = itemModel;\n    this.pageSizeSubject$ = new BehaviorSubject(undefined);\n    this.includeCurrentContextSubject$ = new BehaviorSubject(undefined);\n    this.showSearchAfterSubject$ = new BehaviorSubject(undefined);\n    this.selectContextRedirectPageSubject$ = new BehaviorSubject(undefined);\n    this.showSingleContextSubject$ = new BehaviorSubject(undefined);\n    this.pageSize = this.itemModel ? this.itemModel.property(WidgetProperty.PAGE_SIZE, '7').pipe(map(propertyValue => parseInt(propertyValue, 10))) : of(DefaultWidgetProperties.pageSize);\n    this.includeCurrentContext = this.itemModel ? this.itemModel.property(WidgetProperty.INCLUDE_CURRENT_CONTEXT, 'true').pipe(map(propertyValue => `${propertyValue}` === 'true')) : of(DefaultWidgetProperties.includeCurrentContext);\n    this.showSearchAfter = this.itemModel ? this.itemModel.property(WidgetProperty.SHOW_SEARCH_AFTER, '7').pipe(map(propertyValue => parseInt(propertyValue, 10))) : of(DefaultWidgetProperties.showSearchAfter);\n    this.selectContextRedirectPage = this.itemModel ? this.itemModel.property(WidgetProperty.REDIRECT_PAGE, '') : of(DefaultWidgetProperties.selectContextRedirectPage);\n    this.showSingleContext = this.itemModel ? this.itemModel.property(WidgetProperty.SHOW_SINGLE_CONTEXT, 'true').pipe(map(propertyValue => `${propertyValue}` === 'true')) : of(DefaultWidgetProperties.showSingleContext);\n    this.pageSize$ = this.getProperty(this.pageSizeSubject$, this.pageSize).pipe(map(Number));\n    this.includeCurrentContext$ = this.getProperty(this.includeCurrentContextSubject$, this.includeCurrentContext).pipe(map(this.toBoolean));\n    this.showSearchAfter$ = this.getProperty(this.showSearchAfterSubject$, this.showSearchAfter).pipe(map(Number));\n    this.selectContextRedirectPage$ = this.getProperty(this.selectContextRedirectPageSubject$, this.selectContextRedirectPage);\n    this.showSingleContext$ = this.getProperty(this.showSingleContextSubject$, this.showSingleContext);\n    this.properties$ = combineLatest([this.pageSize$, this.includeCurrentContext$, this.showSearchAfter$, this.selectContextRedirectPage$, this.showSingleContext$]).pipe(map(([pageSize, includeCurrentContext, showSearchAfter, selectContextRedirectPage, showSingleContext]) => ({\n      pageSize,\n      includeCurrentContext,\n      showSearchAfter,\n      selectContextRedirectPage,\n      showSingleContext\n    })));\n  }\n\n  getProperty(input$, itemModel) {\n    return combineLatest([input$, itemModel]).pipe(map(([value, valueIM]) => value === undefined ? valueIM : value));\n  }\n\n  toBoolean(value) {\n    return value === 'true' || value === true;\n  }\n\n  setPageSize(value) {\n    this.pageSizeSubject$.next(value);\n  }\n\n  setIncludeCurrentContext(value) {\n    this.includeCurrentContextSubject$.next(value);\n  }\n\n  setShowSearchAfter(value) {\n    this.showSearchAfterSubject$.next(value);\n  }\n\n  setSelectContextRedirectPage(value) {\n    this.selectContextRedirectPageSubject$.next(value);\n  }\n\n  setShowSingleContext(value) {\n    this.showSingleContextSubject$.next(value);\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuWidgetPropertiesService.ɵfac = function UserContextMenuWidgetPropertiesService_Factory(t) {\n  return new (t || UserContextMenuWidgetPropertiesService)(i0.ɵɵinject(i1$2.ItemModel, 8));\n};\n/** @nocollapse */\n\n\nUserContextMenuWidgetPropertiesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: UserContextMenuWidgetPropertiesService,\n  factory: UserContextMenuWidgetPropertiesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuWidgetPropertiesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$2.ItemModel,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nclass UserContextMenuService {\n  constructor(userContextService, serviceAgreementService, userService) {\n    this.userContextService = userContextService;\n    this.serviceAgreementService = serviceAgreementService;\n    this.userService = userService;\n    this.currentContext = this.serviceAgreementService.getServiceAgreementContext().pipe(catchError(() => of(undefined)));\n    this.canSelectContext = this.getTotalServiceAgreements();\n    this.userInfo = this.userService.getOwnUser().pipe(catchError(() => of(undefined)));\n  }\n\n  getTotalServiceAgreements() {\n    return this.userContextService.getUserContextServiceAgreements({\n      from: 0,\n      size: 2\n    }, 'response').pipe(map(response => {\n      const items = response.body || [];\n      return (parseInt(response.headers.get('x-total-count') || '0', 10) || items.length) > 1;\n    }), catchError(() => {\n      return of(false);\n    }));\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuService.ɵfac = function UserContextMenuService_Factory(t) {\n  return new (t || UserContextMenuService)(i0.ɵɵinject(i1$3.UserContextHttpService), i0.ɵɵinject(i1$3.ServiceAgreementHttpService), i0.ɵɵinject(i2$1.UserManagementService));\n};\n/** @nocollapse */\n\n\nUserContextMenuService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: UserContextMenuService,\n  factory: UserContextMenuService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$3.UserContextHttpService\n    }, {\n      type: i1$3.ServiceAgreementHttpService\n    }, {\n      type: i2$1.UserManagementService\n    }];\n  }, null);\n})();\n\nclass UserContextMenuContainerComponent {\n  constructor(service, widgetPropertiesService, logoutService) {\n    this.service = service;\n    this.widgetPropertiesService = widgetPropertiesService;\n    this.logoutService = logoutService;\n    this.hostRef = this;\n    this.currentContext = this.service.currentContext;\n    this.showSingleContext = this.widgetPropertiesService.showSingleContext$;\n    this.widgetProperties$ = this.widgetPropertiesService.properties$;\n    this.canSelectContext = this.service.canSelectContext;\n    this.userInfo = this.service.userInfo;\n    this.showSwitchContextModal = false;\n    this.renderContextSelect = false;\n    this.showCancelButton = false;\n  }\n\n  openSwitchContextModal() {\n    this.showSwitchContextModal = true;\n    this.renderContextSelect = true;\n  }\n\n  logout() {\n    this.logoutService.logout().catch(() => {}).then(() => {\n      this.logoutService.goToLoginPage();\n    });\n  }\n  /**\n   * Set flag for show cancel button when loading finished\n   */\n\n\n  loadingChanged(event) {\n    this.showCancelButton = !event;\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuContainerComponent.ɵfac = function UserContextMenuContainerComponent_Factory(t) {\n  return new (t || UserContextMenuContainerComponent)(i0.ɵɵdirectiveInject(UserContextMenuService), i0.ɵɵdirectiveInject(UserContextMenuWidgetPropertiesService), i0.ɵɵdirectiveInject(LOGOUT));\n};\n/** @nocollapse */\n\n\nUserContextMenuContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: UserContextMenuContainerComponent,\n  selectors: [[\"bb-user-context-menu-container\"]],\n  inputs: {\n    dropdownMenuPosition: \"dropdownMenuPosition\"\n  },\n  decls: 7,\n  vars: 19,\n  consts: function () {\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc User Context Menu ariaLabel\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS__7 = goog.getMsg(\"User Context Menu\");\n      i18n_6 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS__7;\n    } else {\n      i18n_6 = $localize`:User Context Menu ariaLabel@@user-context-menu.ariaLabel.text:User Context Menu`;\n    }\n\n    let i18n_8;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Cancel button text\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS____9 = goog.getMsg(\" Cancel \");\n      i18n_8 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_FESM2015_BACKBASE_USER_CONTEXT_MENU_WIDGET_ANG_JS____9;\n    } else {\n      i18n_8 = $localize`:Cancel button text@@user-context-menu.label.cancelButton: Cancel `;\n    }\n\n    return [[\"bbUserContextMenuContainerCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbUserContextMenuContainerCustomizable\", \"\"], [1, \"user-context-dropdown\"], [\"btnColor\", \"unstyled\", \"container\", \"body\", \"ariaLabel\", i18n_6, 3, \"position\", \"fullWidth\"], [\"bbDropdownLabel\", \"\"], [\"bbDropdownMenuItem\", \"\"], [3, \"isOpen\", \"isOpenChange\"], [\"bbCustomModalBody\", \"\"], [\"bbCustomModalFooter\", \"\"], [\"role\", \"button\", \"data-role\", \"context-navigation\", 1, \"user-context-dropdown__selector\"], [3, \"userInfo\", \"currentContext\"], [1, \"user-context-dropdown__toggle\"], [\"name\", \"toggle-down\"], [3, \"currentContext\", \"showSingleContext\", \"canSelectContext\", \"changeContext\", \"logout\"], [3, \"pageSize\", \"includeCurrentContext\", \"showSearchAfter\", \"selectContextRedirectPage\", \"loading\", 4, \"ngIf\"], [3, \"pageSize\", \"includeCurrentContext\", \"showSearchAfter\", \"selectContextRedirectPage\", \"loading\"], [\"bbButton\", \"\", \"color\", \"secondary\", \"data-role\", \"cancel-button\", 3, \"click\", 4, \"ngIf\"], [\"bbButton\", \"\", \"color\", \"secondary\", \"data-role\", \"cancel-button\", 3, \"click\"], i18n_8];\n  },\n  template: function UserContextMenuContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵtemplate(6, UserContextMenuContainerComponent_ng_template_6_Template, 9, 3, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx.hostRef)(\"bbTemplateContext\", i0.ɵɵpureFunction6(12, _c10, i0.ɵɵpipeBind1(1, 2, ctx.currentContext), i0.ɵɵpipeBind1(2, 4, ctx.showSingleContext), ctx.dropdownMenuPosition, i0.ɵɵpipeBind1(3, 6, ctx.canSelectContext), i0.ɵɵpipeBind1(4, 8, ctx.userInfo), i0.ɵɵpipeBind1(5, 10, ctx.widgetProperties$)));\n    }\n  },\n  directives: function () {\n    return [UserContextMenuContainerCustomizableDirective, i3.DropdownMenuComponent, i3.DropdownLabelDirective, i3.DropdownMenuItemDirective, i7.ModalComponent, i7.ModalBodyComponent, i7.CustomModalBodyDirective, i7.ModalFooterComponent, i7.CustomModalFooterDirective, UserContextMenuInfoComponent, i5.IconComponent, UserContextMenuDropdownComponent, i2.NgIf, i8.SelectContextWidgetComponent, i10.ButtonDirective];\n  },\n  pipes: function () {\n    return [i2.AsyncPipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-user-context-menu-container',\n      templateUrl: './user-context-menu-container.component.html'\n    }]\n  }], function () {\n    return [{\n      type: UserContextMenuService\n    }, {\n      type: UserContextMenuWidgetPropertiesService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGOUT]\n      }]\n    }];\n  }, {\n    dropdownMenuPosition: [{\n      type: Input\n    }]\n  });\n})();\n\nclass UserContextMenuContainerCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nUserContextMenuContainerCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵUserContextMenuContainerCustomizableDirective_BaseFactory;\n  return function UserContextMenuContainerCustomizableDirective_Factory(t) {\n    return (ɵUserContextMenuContainerCustomizableDirective_BaseFactory || (ɵUserContextMenuContainerCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(UserContextMenuContainerCustomizableDirective)))(t || UserContextMenuContainerCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nUserContextMenuContainerCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: UserContextMenuContainerCustomizableDirective,\n  selectors: [[\"\", \"bbUserContextMenuContainerCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuContainerCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbUserContextMenuContainerCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass UserContextMenuWidgetComponent {\n  constructor(userContextMenuWidgetPropertiesService) {\n    this.userContextMenuWidgetPropertiesService = userContextMenuWidgetPropertiesService;\n    /**\n     * Dropdown menu postion\n     */\n\n    this.dropdownMenuPosition = 'bottom-right';\n  }\n  /**\n   * Number of service agreements to load per page\n   */\n\n\n  set pageSize(value) {\n    this.userContextMenuWidgetPropertiesService.setPageSize(value);\n  }\n  /**\n   * Include current context\n   */\n\n\n  set includeCurrentContext(value) {\n    this.userContextMenuWidgetPropertiesService.setIncludeCurrentContext(value);\n  }\n  /**\n   * Show search if more than service agreements\n   */\n\n\n  set showSearchAfter(value) {\n    this.userContextMenuWidgetPropertiesService.setShowSearchAfter(value);\n  }\n  /**\n   * Redirect after successful context select\n   */\n\n\n  set selectContextRedirectPage(value) {\n    this.userContextMenuWidgetPropertiesService.setSelectContextRedirectPage(value);\n  }\n  /**\n   * Show current context in context switcher when there is only one context\n   */\n\n\n  set showSingleContext(value) {\n    this.userContextMenuWidgetPropertiesService.setShowSingleContext(value);\n  }\n\n}\n/** @nocollapse */\n\n\nUserContextMenuWidgetComponent.ɵfac = function UserContextMenuWidgetComponent_Factory(t) {\n  return new (t || UserContextMenuWidgetComponent)(i0.ɵɵdirectiveInject(UserContextMenuWidgetPropertiesService));\n};\n/** @nocollapse */\n\n\nUserContextMenuWidgetComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: UserContextMenuWidgetComponent,\n  selectors: [[\"bb-user-context-menu-widget\"]],\n  inputs: {\n    pageSize: \"pageSize\",\n    includeCurrentContext: \"includeCurrentContext\",\n    showSearchAfter: \"showSearchAfter\",\n    selectContextRedirectPage: \"selectContextRedirectPage\",\n    showSingleContext: \"showSingleContext\",\n    dropdownMenuPosition: \"dropdownMenuPosition\"\n  },\n  features: [i0.ɵɵProvidersFeature([UserContextMenuService, UserContextMenuWidgetPropertiesService])],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"dropdownMenuPosition\"]],\n  template: function UserContextMenuWidgetComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"bb-user-context-menu-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"dropdownMenuPosition\", ctx.dropdownMenuPosition);\n    }\n  },\n  directives: [UserContextMenuContainerComponent],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuWidgetComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-user-context-menu-widget',\n      template: `\n    <bb-user-context-menu-container [dropdownMenuPosition]=\"dropdownMenuPosition\"></bb-user-context-menu-container>\n  `,\n      providers: [UserContextMenuService, UserContextMenuWidgetPropertiesService]\n    }]\n  }], function () {\n    return [{\n      type: UserContextMenuWidgetPropertiesService\n    }];\n  }, {\n    pageSize: [{\n      type: Input\n    }],\n    includeCurrentContext: [{\n      type: Input\n    }],\n    showSearchAfter: [{\n      type: Input\n    }],\n    selectContextRedirectPage: [{\n      type: Input\n    }],\n    showSingleContext: [{\n      type: Input\n    }],\n    dropdownMenuPosition: [{\n      type: Input\n    }]\n  });\n})();\n\nconst components = [UserContextMenuWidgetComponent, UserContextMenuContainerComponent, UserContextMenuDropdownComponent, UserContextMenuInfoComponent];\nconst directives = [UserContextMenuInfoCustomizableDirective, UserContextMenuDropdownCustomizableDirective, UserContextMenuContainerCustomizableDirective];\nconst uiModules = [AccessgroupUiModule, SelectContextWidgetModule, AvatarModule, IconModule, ModalModule, ButtonModule, NgbDropdownModule, DropdownMenuModule];\n\nclass UserContextMenuWidgetModule {}\n/** @nocollapse */\n\n\nUserContextMenuWidgetModule.ɵfac = function UserContextMenuWidgetModule_Factory(t) {\n  return new (t || UserContextMenuWidgetModule)();\n};\n/** @nocollapse */\n\n\nUserContextMenuWidgetModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: UserContextMenuWidgetModule\n});\n/** @nocollapse */\n\nUserContextMenuWidgetModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, BackbaseCoreModule.withConfig({\n    classMap: {\n      UserContextMenuWidgetComponent\n    }\n  }), ...uiModules], AccessgroupUiModule, SelectContextWidgetModule, AvatarModule, IconModule, ModalModule, ButtonModule, NgbDropdownModule, DropdownMenuModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserContextMenuWidgetModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [...components, ...directives],\n      imports: [CommonModule, BackbaseCoreModule.withConfig({\n        classMap: {\n          UserContextMenuWidgetComponent\n        }\n      }), ...uiModules],\n      exports: [...components, ...directives, ...uiModules]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { UserContextMenuWidgetComponent, UserContextMenuWidgetModule, UserContextMenuContainerComponent as ӨUserContextMenuContainerComponent, UserContextMenuContainerCustomizableDirective as ӨUserContextMenuContainerCustomizableDirective, UserContextMenuDropdownComponent as ӨUserContextMenuDropdownComponent, UserContextMenuDropdownCustomizableDirective as ӨUserContextMenuDropdownCustomizableDirective, UserContextMenuInfoComponent as ӨUserContextMenuInfoComponent, UserContextMenuInfoCustomizableDirective as ӨUserContextMenuInfoCustomizableDirective };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/user-context-menu-widget-ang/fesm2015/backbase-user-context-menu-widget-ang.js"],"names":["i0","Component","Input","Directive","EventEmitter","Output","Injectable","Optional","Inject","NgModule","i2","CommonModule","i1$2","BbTemplate","BackbaseCoreModule","NgbDropdownModule","i1$1","AccessgroupUiModule","i8","SelectContextWidgetModule","i1","AvatarModule","i5","IconModule","i7","ModalModule","i10","ButtonModule","i3","DropdownMenuModule","LOGOUT","BehaviorSubject","of","combineLatest","map","catchError","i1$3","i2$1","UserContextMenuInfoComponent","constructor","hostRef","ɵfac","ɵcmp","UserContextMenuInfoCustomizableDirective","NgIf","AvatarComponent","type","args","selector","templateUrl","userInfo","currentContext","ɵdir","UserContextMenuDropdownComponent","canSelectContext","changeContext","logout","onChangeContext","emit","onLogout","UserContextMenuDropdownCustomizableDirective","UserContextIconComponent","showSingleContext","WidgetProperty","PAGE_SIZE","INCLUDE_CURRENT_CONTEXT","SHOW_SEARCH_AFTER","SHOW_SINGLE_CONTEXT","REDIRECT_PAGE","DefaultWidgetProperties","pageSize","includeCurrentContext","showSearchAfter","selectContextRedirectPage","UserContextMenuWidgetPropertiesService","itemModel","pageSizeSubject$","undefined","includeCurrentContextSubject$","showSearchAfterSubject$","selectContextRedirectPageSubject$","showSingleContextSubject$","property","pipe","propertyValue","parseInt","pageSize$","getProperty","Number","includeCurrentContext$","toBoolean","showSearchAfter$","selectContextRedirectPage$","showSingleContext$","properties$","input$","value","valueIM","setPageSize","next","setIncludeCurrentContext","setShowSearchAfter","setSelectContextRedirectPage","setShowSingleContext","ItemModel","ɵprov","decorators","UserContextMenuService","userContextService","serviceAgreementService","userService","getServiceAgreementContext","getTotalServiceAgreements","getOwnUser","getUserContextServiceAgreements","from","size","response","items","body","headers","get","length","UserContextHttpService","ServiceAgreementHttpService","UserManagementService","UserContextMenuContainerComponent","service","widgetPropertiesService","logoutService","widgetProperties$","showSwitchContextModal","renderContextSelect","showCancelButton","openSwitchContextModal","catch","then","goToLoginPage","loadingChanged","event","UserContextMenuContainerCustomizableDirective","DropdownMenuComponent","DropdownLabelDirective","DropdownMenuItemDirective","ModalComponent","ModalBodyComponent","CustomModalBodyDirective","ModalFooterComponent","CustomModalFooterDirective","IconComponent","SelectContextWidgetComponent","ButtonDirective","AsyncPipe","dropdownMenuPosition","UserContextMenuWidgetComponent","userContextMenuWidgetPropertiesService","template","providers","components","directives","uiModules","UserContextMenuWidgetModule","ɵmod","ɵinj","withConfig","classMap","declarations","imports","exports","ӨUserContextMenuContainerComponent","ӨUserContextMenuContainerCustomizableDirective","ӨUserContextMenuDropdownComponent","ӨUserContextMenuDropdownCustomizableDirective","ӨUserContextMenuInfoComponent","ӨUserContextMenuInfoCustomizableDirective"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, Input, Directive, EventEmitter, Output, Injectable, Optional, Inject, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$2 from '@backbase/foundation-ang/core';\nimport { BbTemplate, BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\nimport * as i1$1 from '@backbase/accessgroup-ui';\nimport { AccessgroupUiModule } from '@backbase/accessgroup-ui';\nimport * as i8 from '@backbase/select-context-widget-ang';\nimport { SelectContextWidgetModule } from '@backbase/select-context-widget-ang';\nimport * as i1 from '@backbase/ui-ang/avatar';\nimport { AvatarModule } from '@backbase/ui-ang/avatar';\nimport * as i5 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i7 from '@backbase/ui-ang/modal';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport * as i10 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i3 from '@backbase/ui-ang/dropdown-menu';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport { LOGOUT } from '@backbase/foundation-ang/web-sdk';\nimport { BehaviorSubject, of, combineLatest } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport * as i1$3 from '@backbase/data-ang/accesscontrol';\nimport * as i2$1 from '@backbase/data-ang/user';\n\nclass UserContextMenuInfoComponent {\n    constructor() {\n        this.hostRef = this;\n    }\n}\n/** @nocollapse */ UserContextMenuInfoComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuInfoComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ UserContextMenuInfoComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuInfoComponent, selector: \"bb-user-context-menu-info\", inputs: { userInfo: \"userInfo\", currentContext: \"currentContext\" }, ngImport: i0, template: \"<ng-container\\n  bbUserContextMenuInfoCustomizable\\n  [bbHostRef]=\\\"hostRef\\\"\\n  [bbTemplateContext]=\\\"{\\n    userInfo: userInfo,\\n    currentContext: currentContext\\n  }\\\">\\n</ng-container>\\n\\n<ng-template\\n  bbUserContextMenuInfoCustomizable\\n  let-hostRef\\n  let-userInfo=\\\"context.userInfo\\\"\\n  let-currentContext=\\\"context.currentContext\\\">\\n  <div class=\\\"user-context-menu-info\\\">\\n    <bb-avatar-ui *ngIf=\\\"userInfo\\\" [name]=\\\"userInfo?.fullName\\\" class=\\\"user-context-menu-info__avatar\\\"></bb-avatar-ui>\\n    <div class=\\\"user-context-menu-info__description\\\">\\n      <div *ngIf=\\\"userInfo\\\" class=\\\"user-context-menu-info__name\\\" data-role=\\\"user-full-name\\\">\\n        {{ userInfo?.fullName }}\\n      </div>\\n      <div class=\\\"user-context-menu-info__context\\\" data-role=\\\"current-context\\\">\\n        {{ currentContext?.name }}\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i1.AvatarComponent; }), selector: \"bb-avatar-ui\", inputs: [\"image\", \"name\", \"imgAlt\", \"size\"] }], directives: [{ type: i0.forwardRef(function () { return UserContextMenuInfoCustomizableDirective; }), selector: \"[bbUserContextMenuInfoCustomizable]\" }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuInfoComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-user-context-menu-info',\n                    templateUrl: './user-context-menu-info.component.html',\n                }]\n        }], propDecorators: { userInfo: [{\n                type: Input\n            }], currentContext: [{\n                type: Input\n            }] } });\nclass UserContextMenuInfoCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ UserContextMenuInfoCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuInfoCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ UserContextMenuInfoCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuInfoCustomizableDirective, selector: \"[bbUserContextMenuInfoCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuInfoCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbUserContextMenuInfoCustomizable]',\n                }]\n        }] });\n\nclass UserContextMenuDropdownComponent {\n    constructor() {\n        this.hostRef = this;\n        this.canSelectContext = false;\n        this.changeContext = new EventEmitter();\n        this.logout = new EventEmitter();\n    }\n    onChangeContext() {\n        if (this.canSelectContext) {\n            this.changeContext.emit();\n        }\n    }\n    onLogout() {\n        this.logout.emit();\n    }\n}\n/** @nocollapse */ UserContextMenuDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuDropdownComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ UserContextMenuDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuDropdownComponent, selector: \"bb-user-context-menu-dropdown\", inputs: { currentContext: \"currentContext\", showSingleContext: \"showSingleContext\", canSelectContext: \"canSelectContext\" }, outputs: { changeContext: \"changeContext\", logout: \"logout\" }, ngImport: i0, template: \"<ng-container\\n  bbUserContextMenuDropdownCustomizable\\n  [bbHostRef]=\\\"hostRef\\\"\\n  [bbTemplateContext]=\\\"{\\n    currentContext: currentContext,\\n    canSelectContext: canSelectContext,\\n    showSingleContext: showSingleContext\\n  }\\\">\\n</ng-container>\\n\\n<ng-template\\n  bbUserContextMenuDropdownCustomizable\\n  let-hostRef\\n  let-currentContext=\\\"context.currentContext\\\"\\n  let-canSelectContext=\\\"context.canSelectContext\\\"\\n  let-showSingleContext=\\\"context.showSingleContext\\\">\\n  <ng-container *ngIf=\\\"canSelectContext || showSingleContext\\\">\\n    <button\\n      class=\\\"dropdown-item bb-stack\\\"\\n      role=\\\"menuitem\\\"\\n      data-role=\\\"user-context-menu-dropdown-change-context-btn\\\"\\n      (click)=\\\"hostRef.onChangeContext()\\\">\\n      <div class=\\\"bb-stack__item\\\">\\n        <bb-user-context-icon-ui\\n          [isMaster]=\\\"currentContext?.isMaster\\\"\\n          [name]=\\\"currentContext?.name\\\"></bb-user-context-icon-ui>\\n      </div>\\n      <div class=\\\"bb-stack__item\\\">\\n        <div class=\\\"bb-text-bold\\\" data-role=\\\"user-context\\\">\\n          {{ currentContext?.name }}\\n        </div>\\n        <div\\n          class=\\\"bb-text-support\\\"\\n          data-role=\\\"change-context\\\"\\n          *ngIf=\\\"canSelectContext\\\"\\n          i18n=\\\"Change context|Click to change context label@@user-context-menu.label.clickToChange\\\">\\n          (click to change context)\\n        </div>\\n      </div>\\n    </button>\\n\\n    <div class=\\\"dropdown-divider\\\"></div>\\n  </ng-container>\\n\\n  <button role=\\\"menuitem\\\" class=\\\"dropdown-item\\\" data-role=\\\"logout\\\" (click)=\\\"hostRef.onLogout()\\\">\\n    <div class=\\\"user-context-menu-info\\\" i18n=\\\"Log out|Click to log out label@@user-context-menu.label.logout\\\">\\n      Log out\\n    </div>\\n  </button>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i1$1.UserContextIconComponent; }), selector: \"bb-user-context-icon-ui\", inputs: [\"isMaster\", \"name\"] }], directives: [{ type: i0.forwardRef(function () { return UserContextMenuDropdownCustomizableDirective; }), selector: \"[bbUserContextMenuDropdownCustomizable]\" }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuDropdownComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-user-context-menu-dropdown',\n                    templateUrl: './user-context-menu-dropdown.component.html',\n                }]\n        }], propDecorators: { currentContext: [{\n                type: Input\n            }], showSingleContext: [{\n                type: Input\n            }], canSelectContext: [{\n                type: Input\n            }], changeContext: [{\n                type: Output\n            }], logout: [{\n                type: Output\n            }] } });\nclass UserContextMenuDropdownCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ UserContextMenuDropdownCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuDropdownCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ UserContextMenuDropdownCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuDropdownCustomizableDirective, selector: \"[bbUserContextMenuDropdownCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuDropdownCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbUserContextMenuDropdownCustomizable]',\n                }]\n        }] });\n\nconst WidgetProperty = {\n    PAGE_SIZE: 'pageSize',\n    INCLUDE_CURRENT_CONTEXT: 'includeCurrentContext',\n    SHOW_SEARCH_AFTER: 'showSearchAfter',\n    SHOW_SINGLE_CONTEXT: 'showSingleContext',\n    REDIRECT_PAGE: 'selectContextRedirectPage',\n};\nconst DefaultWidgetProperties = {\n    pageSize: 7,\n    includeCurrentContext: true,\n    showSearchAfter: 7,\n    selectContextRedirectPage: '',\n    showSingleContext: true,\n};\nclass UserContextMenuWidgetPropertiesService {\n    constructor(itemModel) {\n        this.itemModel = itemModel;\n        this.pageSizeSubject$ = new BehaviorSubject(undefined);\n        this.includeCurrentContextSubject$ = new BehaviorSubject(undefined);\n        this.showSearchAfterSubject$ = new BehaviorSubject(undefined);\n        this.selectContextRedirectPageSubject$ = new BehaviorSubject(undefined);\n        this.showSingleContextSubject$ = new BehaviorSubject(undefined);\n        this.pageSize = this.itemModel\n            ? this.itemModel\n                .property(WidgetProperty.PAGE_SIZE, '7')\n                .pipe(map(propertyValue => parseInt(propertyValue, 10)))\n            : of(DefaultWidgetProperties.pageSize);\n        this.includeCurrentContext = this.itemModel\n            ? this.itemModel\n                .property(WidgetProperty.INCLUDE_CURRENT_CONTEXT, 'true')\n                .pipe(map(propertyValue => `${propertyValue}` === 'true'))\n            : of(DefaultWidgetProperties.includeCurrentContext);\n        this.showSearchAfter = this.itemModel\n            ? this.itemModel\n                .property(WidgetProperty.SHOW_SEARCH_AFTER, '7')\n                .pipe(map(propertyValue => parseInt(propertyValue, 10)))\n            : of(DefaultWidgetProperties.showSearchAfter);\n        this.selectContextRedirectPage = this.itemModel\n            ? this.itemModel.property(WidgetProperty.REDIRECT_PAGE, '')\n            : of(DefaultWidgetProperties.selectContextRedirectPage);\n        this.showSingleContext = this.itemModel\n            ? this.itemModel\n                .property(WidgetProperty.SHOW_SINGLE_CONTEXT, 'true')\n                .pipe(map(propertyValue => `${propertyValue}` === 'true'))\n            : of(DefaultWidgetProperties.showSingleContext);\n        this.pageSize$ = this.getProperty(this.pageSizeSubject$, this.pageSize).pipe(map(Number));\n        this.includeCurrentContext$ = this.getProperty(this.includeCurrentContextSubject$, this.includeCurrentContext).pipe(map(this.toBoolean));\n        this.showSearchAfter$ = this.getProperty(this.showSearchAfterSubject$, this.showSearchAfter).pipe(map(Number));\n        this.selectContextRedirectPage$ = this.getProperty(this.selectContextRedirectPageSubject$, this.selectContextRedirectPage);\n        this.showSingleContext$ = this.getProperty(this.showSingleContextSubject$, this.showSingleContext);\n        this.properties$ = combineLatest([\n            this.pageSize$,\n            this.includeCurrentContext$,\n            this.showSearchAfter$,\n            this.selectContextRedirectPage$,\n            this.showSingleContext$,\n        ]).pipe(map(([pageSize, includeCurrentContext, showSearchAfter, selectContextRedirectPage, showSingleContext]) => ({\n            pageSize,\n            includeCurrentContext,\n            showSearchAfter,\n            selectContextRedirectPage,\n            showSingleContext,\n        })));\n    }\n    getProperty(input$, itemModel) {\n        return combineLatest([input$, itemModel]).pipe(map(([value, valueIM]) => (value === undefined ? valueIM : value)));\n    }\n    toBoolean(value) {\n        return value === 'true' || value === true;\n    }\n    setPageSize(value) {\n        this.pageSizeSubject$.next(value);\n    }\n    setIncludeCurrentContext(value) {\n        this.includeCurrentContextSubject$.next(value);\n    }\n    setShowSearchAfter(value) {\n        this.showSearchAfterSubject$.next(value);\n    }\n    setSelectContextRedirectPage(value) {\n        this.selectContextRedirectPageSubject$.next(value);\n    }\n    setShowSingleContext(value) {\n        this.showSingleContextSubject$.next(value);\n    }\n}\n/** @nocollapse */ UserContextMenuWidgetPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetPropertiesService, deps: [{ token: i1$2.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ UserContextMenuWidgetPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetPropertiesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetPropertiesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$2.ItemModel, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nclass UserContextMenuService {\n    constructor(userContextService, serviceAgreementService, userService) {\n        this.userContextService = userContextService;\n        this.serviceAgreementService = serviceAgreementService;\n        this.userService = userService;\n        this.currentContext = this.serviceAgreementService\n            .getServiceAgreementContext()\n            .pipe(catchError(() => of(undefined)));\n        this.canSelectContext = this.getTotalServiceAgreements();\n        this.userInfo = this.userService\n            .getOwnUser()\n            .pipe(catchError(() => of(undefined)));\n    }\n    getTotalServiceAgreements() {\n        return this.userContextService.getUserContextServiceAgreements({ from: 0, size: 2 }, 'response').pipe(map((response) => {\n            const items = response.body || [];\n            return (parseInt(response.headers.get('x-total-count') || '0', 10) || items.length) > 1;\n        }), catchError(() => {\n            return of(false);\n        }));\n    }\n}\n/** @nocollapse */ UserContextMenuService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuService, deps: [{ token: i1$3.UserContextHttpService }, { token: i1$3.ServiceAgreementHttpService }, { token: i2$1.UserManagementService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ UserContextMenuService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$3.UserContextHttpService }, { type: i1$3.ServiceAgreementHttpService }, { type: i2$1.UserManagementService }]; } });\n\nclass UserContextMenuContainerComponent {\n    constructor(service, widgetPropertiesService, logoutService) {\n        this.service = service;\n        this.widgetPropertiesService = widgetPropertiesService;\n        this.logoutService = logoutService;\n        this.hostRef = this;\n        this.currentContext = this.service.currentContext;\n        this.showSingleContext = this.widgetPropertiesService.showSingleContext$;\n        this.widgetProperties$ = this.widgetPropertiesService.properties$;\n        this.canSelectContext = this.service.canSelectContext;\n        this.userInfo = this.service.userInfo;\n        this.showSwitchContextModal = false;\n        this.renderContextSelect = false;\n        this.showCancelButton = false;\n    }\n    openSwitchContextModal() {\n        this.showSwitchContextModal = true;\n        this.renderContextSelect = true;\n    }\n    logout() {\n        this.logoutService\n            .logout()\n            .catch(() => { })\n            .then(() => {\n            this.logoutService.goToLoginPage();\n        });\n    }\n    /**\n     * Set flag for show cancel button when loading finished\n     */\n    loadingChanged(event) {\n        this.showCancelButton = !event;\n    }\n}\n/** @nocollapse */ UserContextMenuContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuContainerComponent, deps: [{ token: UserContextMenuService }, { token: UserContextMenuWidgetPropertiesService }, { token: LOGOUT }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ UserContextMenuContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuContainerComponent, selector: \"bb-user-context-menu-container\", inputs: { dropdownMenuPosition: \"dropdownMenuPosition\" }, ngImport: i0, template: \"<ng-container\\n  bbUserContextMenuContainerCustomizable\\n  [bbHostRef]=\\\"hostRef\\\"\\n  [bbTemplateContext]=\\\"{\\n    currentContext: currentContext | async,\\n    showSingleContext: showSingleContext | async,\\n    dropdownMenuPosition: dropdownMenuPosition,\\n    canSelectContext: canSelectContext | async,\\n    userInfo: userInfo | async,\\n    widgetProperties: widgetProperties$ | async\\n  }\\\">\\n</ng-container>\\n\\n<ng-template\\n  bbUserContextMenuContainerCustomizable\\n  let-hostRef\\n  let-currentContext=\\\"context.currentContext\\\"\\n  let-showSingleContext=\\\"context.showSingleContext\\\"\\n  let-dropdownMenuPosition=\\\"context.dropdownMenuPosition\\\"\\n  let-canSelectContext=\\\"context.canSelectContext\\\"\\n  let-userInfo=\\\"context.userInfo\\\"\\n  let-widgetProperties=\\\"context.widgetProperties\\\">\\n  <div class=\\\"user-context-dropdown\\\">\\n    <bb-dropdown-menu-ui\\n      [position]=\\\"dropdownMenuPosition\\\"\\n      btnColor=\\\"unstyled\\\"\\n      container=\\\"body\\\"\\n      [fullWidth]=\\\"true\\\"\\n      ariaLabel=\\\"User Context Menu\\\"\\n      i18n-ariaLabel=\\\"User Context Menu ariaLabel@@user-context-menu.ariaLabel.text\\\">\\n      <ng-template bbDropdownLabel>\\n        <div role=\\\"button\\\" data-role=\\\"context-navigation\\\" class=\\\"user-context-dropdown__selector\\\">\\n          <bb-user-context-menu-info\\n            [userInfo]=\\\"userInfo\\\"\\n            [currentContext]=\\\"currentContext\\\"></bb-user-context-menu-info>\\n          <div class=\\\"user-context-dropdown__toggle\\\">\\n            <bb-icon-ui name=\\\"toggle-down\\\"></bb-icon-ui>\\n          </div>\\n        </div>\\n      </ng-template>\\n      <ng-template bbDropdownMenuItem>\\n        <bb-user-context-menu-dropdown\\n          [currentContext]=\\\"currentContext\\\"\\n          [showSingleContext]=\\\"showSingleContext\\\"\\n          [canSelectContext]=\\\"canSelectContext\\\"\\n          (changeContext)=\\\"hostRef.openSwitchContextModal()\\\"\\n          (logout)=\\\"hostRef.logout()\\\"></bb-user-context-menu-dropdown>\\n      </ng-template>\\n    </bb-dropdown-menu-ui>\\n  </div>\\n\\n  <bb-modal-ui [(isOpen)]=\\\"hostRef.showSwitchContextModal\\\">\\n    <bb-modal-body-ui>\\n      <ng-template bbCustomModalBody>\\n        <bb-select-context-widget\\n          (loading)=\\\"hostRef.loadingChanged($event)\\\"\\n          *ngIf=\\\"hostRef.renderContextSelect\\\"\\n          [pageSize]=\\\"widgetProperties.pageSize\\\"\\n          [includeCurrentContext]=\\\"widgetProperties.includeCurrentContext\\\"\\n          [showSearchAfter]=\\\"widgetProperties.showSearchAfter\\\"\\n          [selectContextRedirectPage]=\\\"widgetProperties.selectContextRedirectPage\\\"></bb-select-context-widget>\\n      </ng-template>\\n    </bb-modal-body-ui>\\n    <bb-modal-footer-ui>\\n      <ng-template bbCustomModalFooter>\\n        <button\\n          bbButton\\n          *ngIf=\\\"hostRef.showCancelButton\\\"\\n          (click)=\\\"hostRef.showSwitchContextModal = false\\\"\\n          color=\\\"secondary\\\"\\n          data-role=\\\"cancel-button\\\"\\n          i18n=\\\"Cancel button text@@user-context-menu.label.cancelButton\\\">\\n          Cancel\\n        </button>\\n      </ng-template>\\n    </bb-modal-footer-ui>\\n  </bb-modal-ui>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i3.DropdownMenuComponent; }), selector: \"bb-dropdown-menu-ui\", inputs: [\"label\", \"disabled\", \"options\", \"icon\", \"iconSize\", \"iconColor\", \"btnColor\", \"btnCircle\", \"optionLabelKey\", \"fullWidth\", \"autoClose\", \"container\", \"position\", \"ariaLabel\", \"dropDownMenuRole\", \"dropDownMenuId\", \"buttonSize\", \"dropDownButtonLabel\", \"visibleElementDependingOnViewport\", \"role\"], outputs: [\"select\"] }, { type: i0.forwardRef(function () { return UserContextMenuInfoComponent; }), selector: \"bb-user-context-menu-info\", inputs: [\"userInfo\", \"currentContext\"] }, { type: i0.forwardRef(function () { return i5.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return UserContextMenuDropdownComponent; }), selector: \"bb-user-context-menu-dropdown\", inputs: [\"currentContext\", \"showSingleContext\", \"canSelectContext\"], outputs: [\"changeContext\", \"logout\"] }, { type: i0.forwardRef(function () { return i7.ModalComponent; }), selector: \"bb-modal-ui\", inputs: [\"isOpen\", \"aria-labelledby\", \"aria-describedby\", \"modalOptions\"], outputs: [\"confirm\", \"cancel\", \"isOpenChange\"] }, { type: i0.forwardRef(function () { return i7.ModalBodyComponent; }), selector: \"bb-modal-body-ui\" }, { type: i0.forwardRef(function () { return i8.SelectContextWidgetComponent; }), selector: \"bb-select-context-widget\", inputs: [\"pageSize\", \"includeCurrentContext\", \"showSearchAfter\", \"selectContextRedirectPage\", \"backOutput\"], outputs: [\"back\", \"loading\"] }, { type: i0.forwardRef(function () { return i7.ModalFooterComponent; }), selector: \"bb-modal-footer-ui\", inputs: [\"confirmText\", \"cancelText\"], outputs: [\"confirm\", \"cancel\"] }], directives: [{ type: i0.forwardRef(function () { return UserContextMenuContainerCustomizableDirective; }), selector: \"[bbUserContextMenuContainerCustomizable]\" }, { type: i0.forwardRef(function () { return i3.DropdownLabelDirective; }), selector: \"ng-template[bbDropdownLabel]\" }, { type: i0.forwardRef(function () { return i3.DropdownMenuItemDirective; }), selector: \"ng-template[bbDropdownMenuItem]\" }, { type: i0.forwardRef(function () { return i7.CustomModalBodyDirective; }), selector: \"ng-template[bbCustomModalBody]\" }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i0.forwardRef(function () { return i7.CustomModalFooterDirective; }), selector: \"ng-template[bbCustomModalFooter]\" }, { type: i0.forwardRef(function () { return i10.ButtonDirective; }), selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }], pipes: { \"async\": i0.forwardRef(function () { return i2.AsyncPipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-user-context-menu-container',\n                    templateUrl: './user-context-menu-container.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: UserContextMenuService }, { type: UserContextMenuWidgetPropertiesService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOGOUT]\n                }] }]; }, propDecorators: { dropdownMenuPosition: [{\n                type: Input\n            }] } });\nclass UserContextMenuContainerCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ UserContextMenuContainerCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuContainerCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ UserContextMenuContainerCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuContainerCustomizableDirective, selector: \"[bbUserContextMenuContainerCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuContainerCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbUserContextMenuContainerCustomizable]',\n                }]\n        }] });\n\nclass UserContextMenuWidgetComponent {\n    constructor(userContextMenuWidgetPropertiesService) {\n        this.userContextMenuWidgetPropertiesService = userContextMenuWidgetPropertiesService;\n        /**\n         * Dropdown menu postion\n         */\n        this.dropdownMenuPosition = 'bottom-right';\n    }\n    /**\n     * Number of service agreements to load per page\n     */\n    set pageSize(value) {\n        this.userContextMenuWidgetPropertiesService.setPageSize(value);\n    }\n    /**\n     * Include current context\n     */\n    set includeCurrentContext(value) {\n        this.userContextMenuWidgetPropertiesService.setIncludeCurrentContext(value);\n    }\n    /**\n     * Show search if more than service agreements\n     */\n    set showSearchAfter(value) {\n        this.userContextMenuWidgetPropertiesService.setShowSearchAfter(value);\n    }\n    /**\n     * Redirect after successful context select\n     */\n    set selectContextRedirectPage(value) {\n        this.userContextMenuWidgetPropertiesService.setSelectContextRedirectPage(value);\n    }\n    /**\n     * Show current context in context switcher when there is only one context\n     */\n    set showSingleContext(value) {\n        this.userContextMenuWidgetPropertiesService.setShowSingleContext(value);\n    }\n}\n/** @nocollapse */ UserContextMenuWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetComponent, deps: [{ token: UserContextMenuWidgetPropertiesService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ UserContextMenuWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: UserContextMenuWidgetComponent, selector: \"bb-user-context-menu-widget\", inputs: { pageSize: \"pageSize\", includeCurrentContext: \"includeCurrentContext\", showSearchAfter: \"showSearchAfter\", selectContextRedirectPage: \"selectContextRedirectPage\", showSingleContext: \"showSingleContext\", dropdownMenuPosition: \"dropdownMenuPosition\" }, providers: [UserContextMenuService, UserContextMenuWidgetPropertiesService], ngImport: i0, template: `\n    <bb-user-context-menu-container [dropdownMenuPosition]=\"dropdownMenuPosition\"></bb-user-context-menu-container>\n  `, isInline: true, components: [{ type: UserContextMenuContainerComponent, selector: \"bb-user-context-menu-container\", inputs: [\"dropdownMenuPosition\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-user-context-menu-widget',\n                    template: `\n    <bb-user-context-menu-container [dropdownMenuPosition]=\"dropdownMenuPosition\"></bb-user-context-menu-container>\n  `,\n                    providers: [UserContextMenuService, UserContextMenuWidgetPropertiesService],\n                }]\n        }], ctorParameters: function () { return [{ type: UserContextMenuWidgetPropertiesService }]; }, propDecorators: { pageSize: [{\n                type: Input\n            }], includeCurrentContext: [{\n                type: Input\n            }], showSearchAfter: [{\n                type: Input\n            }], selectContextRedirectPage: [{\n                type: Input\n            }], showSingleContext: [{\n                type: Input\n            }], dropdownMenuPosition: [{\n                type: Input\n            }] } });\n\nconst components = [\n    UserContextMenuWidgetComponent,\n    UserContextMenuContainerComponent,\n    UserContextMenuDropdownComponent,\n    UserContextMenuInfoComponent,\n];\nconst directives = [\n    UserContextMenuInfoCustomizableDirective,\n    UserContextMenuDropdownCustomizableDirective,\n    UserContextMenuContainerCustomizableDirective,\n];\nconst uiModules = [\n    AccessgroupUiModule,\n    SelectContextWidgetModule,\n    AvatarModule,\n    IconModule,\n    ModalModule,\n    ButtonModule,\n    NgbDropdownModule,\n    DropdownMenuModule,\n];\nclass UserContextMenuWidgetModule {\n}\n/** @nocollapse */ UserContextMenuWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ UserContextMenuWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetModule, declarations: [UserContextMenuWidgetComponent,\n        UserContextMenuContainerComponent,\n        UserContextMenuDropdownComponent,\n        UserContextMenuInfoComponent, UserContextMenuInfoCustomizableDirective,\n        UserContextMenuDropdownCustomizableDirective,\n        UserContextMenuContainerCustomizableDirective], imports: [CommonModule, i1$2.BackbaseCoreModule, AccessgroupUiModule,\n        SelectContextWidgetModule,\n        AvatarModule,\n        IconModule,\n        ModalModule,\n        ButtonModule,\n        NgbDropdownModule,\n        DropdownMenuModule], exports: [UserContextMenuWidgetComponent,\n        UserContextMenuContainerComponent,\n        UserContextMenuDropdownComponent,\n        UserContextMenuInfoComponent, UserContextMenuInfoCustomizableDirective,\n        UserContextMenuDropdownCustomizableDirective,\n        UserContextMenuContainerCustomizableDirective, AccessgroupUiModule,\n        SelectContextWidgetModule,\n        AvatarModule,\n        IconModule,\n        ModalModule,\n        ButtonModule,\n        NgbDropdownModule,\n        DropdownMenuModule] });\n/** @nocollapse */ UserContextMenuWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetModule, imports: [[\n            CommonModule,\n            BackbaseCoreModule.withConfig({\n                classMap: { UserContextMenuWidgetComponent },\n            }),\n            ...uiModules,\n        ], AccessgroupUiModule,\n        SelectContextWidgetModule,\n        AvatarModule,\n        IconModule,\n        ModalModule,\n        ButtonModule,\n        NgbDropdownModule,\n        DropdownMenuModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: UserContextMenuWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [...components, ...directives],\n                    imports: [\n                        CommonModule,\n                        BackbaseCoreModule.withConfig({\n                            classMap: { UserContextMenuWidgetComponent },\n                        }),\n                        ...uiModules,\n                    ],\n                    exports: [...components, ...directives, ...uiModules],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { UserContextMenuWidgetComponent, UserContextMenuWidgetModule, UserContextMenuContainerComponent as ӨUserContextMenuContainerComponent, UserContextMenuContainerCustomizableDirective as ӨUserContextMenuContainerCustomizableDirective, UserContextMenuDropdownComponent as ӨUserContextMenuDropdownComponent, UserContextMenuDropdownCustomizableDirective as ӨUserContextMenuDropdownCustomizableDirective, UserContextMenuInfoComponent as ӨUserContextMenuInfoComponent, UserContextMenuInfoCustomizableDirective as ӨUserContextMenuInfoCustomizableDirective };\n"]},"metadata":{},"sourceType":"module"}