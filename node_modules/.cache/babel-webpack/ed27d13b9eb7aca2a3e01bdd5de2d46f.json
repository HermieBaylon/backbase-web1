{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, Optional, Component, Input, Directive, EventEmitter, Output, Inject, ViewChild, NgModule } from '@angular/core';\nimport * as i14 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i1 from '@backbase/foundation-ang/core';\nimport { BbTemplate, BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport * as i8$1 from '@ng-bootstrap/ng-bootstrap';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\nimport * as i1$1 from '@backbase/data-ang/notifications';\nimport { BehaviorSubject, Subject, ReplaySubject, merge, of, asyncScheduler, combineLatest, zip, EMPTY } from 'rxjs';\nimport { map, first, switchMap, delay, observeOn, tap, filter, pairwise, catchError, finalize, share, scan, startWith, withLatestFrom, distinctUntilChanged, takeUntil, mapTo, skip, skipUntil, take, debounceTime } from 'rxjs/operators';\nimport * as i5 from '@backbase/notifications-common-ang';\nimport { BaseWidgetPropertiesService, getPropertyValue, modelItemToBoolean, shareReplayOnce, secondsToMilliseconds, leaveZone, enterZone, toISOExtendedFormat, NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, NotificationsCommonModule } from '@backbase/notifications-common-ang';\nimport { PUBSUB } from '@backbase/foundation-ang/web-sdk';\nimport * as i3$2 from '@backbase/ui-ang/media-query-lib';\nimport { MediaQueryModule } from '@backbase/ui-ang/media-query-lib';\nimport * as i2$1 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i6 from '@backbase/ui-ang/badge-counter';\nimport { BadgeCounterModule } from '@backbase/ui-ang/badge-counter';\nimport * as i5$2 from '@backbase/ui-ang/notification';\nimport * as i8 from '@backbase/ui-ang/alert';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport * as i3 from '@backbase/ui-ang/ellipsis';\nimport { EllipsisModule } from '@backbase/ui-ang/ellipsis';\nimport * as i2 from '@backbase/ui-ang/date-pipe';\nimport { BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\nimport * as i10 from '@backbase/ui-ang/load-button';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport * as i3$1 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i4 from '@backbase/ui-ang/focus';\nimport { FocusModule } from '@backbase/ui-ang/focus';\nimport * as i5$1 from '@backbase/ui-ang/tooltip-directive';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport * as i12 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i13 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ErrorCommonStateModule } from '@backbase/ui-ang/common-error-state';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵi18n(1, 11);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext(4).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵi18nExp(hostRef_r1.minutesFromNow)(hostRef_r1.minutesFromNow);\n    i0.ɵɵi18nApply(1);\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"bbDate\");\n  }\n\n  if (rf & 2) {\n    const date_r3 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(1, 1, date_r3, \"shortTime\"), \" \");\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_ng_container_1_Template, 2, 2, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_ng_template_2_Template, 2, 4, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _r11 = i0.ɵɵreference(3);\n\n    const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.isWithinHour)(\"ngIfElse\", _r11);\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵi18n(0, 12);\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"time\", 7);\n    i0.ɵɵtemplate(1, HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_container_1_Template, 4, 2, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, HumanizedDateComponent_ng_template_1_ng_container_2_time_1_ng_template_2_Template, 1, 0, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r8 = i0.ɵɵreference(3);\n\n    const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.displayRelativeTime)(\"ngIfElse\", _r8);\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"time\", 13);\n    i0.ɵɵi18n(1, 14);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_time_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"time\", 13);\n    i0.ɵɵpipe(1, \"bbDate\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"bbDate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const date_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind2(1, 2, date_r3, \"mediumDate\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 5, date_r3, ctx_r6.dateFormatForPast), \" \");\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HumanizedDateComponent_ng_template_1_ng_container_2_time_1_Template, 4, 2, \"time\", 5);\n    i0.ɵɵtemplate(2, HumanizedDateComponent_ng_template_1_ng_container_2_time_2_Template, 2, 0, \"time\", 6);\n    i0.ɵɵtemplate(3, HumanizedDateComponent_ng_template_1_ng_container_2_time_3_Template, 4, 8, \"time\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.isToday);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.isYesterday);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !hostRef_r1.isToday && !hostRef_r1.isYesterday);\n  }\n}\n\nfunction HumanizedDateComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵi18n(1, 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, HumanizedDateComponent_ng_template_1_ng_container_2_Template, 4, 3, \"ng-container\", 4);\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.date);\n  }\n}\n\nfunction NotificationsListItemComponent_ng_template_2_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NotificationsListItemComponent_ng_template_2_button_18_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n      return hostRef_r1.openNotificationDetails($event);\n    });\n    i0.ɵɵi18nStart(1, 17);\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵi18nEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListItemComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"span\", 3);\n    i0.ɵɵi18n(2, 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 3);\n    i0.ɵɵi18n(4, 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"bb-icon-ui\", 6);\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵelementStart(8, \"bb-ellipsis-ui\", 9);\n    i0.ɵɵelement(9, \"span\", 10);\n    i0.ɵɵpipe(10, \"notificationLocalization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"bb-humanized-date\", 11);\n    i0.ɵɵpipe(12, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"bb-ellipsis-ui\", 12);\n    i0.ɵɵelement(14, \"div\", 10, 13);\n    i0.ɵɵpipe(16, \"interpolateLink\");\n    i0.ɵɵpipe(17, \"notificationLocalization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, NotificationsListItemComponent_ng_template_2_button_18_Template, 3, 0, \"button\", 14);\n    i0.ɵɵpipe(19, \"async\");\n    i0.ɵɵelement(20, \"bb-notifications-capability-icon\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const notificationsMessageLineAmount_r2 = ctx.context.notificationsMessageLineAmount;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"bb-notifications-badge-list-item--unread\", !hostRef_r1.notification.read);\n    i0.ɵɵadvance(2);\n    i0.ɵɵi18nExp(hostRef_r1.notification.read);\n    i0.ɵɵi18nApply(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵi18nExp(hostRef_r1.notification.level);\n    i0.ɵɵi18nApply(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", hostRef_r1.icon)(\"color\", hostRef_r1.color);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(10, 15, hostRef_r1.notification, \"title\"), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"date\", hostRef_r1.notification.createdOn)(\"displayRelativeTime\", i0.ɵɵpipeBind1(12, 18, hostRef_r1.displayRelativeTime$))(\"dateFormat\", ctx_r0.dateFormat);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"tooltipTriggers\", \"\")(\"lineClamp\", notificationsMessageLineAmount_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind3(16, 20, i0.ɵɵpipeBind2(17, 24, hostRef_r1.notification, \"message\"), hostRef_r1.notification, false), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(19, 27, hostRef_r1.displayShowMoreButtonInBadge$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"origin\", hostRef_r1.notification == null ? null : hostRef_r1.notification.origin);\n  }\n}\n\nconst _c22 = function (a0) {\n  return {\n    notificationsMessageLineAmount: a0\n  };\n};\n\nfunction NotificationDetailsItemComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelement(1, \"bb-icon-ui\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"span\", 6);\n    i0.ɵɵpipe(5, \"notificationLocalization\");\n    i0.ɵɵelement(6, \"bb-humanized-date\", 7);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵelement(9, \"div\", 9);\n    i0.ɵɵpipe(10, \"interpolateLink\");\n    i0.ɵɵpipe(11, \"notificationLocalization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"bb-notifications-capability-icon\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", hostRef_r1.icon)(\"color\", hostRef_r1.color);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(5, 8, hostRef_r1.notification, \"title\"), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"date\", hostRef_r1.notification.createdOn)(\"displayRelativeTime\", i0.ɵɵpipeBind1(7, 11, hostRef_r1.displayRelativeTime$))(\"dateFormat\", ctx_r0.dateFormat);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(10, 13, i0.ɵɵpipeBind2(11, 16, hostRef_r1.notification, \"message\"), hostRef_r1.notification), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"origin\", hostRef_r1.notification == null ? null : hostRef_r1.notification.origin);\n  }\n}\n\nfunction NotificationDetailsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function NotificationDetailsComponent_ng_template_1_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const hostRef_r1 = restoredCtx.$implicit;\n      return hostRef_r1.navigateBack.emit();\n    });\n    i0.ɵɵelement(4, \"bb-icon-ui\", 6);\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵi18n(6, 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function NotificationDetailsComponent_ng_template_1_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const hostRef_r1 = restoredCtx.$implicit;\n      return hostRef_r1.deleteNotification();\n    });\n    i0.ɵɵelement(8, \"bb-icon-ui\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 10);\n    i0.ɵɵelement(10, \"bb-notification-details-item\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"notification\", hostRef_r1.notification)(\"dateFormat\", ctx_r0.dateFormat);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_0_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function NotificationsListComponent_ng_template_11_ng_container_0_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n      return hostRef_r1.onNotificationsSettingsOpen();\n    });\n    i0.ɵɵelement(1, \"bb-icon-ui\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_0_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function NotificationsListComponent_ng_template_11_ng_container_0_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n      return hostRef_r1.onLoadNewNotifications();\n    });\n    i0.ɵɵi18nStart(1, 18);\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelement(3, \"bb-icon-ui\", 19);\n    i0.ɵɵi18nEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"block\", true);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_0_bb_alert_ui_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-alert-ui\", 20);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"dismissible\", false);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NotificationsListComponent_ng_template_11_ng_container_0_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const hostRef_r1 = i0.ɵɵnextContext(2).$implicit;\n      return hostRef_r1.onReadAllNotifications();\n    });\n    i0.ɵɵelement(2, \"bb-icon-ui\", 23);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵi18n(4, 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"header\", 7);\n    i0.ɵɵelementStart(2, \"span\", 8);\n    i0.ɵɵelementStart(3, \"span\", 9);\n    i0.ɵɵi18n(4, 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, NotificationsListComponent_ng_template_11_ng_container_0_button_5_Template, 2, 0, \"button\", 11);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, NotificationsListComponent_ng_template_11_ng_container_0_button_7_Template, 4, 1, \"button\", 12);\n    i0.ɵɵtemplate(8, NotificationsListComponent_ng_template_11_ng_container_0_bb_alert_ui_8_Template, 1, 1, \"bb-alert-ui\", 13);\n    i0.ɵɵtemplate(9, NotificationsListComponent_ng_template_11_ng_container_0_div_9_Template, 5, 0, \"div\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext();\n    const hostRef_r1 = ctx_r33.$implicit;\n    const newNotificationsAvailable_r8 = ctx_r33.context.newNotificationsAvailable;\n    const markAllAsReadError_r10 = ctx_r33.context.markAllAsReadError;\n    const unreadCount_r9 = ctx_r33.context.unreadCount;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 4, hostRef_r1.displaySettingsButton$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", newNotificationsAvailable_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", markAllAsReadError_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", unreadCount_r9 > 0);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 32);\n    i0.ɵɵelementStart(1, \"bb-notifications-list-item\", 33);\n    i0.ɵɵlistener(\"keydown.enter\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template_bb_notifications_list_item_keydown_enter_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const notification_r38 = restoredCtx.$implicit;\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.selectNotification($event, notification_r38);\n    })(\"keyup.space\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template_bb_notifications_list_item_keyup_space_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const notification_r38 = restoredCtx.$implicit;\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.selectNotification($event, notification_r38);\n    })(\"click\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template_bb_notifications_list_item_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const notification_r38 = restoredCtx.$implicit;\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.selectNotification($event, notification_r38);\n    })(\"openDetails\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template_bb_notifications_list_item_openDetails_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const notification_r38 = restoredCtx.$implicit;\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.selectNotification($event, notification_r38, true);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const notification_r38 = ctx.$implicit;\n    const ctx_r35 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"bb-nt-\", notification_r38.id, \"\");\n    i0.ɵɵproperty(\"notification\", notification_r38)(\"dateFormat\", ctx_r35.dateFormat);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelementStart(1, \"bb-load-button-ui\", 37);\n    i0.ɵɵlistener(\"paramChange\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_div_1_Template_bb_load_button_ui_paramChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r52 = i0.ɵɵnextContext(4);\n      const totalCount_r6 = ctx_r52.context.totalCount;\n      const hostRef_r1 = ctx_r52.$implicit;\n      return hostRef_r1.onLoadMore(totalCount_r6, $event);\n    });\n    i0.ɵɵi18n(2, 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r54 = i0.ɵɵnextContext(4);\n    const pageSize_r7 = ctx_r54.context.pageSize;\n    const pageFrom_r11 = ctx_r54.context.pageFrom;\n    const totalCount_r6 = ctx_r54.context.totalCount;\n    const isLoading_r5 = ctx_r54.context.isLoading;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"size\", pageSize_r7)(\"from\", pageFrom_r11)(\"totalCount\", totalCount_r6)(\"isLoading\", isLoading_r5)(\"block\", false);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵi18n(1, 40);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_div_1_Template, 3, 5, \"div\", 34);\n    i0.ɵɵtemplate(2, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_ng_template_2_Template, 2, 0, \"ng-template\", null, 35, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _r49 = i0.ɵɵreference(3);\n\n    const ctx_r55 = i0.ɵɵnextContext(3);\n    const notifications_r2 = ctx_r55.context.notifications;\n    const totalCount_r6 = ctx_r55.context.totalCount;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", notifications_r2.length < totalCount_r6)(\"ngIfElse\", _r49);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_bb_notification_details_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-notification-details\", 41);\n    i0.ɵɵlistener(\"navigateBack\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_bb_notification_details_8_Template_bb_notification_details_navigateBack_0_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.unselectNotification();\n    })(\"delete\", function NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_bb_notification_details_8_Template_bb_notification_details_delete_0_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n      return hostRef_r1.deleteNotification();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r37 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"notification\", hostRef_r1.selectedNotification)(\"dateFormat\", ctx_r37.dateFormat);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵelementStart(2, \"p\", 26);\n    i0.ɵɵi18n(3, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 28);\n    i0.ɵɵtemplate(5, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_li_5_Template, 2, 5, \"li\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"footer\", 30);\n    i0.ɵɵtemplate(7, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_ng_container_7_Template, 4, 2, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_bb_notification_details_8_Template, 1, 2, \"bb-notification-details\", 31);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(2);\n    const hostRef_r1 = ctx_r62.$implicit;\n    const notifications_r2 = ctx_r62.context.notifications;\n    const totalCount_r6 = ctx_r62.context.totalCount;\n    const pageSize_r7 = ctx_r62.context.pageSize;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", hostRef_r1.selectedNotification ? \"d-none\" : null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵi18nExp(notifications_r2.length)(totalCount_r6)(notifications_r2.length);\n    i0.ɵɵi18nApply(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", notifications_r2)(\"ngForTrackBy\", hostRef_r1.trackById);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", totalCount_r6 > pageSize_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.selectedNotification);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NotificationsListComponent_ng_template_11_ng_container_1_ng_container_1_Template, 9, 8, \"ng-container\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const notifications_r2 = i0.ɵɵnextContext().context.notifications;\n\n    const _r14 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", notifications_r2 == null ? null : notifications_r2.length)(\"ngIfElse\", _r14);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵelementStart(1, \"div\", 44);\n    i0.ɵɵelement(2, \"bb-empty-state-ui\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, NotificationsListComponent_ng_template_11_ng_template_2_div_0_Template, 3, 0, \"div\", 42);\n  }\n\n  if (rf & 2) {\n    const notifications_r2 = i0.ɵɵnextContext().context.notifications;\n\n    const _r18 = i0.ɵɵreference(7);\n\n    i0.ɵɵproperty(\"ngIf\", notifications_r2 && notifications_r2.length === 0)(\"ngIfElse\", _r18);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵelementStart(1, \"div\", 44);\n    i0.ɵɵelement(2, \"bb-empty-state-ui\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loading-indicator-ui\", 47);\n  }\n}\n\nfunction NotificationsListComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, NotificationsListComponent_ng_template_11_ng_container_0_Template, 10, 6, \"ng-container\", 2);\n    i0.ɵɵtemplate(1, NotificationsListComponent_ng_template_11_ng_container_1_Template, 2, 2, \"ng-container\", 3);\n    i0.ɵɵtemplate(2, NotificationsListComponent_ng_template_11_ng_template_2_Template, 1, 2, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(4, NotificationsListComponent_ng_template_11_ng_template_4_Template, 3, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(6, NotificationsListComponent_ng_template_11_ng_template_6_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const error_r3 = ctx.context.error;\n    const updateCountersError_r4 = ctx.context.updateCountersError;\n\n    const _r16 = i0.ɵɵreference(5);\n\n    i0.ɵɵproperty(\"ngIf\", !hostRef_r1.selectedNotification);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !error_r3 && !updateCountersError_r4)(\"ngIfElse\", _r16);\n  }\n}\n\nconst _c61 = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n  return {\n    notifications: a0,\n    error: a1,\n    updateCountersError: a2,\n    isLoading: a3,\n    totalCount: a4,\n    pageSize: a5,\n    newNotificationsAvailable: a6,\n    unreadCount: a7,\n    markAllAsReadError: a8,\n    pageFrom: a9\n  };\n};\n\nconst _c62 = [\"popover\"];\n\nfunction NotificationsBadgeWidgetComponent_ng_template_3_bb_notifications_list_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-notifications-list\", 14);\n    i0.ɵɵlistener(\"navigation\", function NotificationsBadgeWidgetComponent_ng_template_3_bb_notifications_list_9_Template_bb_notifications_list_navigation_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      i0.ɵɵnextContext();\n\n      const _r4 = i0.ɵɵreference(2);\n\n      return _r4.close();\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"preselectedNotification\", i0.ɵɵpipeBind1(1, 2, hostRef_r1.preselectedNotification$))(\"dateFormat\", ctx_r5.dateFormat);\n  }\n}\n\nfunction NotificationsBadgeWidgetComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 3, 4);\n    i0.ɵɵlistener(\"openChange\", function NotificationsBadgeWidgetComponent_ng_template_3_Template_div_openChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const hostRef_r1 = restoredCtx.$implicit;\n      return hostRef_r1.onOpenChange($event);\n    });\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵelement(4, \"bb-icon-ui\", 6);\n    i0.ɵɵelement(5, \"bb-badge-counter-ui\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵtemplate(9, NotificationsBadgeWidgetComponent_ng_template_3_bb_notifications_list_9_Template, 2, 4, \"bb-notifications-list\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 12);\n    i0.ɵɵi18n(11, 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    const unreadCount_r2 = ctx.context.unreadCount;\n    const listTransform_r3 = ctx.context.listTransform;\n\n    const _r4 = i0.ɵɵreference(2);\n\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"aria-labelledby\", \"notifications-badge-label\" + hostRef_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"count\", unreadCount_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"transform\", listTransform_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r4.isOpen());\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"id\", \"notifications-badge-label\" + hostRef_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵi18nExp(unreadCount_r2 || 0)(unreadCount_r2);\n    i0.ɵɵi18nApply(11);\n  }\n}\n\nconst _c67 = function (a0, a1) {\n  return {\n    unreadCount: a0,\n    listTransform: a1\n  };\n};\n\nconst DefaultWidgetProperties = {\n  displayRelativeTime: false,\n  allowedRoutes: [],\n  displaySettingsButton: true,\n  notificationsMessageLineAmount: 2,\n  displayShowMoreButtonInBadge: false,\n  pageSize: 5,\n  origins: [],\n  severityLevels: [],\n  unreadCountUpdateInterval: 15\n};\n\nclass WidgetPropertiesService extends BaseWidgetPropertiesService {\n  constructor(itemModel) {\n    super(itemModel);\n    this.itemModel = itemModel;\n    this.displayRelativeTime$$ = new BehaviorSubject(undefined);\n    this.displaySettingsButton$$ = new BehaviorSubject(undefined);\n    this.notificationsMessageLineAmount$$ = new BehaviorSubject(undefined);\n    this.displayShowMoreButtonInBadge$$ = new BehaviorSubject(undefined);\n    this.pageSize$$ = new BehaviorSubject(undefined);\n    this.unreadCountUpdateInterval$$ = new BehaviorSubject(undefined);\n    this.displayRelativeTime$ = getPropertyValue(this.displayRelativeTime$$, this.displayRelativeTime);\n    this.displaySettingsButton$ = getPropertyValue(this.displaySettingsButton$$, this.displaySettingsButton);\n    this.notificationsMessageLineAmount$ = getPropertyValue(this.notificationsMessageLineAmount$$, this.notificationsMessageLineAmount);\n    this.displayShowMoreButtonInBadge$ = getPropertyValue(this.displayShowMoreButtonInBadge$$, this.displayShowMoreButtonInBadge);\n    this.pageSize$ = getPropertyValue(this.pageSize$$, this.pageSize);\n    this.unreadCountUpdateInterval$ = getPropertyValue(this.unreadCountUpdateInterval$$, this.unreadCountUpdateInterval);\n  }\n\n  get displayRelativeTime() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.displayRelativeTime);\n    }\n\n    return this.itemModel.property('displayRelativeTime', DefaultWidgetProperties.displayRelativeTime).pipe(map(modelItemToBoolean), first());\n  }\n\n  get displaySettingsButton() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.displaySettingsButton);\n    }\n\n    return this.itemModel.property('displaySettingsButton', DefaultWidgetProperties.displaySettingsButton).pipe(map(modelItemToBoolean), first());\n  }\n\n  get notificationsMessageLineAmount() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.notificationsMessageLineAmount);\n    }\n\n    return this.itemModel.property('notificationsMessageLineAmount', DefaultWidgetProperties.notificationsMessageLineAmount).pipe(map(Number), first());\n  }\n\n  get displayShowMoreButtonInBadge() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.displayShowMoreButtonInBadge);\n    }\n\n    return this.itemModel.property('displayShowMoreButtonInBadge', DefaultWidgetProperties.displayShowMoreButtonInBadge).pipe(map(modelItemToBoolean), first());\n  }\n\n  get pageSize() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.pageSize);\n    }\n\n    return this.itemModel.property('pageSize', DefaultWidgetProperties.pageSize).pipe(map(Number), shareReplayOnce());\n  }\n\n  get unreadCountUpdateInterval() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultWidgetProperties.unreadCountUpdateInterval * 1000);\n    }\n\n    return this.itemModel.property('unreadCountUpdateInterval', DefaultWidgetProperties.unreadCountUpdateInterval).pipe(map(Number), map(n => n * 1000), shareReplayOnce());\n  }\n\n  setDisplayRelativeTime(value) {\n    this.displayRelativeTime$$.next(modelItemToBoolean(value));\n  }\n\n  setDisplaySettingsButton(value) {\n    this.displaySettingsButton$$.next(modelItemToBoolean(value));\n  }\n\n  setNotificationsMessageLineAmount(value) {\n    this.notificationsMessageLineAmount$$.next(Number(value));\n  }\n\n  setDisplayShowMoreButtonInBadge(value) {\n    this.displayShowMoreButtonInBadge$$.next(modelItemToBoolean(value));\n  }\n\n  setPageSize(value) {\n    this.pageSize$$.next(Number(value));\n  }\n\n  setUnreadCountUpdateInterval(value) {\n    const updateInterval = Number(value);\n\n    if (!isNaN(updateInterval) && updateInterval > 0) {\n      this.unreadCountUpdateInterval$$.next(secondsToMilliseconds(updateInterval));\n    }\n  }\n\n}\n/** @nocollapse */\n\n\nWidgetPropertiesService.ɵfac = function WidgetPropertiesService_Factory(t) {\n  return new (t || WidgetPropertiesService)(i0.ɵɵinject(i1.ItemModel, 8));\n};\n/** @nocollapse */\n\n\nWidgetPropertiesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: WidgetPropertiesService,\n  factory: WidgetPropertiesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(WidgetPropertiesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.ItemModel,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nclass NotificationsPollingService {\n  constructor(notificationHttpService, properties, ngZone) {\n    this.notificationHttpService = notificationHttpService;\n    this.properties = properties;\n    this.ngZone = ngZone;\n    this.forceUpdateCountersSubject = new Subject();\n    this.requestsInterval$ = this.properties.unreadCountUpdateInterval$;\n    this.repeat$ = new ReplaySubject(1);\n    this.load$ = merge(of(''), this.forceUpdateCountersSubject, merge(this.forceUpdateCountersSubject, this.repeat$).pipe(switchMap(() => this.requestsInterval$), switchMap(interval => of('').pipe(delay(interval, leaveZone(this.ngZone, asyncScheduler)))), observeOn(enterZone(this.ngZone, asyncScheduler))));\n    this.updateCountersErrorSubject$$ = new BehaviorSubject(undefined);\n    /**\n     * Stream with update counters request errors\n     */\n\n    this.updateCountersError$ = this.updateCountersErrorSubject$$.asObservable();\n    /**\n     * Stream with unread notifications count\n     */\n\n    this.unreadNotificationsCount$ = this.load$.pipe(switchMap(() => this.requestCount()), tap(() => this.repeat$.next()), filter(count => typeof count !== 'undefined'), shareReplayOnce());\n    /**\n     * Stream with flag of new available notifications\n     */\n\n    this.newNotificationsAvailable$ = this.unreadNotificationsCount$.pipe(pairwise(), map(([prev, cur]) => {\n      if (prev === null || prev === undefined) {\n        return false;\n      }\n\n      if (cur === null || cur === undefined) {\n        return false;\n      }\n\n      return cur - prev > 0;\n    }), filter(Boolean));\n  }\n\n  requestCount() {\n    const origins$ = this.properties.origins$;\n    const severityLevels$ = this.properties.severityLevels$;\n    return combineLatest([origins$, severityLevels$]).pipe(first(), switchMap(([origins, levels]) => this.notificationHttpService.getUnreadCount(Object.assign(Object.assign({}, origins.length && {\n      origins\n    }), levels.length && {\n      levels\n    }))), map(body => {\n      this.updateCountersErrorSubject$$.next(undefined);\n      return body === null || body === void 0 ? void 0 : body.unread;\n    }), catchError(error => {\n      this.updateCountersErrorSubject$$.next(error);\n      return of(undefined);\n    }));\n  }\n  /**\n   * Method to trigger force update on unread notifications counter\n   */\n\n\n  forceUpdateCounters() {\n    this.forceUpdateCountersSubject.next();\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsPollingService.ɵfac = function NotificationsPollingService_Factory(t) {\n  return new (t || NotificationsPollingService)(i0.ɵɵinject(i1$1.NotificationsHttpService), i0.ɵɵinject(WidgetPropertiesService), i0.ɵɵinject(i0.NgZone));\n};\n/** @nocollapse */\n\n\nNotificationsPollingService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NotificationsPollingService,\n  factory: NotificationsPollingService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsPollingService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.NotificationsHttpService\n    }, {\n      type: WidgetPropertiesService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n\nclass NotificationsPaginationService {\n  constructor(notificationHttpService, properties) {\n    this.notificationHttpService = notificationHttpService;\n    this.properties = properties;\n    /**\n     * Stream with page size\n     */\n\n    this.sizeProperty$ = this.properties.pageSize$;\n    this.pageSubject = new Subject();\n    this.page$ = this.pageSubject.asObservable();\n    /**\n     * Stream with current page number (work with loadPage method)\n     */\n\n    this.pageFrom$ = this.page$.pipe(map(p => p.from));\n    this.isLoadingSubject = new BehaviorSubject(false);\n    /**\n     * Stream with loading flag\n     */\n\n    this.isLoading$ = this.isLoadingSubject.asObservable(); // eslint-disable-next-line\n\n    this.totalCountSubject = new Subject();\n    /**\n     * Stream with total count of notifications\n     */\n\n    this.totalCount$ = this.totalCountSubject.asObservable();\n    this.origins$ = this.properties.origins$;\n    this.severityLevels$ = this.properties.severityLevels$;\n    this.notificationsRequest$ = combineLatest([this.page$, this.sizeProperty$, this.origins$, this.severityLevels$]).pipe(switchMap(([page, size, origins, levels]) => {\n      this.isLoadingSubject.next(true);\n      return this.notificationHttpService.getNotifications(Object.assign(Object.assign({\n        toDate: page.createdOn && new Date(toISOExtendedFormat(page.createdOn)).toISOString().replace(/\\.\\d+Z/, 'Z'),\n        from: page.from,\n        size\n      }, origins.length && {\n        origins\n      }), levels.length && {\n        levels\n      }), 'response').pipe(tap(res => {\n        this.totalCountSubject.next(Number(res.headers.get('x-total-count') || '0'));\n      }), map(({\n        body,\n        headers\n      }) => ({\n        data: body || [],\n        headers,\n        error: undefined\n      })), catchError(error => of({\n        data: [],\n        headers: undefined,\n        error\n      })), finalize(() => {\n        this.isLoadingSubject.next(false);\n      }));\n    }), share());\n    this.notificationsPage$ = this.notificationsRequest$.pipe(map(({\n      data\n    }) => data));\n    this.markAllNotificationsAsRead = new BehaviorSubject(false);\n    /**\n     * Stream of notifications\n     */\n\n    this.notifications$ = combineLatest([zip(this.page$, this.notificationsPage$).pipe( // reset accumulator for every first page in Append mode or for every page in regular mode\n    scan((allNotifications, [page, notifications]) => (!page.append || page.from === 0 ? [] : allNotifications).concat(notifications), [])), this.markAllNotificationsAsRead.pipe(startWith(true), filter(Boolean))]).pipe(withLatestFrom(this.markAllNotificationsAsRead), // eslint-disable-next-line arrow-body-style\n    map(([[notifications], allAsRead]) => {\n      return allAsRead ? notifications.map(item => !item.read && Object.assign(Object.assign({}, item), {\n        read: true\n      }) || item) : notifications;\n    }));\n    /**\n     * Stream of errors\n     */\n\n    this.error$ = this.notificationsRequest$.pipe(map(({\n      error\n    }) => error), distinctUntilChanged());\n  }\n\n  loadPageData(page, append = false, createdOn) {\n    this.pageSubject.next({\n      from: page,\n      append,\n      createdOn: createdOn\n    });\n  }\n  /**\n   * Method to load notifications of specified page\n   *\n   * @param page Page number\n   */\n\n\n  loadPage(page) {\n    this.loadPageData(page);\n  }\n  /**\n   * Method to load next page of notifications\n   *\n   * @param page Page number\n   * @param createdOn Created on notification date\n   */\n\n\n  loadMore(page, createdOn) {\n    this.loadPageData(page, true, createdOn);\n  }\n  /**\n   * Mark all notifications as read\n   *\n   * @param read Is read flag\n   */\n\n\n  markAllAsRead(read) {\n    this.markAllNotificationsAsRead.next(read);\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsPaginationService.ɵfac = function NotificationsPaginationService_Factory(t) {\n  return new (t || NotificationsPaginationService)(i0.ɵɵinject(i1$1.NotificationsHttpService), i0.ɵɵinject(WidgetPropertiesService));\n};\n/** @nocollapse */\n\n\nNotificationsPaginationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NotificationsPaginationService,\n  factory: NotificationsPaginationService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsPaginationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.NotificationsHttpService\n    }, {\n      type: WidgetPropertiesService\n    }];\n  }, null);\n})();\n\nclass NotificationsDataService {\n  constructor(notificationHttpService, notificationsPollingService) {\n    this.notificationHttpService = notificationHttpService;\n    this.notificationsPollingService = notificationsPollingService;\n    this.markAllNotificationAsReadErrorSubject = new BehaviorSubject(false);\n    /**\n     * Mark all notification as read error subject\n     */\n\n    this.markAllNotificationAsReadError = this.markAllNotificationAsReadErrorSubject.asObservable().pipe(finalize(() => this.markAllNotificationAsReadErrorSubject.next(false)));\n  }\n  /**\n   *\n   * Method to mark a notification as read by its id\n   *\n   * @param notificationId Notification\n   * @returns  Mark as read stream\n   */\n\n\n  markNotificationAsRead(notificationId) {\n    return this.notificationHttpService.putMarkAsRead({\n      id: notificationId,\n      markAsReadPutRequestBody: {\n        read: true\n      }\n    }).pipe(tap(() => {\n      this.notificationsPollingService.forceUpdateCounters();\n    }));\n  }\n  /**\n   * Mark all notifications as read\n   *\n   * @returns Mark all notifications as read stream\n   */\n\n\n  markAllNotificationAsRead() {\n    return this.notificationHttpService.putRead(undefined).pipe(catchError(() => {\n      this.markAllNotificationAsReadErrorSubject.next(true);\n      return EMPTY;\n    }), tap(() => {\n      this.markAllNotificationAsReadErrorSubject.next(false);\n      this.notificationsPollingService.forceUpdateCounters();\n    }));\n  }\n  /**\n   * @param id Delete notification by id\n   * @returns Notification delete stream\n   */\n\n\n  deleteNotification(id) {\n    return this.notificationHttpService.deleteNotification({\n      id\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsDataService.ɵfac = function NotificationsDataService_Factory(t) {\n  return new (t || NotificationsDataService)(i0.ɵɵinject(i1$1.NotificationsHttpService), i0.ɵɵinject(NotificationsPollingService));\n};\n/** @nocollapse */\n\n\nNotificationsDataService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NotificationsDataService,\n  factory: NotificationsDataService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsDataService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.NotificationsHttpService\n    }, {\n      type: NotificationsPollingService\n    }];\n  }, null);\n})();\n\nclass NotificationsRouterService {\n  constructor() {\n    this.notificationsSettingsOpenedSubject = new Subject();\n    /**\n     * Settings opened navigation subject\n     */\n\n    this.settingsOpenedNavigation$ = this.notificationsSettingsOpenedSubject.asObservable();\n    this.notificationRoutingSubject = new Subject();\n    /**\n     * Notification routing subject\n     */\n\n    this.notificationRouting$ = this.notificationRoutingSubject.asObservable();\n  }\n  /**\n   * Emit notification settings navigation\n   */\n\n\n  emitSettingsOpenedNavigation() {\n    this.notificationsSettingsOpenedSubject.next();\n  }\n  /**\n   * Emit notification routing\n   *\n   * @param routing Routing subject\n   */\n\n\n  emitNotificationRouting(routing) {\n    this.notificationRoutingSubject.next(routing);\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsRouterService.ɵfac = function NotificationsRouterService_Factory(t) {\n  return new (t || NotificationsRouterService)();\n};\n/** @nocollapse */\n\n\nNotificationsRouterService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NotificationsRouterService,\n  factory: NotificationsRouterService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsRouterService, [{\n    type: Injectable\n  }], null, null);\n})();\n\nvar NotificationSeverity;\n\n(function (NotificationSeverity) {\n  NotificationSeverity[\"Alert\"] = \"ALERT\";\n  NotificationSeverity[\"Warning\"] = \"WARNING\";\n  NotificationSeverity[\"Info\"] = \"INFO\";\n  NotificationSeverity[\"Success\"] = \"SUCCESS\";\n})(NotificationSeverity || (NotificationSeverity = {}));\n\nconst severityLevelIconMap = {\n  [NotificationSeverity.Success]: {\n    icon: 'success',\n    color: 'success'\n  },\n  [NotificationSeverity.Info]: {\n    icon: 'info',\n    color: 'primary'\n  },\n  [NotificationSeverity.Alert]: {\n    icon: 'info',\n    color: 'danger'\n  },\n  [NotificationSeverity.Warning]: {\n    icon: 'warning',\n    color: 'warning'\n  }\n};\nconst DEFAULT_FORMAT_FOR_DATE_IN_PAST = 'MM/dd/yy';\n\nclass HumanizedDateComponent {\n  constructor() {\n    this._isWithinHour = false;\n    this._isToday = false;\n    this._isYesterday = false;\n    /**\n     * Flag that defines if we should display relative time for today.\n     */\n\n    this.displayRelativeTime = false;\n    this.today = new Date();\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    this.yesterday = yesterday;\n  }\n  /**\n   * Notification date.\n   */\n\n\n  set date(value) {\n    const date = this.parseDate(value);\n\n    if (date) {\n      this._date = date;\n      this.setDateFlags();\n    } else {\n      this.resetStateToDefaults();\n    }\n  }\n\n  get dateFormatForPast() {\n    return this.dateFormat || DEFAULT_FORMAT_FOR_DATE_IN_PAST;\n  }\n  /**\n   * Date getter.\n   */\n  // eslint-disable-next-line @typescript-eslint/adjacent-overload-signatures\n\n\n  get date() {\n    return this._date;\n  }\n  /**\n   *\n   * Is date within an hour from now flag getter.\n   */\n\n\n  get isWithinHour() {\n    return this._isWithinHour;\n  }\n  /**\n   * Is date within the current day flag getter.\n   */\n\n\n  get isToday() {\n    return this._isToday;\n  }\n  /**\n   * Is date within the yesterday date flag getter.\n   */\n\n\n  get isYesterday() {\n    return this._isYesterday;\n  }\n  /**\n   * How many minutes from now is the date getter.\n   */\n\n\n  get minutesFromNow() {\n    return this._minutesFromNow;\n  }\n\n  setDateFlags() {\n    this._minutesFromNow = this.getMinutesFromNow(this._date, this.today);\n    this._isToday = this.isSameDay(this._date, this.today);\n    this._isYesterday = this.isSameDay(this._date, this.yesterday);\n    this._isWithinHour = Number(this.minutesFromNow) < 60;\n  }\n\n  resetStateToDefaults() {\n    this._date = undefined;\n    this._minutesFromNow = undefined;\n    this._isWithinHour = false;\n    this._isToday = false;\n    this._isYesterday = false;\n  }\n\n  parseDate(value) {\n    if (typeof value === 'undefined' || value instanceof Date) return value;\n    return new Date(toISOExtendedFormat(value)).valueOf() ? new Date(toISOExtendedFormat(value)) : undefined;\n  }\n\n  isSameDay(date1, date2) {\n    if (!date1 || !date2) {\n      return false;\n    }\n\n    return date1.toDateString() === date2.toDateString();\n  }\n\n  getMinutesFromNow(dateTime, currentDateTime) {\n    const minutesFromNow = Math.floor((currentDateTime.getTime() - dateTime.getTime()) / 60000);\n    return minutesFromNow > 0 ? minutesFromNow : 0;\n  }\n\n}\n/** @nocollapse */\n\n\nHumanizedDateComponent.ɵfac = function HumanizedDateComponent_Factory(t) {\n  return new (t || HumanizedDateComponent)();\n};\n/** @nocollapse */\n\n\nHumanizedDateComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: HumanizedDateComponent,\n  selectors: [[\"bb-humanized-date\"]],\n  inputs: {\n    dateFormat: \"dateFormat\",\n    displayRelativeTime: \"displayRelativeTime\",\n    date: \"date\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Humanized date title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__1 = goog.getMsg(\",Date:\");\n      i18n_0 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__1;\n    } else {\n      i18n_0 = $localize`:Humanized date title@@humanized.date.title:,Date:`;\n    }\n\n    let i18n_3;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______4 = goog.getMsg(\"{VAR_PLURAL, plural, =0 {now} other {{INTERPOLATION} min ago}}\");\n      i18n_3 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______4;\n    } else {\n      i18n_3 = $localize`{VAR_PLURAL, plural, =0 {now} other {{INTERPOLATION} min ago}}`;\n    }\n\n    i18n_3 = i0.ɵɵi18nPostprocess(i18n_3, {\n      \"VAR_PLURAL\": \"\\uFFFD0\\uFFFD\",\n      \"INTERPOLATION\": \"\\uFFFD1\\uFFFD\"\n    });\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications time less than an hour ago date\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______5 = goog.getMsg(\" {$icu} \", {\n        \"icu\": i18n_3\n      });\n      i18n_2 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______5;\n    } else {\n      i18n_2 = $localize`:Notifications time less than an hour ago date@@notifications.humanized-date.less-than-an-hour-ago: ${i18n_3}:ICU: `;\n    }\n\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications today date\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS_____7 = goog.getMsg(\" today \");\n      i18n_6 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS_____7;\n    } else {\n      i18n_6 = $localize`:Notifications today date@@notifications.humanized-date.today: today `;\n    }\n\n    let i18n_8;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications yesterday date\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____9 = goog.getMsg(\" yesterday \");\n      i18n_8 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____9;\n    } else {\n      i18n_8 = $localize`:Notifications yesterday date@@notifications.humanized-date.yesterday: yesterday `;\n    }\n\n    return [[\"bbHumanizedDateCustomizable\", \"\", 3, \"bbHostRef\"], [\"bbHumanizedDateCustomizable\", \"\"], [1, \"sr-only\"], i18n_0, [4, \"ngIf\"], [\"class\", \"bb-subheader bb-subheader--regular bb-text-nowrap\", 4, \"ngIf\"], [\"class\", \"bb-subheader bb-subheader--regular\", 4, \"ngIf\"], [1, \"bb-subheader\", \"bb-subheader--regular\", \"bb-text-nowrap\"], [4, \"ngIf\", \"ngIfElse\"], [\"today\", \"\"], [\"moreThanHourAgo\", \"\"], i18n_2, i18n_6, [1, \"bb-subheader\", \"bb-subheader--regular\"], i18n_8];\n  },\n  template: function HumanizedDateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, HumanizedDateComponent_ng_template_1_Template, 3, 1, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx);\n    }\n  },\n  directives: function () {\n    return [HumanizedDateCustomizableDirective, i14.NgIf];\n  },\n  pipes: function () {\n    return [i2.BbDatePipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(HumanizedDateComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-humanized-date',\n      templateUrl: './humanized-date.component.html'\n    }]\n  }], function () {\n    return [];\n  }, {\n    dateFormat: [{\n      type: Input\n    }],\n    displayRelativeTime: [{\n      type: Input\n    }],\n    date: [{\n      type: Input\n    }]\n  });\n})();\n\nclass HumanizedDateCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nHumanizedDateCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵHumanizedDateCustomizableDirective_BaseFactory;\n  return function HumanizedDateCustomizableDirective_Factory(t) {\n    return (ɵHumanizedDateCustomizableDirective_BaseFactory || (ɵHumanizedDateCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(HumanizedDateCustomizableDirective)))(t || HumanizedDateCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nHumanizedDateCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: HumanizedDateCustomizableDirective,\n  selectors: [[\"\", \"bbHumanizedDateCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(HumanizedDateCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbHumanizedDateCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass NotificationsListItemComponent {\n  constructor(properties) {\n    this.properties = properties;\n    /**\n     * The unique ID HTML property for each component instance.\n     */\n\n    this.id = `bb-notifications-badge-list-item-${NotificationsListItemComponent.idCounter++}`;\n    /**\n     * Event to open notification details.\n     */\n\n    this.openDetails = new EventEmitter();\n    /**\n     * Stream of widget property with the number of lines to show as a notification message.\n     */\n\n    this.notificationsMessageLineAmount$ = this.properties.notificationsMessageLineAmount$;\n    /**\n     * Stream of widget property with a flag that defines if we should display relative time for today.\n     */\n\n    this.displayRelativeTime$ = this.properties.displayRelativeTime$;\n    /*\n     * Stream of widget property with a flag that defines if we should display relative time for today.\n     */\n\n    this.displayShowMoreButtonInBadge$ = this.properties.displayShowMoreButtonInBadge$;\n    /**\n     * Notifications severity map\n     */\n\n    this.levelMap = severityLevelIconMap;\n  }\n  /**\n   * Getter for icon name from severity level icon map due to level of notification.\n   */\n\n\n  get icon() {\n    return this.levelMap[this.notification.level].icon;\n  }\n  /**\n   * Getter for icon color from severity level icon map due to level of notification.\n   */\n\n\n  get color() {\n    return this.levelMap[this.notification.level].color;\n  }\n  /**\n   * Method to open notification details from the parent component.\n   *\n   * @param event Click event\n   */\n\n\n  openNotificationDetails(event) {\n    event.stopPropagation();\n    this.openDetails.emit(event);\n  }\n\n}\n\nNotificationsListItemComponent.idCounter = 0;\n/** @nocollapse */\n\nNotificationsListItemComponent.ɵfac = function NotificationsListItemComponent_Factory(t) {\n  return new (t || NotificationsListItemComponent)(i0.ɵɵdirectiveInject(WidgetPropertiesService));\n};\n/** @nocollapse */\n\n\nNotificationsListItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationsListItemComponent,\n  selectors: [[\"bb-notifications-list-item\"]],\n  inputs: {\n    notification: \"notification\",\n    dateFormat: \"dateFormat\"\n  },\n  outputs: {\n    openDetails: \"openDetails\"\n  },\n  decls: 3,\n  vars: 6,\n  consts: function () {\n    let i18n_11;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__12 = goog.getMsg(\"{VAR_SELECT, select, true {viewed } false {new }}\");\n      i18n_11 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__12;\n    } else {\n      i18n_11 = $localize`{VAR_SELECT, select, true {viewed } false {new }}`;\n    }\n\n    i18n_11 = i0.ɵɵi18nPostprocess(i18n_11, {\n      \"VAR_SELECT\": \"\\uFFFD0\\uFFFD\"\n    });\n    let i18n_10;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notification item read/unread status\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__13 = goog.getMsg(\" {$icu} notification, \", {\n        \"icu\": i18n_11\n      });\n      i18n_10 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__13;\n    } else {\n      i18n_10 = $localize`:Notification item read/unread status@@notifications.list.notification-details.read-unread-status: ${i18n_11}:ICU: notification, `;\n    }\n\n    let i18n_15;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__16 = goog.getMsg(\"{VAR_SELECT, select, ALERT {Alert } INFO {Info } SUCCESS {Success } WARNING {Warning }}\");\n      i18n_15 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__16;\n    } else {\n      i18n_15 = $localize`{VAR_SELECT, select, ALERT {Alert } INFO {Info } SUCCESS {Success } WARNING {Warning }}`;\n    }\n\n    i18n_15 = i0.ɵɵi18nPostprocess(i18n_15, {\n      \"VAR_SELECT\": \"\\uFFFD0\\uFFFD\"\n    });\n    let i18n_14;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notification item severity level\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__17 = goog.getMsg(\" {$icu}, \", {\n        \"icu\": i18n_15\n      });\n      i18n_14 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__17;\n    } else {\n      i18n_14 = $localize`:Notification item severity level@@notifications.list.notification-details.read-unread-status: ${i18n_15}:ICU:, `;\n    }\n\n    let i18n_18;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Aria-label for See more button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__19 = goog.getMsg(\"See more notification details\");\n      i18n_18 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__19;\n    } else {\n      i18n_18 = $localize`:Aria-label for See more button@@notifications.list.see-more.button.aria-label:See more notification details`;\n    }\n\n    let i18n_20;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notification badge See more button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___21 = goog.getMsg(\"{$startTagSpan}See more{$closeTagSpan}\", {\n        \"startTagSpan\": \"\\uFFFD#2\\uFFFD\",\n        \"closeTagSpan\": \"\\uFFFD/#2\\uFFFD\"\n      });\n      i18n_20 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___21;\n    } else {\n      i18n_20 = $localize`:Notification badge See more button@@notifications.list.see-more.button:${\"\\uFFFD#2\\uFFFD\"}:START_TAG_SPAN:See more${\"\\uFFFD/#2\\uFFFD\"}:CLOSE_TAG_SPAN:`;\n    }\n\n    return [[\"bbNotificationsListItemCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbNotificationsListItemCustomizable\", \"\"], [\"tabindex\", \"0\", \"data-role\", \"notifications-list-item\", 1, \"bb-notifications-badge-list-item\", \"bb-notification\", \"bb-notification--flush\"], [1, \"sr-only\"], i18n_10, i18n_14, [\"data-role\", \"notifications-list-item-severity-level-icon\", 1, \"bb-notification__icon\", 3, \"name\", \"color\"], [1, \"bb-notifications-badge-list-item__body\", \"bb-notification__body\"], [\"data-role\", \"notification-heading\", 1, \"bb-notifications-badge-list-item__header\", \"bb-notification__title\", \"bb-stack\"], [\"data-role\", \"notifications-list-item-title\", 1, \"bb-notifications-badge-list-item__title\", \"bb-stack__item\", \"bb-text-align-left\"], [3, \"innerHTML\"], [\"data-role\", \"notification-list-item-creation-date\", 1, \"bb-stack__item\", \"bb-stack__item--push-right\", 3, \"date\", \"displayRelativeTime\", \"dateFormat\"], [\"data-role\", \"notifications-list-item-content\", \"aria-hidden\", \"true\", 1, \"bb-notifications-badge-list-item__content\", \"bb-text-align-left\", \"bb-stack\", \"bb-block\", \"bb-block--sm\", 3, \"tooltipTriggers\", \"lineClamp\"], [\"notificationMessage\", \"\"], [\"type\", \"button\", \"data-role\", \"notifications-list-item-show-more-button\", \"class\", \"btn-link-text bb-text-bold bb-block bb-block--sm\", \"aria-label\", i18n_18, 3, \"click\", 4, \"ngIf\"], [\"aria-hidden\", \"true\", 3, \"origin\"], [\"type\", \"button\", \"data-role\", \"notifications-list-item-show-more-button\", \"aria-label\", i18n_18, 1, \"btn-link-text\", \"bb-text-bold\", \"bb-block\", \"bb-block--sm\", 3, \"click\"], i18n_20];\n  },\n  template: function NotificationsListItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, NotificationsListItemComponent_ng_template_2_Template, 21, 29, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx)(\"bbTemplateContext\", i0.ɵɵpureFunction1(4, _c22, i0.ɵɵpipeBind1(1, 2, ctx.notificationsMessageLineAmount$)));\n    }\n  },\n  directives: function () {\n    return [NotificationListItemCustomizableDirective, i2$1.IconComponent, i3.EllipsisComponent, HumanizedDateComponent, i14.NgIf, i5.NotificationsCapabilityIconComponent];\n  },\n  pipes: function () {\n    return [i14.AsyncPipe, i5.ӨNotificationLocalizationPipe, i5.ӨInterpolateLinkPipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsListItemComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notifications-list-item',\n      templateUrl: './notifications-list-item.component.html'\n    }]\n  }], function () {\n    return [{\n      type: WidgetPropertiesService\n    }];\n  }, {\n    notification: [{\n      type: Input\n    }],\n    dateFormat: [{\n      type: Input\n    }],\n    openDetails: [{\n      type: Output\n    }]\n  });\n})();\n\nclass NotificationListItemCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationListItemCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationListItemCustomizableDirective_BaseFactory;\n  return function NotificationListItemCustomizableDirective_Factory(t) {\n    return (ɵNotificationListItemCustomizableDirective_BaseFactory || (ɵNotificationListItemCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationListItemCustomizableDirective)))(t || NotificationListItemCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationListItemCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationListItemCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationsListItemCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationListItemCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationsListItemCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass NotificationDetailsItemComponent {\n  constructor(properties) {\n    this.properties = properties;\n    /**\n     * Notifications severity map\n     */\n\n    this.levelMap = severityLevelIconMap;\n    /**\n     * Stream of a flag that defines if we should display relative time for today.\n     */\n\n    this.displayRelativeTime$ = this.properties.displayRelativeTime$;\n  }\n  /**\n   * Getter for icon name from severity level icon map due to level of notification.\n   */\n\n\n  get icon() {\n    return this.levelMap[this.notification.level].icon;\n  }\n  /**\n   * Getter for icon color from severity level icon map due to level of notification.\n   */\n\n\n  get color() {\n    return this.levelMap[this.notification.level].color;\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationDetailsItemComponent.ɵfac = function NotificationDetailsItemComponent_Factory(t) {\n  return new (t || NotificationDetailsItemComponent)(i0.ɵɵdirectiveInject(WidgetPropertiesService));\n};\n/** @nocollapse */\n\n\nNotificationDetailsItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationDetailsItemComponent,\n  selectors: [[\"bb-notification-details-item\"]],\n  inputs: {\n    notification: \"notification\",\n    dateFormat: \"dateFormat\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[\"bbNotificationDetailsItemCustomizable\", \"\", 3, \"bbHostRef\"], [\"bbNotificationDetailsItemCustomizable\", \"\"], [1, \"bb-notification\", \"bb-notification--flush\"], [\"data-role\", \"notification-details-icon\", 1, \"bb-notification__icon\", 3, \"name\", \"color\"], [1, \"bb-notification__body\"], [1, \"bb-notification__title\", \"bb-stack\"], [\"data-role\", \"notification-details-title\", 1, \"bb-stack__item\", \"break-word\", \"bb-text-default\", 3, \"innerHTML\"], [\"data-role\", \"notification-details-message\", 1, \"bb-stack__item\", \"bb-stack__item--push-right\", 3, \"date\", \"displayRelativeTime\", \"dateFormat\"], [1, \"bb-stack\", \"bb-block\", \"bb-block--sm\"], [\"data-role\", \"notification-details-message-text\", 1, \"break-word\", \"bb-text-align-left\", 3, \"innerHTML\"], [3, \"origin\"]],\n  template: function NotificationDetailsItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, NotificationDetailsItemComponent_ng_template_1_Template, 13, 19, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx);\n    }\n  },\n  directives: function () {\n    return [NotificationDetailsItemCustomizableDirective, i2$1.IconComponent, HumanizedDateComponent, i5.NotificationsCapabilityIconComponent];\n  },\n  pipes: function () {\n    return [i5.ӨNotificationLocalizationPipe, i14.AsyncPipe, i5.ӨInterpolateLinkPipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationDetailsItemComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notification-details-item',\n      templateUrl: './notification-details-item.component.html'\n    }]\n  }], function () {\n    return [{\n      type: WidgetPropertiesService\n    }];\n  }, {\n    notification: [{\n      type: Input\n    }],\n    dateFormat: [{\n      type: Input\n    }]\n  });\n})();\n\nclass NotificationDetailsItemCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationDetailsItemCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationDetailsItemCustomizableDirective_BaseFactory;\n  return function NotificationDetailsItemCustomizableDirective_Factory(t) {\n    return (ɵNotificationDetailsItemCustomizableDirective_BaseFactory || (ɵNotificationDetailsItemCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationDetailsItemCustomizableDirective)))(t || NotificationDetailsItemCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationDetailsItemCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationDetailsItemCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationDetailsItemCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationDetailsItemCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationDetailsItemCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass NotificationDetailsComponent {\n  constructor() {\n    /**\n     * Event to navigate back to notifications list.\n     */\n    this.navigateBack = new EventEmitter();\n    /**\n     * Event to delete notification.\n     */\n\n    this.delete = new EventEmitter();\n  }\n  /**\n   * Method to emit delete notification event.\n   */\n\n\n  deleteNotification() {\n    this.delete.emit();\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationDetailsComponent.ɵfac = function NotificationDetailsComponent_Factory(t) {\n  return new (t || NotificationDetailsComponent)();\n};\n/** @nocollapse */\n\n\nNotificationDetailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationDetailsComponent,\n  selectors: [[\"bb-notification-details\"]],\n  inputs: {\n    notification: \"notification\",\n    dateFormat: \"dateFormat\"\n  },\n  outputs: {\n    navigateBack: \"navigateBack\",\n    delete: \"delete\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: function () {\n    let i18n_23;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications details Go back button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__24 = goog.getMsg(\" Back to notifications \");\n      i18n_23 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__24;\n    } else {\n      i18n_23 = $localize`:Notifications details Go back button@@notifications.details.go-back-button: Back to notifications `;\n    }\n\n    let i18n_25;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc delete aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__26 = goog.getMsg(\"delete\");\n      i18n_25 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__26;\n    } else {\n      i18n_25 = $localize`:delete aria-label@@notifications.details.delete-button-aria-label:delete`;\n    }\n\n    let i18n_27;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Button text to delete notification\n       * @meaning Delete\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__28 = goog.getMsg(\"Delete\");\n      i18n_27 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__28;\n    } else {\n      i18n_27 = $localize`:Delete|Button text to delete notification@@notifications.details.delete-button:Delete`;\n    }\n\n    return [[\"bbNotificationDetailsCustomizable\", \"\", 3, \"bbHostRef\"], [\"bbNotificationDetailsCustomizable\", \"\"], [\"role\", \"dialog\", \"aria-modal\", \"false\"], [1, \"bb-card__header\"], [1, \"bb-notifications-badge-widget__back-button\", \"bb-stack\"], [\"bbFocus\", \"\", \"bbButton\", \"\", \"color\", \"link-text\", \"data-role\", \"notification-details-go-back-btn\", 1, \"bb-stack__item--push-left\", 3, \"click\"], [\"name\", \"arrow-back\", \"color\", \"info\"], i18n_23, [\"bbButton\", \"\", \"color\", \"link\", \"circle\", \"true\", \"aria-label\", i18n_25, \"bbTooltip\", i18n_27, \"container\", \"body\", \"triggers\", \"hover\", \"placement\", \"top\", \"data-role\", \"notification-details-delete-btn\", 1, \"bb-stack__item--push-right\", 3, \"click\"], [\"name\", \"delete\", 1, \"bb-text-support\"], [1, \"bb-block\", \"bb-block--lg\"], [3, \"notification\", \"dateFormat\"]];\n  },\n  template: function NotificationDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, NotificationDetailsComponent_ng_template_1_Template, 11, 2, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx);\n    }\n  },\n  directives: function () {\n    return [NotificationDetailsCustomizableDirective, i3$1.ButtonDirective, i4.FocusDirective, i2$1.IconComponent, i5$1.TooltipDirective, NotificationDetailsItemComponent];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationDetailsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notification-details',\n      templateUrl: './notification-details.component.html'\n    }]\n  }], null, {\n    notification: [{\n      type: Input\n    }],\n    dateFormat: [{\n      type: Input\n    }],\n    navigateBack: [{\n      type: Output\n    }],\n    delete: [{\n      type: Output\n    }]\n  });\n})();\n\nclass NotificationDetailsCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationDetailsCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationDetailsCustomizableDirective_BaseFactory;\n  return function NotificationDetailsCustomizableDirective_Factory(t) {\n    return (ɵNotificationDetailsCustomizableDirective_BaseFactory || (ɵNotificationDetailsCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationDetailsCustomizableDirective)))(t || NotificationDetailsCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationDetailsCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationDetailsCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationDetailsCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationDetailsCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationDetailsCustomizable]'\n    }]\n  }], null, null);\n})();\n\nconst NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT = 'bb.event.notifications-badge.reload-on-navigate';\n\nclass NotificationsListComponent {\n  constructor(routerService, notificationsPaginationService, notificationsPollingService, notificationService, showNotificationService, element, properties, pubSub) {\n    this.routerService = routerService;\n    this.notificationsPaginationService = notificationsPaginationService;\n    this.notificationsPollingService = notificationsPollingService;\n    this.notificationService = notificationService;\n    this.showNotificationService = showNotificationService;\n    this.element = element;\n    this.properties = properties;\n    this.pubSub = pubSub;\n    /**\n     * Navigation event.\n     */\n\n    this.navigation = new EventEmitter();\n    this.componentDestroyed$ = new Subject();\n    /**\n     * Stream of routes available for navigation.\n     */\n\n    this.allowedRoutes$ = this.properties.allowedRoutes$;\n    /**\n     * Stream of a flag that defines if we should display settings button.\n     */\n\n    this.displaySettingsButton$ = this.properties.displaySettingsButton$;\n    /**\n     * Stream with notifications items.\n     */\n\n    this.notifications$ = this.notificationsPaginationService.notifications$.pipe(takeUntil(this.componentDestroyed$), shareReplayOnce());\n    /**\n     * Stream with error while loading of notifications.\n     */\n\n    this.error$ = this.notificationsPaginationService.error$;\n    /**\n     * Stream with error while loading of notifications.\n     */\n\n    this.updateCountersError$ = this.notificationsPollingService.updateCountersError$;\n    /**\n     * Mark as read request error stream which shows if request has failed.\n     */\n\n    this.markAllAsReadError$ = this.notificationService.markAllNotificationAsReadError;\n    /**\n     * Stream with flag if notifications is loading now or no.\n     */\n\n    this.isLoading$ = this.notificationsPaginationService.isLoading$;\n    this.firstNewNotificationId$ = this.notifications$.pipe(pairwise(), map(([prevNotifications, newNotifications]) => {\n      let firstNewNotification = newNotifications[prevNotifications.length]; // reset notification to the first page scenario\n\n      if (prevNotifications.length >= newNotifications.length) {\n        firstNewNotification = newNotifications[0];\n      }\n\n      return firstNewNotification && firstNewNotification.id;\n    }));\n    this.notificationWasReadSubject = new Subject();\n    this.notificationWasRead$ = this.notificationWasReadSubject.asObservable();\n    this.newNotificationsAvailableSubject = new BehaviorSubject(false);\n    this.updateCounters$ = this.newNotificationsAvailableSubject.pipe(startWith(false), filter(i => !i), mapTo(true), shareReplayOnce());\n    /**\n     * Stream with total count of notifications.\n     */\n\n    this.totalCount$ = this.updateCounters$.pipe(switchMap(() => this.notificationsPaginationService.totalCount$));\n    /**\n     * Stream with notifications about new notification available\n     */\n\n    this.newNotificationsAvailable$ = this.newNotificationsAvailableSubject.asObservable();\n    /**\n     * Stream with page size.\n     */\n\n    this.pageSize$ = this.notificationsPaginationService.sizeProperty$;\n    /**\n     * Stream with unread notifications count\n     */\n\n    this.unreadCount$ = this.updateCounters$.pipe(switchMap(() => this.notificationsPollingService.unreadNotificationsCount$.pipe(switchMap(counter => this.notificationWasRead$.pipe(startWith(false), map(read => {\n      if (!read || !counter) {\n        return counter;\n      }\n\n      return --counter;\n    }))))));\n    /**\n     * Steam with the starting page number.\n     */\n\n    this.pageFrom$ = this.notificationsPaginationService.pageFrom$;\n  }\n  /**\n   * Preselected notification\n   */\n\n\n  set preselectedNotification(notification) {\n    this.selectedNotification = notification;\n  }\n\n  ngOnInit() {\n    this.firstNewNotificationId$.pipe(filter(Boolean), map(id => `.bb-nt-${id}`), observeOn(asyncScheduler), map(elemClass => this.element.nativeElement.querySelector(elemClass)), filter(Boolean), takeUntil(this.componentDestroyed$)).subscribe(elemScrollTo => {\n      var _a;\n\n      (_a = elemScrollTo.firstChild) === null || _a === void 0 ? void 0 : _a.focus();\n      elemScrollTo.scrollIntoView({\n        behavior: 'smooth'\n      });\n    });\n    this.notificationsPollingService.newNotificationsAvailable$.pipe(takeUntil(this.componentDestroyed$)).subscribe(value => {\n      this.newNotificationsAvailableSubject.next(value);\n    });\n    this.onLoadNewNotifications();\n  }\n\n  ngOnDestroy() {\n    this.componentDestroyed$.next();\n    this.componentDestroyed$.complete();\n  }\n  /**\n   * Method to mark all notifications as read.\n   */\n\n\n  onReadAllNotifications() {\n    this.notificationService.markAllNotificationAsRead().subscribe(() => {\n      this.notificationsPaginationService.markAllAsRead(true);\n    });\n  }\n  /**\n   * Method to load new notifications by reloading of the first page.\n   */\n\n\n  onLoadNewNotifications() {\n    this.notificationsPollingService.unreadNotificationsCount$.pipe(skip(1), // skip stored value to wait for unread notifications count load occurred\n    first()).subscribe(() => {\n      this.newNotificationsAvailableSubject.next(false);\n      this.notificationsPaginationService.markAllAsRead(false);\n      this.notificationsPaginationService.loadPage(0);\n    });\n    this.notificationsPollingService.forceUpdateCounters();\n  }\n  /**\n   * Method to load next notifications page.\n   */\n\n\n  onLoadMore(totalCount, $event) {\n    const asyncNotifications$ = this.notifications$.pipe(skipUntil(of(undefined).pipe(observeOn(asyncScheduler))));\n    const lastNotification$ = this.notifications$.pipe(first(), map(notifications => notifications[notifications.length - 1]), map(({\n      id\n    }) => `.bb-nt-${id} [data-role=\"notifications-list-item\"]`), observeOn(asyncScheduler), map(selector => this.element.nativeElement.querySelector(selector)));\n    this.notifications$.pipe(first()).subscribe(data => {\n      const createdOn = data[0].createdOn;\n      this.notificationsPaginationService.loadMore($event.from, createdOn);\n    });\n    combineLatest([asyncNotifications$, of(totalCount)]).pipe(take(1), filter(([notifications, total]) => notifications.length >= total), switchMap(() => lastNotification$)).subscribe(lastNotification => lastNotification.focus());\n  }\n  /**\n   * Method to open notification settings.\n   */\n\n\n  onNotificationsSettingsOpen() {\n    this.routerService.emitSettingsOpenedNavigation();\n    this.navigation.emit();\n  }\n  /**\n   * Method to show notification details view or to navigate to the notification routing URL if routing is enabled.\n   */\n\n\n  selectNotification(clickEvent, notification, openDetailsView) {\n    clickEvent.preventDefault();\n    this.allowedRoutes$.subscribe(routes => {\n      const route = notification.routing && notification.routing['where-to'];\n\n      if (!openDetailsView && notification.routing && routes.some(allowedRoute => route === allowedRoute)) {\n        this.pubSub.publish(NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT, undefined);\n        this.routerService.emitNotificationRouting(notification.routing);\n        this.navigation.emit();\n      } else {\n        this.selectedNotification = notification;\n        this.saveRefToNotification(clickEvent);\n      }\n    });\n\n    if (!notification.read) {\n      this.notificationService.markNotificationAsRead(notification.id).subscribe(() => {\n        notification.read = true;\n        this.notificationWasReadSubject.next(true);\n      });\n    }\n  }\n  /**\n   * Method to delete notification.\n   */\n\n\n  deleteNotification() {\n    if (this.selectedNotification) {\n      this.notificationService.deleteNotification(this.selectedNotification.id).pipe(take(1), tap(() => this.notificationsPaginationService.loadPage(0))).subscribe(() => {\n        this.selectedNotification = undefined;\n      }, error => {\n        this.showNotificationService.showNotification({\n          header: this.getErrorMessage(error),\n          modifier: 'error',\n          message: ''\n        });\n      });\n    }\n  }\n  /**\n   * Method to unselect notification and return back focus position.\n   */\n\n\n  unselectNotification() {\n    this.selectedNotification = undefined;\n    this.restoreFocusOnNotification();\n  }\n  /**\n   * Method to differentiate notifications by IDs.\n   *\n   * @param _index List item index\n   * @param notification Notification list item\n   * @returns Notification id\n   */\n\n\n  trackById(_index, notification) {\n    return notification.id;\n  }\n\n  saveRefToNotification(notificationClickEvent) {\n    this.lastSelectedNotificationItemButton = notificationClickEvent.target.closest('[data-role=\"notifications-list-item\"]');\n  }\n\n  restoreFocusOnNotification() {\n    setTimeout(() => {\n      if (!this.lastSelectedNotificationItemButton) {\n        return;\n      }\n\n      this.lastSelectedNotificationItemButton.focus();\n    }, 0);\n  }\n\n  getErrorMessage(error) {\n    var _a, _b;\n\n    return typeof error !== 'string' ? ((_b = (_a = error) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.message) || error.message || 'Unknown Error' : error;\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsListComponent.ɵfac = function NotificationsListComponent_Factory(t) {\n  return new (t || NotificationsListComponent)(i0.ɵɵdirectiveInject(NotificationsRouterService), i0.ɵɵdirectiveInject(NotificationsPaginationService), i0.ɵɵdirectiveInject(NotificationsPollingService), i0.ɵɵdirectiveInject(NotificationsDataService), i0.ɵɵdirectiveInject(i5$2.NotificationService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(WidgetPropertiesService), i0.ɵɵdirectiveInject(PUBSUB));\n};\n/** @nocollapse */\n\n\nNotificationsListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationsListComponent,\n  selectors: [[\"bb-notifications-list\"]],\n  inputs: {\n    preselectedNotification: \"preselectedNotification\",\n    dateFormat: \"dateFormat\"\n  },\n  outputs: {\n    navigation: \"navigation\"\n  },\n  decls: 12,\n  vars: 33,\n  consts: function () {\n    let i18n_29;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications modal label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___30 = goog.getMsg(\"Notifications\");\n      i18n_29 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___30;\n    } else {\n      i18n_29 = $localize`:Notifications modal label@@notifications.modalLabel:Notifications`;\n    }\n\n    let i18n_31;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Aria-label for settings button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___32 = goog.getMsg(\"Redirect to notification settings\");\n      i18n_31 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___32;\n    } else {\n      i18n_31 = $localize`:Aria-label for settings button@@notifications.notification-settings.aria-label:Redirect to notification settings`;\n    }\n\n    let i18n_33;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Aria-label for new notifications loading button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___34 = goog.getMsg(\"New Notification available. Click to refresh\");\n      i18n_33 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___34;\n    } else {\n      i18n_33 = $localize`:Aria-label for new notifications loading button@@notifications.new-notifications-available.aria-label:New Notification available. Click to refresh`;\n    }\n\n    let i18n_35;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for mark all as read error\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___36 = goog.getMsg(\"Error! Couldn\\u2019t mark all as read.\");\n      i18n_35 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___36;\n    } else {\n      i18n_35 = $localize`:Label for mark all as read error@@notifications.mark-all-read.alert.title:Error! Couldn’t mark all as read.`;\n    }\n\n    let i18n_37;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Aria-label for mark all as read error\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___38 = goog.getMsg(\"Error! Couldn\\u2019t mark all as read.\");\n      i18n_37 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___38;\n    } else {\n      i18n_37 = $localize`:Aria-label for mark all as read error@@notifications.mark-all-read.alert.aria-label:Error! Couldn’t mark all as read.`;\n    }\n\n    let i18n_39;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for new notifications loading button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____40 = goog.getMsg(\"{$startTagSpan}New Notification available. Click to refresh{$closeTagSpan}{$startTagBbIconUi}{$closeTagBbIconUi}\", {\n        \"startTagSpan\": \"\\uFFFD#2\\uFFFD\",\n        \"closeTagSpan\": \"\\uFFFD/#2\\uFFFD\",\n        \"startTagBbIconUi\": \"\\uFFFD#3\\uFFFD\",\n        \"closeTagBbIconUi\": \"\\uFFFD/#3\\uFFFD\"\n      });\n      i18n_39 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____40;\n    } else {\n      i18n_39 = $localize`:Label for new notifications loading button@@notifications.new-notifications-available.button:${\"\\uFFFD#2\\uFFFD\"}:START_TAG_SPAN:New Notification available. Click to refresh${\"\\uFFFD/#2\\uFFFD\"}:CLOSE_TAG_SPAN:${\"\\uFFFD#3\\uFFFD\"}:START_TAG_BB_ICON_UI:${\"\\uFFFD/#3\\uFFFD\"}:CLOSE_TAG_BB_ICON_UI:`;\n    }\n\n    let i18n_41;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Aria-label for mark all as read button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____42 = goog.getMsg(\"Mark all notifcations as read\");\n      i18n_41 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____42;\n    } else {\n      i18n_41 = $localize`:Aria-label for mark all as read button@@notifications.mark-all-read.aria-label:Mark all notifcations as read`;\n    }\n\n    let i18n_43;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for mark all as read button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____44 = goog.getMsg(\"Mark all as read\");\n      i18n_43 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____44;\n    } else {\n      i18n_43 = $localize`:Label for mark all as read button@@notifications.mark-all-read.label:Mark all as read`;\n    }\n\n    let i18n_46;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____47 = goog.getMsg(\"{VAR_PLURAL, plural, =1 {new notification of {INTERPOLATION}available} other {{INTERPOLATION_1} new notifications of {INTERPOLATION}available }}\");\n      i18n_46 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____47;\n    } else {\n      i18n_46 = $localize`{VAR_PLURAL, plural, =1 {new notification of {INTERPOLATION}available} other {{INTERPOLATION_1} new notifications of {INTERPOLATION}available }}`;\n    }\n\n    i18n_46 = i0.ɵɵi18nPostprocess(i18n_46, {\n      \"VAR_PLURAL\": \"\\uFFFD0\\uFFFD\",\n      \"INTERPOLATION\": \"\\uFFFD1\\uFFFD\",\n      \"INTERPOLATION_1\": \"\\uFFFD2\\uFFFD\"\n    });\n    let i18n_45;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for new loaded notifications available\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____48 = goog.getMsg(\" {$icu} \", {\n        \"icu\": i18n_46\n      });\n      i18n_45 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____48;\n    } else {\n      i18n_45 = $localize`:Label for new loaded notifications available@@notifications.new-loaded-notifications-available: ${i18n_46}:ICU: `;\n    }\n\n    let i18n_49;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Load more button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______50 = goog.getMsg(\" Load More \");\n      i18n_49 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______50;\n    } else {\n      i18n_49 = $localize`:Load more button@@notifications.notification-list.load-more: Load More `;\n    }\n\n    let i18n_51;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Load more disabled text\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______52 = goog.getMsg(\" You\\u2019ve reached the end of the list. \");\n      i18n_51 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS______52;\n    } else {\n      i18n_51 = $localize`:Load more disabled text@@notifications.notification-list.load-more-disabled: You’ve reached the end of the list. `;\n    }\n\n    let i18n_53;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications empty state message title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____54 = goog.getMsg(\"No Notifications\");\n      i18n_53 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____54;\n    } else {\n      i18n_53 = $localize`:Notifications empty state message title@@notifications.state.no-notifications.title:No Notifications`;\n    }\n\n    let i18n_55;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications empty state message\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____56 = goog.getMsg(\"You don't have any notifications to be displayed\");\n      i18n_55 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS____56;\n    } else {\n      i18n_55 = $localize`:Notifications empty state message@@notifications.state.no-notifications.subtitle:You don't have any notifications to be displayed`;\n    }\n\n    let i18n_57;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications are not loading title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___58 = goog.getMsg(\"Notifications couldn\\u2019t load\");\n      i18n_57 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___58;\n    } else {\n      i18n_57 = $localize`:Notifications are not loading title@@notifications.error-state.title:Notifications couldn’t load`;\n    }\n\n    let i18n_59;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications are not loading subtitle\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___60 = goog.getMsg(\"Try to reload the page or contact the system administrator.\");\n      i18n_59 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS___60;\n    } else {\n      i18n_59 = $localize`:Notifications are not loading subtitle@@notifications.error-state.subtitle:Try to reload the page or contact the system administrator.`;\n    }\n\n    return [[\"bbNotificationsListCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbNotificationsListCustomizable\", \"\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptyState\", \"\"], [\"errorState\", \"\"], [\"loadingState\", \"\"], [\"data-role\", \"notifications-list-header\", 1, \"bb-card__header\", \"bb-stack\"], [1, \"bb-stack__item\"], [1, \"bb-heading-3\"], i18n_29, [\"bbButton\", \"\", \"class\", \"bb-stack__item bb-stack__item--push-right\", \"data-role\", \"settings-button\", \"color\", \"link\", \"circle\", \"true\", \"aria-label\", i18n_31, 3, \"click\", 4, \"ngIf\"], [\"bbButton\", \"\", \"role\", \"status\", \"color\", \"primary\", \"aria-label\", i18n_33, \"class\", \"bb-notifications-badge-widget__load-new-button\", \"data-role\", \"notifications-load-new-btn\", 3, \"block\", \"click\", 4, \"ngIf\"], [\"class\", \"bb-notifications-badge-widget__alert\", \"data-role\", \"mark-all-read-error-alert\", \"title\", i18n_35, \"aria-label\", i18n_37, \"modifier\", \"error\", 3, \"dismissible\", 4, \"ngIf\"], [\"class\", \"bb-notifications-badge-widget__all-read-button\", 4, \"ngIf\"], [\"bbButton\", \"\", \"data-role\", \"settings-button\", \"color\", \"link\", \"circle\", \"true\", \"aria-label\", i18n_31, 1, \"bb-stack__item\", \"bb-stack__item--push-right\", 3, \"click\"], [\"name\", \"settings\", \"size\", \"md\", 1, \"text-dark\"], [\"bbButton\", \"\", \"role\", \"status\", \"color\", \"primary\", \"aria-label\", i18n_33, \"data-role\", \"notifications-load-new-btn\", 1, \"bb-notifications-badge-widget__load-new-button\", 3, \"block\", \"click\"], i18n_39, [\"name\", \"loading\", \"size\", \"md\", \"cropped\", \"true\"], [\"data-role\", \"mark-all-read-error-alert\", \"title\", i18n_35, \"aria-label\", i18n_37, \"modifier\", \"error\", 1, \"bb-notifications-badge-widget__alert\", 3, \"dismissible\"], [1, \"bb-notifications-badge-widget__all-read-button\"], [\"bbButton\", \"\", \"data-role\", \"mark-all-read-button\", \"color\", \"link-text\", \"aria-label\", i18n_41, 1, \"bb-subtitle\", 3, \"click\"], [\"name\", \"playlist-add-check\", \"size\", \"md\", \"cropped\", \"true\"], i18n_43, [\"data-role\", \"notifications-list-inner-wrapper\", 3, \"ngClass\"], [\"aria-live\", \"polite\", 1, \"sr-only\"], i18n_45, [\"tabindex\", \"-1\", \"data-role\", \"notifications-list-body\", 1, \"bb-notifications-badge-widget__list\", \"bb-list\", \"bb-list--flush-lg\"], [\"class\", \"bb-list__item\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"bb-card__footer\"], [3, \"notification\", \"dateFormat\", \"navigateBack\", \"delete\", 4, \"ngIf\"], [1, \"bb-list__item\"], [3, \"notification\", \"dateFormat\", \"keydown.enter\", \"keyup.space\", \"click\", \"openDetails\"], [\"class\", \"bb-button-bar bb-button-bar--center\", 4, \"ngIf\", \"ngIfElse\"], [\"LoadMoreDisabled\", \"\"], [1, \"bb-button-bar\", \"bb-button-bar--center\"], [\"color\", \"link\", 1, \"bb-button-bar__button\", 3, \"size\", \"from\", \"totalCount\", \"isLoading\", \"block\", \"paramChange\"], i18n_49, [\"data-role\", \"notification-list-load-more-disabled-text\", 1, \"bb-subtitle\", \"bb-text-support\", \"bb-text-align-center\"], i18n_51, [3, \"notification\", \"dateFormat\", \"navigateBack\", \"delete\"], [\"role\", \"alert\", 4, \"ngIf\", \"ngIfElse\"], [\"role\", \"alert\"], [1, \"bb-card__body\"], [\"data-role\", \"notifications-badge-empty-state\", \"title\", i18n_53, \"iconModifier\", \"notifications-off\", \"iconSize\", \"xxl\", \"subtitle\", i18n_55, 1, \"bb-state-container\"], [\"data-role\", \"notifications-badge-error-state\", \"iconSize\", \"xxl\", \"iconModifier\", \"error-outline\", \"title\", i18n_57, \"subtitle\", i18n_59, 1, \"bb-state-container\"], [\"loaderSize\", \"md\", \"text\", \"Loading...\"]];\n  },\n  template: function NotificationsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵtemplate(11, NotificationsListComponent_ng_template_11_Template, 8, 3, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx)(\"bbTemplateContext\", i0.ɵɵpureFunctionV(22, _c61, [i0.ɵɵpipeBind1(1, 2, ctx.notifications$), i0.ɵɵpipeBind1(2, 4, ctx.error$), i0.ɵɵpipeBind1(3, 6, ctx.updateCountersError$), i0.ɵɵpipeBind1(4, 8, ctx.isLoading$), i0.ɵɵpipeBind1(5, 10, ctx.totalCount$), i0.ɵɵpipeBind1(6, 12, ctx.pageSize$), i0.ɵɵpipeBind1(7, 14, ctx.newNotificationsAvailable$), i0.ɵɵpipeBind1(8, 16, ctx.unreadCount$), i0.ɵɵpipeBind1(9, 18, ctx.markAllAsReadError$), i0.ɵɵpipeBind1(10, 20, ctx.pageFrom$)]));\n    }\n  },\n  directives: function () {\n    return [NotificationsListCustomizableDirective, i14.NgIf, i3$1.ButtonDirective, i2$1.IconComponent, i8.AlertComponent, i14.NgClass, i14.NgForOf, NotificationsListItemComponent, i10.LoadButtonComponent, NotificationDetailsComponent, i12.EmptyStateComponent, i13.LoadingIndicatorComponent];\n  },\n  pipes: function () {\n    return [i14.AsyncPipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsListComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notifications-list',\n      templateUrl: './notifications-list.component.html'\n    }]\n  }], function () {\n    return [{\n      type: NotificationsRouterService\n    }, {\n      type: NotificationsPaginationService\n    }, {\n      type: NotificationsPollingService\n    }, {\n      type: NotificationsDataService\n    }, {\n      type: i5$2.NotificationService\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: WidgetPropertiesService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PUBSUB]\n      }]\n    }];\n  }, {\n    navigation: [{\n      type: Output\n    }],\n    preselectedNotification: [{\n      type: Input\n    }],\n    dateFormat: [{\n      type: Input\n    }]\n  });\n})();\n\nclass NotificationsListCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationsListCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationsListCustomizableDirective_BaseFactory;\n  return function NotificationsListCustomizableDirective_Factory(t) {\n    return (ɵNotificationsListCustomizableDirective_BaseFactory || (ɵNotificationsListCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationsListCustomizableDirective)))(t || NotificationsListCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationsListCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationsListCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationsListCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsListCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationsListCustomizable]'\n    }]\n  }], null, null);\n})();\n\nconst BADGE_FORCE_UPDATE_DEBOUNCE_TIME = 800;\n/** @dynamic */\n\nclass NotificationsBadgeWidgetComponent {\n  constructor(notificationsPollingService, routerService, mediaQService, properties, pubSub, document) {\n    this.notificationsPollingService = notificationsPollingService;\n    this.routerService = routerService;\n    this.mediaQService = mediaQService;\n    this.properties = properties;\n    this.pubSub = pubSub;\n    this.document = document;\n    this.preselectedNotification$$ = new BehaviorSubject(undefined);\n    /**\n     * Stream of preselected notification.\n     */\n\n    this.preselectedNotification$ = this.preselectedNotification$$.asObservable();\n    /**\n     * Redirect to Notification Preferences on Settings button click emitter.\n     */\n\n    this.notificationsSettingsOpened = new EventEmitter();\n    /**\n     * Navigation data emitter.\n     */\n\n    this.notificationRouting = new EventEmitter();\n    /**\n     * Unique id html property for each component instance\n     */\n\n    this.id = `bb-notifications-badge-widget-${NotificationsBadgeWidgetComponent.idCounter++}`;\n    this.destroy$ = new Subject();\n    /**\n     * Stream with count of unread notifications.\n     */\n\n    this.unreadCount$ = this.notificationsPollingService.unreadNotificationsCount$;\n    /**\n     * Stream that adjusts the layout to the screen size by applying different translateX values.\n     */\n\n    this.listTransform$ = this.mediaQService.isMediaBreakpointMatches('max-width', 'sm').pipe(map(isMobileView => {\n      if (isMobileView) {\n        const badge = this.document.querySelector('.bb-notifications-badge-widget');\n\n        if (badge) {\n          const {\n            width: badgeWidth,\n            left\n          } = badge.getBoundingClientRect();\n          const {\n            width: bodyWidth\n          } = this.document.body.getBoundingClientRect();\n          return `translateX(${bodyWidth - left - badgeWidth}px)`;\n        }\n      }\n\n      return undefined;\n    }));\n    this.origins$ = this.properties.origins$;\n    this.severityLevels$ = this.properties.severityLevels$;\n  }\n  /**\n   * Preselected notification.\n   */\n\n\n  set preselectedNotification(notification) {\n    if (!this.popover) return;\n    this.preselectedNotification$$.next(notification);\n\n    if (!this.popover.isOpen() && notification) {\n      this.popover.open();\n    }\n  }\n  /**\n   * Number of displayed lines in notification message.\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set notificationsMessageLineAmountValue(value) {\n    if (value !== undefined) {\n      this.properties.setNotificationsMessageLineAmount(value);\n    }\n  }\n  /**\n   * Display time for today relative to the current point in time (time display format).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set displayRelativeTimeValue(value) {\n    if (value !== undefined) {\n      this.properties.setDisplayRelativeTime(value);\n    }\n  }\n  /**\n   * Display See More button.\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set displayShowMoreButtonInBadgeValue(value) {\n    if (value !== undefined) {\n      this.properties.setDisplayShowMoreButtonInBadge(value);\n    }\n  }\n  /**\n   * String of allowed routes for navigation (conversation-view, arrangement-view, transaction-view, party-view, etc.).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set allowedRoutesValue(value) {\n    if (value !== undefined) {\n      this.properties.setAllowedRoutes(value);\n    }\n  }\n  /**\n   * Display Settings button (button with the Gear icon that opens Notification Preferences).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set displaySettingsButtonValue(value) {\n    if (value !== undefined) {\n      this.properties.setDisplaySettingsButton(value);\n    }\n  }\n  /**\n   * Limit of notifications per paginated request.\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set pageSizeValue(value) {\n    if (value !== undefined) {\n      this.properties.setPageSize(value);\n    }\n  }\n  /**\n   * Comma-separated list of notifications origins to process (empty for all).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set originsValue(value) {\n    if (value !== undefined) {\n      this.properties.setOrigins(value);\n    }\n  }\n  /**\n   * Comma-separated list of notifications severity levels to process (empty for all).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set severityLevelsValue(value) {\n    if (value !== undefined) {\n      this.properties.setSeverityLevels(value);\n    }\n  }\n  /**\n   * Interval to poll server for unread count (in seconds).\n   */\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n\n\n  set unreadCountUpdateIntervalValue(value) {\n    if (value !== undefined) {\n      this.properties.setUnreadCountUpdateInterval(value);\n    }\n  }\n\n  ngOnInit() {\n    this.setupNavigationSubscriptions();\n    this.setupBadgeUpdateSubscriptions();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  /**\n   * The method to clear the preselected notification value.\n   *\n   * @param isOpen Is notification badge open flag\n   */\n\n\n  onOpenChange(isOpen) {\n    if (!isOpen) {\n      this.preselectedNotification$$.next(undefined);\n    }\n  }\n\n  setupNavigationSubscriptions() {\n    this.routerService.settingsOpenedNavigation$.pipe(takeUntil(this.destroy$)).subscribe(this.notificationsSettingsOpened);\n    this.routerService.notificationRouting$.pipe(takeUntil(this.destroy$)).subscribe(this.notificationRouting);\n  }\n\n  setupBadgeUpdateSubscriptions() {\n    let forceUpdateCounterHandler;\n    const forceUpdateCounters$ = new Subject();\n    forceUpdateCounters$.pipe(debounceTime(BADGE_FORCE_UPDATE_DEBOUNCE_TIME), takeUntil(this.destroy$)).subscribe(() => this.notificationsPollingService.forceUpdateCounters());\n    combineLatest([this.origins$, this.severityLevels$]).pipe(first()).subscribe(([origins, levels]) => {\n      forceUpdateCounterHandler = payload => {\n        if (payload && (origins.length === 0 || payload.origin && origins.includes(payload.origin)) && (levels.length === 0 || levels.includes(payload.level))) {\n          forceUpdateCounters$.next();\n        }\n      };\n\n      this.pubSub.subscribe(NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, forceUpdateCounterHandler);\n    });\n    this.destroy$.subscribe(() => {\n      this.pubSub.unsubscribe(NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, forceUpdateCounterHandler);\n    });\n  }\n\n}\n\nNotificationsBadgeWidgetComponent.idCounter = 0;\n/** @nocollapse */\n\nNotificationsBadgeWidgetComponent.ɵfac = function NotificationsBadgeWidgetComponent_Factory(t) {\n  return new (t || NotificationsBadgeWidgetComponent)(i0.ɵɵdirectiveInject(NotificationsPollingService), i0.ɵɵdirectiveInject(NotificationsRouterService), i0.ɵɵdirectiveInject(i3$2.MediaQueryService), i0.ɵɵdirectiveInject(WidgetPropertiesService), i0.ɵɵdirectiveInject(PUBSUB), i0.ɵɵdirectiveInject(DOCUMENT));\n};\n/** @nocollapse */\n\n\nNotificationsBadgeWidgetComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationsBadgeWidgetComponent,\n  selectors: [[\"bb-notifications-badge-widget\"]],\n  viewQuery: function NotificationsBadgeWidgetComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c62, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popover = _t.first);\n    }\n  },\n  inputs: {\n    preselectedNotification: \"preselectedNotification\",\n    notificationsMessageLineAmountValue: [\"notificationsMessageLineAmount\", \"notificationsMessageLineAmountValue\"],\n    displayRelativeTimeValue: [\"displayRelativeTime\", \"displayRelativeTimeValue\"],\n    displayShowMoreButtonInBadgeValue: [\"displayShowMoreButtonInBadge\", \"displayShowMoreButtonInBadgeValue\"],\n    allowedRoutesValue: [\"allowedRoutes\", \"allowedRoutesValue\"],\n    displaySettingsButtonValue: [\"displaySettingsButton\", \"displaySettingsButtonValue\"],\n    pageSizeValue: [\"pageSize\", \"pageSizeValue\"],\n    originsValue: [\"origins\", \"originsValue\"],\n    severityLevelsValue: [\"severityLevels\", \"severityLevelsValue\"],\n    unreadCountUpdateIntervalValue: [\"unreadCountUpdateInterval\", \"unreadCountUpdateIntervalValue\"],\n    dateFormat: \"dateFormat\"\n  },\n  outputs: {\n    notificationsSettingsOpened: \"notificationsSettingsOpened\",\n    notificationRouting: \"notificationRouting\"\n  },\n  features: [i0.ɵɵProvidersFeature([NotificationsPaginationService, NotificationsDataService, NotificationsPollingService, NotificationsRouterService, WidgetPropertiesService, NotificationsPaginationService])],\n  decls: 4,\n  vars: 9,\n  consts: function () {\n    let i18n_64;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__65 = goog.getMsg(\"{VAR_PLURAL, plural, =0 {no new notifications } =1 {{INTERPOLATION} new notification} other {{INTERPOLATION} new notifications }}\");\n      i18n_64 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__65;\n    } else {\n      i18n_64 = $localize`{VAR_PLURAL, plural, =0 {no new notifications } =1 {{INTERPOLATION} new notification} other {{INTERPOLATION} new notifications }}`;\n    }\n\n    i18n_64 = i0.ɵɵi18nPostprocess(i18n_64, {\n      \"VAR_PLURAL\": \"\\uFFFD0\\uFFFD\",\n      \"INTERPOLATION\": \"\\uFFFD1\\uFFFD\"\n    });\n    let i18n_63;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notifications badge aria label\\@notifications.badge.aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__66 = goog.getMsg(\" {$icu} \", {\n        \"icu\": i18n_64\n      });\n      i18n_63 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_FESM2015_BACKBASE_NOTIFICATIONS_BADGE_WIDGET_ANG_JS__66;\n    } else {\n      i18n_63 = $localize`:Notifications badge aria label@notifications.badge.aria-label: ${i18n_64}:ICU: `;\n    }\n\n    return [[\"bbNotificationsBadgeCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbNotificationsBadgeCustomizable\", \"\"], [1, \"bb-notifications-badge-widget\"], [\"ngbDropdown\", \"\", \"placement\", \"bottom-right\", 3, \"openChange\"], [\"popover\", \"ngbDropdown\"], [\"bbButton\", \"\", \"color\", \"transparent\", \"ngbDropdownToggle\", \"\", 1, \"bb-notifications-badge-widget__dropdown-button\"], [\"name\", \"notifications\", \"color\", \"secondary\", \"data-role\", \"notifications-icon\", \"size\", \"lg\"], [\"maxCount\", \"99\", \"color\", \"danger\", \"data-role\", \"notifications-unread-count\", 1, \"bb-notifications-badge-widget__dropdown-button-counter\", 3, \"count\"], [\"ngbDropdownMenu\", \"\", \"data-role\", \"notifications-list-wrapper\", 1, \"bb-notifications-badge-widget__dropdown-menu\", \"dropdown-menu-unstyled\"], [\"data-role\", \"notifications-dropdown-menu-list\", 1, \"bb-notifications-badge-widget__dropdown-menu-list\"], [1, \"bb-card\", \"bb-notifications-badge-widget__list-wrapper\"], [3, \"preselectedNotification\", \"dateFormat\", \"navigation\", 4, \"ngIf\"], [\"aria-live\", \"polite\", \"aria-relevant\", \"text\", 1, \"sr-only\"], i18n_63, [3, \"preselectedNotification\", \"dateFormat\", \"navigation\"]];\n  },\n  template: function NotificationsBadgeWidgetComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵtemplate(3, NotificationsBadgeWidgetComponent_ng_template_3_Template, 12, 8, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx)(\"bbTemplateContext\", i0.ɵɵpureFunction2(6, _c67, i0.ɵɵpipeBind1(1, 2, ctx.unreadCount$), i0.ɵɵpipeBind1(2, 4, ctx.listTransform$)));\n    }\n  },\n  directives: function () {\n    return [NotificationsBadgeWidgetCustomizableDirective, i8$1.NgbDropdown, i3$1.ButtonDirective, i8$1.NgbDropdownToggle, i2$1.IconComponent, i6.BadgeCounterComponent, i8$1.NgbDropdownMenu, i14.NgIf, NotificationsListComponent];\n  },\n  pipes: function () {\n    return [i14.AsyncPipe];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsBadgeWidgetComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notifications-badge-widget',\n      templateUrl: './notifications-badge-widget.component.html',\n      providers: [NotificationsPaginationService, NotificationsDataService, NotificationsPollingService, NotificationsRouterService, WidgetPropertiesService, NotificationsPaginationService]\n    }]\n  }], function () {\n    return [{\n      type: NotificationsPollingService\n    }, {\n      type: NotificationsRouterService\n    }, {\n      type: i3$2.MediaQueryService\n    }, {\n      type: WidgetPropertiesService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PUBSUB]\n      }]\n    }, {\n      type: Document,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, {\n    preselectedNotification: [{\n      type: Input\n    }],\n    notificationsMessageLineAmountValue: [{\n      type: Input,\n      args: ['notificationsMessageLineAmount']\n    }],\n    displayRelativeTimeValue: [{\n      type: Input,\n      args: ['displayRelativeTime']\n    }],\n    displayShowMoreButtonInBadgeValue: [{\n      type: Input,\n      args: ['displayShowMoreButtonInBadge']\n    }],\n    allowedRoutesValue: [{\n      type: Input,\n      args: ['allowedRoutes']\n    }],\n    displaySettingsButtonValue: [{\n      type: Input,\n      args: ['displaySettingsButton']\n    }],\n    pageSizeValue: [{\n      type: Input,\n      args: ['pageSize']\n    }],\n    originsValue: [{\n      type: Input,\n      args: ['origins']\n    }],\n    severityLevelsValue: [{\n      type: Input,\n      args: ['severityLevels']\n    }],\n    unreadCountUpdateIntervalValue: [{\n      type: Input,\n      args: ['unreadCountUpdateInterval']\n    }],\n    dateFormat: [{\n      type: Input\n    }],\n    notificationsSettingsOpened: [{\n      type: Output\n    }],\n    notificationRouting: [{\n      type: Output\n    }],\n    popover: [{\n      type: ViewChild,\n      args: ['popover']\n    }]\n  });\n})();\n\nclass NotificationsBadgeWidgetCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationsBadgeWidgetCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationsBadgeWidgetCustomizableDirective_BaseFactory;\n  return function NotificationsBadgeWidgetCustomizableDirective_Factory(t) {\n    return (ɵNotificationsBadgeWidgetCustomizableDirective_BaseFactory || (ɵNotificationsBadgeWidgetCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationsBadgeWidgetCustomizableDirective)))(t || NotificationsBadgeWidgetCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationsBadgeWidgetCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationsBadgeWidgetCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationsBadgeCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsBadgeWidgetCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationsBadgeCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass HumanizedDateModule {}\n/** @nocollapse */\n\n\nHumanizedDateModule.ɵfac = function HumanizedDateModule_Factory(t) {\n  return new (t || HumanizedDateModule)();\n};\n/** @nocollapse */\n\n\nHumanizedDateModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: HumanizedDateModule\n});\n/** @nocollapse */\n\nHumanizedDateModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, BbDatePipeModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(HumanizedDateModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, BbDatePipeModule],\n      declarations: [HumanizedDateComponent, HumanizedDateCustomizableDirective],\n      exports: [HumanizedDateComponent, HumanizedDateCustomizableDirective]\n    }]\n  }], null, null);\n})();\n\nconst uiModules$3 = [BbDatePipeModule, EllipsisModule];\nconst innerModules$3 = [HumanizedDateModule];\nconst components$3 = [NotificationsListItemComponent, NotificationListItemCustomizableDirective];\n\nclass NotificationsListItemModule {}\n/** @nocollapse */\n\n\nNotificationsListItemModule.ɵfac = function NotificationsListItemModule_Factory(t) {\n  return new (t || NotificationsListItemModule)();\n};\n/** @nocollapse */\n\n\nNotificationsListItemModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NotificationsListItemModule\n});\n/** @nocollapse */\n\nNotificationsListItemModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, NotificationsCommonModule, ...uiModules$3, ...innerModules$3], NotificationsCommonModule, BbDatePipeModule, EllipsisModule, HumanizedDateModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsListItemModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, NotificationsCommonModule, ...uiModules$3, ...innerModules$3],\n      declarations: [...components$3],\n      exports: [NotificationsCommonModule, ...uiModules$3, ...innerModules$3, ...components$3]\n    }]\n  }], null, null);\n})();\n\nconst uiModules$2 = [ButtonModule, FocusModule, EllipsisModule, TooltipModule];\nconst innerModules$2 = [HumanizedDateModule];\nconst components$2 = [NotificationDetailsComponent, NotificationDetailsCustomizableDirective, NotificationDetailsItemComponent, NotificationDetailsItemCustomizableDirective];\n\nclass NotificationDetailsModule {}\n/** @nocollapse */\n\n\nNotificationDetailsModule.ɵfac = function NotificationDetailsModule_Factory(t) {\n  return new (t || NotificationDetailsModule)();\n};\n/** @nocollapse */\n\n\nNotificationDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NotificationDetailsModule\n});\n/** @nocollapse */\n\nNotificationDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, NotificationsCommonModule, ...uiModules$2, ...innerModules$2], NotificationsCommonModule, ButtonModule, FocusModule, EllipsisModule, TooltipModule, HumanizedDateModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationDetailsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, NotificationsCommonModule, ...uiModules$2, ...innerModules$2],\n      declarations: [...components$2],\n      exports: [NotificationsCommonModule, ...uiModules$2, ...innerModules$2, ...components$2]\n    }]\n  }], null, null);\n})();\n\nconst uiModules$1 = [EmptyStateModule, ErrorCommonStateModule, LoadButtonModule, LoadingIndicatorModule, ButtonModule, AlertModule];\nconst innerModules$1 = [NotificationsListItemModule, NotificationDetailsModule];\nconst components$1 = [NotificationsListComponent, NotificationsListCustomizableDirective];\n\nclass NotificationsListModule {}\n/** @nocollapse */\n\n\nNotificationsListModule.ɵfac = function NotificationsListModule_Factory(t) {\n  return new (t || NotificationsListModule)();\n};\n/** @nocollapse */\n\n\nNotificationsListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NotificationsListModule\n});\n/** @nocollapse */\n\nNotificationsListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, ...uiModules$1, ...innerModules$1], EmptyStateModule, ErrorCommonStateModule, LoadButtonModule, LoadingIndicatorModule, ButtonModule, AlertModule, NotificationsListItemModule, NotificationDetailsModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsListModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, ...uiModules$1, ...innerModules$1],\n      declarations: [...components$1],\n      exports: [...uiModules$1, ...innerModules$1, ...components$1]\n    }]\n  }], null, null);\n})();\n\nconst uiModules = [BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule];\nconst innerModules = [NotificationsListItemModule, NotificationsListModule];\nconst components = [NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective];\n\nclass NotificationsBadgeWidgetModule {}\n/** @nocollapse */\n\n\nNotificationsBadgeWidgetModule.ɵfac = function NotificationsBadgeWidgetModule_Factory(t) {\n  return new (t || NotificationsBadgeWidgetModule)();\n};\n/** @nocollapse */\n\n\nNotificationsBadgeWidgetModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NotificationsBadgeWidgetModule\n});\n/** @nocollapse */\n\nNotificationsBadgeWidgetModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, BackbaseCoreModule.withConfig({\n    classMap: {\n      NotificationsBadgeWidgetComponent\n    }\n  }), ...uiModules, ...innerModules], BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule, NotificationsListItemModule, NotificationsListModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsBadgeWidgetModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, BackbaseCoreModule.withConfig({\n        classMap: {\n          NotificationsBadgeWidgetComponent\n        }\n      }), ...uiModules, ...innerModules],\n      declarations: [...components],\n      exports: [...uiModules, ...innerModules, ...components]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { BADGE_FORCE_UPDATE_DEBOUNCE_TIME, HumanizedDateComponent, HumanizedDateCustomizableDirective, NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT, NotificationDetailsComponent, NotificationDetailsCustomizableDirective, NotificationDetailsItemComponent, NotificationDetailsItemCustomizableDirective, NotificationListItemCustomizableDirective, NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective, NotificationsBadgeWidgetModule, NotificationsListComponent, NotificationsListCustomizableDirective, NotificationsListItemComponent, NotificationsPaginationService, NotificationsPollingService, WidgetPropertiesService, HumanizedDateModule as ӨHumanizedDateModule, NotificationDetailsModule as ӨNotificationDetailsModule, NotificationsListItemModule as ӨNotificationsListItemModule, NotificationsListModule as ӨNotificationsListModule };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/notifications-badge-widget-ang/fesm2015/backbase-notifications-badge-widget-ang.js"],"names":["i0","Injectable","Optional","Component","Input","Directive","EventEmitter","Output","Inject","ViewChild","NgModule","i14","DOCUMENT","CommonModule","i1","BbTemplate","BackbaseCoreModule","i8$1","NgbDropdownModule","i1$1","BehaviorSubject","Subject","ReplaySubject","merge","of","asyncScheduler","combineLatest","zip","EMPTY","map","first","switchMap","delay","observeOn","tap","filter","pairwise","catchError","finalize","share","scan","startWith","withLatestFrom","distinctUntilChanged","takeUntil","mapTo","skip","skipUntil","take","debounceTime","i5","BaseWidgetPropertiesService","getPropertyValue","modelItemToBoolean","shareReplayOnce","secondsToMilliseconds","leaveZone","enterZone","toISOExtendedFormat","NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT","NotificationsCommonModule","PUBSUB","i3$2","MediaQueryModule","i2$1","IconModule","i6","BadgeCounterModule","i5$2","i8","AlertModule","i3","EllipsisModule","i2","BbDatePipeModule","i10","LoadButtonModule","i3$1","ButtonModule","i4","FocusModule","i5$1","TooltipModule","i12","EmptyStateModule","i13","LoadingIndicatorModule","ErrorCommonStateModule","BadgeModule","DefaultWidgetProperties","displayRelativeTime","allowedRoutes","displaySettingsButton","notificationsMessageLineAmount","displayShowMoreButtonInBadge","pageSize","origins","severityLevels","unreadCountUpdateInterval","WidgetPropertiesService","constructor","itemModel","displayRelativeTime$$","undefined","displaySettingsButton$$","notificationsMessageLineAmount$$","displayShowMoreButtonInBadge$$","pageSize$$","unreadCountUpdateInterval$$","displayRelativeTime$","displaySettingsButton$","notificationsMessageLineAmount$","displayShowMoreButtonInBadge$","pageSize$","unreadCountUpdateInterval$","defaultModelObservable","property","pipe","Number","n","setDisplayRelativeTime","value","next","setDisplaySettingsButton","setNotificationsMessageLineAmount","setDisplayShowMoreButtonInBadge","setPageSize","setUnreadCountUpdateInterval","updateInterval","isNaN","ɵfac","ItemModel","ɵprov","type","decorators","NotificationsPollingService","notificationHttpService","properties","ngZone","forceUpdateCountersSubject","requestsInterval$","repeat$","load$","interval","updateCountersErrorSubject$$","updateCountersError$","asObservable","unreadNotificationsCount$","requestCount","count","newNotificationsAvailable$","prev","cur","Boolean","origins$","severityLevels$","levels","getUnreadCount","Object","assign","length","body","unread","error","forceUpdateCounters","NotificationsHttpService","NgZone","NotificationsPaginationService","sizeProperty$","pageSubject","page$","pageFrom$","p","from","isLoadingSubject","isLoading$","totalCountSubject","totalCount$","notificationsRequest$","page","size","getNotifications","toDate","createdOn","Date","toISOString","replace","res","headers","get","data","notificationsPage$","markAllNotificationsAsRead","notifications$","allNotifications","notifications","append","concat","allAsRead","item","read","error$","loadPageData","loadPage","loadMore","markAllAsRead","NotificationsDataService","notificationsPollingService","markAllNotificationAsReadErrorSubject","markAllNotificationAsReadError","markNotificationAsRead","notificationId","putMarkAsRead","id","markAsReadPutRequestBody","markAllNotificationAsRead","putRead","deleteNotification","NotificationsRouterService","notificationsSettingsOpenedSubject","settingsOpenedNavigation$","notificationRoutingSubject","notificationRouting$","emitSettingsOpenedNavigation","emitNotificationRouting","routing","NotificationSeverity","severityLevelIconMap","Success","icon","color","Info","Alert","Warning","DEFAULT_FORMAT_FOR_DATE_IN_PAST","HumanizedDateComponent","_isWithinHour","_isToday","_isYesterday","today","yesterday","setDate","getDate","date","parseDate","_date","setDateFlags","resetStateToDefaults","dateFormatForPast","dateFormat","isWithinHour","isToday","isYesterday","minutesFromNow","_minutesFromNow","getMinutesFromNow","isSameDay","valueOf","date1","date2","toDateString","dateTime","currentDateTime","Math","floor","getTime","ɵcmp","HumanizedDateCustomizableDirective","NgIf","BbDatePipe","args","selector","templateUrl","ɵdir","NotificationsListItemComponent","idCounter","openDetails","levelMap","notification","level","openNotificationDetails","event","stopPropagation","emit","NotificationListItemCustomizableDirective","IconComponent","EllipsisComponent","NotificationsCapabilityIconComponent","AsyncPipe","ӨNotificationLocalizationPipe","ӨInterpolateLinkPipe","NotificationDetailsItemComponent","NotificationDetailsItemCustomizableDirective","NotificationDetailsComponent","navigateBack","delete","NotificationDetailsCustomizableDirective","ButtonDirective","FocusDirective","TooltipDirective","NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT","NotificationsListComponent","routerService","notificationsPaginationService","notificationService","showNotificationService","element","pubSub","navigation","componentDestroyed$","allowedRoutes$","markAllAsReadError$","firstNewNotificationId$","prevNotifications","newNotifications","firstNewNotification","notificationWasReadSubject","notificationWasRead$","newNotificationsAvailableSubject","updateCounters$","i","unreadCount$","counter","preselectedNotification","selectedNotification","ngOnInit","elemClass","nativeElement","querySelector","subscribe","elemScrollTo","_a","firstChild","focus","scrollIntoView","behavior","onLoadNewNotifications","ngOnDestroy","complete","onReadAllNotifications","onLoadMore","totalCount","$event","asyncNotifications$","lastNotification$","total","lastNotification","onNotificationsSettingsOpen","selectNotification","clickEvent","openDetailsView","preventDefault","routes","route","some","allowedRoute","publish","saveRefToNotification","showNotification","header","getErrorMessage","modifier","message","unselectNotification","restoreFocusOnNotification","trackById","_index","notificationClickEvent","lastSelectedNotificationItemButton","target","closest","setTimeout","_b","NotificationService","ElementRef","NotificationsListCustomizableDirective","AlertComponent","NgClass","NgForOf","LoadButtonComponent","EmptyStateComponent","LoadingIndicatorComponent","BADGE_FORCE_UPDATE_DEBOUNCE_TIME","NotificationsBadgeWidgetComponent","mediaQService","document","preselectedNotification$$","preselectedNotification$","notificationsSettingsOpened","notificationRouting","destroy$","listTransform$","isMediaBreakpointMatches","isMobileView","badge","width","badgeWidth","left","getBoundingClientRect","bodyWidth","popover","isOpen","open","notificationsMessageLineAmountValue","displayRelativeTimeValue","displayShowMoreButtonInBadgeValue","allowedRoutesValue","setAllowedRoutes","displaySettingsButtonValue","pageSizeValue","originsValue","setOrigins","severityLevelsValue","setSeverityLevels","unreadCountUpdateIntervalValue","setupNavigationSubscriptions","setupBadgeUpdateSubscriptions","onOpenChange","forceUpdateCounterHandler","forceUpdateCounters$","payload","origin","includes","unsubscribe","MediaQueryService","NotificationsBadgeWidgetCustomizableDirective","NgbDropdown","NgbDropdownToggle","BadgeCounterComponent","NgbDropdownMenu","providers","Document","HumanizedDateModule","ɵmod","ɵinj","imports","declarations","exports","uiModules$3","innerModules$3","components$3","NotificationsListItemModule","uiModules$2","innerModules$2","components$2","NotificationDetailsModule","uiModules$1","innerModules$1","components$1","NotificationsListModule","uiModules","innerModules","components","NotificationsBadgeWidgetModule","withConfig","classMap","ӨHumanizedDateModule","ӨNotificationDetailsModule","ӨNotificationsListItemModule","ӨNotificationsListModule"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Optional, Component, Input, Directive, EventEmitter, Output, Inject, ViewChild, NgModule } from '@angular/core';\nimport * as i14 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i1 from '@backbase/foundation-ang/core';\nimport { BbTemplate, BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport * as i8$1 from '@ng-bootstrap/ng-bootstrap';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\nimport * as i1$1 from '@backbase/data-ang/notifications';\nimport { BehaviorSubject, Subject, ReplaySubject, merge, of, asyncScheduler, combineLatest, zip, EMPTY } from 'rxjs';\nimport { map, first, switchMap, delay, observeOn, tap, filter, pairwise, catchError, finalize, share, scan, startWith, withLatestFrom, distinctUntilChanged, takeUntil, mapTo, skip, skipUntil, take, debounceTime } from 'rxjs/operators';\nimport * as i5 from '@backbase/notifications-common-ang';\nimport { BaseWidgetPropertiesService, getPropertyValue, modelItemToBoolean, shareReplayOnce, secondsToMilliseconds, leaveZone, enterZone, toISOExtendedFormat, NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, NotificationsCommonModule } from '@backbase/notifications-common-ang';\nimport { PUBSUB } from '@backbase/foundation-ang/web-sdk';\nimport * as i3$2 from '@backbase/ui-ang/media-query-lib';\nimport { MediaQueryModule } from '@backbase/ui-ang/media-query-lib';\nimport * as i2$1 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i6 from '@backbase/ui-ang/badge-counter';\nimport { BadgeCounterModule } from '@backbase/ui-ang/badge-counter';\nimport * as i5$2 from '@backbase/ui-ang/notification';\nimport * as i8 from '@backbase/ui-ang/alert';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport * as i3 from '@backbase/ui-ang/ellipsis';\nimport { EllipsisModule } from '@backbase/ui-ang/ellipsis';\nimport * as i2 from '@backbase/ui-ang/date-pipe';\nimport { BbDatePipeModule } from '@backbase/ui-ang/date-pipe';\nimport * as i10 from '@backbase/ui-ang/load-button';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport * as i3$1 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i4 from '@backbase/ui-ang/focus';\nimport { FocusModule } from '@backbase/ui-ang/focus';\nimport * as i5$1 from '@backbase/ui-ang/tooltip-directive';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport * as i12 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i13 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport { ErrorCommonStateModule } from '@backbase/ui-ang/common-error-state';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\n\nconst DefaultWidgetProperties = {\n    displayRelativeTime: false,\n    allowedRoutes: [],\n    displaySettingsButton: true,\n    notificationsMessageLineAmount: 2,\n    displayShowMoreButtonInBadge: false,\n    pageSize: 5,\n    origins: [],\n    severityLevels: [],\n    unreadCountUpdateInterval: 15,\n};\nclass WidgetPropertiesService extends BaseWidgetPropertiesService {\n    constructor(itemModel) {\n        super(itemModel);\n        this.itemModel = itemModel;\n        this.displayRelativeTime$$ = new BehaviorSubject(undefined);\n        this.displaySettingsButton$$ = new BehaviorSubject(undefined);\n        this.notificationsMessageLineAmount$$ = new BehaviorSubject(undefined);\n        this.displayShowMoreButtonInBadge$$ = new BehaviorSubject(undefined);\n        this.pageSize$$ = new BehaviorSubject(undefined);\n        this.unreadCountUpdateInterval$$ = new BehaviorSubject(undefined);\n        this.displayRelativeTime$ = getPropertyValue(this.displayRelativeTime$$, this.displayRelativeTime);\n        this.displaySettingsButton$ = getPropertyValue(this.displaySettingsButton$$, this.displaySettingsButton);\n        this.notificationsMessageLineAmount$ = getPropertyValue(this.notificationsMessageLineAmount$$, this.notificationsMessageLineAmount);\n        this.displayShowMoreButtonInBadge$ = getPropertyValue(this.displayShowMoreButtonInBadge$$, this.displayShowMoreButtonInBadge);\n        this.pageSize$ = getPropertyValue(this.pageSize$$, this.pageSize);\n        this.unreadCountUpdateInterval$ = getPropertyValue(this.unreadCountUpdateInterval$$, this.unreadCountUpdateInterval);\n    }\n    get displayRelativeTime() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.displayRelativeTime);\n        }\n        return this.itemModel\n            .property('displayRelativeTime', DefaultWidgetProperties.displayRelativeTime)\n            .pipe(map(modelItemToBoolean), first());\n    }\n    get displaySettingsButton() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.displaySettingsButton);\n        }\n        return this.itemModel\n            .property('displaySettingsButton', DefaultWidgetProperties.displaySettingsButton)\n            .pipe(map(modelItemToBoolean), first());\n    }\n    get notificationsMessageLineAmount() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.notificationsMessageLineAmount);\n        }\n        return this.itemModel\n            .property('notificationsMessageLineAmount', DefaultWidgetProperties.notificationsMessageLineAmount)\n            .pipe(map(Number), first());\n    }\n    get displayShowMoreButtonInBadge() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.displayShowMoreButtonInBadge);\n        }\n        return this.itemModel\n            .property('displayShowMoreButtonInBadge', DefaultWidgetProperties.displayShowMoreButtonInBadge)\n            .pipe(map(modelItemToBoolean), first());\n    }\n    get pageSize() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.pageSize);\n        }\n        return this.itemModel.property('pageSize', DefaultWidgetProperties.pageSize).pipe(map(Number), shareReplayOnce());\n    }\n    get unreadCountUpdateInterval() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultWidgetProperties.unreadCountUpdateInterval * 1000);\n        }\n        return this.itemModel.property('unreadCountUpdateInterval', DefaultWidgetProperties.unreadCountUpdateInterval).pipe(map(Number), map(n => n * 1000), shareReplayOnce());\n    }\n    setDisplayRelativeTime(value) {\n        this.displayRelativeTime$$.next(modelItemToBoolean(value));\n    }\n    setDisplaySettingsButton(value) {\n        this.displaySettingsButton$$.next(modelItemToBoolean(value));\n    }\n    setNotificationsMessageLineAmount(value) {\n        this.notificationsMessageLineAmount$$.next(Number(value));\n    }\n    setDisplayShowMoreButtonInBadge(value) {\n        this.displayShowMoreButtonInBadge$$.next(modelItemToBoolean(value));\n    }\n    setPageSize(value) {\n        this.pageSize$$.next(Number(value));\n    }\n    setUnreadCountUpdateInterval(value) {\n        const updateInterval = Number(value);\n        if (!isNaN(updateInterval) && updateInterval > 0) {\n            this.unreadCountUpdateInterval$$.next(secondsToMilliseconds(updateInterval));\n        }\n    }\n}\n/** @nocollapse */ WidgetPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService, deps: [{ token: i1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ WidgetPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.ItemModel, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nclass NotificationsPollingService {\n    constructor(notificationHttpService, properties, ngZone) {\n        this.notificationHttpService = notificationHttpService;\n        this.properties = properties;\n        this.ngZone = ngZone;\n        this.forceUpdateCountersSubject = new Subject();\n        this.requestsInterval$ = this.properties.unreadCountUpdateInterval$;\n        this.repeat$ = new ReplaySubject(1);\n        this.load$ = merge(of(''), this.forceUpdateCountersSubject, merge(this.forceUpdateCountersSubject, this.repeat$).pipe(switchMap(() => this.requestsInterval$), switchMap(interval => of('').pipe(delay(interval, leaveZone(this.ngZone, asyncScheduler)))), observeOn(enterZone(this.ngZone, asyncScheduler))));\n        this.updateCountersErrorSubject$$ = new BehaviorSubject(undefined);\n        /**\n         * Stream with update counters request errors\n         */\n        this.updateCountersError$ = this.updateCountersErrorSubject$$.asObservable();\n        /**\n         * Stream with unread notifications count\n         */\n        this.unreadNotificationsCount$ = this.load$.pipe(switchMap(() => this.requestCount()), tap(() => this.repeat$.next()), filter(count => typeof count !== 'undefined'), shareReplayOnce());\n        /**\n         * Stream with flag of new available notifications\n         */\n        this.newNotificationsAvailable$ = this.unreadNotificationsCount$.pipe(pairwise(), map(([prev, cur]) => {\n            if (prev === null || prev === undefined) {\n                return false;\n            }\n            if (cur === null || cur === undefined) {\n                return false;\n            }\n            return cur - prev > 0;\n        }), filter(Boolean));\n    }\n    requestCount() {\n        const origins$ = this.properties.origins$;\n        const severityLevels$ = this.properties.severityLevels$;\n        return combineLatest([origins$, severityLevels$]).pipe(first(), switchMap(([origins, levels]) => this.notificationHttpService.getUnreadCount(Object.assign(Object.assign({}, (origins.length && { origins })), (levels.length && { levels })))), map(body => {\n            this.updateCountersErrorSubject$$.next(undefined);\n            return body === null || body === void 0 ? void 0 : body.unread;\n        }), catchError((error) => {\n            this.updateCountersErrorSubject$$.next(error);\n            return of(undefined);\n        }));\n    }\n    /**\n     * Method to trigger force update on unread notifications counter\n     */\n    forceUpdateCounters() {\n        this.forceUpdateCountersSubject.next();\n    }\n}\n/** @nocollapse */ NotificationsPollingService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPollingService, deps: [{ token: i1$1.NotificationsHttpService }, { token: WidgetPropertiesService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ NotificationsPollingService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPollingService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPollingService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.NotificationsHttpService }, { type: WidgetPropertiesService }, { type: i0.NgZone }]; } });\n\nclass NotificationsPaginationService {\n    constructor(notificationHttpService, properties) {\n        this.notificationHttpService = notificationHttpService;\n        this.properties = properties;\n        /**\n         * Stream with page size\n         */\n        this.sizeProperty$ = this.properties.pageSize$;\n        this.pageSubject = new Subject();\n        this.page$ = this.pageSubject.asObservable();\n        /**\n         * Stream with current page number (work with loadPage method)\n         */\n        this.pageFrom$ = this.page$.pipe(map(p => p.from));\n        this.isLoadingSubject = new BehaviorSubject(false);\n        /**\n         * Stream with loading flag\n         */\n        this.isLoading$ = this.isLoadingSubject.asObservable();\n        // eslint-disable-next-line\n        this.totalCountSubject = new Subject();\n        /**\n         * Stream with total count of notifications\n         */\n        this.totalCount$ = this.totalCountSubject.asObservable();\n        this.origins$ = this.properties.origins$;\n        this.severityLevels$ = this.properties.severityLevels$;\n        this.notificationsRequest$ = combineLatest([\n            this.page$,\n            this.sizeProperty$,\n            this.origins$,\n            this.severityLevels$,\n        ]).pipe(switchMap(([page, size, origins, levels]) => {\n            this.isLoadingSubject.next(true);\n            return this.notificationHttpService\n                .getNotifications(Object.assign(Object.assign({ toDate: page.createdOn && new Date(toISOExtendedFormat(page.createdOn)).toISOString().replace(/\\.\\d+Z/, 'Z'), from: page.from, size }, (origins.length && { origins })), (levels.length && { levels })), 'response')\n                .pipe(tap(res => {\n                this.totalCountSubject.next(Number(res.headers.get('x-total-count') || '0'));\n            }), map(({ body, headers }) => ({ data: body || [], headers, error: undefined })), catchError(error => of({ data: [], headers: undefined, error })), finalize(() => {\n                this.isLoadingSubject.next(false);\n            }));\n        }), share());\n        this.notificationsPage$ = this.notificationsRequest$.pipe(map(({ data }) => data));\n        this.markAllNotificationsAsRead = new BehaviorSubject(false);\n        /**\n         * Stream of notifications\n         */\n        this.notifications$ = combineLatest([\n            zip(this.page$, this.notificationsPage$).pipe(\n            // reset accumulator for every first page in Append mode or for every page in regular mode\n            scan((allNotifications, [page, notifications]) => (!page.append || page.from === 0 ? [] : allNotifications).concat(notifications), [])),\n            this.markAllNotificationsAsRead.pipe(startWith(true), filter(Boolean)),\n        ]).pipe(withLatestFrom(this.markAllNotificationsAsRead), \n        // eslint-disable-next-line arrow-body-style\n        map(([[notifications], allAsRead]) => {\n            return allAsRead ? notifications.map(item => (!item.read && Object.assign(Object.assign({}, item), { read: true })) || item) : notifications;\n        }));\n        /**\n         * Stream of errors\n         */\n        this.error$ = this.notificationsRequest$.pipe(map(({ error }) => error), distinctUntilChanged());\n    }\n    loadPageData(page, append = false, createdOn) {\n        this.pageSubject.next({ from: page, append, createdOn: createdOn });\n    }\n    /**\n     * Method to load notifications of specified page\n     *\n     * @param page Page number\n     */\n    loadPage(page) {\n        this.loadPageData(page);\n    }\n    /**\n     * Method to load next page of notifications\n     *\n     * @param page Page number\n     * @param createdOn Created on notification date\n     */\n    loadMore(page, createdOn) {\n        this.loadPageData(page, true, createdOn);\n    }\n    /**\n     * Mark all notifications as read\n     *\n     * @param read Is read flag\n     */\n    markAllAsRead(read) {\n        this.markAllNotificationsAsRead.next(read);\n    }\n}\n/** @nocollapse */ NotificationsPaginationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPaginationService, deps: [{ token: i1$1.NotificationsHttpService }, { token: WidgetPropertiesService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ NotificationsPaginationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPaginationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsPaginationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.NotificationsHttpService }, { type: WidgetPropertiesService }]; } });\n\nclass NotificationsDataService {\n    constructor(notificationHttpService, notificationsPollingService) {\n        this.notificationHttpService = notificationHttpService;\n        this.notificationsPollingService = notificationsPollingService;\n        this.markAllNotificationAsReadErrorSubject = new BehaviorSubject(false);\n        /**\n         * Mark all notification as read error subject\n         */\n        this.markAllNotificationAsReadError = this.markAllNotificationAsReadErrorSubject\n            .asObservable()\n            .pipe(finalize(() => this.markAllNotificationAsReadErrorSubject.next(false)));\n    }\n    /**\n     *\n     * Method to mark a notification as read by its id\n     *\n     * @param notificationId Notification\n     * @returns  Mark as read stream\n     */\n    markNotificationAsRead(notificationId) {\n        return this.notificationHttpService\n            .putMarkAsRead({ id: notificationId, markAsReadPutRequestBody: { read: true } })\n            .pipe(tap(() => {\n            this.notificationsPollingService.forceUpdateCounters();\n        }));\n    }\n    /**\n     * Mark all notifications as read\n     *\n     * @returns Mark all notifications as read stream\n     */\n    markAllNotificationAsRead() {\n        return this.notificationHttpService.putRead(undefined).pipe(catchError(() => {\n            this.markAllNotificationAsReadErrorSubject.next(true);\n            return EMPTY;\n        }), tap(() => {\n            this.markAllNotificationAsReadErrorSubject.next(false);\n            this.notificationsPollingService.forceUpdateCounters();\n        }));\n    }\n    /**\n     * @param id Delete notification by id\n     * @returns Notification delete stream\n     */\n    deleteNotification(id) {\n        return this.notificationHttpService.deleteNotification({ id });\n    }\n}\n/** @nocollapse */ NotificationsDataService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsDataService, deps: [{ token: i1$1.NotificationsHttpService }, { token: NotificationsPollingService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ NotificationsDataService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsDataService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsDataService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.NotificationsHttpService }, { type: NotificationsPollingService }]; } });\n\nclass NotificationsRouterService {\n    constructor() {\n        this.notificationsSettingsOpenedSubject = new Subject();\n        /**\n         * Settings opened navigation subject\n         */\n        this.settingsOpenedNavigation$ = this.notificationsSettingsOpenedSubject.asObservable();\n        this.notificationRoutingSubject = new Subject();\n        /**\n         * Notification routing subject\n         */\n        this.notificationRouting$ = this.notificationRoutingSubject.asObservable();\n    }\n    /**\n     * Emit notification settings navigation\n     */\n    emitSettingsOpenedNavigation() {\n        this.notificationsSettingsOpenedSubject.next();\n    }\n    /**\n     * Emit notification routing\n     *\n     * @param routing Routing subject\n     */\n    emitNotificationRouting(routing) {\n        this.notificationRoutingSubject.next(routing);\n    }\n}\n/** @nocollapse */ NotificationsRouterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsRouterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ NotificationsRouterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsRouterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsRouterService, decorators: [{\n            type: Injectable\n        }] });\n\nvar NotificationSeverity;\n(function (NotificationSeverity) {\n    NotificationSeverity[\"Alert\"] = \"ALERT\";\n    NotificationSeverity[\"Warning\"] = \"WARNING\";\n    NotificationSeverity[\"Info\"] = \"INFO\";\n    NotificationSeverity[\"Success\"] = \"SUCCESS\";\n})(NotificationSeverity || (NotificationSeverity = {}));\n\nconst severityLevelIconMap = {\n    [NotificationSeverity.Success]: {\n        icon: 'success',\n        color: 'success',\n    },\n    [NotificationSeverity.Info]: {\n        icon: 'info',\n        color: 'primary',\n    },\n    [NotificationSeverity.Alert]: {\n        icon: 'info',\n        color: 'danger',\n    },\n    [NotificationSeverity.Warning]: {\n        icon: 'warning',\n        color: 'warning',\n    },\n};\n\nconst DEFAULT_FORMAT_FOR_DATE_IN_PAST = 'MM/dd/yy';\nclass HumanizedDateComponent {\n    constructor() {\n        this._isWithinHour = false;\n        this._isToday = false;\n        this._isYesterday = false;\n        /**\n         * Flag that defines if we should display relative time for today.\n         */\n        this.displayRelativeTime = false;\n        this.today = new Date();\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        this.yesterday = yesterday;\n    }\n    /**\n     * Notification date.\n     */\n    set date(value) {\n        const date = this.parseDate(value);\n        if (date) {\n            this._date = date;\n            this.setDateFlags();\n        }\n        else {\n            this.resetStateToDefaults();\n        }\n    }\n    get dateFormatForPast() {\n        return this.dateFormat || DEFAULT_FORMAT_FOR_DATE_IN_PAST;\n    }\n    /**\n     * Date getter.\n     */\n    // eslint-disable-next-line @typescript-eslint/adjacent-overload-signatures\n    get date() {\n        return this._date;\n    }\n    /**\n     *\n     * Is date within an hour from now flag getter.\n     */\n    get isWithinHour() {\n        return this._isWithinHour;\n    }\n    /**\n     * Is date within the current day flag getter.\n     */\n    get isToday() {\n        return this._isToday;\n    }\n    /**\n     * Is date within the yesterday date flag getter.\n     */\n    get isYesterday() {\n        return this._isYesterday;\n    }\n    /**\n     * How many minutes from now is the date getter.\n     */\n    get minutesFromNow() {\n        return this._minutesFromNow;\n    }\n    setDateFlags() {\n        this._minutesFromNow = this.getMinutesFromNow(this._date, this.today);\n        this._isToday = this.isSameDay(this._date, this.today);\n        this._isYesterday = this.isSameDay(this._date, this.yesterday);\n        this._isWithinHour = Number(this.minutesFromNow) < 60;\n    }\n    resetStateToDefaults() {\n        this._date = undefined;\n        this._minutesFromNow = undefined;\n        this._isWithinHour = false;\n        this._isToday = false;\n        this._isYesterday = false;\n    }\n    parseDate(value) {\n        if (typeof value === 'undefined' || value instanceof Date)\n            return value;\n        return new Date(toISOExtendedFormat(value)).valueOf() ? new Date(toISOExtendedFormat(value)) : undefined;\n    }\n    isSameDay(date1, date2) {\n        if (!date1 || !date2) {\n            return false;\n        }\n        return date1.toDateString() === date2.toDateString();\n    }\n    getMinutesFromNow(dateTime, currentDateTime) {\n        const minutesFromNow = Math.floor((currentDateTime.getTime() - dateTime.getTime()) / 60000);\n        return minutesFromNow > 0 ? minutesFromNow : 0;\n    }\n}\n/** @nocollapse */ HumanizedDateComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ HumanizedDateComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: HumanizedDateComponent, selector: \"bb-humanized-date\", inputs: { dateFormat: \"dateFormat\", displayRelativeTime: \"displayRelativeTime\", date: \"date\" }, ngImport: i0, template: \"<ng-container bbHumanizedDateCustomizable [bbHostRef]=\\\"this\\\"></ng-container>\\n\\n<ng-template bbHumanizedDateCustomizable let-hostRef>\\n  <div class=\\\"sr-only\\\" i18n=\\\"Humanized date title@@humanized.date.title\\\">,Date:</div>\\n  <ng-container *ngIf=\\\"hostRef.date as date\\\">\\n    <time *ngIf=\\\"hostRef.isToday\\\" class=\\\"bb-subheader bb-subheader--regular bb-text-nowrap\\\">\\n      <ng-container *ngIf=\\\"hostRef.displayRelativeTime; else today\\\">\\n        <ng-container\\n          *ngIf=\\\"hostRef.isWithinHour; else moreThanHourAgo\\\"\\n          i18n=\\\"Notifications time less than an hour ago date@@notifications.humanized-date.less-than-an-hour-ago\\\"\\n        >\\n          { hostRef.minutesFromNow, plural, =0 {now} other {{{hostRef.minutesFromNow}} min ago} }\\n        </ng-container>\\n\\n        <ng-template #moreThanHourAgo>\\n          {{ date | bbDate: 'shortTime' }}\\n        </ng-template>\\n      </ng-container>\\n\\n      <ng-template #today i18n=\\\"Notifications today date@@notifications.humanized-date.today\\\"> today </ng-template>\\n    </time>\\n\\n    <time\\n      *ngIf=\\\"hostRef.isYesterday\\\"\\n      class=\\\"bb-subheader bb-subheader--regular\\\"\\n      i18n=\\\"Notifications yesterday date@@notifications.humanized-date.yesterday\\\"\\n    >\\n      yesterday\\n    </time>\\n    <time\\n      *ngIf=\\\"!hostRef.isToday && !hostRef.isYesterday\\\"\\n      class=\\\"bb-subheader bb-subheader--regular\\\"\\n      [attr.aria-label]=\\\"date | bbDate: 'mediumDate'\\\"\\n    >\\n      {{ date | bbDate: dateFormatForPast }}\\n    </time>\\n  </ng-container>\\n</ng-template>\\n\", directives: [{ type: i0.forwardRef(function () { return HumanizedDateCustomizableDirective; }), selector: \"[bbHumanizedDateCustomizable]\" }, { type: i0.forwardRef(function () { return i14.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"bbDate\": i0.forwardRef(function () { return i2.BbDatePipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-humanized-date',\n                    templateUrl: './humanized-date.component.html',\n                }]\n        }], ctorParameters: function () { return []; }, propDecorators: { dateFormat: [{\n                type: Input\n            }], displayRelativeTime: [{\n                type: Input\n            }], date: [{\n                type: Input\n            }] } });\nclass HumanizedDateCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ HumanizedDateCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ HumanizedDateCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: HumanizedDateCustomizableDirective, selector: \"[bbHumanizedDateCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbHumanizedDateCustomizable]',\n                }]\n        }] });\n\nclass NotificationsListItemComponent {\n    constructor(properties) {\n        this.properties = properties;\n        /**\n         * The unique ID HTML property for each component instance.\n         */\n        this.id = `bb-notifications-badge-list-item-${NotificationsListItemComponent.idCounter++}`;\n        /**\n         * Event to open notification details.\n         */\n        this.openDetails = new EventEmitter();\n        /**\n         * Stream of widget property with the number of lines to show as a notification message.\n         */\n        this.notificationsMessageLineAmount$ = this.properties.notificationsMessageLineAmount$;\n        /**\n         * Stream of widget property with a flag that defines if we should display relative time for today.\n         */\n        this.displayRelativeTime$ = this.properties.displayRelativeTime$;\n        /*\n         * Stream of widget property with a flag that defines if we should display relative time for today.\n         */\n        this.displayShowMoreButtonInBadge$ = this.properties.displayShowMoreButtonInBadge$;\n        /**\n         * Notifications severity map\n         */\n        this.levelMap = severityLevelIconMap;\n    }\n    /**\n     * Getter for icon name from severity level icon map due to level of notification.\n     */\n    get icon() {\n        return this.levelMap[this.notification.level].icon;\n    }\n    /**\n     * Getter for icon color from severity level icon map due to level of notification.\n     */\n    get color() {\n        return this.levelMap[this.notification.level].color;\n    }\n    /**\n     * Method to open notification details from the parent component.\n     *\n     * @param event Click event\n     */\n    openNotificationDetails(event) {\n        event.stopPropagation();\n        this.openDetails.emit(event);\n    }\n}\nNotificationsListItemComponent.idCounter = 0;\n/** @nocollapse */ NotificationsListItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemComponent, deps: [{ token: WidgetPropertiesService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationsListItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsListItemComponent, selector: \"bb-notifications-list-item\", inputs: { notification: \"notification\", dateFormat: \"dateFormat\" }, outputs: { openDetails: \"openDetails\" }, ngImport: i0, template: \"<ng-container\\n  bbNotificationsListItemCustomizable\\n  [bbHostRef]=\\\"this\\\"\\n  [bbTemplateContext]=\\\"{\\n    notificationsMessageLineAmount: notificationsMessageLineAmount$ | async\\n  }\\\"\\n></ng-container>\\n\\n<ng-template\\n  bbNotificationsListItemCustomizable\\n  let-hostRef\\n  let-notificationsMessageLineAmount=\\\"context.notificationsMessageLineAmount\\\"\\n>\\n  <div\\n    tabindex=\\\"0\\\"\\n    class=\\\"bb-notifications-badge-list-item bb-notification bb-notification--flush\\\"\\n    data-role=\\\"notifications-list-item\\\"\\n    [class.bb-notifications-badge-list-item--unread]=\\\"!hostRef.notification.read\\\"\\n  >\\n    <span\\n      class=\\\"sr-only\\\"\\n      i18n=\\\"Notification item read/unread status@@notifications.list.notification-details.read-unread-status\\\"\\n    >\\n      { hostRef.notification.read, select, true { viewed } false { new } } notification,\\n    </span>\\n    <span\\n      class=\\\"sr-only\\\"\\n      i18n=\\\"Notification item severity level@@notifications.list.notification-details.read-unread-status\\\"\\n    >\\n      { hostRef.notification.level, select, ALERT { Alert } INFO { Info } SUCCESS { Success } WARNING { Warning } },\\n    </span>\\n    <bb-icon-ui\\n      [name]=\\\"hostRef.icon\\\"\\n      [color]=\\\"hostRef.color\\\"\\n      class=\\\"bb-notification__icon\\\"\\n      data-role=\\\"notifications-list-item-severity-level-icon\\\"\\n    ></bb-icon-ui>\\n    <div class=\\\"bb-notifications-badge-list-item__body bb-notification__body\\\">\\n      <div\\n        class=\\\"bb-notifications-badge-list-item__header bb-notification__title bb-stack\\\"\\n        data-role=\\\"notification-heading\\\"\\n      >\\n        <bb-ellipsis-ui\\n          class=\\\"bb-notifications-badge-list-item__title bb-stack__item bb-text-align-left\\\"\\n          data-role=\\\"notifications-list-item-title\\\"\\n        >\\n          <span [innerHTML]=\\\"hostRef.notification | notificationLocalization: 'title'\\\"></span>\\n        </bb-ellipsis-ui>\\n        <bb-humanized-date\\n          class=\\\"bb-stack__item bb-stack__item--push-right\\\"\\n          [date]=\\\"hostRef.notification.createdOn\\\"\\n          [displayRelativeTime]=\\\"hostRef.displayRelativeTime$ | async\\\"\\n          data-role=\\\"notification-list-item-creation-date\\\"\\n          [dateFormat]=\\\"dateFormat\\\"\\n        ></bb-humanized-date>\\n      </div>\\n      <bb-ellipsis-ui\\n        data-role=\\\"notifications-list-item-content\\\"\\n        aria-hidden=\\\"true\\\"\\n        class=\\\"bb-notifications-badge-list-item__content bb-text-align-left bb-stack bb-block bb-block--sm\\\"\\n        [tooltipTriggers]=\\\"''\\\"\\n        [lineClamp]=\\\"notificationsMessageLineAmount\\\"\\n      >\\n        <div\\n          #notificationMessage\\n          [innerHTML]=\\\"\\n            hostRef.notification | notificationLocalization: 'message' | interpolateLink: hostRef.notification:false\\n          \\\"\\n        ></div>\\n      </bb-ellipsis-ui>\\n      <button\\n        type=\\\"button\\\"\\n        data-role=\\\"notifications-list-item-show-more-button\\\"\\n        *ngIf=\\\"hostRef.displayShowMoreButtonInBadge$ | async\\\"\\n        class=\\\"btn-link-text bb-text-bold bb-block bb-block--sm\\\"\\n        (click)=\\\"hostRef.openNotificationDetails($event)\\\"\\n        aria-label=\\\"See more notification details\\\"\\n        i18n=\\\"Notification badge See more button@@notifications.list.see-more.button\\\"\\n        i18n-aria-label=\\\"Aria-label for See more button@@notifications.list.see-more.button.aria-label\\\"\\n      >\\n        <span>See more</span>\\n      </button>\\n      <bb-notifications-capability-icon\\n        aria-hidden=\\\"true\\\"\\n        [origin]=\\\"hostRef.notification?.origin\\\"\\n      ></bb-notifications-capability-icon>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i2$1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return i3.EllipsisComponent; }), selector: \"bb-ellipsis-ui\", inputs: [\"text\", \"tooltipTriggers\", \"lineClamp\"] }, { type: i0.forwardRef(function () { return HumanizedDateComponent; }), selector: \"bb-humanized-date\", inputs: [\"dateFormat\", \"displayRelativeTime\", \"date\"] }, { type: i0.forwardRef(function () { return i5.NotificationsCapabilityIconComponent; }), selector: \"bb-notifications-capability-icon\", inputs: [\"origin\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationListItemCustomizableDirective; }), selector: \"[bbNotificationsListItemCustomizable]\" }, { type: i0.forwardRef(function () { return i14.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i0.forwardRef(function () { return i14.AsyncPipe; }), \"notificationLocalization\": i0.forwardRef(function () { return i5.ӨNotificationLocalizationPipe; }), \"interpolateLink\": i0.forwardRef(function () { return i5.ӨInterpolateLinkPipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notifications-list-item',\n                    templateUrl: './notifications-list-item.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: WidgetPropertiesService }]; }, propDecorators: { notification: [{\n                type: Input\n            }], dateFormat: [{\n                type: Input\n            }], openDetails: [{\n                type: Output\n            }] } });\nclass NotificationListItemCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationListItemCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationListItemCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationListItemCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationListItemCustomizableDirective, selector: \"[bbNotificationsListItemCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationListItemCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationsListItemCustomizable]',\n                }]\n        }] });\n\nclass NotificationDetailsItemComponent {\n    constructor(properties) {\n        this.properties = properties;\n        /**\n         * Notifications severity map\n         */\n        this.levelMap = severityLevelIconMap;\n        /**\n         * Stream of a flag that defines if we should display relative time for today.\n         */\n        this.displayRelativeTime$ = this.properties.displayRelativeTime$;\n    }\n    /**\n     * Getter for icon name from severity level icon map due to level of notification.\n     */\n    get icon() {\n        return this.levelMap[this.notification.level].icon;\n    }\n    /**\n     * Getter for icon color from severity level icon map due to level of notification.\n     */\n    get color() {\n        return this.levelMap[this.notification.level].color;\n    }\n}\n/** @nocollapse */ NotificationDetailsItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsItemComponent, deps: [{ token: WidgetPropertiesService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationDetailsItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationDetailsItemComponent, selector: \"bb-notification-details-item\", inputs: { notification: \"notification\", dateFormat: \"dateFormat\" }, ngImport: i0, template: \"<ng-container bbNotificationDetailsItemCustomizable [bbHostRef]=\\\"this\\\"></ng-container>\\n\\n<ng-template bbNotificationDetailsItemCustomizable let-hostRef>\\n  <div class=\\\"bb-notification bb-notification--flush\\\">\\n    <bb-icon-ui\\n      class=\\\"bb-notification__icon\\\"\\n      [name]=\\\"hostRef.icon\\\"\\n      [color]=\\\"hostRef.color\\\"\\n      data-role=\\\"notification-details-icon\\\"\\n    ></bb-icon-ui>\\n    <div class=\\\"bb-notification__body\\\">\\n      <div class=\\\"bb-notification__title bb-stack\\\">\\n        <span\\n          class=\\\"bb-stack__item break-word bb-text-default\\\"\\n          data-role=\\\"notification-details-title\\\"\\n          [innerHTML]=\\\"hostRef.notification | notificationLocalization: 'title'\\\"\\n        ></span>\\n        <bb-humanized-date\\n          class=\\\"bb-stack__item bb-stack__item--push-right\\\"\\n          [date]=\\\"hostRef.notification.createdOn\\\"\\n          [displayRelativeTime]=\\\"hostRef.displayRelativeTime$ | async\\\"\\n          [dateFormat]=\\\"dateFormat\\\"\\n          data-role=\\\"notification-details-message\\\"\\n        ></bb-humanized-date>\\n      </div>\\n      <div class=\\\"bb-stack bb-block bb-block--sm\\\">\\n        <div\\n          data-role=\\\"notification-details-message-text\\\"\\n          class=\\\"break-word bb-text-align-left\\\"\\n          [innerHTML]=\\\"\\n            hostRef.notification | notificationLocalization: 'message' | interpolateLink: hostRef.notification\\n          \\\"\\n        ></div>\\n      </div>\\n      <bb-notifications-capability-icon [origin]=\\\"hostRef.notification?.origin\\\"></bb-notifications-capability-icon>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i2$1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return HumanizedDateComponent; }), selector: \"bb-humanized-date\", inputs: [\"dateFormat\", \"displayRelativeTime\", \"date\"] }, { type: i0.forwardRef(function () { return i5.NotificationsCapabilityIconComponent; }), selector: \"bb-notifications-capability-icon\", inputs: [\"origin\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationDetailsItemCustomizableDirective; }), selector: \"[bbNotificationDetailsItemCustomizable]\" }], pipes: { \"notificationLocalization\": i0.forwardRef(function () { return i5.ӨNotificationLocalizationPipe; }), \"async\": i0.forwardRef(function () { return i14.AsyncPipe; }), \"interpolateLink\": i0.forwardRef(function () { return i5.ӨInterpolateLinkPipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notification-details-item',\n                    templateUrl: './notification-details-item.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: WidgetPropertiesService }]; }, propDecorators: { notification: [{\n                type: Input\n            }], dateFormat: [{\n                type: Input\n            }] } });\nclass NotificationDetailsItemCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationDetailsItemCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsItemCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationDetailsItemCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationDetailsItemCustomizableDirective, selector: \"[bbNotificationDetailsItemCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsItemCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationDetailsItemCustomizable]',\n                }]\n        }] });\n\nclass NotificationDetailsComponent {\n    constructor() {\n        /**\n         * Event to navigate back to notifications list.\n         */\n        this.navigateBack = new EventEmitter();\n        /**\n         * Event to delete notification.\n         */\n        this.delete = new EventEmitter();\n    }\n    /**\n     * Method to emit delete notification event.\n     */\n    deleteNotification() {\n        this.delete.emit();\n    }\n}\n/** @nocollapse */ NotificationDetailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationDetailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationDetailsComponent, selector: \"bb-notification-details\", inputs: { notification: \"notification\", dateFormat: \"dateFormat\" }, outputs: { navigateBack: \"navigateBack\", delete: \"delete\" }, ngImport: i0, template: \"<ng-container bbNotificationDetailsCustomizable [bbHostRef]=\\\"this\\\"> </ng-container>\\n\\n<ng-template bbNotificationDetailsCustomizable let-hostRef>\\n  <div role=\\\"dialog\\\" aria-modal=\\\"false\\\">\\n    <div class=\\\"bb-card__header\\\">\\n      <div class=\\\"bb-notifications-badge-widget__back-button bb-stack\\\">\\n        <button\\n          bbFocus\\n          bbButton\\n          color=\\\"link-text\\\"\\n          class=\\\"bb-stack__item--push-left\\\"\\n          data-role=\\\"notification-details-go-back-btn\\\"\\n          (click)=\\\"hostRef.navigateBack.emit()\\\"\\n        >\\n          <bb-icon-ui name=\\\"arrow-back\\\" color=\\\"info\\\"></bb-icon-ui>\\n          <span i18n=\\\"Notifications details Go back button@@notifications.details.go-back-button\\\">\\n            Back to notifications\\n          </span>\\n        </button>\\n        <button\\n          bbButton\\n          class=\\\"bb-stack__item--push-right\\\"\\n          color=\\\"link\\\"\\n          circle=\\\"true\\\"\\n          aria-label=\\\"delete\\\"\\n          i18n-aria-label=\\\"delete aria-label@@notifications.details.delete-button-aria-label\\\"\\n          bbTooltip=\\\"Delete\\\"\\n          container=\\\"body\\\"\\n          i18n-bbTooltip=\\\"Delete|Button text to delete notification@@notifications.details.delete-button\\\"\\n          triggers=\\\"hover\\\"\\n          placement=\\\"top\\\"\\n          data-role=\\\"notification-details-delete-btn\\\"\\n          (click)=\\\"hostRef.deleteNotification()\\\"\\n        >\\n          <bb-icon-ui name=\\\"delete\\\" class=\\\"bb-text-support\\\"></bb-icon-ui>\\n        </button>\\n      </div>\\n    </div>\\n    <div class=\\\"bb-block bb-block--lg\\\">\\n      <bb-notification-details-item\\n        [notification]=\\\"hostRef.notification\\\"\\n        [dateFormat]=\\\"dateFormat\\\"\\n      ></bb-notification-details-item>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i2$1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return NotificationDetailsItemComponent; }), selector: \"bb-notification-details-item\", inputs: [\"notification\", \"dateFormat\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationDetailsCustomizableDirective; }), selector: \"[bbNotificationDetailsCustomizable]\" }, { type: i0.forwardRef(function () { return i3$1.ButtonDirective; }), selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }, { type: i0.forwardRef(function () { return i4.FocusDirective; }), selector: \"[bbFocus]\", inputs: [\"bbFocus\"], exportAs: [\"bbFocus\"] }, { type: i0.forwardRef(function () { return i5$1.TooltipDirective; }), selector: \"[bbTooltip]\", inputs: [\"bbTooltip\", \"triggers\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notification-details',\n                    templateUrl: './notification-details.component.html',\n                }]\n        }], propDecorators: { notification: [{\n                type: Input\n            }], dateFormat: [{\n                type: Input\n            }], navigateBack: [{\n                type: Output\n            }], delete: [{\n                type: Output\n            }] } });\nclass NotificationDetailsCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationDetailsCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationDetailsCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationDetailsCustomizableDirective, selector: \"[bbNotificationDetailsCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationDetailsCustomizable]',\n                }]\n        }] });\n\nconst NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT = 'bb.event.notifications-badge.reload-on-navigate';\nclass NotificationsListComponent {\n    constructor(routerService, notificationsPaginationService, notificationsPollingService, notificationService, showNotificationService, element, properties, pubSub) {\n        this.routerService = routerService;\n        this.notificationsPaginationService = notificationsPaginationService;\n        this.notificationsPollingService = notificationsPollingService;\n        this.notificationService = notificationService;\n        this.showNotificationService = showNotificationService;\n        this.element = element;\n        this.properties = properties;\n        this.pubSub = pubSub;\n        /**\n         * Navigation event.\n         */\n        this.navigation = new EventEmitter();\n        this.componentDestroyed$ = new Subject();\n        /**\n         * Stream of routes available for navigation.\n         */\n        this.allowedRoutes$ = this.properties.allowedRoutes$;\n        /**\n         * Stream of a flag that defines if we should display settings button.\n         */\n        this.displaySettingsButton$ = this.properties.displaySettingsButton$;\n        /**\n         * Stream with notifications items.\n         */\n        this.notifications$ = this.notificationsPaginationService.notifications$.pipe(takeUntil(this.componentDestroyed$), shareReplayOnce());\n        /**\n         * Stream with error while loading of notifications.\n         */\n        this.error$ = this.notificationsPaginationService.error$;\n        /**\n         * Stream with error while loading of notifications.\n         */\n        this.updateCountersError$ = this.notificationsPollingService.updateCountersError$;\n        /**\n         * Mark as read request error stream which shows if request has failed.\n         */\n        this.markAllAsReadError$ = this.notificationService.markAllNotificationAsReadError;\n        /**\n         * Stream with flag if notifications is loading now or no.\n         */\n        this.isLoading$ = this.notificationsPaginationService.isLoading$;\n        this.firstNewNotificationId$ = this.notifications$.pipe(pairwise(), map(([prevNotifications, newNotifications]) => {\n            let firstNewNotification = newNotifications[prevNotifications.length];\n            // reset notification to the first page scenario\n            if (prevNotifications.length >= newNotifications.length) {\n                firstNewNotification = newNotifications[0];\n            }\n            return firstNewNotification && firstNewNotification.id;\n        }));\n        this.notificationWasReadSubject = new Subject();\n        this.notificationWasRead$ = this.notificationWasReadSubject.asObservable();\n        this.newNotificationsAvailableSubject = new BehaviorSubject(false);\n        this.updateCounters$ = this.newNotificationsAvailableSubject.pipe(startWith(false), filter(i => !i), mapTo(true), shareReplayOnce());\n        /**\n         * Stream with total count of notifications.\n         */\n        this.totalCount$ = this.updateCounters$.pipe(switchMap(() => this.notificationsPaginationService.totalCount$));\n        /**\n         * Stream with notifications about new notification available\n         */\n        this.newNotificationsAvailable$ = this.newNotificationsAvailableSubject.asObservable();\n        /**\n         * Stream with page size.\n         */\n        this.pageSize$ = this.notificationsPaginationService.sizeProperty$;\n        /**\n         * Stream with unread notifications count\n         */\n        this.unreadCount$ = this.updateCounters$.pipe(switchMap(() => this.notificationsPollingService.unreadNotificationsCount$.pipe(switchMap(counter => this.notificationWasRead$.pipe(startWith(false), map(read => {\n            if (!read || !counter) {\n                return counter;\n            }\n            return --counter;\n        }))))));\n        /**\n         * Steam with the starting page number.\n         */\n        this.pageFrom$ = this.notificationsPaginationService.pageFrom$;\n    }\n    /**\n     * Preselected notification\n     */\n    set preselectedNotification(notification) {\n        this.selectedNotification = notification;\n    }\n    ngOnInit() {\n        this.firstNewNotificationId$\n            .pipe(filter(Boolean), map(id => `.bb-nt-${id}`), observeOn(asyncScheduler), map(elemClass => this.element.nativeElement.querySelector(elemClass)), filter(Boolean), takeUntil(this.componentDestroyed$))\n            .subscribe((elemScrollTo) => {\n            var _a;\n            (_a = elemScrollTo.firstChild) === null || _a === void 0 ? void 0 : _a.focus();\n            elemScrollTo.scrollIntoView({ behavior: 'smooth' });\n        });\n        this.notificationsPollingService.newNotificationsAvailable$\n            .pipe(takeUntil(this.componentDestroyed$))\n            .subscribe(value => {\n            this.newNotificationsAvailableSubject.next(value);\n        });\n        this.onLoadNewNotifications();\n    }\n    ngOnDestroy() {\n        this.componentDestroyed$.next();\n        this.componentDestroyed$.complete();\n    }\n    /**\n     * Method to mark all notifications as read.\n     */\n    onReadAllNotifications() {\n        this.notificationService.markAllNotificationAsRead().subscribe(() => {\n            this.notificationsPaginationService.markAllAsRead(true);\n        });\n    }\n    /**\n     * Method to load new notifications by reloading of the first page.\n     */\n    onLoadNewNotifications() {\n        this.notificationsPollingService.unreadNotificationsCount$\n            .pipe(skip(1), // skip stored value to wait for unread notifications count load occurred\n        first())\n            .subscribe(() => {\n            this.newNotificationsAvailableSubject.next(false);\n            this.notificationsPaginationService.markAllAsRead(false);\n            this.notificationsPaginationService.loadPage(0);\n        });\n        this.notificationsPollingService.forceUpdateCounters();\n    }\n    /**\n     * Method to load next notifications page.\n     */\n    onLoadMore(totalCount, $event) {\n        const asyncNotifications$ = this.notifications$.pipe(skipUntil(of(undefined).pipe(observeOn(asyncScheduler))));\n        const lastNotification$ = this.notifications$.pipe(first(), map(notifications => notifications[notifications.length - 1]), map(({ id }) => `.bb-nt-${id} [data-role=\"notifications-list-item\"]`), observeOn(asyncScheduler), map(selector => this.element.nativeElement.querySelector(selector)));\n        this.notifications$.pipe(first()).subscribe(data => {\n            const createdOn = data[0].createdOn;\n            this.notificationsPaginationService.loadMore($event.from, createdOn);\n        });\n        combineLatest([asyncNotifications$, of(totalCount)])\n            .pipe(take(1), filter(([notifications, total]) => notifications.length >= total), switchMap(() => lastNotification$))\n            .subscribe(lastNotification => lastNotification.focus());\n    }\n    /**\n     * Method to open notification settings.\n     */\n    onNotificationsSettingsOpen() {\n        this.routerService.emitSettingsOpenedNavigation();\n        this.navigation.emit();\n    }\n    /**\n     * Method to show notification details view or to navigate to the notification routing URL if routing is enabled.\n     */\n    selectNotification(clickEvent, notification, openDetailsView) {\n        clickEvent.preventDefault();\n        this.allowedRoutes$.subscribe(routes => {\n            const route = notification.routing && notification.routing['where-to'];\n            if (!openDetailsView && notification.routing && routes.some(allowedRoute => route === allowedRoute)) {\n                this.pubSub.publish(NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT, undefined);\n                this.routerService.emitNotificationRouting(notification.routing);\n                this.navigation.emit();\n            }\n            else {\n                this.selectedNotification = notification;\n                this.saveRefToNotification(clickEvent);\n            }\n        });\n        if (!notification.read) {\n            this.notificationService.markNotificationAsRead(notification.id).subscribe(() => {\n                notification.read = true;\n                this.notificationWasReadSubject.next(true);\n            });\n        }\n    }\n    /**\n     * Method to delete notification.\n     */\n    deleteNotification() {\n        if (this.selectedNotification) {\n            this.notificationService\n                .deleteNotification(this.selectedNotification.id)\n                .pipe(take(1), tap(() => this.notificationsPaginationService.loadPage(0)))\n                .subscribe(() => {\n                this.selectedNotification = undefined;\n            }, error => {\n                this.showNotificationService.showNotification({\n                    header: this.getErrorMessage(error),\n                    modifier: 'error',\n                    message: '',\n                });\n            });\n        }\n    }\n    /**\n     * Method to unselect notification and return back focus position.\n     */\n    unselectNotification() {\n        this.selectedNotification = undefined;\n        this.restoreFocusOnNotification();\n    }\n    /**\n     * Method to differentiate notifications by IDs.\n     *\n     * @param _index List item index\n     * @param notification Notification list item\n     * @returns Notification id\n     */\n    trackById(_index, notification) {\n        return notification.id;\n    }\n    saveRefToNotification(notificationClickEvent) {\n        this.lastSelectedNotificationItemButton = notificationClickEvent.target.closest('[data-role=\"notifications-list-item\"]');\n    }\n    restoreFocusOnNotification() {\n        setTimeout(() => {\n            if (!this.lastSelectedNotificationItemButton) {\n                return;\n            }\n            this.lastSelectedNotificationItemButton.focus();\n        }, 0);\n    }\n    getErrorMessage(error) {\n        var _a, _b;\n        return typeof error !== 'string'\n            ? ((_b = (_a = error) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.message) || error.message || 'Unknown Error'\n            : error;\n    }\n}\n/** @nocollapse */ NotificationsListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListComponent, deps: [{ token: NotificationsRouterService }, { token: NotificationsPaginationService }, { token: NotificationsPollingService }, { token: NotificationsDataService }, { token: i5$2.NotificationService }, { token: i0.ElementRef }, { token: WidgetPropertiesService }, { token: PUBSUB }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationsListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsListComponent, selector: \"bb-notifications-list\", inputs: { preselectedNotification: \"preselectedNotification\", dateFormat: \"dateFormat\" }, outputs: { navigation: \"navigation\" }, ngImport: i0, template: \"<ng-container\\n  bbNotificationsListCustomizable\\n  [bbHostRef]=\\\"this\\\"\\n  [bbTemplateContext]=\\\"{\\n    notifications: notifications$ | async,\\n    error: error$ | async,\\n    updateCountersError: updateCountersError$ | async,\\n    isLoading: isLoading$ | async,\\n    totalCount: totalCount$ | async,\\n    pageSize: pageSize$ | async,\\n    newNotificationsAvailable: newNotificationsAvailable$ | async,\\n    unreadCount: unreadCount$ | async,\\n    markAllAsReadError: markAllAsReadError$ | async,\\n    pageFrom: pageFrom$ | async\\n  }\\\"\\n>\\n</ng-container>\\n\\n<ng-template\\n  bbNotificationsListCustomizable\\n  let-hostRef\\n  let-notifications=\\\"context.notifications\\\"\\n  let-error=\\\"context.error\\\"\\n  let-updateCountersError=\\\"context.updateCountersError\\\"\\n  let-isLoading=\\\"context.isLoading\\\"\\n  let-totalCount=\\\"context.totalCount\\\"\\n  let-pageSize=\\\"context.pageSize\\\"\\n  let-newNotificationsAvailable=\\\"context.newNotificationsAvailable\\\"\\n  let-unreadCount=\\\"context.unreadCount\\\"\\n  let-markAllAsReadError=\\\"context.markAllAsReadError\\\"\\n  let-pageFrom=\\\"context.pageFrom\\\"\\n>\\n  <ng-container *ngIf=\\\"!hostRef.selectedNotification\\\">\\n    <header data-role=\\\"notifications-list-header\\\" class=\\\"bb-card__header bb-stack\\\">\\n      <span class=\\\"bb-stack__item\\\">\\n        <span class=\\\"bb-heading-3\\\" i18n=\\\"Notifications modal label@@notifications.modalLabel\\\">Notifications</span>\\n      </span>\\n      <button\\n        bbButton\\n        *ngIf=\\\"hostRef.displaySettingsButton$ | async\\\"\\n        class=\\\"bb-stack__item bb-stack__item--push-right\\\"\\n        data-role=\\\"settings-button\\\"\\n        color=\\\"link\\\"\\n        circle=\\\"true\\\"\\n        aria-label=\\\"Redirect to notification settings\\\"\\n        i18n-aria-label=\\\"Aria-label for settings button@@notifications.notification-settings.aria-label\\\"\\n        (click)=\\\"hostRef.onNotificationsSettingsOpen()\\\"\\n      >\\n        <bb-icon-ui class=\\\"text-dark\\\" name=\\\"settings\\\" size=\\\"md\\\"></bb-icon-ui>\\n      </button>\\n    </header>\\n    <button\\n      bbButton\\n      *ngIf=\\\"newNotificationsAvailable\\\"\\n      role=\\\"status\\\"\\n      color=\\\"primary\\\"\\n      [block]=\\\"true\\\"\\n      i18n=\\\"Label for new notifications loading button@@notifications.new-notifications-available.button\\\"\\n      aria-label=\\\"New Notification available. Click to refresh\\\"\\n      i18n-aria-label=\\\"\\n        Aria-label for new notifications loading button@@notifications.new-notifications-available.aria-label\\\"\\n      class=\\\"bb-notifications-badge-widget__load-new-button\\\"\\n      data-role=\\\"notifications-load-new-btn\\\"\\n      (click)=\\\"hostRef.onLoadNewNotifications()\\\"\\n    >\\n      <span>New Notification available. Click to refresh</span>\\n      <bb-icon-ui name=\\\"loading\\\" size=\\\"md\\\" cropped=\\\"true\\\"></bb-icon-ui>\\n    </button>\\n    <bb-alert-ui\\n      *ngIf=\\\"markAllAsReadError\\\"\\n      class=\\\"bb-notifications-badge-widget__alert\\\"\\n      data-role=\\\"mark-all-read-error-alert\\\"\\n      title=\\\"Error! Couldn\\u2019t mark all as read.\\\"\\n      i18n-title=\\\"Label for mark all as read error@@notifications.mark-all-read.alert.title\\\"\\n      aria-label=\\\"Error! Couldn\\u2019t mark all as read.\\\"\\n      i18n-aria-label=\\\"Aria-label for mark all as read error@@notifications.mark-all-read.alert.aria-label\\\"\\n      modifier=\\\"error\\\"\\n      [dismissible]=\\\"false\\\"\\n    >\\n    </bb-alert-ui>\\n    <div class=\\\"bb-notifications-badge-widget__all-read-button\\\" *ngIf=\\\"unreadCount > 0\\\">\\n      <button\\n        bbButton\\n        data-role=\\\"mark-all-read-button\\\"\\n        class=\\\"bb-subtitle\\\"\\n        color=\\\"link-text\\\"\\n        aria-label=\\\"Mark all notifcations as read\\\"\\n        i18n-aria-label=\\\"Aria-label for mark all as read button@@notifications.mark-all-read.aria-label\\\"\\n        (click)=\\\"hostRef.onReadAllNotifications()\\\"\\n      >\\n        <bb-icon-ui name=\\\"playlist-add-check\\\" size=\\\"md\\\" cropped=\\\"true\\\"></bb-icon-ui>\\n        <span i18n=\\\"Label for mark all as read button@@notifications.mark-all-read.label\\\">Mark all as read</span>\\n      </button>\\n    </div>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"!error && !updateCountersError; else errorState\\\">\\n    <ng-container *ngIf=\\\"notifications?.length; else emptyState\\\">\\n      <div data-role=\\\"notifications-list-inner-wrapper\\\" [ngClass]=\\\"hostRef.selectedNotification ? 'd-none' : null\\\">\\n        <p\\n          aria-live=\\\"polite\\\"\\n          class=\\\"sr-only\\\"\\n          i18n=\\\"Label for new loaded notifications available@@notifications.new-loaded-notifications-available\\\"\\n        >\\n          { notifications.length, plural, =1 {new notification of {{ totalCount }}available} other {\\n          {{ notifications.length }} new notifications of {{ totalCount }}available } }\\n        </p>\\n        <ul\\n          tabindex=\\\"-1\\\"\\n          class=\\\"bb-notifications-badge-widget__list bb-list bb-list--flush-lg\\\"\\n          data-role=\\\"notifications-list-body\\\"\\n        >\\n          <li class=\\\"bb-list__item\\\" *ngFor=\\\"let notification of notifications; trackBy: hostRef.trackById\\\">\\n            <bb-notifications-list-item\\n              [notification]=\\\"notification\\\"\\n              class=\\\"bb-nt-{{ notification.id }}\\\"\\n              (keydown.enter)=\\\"hostRef.selectNotification($event, notification)\\\"\\n              (keyup.space)=\\\"hostRef.selectNotification($event, notification)\\\"\\n              (click)=\\\"hostRef.selectNotification($event, notification)\\\"\\n              (openDetails)=\\\"hostRef.selectNotification($event, notification, true)\\\"\\n              [dateFormat]=\\\"dateFormat\\\"\\n            >\\n            </bb-notifications-list-item>\\n          </li>\\n        </ul>\\n\\n        <footer class=\\\"bb-card__footer\\\">\\n          <ng-container *ngIf=\\\"totalCount > pageSize\\\">\\n            <div\\n              *ngIf=\\\"notifications.length < totalCount; else LoadMoreDisabled\\\"\\n              class=\\\"bb-button-bar bb-button-bar--center\\\"\\n            >\\n              <bb-load-button-ui\\n                i18n=\\\"Load more button@@notifications.notification-list.load-more\\\"\\n                class=\\\"bb-button-bar__button\\\"\\n                color=\\\"link\\\"\\n                [size]=\\\"pageSize\\\"\\n                [from]=\\\"pageFrom\\\"\\n                [totalCount]=\\\"totalCount\\\"\\n                [isLoading]=\\\"isLoading\\\"\\n                [block]=\\\"false\\\"\\n                (paramChange)=\\\"hostRef.onLoadMore(totalCount, $event)\\\"\\n              >\\n                Load More\\n              </bb-load-button-ui>\\n            </div>\\n            <ng-template #LoadMoreDisabled>\\n              <div\\n                data-role=\\\"notification-list-load-more-disabled-text\\\"\\n                class=\\\"bb-subtitle bb-text-support bb-text-align-center\\\"\\n                i18n=\\\"Load more disabled text@@notifications.notification-list.load-more-disabled\\\"\\n              >\\n                You\\u2019ve reached the end of the list.\\n              </div>\\n            </ng-template>\\n          </ng-container>\\n        </footer>\\n      </div>\\n\\n      <bb-notification-details\\n        *ngIf=\\\"hostRef.selectedNotification\\\"\\n        [notification]=\\\"hostRef.selectedNotification\\\"\\n        (navigateBack)=\\\"hostRef.unselectNotification()\\\"\\n        (delete)=\\\"hostRef.deleteNotification()\\\"\\n        [dateFormat]=\\\"dateFormat\\\"\\n      ></bb-notification-details>\\n    </ng-container>\\n  </ng-container>\\n\\n  <ng-template #emptyState>\\n    <div role=\\\"alert\\\" *ngIf=\\\"notifications && notifications.length === 0; else loadingState\\\">\\n      <div class=\\\"bb-card__body\\\">\\n        <bb-empty-state-ui\\n          data-role=\\\"notifications-badge-empty-state\\\"\\n          class=\\\"bb-state-container\\\"\\n          i18n-title=\\\"Notifications empty state message title@@notifications.state.no-notifications.title\\\"\\n          title=\\\"No Notifications\\\"\\n          iconModifier=\\\"notifications-off\\\"\\n          iconSize=\\\"xxl\\\"\\n          i18n-subtitle=\\\"Notifications empty state message@@notifications.state.no-notifications.subtitle\\\"\\n          subtitle=\\\"You don't have any notifications to be displayed\\\"\\n        ></bb-empty-state-ui>\\n      </div>\\n    </div>\\n  </ng-template>\\n\\n  <ng-template #errorState>\\n    <div role=\\\"alert\\\">\\n      <div class=\\\"bb-card__body\\\">\\n        <bb-empty-state-ui\\n          data-role=\\\"notifications-badge-error-state\\\"\\n          class=\\\"bb-state-container\\\"\\n          iconSize=\\\"xxl\\\"\\n          iconModifier=\\\"error-outline\\\"\\n          title=\\\"Notifications couldn\\u2019t load\\\"\\n          i18n-title=\\\"Notifications are not loading title@@notifications.error-state.title\\\"\\n          subtitle=\\\"Try to reload the page or contact the system administrator.\\\"\\n          i18n-subtitle=\\\"Notifications are not loading subtitle@@notifications.error-state.subtitle\\\"\\n        >\\n        </bb-empty-state-ui>\\n      </div>\\n    </div>\\n  </ng-template>\\n\\n  <ng-template #loadingState>\\n    <bb-loading-indicator-ui\\n      loaderSize=\\\"md\\\"\\n      text=\\\"Loading...\\\"\\n      i18n-test=\\\"Loading title@@notifications.state.loading.title\\\"\\n    ></bb-loading-indicator-ui>\\n  </ng-template>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i2$1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return i8.AlertComponent; }), selector: \"bb-alert-ui\", inputs: [\"modifier\", \"dismissible\", \"title\", \"message\"], outputs: [\"close\"] }, { type: i0.forwardRef(function () { return NotificationsListItemComponent; }), selector: \"bb-notifications-list-item\", inputs: [\"notification\", \"dateFormat\"], outputs: [\"openDetails\"] }, { type: i0.forwardRef(function () { return i10.LoadButtonComponent; }), selector: \"bb-load-button-ui\", inputs: [\"isLoading\", \"from\", \"size\", \"circle\", \"totalCount\"], outputs: [\"paramChange\"] }, { type: i0.forwardRef(function () { return NotificationDetailsComponent; }), selector: \"bb-notification-details\", inputs: [\"notification\", \"dateFormat\"], outputs: [\"navigateBack\", \"delete\"] }, { type: i0.forwardRef(function () { return i12.EmptyStateComponent; }), selector: \"bb-empty-state-ui\", inputs: [\"title\", \"subtitle\", \"showIcon\", \"iconClasses\", \"iconModifier\", \"iconSize\", \"iconColor\"] }, { type: i0.forwardRef(function () { return i13.LoadingIndicatorComponent; }), selector: \"bb-loading-indicator-ui\", inputs: [\"text\", \"loaderSize\", \"showDelay\", \"hasBackground\", \"inline\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationsListCustomizableDirective; }), selector: \"[bbNotificationsListCustomizable]\" }, { type: i0.forwardRef(function () { return i14.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i0.forwardRef(function () { return i3$1.ButtonDirective; }), selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }, { type: i0.forwardRef(function () { return i14.NgClass; }), selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i0.forwardRef(function () { return i14.NgForOf; }), selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i0.forwardRef(function () { return i14.AsyncPipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notifications-list',\n                    templateUrl: './notifications-list.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: NotificationsRouterService }, { type: NotificationsPaginationService }, { type: NotificationsPollingService }, { type: NotificationsDataService }, { type: i5$2.NotificationService }, { type: i0.ElementRef }, { type: WidgetPropertiesService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PUBSUB]\n                }] }]; }, propDecorators: { navigation: [{\n                type: Output\n            }], preselectedNotification: [{\n                type: Input\n            }], dateFormat: [{\n                type: Input\n            }] } });\nclass NotificationsListCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationsListCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationsListCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsListCustomizableDirective, selector: \"[bbNotificationsListCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationsListCustomizable]',\n                }]\n        }] });\n\nconst BADGE_FORCE_UPDATE_DEBOUNCE_TIME = 800;\n/** @dynamic */\nclass NotificationsBadgeWidgetComponent {\n    constructor(notificationsPollingService, routerService, mediaQService, properties, pubSub, document) {\n        this.notificationsPollingService = notificationsPollingService;\n        this.routerService = routerService;\n        this.mediaQService = mediaQService;\n        this.properties = properties;\n        this.pubSub = pubSub;\n        this.document = document;\n        this.preselectedNotification$$ = new BehaviorSubject(undefined);\n        /**\n         * Stream of preselected notification.\n         */\n        this.preselectedNotification$ = this.preselectedNotification$$.asObservable();\n        /**\n         * Redirect to Notification Preferences on Settings button click emitter.\n         */\n        this.notificationsSettingsOpened = new EventEmitter();\n        /**\n         * Navigation data emitter.\n         */\n        this.notificationRouting = new EventEmitter();\n        /**\n         * Unique id html property for each component instance\n         */\n        this.id = `bb-notifications-badge-widget-${NotificationsBadgeWidgetComponent.idCounter++}`;\n        this.destroy$ = new Subject();\n        /**\n         * Stream with count of unread notifications.\n         */\n        this.unreadCount$ = this.notificationsPollingService.unreadNotificationsCount$;\n        /**\n         * Stream that adjusts the layout to the screen size by applying different translateX values.\n         */\n        this.listTransform$ = this.mediaQService.isMediaBreakpointMatches('max-width', 'sm').pipe(map(isMobileView => {\n            if (isMobileView) {\n                const badge = this.document.querySelector('.bb-notifications-badge-widget');\n                if (badge) {\n                    const { width: badgeWidth, left } = badge.getBoundingClientRect();\n                    const { width: bodyWidth } = this.document.body.getBoundingClientRect();\n                    return `translateX(${bodyWidth - left - badgeWidth}px)`;\n                }\n            }\n            return undefined;\n        }));\n        this.origins$ = this.properties.origins$;\n        this.severityLevels$ = this.properties.severityLevels$;\n    }\n    /**\n     * Preselected notification.\n     */\n    set preselectedNotification(notification) {\n        if (!this.popover)\n            return;\n        this.preselectedNotification$$.next(notification);\n        if (!this.popover.isOpen() && notification) {\n            this.popover.open();\n        }\n    }\n    /**\n     * Number of displayed lines in notification message.\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set notificationsMessageLineAmountValue(value) {\n        if (value !== undefined) {\n            this.properties.setNotificationsMessageLineAmount(value);\n        }\n    }\n    /**\n     * Display time for today relative to the current point in time (time display format).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set displayRelativeTimeValue(value) {\n        if (value !== undefined) {\n            this.properties.setDisplayRelativeTime(value);\n        }\n    }\n    /**\n     * Display See More button.\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set displayShowMoreButtonInBadgeValue(value) {\n        if (value !== undefined) {\n            this.properties.setDisplayShowMoreButtonInBadge(value);\n        }\n    }\n    /**\n     * String of allowed routes for navigation (conversation-view, arrangement-view, transaction-view, party-view, etc.).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set allowedRoutesValue(value) {\n        if (value !== undefined) {\n            this.properties.setAllowedRoutes(value);\n        }\n    }\n    /**\n     * Display Settings button (button with the Gear icon that opens Notification Preferences).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set displaySettingsButtonValue(value) {\n        if (value !== undefined) {\n            this.properties.setDisplaySettingsButton(value);\n        }\n    }\n    /**\n     * Limit of notifications per paginated request.\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set pageSizeValue(value) {\n        if (value !== undefined) {\n            this.properties.setPageSize(value);\n        }\n    }\n    /**\n     * Comma-separated list of notifications origins to process (empty for all).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set originsValue(value) {\n        if (value !== undefined) {\n            this.properties.setOrigins(value);\n        }\n    }\n    /**\n     * Comma-separated list of notifications severity levels to process (empty for all).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set severityLevelsValue(value) {\n        if (value !== undefined) {\n            this.properties.setSeverityLevels(value);\n        }\n    }\n    /**\n     * Interval to poll server for unread count (in seconds).\n     */\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    set unreadCountUpdateIntervalValue(value) {\n        if (value !== undefined) {\n            this.properties.setUnreadCountUpdateInterval(value);\n        }\n    }\n    ngOnInit() {\n        this.setupNavigationSubscriptions();\n        this.setupBadgeUpdateSubscriptions();\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    /**\n     * The method to clear the preselected notification value.\n     *\n     * @param isOpen Is notification badge open flag\n     */\n    onOpenChange(isOpen) {\n        if (!isOpen) {\n            this.preselectedNotification$$.next(undefined);\n        }\n    }\n    setupNavigationSubscriptions() {\n        this.routerService.settingsOpenedNavigation$\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(this.notificationsSettingsOpened);\n        this.routerService.notificationRouting$.pipe(takeUntil(this.destroy$)).subscribe(this.notificationRouting);\n    }\n    setupBadgeUpdateSubscriptions() {\n        let forceUpdateCounterHandler;\n        const forceUpdateCounters$ = new Subject();\n        forceUpdateCounters$\n            .pipe(debounceTime(BADGE_FORCE_UPDATE_DEBOUNCE_TIME), takeUntil(this.destroy$))\n            .subscribe(() => this.notificationsPollingService.forceUpdateCounters());\n        combineLatest([this.origins$, this.severityLevels$])\n            .pipe(first())\n            .subscribe(([origins, levels]) => {\n            forceUpdateCounterHandler = payload => {\n                if (payload &&\n                    (origins.length === 0 || (payload.origin && origins.includes(payload.origin))) &&\n                    (levels.length === 0 || levels.includes(payload.level))) {\n                    forceUpdateCounters$.next();\n                }\n            };\n            this.pubSub.subscribe(NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, forceUpdateCounterHandler);\n        });\n        this.destroy$.subscribe(() => {\n            this.pubSub.unsubscribe(NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, forceUpdateCounterHandler);\n        });\n    }\n}\nNotificationsBadgeWidgetComponent.idCounter = 0;\n/** @nocollapse */ NotificationsBadgeWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetComponent, deps: [{ token: NotificationsPollingService }, { token: NotificationsRouterService }, { token: i3$2.MediaQueryService }, { token: WidgetPropertiesService }, { token: PUBSUB }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationsBadgeWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsBadgeWidgetComponent, selector: \"bb-notifications-badge-widget\", inputs: { preselectedNotification: \"preselectedNotification\", notificationsMessageLineAmountValue: [\"notificationsMessageLineAmount\", \"notificationsMessageLineAmountValue\"], displayRelativeTimeValue: [\"displayRelativeTime\", \"displayRelativeTimeValue\"], displayShowMoreButtonInBadgeValue: [\"displayShowMoreButtonInBadge\", \"displayShowMoreButtonInBadgeValue\"], allowedRoutesValue: [\"allowedRoutes\", \"allowedRoutesValue\"], displaySettingsButtonValue: [\"displaySettingsButton\", \"displaySettingsButtonValue\"], pageSizeValue: [\"pageSize\", \"pageSizeValue\"], originsValue: [\"origins\", \"originsValue\"], severityLevelsValue: [\"severityLevels\", \"severityLevelsValue\"], unreadCountUpdateIntervalValue: [\"unreadCountUpdateInterval\", \"unreadCountUpdateIntervalValue\"], dateFormat: \"dateFormat\" }, outputs: { notificationsSettingsOpened: \"notificationsSettingsOpened\", notificationRouting: \"notificationRouting\" }, providers: [\n        NotificationsPaginationService,\n        NotificationsDataService,\n        NotificationsPollingService,\n        NotificationsRouterService,\n        WidgetPropertiesService,\n        NotificationsPaginationService,\n    ], viewQueries: [{ propertyName: \"popover\", first: true, predicate: [\"popover\"], descendants: true }], ngImport: i0, template: \"<ng-container\\n  bbNotificationsBadgeCustomizable\\n  [bbHostRef]=\\\"this\\\"\\n  [bbTemplateContext]=\\\"{\\n    unreadCount: unreadCount$ | async,\\n    listTransform: listTransform$ | async\\n  }\\\"\\n>\\n</ng-container>\\n<ng-template\\n  bbNotificationsBadgeCustomizable\\n  let-hostRef\\n  let-unreadCount=\\\"context.unreadCount\\\"\\n  let-listTransform=\\\"context.listTransform\\\"\\n>\\n  <div class=\\\"bb-notifications-badge-widget\\\">\\n    <div #popover=\\\"ngbDropdown\\\" ngbDropdown placement=\\\"bottom-right\\\" (openChange)=\\\"hostRef.onOpenChange($event)\\\">\\n      <button\\n        bbButton\\n        [attr.aria-labelledby]=\\\"'notifications-badge-label' + hostRef.id\\\"\\n        color=\\\"transparent\\\"\\n        class=\\\"bb-notifications-badge-widget__dropdown-button\\\"\\n        ngbDropdownToggle\\n      >\\n        <bb-icon-ui name=\\\"notifications\\\" color=\\\"secondary\\\" data-role=\\\"notifications-icon\\\" size=\\\"lg\\\"></bb-icon-ui>\\n        <bb-badge-counter-ui\\n          class=\\\"bb-notifications-badge-widget__dropdown-button-counter\\\"\\n          [count]=\\\"unreadCount\\\"\\n          maxCount=\\\"99\\\"\\n          color=\\\"danger\\\"\\n          data-role=\\\"notifications-unread-count\\\"\\n        ></bb-badge-counter-ui>\\n      </button>\\n      <div\\n        ngbDropdownMenu\\n        class=\\\"bb-notifications-badge-widget__dropdown-menu dropdown-menu-unstyled\\\"\\n        data-role=\\\"notifications-list-wrapper\\\"\\n      >\\n        <div\\n          class=\\\"bb-notifications-badge-widget__dropdown-menu-list\\\"\\n          data-role=\\\"notifications-dropdown-menu-list\\\"\\n          [style.transform]=\\\"listTransform\\\"\\n        >\\n          <div class=\\\"bb-card bb-notifications-badge-widget__list-wrapper\\\">\\n            <bb-notifications-list\\n              *ngIf=\\\"popover.isOpen()\\\"\\n              (navigation)=\\\"popover.close()\\\"\\n              [preselectedNotification]=\\\"hostRef.preselectedNotification$ | async\\\"\\n              [dateFormat]=\\\"dateFormat\\\"\\n            ></bb-notifications-list>\\n          </div>\\n        </div>\\n      </div>\\n      <span\\n        i18n=\\\"Notifications badge aria label@notifications.badge.aria-label\\\"\\n        [attr.id]=\\\"'notifications-badge-label' + hostRef.id\\\"\\n        aria-live=\\\"polite\\\"\\n        aria-relevant=\\\"text\\\"\\n        class=\\\"sr-only\\\"\\n      >\\n        { unreadCount || 0, plural, =0 { no new notifications } =1 { {{ unreadCount }} new notification} other {\\n        {{ unreadCount }} new notifications } }\\n      </span>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i2$1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i0.forwardRef(function () { return i6.BadgeCounterComponent; }), selector: \"bb-badge-counter-ui\", inputs: [\"color\", \"count\", \"maxCount\"] }, { type: i0.forwardRef(function () { return NotificationsListComponent; }), selector: \"bb-notifications-list\", inputs: [\"preselectedNotification\", \"dateFormat\"], outputs: [\"navigation\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationsBadgeWidgetCustomizableDirective; }), selector: \"[bbNotificationsBadgeCustomizable]\" }, { type: i0.forwardRef(function () { return i8$1.NgbDropdown; }), selector: \"[ngbDropdown]\", inputs: [\"open\", \"placement\", \"container\", \"autoClose\", \"display\", \"dropdownClass\"], outputs: [\"openChange\"], exportAs: [\"ngbDropdown\"] }, { type: i0.forwardRef(function () { return i3$1.ButtonDirective; }), selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }, { type: i0.forwardRef(function () { return i8$1.NgbDropdownToggle; }), selector: \"[ngbDropdownToggle]\" }, { type: i0.forwardRef(function () { return i8$1.NgbDropdownMenu; }), selector: \"[ngbDropdownMenu]\" }, { type: i0.forwardRef(function () { return i14.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i0.forwardRef(function () { return i14.AsyncPipe; }) } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notifications-badge-widget',\n                    templateUrl: './notifications-badge-widget.component.html',\n                    providers: [\n                        NotificationsPaginationService,\n                        NotificationsDataService,\n                        NotificationsPollingService,\n                        NotificationsRouterService,\n                        WidgetPropertiesService,\n                        NotificationsPaginationService,\n                    ],\n                }]\n        }], ctorParameters: function () { return [{ type: NotificationsPollingService }, { type: NotificationsRouterService }, { type: i3$2.MediaQueryService }, { type: WidgetPropertiesService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PUBSUB]\n                }] }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }]; }, propDecorators: { preselectedNotification: [{\n                type: Input\n            }], notificationsMessageLineAmountValue: [{\n                type: Input,\n                args: ['notificationsMessageLineAmount']\n            }], displayRelativeTimeValue: [{\n                type: Input,\n                args: ['displayRelativeTime']\n            }], displayShowMoreButtonInBadgeValue: [{\n                type: Input,\n                args: ['displayShowMoreButtonInBadge']\n            }], allowedRoutesValue: [{\n                type: Input,\n                args: ['allowedRoutes']\n            }], displaySettingsButtonValue: [{\n                type: Input,\n                args: ['displaySettingsButton']\n            }], pageSizeValue: [{\n                type: Input,\n                args: ['pageSize']\n            }], originsValue: [{\n                type: Input,\n                args: ['origins']\n            }], severityLevelsValue: [{\n                type: Input,\n                args: ['severityLevels']\n            }], unreadCountUpdateIntervalValue: [{\n                type: Input,\n                args: ['unreadCountUpdateInterval']\n            }], dateFormat: [{\n                type: Input\n            }], notificationsSettingsOpened: [{\n                type: Output\n            }], notificationRouting: [{\n                type: Output\n            }], popover: [{\n                type: ViewChild,\n                args: ['popover']\n            }] } });\nclass NotificationsBadgeWidgetCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationsBadgeWidgetCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationsBadgeWidgetCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsBadgeWidgetCustomizableDirective, selector: \"[bbNotificationsBadgeCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationsBadgeCustomizable]',\n                }]\n        }] });\n\nclass HumanizedDateModule {\n}\n/** @nocollapse */ HumanizedDateModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ HumanizedDateModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateModule, declarations: [HumanizedDateComponent, HumanizedDateCustomizableDirective], imports: [CommonModule, BbDatePipeModule], exports: [HumanizedDateComponent, HumanizedDateCustomizableDirective] });\n/** @nocollapse */ HumanizedDateModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateModule, imports: [[CommonModule, BbDatePipeModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: HumanizedDateModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, BbDatePipeModule],\n                    declarations: [HumanizedDateComponent, HumanizedDateCustomizableDirective],\n                    exports: [HumanizedDateComponent, HumanizedDateCustomizableDirective],\n                }]\n        }] });\n\nconst uiModules$3 = [BbDatePipeModule, EllipsisModule];\nconst innerModules$3 = [HumanizedDateModule];\nconst components$3 = [NotificationsListItemComponent, NotificationListItemCustomizableDirective];\nclass NotificationsListItemModule {\n}\n/** @nocollapse */ NotificationsListItemModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ NotificationsListItemModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemModule, declarations: [NotificationsListItemComponent, NotificationListItemCustomizableDirective], imports: [CommonModule, NotificationsCommonModule, BbDatePipeModule, EllipsisModule, HumanizedDateModule], exports: [NotificationsCommonModule, BbDatePipeModule, EllipsisModule, HumanizedDateModule, NotificationsListItemComponent, NotificationListItemCustomizableDirective] });\n/** @nocollapse */ NotificationsListItemModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemModule, imports: [[CommonModule, NotificationsCommonModule, ...uiModules$3, ...innerModules$3], NotificationsCommonModule, BbDatePipeModule, EllipsisModule, HumanizedDateModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListItemModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, NotificationsCommonModule, ...uiModules$3, ...innerModules$3],\n                    declarations: [...components$3],\n                    exports: [NotificationsCommonModule, ...uiModules$3, ...innerModules$3, ...components$3],\n                }]\n        }] });\n\nconst uiModules$2 = [ButtonModule, FocusModule, EllipsisModule, TooltipModule];\nconst innerModules$2 = [HumanizedDateModule];\nconst components$2 = [\n    NotificationDetailsComponent,\n    NotificationDetailsCustomizableDirective,\n    NotificationDetailsItemComponent,\n    NotificationDetailsItemCustomizableDirective,\n];\nclass NotificationDetailsModule {\n}\n/** @nocollapse */ NotificationDetailsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ NotificationDetailsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsModule, declarations: [NotificationDetailsComponent,\n        NotificationDetailsCustomizableDirective,\n        NotificationDetailsItemComponent,\n        NotificationDetailsItemCustomizableDirective], imports: [CommonModule, NotificationsCommonModule, ButtonModule, FocusModule, EllipsisModule, TooltipModule, HumanizedDateModule], exports: [NotificationsCommonModule, ButtonModule, FocusModule, EllipsisModule, TooltipModule, HumanizedDateModule, NotificationDetailsComponent,\n        NotificationDetailsCustomizableDirective,\n        NotificationDetailsItemComponent,\n        NotificationDetailsItemCustomizableDirective] });\n/** @nocollapse */ NotificationDetailsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsModule, imports: [[CommonModule, NotificationsCommonModule, ...uiModules$2, ...innerModules$2], NotificationsCommonModule, ButtonModule, FocusModule, EllipsisModule, TooltipModule, HumanizedDateModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationDetailsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, NotificationsCommonModule, ...uiModules$2, ...innerModules$2],\n                    declarations: [...components$2],\n                    exports: [NotificationsCommonModule, ...uiModules$2, ...innerModules$2, ...components$2],\n                }]\n        }] });\n\nconst uiModules$1 = [\n    EmptyStateModule,\n    ErrorCommonStateModule,\n    LoadButtonModule,\n    LoadingIndicatorModule,\n    ButtonModule,\n    AlertModule,\n];\nconst innerModules$1 = [NotificationsListItemModule, NotificationDetailsModule];\nconst components$1 = [NotificationsListComponent, NotificationsListCustomizableDirective];\nclass NotificationsListModule {\n}\n/** @nocollapse */ NotificationsListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ NotificationsListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListModule, declarations: [NotificationsListComponent, NotificationsListCustomizableDirective], imports: [CommonModule, EmptyStateModule,\n        ErrorCommonStateModule,\n        LoadButtonModule,\n        LoadingIndicatorModule,\n        ButtonModule,\n        AlertModule, NotificationsListItemModule, NotificationDetailsModule], exports: [EmptyStateModule,\n        ErrorCommonStateModule,\n        LoadButtonModule,\n        LoadingIndicatorModule,\n        ButtonModule,\n        AlertModule, NotificationsListItemModule, NotificationDetailsModule, NotificationsListComponent, NotificationsListCustomizableDirective] });\n/** @nocollapse */ NotificationsListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListModule, imports: [[CommonModule, ...uiModules$1, ...innerModules$1], EmptyStateModule,\n        ErrorCommonStateModule,\n        LoadButtonModule,\n        LoadingIndicatorModule,\n        ButtonModule,\n        AlertModule, NotificationsListItemModule, NotificationDetailsModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsListModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ...uiModules$1, ...innerModules$1],\n                    declarations: [...components$1],\n                    exports: [...uiModules$1, ...innerModules$1, ...components$1],\n                }]\n        }] });\n\nconst uiModules = [BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule];\nconst innerModules = [NotificationsListItemModule, NotificationsListModule];\nconst components = [NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective];\nclass NotificationsBadgeWidgetModule {\n}\n/** @nocollapse */ NotificationsBadgeWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ NotificationsBadgeWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetModule, declarations: [NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective], imports: [CommonModule, i1.BackbaseCoreModule, BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule, NotificationsListItemModule, NotificationsListModule], exports: [BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule, NotificationsListItemModule, NotificationsListModule, NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective] });\n/** @nocollapse */ NotificationsBadgeWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetModule, imports: [[\n            CommonModule,\n            BackbaseCoreModule.withConfig({\n                classMap: { NotificationsBadgeWidgetComponent },\n            }),\n            ...uiModules,\n            ...innerModules,\n        ], BadgeModule, ButtonModule, IconModule, NgbDropdownModule, BadgeCounterModule, MediaQueryModule, NotificationsListItemModule, NotificationsListModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsBadgeWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        BackbaseCoreModule.withConfig({\n                            classMap: { NotificationsBadgeWidgetComponent },\n                        }),\n                        ...uiModules,\n                        ...innerModules,\n                    ],\n                    declarations: [...components],\n                    exports: [...uiModules, ...innerModules, ...components],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BADGE_FORCE_UPDATE_DEBOUNCE_TIME, HumanizedDateComponent, HumanizedDateCustomizableDirective, NOTIFICATIONS_BADGE_RELOAD_ON_NAVIGATE_EVENT, NotificationDetailsComponent, NotificationDetailsCustomizableDirective, NotificationDetailsItemComponent, NotificationDetailsItemCustomizableDirective, NotificationListItemCustomizableDirective, NotificationsBadgeWidgetComponent, NotificationsBadgeWidgetCustomizableDirective, NotificationsBadgeWidgetModule, NotificationsListComponent, NotificationsListCustomizableDirective, NotificationsListItemComponent, NotificationsPaginationService, NotificationsPollingService, WidgetPropertiesService, HumanizedDateModule as ӨHumanizedDateModule, NotificationDetailsModule as ӨNotificationDetailsModule, NotificationsListItemModule as ӨNotificationsListItemModule, NotificationsListModule as ӨNotificationsListModule };\n"]},"metadata":{},"sourceType":"module"}