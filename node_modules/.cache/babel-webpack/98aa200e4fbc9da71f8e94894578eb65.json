{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, Optional, InjectionToken, LOCALE_ID, Inject, Component, ChangeDetectionStrategy, Input, Directive, HostListener, EventEmitter, Output, ViewContainerRef, ViewChild, Pipe, NgModule } from '@angular/core';\nimport * as i1$1 from '@backbase/data-ang/transactions';\nimport { combineLatest, defer, of, ReplaySubject, BehaviorSubject, Subject, merge, iif, timer, from, throwError } from 'rxjs';\nimport { map, switchMap, publishReplay, refCount, catchError, filter, distinctUntilChanged, tap, scan, first, finalize, share, takeUntil, mergeMap, shareReplay, pluck } from 'rxjs/operators';\nimport * as i1 from '@backbase/data-ang/arrangements';\nimport * as i3 from '@backbase/foundation-ang/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$2 from '@angular/platform-browser';\nimport * as i1$3 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i2$1 from '@backbase/ui-ang/dropdown-menu';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport * as i3$1 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i3$2 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport * as i4 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i5 from '@angular/cdk/a11y';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport * as i1$4 from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport * as i2$2 from '@backbase/ui-ang/input-radio-group';\nimport { InputRadioGroupModule } from '@backbase/ui-ang/input-radio-group';\nimport * as i3$3 from '@backbase/ui-ang/input-validation-message';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport * as i4$1 from '@backbase/ui-ang/rich-text-editor';\nimport { RichTextEditorModule } from '@backbase/ui-ang/rich-text-editor';\nimport * as i5$1 from '@backbase/ui-ang/input-file';\nimport { InputFileModule } from '@backbase/ui-ang/input-file';\nimport * as i6 from '@backbase/ui-ang/file-attachment';\nimport { FileAttachmentModule } from '@backbase/ui-ang/file-attachment';\nimport * as i7 from '@backbase/ui-ang/alert';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport * as i8 from '@backbase/ui-ang/load-button';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport * as i10 from '@backbase/ui-ang/modal';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport * as i14 from '@backbase/ui-ang/tooltip-directive';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport * as i1$5 from '@backbase/ui-ang/badge';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\nimport { HttpResponse } from '@angular/common/http';\nimport * as i1$6 from '@backbase/data-ang/payment-batch';\nimport * as i3$4 from '@backbase/ui-ang/notification';\nimport * as i1$7 from '@backbase/data-ang/categories-management';\nimport * as i1$8 from '@backbase/data-ang/messages';\nimport '@angular/localize/init';\nimport * as i1$9 from '@angular/router';\n\nconst _c4 = function (a0) {\n  return {\n    \"sr-only\": a0\n  };\n};\n\nfunction TransactionsNumberOfResultsFoundComponent_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵi18n(1, 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c4, hostRef_r1.numberOfResultsFound <= 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵi18nExp(hostRef_r1.numberOfResultsFound)(hostRef_r1.numberOfResultsFound);\n    i0.ɵɵi18nApply(1);\n  }\n}\n\nfunction TransactionsNumberOfResultsFoundComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TransactionsNumberOfResultsFoundComponent_ng_template_1_div_0_Template, 2, 5, \"div\", 2);\n  }\n\n  if (rf & 2) {\n    const hostRef_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngIf\", hostRef_r1.isLoaded && (hostRef_r1.isFilterApplied || hostRef_r1.isSearchApplied));\n  }\n}\n\nfunction TransactionCheckImageItemComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelement(3, \"bb-icon-ui\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r0.imageAlt);\n    i0.ɵɵproperty(\"src\", ctx_r0.createImageSource(), i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction TransactionCheckImageItemComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"bb-icon-ui\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DocumentViewerHeaderComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 18);\n    i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_ng_template_18_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return !ctx_r1.isLoading && ctx_r1.onOpenDocument();\n    });\n    i0.ɵɵelement(1, \"bb-icon-ui\", 19);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵi18n(3, 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_ng_template_18_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return !ctx_r3.isLoading && ctx_r3.onDownloadDocument();\n    });\n    i0.ɵɵelement(5, \"bb-icon-ui\", 22);\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵi18n(7, 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 24);\n    i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_ng_template_18_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return !ctx_r4.isLoading && ctx_r4.onPrintDocument();\n    });\n    i0.ɵɵelement(9, \"bb-icon-ui\", 25);\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵi18n(11, 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DocumentViewerInteractorComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DocumentViewerInteractorComponent_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.prev();\n    });\n    i0.ɵɵelement(1, \"bb-icon-ui\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DocumentViewerInteractorComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DocumentViewerInteractorComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.next();\n    });\n    i0.ɵɵelement(1, \"bb-icon-ui\", 14);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c35 = [\"viewerContainer\"];\n\nfunction DocumentViewerContainerComponent_ng_container_7_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DocumentViewerContainerComponent_ng_container_7_ng_container_1_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.closeDialog();\n    });\n    i0.ɵɵelementStart(1, \"bb-image-viewer\", 8);\n    i0.ɵɵlistener(\"navigate\", function DocumentViewerContainerComponent_ng_container_7_ng_container_1_div_1_Template_bb_image_viewer_navigate_1_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.onNavigate($event);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const source_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"source\", source_r3)(\"navigationState\", i0.ɵɵpipeBind1(2, 2, ctx_r5.navigationState$));\n  }\n}\n\nfunction DocumentViewerContainerComponent_ng_container_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, DocumentViewerContainerComponent_ng_container_7_ng_container_1_div_1_Template, 3, 4, \"div\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r4.documentFiletype$));\n  }\n}\n\nfunction DocumentViewerContainerComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, DocumentViewerContainerComponent_ng_container_7_ng_container_1_Template, 3, 3, \"ng-container\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(2, 1, ctx_r0.isLoading$) && !i0.ɵɵpipeBind1(3, 3, ctx_r0.isHttpError$));\n  }\n}\n\nfunction DocumentViewerContainerComponent_bb_loading_indicator_ui_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loading-indicator-ui\", 9);\n  }\n}\n\nfunction DocumentViewerContainerComponent_bb_empty_state_ui_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-empty-state-ui\", 10);\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-transaction-check-image-item\", 8);\n    i0.ɵɵlistener(\"selectImage\", function TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_3_Template_bb_transaction_check_image_item_selectImage_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.selectImage(1);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"image\", ctx_r3.imageFront)(\"transaction\", ctx_r3.transaction);\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-transaction-check-image-item\", 9);\n    i0.ɵɵlistener(\"selectImage\", function TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_5_Template_bb_transaction_check_image_item_selectImage_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.selectImage(ctx_r9.imageFront ? 2 : 1);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"image\", ctx_r4.imageBack)(\"transaction\", ctx_r4.transaction);\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_document_viewer_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-transaction-check-image-document-viewer\", 10);\n    i0.ɵɵlistener(\"closeViewer\", function TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_document_viewer_6_Template_bb_transaction_check_image_document_viewer_closeViewer_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.onClose();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"imageCheckNumber\", ctx_r5.transaction == null ? null : ctx_r5.transaction.checkSerialNumber)(\"imageFront\", ctx_r5.imageFront)(\"imageBack\", ctx_r5.imageBack)(\"position\", ctx_r5.index - 1);\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_ng_container_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵi18n(1, 15);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_ng_container_7_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵi18n(1, 17);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_ng_container_7_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵi18n(1, 19);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TransactionCheckImageComponent_ng_container_0_ng_container_7_span_1_Template, 2, 0, \"span\", 11);\n    i0.ɵɵtemplate(2, TransactionCheckImageComponent_ng_container_0_ng_container_7_span_2_Template, 2, 0, \"span\", 12);\n    i0.ɵɵtemplate(3, TransactionCheckImageComponent_ng_container_0_ng_container_7_span_3_Template, 2, 0, \"span\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r6.transactionDetailsLoadingStatus == null ? null : ctx_r6.transactionDetailsLoadingStatus.checkImages) === (ctx_r6.loadingStateEnum == null ? null : ctx_r6.loadingStateEnum.serverError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r6.transactionDetailsLoadingStatus == null ? null : ctx_r6.transactionDetailsLoadingStatus.checkImages) === (ctx_r6.loadingStateEnum == null ? null : ctx_r6.loadingStateEnum.badRequestError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r6.transactionDetailsLoadingStatus == null ? null : ctx_r6.transactionDetailsLoadingStatus.checkImages) === (ctx_r6.loadingStateEnum == null ? null : ctx_r6.loadingStateEnum.notFoundError));\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtemplate(3, TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_3_Template, 1, 2, \"bb-transaction-check-image-item\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵtemplate(5, TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_item_5_Template, 1, 2, \"bb-transaction-check-image-item\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TransactionCheckImageComponent_ng_container_0_bb_transaction_check_image_document_viewer_6_Template, 1, 4, \"bb-transaction-check-image-document-viewer\", 6);\n    i0.ɵɵtemplate(7, TransactionCheckImageComponent_ng_container_0_ng_container_7_Template, 4, 3, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !!ctx_r0.imageFront || ctx_r0.hasErrors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !!ctx_r0.imageBack || ctx_r0.hasErrors);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.index > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasErrors);\n  }\n}\n\nfunction TransactionCheckImageComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loading-indicator-ui\", 20);\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵi18n(1, 38);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵi18n(1, 39);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵelementStart(1, \"div\", 43);\n    i0.ɵɵelementStart(2, \"bb-file-attachment-ui\", 44);\n    i0.ɵɵlistener(\"delete\", function TransactionsInquiryDisputeComponent_div_19_div_1_Template_bb_file_attachment_ui_delete_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const attachment_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.removeAttachment(attachment_r12);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const attachment_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"name\", attachment_r12.name)(\"size\", attachment_r12.size)(\"fileContent\", attachment_r12.content)(\"block\", true)(\"loading\", attachment_r12.id === undefined)(\"deletable\", attachment_r12.id !== undefined);\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, TransactionsInquiryDisputeComponent_div_19_div_1_Template, 3, 6, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.message == null ? null : ctx_r2.message.attachments);\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bb-alert-ui\", 45);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function TransactionsInquiryDisputeComponent_button_25_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.confirmationDialogActive = true;\n    });\n    i0.ɵɵi18n(1, 47);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵi18n(2, 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵi18n(2, 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_template_30_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 52);\n    i0.ɵɵelementStart(4, \"span\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"bb-icon-ui\", 53);\n    i0.ɵɵelement(7, \"bb-icon-ui\", 54);\n    i0.ɵɵelementStart(8, \"span\", 55);\n    i0.ɵɵi18n(9, 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n\n    const _r5 = i0.ɵɵreference(27);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.processLabel(ctx_r18.labels.dispute)[0], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.processLabel(ctx_r18.labels.dispute)[1], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"bbTooltip\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"bbTooltip\", _r5);\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_template_30_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 52);\n    i0.ɵɵelementStart(4, \"span\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"bb-icon-ui\", 53);\n    i0.ɵɵelement(7, \"bb-icon-ui\", 57);\n    i0.ɵɵelementStart(8, \"span\", 55);\n    i0.ɵɵi18n(9, 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n\n    const _r7 = i0.ɵɵreference(29);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.processLabel(ctx_r19.labels.inquire)[0], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.processLabel(ctx_r19.labels.inquire)[1], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"bbTooltip\", _r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"bbTooltip\", _r7);\n  }\n}\n\nfunction TransactionsInquiryDisputeComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TransactionsInquiryDisputeComponent_ng_template_30_ng_container_0_Template, 10, 4, \"ng-container\", 12);\n    i0.ɵɵtemplate(1, TransactionsInquiryDisputeComponent_ng_template_30_ng_container_1_Template, 10, 4, \"ng-container\", 12);\n  }\n\n  if (rf & 2) {\n    const context_r17 = ctx.labelTemplateContext;\n    i0.ɵɵproperty(\"ngIf\", context_r17 === \"dispute\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", context_r17 === \"inquire\");\n  }\n}\n\nconst _c90 = function (a0) {\n  return {\n    \"bb-block--sm\": a0\n  };\n};\n\nfunction TransactionsDisputeStatusTagComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bb-badge-ui\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction TransactionsDisputeStatusTagComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bb-badge-ui\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction TransactionsDisputeStatusTagComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bb-badge-ui\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction TransactionsDisputeBannerComponent_bb_alert_ui_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-alert-ui\", 3);\n  }\n}\n\nfunction TransactionsDisputeBannerComponent_bb_alert_ui_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-alert-ui\", 4);\n  }\n}\n\nfunction TransactionsDisputeBannerComponent_bb_alert_ui_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-alert-ui\", 5);\n  }\n}\n\nconst _c109 = [\"notificationErrorUpdateHeader\"];\nconst _c110 = [\"notificationErrorUpdateMessage\"];\nconst _c111 = [\"notificationServerErrorHeader\"];\nconst _c112 = [\"notificationServerErrorMessage\"];\nconst _c113 = [\"categoryImage\"];\n\nfunction TransactionCategoryIconComponent_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 2, 3);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hidden\", !ctx_r0.hasImageLoaded)(\"src\", ctx_r0.transaction == null ? null : ctx_r0.transaction.merchant == null ? null : ctx_r0.transaction.merchant.logo, i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c114 = function (a0, a1, a2) {\n  return [a0, a1, a2];\n};\n\nconst _c115 = [\"bbMapContainer\"];\n\nfunction TransactionGeoLocationMapComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵelement(1, \"bb-icon-ui\", 6);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.transaction == null ? null : ctx_r0.transaction.location == null ? null : ctx_r0.transaction.location.address);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bb-transactions-map-ui\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"location\", ctx_r8.transaction == null ? null : ctx_r8.transaction.location);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_ng_container_1_ng_container_1_Template, 2, 1, \"ng-container\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n\n    const _r2 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.loadingStatus !== ctx_r7.loadingStateEnum.loading)(\"ngIfElse\", _r2);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_ng_container_1_Template, 2, 2, \"ng-container\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n\n    const _r4 = i0.ɵɵreference(6);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.loadingStatus !== ctx_r6.loadingStateEnum.error)(\"ngIfElse\", _r4);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TransactionGeoLocationMapComponent_ng_container_2_ng_container_1_Template, 2, 2, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loadingStatus !== ctx_r1.loadingStateEnum.notLoaded);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loading-indicator-ui\", 10);\n  }\n}\n\nfunction TransactionGeoLocationMapComponent_ng_template_5_Template(rf, ctx) {}\n\nvar OnLoadAction;\n\n(function (OnLoadAction) {\n  OnLoadAction[OnLoadAction[\"Replace\"] = 0] = \"Replace\";\n  OnLoadAction[OnLoadAction[\"Append\"] = 1] = \"Append\";\n  OnLoadAction[OnLoadAction[\"ReplacePage\"] = 2] = \"ReplacePage\";\n})(OnLoadAction || (OnLoadAction = {}));\n\nvar TransactionState;\n\n(function (TransactionState) {\n  TransactionState[\"completed\"] = \"COMPLETED\";\n  TransactionState[\"uncompleted\"] = \"UNCOMPLETED\";\n})(TransactionState || (TransactionState = {}));\n\nconst defaultAccountOptions = {\n  account: {}\n};\nconst defaultSearchOptions = {\n  search: {}\n};\nconst defaultFilterOptions = {\n  filter: {}\n};\nconst defaultSortOptions = {};\nconst defaultPaginationOptions = {\n  pagination: {\n    from: 0,\n    size: 10\n  }\n};\nconst defaultInitialListOptions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, defaultAccountOptions), defaultSearchOptions), defaultFilterOptions), defaultSortOptions), defaultPaginationOptions), {\n  onLoad: OnLoadAction.Replace\n});\nconst defaultInitialExportOptions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, defaultAccountOptions), defaultSearchOptions), defaultFilterOptions), defaultSortOptions), {\n  exportType: 'csv',\n  locale: 'en-US'\n});\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\nvar TransactionsFilterOptions;\n\n(function (TransactionsFilterOptions) {\n  function isEmpty(options) {\n    return Object.values(options).filter(value => typeof value !== 'undefined').every(value => !value || typeof value === 'object' && isEmpty(value));\n  }\n\n  TransactionsFilterOptions.isEmpty = isEmpty; // converts a Date object to `dddd-MM-yy` string format\n  // eslint-disable-next-line complexity\n\n  const formatDate = date => {\n    const year = date.getFullYear().toString();\n    const month = (date.getMonth() + 1).toString();\n    const day = date.getDate().toString();\n    return `${year}-${month[1] ? month : '0' + month[0]}-${day[1] ? day : '0' + day[0]}`;\n  };\n\n  function toHttpGetParams(options = {}) {\n    const params = {};\n\n    const setIfExists = (paramName, conditionFn, valueFn) => {\n      if (conditionFn(options)) {\n        params[paramName] = valueFn(options);\n      }\n    };\n\n    setIfExists('creditDebitIndicator', option => option.creditDebitIndicator !== undefined && option.creditDebitIndicator.value !== undefined, option => option.creditDebitIndicator.value);\n    setIfExists('types', option => option.type !== undefined && option.type.value !== undefined, option => Array.isArray(option.type.value) ? option.type.value : [option.type.value]);\n    setIfExists('billingStatus', option => option.billingStatus !== undefined && option.billingStatus.value !== undefined, option => option.billingStatus.value);\n    setIfExists('amountGreaterThan', option => option.amount && option.amount.from, option => option.amount.from);\n    setIfExists('amountLessThan', option => option.amount && option.amount.to, option => option.amount.to);\n    setIfExists('bookingDateGreaterThan', option => option.date && option.date.from && Object.keys(option.date.from).length, option => formatDate(new Date(option.date.from)));\n    setIfExists('bookingDateLessThan', option => option.date && option.date.to && Object.keys(option.date.to).length, option => formatDate(new Date(option.date.to)));\n    setIfExists('fromCheckSerialNumber', option => option.checkSerialNumber && option.checkSerialNumber.from, option => option.checkSerialNumber.from);\n    setIfExists('toCheckSerialNumber', option => option.checkSerialNumber && option.checkSerialNumber.to, option => option.checkSerialNumber.to);\n    return params;\n  }\n\n  TransactionsFilterOptions.toHttpGetParams = toHttpGetParams; // eslint-disable-next-line complexity\n\n  function fromHttpGetParams(params) {\n    const options = {};\n\n    if (params.creditDebitIndicator) {\n      options.creditDebitIndicator = {\n        value: params.creditDebitIndicator\n      };\n    }\n\n    if (params.type) {\n      if (Array.isArray(params.type)) {\n        options.types = params.type.map(value => ({\n          value\n        }));\n      } else {\n        options.types = {\n          value: params.type\n        };\n      }\n    }\n\n    if (params.billingStatus) {\n      options.billingStatus = {\n        value: params.billingStatus\n      };\n    }\n\n    if (params.amountGreaterThan) {\n      options.amount = {\n        from: parseInt(params.amountGreaterThan, 10)\n      };\n    }\n\n    if (params.amountLessThan) {\n      options.amount = Object.assign(Object.assign({}, options.amount), {\n        to: parseInt(params.amountLessThan, 10)\n      });\n    }\n\n    if (params.bookingDateGreaterThan) {\n      options.date = {\n        from: params.bookingDateGreaterThan\n      };\n    }\n\n    if (params.bookingDateLessThan) {\n      options.date = Object.assign(Object.assign({}, options.date), {\n        to: params.bookingDateLessThan\n      });\n    }\n\n    if (params.fromCheckSerialNumber) {\n      options.checkSerialNumber = {\n        from: parseInt(params.fromCheckSerialNumber, 10)\n      };\n    }\n\n    if (params.toCheckSerialNumber) {\n      options.checkSerialNumber = Object.assign(Object.assign({}, options.checkSerialNumber), {\n        to: parseInt(params.toCheckSerialNumber, 10)\n      });\n    }\n\n    return options;\n  }\n\n  TransactionsFilterOptions.fromHttpGetParams = fromHttpGetParams;\n})(TransactionsFilterOptions || (TransactionsFilterOptions = {}));\n/* eslint-enable no-redeclare*/\n\n\nvar AvailableFilterEnum;\n\n(function (AvailableFilterEnum) {\n  AvailableFilterEnum[\"CreditDebitIndicator\"] = \"creditDebitIndicator\";\n  AvailableFilterEnum[\"Types\"] = \"types\";\n  AvailableFilterEnum[\"BillingStatus\"] = \"billingStatus\";\n  AvailableFilterEnum[\"Amount\"] = \"amount\";\n  AvailableFilterEnum[\"Date\"] = \"date\";\n  AvailableFilterEnum[\"Categories\"] = \"categories\";\n  AvailableFilterEnum[\"CheckSerialNumber\"] = \"checkSerialNumber\";\n})(AvailableFilterEnum || (AvailableFilterEnum = {}));\n/**\n * Dropdown values for credit/debit indicator filter.\n */\n\n\nconst creditDebitIndicatorEnumValues = [{\n  name: 'All'\n}, {\n  value: 'CRDT',\n  name: 'Credit'\n}, {\n  value: 'DBIT',\n  name: 'Debit'\n}];\n/**\n * Fallback dropdown values for transaction type filter.\n */\n\nconst defaultTransactionTypeEnumValues = [{\n  value: 'ATM',\n  name: 'ATM'\n}, {\n  value: 'ACH',\n  name: 'Ach'\n}, {\n  value: 'Bill Payment',\n  name: 'Bill Payment'\n}, {\n  value: 'Cash',\n  name: 'Cash'\n}, {\n  name: 'Cheques',\n  value: 'Cheques'\n}, {\n  value: 'CreditDebit Card',\n  name: 'Credit/Debit Card'\n}, {\n  value: 'Check',\n  name: 'Check'\n}, {\n  value: 'Deposit',\n  name: 'Deposit'\n}, {\n  value: 'Fee',\n  name: 'Fee'\n}, {\n  value: 'POS',\n  name: 'POS'\n}, {\n  value: 'Withdrawal',\n  name: 'Withdrawal'\n}];\n/**\n * Fallback dropdown values for billing status filter.\n */\n\nconst defaultBillingStatusEnumValues = [{\n  value: 'PENDING',\n  name: 'Pending'\n}, {\n  value: 'BILLED',\n  name: 'Billed'\n}, {\n  value: 'UNBILLED',\n  name: 'Unbilled'\n}];\n/**\n * Name of different check images status\n */\n\nvar CheckImagesAvailability;\n\n(function (CheckImagesAvailability) {\n  CheckImagesAvailability[\"available\"] = \"AVAILABLE\";\n  CheckImagesAvailability[\"unavailable\"] = \"UNAVAILABLE\";\n})(CheckImagesAvailability || (CheckImagesAvailability = {}));\n\nvar BillingStatusEnum;\n\n(function (BillingStatusEnum) {\n  BillingStatusEnum[\"billed\"] = \"BILLED\";\n  BillingStatusEnum[\"unbilled\"] = \"UNBILLED\";\n  BillingStatusEnum[\"pending\"] = \"PENDING\";\n})(BillingStatusEnum || (BillingStatusEnum = {}));\n/**\n * Name of response header that contains the total amount of results.\n */\n\n\nconst totalCountHeader = 'X-Total-Count';\n/**\n * Name of response header that contains the available export types.\n */\n\nconst availableExportTypes = 'X-Available-Export-Types';\nconst unvailableExportTypesReasons = 'X-Unavailable-Export-Types-Reasons';\n/**\n * Name of response header that contains the sort configuration.\n */\n\nconst sortFieldsDirectionHeader = 'X-Sort-Fields-Direction';\n/**\n * Notification time to live in ms.\n */\n\nconst notificationTtl = 5000;\n/**\n * Which category level should be retrieved for category change modal list.\n */\n\nconst categoryListLevelParam = 'PARENTS';\nconst defaultAvailableFiltersConfig = {\n  'Current Account': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount, AvailableFilterEnum.Types, AvailableFilterEnum.BillingStatus, AvailableFilterEnum.CheckSerialNumber],\n  'Savings Account': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount, AvailableFilterEnum.Types, AvailableFilterEnum.BillingStatus, AvailableFilterEnum.CheckSerialNumber],\n  'Credit Card': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount, AvailableFilterEnum.Types, AvailableFilterEnum.BillingStatus],\n  Loan: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Term Deposit': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Debit Card': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  'Investment Account': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n  defaultFilters: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount]\n};\n\nconst deserialize = propertyValue => {\n  const params = propertyValue.split('&');\n  return params.reduce((acc, param) => {\n    const [key, val] = param.split('=');\n    return Object.assign(Object.assign({}, acc), {\n      [decodeURIComponent(key)]: decodeURIComponent(val)\n    });\n  }, {});\n};\n\nconst parseSortOptions = propertyValue => {\n  if (!propertyValue.length) {\n    return undefined;\n  }\n\n  const sortOption = propertyValue.split(',')[0].trim().replace(/\\s{2,}/g, ' ');\n  const [orderBy, direction] = sortOption.split(' ');\n\n  if (!orderBy || direction !== 'ASC' && direction !== 'DESC') {\n    throw new Error(`Invalid value for \"initialSortOptions\" property.\n      Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\", or leave it empty.`);\n  }\n\n  return {\n    orderBy,\n    direction\n  };\n};\n\nconst filterInputParameters = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => inputVal !== null && inputVal !== void 0 ? inputVal : propVal));\n\nconst b64Encode = str => btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (_match, p1) {\n  return String.fromCharCode(parseInt(p1, 16));\n}));\n\nconst truncateDate = date => new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\nconst daysDiff = (date1, date2) => {\n  const diff = truncateDate(new Date(date1)).getTime() - truncateDate(new Date(date2)).getTime();\n  return Math.ceil(diff / (1000 * 3600 * 24));\n};\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsList;\n\n(function (TransactionsList) {\n  // eslint-disable-next-line complexity\n  const processTransaction = transaction => {\n    const amountSign = transaction.creditDebitIndicator === 'DBIT' ? -1 : 1;\n    const formattedTransaction = Object.assign(Object.assign(Object.assign({}, transaction), {\n      isPending: function isPending(data) {\n        let result = false;\n\n        if (data && data.billingStatus) {\n          const billingStatus = data.billingStatus.toUpperCase();\n          result = billingStatus === BillingStatusEnum.pending || billingStatus === BillingStatusEnum.unbilled;\n        }\n\n        return result;\n      }(transaction)\n    }), transaction.merchant ? {\n      merchant: Object.assign(Object.assign({\n        id: transaction.merchant.id,\n        name: transaction.merchant.name\n      }, transaction.merchant.logo ? {\n        logo: transaction.merchant.logo\n      } : {}), transaction.merchant.website ? {\n        website: transaction.merchant.website\n      } : {})\n    } : {});\n\n    if (transaction.transactionAmountCurrency) {\n      const amountNumber = parseFloat(transaction.transactionAmountCurrency.amount);\n      formattedTransaction.transactionAmountCurrency = Object.assign(Object.assign({}, transaction.transactionAmountCurrency), {\n        unsignedAmount: amountNumber,\n        amount: (amountSign * (amountNumber || 0)).toString()\n      });\n    }\n\n    if (transaction.instructedAmountCurrency) {\n      const amountNumber = parseFloat(transaction.instructedAmountCurrency.amount);\n      formattedTransaction.instructedAmountCurrency = Object.assign(Object.assign({}, transaction.instructedAmountCurrency), {\n        unsignedAmount: amountNumber,\n        amount: (amountSign * (amountNumber || 0)).toString()\n      });\n    }\n\n    formattedTransaction.currencyExchangeAvailability = !!transaction.instructedAmountCurrency && !!transaction.transactionAmountCurrency && !!transaction.currencyExchangeRate;\n    return formattedTransaction;\n  };\n\n  const processTransactions = transactionsList => Object.assign(Object.assign({}, transactionsList), {\n    items: transactionsList.items.map(processTransaction)\n  });\n\n  const processTotalCountHeader = totalCount => totalCount ? parseInt(totalCount, 10) : 0;\n\n  const processAvailableExportTypes = availableExports => availableExports || '';\n\n  const processUnavailableExportTypesReasons = unavilableExportTypesReasonsValue => JSON.parse(unavilableExportTypesReasonsValue || '{}');\n\n  const processSortFieldsDirectionHeader = sortFieldsDirection => {\n    if (sortFieldsDirection === null || !sortFieldsDirection.length) {\n      return undefined;\n    }\n\n    const sortOption = sortFieldsDirection.split(',')[0].trim().replace(/\\s{2,}/g, ' ');\n    const [orderBy, direction] = sortOption.split(' ');\n\n    if (!orderBy || direction !== 'ASC' && direction !== 'DESC') {\n      throw new Error(`Invalid value for \"initialSortOptions\" property.\n        Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\",\n        or leave it empty.`);\n    }\n\n    return {\n      orderBy,\n      direction\n    };\n  }; // eslint-disable-next-line no-inner-declarations\n\n\n  function padValueWithZeros(value, size = 2) {\n    return (value + '').padStart(size, '0');\n  } // eslint-disable-next-line no-inner-declarations\n\n\n  function formatDate(date) {\n    const safeDate = date || '';\n\n    if (/^[0-9]{4}-[0-9]{2}-[0-9]{2}/.exec(safeDate)) {\n      const localDate = new Date(safeDate);\n      const month = padValueWithZeros(localDate.getMonth() + 1);\n      const day = padValueWithZeros(localDate.getDate());\n      const year = localDate.getFullYear();\n      return `${year}-${month}-${day}`;\n    } else if (date !== undefined) {\n      console.error(`invalid date provided ${date}`);\n    }\n\n    return undefined;\n  }\n\n  TransactionsList.fromHttpResponse = response => {\n    const totalCount = processTotalCountHeader(response.headers.get(totalCountHeader));\n    const sort = processSortFieldsDirectionHeader(response.headers.get(sortFieldsDirectionHeader));\n    const availableExportTypesHeader = processAvailableExportTypes(response.headers.get(availableExportTypes));\n    const unavailableExportTypesReasonsHeader = processUnavailableExportTypesReasons(response.headers.get(unvailableExportTypesReasons));\n    return processTransactions(Object.assign(Object.assign({\n      items: response.body || [],\n      totalCount\n    }, sort ? {\n      sort\n    } : {}), {\n      availableExportTypesHeader,\n      unavailableExportTypesReasonsHeader\n    }));\n  };\n\n  TransactionsList.concat = (transactionsList1, transactionsList2) => {\n    if (transactionsList2.httpResponseError) {\n      return Object.assign(Object.assign({}, transactionsList1), {\n        items: [...transactionsList1.items],\n        httpResponseError: transactionsList2.httpResponseError\n      });\n    }\n\n    return Object.assign(Object.assign(Object.assign(Object.assign({\n      items: [...transactionsList1.items, ...transactionsList2.items],\n      totalCount: transactionsList1.totalCount\n    }, transactionsList2.sort ? {\n      sort: transactionsList2.sort\n    } : {}), transactionsList2.availableExportTypesHeader ? {\n      availableExportTypesHeader: transactionsList2.availableExportTypesHeader\n    } : {}), transactionsList2.unavailableExportTypesReasonsHeader ? {\n      unavailableExportTypesReasonsHeader: transactionsList2.unavailableExportTypesReasonsHeader\n    } : {}), {\n      httpResponseError: transactionsList2.httpResponseError\n    });\n  };\n\n  TransactionsList.hasLoadedAll = transactionsList => transactionsList.items.length === transactionsList.totalCount;\n\n  TransactionsList.toHttpRequest = listOptions => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2;\n\n    const turnIntoArrayObject = (value, name, fn) => {\n      if (!value) {\n        return {};\n      }\n\n      return Array.isArray(value) ? {\n        [name]: fn(value)\n      } : {\n        [name]: [fn(value)]\n      };\n    };\n\n    const optionalItem = (name, value) => value !== undefined ? {\n      [name]: value\n    } : {};\n\n    const isTransactionListOption = data => Object.prototype.hasOwnProperty.call(data, 'pagination');\n\n    const isTransactionExportOptions = data => Object.prototype.hasOwnProperty.call(data, 'exportType');\n\n    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, turnIntoArrayObject(listOptions.account.arrangementId, 'arrangementsIds', value => value)), optionalItem('query', (_a = listOptions.search) === null || _a === void 0 ? void 0 : _a.query)), optionalItem('amountGreaterThan', (_c = (_b = listOptions.filter) === null || _b === void 0 ? void 0 : _b.amount) === null || _c === void 0 ? void 0 : _c.from)), optionalItem('amountLessThan', (_e = (_d = listOptions.filter) === null || _d === void 0 ? void 0 : _d.amount) === null || _e === void 0 ? void 0 : _e.to)), optionalItem('bookingDateGreaterThan', ((_g = (_f = listOptions.filter) === null || _f === void 0 ? void 0 : _f.date) === null || _g === void 0 ? void 0 : _g.from) === '' ? undefined : formatDate((_j = (_h = listOptions.filter) === null || _h === void 0 ? void 0 : _h.date) === null || _j === void 0 ? void 0 : _j.from))), optionalItem('bookingDateLessThan', ((_l = (_k = listOptions.filter) === null || _k === void 0 ? void 0 : _k.date) === null || _l === void 0 ? void 0 : _l.to) === '' ? undefined : formatDate((_o = (_m = listOptions.filter) === null || _m === void 0 ? void 0 : _m.date) === null || _o === void 0 ? void 0 : _o.to))), optionalItem('categories', (_p = listOptions.filter) === null || _p === void 0 ? void 0 : _p.categories)), optionalItem('fromCheckSerialNumber', (_r = (_q = listOptions.filter) === null || _q === void 0 ? void 0 : _q.checkSerialNumber) === null || _r === void 0 ? void 0 : _r.from)), optionalItem('toCheckSerialNumber', (_t = (_s = listOptions.filter) === null || _s === void 0 ? void 0 : _s.checkSerialNumber) === null || _t === void 0 ? void 0 : _t.to)), optionalItem('orderBy', (_u = listOptions.sort) === null || _u === void 0 ? void 0 : _u.orderBy)), optionalItem('direction', (_v = listOptions.sort) === null || _v === void 0 ? void 0 : _v.direction)), optionalItem('state', isTransactionListOption(listOptions) ? listOptions.state : undefined)), optionalItem('from', isTransactionListOption(listOptions) ? (_w = listOptions.pagination) === null || _w === void 0 ? void 0 : _w.from : undefined)), optionalItem('size', isTransactionListOption(listOptions) ? (_x = listOptions.pagination) === null || _x === void 0 ? void 0 : _x.size : undefined)), optionalItem('billingStatus', (_z = (_y = listOptions.filter) === null || _y === void 0 ? void 0 : _y.billingStatus) === null || _z === void 0 ? void 0 : _z.value)), optionalItem('creditDebitIndicator', (_1 = (_0 = listOptions.filter) === null || _0 === void 0 ? void 0 : _0.creditDebitIndicator) === null || _1 === void 0 ? void 0 : _1.value)), optionalItem('exportType', isTransactionExportOptions(listOptions) ? listOptions.exportType : undefined)), optionalItem('locale', isTransactionExportOptions(listOptions) ? listOptions.locale : undefined)), turnIntoArrayObject((_2 = listOptions.filter) === null || _2 === void 0 ? void 0 : _2.types, 'types', value => value.value));\n  };\n})(TransactionsList || (TransactionsList = {}));\n/* eslint-enable no-redeclare*/\n\n\nfunction fromArrangementsResponse(response) {\n  return (response.body || []).map(item => ({\n    id: item.id,\n    name: item.name,\n    displayName: item.displayName,\n    alias: item.bankAlias,\n    IBAN: item.IBAN,\n    BBAN: item.BBAN,\n    currency: item.currency\n  }));\n}\n\nclass AccountsService {\n  constructor(productSummaryDataHttpService) {\n    this.productSummaryDataHttpService = productSummaryDataHttpService;\n  }\n\n  getAllArrangements() {\n    return this.productSummaryDataHttpService.getArrangementsByBusinessFunction({\n      businessFunction: 'Product Summary',\n      resourceName: 'Product Summary',\n      privilege: 'view',\n      size: 1000000\n    }, 'response').pipe(map(fromArrangementsResponse));\n  }\n\n  getProductSummary() {\n    return this.productSummaryDataHttpService.getArrangementsByBusinessFunction({\n      businessFunction: 'Product Summary',\n      resourceName: 'Product Summary',\n      privilege: 'view',\n      size: 1000000\n    }, 'body');\n  }\n\n}\n\nAccountsService.ɵfac = function AccountsService_Factory(t) {\n  return new (t || AccountsService)(i0.ɵɵinject(i1.ProductSummaryHttpService));\n};\n\nAccountsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AccountsService,\n  factory: AccountsService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AccountsService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.ProductSummaryHttpService\n    }];\n  }, null);\n})();\n\nconst deepEqual = (x, y) => {\n  const ok = Object.keys;\n  const tx = typeof x;\n  const ty = typeof y;\n  return x && y && tx === 'object' && tx === ty ? ok(x).length === ok(y).length && ok(x).every(key => deepEqual(x[key], y[key])) : x === y;\n};\n\nconst cacheRequest = request => source => source.pipe(switchMap(request), publishReplay(1), refCount());\n\nconst multipleAccountsPredicate = listOptions => () => Array.isArray(listOptions.account.arrangementId) && listOptions.account.arrangementId.length > 1;\n\nconst onLoadTransactions = (acc, curr) => curr.onLoad === OnLoadAction.Append ? TransactionsList.concat(acc, curr.transactionsList) : curr.transactionsList;\n\nconst getNameFromContentDispositionHeader = response => {\n  const contentDisposition = response.headers.get('Content-Disposition');\n  let fileName = '';\n\n  if (contentDisposition) {\n    const result = /filename[^;=\\n]*=(?:(\\\\?['\"])(.*?)\\1|(?:[^\\s]+'.*?')?([^;\\n]*))/i.exec(contentDisposition);\n    fileName = result ? result[2] : '';\n  }\n\n  return fileName;\n};\n\nconst WidgetProperties = {\n  pageSize: 'bb.transaction.pageSize',\n  maxNavPages: 'bb.transaction.maxNavPages',\n  paginationType: 'bb.transaction.paginationType',\n  initialFilterOptions: 'bb.transaction.initialFilterOptions',\n  initialSortOptions: 'bb.transaction.initialSortOptions',\n  showControls: 'bb.transaction.showControls',\n  showChangeCategory: 'bb.transaction.showChangeCategory',\n  refreshTransactionsListEvents: 'event.refreshTransactionsList',\n  showPendingTransactionsOnTop: 'bb.transaction.showPendingTransactionsOnTop',\n  showCheckImage: 'bb.transaction.showCheckImage',\n  gmapsAPIKey: 'bb.transaction.gmapsAPIKey',\n  showManageNotes: 'bb.transaction.showManageNotes',\n  getOrPostEndpoints: 'bb.transaction.getOrPostEndpoints',\n  disputeByBillingStatus: 'disputeByBillingStatus',\n  disputeEligibilityDays: 'disputeEligibilityDays',\n  disputeTransactionTypes: 'disputeTransactionTypes',\n  enableDisputeAndInquiry: 'enableDisputeAndInquiry',\n  inquireTopicId: 'inquireTopicId',\n  disputeTopicId: 'disputeTopicId'\n};\nconst defaultPageSize = 10;\nconst defaultMaxNavPage = 3;\nconst defaultInitialFilterOptions = '';\nconst defaultInitialSortOptions = '';\nvar PaginationType;\n\n(function (PaginationType) {\n  PaginationType[\"LOAD_MORE\"] = \"load-more\";\n  PaginationType[\"PAGINATION\"] = \"pagination\";\n  PaginationType[\"INFINITE_SCROLL\"] = \"infinite-scroll\";\n})(PaginationType || (PaginationType = {}));\n\nvar EndpointType;\n\n(function (EndpointType) {\n  EndpointType[\"GET_REQUEST\"] = \"get-request\";\n  EndpointType[\"POST_REQUEST\"] = \"post-request\";\n})(EndpointType || (EndpointType = {}));\n\nconst defaultModelObservable = value => defer(() => of(value)).pipe(publishReplay(1), refCount());\n\nclass WidgetPropertiesService {\n  constructor(itemModel) {\n    this.itemModel = itemModel;\n  }\n\n  get pageSize() {\n    if (!this.itemModel) {\n      return defaultModelObservable(defaultPageSize);\n    }\n\n    return this.itemModel.property(WidgetProperties.pageSize).pipe(map(propertyValue => parseInt(propertyValue, 10)), map(pageSize => pageSize > 0 ? pageSize : defaultPageSize));\n  }\n\n  get maxNavPages() {\n    if (!this.itemModel) {\n      return defaultModelObservable(defaultMaxNavPage);\n    }\n\n    return this.itemModel.property(WidgetProperties.maxNavPages).pipe(map(propertyValue => parseInt(propertyValue, 10)));\n  }\n\n  get paginationType() {\n    if (!this.itemModel) {\n      return defaultModelObservable(PaginationType.LOAD_MORE);\n    }\n\n    return this.itemModel.property(WidgetProperties.paginationType).pipe(map(propertyValue => propertyValue));\n  }\n\n  get initialFilterOptions() {\n    if (!this.itemModel) {\n      return defaultModelObservable({});\n    }\n\n    return this.itemModel.property(WidgetProperties.initialFilterOptions, defaultInitialFilterOptions).pipe(map(deserialize), map(params => TransactionsFilterOptions.fromHttpGetParams(params)));\n  }\n\n  get initialSortOptions() {\n    if (!this.itemModel) {\n      return defaultModelObservable(parseSortOptions(defaultInitialSortOptions));\n    }\n\n    return this.itemModel.property(WidgetProperties.initialSortOptions, defaultInitialSortOptions).pipe(map(parseSortOptions), catchError(err => {\n      console.warn(`initialSortOptions property ignored: ${err}`);\n      return of(undefined);\n    }));\n  }\n\n  get showControls() {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel.property(WidgetProperties.showControls).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get showChangeCategory() {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel.property(WidgetProperties.showChangeCategory).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get refreshTransactionsListEvents() {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel.property(WidgetProperties.refreshTransactionsListEvents).pipe(map(propertyValue => propertyValue));\n  }\n\n  get showPendingTransactionsOnTop() {\n    if (!this.itemModel) {\n      return defaultModelObservable(false);\n    }\n\n    return this.itemModel.property(WidgetProperties.showPendingTransactionsOnTop).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get showCheckImage() {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel.property(WidgetProperties.showCheckImage).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get showManageNotes() {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel.property(WidgetProperties.showManageNotes).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get getOrPostEndpoints() {\n    if (!this.itemModel) {\n      return defaultModelObservable(EndpointType.POST_REQUEST);\n    }\n\n    return this.itemModel.property(WidgetProperties.getOrPostEndpoints).pipe(map(propertyValue => propertyValue));\n  }\n\n  get gmapsAPIKey() {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel.property(WidgetProperties.gmapsAPIKey).pipe(map(propertyValue => propertyValue));\n  }\n\n  get disputeByBillingStatus() {\n    if (!this.itemModel) {\n      return defaultModelObservable(true);\n    }\n\n    return this.itemModel.property(WidgetProperties.disputeByBillingStatus).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get disputeEligibilityDays() {\n    if (!this.itemModel) {\n      return defaultModelObservable(120);\n    }\n\n    return this.itemModel.property(WidgetProperties.disputeEligibilityDays, '120').pipe(map(propertyValue => parseInt(propertyValue, 10)));\n  }\n\n  get disputeTransactionTypes() {\n    if (!this.itemModel) {\n      return defaultModelObservable(['Credit/Debit Card']);\n    }\n\n    return this.itemModel.property(WidgetProperties.disputeTransactionTypes, 'Credit/Debit Card').pipe(map(propertyValue => propertyValue.split(',')));\n  }\n\n  get enableDisputeAndInquiry() {\n    if (!this.itemModel) {\n      return defaultModelObservable(false);\n    }\n\n    return this.itemModel.property(WidgetProperties.enableDisputeAndInquiry).pipe(map(propertyValue => typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true'));\n  }\n\n  get inquireTopicId() {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel.property(WidgetProperties.inquireTopicId).pipe(map(propertyValue => propertyValue));\n  }\n\n  get disputeTopicId() {\n    if (!this.itemModel) {\n      return defaultModelObservable('');\n    }\n\n    return this.itemModel.property(WidgetProperties.disputeTopicId).pipe(map(propertyValue => propertyValue));\n  }\n\n}\n\nWidgetPropertiesService.ɵfac = function WidgetPropertiesService_Factory(t) {\n  return new (t || WidgetPropertiesService)(i0.ɵɵinject(i3.ItemModel, 8));\n};\n\nWidgetPropertiesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: WidgetPropertiesService,\n  factory: WidgetPropertiesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(WidgetPropertiesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i3.ItemModel,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nvar LoadingState;\n\n(function (LoadingState) {\n  LoadingState[\"NotLoaded\"] = \"NotLoaded\";\n  LoadingState[\"LoadingMore\"] = \"LoadingMore\";\n  LoadingState[\"LoadingPage\"] = \"LoadingPage\";\n  LoadingState[\"Loading\"] = \"Loading\";\n  LoadingState[\"Loaded\"] = \"Loaded\";\n})(LoadingState || (LoadingState = {}));\n\nconst showDetailsConfigToken = new InjectionToken('shows the transactions details modal');\n\nclass TransactionsService {\n  constructor(transactionsDataHttpService, accountService, deprecationsService, locale) {\n    this.transactionsDataHttpService = transactionsDataHttpService;\n    this.accountService = accountService;\n    this.deprecationsService = deprecationsService;\n    this.locale = locale;\n    this.selectedAccount = new ReplaySubject(1);\n    this.pageSize = new ReplaySubject(1);\n    this.initialListOptions = new ReplaySubject(1);\n    this.options = new BehaviorSubject({});\n    this.listRefresh = new Subject();\n    this.listOptions = new BehaviorSubject(defaultInitialListOptions);\n    this.exportOptions = new BehaviorSubject(defaultInitialExportOptions);\n    this.showPendingTransactionsOnTop = new ReplaySubject(1);\n    this.getOrPostEndpoint = new BehaviorSubject(EndpointType.GET_REQUEST);\n    this.transactionsList = merge(this.listOptions.pipe(filter(listOptions => typeof listOptions.account.arrangementId !== 'undefined'), distinctUntilChanged(deepEqual)), this.listRefresh).pipe(cacheRequest(listOptions => {\n      this.loadingState.next(listOptions.onLoad === OnLoadAction.Append ? LoadingState.LoadingMore : listOptions.onLoad === OnLoadAction.ReplacePage ? LoadingState.LoadingPage : LoadingState.Loading);\n      return combineLatest([this.loadTransactions(listOptions).pipe(tap(() => {\n        this.loadingState.next(LoadingState.Loaded);\n      }), map(transactionsList => ({\n        transactionsList,\n        onLoad: listOptions.onLoad\n      }))), iif(multipleAccountsPredicate(listOptions), this.accountService.getAllArrangements().pipe(map(accounts => {\n        const accountMap = new Map();\n        accounts.forEach(account => {\n          accountMap.set(account.id, account);\n        });\n        return accountMap;\n      })), of(new Map())), this.isFilterApplied, this.isSearchApplied]).pipe(map(([transactions, accountMap, isFilterApplied, isSearchApplied]) => {\n        transactions.transactionsList.items = transactions.transactionsList.items.map(transaction => Object.assign(Object.assign({}, transaction), {\n          account: accountMap.get(transaction.arrangementId || '')\n        }));\n        transactions.transactionsList.initialRequest = !(isFilterApplied || isSearchApplied);\n        return transactions;\n      }));\n    }), scan(onLoadTransactions, {\n      items: [],\n      totalCount: 0\n    }));\n    this.loadingState = new BehaviorSubject(LoadingState.NotLoaded);\n    this.isFilterApplied = this.listOptions.pipe(map(options => !TransactionsFilterOptions.isEmpty(options.filter || {})));\n    this.isSearchApplied = this.listOptions.pipe(map(options => !TransactionsFilterOptions.isEmpty(options.search || {}))); // Base this.options on this.selectedAccount, this.pageSize, this.initialListOptions\n\n    combineLatest([this.selectedAccount, this.pageSize, this.initialListOptions, this.showPendingTransactionsOnTop]).pipe(map(([selectedAccount, pageSize, initialListOptions, showPendingTransactionsOnTop]) => Object.assign(Object.assign(Object.assign({}, showPendingTransactionsOnTop ? {\n      state: TransactionState.completed\n    } : {}), {\n      account: {\n        arrangementId: selectedAccount\n      },\n      pagination: {\n        from: 0,\n        size: pageSize\n      },\n      onLoad: OnLoadAction.Replace\n    }), initialListOptions))).subscribe(this.options); // Base this.listOptions on this.options\n\n    this.options.pipe(scan((acc, curr) => Object.assign({}, acc, curr), defaultInitialListOptions)).subscribe(this.listOptions); // Base this.exportOptions on this.listOptions\n\n    this.listOptions.pipe(filter(listOptions => typeof listOptions.account.arrangementId !== 'undefined'), map(params => Object.assign(Object.assign({}, params), {\n      pagination: undefined,\n      state: undefined,\n      exportType: 'csv',\n      locale: 'en-US'\n    }))).subscribe(this.exportOptions);\n  }\n\n  loadTransactions(listOptions) {\n    const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n    let transactionsResponse;\n\n    if (this.isUsingPostEndpoints) {\n      transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost({\n        transactionListRequest: transactionPayload\n      }, 'response');\n    } else {\n      this.deprecationsService.logDeprecatedFeature('[TransactionsService: loadTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration');\n      transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n    }\n\n    return transactionsResponse.pipe(map(TransactionsList.fromHttpResponse), catchError(err => of({\n      items: [],\n      totalCount: 0,\n      httpResponseError: err\n    })));\n  }\n\n  exportTransactions(exportOptions) {\n    const exportPayload = TransactionsList.toHttpRequest(Object.assign(Object.assign({}, exportOptions), {\n      locale: this.locale\n    }));\n\n    if (this.isUsingPostEndpoints) {\n      return this.transactionsDataHttpService.getTransactionsExportWithPost({\n        transactionListRequest: exportPayload\n      }, 'response');\n    } else {\n      this.deprecationsService.logDeprecatedFeature('[TransactionsService: exportTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration');\n      return this.transactionsDataHttpService.getTransactionsExport(exportPayload, 'response');\n    }\n  }\n\n  search(query) {\n    const searchOptions = {\n      query\n    };\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), {\n      pagination: paginationOptions,\n      search: searchOptions,\n      onLoad: OnLoadAction.Replace\n    }));\n  }\n\n  clearSearch() {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), {\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Replace\n    }));\n  }\n\n  filter(filterOptions) {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), {\n      pagination: paginationOptions,\n      filter: Object.assign({}, filterOptions),\n      onLoad: OnLoadAction.Replace\n    }));\n  }\n\n  clearFilter() {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), {\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Replace\n    }));\n  }\n\n  exportToType(type) {\n    return this.exportOptions.pipe(first(), switchMap(exportOptions => this.exportTransactions(Object.assign(Object.assign({}, exportOptions), {\n      exportType: type\n    }))));\n  }\n\n  loadMore() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), {\n      from: currentPaginationOptions.from + 1\n    });\n    this.options.next({\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.Append\n    });\n  }\n\n  sort(sortOptions) {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    this.options.next({\n      sort: Object.assign({}, sortOptions),\n      pagination: Object.assign(Object.assign({}, currentPaginationOptions), {\n        from: 0\n      }),\n      onLoad: OnLoadAction.ReplacePage\n    });\n  }\n\n  pageChange(page) {\n    const paginationOptions = Object.assign(Object.assign(Object.assign({}, defaultPaginationOptions.pagination), this.options.getValue().pagination), {\n      from: page\n    });\n    this.options.next({\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.ReplacePage\n    });\n  }\n\n  getTransactionsFrom(selectedAccount, pageSize, initialListOptions = of({}), showPendingTransactionsOnTop = of(false), getOrPostEndpoint = of(EndpointType.GET_REQUEST)) {\n    selectedAccount.subscribe(this.selectedAccount);\n    pageSize.subscribe(this.pageSize);\n    initialListOptions.subscribe(this.initialListOptions);\n    showPendingTransactionsOnTop.subscribe(this.showPendingTransactionsOnTop);\n    getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n  }\n\n  getCurrentPage() {\n    return this.listOptions.pipe(map(options => (options.pagination || defaultPaginationOptions.pagination).from));\n  }\n\n  getTransactionsList() {\n    return this.transactionsList;\n  }\n\n  retryFiltering() {\n    this.listRefresh.next(this.listOptions.getValue());\n  }\n\n  refreshTransactions() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), {\n      from: 0\n    });\n    const newOptions = Object.assign(Object.assign({}, this.listOptions.getValue()), {\n      pagination: paginationOptions,\n      onLoad: OnLoadAction.ReplacePage\n    });\n\n    if (deepEqual(newOptions, this.listOptions.getValue())) {\n      this.listRefresh.next(this.listOptions.getValue());\n    } else {\n      this.options.next({\n        pagination: paginationOptions,\n        onLoad: OnLoadAction.ReplacePage\n      });\n    }\n  }\n\n  get isUsingPostEndpoints() {\n    return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n  }\n\n  ngOnDestroy() {\n    this.listRefresh.complete();\n    this.selectedAccount.complete();\n    this.pageSize.complete();\n    this.initialListOptions.complete();\n    this.options.complete();\n    this.listOptions.complete();\n    this.exportOptions.complete();\n    this.showPendingTransactionsOnTop.complete();\n    this.loadingState.complete();\n    this.getOrPostEndpoint.complete();\n  }\n\n}\n\nTransactionsService.ɵfac = function TransactionsService_Factory(t) {\n  return new (t || TransactionsService)(i0.ɵɵinject(i1$1.TransactionClientHttpService), i0.ɵɵinject(AccountsService), i0.ɵɵinject(i3.DeprecationsService), i0.ɵɵinject(LOCALE_ID));\n};\n\nTransactionsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TransactionsService,\n  factory: TransactionsService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.TransactionClientHttpService\n    }, {\n      type: AccountsService\n    }, {\n      type: i3.DeprecationsService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCALE_ID]\n      }]\n    }];\n  }, null);\n})();\n\nclass TransactionsNumberOfResultsFoundComponent {\n  constructor() {\n    /**\n     * Reference to instance of customizable component.\n     */\n    this.hostRef = this;\n    /**\n     * Number of results found after filtering or searching.\n     */\n\n    this.numberOfResultsFound = 0;\n    /**\n     * The loading state of the transactions list.\n     */\n\n    this.loadingState = LoadingState.NotLoaded;\n    /**\n     * Whether filter is applied or not.\n     */\n\n    this.isFilterApplied = false;\n    /**\n     * Whether search is applied or not.\n     */\n\n    this.isSearchApplied = false;\n  }\n  /**\n   * Whether loading has finished or not.\n   */\n\n\n  get isLoaded() {\n    return this.loadingState === LoadingState.Loaded;\n  }\n\n}\n\nTransactionsNumberOfResultsFoundComponent.ɵfac = function TransactionsNumberOfResultsFoundComponent_Factory(t) {\n  return new (t || TransactionsNumberOfResultsFoundComponent)();\n};\n\nTransactionsNumberOfResultsFoundComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionsNumberOfResultsFoundComponent,\n  selectors: [[\"bb-transactions-number-of-results-found\"]],\n  inputs: {\n    numberOfResultsFound: \"numberOfResultsFound\",\n    loadingState: \"loadingState\",\n    isFilterApplied: \"isFilterApplied\",\n    isSearchApplied: \"isSearchApplied\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: function () {\n    let i18n_1;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___2 = goog.getMsg(\"{VAR_PLURAL, plural, =0 {No results} =1 {1 result} other {{INTERPOLATION} results}}\");\n      i18n_1 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___2;\n    } else {\n      i18n_1 = $localize`{VAR_PLURAL, plural, =0 {No results} =1 {1 result} other {{INTERPOLATION} results}}`;\n    }\n\n    i18n_1 = i0.ɵɵi18nPostprocess(i18n_1, {\n      \"VAR_PLURAL\": \"\\uFFFD0\\uFFFD\",\n      \"INTERPOLATION\": \"\\uFFFD1\\uFFFD\"\n    });\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Number of results found for the applied filter\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___3 = goog.getMsg(\" {$icu} found \", {\n        \"icu\": i18n_1\n      });\n      i18n_0 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___3;\n    } else {\n      i18n_0 = $localize`:Number of results found for the applied filter@@transactions.list.numberOfResultsFound: ${i18n_1}:ICU: found `;\n    }\n\n    return [[\"bbTransactionsNumberOfResultsFoundCustomizable\", \"\", 3, \"bbHostRef\"], [\"bbTransactionsNumberOfResultsFoundCustomizable\", \"\"], [\"class\", \"bb-card__header bb-subtitle\", \"aria-live\", \"assertive\", 3, \"ngClass\", 4, \"ngIf\"], [\"aria-live\", \"assertive\", 1, \"bb-card__header\", \"bb-subtitle\", 3, \"ngClass\"], i18n_0];\n  },\n  template: function TransactionsNumberOfResultsFoundComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, TransactionsNumberOfResultsFoundComponent_ng_template_1_Template, 1, 1, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx.hostRef);\n    }\n  },\n  directives: function () {\n    return [TransactionsNumberOfResultsFoundCustomizableDirective, i2.NgIf, i2.NgClass];\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsNumberOfResultsFoundComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transactions-number-of-results-found',\n      templateUrl: 'transactions-number-of-results-found.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    numberOfResultsFound: [{\n      type: Input\n    }],\n    loadingState: [{\n      type: Input\n    }],\n    isFilterApplied: [{\n      type: Input\n    }],\n    isSearchApplied: [{\n      type: Input\n    }]\n  });\n})();\n\nclass TransactionsNumberOfResultsFoundCustomizableDirective extends BbTemplate {}\n\nTransactionsNumberOfResultsFoundCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵTransactionsNumberOfResultsFoundCustomizableDirective_BaseFactory;\n  return function TransactionsNumberOfResultsFoundCustomizableDirective_Factory(t) {\n    return (ɵTransactionsNumberOfResultsFoundCustomizableDirective_BaseFactory || (ɵTransactionsNumberOfResultsFoundCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TransactionsNumberOfResultsFoundCustomizableDirective)))(t || TransactionsNumberOfResultsFoundCustomizableDirective);\n  };\n}();\n\nTransactionsNumberOfResultsFoundCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TransactionsNumberOfResultsFoundCustomizableDirective,\n  selectors: [[\"\", \"bbTransactionsNumberOfResultsFoundCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsNumberOfResultsFoundCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbTransactionsNumberOfResultsFoundCustomizable]'\n    }]\n  }], null, null);\n})();\n\nvar TransactionsCheckImageType;\n\n(function (TransactionsCheckImageType) {\n  TransactionsCheckImageType[\"PNG\"] = \"image/png\";\n  TransactionsCheckImageType[\"JPEG\"] = \"image/jpeg\";\n})(TransactionsCheckImageType || (TransactionsCheckImageType = {}));\n\nvar TransactionsCheckImageSide;\n\n(function (TransactionsCheckImageSide) {\n  TransactionsCheckImageSide[\"FRONT\"] = \"FRONT\";\n  TransactionsCheckImageSide[\"BACK\"] = \"BACK\";\n})(TransactionsCheckImageSide || (TransactionsCheckImageSide = {})); //eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsCheckImages;\n\n(function (TransactionsCheckImages) {\n  // eslint-disable-next-line no-inner-declarations\n  function processImages(imageObject) {\n    return {\n      side: imageObject.side,\n      mimeType: imageObject.mimeType,\n      content: imageObject.content\n    };\n  }\n\n  function fromHttpResponse(response) {\n    const imagesArray = response.body && response.body.images || [];\n    const mappedImages = imagesArray.map(processImages);\n    return {\n      images: mappedImages\n    };\n  }\n\n  TransactionsCheckImages.fromHttpResponse = fromHttpResponse;\n})(TransactionsCheckImages || (TransactionsCheckImages = {}));\n\nvar TransactionsDetailsLoadingState;\n\n(function (TransactionsDetailsLoadingState) {\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"error\"] = -1] = \"error\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"serverError\"] = -2] = \"serverError\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"badRequestError\"] = -3] = \"badRequestError\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notFoundError\"] = -4] = \"notFoundError\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"loading\"] = 0] = \"loading\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"done\"] = 1] = \"done\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notLoaded\"] = 2] = \"notLoaded\";\n  TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notStarted\"] = 3] = \"notStarted\";\n})(TransactionsDetailsLoadingState || (TransactionsDetailsLoadingState = {}));\n\nvar DisputeStatusEnum;\n\n(function (DisputeStatusEnum) {\n  DisputeStatusEnum[\"Refunded\"] = \"REFUNDED\";\n  DisputeStatusEnum[\"Undisputed\"] = \"UNDISPUTED\";\n  DisputeStatusEnum[\"Pending\"] = \"PENDING\";\n  DisputeStatusEnum[\"Rejected\"] = \"REJECTED\";\n})(DisputeStatusEnum || (DisputeStatusEnum = {}));\n\nclass AccessibilityKeyboardDirective {\n  constructor(element) {\n    this.element = element;\n    element.nativeElement.tabIndex = 0;\n  } // eslint-disable-next-line\n\n\n  eventListener(event) {\n    this.element.nativeElement.click(event);\n  }\n\n}\n\nAccessibilityKeyboardDirective.ɵfac = function AccessibilityKeyboardDirective_Factory(t) {\n  return new (t || AccessibilityKeyboardDirective)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nAccessibilityKeyboardDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: AccessibilityKeyboardDirective,\n  selectors: [[\"\", \"bbAccessibilityKeyboard\", \"\"]],\n  hostBindings: function AccessibilityKeyboardDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.enter\", function AccessibilityKeyboardDirective_keydown_enter_HostBindingHandler($event) {\n        return ctx.eventListener($event);\n      })(\"keydown.space\", function AccessibilityKeyboardDirective_keydown_space_HostBindingHandler($event) {\n        return ctx.eventListener($event);\n      });\n    }\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AccessibilityKeyboardDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbAccessibilityKeyboard]'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    eventListener: [{\n      type: HostListener,\n      args: ['keydown.enter', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['keydown.space', ['$event']]\n    }]\n  });\n})();\n\nclass TransactionCheckImageItemComponent {\n  constructor(sanitizer) {\n    this.sanitizer = sanitizer;\n    this.sideText = '';\n    this.imageAlt = '';\n    this.selectImage = new EventEmitter();\n  }\n\n  get imageFileName() {\n    const fileType = this.image ? this.image.mimeType.replace('image/', '') : '';\n    const side = this.image ? this.image.side : '';\n    return `${this.imageCheckNumber}-${side}.${fileType}`;\n  }\n\n  get formatedImageSource() {\n    const mimeType = this.image ? this.image.mimeType : '';\n    const content = this.image ? this.image.content : '';\n    return `data:${mimeType};base64,${content}`;\n  }\n\n  get imageCheckNumber() {\n    return this.transaction && this.transaction.checkSerialNumber;\n  }\n\n  createImageSource() {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(this.formatedImageSource);\n  }\n\n  toggleDocumentViewer() {\n    this.selectImage.emit();\n  }\n\n}\n\nTransactionCheckImageItemComponent.ɵfac = function TransactionCheckImageItemComponent_Factory(t) {\n  return new (t || TransactionCheckImageItemComponent)(i0.ɵɵdirectiveInject(i1$2.DomSanitizer));\n};\n\nTransactionCheckImageItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionCheckImageItemComponent,\n  selectors: [[\"bb-transaction-check-image-item\"]],\n  inputs: {\n    image: \"image\",\n    transaction: \"transaction\",\n    sideText: \"sideText\",\n    imageAlt: \"imageAlt\"\n  },\n  outputs: {\n    selectImage: \"selectImage\"\n  },\n  decls: 7,\n  vars: 4,\n  consts: function () {\n    let i18n_5;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Expand image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__6 = goog.getMsg(\"Expand Image\");\n      i18n_5 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__6;\n    } else {\n      i18n_5 = $localize`:Expand image@@transaction-check-image-item.aria-label.expand-icon:Expand Image`;\n    }\n\n    let i18n_7;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc No image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__8 = goog.getMsg(\"No image\");\n      i18n_7 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__8;\n    } else {\n      i18n_7 = $localize`:No image@@transaction-check-image-item.aria-label.no-image-icon:No image`;\n    }\n\n    return [[\"role\", \"img\", \"data-role\", \"check-image-item\", \"bbAccessibilityKeyboard\", \"\", 1, \"bb-check-img-container\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"noImage\", \"\"], [1, \"bb-check-img-container-state\"], [1, \"bb-check-img-container-state__container\"], [\"name\", \"remove-red-eye\", \"size\", \"lg\", \"color\", \"white\", \"aria-label\", i18n_5], [1, \"bb-check-img-container__img\", 3, \"alt\", \"src\"], [1, \"bb-check-no-img\"], [1, \"bb-check-no-img__icon\"], [\"name\", \"broken-image\", \"size\", \"lg\", \"aria-label\", i18n_7]];\n  },\n  template: function TransactionCheckImageItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 0);\n      i0.ɵɵlistener(\"click\", function TransactionCheckImageItemComponent_Template_div_click_3_listener() {\n        return !!ctx.image && ctx.toggleDocumentViewer();\n      });\n      i0.ɵɵtemplate(4, TransactionCheckImageItemComponent_ng_container_4_Template, 5, 2, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(5, TransactionCheckImageItemComponent_ng_template_5_Template, 3, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(6);\n\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.sideText);\n      i0.ɵɵadvance(1);\n      i0.ɵɵattributeInterpolate1(\"aria-label\", \"\", ctx.sideText, \" image container\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !!ctx.image)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [AccessibilityKeyboardDirective, i2.NgIf, i1$3.IconComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionCheckImageItemComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transaction-check-image-item',\n      templateUrl: 'transaction-check-image-item.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1$2.DomSanitizer\n    }];\n  }, {\n    image: [{\n      type: Input\n    }],\n    transaction: [{\n      type: Input\n    }],\n    sideText: [{\n      type: Input\n    }],\n    imageAlt: [{\n      type: Input\n    }],\n    selectImage: [{\n      type: Output\n    }]\n  });\n})();\n\nconst DOCUMENT_LOAD_DELAY_MS = 400;\nvar DocumentViewerType;\n\n(function (DocumentViewerType) {\n  DocumentViewerType[\"JPEG\"] = \"image/jpeg\";\n  DocumentViewerType[\"JPG\"] = \"image/jpg\";\n  DocumentViewerType[\"PNG\"] = \"image/png\";\n  DocumentViewerType[\"WEBP\"] = \"image/webp\";\n  DocumentViewerType[\"GIF\"] = \"image/gif\";\n  DocumentViewerType[\"BMP\"] = \"image/bmp\";\n})(DocumentViewerType || (DocumentViewerType = {}));\n\nconst isDocumentViewerType = type => Object.values(DocumentViewerType).includes(type);\n\nconst downloadFile = (url, fileName) => {\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = `${fileName}`;\n  link.click();\n};\n\nvar KEY_CODES;\n\n(function (KEY_CODES) {\n  KEY_CODES[\"UP\"] = \"ArrowUp\";\n  KEY_CODES[\"DOWN\"] = \"ArrowDown\";\n  KEY_CODES[\"ENTER\"] = \"Enter\";\n  KEY_CODES[\"SPACE\"] = \" \";\n  KEY_CODES[\"TAB\"] = \"Tab\";\n  KEY_CODES[\"BACKSPACE\"] = \"Backspace\";\n  KEY_CODES[\"DELETE\"] = \"Delete\";\n  KEY_CODES[\"ESCAPE\"] = \"Escape\";\n  KEY_CODES[\"X\"] = \"x\";\n  KEY_CODES[\"V\"] = \"v\";\n  KEY_CODES[\"LEFT\"] = \"ArrowLeft\";\n  KEY_CODES[\"RIGHT\"] = \"ArrowRight\";\n})(KEY_CODES || (KEY_CODES = {}));\n\nconst KEY_CODE_TO_CODE = {\n  9: KEY_CODES.TAB,\n  38: KEY_CODES.UP,\n  40: KEY_CODES.DOWN,\n  32: KEY_CODES.SPACE,\n  13: KEY_CODES.ENTER,\n  46: KEY_CODES.DELETE,\n  8: KEY_CODES.BACKSPACE,\n  27: KEY_CODES.ESCAPE,\n  88: KEY_CODES.X,\n  86: KEY_CODES.V\n};\n\nfunction browserIsMsie() {\n  return navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident/') > -1;\n}\n\nfunction getKeyCode(event) {\n  // NOTE: detect IE\n  if (browserIsMsie()) {\n    return KEY_CODE_TO_CODE[event.keyCode];\n  }\n\n  return event.code;\n}\n\nclass DocumentViewerBackdropComponent {\n  get containerStyles() {\n    var _a, _b;\n\n    return ((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles) || null;\n  }\n\n  get hasCustomStyles() {\n    var _a, _b;\n\n    return Boolean((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles);\n  }\n\n}\n\nDocumentViewerBackdropComponent.ɵfac = function DocumentViewerBackdropComponent_Factory(t) {\n  return new (t || DocumentViewerBackdropComponent)();\n};\n\nDocumentViewerBackdropComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DocumentViewerBackdropComponent,\n  selectors: [[\"bb-document-viewer-backdrop\"]],\n  inputs: {\n    options: \"options\"\n  },\n  decls: 1,\n  vars: 3,\n  consts: [[\"aria-hidden\", \"true\", 1, \"bb-document-viewer-backdrop\", \"modal-backdrop\", \"show\", 3, \"ngStyle\"]],\n  template: function DocumentViewerBackdropComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"bb-document-viewer-backdrop-default-off\", ctx.hasCustomStyles);\n      i0.ɵɵproperty(\"ngStyle\", ctx.containerStyles);\n    }\n  },\n  directives: [i2.NgStyle],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DocumentViewerBackdropComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-document-viewer-backdrop',\n      templateUrl: './document-viewer-backdrop.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    options: [{\n      type: Input\n    }]\n  });\n})();\n\nclass DocumentViewerHeaderComponent {\n  constructor(ngZone) {\n    this.ngZone = ngZone;\n    this.isLoading = false; //eslint-disable-next-line @angular-eslint/no-output-native\n\n    this.close = new EventEmitter();\n  }\n\n  set source(src) {\n    if (src) {\n      this.revokeObjectURL();\n      this.documentObjectURL = src;\n    }\n  }\n\n  ngOnDestroy() {\n    this.revokeObjectURL();\n  }\n\n  onOpenDocument() {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    this.openImage(this.documentObjectURL);\n  }\n\n  onPrintDocument() {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    this.printWindow(this.openImage(this.documentObjectURL));\n  }\n\n  onDownloadDocument() {\n    if (!this.documentObjectURL) {\n      return;\n    }\n\n    downloadFile(this.documentObjectURL, this.filename);\n  }\n\n  openImage(documentObjectURL) {\n    const image = new Image();\n    const newWindow = window.open('about:blank', '_new');\n    image.src = documentObjectURL;\n    newWindow.document.write(image.outerHTML);\n    return newWindow;\n  }\n\n  printWindow(window) {\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        window.focus();\n        window.print();\n      }, 0);\n    });\n  }\n\n  revokeObjectURL() {\n    if (this.documentObjectURL) {\n      window.URL.revokeObjectURL(this.documentObjectURL);\n    }\n  }\n\n}\n\nDocumentViewerHeaderComponent.ɵfac = function DocumentViewerHeaderComponent_Factory(t) {\n  return new (t || DocumentViewerHeaderComponent)(i0.ɵɵdirectiveInject(i0.NgZone));\n};\n\nDocumentViewerHeaderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DocumentViewerHeaderComponent,\n  selectors: [[\"bb-document-viewer-header\"]],\n  inputs: {\n    filename: \"filename\",\n    filetype: \"filetype\",\n    source: \"source\",\n    isLoading: \"isLoading\"\n  },\n  outputs: {\n    close: \"close\"\n  },\n  decls: 21,\n  vars: 2,\n  consts: function () {\n    let i18n_9;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Print document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_10 = goog.getMsg(\"print\");\n      i18n_9 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_10;\n    } else {\n      i18n_9 = $localize`:Print document button@@document-viewer-header.aria-label.print-document-btn:print`;\n    }\n\n    let i18n_11;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Download document button\\@document-viewer-header.aria-label.download-document-btn\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_12 = goog.getMsg(\"download\");\n      i18n_11 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_12;\n    } else {\n      i18n_11 = $localize`:Download document button@document-viewer-header.aria-label.download-document-btn:download`;\n    }\n\n    let i18n_13;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Open document in new tab button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_14 = goog.getMsg(\"new tab\");\n      i18n_13 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_14;\n    } else {\n      i18n_13 = $localize`:Open document in new tab button@@document-viewer-header.aria-label.open-document-new-tab-btn:new tab`;\n    }\n\n    let i18n_15;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Close document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_16 = goog.getMsg(\"close\");\n      i18n_15 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_16;\n    } else {\n      i18n_15 = $localize`:Close document button@@document-viewer-header.aria-label.close-btn:close`;\n    }\n\n    let i18n_17;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Check image export dropdown menu\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_18 = goog.getMsg(\"Check image export dropdown menu\");\n      i18n_17 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_18;\n    } else {\n      i18n_17 = $localize`:Check image export dropdown menu@@document-viewer-header.export-dropdown-menu.ariaLabel:Check image export dropdown menu`;\n    }\n\n    let i18n_19;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Close document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_20 = goog.getMsg(\"close\");\n      i18n_19 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_20;\n    } else {\n      i18n_19 = $localize`:Close document button@@document-viewer-header.aria-label.close-btn:close`;\n    }\n\n    let i18n_21;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Open image in new tab\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__22 = goog.getMsg(\"Open in new tab\");\n      i18n_21 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__22;\n    } else {\n      i18n_21 = $localize`:Open image in new tab@@document-viewer-header.controlsList.open-in-new-tab:Open in new tab`;\n    }\n\n    let i18n_23;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Download image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__24 = goog.getMsg(\"Download\");\n      i18n_23 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__24;\n    } else {\n      i18n_23 = $localize`:Download image@@document-viewer-header.controlsList.download-image:Download`;\n    }\n\n    let i18n_25;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Print image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__26 = goog.getMsg(\"Print\");\n      i18n_25 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__26;\n    } else {\n      i18n_25 = $localize`:Print image@@document-viewer-header.controlsList.print-image:Print`;\n    }\n\n    return [[1, \"bb-document-viewer-header\"], [1, \"bb-document-viewer-header__title\", \"bb-stack\"], [\"data-role\", \"document-viewer-header-icon\", \"name\", \"description\", \"size\", \"md\", 1, \"bb-stack__item\", \"bb-stack__item--spacing-sm\"], [\"data-role\", \"document-viewer-header-filename\", 1, \"bb-stack__item\"], [1, \"bb-stack\"], [1, \"bb-stack__item\", \"bb-stack__item--spacing-none\", \"bb-stack__item--push-right\", \"bb-document-viewer-header-controls__web-view\"], [\"bbButton\", \"\", \"data-role\", \"print-document-btn\", \"aria-label\", i18n_9, \"buttonSize\", \"sm\", 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-header__spacer\", 3, \"click\"], [\"name\", \"local-printshop\", \"size\", \"md\", \"color\", \"light\"], [\"bbButton\", \"\", \"data-role\", \"download-document-btn\", \"aria-label\", i18n_11, \"buttonSize\", \"sm\", 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-header__spacer\", 3, \"click\"], [\"name\", \"save-alt\", \"size\", \"md\", \"color\", \"light\"], [\"bbButton\", \"\", \"data-role\", \"open-document-btn\", \"aria-label\", i18n_13, \"buttonSize\", \"sm\", 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-header__spacer\", 3, \"click\"], [\"name\", \"open-in-new\", \"size\", \"md\", \"color\", \"light\"], [\"bbButton\", \"\", \"data-role\", \"close-document-btn\", \"aria-label\", i18n_15, \"buttonSize\", \"sm\", 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-header__spacer\", 3, \"click\"], [\"name\", \"times\", \"size\", \"md\", \"color\", \"light\"], [1, \"bb-stack__item\", \"bb-stack__item--spacing-none\", \"bb-stack__item--push-right\", \"bb-document-viewer-header-controls__mobile-view\"], [\"container\", \"body\", \"data-role\", \"options-menu-dropdown\", \"icon\", \"ellipsis-h\", \"btnColor\", \"muted\", \"buttonSize\", \"sm\", \"iconSize\", \"md\", \"iconColor\", \"light\", \"ariaLabel\", i18n_17, 1, \"bb-stack__item\", 3, \"btnCircle\"], [\"bbDropdownMenuItem\", \"\"], [\"bbButton\", \"\", \"data-role\", \"close-document-btn\", \"aria-label\", i18n_19, \"buttonSize\", \"sm\", 1, \"bb-stack__item\", \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-header__spacer\", 3, \"click\"], [\"role\", \"menuitem\", \"data-role\", \"open-document-item\", \"href\", \"javaScript:void(0);\", 1, \"dropdown-item\", 3, \"click\"], [\"name\", \"open-in-new\", \"size\", \"md\", 1, \"bb-document-viewer-header__dropdown-icon\"], i18n_21, [\"role\", \"menuitem\", \"data-role\", \"download-document-item\", \"href\", \"javaScript:void(0);\", 1, \"dropdown-item\", 3, \"click\"], [\"name\", \"save-alt\", \"size\", \"md\", 1, \"bb-document-viewer-header__dropdown-icon\"], i18n_23, [\"role\", \"menuitem\", \"data-role\", \"print-document-item\", \"href\", \"javaScript:void(0);\", 1, \"dropdown-item\", 3, \"click\"], [\"name\", \"local-printshop\", \"size\", \"md\", 1, \"bb-document-viewer-header__dropdown-icon\"], i18n_25];\n  },\n  template: function DocumentViewerHeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"span\", 1);\n      i0.ɵɵelement(2, \"bb-icon-ui\", 2);\n      i0.ɵɵelementStart(3, \"span\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_Template_button_click_7_listener() {\n        return !ctx.isLoading && ctx.onPrintDocument();\n      });\n      i0.ɵɵelement(8, \"bb-icon-ui\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_Template_button_click_9_listener() {\n        return !ctx.isLoading && ctx.onDownloadDocument();\n      });\n      i0.ɵɵelement(10, \"bb-icon-ui\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_Template_button_click_11_listener() {\n        return !ctx.isLoading && ctx.onOpenDocument();\n      });\n      i0.ɵɵelement(12, \"bb-icon-ui\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_Template_button_click_13_listener() {\n        return ctx.close.emit();\n      });\n      i0.ɵɵelement(14, \"bb-icon-ui\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 14);\n      i0.ɵɵelementStart(16, \"div\", 4);\n      i0.ɵɵelementStart(17, \"bb-dropdown-menu-ui\", 15);\n      i0.ɵɵtemplate(18, DocumentViewerHeaderComponent_ng_template_18_Template, 12, 0, \"ng-template\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function DocumentViewerHeaderComponent_Template_button_click_19_listener() {\n        return ctx.close.emit();\n      });\n      i0.ɵɵelement(20, \"bb-icon-ui\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.filename);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"btnCircle\", true);\n    }\n  },\n  directives: [i1$3.IconComponent, i3$1.ButtonDirective, i2$1.DropdownMenuComponent, i2$1.DropdownMenuItemDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DocumentViewerHeaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-document-viewer-header',\n      templateUrl: './document-viewer-header.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }];\n  }, {\n    filename: [{\n      type: Input\n    }],\n    filetype: [{\n      type: Input\n    }],\n    source: [{\n      type: Input\n    }],\n    isLoading: [{\n      type: Input\n    }],\n    close: [{\n      type: Output\n    }]\n  });\n})();\n\nclass DocumentViewerInteractorComponent {\n  constructor() {\n    this.navigationState = {\n      currIdx: 0,\n      total: 0\n    };\n    this.canZoomOut = true;\n    this.canZoomIn = true;\n    this.navigate = new EventEmitter();\n    this.zoomIn = new EventEmitter();\n    this.zoomOut = new EventEmitter();\n  }\n\n  get navigationStatus() {\n    return this.navigationState.currIdx + 1 + '/' + this.navigationState.total;\n  }\n\n  get hasNextNavigation() {\n    return this.navigationState.currIdx + 1 < this.navigationState.total;\n  }\n\n  get hasPrevNavigation() {\n    return this.navigationState.currIdx > 0;\n  }\n\n  prev() {\n    this.navigate.emit(this.navigationState.currIdx - 1);\n  }\n\n  next() {\n    this.navigate.emit(this.navigationState.currIdx + 1);\n  }\n\n}\n\nDocumentViewerInteractorComponent.ɵfac = function DocumentViewerInteractorComponent_Factory(t) {\n  return new (t || DocumentViewerInteractorComponent)();\n};\n\nDocumentViewerInteractorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DocumentViewerInteractorComponent,\n  selectors: [[\"bb-document-viewer-interactor\"]],\n  inputs: {\n    navigationState: \"navigationState\",\n    canZoomOut: \"canZoomOut\",\n    canZoomIn: \"canZoomIn\"\n  },\n  outputs: {\n    navigate: \"navigate\",\n    zoomIn: \"zoomIn\",\n    zoomOut: \"zoomOut\"\n  },\n  decls: 13,\n  vars: 5,\n  consts: function () {\n    let i18n_27;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Previous document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_28 = goog.getMsg(\"previous\");\n      i18n_27 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_28;\n    } else {\n      i18n_27 = $localize`:Previous document button@@document-viewer-interactor.aria-label.previous-document-button:previous`;\n    }\n\n    let i18n_29;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Next document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_30 = goog.getMsg(\"next\");\n      i18n_29 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_30;\n    } else {\n      i18n_29 = $localize`:Next document button@@document-viewer-interactor.aria-label.next-document-button:next`;\n    }\n\n    let i18n_31;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Zoom out document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_32 = goog.getMsg(\"zoom out\");\n      i18n_31 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_32;\n    } else {\n      i18n_31 = $localize`:Zoom out document button@@document-viewer-interactor.aria-label.zoomOut-document-button:zoom out`;\n    }\n\n    let i18n_33;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Zoom in document button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_34 = goog.getMsg(\"zoom in\");\n      i18n_33 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_34;\n    } else {\n      i18n_33 = $localize`:Zoom in document button@@document-viewer-interactor.aria-label.zoomIn-document-button:zoom in`;\n    }\n\n    return [[1, \"bb-document-viewer-interactor\"], [1, \"bb-document-viewer-interactor__container\", 3, \"click\"], [1, \"bb-document-viewer-interactor-controls\"], [\"bbButton\", \"\", \"data-role\", \"previous-document-btn\", \"class\", \"bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer\", \"buttonSize\", \"sm\", \"aria-label\", i18n_27, 3, \"click\", 4, \"ngIf\"], [1, \"bb-document-viewer-interactor-controls__spacer\"], [\"bbButton\", \"\", \"data-role\", \"next-document-btn\", \"class\", \"bb-document-viewer-interactor-controls__button\", \"buttonSize\", \"sm\", \"aria-label\", i18n_29, 3, \"click\", 4, \"ngIf\"], [1, \"bb-document-viewer-interactor-separator\"], [\"bbButton\", \"\", \"data-role\", \"zoom-out-btn\", \"buttonSize\", \"sm\", \"aria-label\", i18n_31, 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-interactor-controls__spacer\", 3, \"disabled\", \"click\"], [\"name\", \"zoom-out\", \"color\", \"light\", \"size\", \"md\"], [\"bbButton\", \"\", \"data-role\", \"zoom-in-btn\", \"aria-label\", i18n_33, \"buttonSize\", \"sm\", 1, \"bb-document-viewer-interactor-controls__button\", 3, \"disabled\", \"click\"], [\"name\", \"zoom-in\", \"color\", \"light\", \"size\", \"md\"], [\"bbButton\", \"\", \"data-role\", \"previous-document-btn\", \"buttonSize\", \"sm\", \"aria-label\", i18n_27, 1, \"bb-document-viewer-interactor-controls__button\", \"bb-document-viewer-interactor-controls__spacer\", 3, \"click\"], [\"name\", \"angle-left\", \"color\", \"light\", \"size\", \"md\"], [\"bbButton\", \"\", \"data-role\", \"next-document-btn\", \"buttonSize\", \"sm\", \"aria-label\", i18n_29, 1, \"bb-document-viewer-interactor-controls__button\", 3, \"click\"], [\"name\", \"angle-right\", \"color\", \"light\", \"size\", \"md\"]];\n  },\n  template: function DocumentViewerInteractorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵlistener(\"click\", function DocumentViewerInteractorComponent_Template_div_click_1_listener($event) {\n        return $event.stopPropagation();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtemplate(3, DocumentViewerInteractorComponent_button_3_Template, 2, 0, \"button\", 3);\n      i0.ɵɵelementStart(4, \"span\", 4);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, DocumentViewerInteractorComponent_button_6_Template, 2, 0, \"button\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"div\", 2);\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function DocumentViewerInteractorComponent_Template_button_click_9_listener() {\n        return ctx.zoomOut.emit();\n      });\n      i0.ɵɵelement(10, \"bb-icon-ui\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function DocumentViewerInteractorComponent_Template_button_click_11_listener() {\n        return ctx.zoomIn.emit();\n      });\n      i0.ɵɵelement(12, \"bb-icon-ui\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasPrevNavigation);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.navigationStatus);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasNextNavigation);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.canZoomOut);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.canZoomIn);\n    }\n  },\n  directives: [i2.NgIf, i3$1.ButtonDirective, i1$3.IconComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DocumentViewerInteractorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-document-viewer-interactor',\n      templateUrl: './document-viewer-interactor.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    navigationState: [{\n      type: Input\n    }],\n    canZoomOut: [{\n      type: Input\n    }],\n    canZoomIn: [{\n      type: Input\n    }],\n    navigate: [{\n      type: Output\n    }],\n    zoomIn: [{\n      type: Output\n    }],\n    zoomOut: [{\n      type: Output\n    }]\n  });\n})();\n\nconst ZOOM_FACTOR = 1.1;\nconst ZOOM_IN_THRESHOLD = 4;\nconst ZOOM_OUT_THRESHOLD = 0.1;\n\nclass ImageViewerComponent {\n  constructor(domSanitizer) {\n    this.domSanitizer = domSanitizer;\n    this.navigationState = {\n      currIdx: 0,\n      total: 0\n    };\n    this.navigate = new EventEmitter();\n    this.imageUiState = {\n      scale: 1\n    };\n  }\n\n  set source(src) {\n    if (src) {\n      this.revokeObjectURLIfNeeded();\n      this.imageObjectUrl = src;\n      this.imageObjectTrustedUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(this.imageObjectUrl);\n    }\n  }\n\n  get canZoomOut() {\n    return this.imageUiState.scale >= ZOOM_OUT_THRESHOLD;\n  }\n\n  get canZoomIn() {\n    return this.imageUiState.scale <= ZOOM_IN_THRESHOLD;\n  }\n\n  get scale() {\n    return this.domSanitizer.bypassSecurityTrustStyle(`scale(${this.imageUiState.scale})`);\n  }\n\n  ngOnDestroy() {\n    this.revokeObjectURLIfNeeded();\n  }\n\n  zoomIn() {\n    if (this.canZoomIn) {\n      this.imageUiState.scale *= ZOOM_FACTOR;\n    }\n  }\n\n  zoomOut() {\n    if (this.canZoomOut) {\n      this.imageUiState.scale /= ZOOM_FACTOR;\n    }\n  }\n\n  revokeObjectURLIfNeeded() {\n    if (this.imageObjectUrl) {\n      window.URL.revokeObjectURL(this.imageObjectUrl);\n    }\n  }\n\n}\n\nImageViewerComponent.ɵfac = function ImageViewerComponent_Factory(t) {\n  return new (t || ImageViewerComponent)(i0.ɵɵdirectiveInject(i1$2.DomSanitizer));\n};\n\nImageViewerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ImageViewerComponent,\n  selectors: [[\"bb-image-viewer\"]],\n  inputs: {\n    source: \"source\",\n    navigationState: \"navigationState\"\n  },\n  outputs: {\n    navigate: \"navigate\"\n  },\n  decls: 4,\n  vars: 6,\n  consts: [[1, \"bb-img-viewer-container\", \"bb-stack\", \"bb-stack--center\"], [\"alt\", \"Transaction check image\", 1, \"bb-img-viewer-container__img\", 3, \"src\", \"click\"], [\"imgRef\", \"\"], [3, \"navigationState\", \"canZoomOut\", \"canZoomIn\", \"navigate\", \"zoomIn\", \"zoomOut\"]],\n  template: function ImageViewerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"img\", 1, 2);\n      i0.ɵɵlistener(\"click\", function ImageViewerComponent_Template_img_click_1_listener($event) {\n        return $event.stopPropagation();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"bb-document-viewer-interactor\", 3);\n      i0.ɵɵlistener(\"navigate\", function ImageViewerComponent_Template_bb_document_viewer_interactor_navigate_3_listener($event) {\n        return ctx.navigate.emit($event);\n      })(\"zoomIn\", function ImageViewerComponent_Template_bb_document_viewer_interactor_zoomIn_3_listener() {\n        return ctx.zoomIn();\n      })(\"zoomOut\", function ImageViewerComponent_Template_bb_document_viewer_interactor_zoomOut_3_listener() {\n        return ctx.zoomOut();\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"transform\", ctx.scale);\n      i0.ɵɵproperty(\"src\", ctx.imageObjectTrustedUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"navigationState\", ctx.navigationState)(\"canZoomOut\", ctx.canZoomOut)(\"canZoomIn\", ctx.canZoomIn);\n    }\n  },\n  directives: [DocumentViewerInteractorComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageViewerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-image-viewer',\n      templateUrl: './image-viewer.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1$2.DomSanitizer\n    }];\n  }, {\n    source: [{\n      type: Input\n    }],\n    navigationState: [{\n      type: Input\n    }],\n    navigate: [{\n      type: Output\n    }]\n  });\n})();\n\nclass DocumentViewerContainerComponent {\n  constructor(elemRef) {\n    this.elemRef = elemRef;\n    this.documentRefSrcs = []; // eslint-disable-next-line\n\n    this.close = new EventEmitter();\n    this.isLoading$ = new BehaviorSubject(false);\n    this.isHttpError$ = new BehaviorSubject(false);\n    this.documentType = DocumentViewerType;\n    /**\n     * Internal\n     */\n\n    this.activeDocumentRefIdx$ = new ReplaySubject(1);\n    this.destroy$ = new Subject();\n  }\n\n  set activeDocumentRefIdx(idx) {\n    this.activeDocumentRefIdx$.next(idx);\n  }\n\n  get containerStyles() {\n    var _a, _b;\n\n    return ((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles) || null;\n  }\n\n  get viewerScale() {\n    var _a;\n\n    return (_a = this.options) === null || _a === void 0 ? void 0 : _a.scale;\n  }\n\n  ngOnInit() {\n    this.setDocumentRefChangeSources();\n    this.setFocus();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  onEscape() {\n    this.close.emit();\n  }\n\n  closeDialog() {\n    this.close.emit();\n  }\n\n  onNavigate(idx) {\n    this.activeDocumentRefIdx$.next(idx);\n  }\n\n  setDocumentRefChangeSources() {\n    this.documentSrc$ = this.activeDocumentRefIdx$.pipe(distinctUntilChanged(), tap(() => {\n      this.isLoading$.next(true);\n      this.isHttpError$.next(false);\n    }), switchMap(idx => combineLatest([this.documentRefSrcs[idx].src, timer(DOCUMENT_LOAD_DELAY_MS)]).pipe(map(([src]) => src), finalize(() => {\n      this.isLoading$.next(false);\n    }))), catchError(error => {\n      this.isHttpError$.next(true);\n      throw error;\n    }), share());\n    this.documentFilename$ = this.activeDocumentRefIdx$.pipe(map(idx => this.documentRefSrcs[idx].filename));\n    this.documentFiletype$ = this.activeDocumentRefIdx$.pipe(map(idx => this.documentRefSrcs[idx].filetype));\n    this.navigationState$ = this.activeDocumentRefIdx$.pipe(map(idx => ({\n      currIdx: idx,\n      total: this.documentRefSrcs.length\n    })));\n  }\n\n  setFocus() {\n    this.elemRef.nativeElement.focus();\n  }\n\n}\n\nDocumentViewerContainerComponent.ɵfac = function DocumentViewerContainerComponent_Factory(t) {\n  return new (t || DocumentViewerContainerComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nDocumentViewerContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DocumentViewerContainerComponent,\n  selectors: [[\"bb-document-viewer-container\"]],\n  viewQuery: function DocumentViewerContainerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c35, 7, ViewContainerRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.viewContainer = _t.first);\n    }\n  },\n  hostBindings: function DocumentViewerContainerComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.escape\", function DocumentViewerContainerComponent_keydown_escape_HostBindingHandler() {\n        return ctx.onEscape();\n      }, false, i0.ɵɵresolveDocument);\n    }\n  },\n  inputs: {\n    documentRefSrcs: \"documentRefSrcs\",\n    activeDocumentRefIdx: \"activeDocumentRefIdx\",\n    options: \"options\"\n  },\n  outputs: {\n    close: \"close\"\n  },\n  decls: 14,\n  vars: 24,\n  consts: function () {\n    let i18n_36;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Unknown http error title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_37 = goog.getMsg(\"Unknown Error\");\n      i18n_36 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_37;\n    } else {\n      i18n_36 = $localize`:Unknown http error title@@document-viewer-component.uknown-error-title:Unknown Error`;\n    }\n\n    let i18n_38;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Try to reload the page or contact the system administrator\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_39 = goog.getMsg(\"Try to reload the page or contact the system administrator\");\n      i18n_38 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_39;\n    } else {\n      i18n_38 = $localize`:Try to reload the page or contact the system administrator@@document-viewer-component.uknown-error-subtitle:Try to reload the page or contact the system administrator`;\n    }\n\n    return [[\"role\", \"dialog\", \"aria-modal\", \"true\", \"tabindex\", \"-1\", \"cdkTrapFocus\", \"\", \"cdkTrapFocusAutoCapture\", \"true\", 1, \"bb-document-viewer-container\", \"show\", 3, \"ngStyle\"], [1, \"bb-document-viewer-container__wrapper\"], [\"data-role\", \"document-viewer-header\", 3, \"filename\", \"source\", \"filetype\", \"isLoading\", \"close\"], [4, \"ngIf\"], [\"class\", \"bb-document-viewer-container__state\", \"data-role\", \"document-viewer-loading-state\", \"loaderSize\", \"lg\", 4, \"ngIf\"], [\"data-role\", \"document-viewer-error-state\", \"class\", \"bb-document-viewer-container__state\", \"iconColor\", \"white\", \"iconModifier\", \"error-outline\", \"iconSize\", \"xxl\", \"title\", i18n_36, \"subtitle\", i18n_38, 4, \"ngIf\"], [\"class\", \"bb-document-viewer-container-image\", 3, \"click\", 4, \"ngIf\"], [1, \"bb-document-viewer-container-image\", 3, \"click\"], [\"data-role\", \"document-viewer-image\", 3, \"source\", \"navigationState\", \"navigate\"], [\"data-role\", \"document-viewer-loading-state\", \"loaderSize\", \"lg\", 1, \"bb-document-viewer-container__state\"], [\"data-role\", \"document-viewer-error-state\", \"iconColor\", \"white\", \"iconModifier\", \"error-outline\", \"iconSize\", \"xxl\", \"title\", i18n_36, \"subtitle\", i18n_38, 1, \"bb-document-viewer-container__state\"]];\n  },\n  template: function DocumentViewerContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"bb-document-viewer-header\", 2);\n      i0.ɵɵlistener(\"close\", function DocumentViewerContainerComponent_Template_bb_document_viewer_header_close_2_listener() {\n        return ctx.close.emit();\n      });\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, DocumentViewerContainerComponent_ng_container_7_Template, 4, 5, \"ng-container\", 3);\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵtemplate(9, DocumentViewerContainerComponent_bb_loading_indicator_ui_9_Template, 1, 0, \"bb-loading-indicator-ui\", 4);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵtemplate(11, DocumentViewerContainerComponent_bb_empty_state_ui_11_Template, 1, 0, \"bb-empty-state-ui\", 5);\n      i0.ɵɵpipe(12, \"async\");\n      i0.ɵɵpipe(13, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngStyle\", ctx.containerStyles);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"filename\", i0.ɵɵpipeBind1(3, 8, ctx.documentFilename$))(\"source\", i0.ɵɵpipeBind1(4, 10, ctx.documentSrc$))(\"filetype\", i0.ɵɵpipeBind1(5, 12, ctx.documentFiletype$))(\"isLoading\", i0.ɵɵpipeBind1(6, 14, ctx.isLoading$));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 16, ctx.documentSrc$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 18, ctx.isLoading$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(12, 20, ctx.isLoading$) && i0.ɵɵpipeBind1(13, 22, ctx.isHttpError$));\n    }\n  },\n  directives: [i5.CdkTrapFocus, i2.NgStyle, DocumentViewerHeaderComponent, i2.NgIf, ImageViewerComponent, i3$2.LoadingIndicatorComponent, i4.EmptyStateComponent],\n  pipes: [i2.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DocumentViewerContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-document-viewer-container',\n      templateUrl: './document-viewer-container.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    documentRefSrcs: [{\n      type: Input\n    }],\n    activeDocumentRefIdx: [{\n      type: Input\n    }],\n    options: [{\n      type: Input\n    }],\n    close: [{\n      type: Output\n    }],\n    viewContainer: [{\n      type: ViewChild,\n      args: ['viewerContainer', {\n        static: true,\n        read: ViewContainerRef\n      }]\n    }],\n    onEscape: [{\n      type: HostListener,\n      args: ['document:keydown.escape']\n    }]\n  });\n})();\n\nclass TransactionCheckImageDocumentViewerComponent {\n  constructor() {\n    this.position = 0;\n    this.closeViewer = new EventEmitter();\n  }\n\n  toDocumentRefSrc(...images) {\n    return images.filter(item => !!item).map(image => {\n      const {\n        mimeType,\n        content,\n        side\n      } = image;\n      const fileType = image === null || image === void 0 ? void 0 : image.mimeType.replace('image/', '');\n      const filename = `${this.imageCheckNumber}-${side}.${fileType}`;\n      return {\n        filename,\n        filetype: image === null || image === void 0 ? void 0 : image.mimeType,\n        src: of(`data:${mimeType};base64,${content}`)\n      };\n    });\n  }\n\n  get imagesRefsSrc() {\n    return this.toDocumentRefSrc(this.imageFront, this.imageBack);\n  }\n\n  closeDocumentViewer() {\n    this.closeViewer.emit();\n  }\n\n  trapKeyEvent(event) {\n    if (getKeyCode(event) !== KEY_CODES.ESCAPE) {\n      event.stopPropagation();\n    }\n  }\n\n}\n\nTransactionCheckImageDocumentViewerComponent.ɵfac = function TransactionCheckImageDocumentViewerComponent_Factory(t) {\n  return new (t || TransactionCheckImageDocumentViewerComponent)();\n};\n\nTransactionCheckImageDocumentViewerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionCheckImageDocumentViewerComponent,\n  selectors: [[\"bb-transaction-check-image-document-viewer\"]],\n  inputs: {\n    imageCheckNumber: \"imageCheckNumber\",\n    imageFront: \"imageFront\",\n    imageBack: \"imageBack\",\n    position: \"position\"\n  },\n  outputs: {\n    closeViewer: \"closeViewer\"\n  },\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"keydown\", \"keyup\"], [\"cdkTrapFocus\", \"\", 3, \"documentRefSrcs\", \"activeDocumentRefIdx\", \"close\"]],\n  template: function TransactionCheckImageDocumentViewerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"keydown\", function TransactionCheckImageDocumentViewerComponent_Template_div_keydown_0_listener($event) {\n        return ctx.trapKeyEvent($event);\n      })(\"keyup\", function TransactionCheckImageDocumentViewerComponent_Template_div_keyup_0_listener($event) {\n        return ctx.trapKeyEvent($event);\n      });\n      i0.ɵɵelement(1, \"bb-document-viewer-backdrop\");\n      i0.ɵɵelementStart(2, \"bb-document-viewer-container\", 1);\n      i0.ɵɵlistener(\"close\", function TransactionCheckImageDocumentViewerComponent_Template_bb_document_viewer_container_close_2_listener() {\n        return ctx.closeDocumentViewer();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"documentRefSrcs\", ctx.imagesRefsSrc)(\"activeDocumentRefIdx\", ctx.position);\n    }\n  },\n  directives: [DocumentViewerBackdropComponent, DocumentViewerContainerComponent, i5.CdkTrapFocus],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionCheckImageDocumentViewerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transaction-check-image-document-viewer',\n      templateUrl: 'transaction-check-image-document-viewer.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    imageCheckNumber: [{\n      type: Input\n    }],\n    imageFront: [{\n      type: Input\n    }],\n    imageBack: [{\n      type: Input\n    }],\n    position: [{\n      type: Input\n    }],\n    closeViewer: [{\n      type: Output\n    }]\n  });\n})();\n\nclass TransactionCheckImageComponent {\n  constructor() {\n    this.loadingStateEnum = TransactionsDetailsLoadingState;\n    /**\n     * Index to display in the document viewer. For the purpose of hidding and showing\n     * the viewer this will be base 1\n     * when the value is 0 the document viewer will not be visible\n     */\n\n    this.index = 0;\n  }\n  /**\n   * The check image object.\n   */\n  // eslint-disable-next-line\n\n\n  set checkImagesList(value) {\n    this.imageFront = value && value.images.find(data => data.side === TransactionsCheckImageSide.FRONT);\n    this.imageBack = value && value.images.find(data => data.side === TransactionsCheckImageSide.BACK);\n  }\n\n  get hasErrors() {\n    return this.transactionDetailsLoadingStatus && this.transactionDetailsLoadingStatus.checkImages && this.transactionDetailsLoadingStatus.checkImages < 0;\n  }\n\n  get isDone() {\n    return this.transactionDetailsLoadingStatus && this.transactionDetailsLoadingStatus.checkImages === TransactionsDetailsLoadingState.done;\n  }\n\n  onClose() {\n    this.index = 0;\n  }\n\n  selectImage(index) {\n    this.index = index;\n  }\n\n}\n\nTransactionCheckImageComponent.ɵfac = function TransactionCheckImageComponent_Factory(t) {\n  return new (t || TransactionCheckImageComponent)();\n};\n\nTransactionCheckImageComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionCheckImageComponent,\n  selectors: [[\"bb-transaction-check-image\"]],\n  inputs: {\n    transaction: \"transaction\",\n    checkImagesList: \"checkImagesList\",\n    transactionDetailsLoadingStatus: \"transactionDetailsLoadingStatus\"\n  },\n  decls: 3,\n  vars: 2,\n  consts: function () {\n    let i18n_40;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Front side title of check image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__41 = goog.getMsg(\"Front\");\n      i18n_40 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__41;\n    } else {\n      i18n_40 = $localize`:Front side title of check image@@transactions.detail.check-image.front.title:Front`;\n    }\n\n    let i18n_42;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Front side alt of check image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__43 = goog.getMsg(\"Front check image\");\n      i18n_42 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__43;\n    } else {\n      i18n_42 = $localize`:Front side alt of check image@@transactions.detail.check-image.front.alt-image:Front check image`;\n    }\n\n    let i18n_44;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Back side title of check image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__45 = goog.getMsg(\"Back\");\n      i18n_44 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__45;\n    } else {\n      i18n_44 = $localize`:Back side title of check image@@transactions.detail.check-image.back.title:Back`;\n    }\n\n    let i18n_46;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Back side alt of check image\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__47 = goog.getMsg(\"Back check image\");\n      i18n_46 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__47;\n    } else {\n      i18n_46 = $localize`:Back side alt of check image@@transactions.detail.check-image.back.alt-image:Back check image`;\n    }\n\n    let i18n_48;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Something went wrong\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____49 = goog.getMsg(\" Something went wrong. Please try again later. \");\n      i18n_48 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____49;\n    } else {\n      i18n_48 = $localize`:Something went wrong@@transactions.detail.check-image.server-error: Something went wrong. Please try again later. `;\n    }\n\n    let i18n_50;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Check images cannot be viewed at the moment\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____51 = goog.getMsg(\" Check images cannot be viewed at the moment, please try again later or contact your financial institution. \");\n      i18n_50 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____51;\n    } else {\n      i18n_50 = $localize`:Check images cannot be viewed at the moment@@transactions.detail.check-image.bad-request-error: Check images cannot be viewed at the moment, please try again later or contact your financial institution. `;\n    }\n\n    let i18n_52;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Check images cannot be viewed at the moment\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____53 = goog.getMsg(\" Check images cannot be viewed at the moment, please try again later or contact your financial institution. \");\n      i18n_52 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS____53;\n    } else {\n      i18n_52 = $localize`:Check images cannot be viewed at the moment@@transactions.detail.check-image.not-found-error: Check images cannot be viewed at the moment, please try again later or contact your financial institution. `;\n    }\n\n    return [[4, \"ngIf\", \"ngIfElse\"], [\"loadingState\", \"\"], [1, \"bb-stack\", \"bb-stack--wrap\"], [1, \"bb-stack__item\"], [\"data-role\", \"check-image-item-front\", \"sideText\", i18n_40, \"imageAlt\", i18n_42, 3, \"image\", \"transaction\", \"selectImage\", 4, \"ngIf\"], [\"data-role\", \"check-image-item-back\", \"sideText\", i18n_44, \"imageAlt\", i18n_46, 3, \"image\", \"transaction\", \"selectImage\", 4, \"ngIf\"], [\"data-role\", \"check-image-document-viewer\", 3, \"imageCheckNumber\", \"imageFront\", \"imageBack\", \"position\", \"closeViewer\", 4, \"ngIf\"], [4, \"ngIf\"], [\"data-role\", \"check-image-item-front\", \"sideText\", i18n_40, \"imageAlt\", i18n_42, 3, \"image\", \"transaction\", \"selectImage\"], [\"data-role\", \"check-image-item-back\", \"sideText\", i18n_44, \"imageAlt\", i18n_46, 3, \"image\", \"transaction\", \"selectImage\"], [\"data-role\", \"check-image-document-viewer\", 3, \"imageCheckNumber\", \"imageFront\", \"imageBack\", \"position\", \"closeViewer\"], [\"class\", \"bb-input-validation-message\", \"data-role\", \"check-image-server-error-state\", 4, \"ngIf\"], [\"class\", \"bb-input-validation-message\", \"data-role\", \"check-image-bad-request-error-state\", 4, \"ngIf\"], [\"class\", \"bb-input-validation-message\", \"data-role\", \"check-image-not-found-error-state\", 4, \"ngIf\"], [\"data-role\", \"check-image-server-error-state\", 1, \"bb-input-validation-message\"], i18n_48, [\"data-role\", \"check-image-bad-request-error-state\", 1, \"bb-input-validation-message\"], i18n_50, [\"data-role\", \"check-image-not-found-error-state\", 1, \"bb-input-validation-message\"], i18n_52, [\"loaderSize\", \"lg\"]];\n  },\n  template: function TransactionCheckImageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TransactionCheckImageComponent_ng_container_0_Template, 8, 4, \"ng-container\", 0);\n      i0.ɵɵtemplate(1, TransactionCheckImageComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n\n      i0.ɵɵproperty(\"ngIf\", ctx.isDone || ctx.hasErrors)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [i2.NgIf, TransactionCheckImageItemComponent, TransactionCheckImageDocumentViewerComponent, i3$2.LoadingIndicatorComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionCheckImageComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transaction-check-image',\n      templateUrl: './transaction-check-image.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    transaction: [{\n      type: Input\n    }],\n    checkImagesList: [{\n      type: Input\n    }],\n    transactionDetailsLoadingStatus: [{\n      type: Input\n    }]\n  });\n})();\n\nclass TransactionsInquiryDisputeComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.enableDispute = false;\n    /**\n     * Whether the dispute & inquiry form is sending or not.\n     */\n\n    this.state = TransactionsDetailsLoadingState.notStarted;\n    this.submitReport = new EventEmitter();\n    this.cancelReport = new EventEmitter();\n    this.messageChange = new EventEmitter();\n    this.fileChange = new EventEmitter();\n    this.fileRemoved = new EventEmitter();\n    this.confirmationDialogActive = false;\n    this.labels = {\n      inquire: $localize`:Inquire tooltip@@transactions.dispute.inquire.inquireLabel:Inquire for more information`,\n      dispute: $localize`:Dispute tooltip@@transactions.dispute.inquire.disputeLabel:Dispute this transaction`\n    };\n    this.loadingStateEnum = TransactionsDetailsLoadingState;\n    this.unsubscribeSubject = new Subject();\n    this.transactionReportForm = this.fb.group({\n      topic: [{\n        value: ''\n      }, this.topicRequired],\n      attachment: [undefined],\n      subject: [{\n        name: ''\n      }],\n      body: ['']\n    });\n  }\n\n  topicRequired(control) {\n    var _a;\n\n    return ((_a = control.value) === null || _a === void 0 ? void 0 : _a.value) === '' ? {\n      required: 'value is required'\n    } : null;\n  }\n\n  getControl(field) {\n    return this.transactionReportForm.controls[field];\n  }\n\n  setFormValue(values) {\n    this.transactionReportForm.patchValue({\n      body: values.body,\n      attachments: values.attachments\n    }, {\n      emitEvent: false\n    });\n  }\n\n  hasError(field, type) {\n    const control = this.getControl(field);\n    return control && control.errors && control.errors[type];\n  }\n\n  isInvalidControl(field) {\n    const control = this.getControl(field);\n    return !!control && control.touched && control.invalid;\n  }\n\n  saveReport() {\n    if (this.transactionReportForm.valid) {\n      this.submitReport.emit(this.message);\n    } else {\n      this.transactionReportForm.markAllAsTouched();\n    }\n  }\n\n  closeReportForm() {\n    this.cancelReport.emit();\n    this.closeConfirmationDialog();\n  }\n\n  closeConfirmationDialog() {\n    this.confirmationDialogActive = false;\n  }\n\n  processLabel(label) {\n    const arr = label.split(' ');\n    const last = arr.splice(arr.length - 1, 1);\n    return [arr.join(' ') + ' ', ...last];\n  }\n\n  ngOnInit() {\n    if (this.message) {\n      this.setFormValue(this.message);\n    }\n\n    this.transactionReportForm.valueChanges.pipe(takeUntil(this.unsubscribeSubject)).subscribe({\n      next: formValue => {\n        this.messageChange.emit(Object.assign(Object.assign({}, this.message), formValue));\n      }\n    });\n  }\n\n  uploadFile(input) {\n    if (input.files && input.files[0]) {\n      const file = input.files[0];\n      this.fileChange.emit(file);\n      input.value = '';\n    }\n  }\n\n  removeAttachment(attachment) {\n    this.fileRemoved.emit(attachment);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeSubject.next();\n    this.unsubscribeSubject.complete();\n  }\n\n}\n\nTransactionsInquiryDisputeComponent.ɵfac = function TransactionsInquiryDisputeComponent_Factory(t) {\n  return new (t || TransactionsInquiryDisputeComponent)(i0.ɵɵdirectiveInject(i1$4.FormBuilder));\n};\n\nTransactionsInquiryDisputeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionsInquiryDisputeComponent,\n  selectors: [[\"bb-transactions-inquiry-dispute\"]],\n  inputs: {\n    message: \"message\",\n    enableDispute: \"enableDispute\",\n    state: \"state\",\n    inquireAndDisputeTopics: \"inquireAndDisputeTopics\"\n  },\n  outputs: {\n    submitReport: \"submitReport\",\n    cancelReport: \"cancelReport\",\n    messageChange: \"messageChange\",\n    fileChange: \"fileChange\",\n    fileRemoved: \"fileRemoved\"\n  },\n  decls: 45,\n  vars: 20,\n  consts: function () {\n    let i18n_54;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc dispute and inquiry form header\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_55 = goog.getMsg(\" Does this transaction seem suspicious or incorrect? \");\n      i18n_54 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_55;\n    } else {\n      i18n_54 = $localize`:dispute and inquiry form header@@transactions.dispute.inquiry.header: Does this transaction seem suspicious or incorrect? `;\n    }\n\n    let i18n_56;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc dispute and inquiry form subHeader\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_57 = goog.getMsg(\" It\\u2019s important to provide as much detail as possible for the bank employee to quickly and accurately review your issue. \");\n      i18n_56 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_57;\n    } else {\n      i18n_56 = $localize`:dispute and inquiry form subHeader@@transactions.dispute.inquiry.subHeader: It’s important to provide as much detail as possible for the bank employee to quickly and accurately review your issue. `;\n    }\n\n    let i18n_58;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label report body body\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_59 = goog.getMsg(\"Report body\");\n      i18n_58 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_59;\n    } else {\n      i18n_58 = $localize`:label report body body@@transactions.dispute.inquiry.body.label:Report body`;\n    }\n\n    let i18n_60;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Place holder for messages body\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_61 = goog.getMsg(\"Please tell us more about this transaction...\");\n      i18n_60 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_61;\n    } else {\n      i18n_60 = $localize`:Place holder for messages body@@transactions.dispute.inquiry.body.message:Please tell us more about this transaction...`;\n    }\n\n    let i18n_62;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Send button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_63 = goog.getMsg(\" Send \");\n      i18n_62 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_63;\n    } else {\n      i18n_62 = $localize`:Send button@@transactions.dispute.inquiry.button.send: Send `;\n    }\n\n    let i18n_64;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Discard report modal title\n       * @meaning Discard your report?\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_65 = goog.getMsg(\" Discard your report? \");\n      i18n_64 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_65;\n    } else {\n      i18n_64 = $localize`:Discard your report?|Discard report modal title@@transactions.dispute.inquiry.discard.report.modal.title: Discard your report? `;\n    }\n\n    let i18n_66;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Discard report info\n       * @meaning All entered data will be lost.\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_67 = goog.getMsg(\" All entered data will be lost. \");\n      i18n_66 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_67;\n    } else {\n      i18n_66 = $localize`:All entered data will be lost.|Discard report info@@transactions.dispute.inquiry.discard.report.modal.info: All entered data will be lost. `;\n    }\n\n    let i18n_68;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Discard report button label\n       * @meaning Discard\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_69 = goog.getMsg(\" Discard \");\n      i18n_68 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_69;\n    } else {\n      i18n_68 = $localize`:Discard|Discard report button label@@transactions.dispute.inquiry.discard.report.modal.discard.button: Discard `;\n    }\n\n    let i18n_70;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Cancel button label\n       * @meaning Cancel\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_71 = goog.getMsg(\" Cancel \");\n      i18n_70 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_71;\n    } else {\n      i18n_70 = $localize`:Cancel|Cancel button label@@transactions.dispute.inquiry.discard.report.modal.cancel.button: Cancel `;\n    }\n\n    let i18n_72;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Error message if field is required\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__73 = goog.getMsg(\" Required field \");\n      i18n_72 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__73;\n    } else {\n      i18n_72 = $localize`:Error message if field is required@@transactions.dispute.errors.operationRequired: Required field `;\n    }\n\n    let i18n_74;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Error message if field is required\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__75 = goog.getMsg(\" Required field \");\n      i18n_74 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__75;\n    } else {\n      i18n_74 = $localize`:Error message if field is required@@transactions.dispute.errors.bodyRequired: Required field `;\n    }\n\n    let i18n_76;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Message for a notification displayed when sending transaction report request\n       *             has failed\n       * @meaning Send report failed notification\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__77 = goog.getMsg(\"Couldn\\u2019t send your message\");\n      i18n_76 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__77;\n    } else {\n      i18n_76 = $localize`:Send report failed notification|Message for a notification displayed when sending transaction report request\n            has failed@@transactions.notification.error.send.title:Couldn’t send your message`;\n    }\n\n    let i18n_78;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Send report failed notification message\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__79 = goog.getMsg(\"Something went wrong. Please try again.\");\n      i18n_78 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__79;\n    } else {\n      i18n_78 = $localize`:Send report failed notification message@@transactions.notification.error.send.message:Something went wrong. Please try again.`;\n    }\n\n    let i18n_80;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Cancel button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__81 = goog.getMsg(\" Cancel \");\n      i18n_80 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__81;\n    } else {\n      i18n_80 = $localize`:Cancel button@@transactions.dispute.inquiry.button.cancel: Cancel `;\n    }\n\n    let i18n_82;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Description inside a tooltip\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__83 = goog.getMsg(\" If this transaction is incorrect, you can raise a claim for a refund. \");\n      i18n_82 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__83;\n    } else {\n      i18n_82 = $localize`:Description inside a tooltip@@transactions.dispute.inquiry.tooltip.description: If this transaction is incorrect, you can raise a claim for a refund. `;\n    }\n\n    let i18n_84;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Description inside inquery tooltip\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__85 = goog.getMsg(\" If you are suspicious about this transaction, you can ask the bank to gather more information about it. \");\n      i18n_84 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__85;\n    } else {\n      i18n_84 = $localize`:Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.description: If you are suspicious about this transaction, you can ask the bank to gather more information about it. `;\n    }\n\n    let i18n_86;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Description inside a tooltip\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___87 = goog.getMsg(\" If this transaction is incorrect, you can raise a claim for a refund. \");\n      i18n_86 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___87;\n    } else {\n      i18n_86 = $localize`:Description inside a tooltip@@transactions.dispute.inquiry.tooltip.hidden.description: If this transaction is incorrect, you can raise a claim for a refund. `;\n    }\n\n    let i18n_88;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Description inside inquery tooltip\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___89 = goog.getMsg(\" If you are suspicious about this transaction, you can ask the bank to gather more information about it. \");\n      i18n_88 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS___89;\n    } else {\n      i18n_88 = $localize`:Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.hidden.description: If you are suspicious about this transaction, you can ask the bank to gather more information about it. `;\n    }\n\n    return [[1, \"bb-transaction-list-item-detail-additional-info\"], [3, \"formGroup\"], [\"bbAccessibilityKeyboard\", \"\", 1, \"bb-block\", \"bb-block--lg\"], [\"data-role\", \"dispute-inquiry-header\", 1, \"bb-transaction-list-item-detail-additional-info__title\"], i18n_54, [\"data-role\", \"dispute-inquiry-subHeader\", 1, \"bb-text-support\", \"text-small\"], i18n_56, [1, \"form-group\", \"bb-block\", \"bb-block--lg\"], [\"aria-labelledby\", \"'label-transaction-dispute'\", \"formControlName\", \"topic\", \"verticalAlign\", \"top\", 3, \"horizontal\"], [\"value\", \"dispute\", \"labelTemplateContext\", \"dispute\", 3, \"labelTemplate\", \"disabled\"], [\"value\", \"inquire\", \"labelTemplateContext\", \"inquire\", 3, \"labelTemplate\"], [3, \"showErrors\"], [4, \"ngIf\"], [1, \"form-group\", \"bb-block\", 3, \"ngClass\"], [\"aria-label\", i18n_58, \"formControlName\", \"body\", \"placeholder\", i18n_60, 3, \"readonly\", \"required\"], [1, \"form-group\", \"bb-block\", \"bb-block--sm\"], [\"label\", \"Default file input\", \"data-role\", \"attachment-file-input\", 3, \"disabled\", \"change\"], [\"class\", \"row bb-inquire-dispute-attachments\", 4, \"ngIf\"], [1, \"bb-block\", \"bb-block--xl\", \"bb-text-align-left\"], [1, \"bb-button-bar\"], [\"bbButton\", \"\", \"color\", \"primary\", \"data-role\", \"dispute-inquiry-send-button\", 1, \"bb-button-bar__button\", 3, \"isLoading\", \"click\"], i18n_62, [\"bbButton\", \"\", \"type\", \"button\", \"color\", \"secondary\", \"data-role\", \"dispute-inquiry-cancel-button\", \"class\", \"bb-button-bar__button\", 3, \"click\", 4, \"ngIf\"], [\"disputeTipContent\", \"\"], [\"inqueryTipContent\", \"\"], [\"optionsLabel\", \"\"], [3, \"isOpen\", \"cancel\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", \"data-role\", \"discard-report-modal-header\", 1, \"modal-title\"], i18n_64, [1, \"modal-body\"], [\"data-role\", \"discard-report-modal-subHeader\"], i18n_66, [1, \"modal-footer\"], [\"bbButton\", \"\", \"color\", \"danger\", \"data-role\", \"discard-report-modal-discard-button\", 1, \"bb-button-bar__button\", 3, \"click\"], i18n_68, [\"bbButton\", \"\", \"color\", \"secondary\", \"data-role\", \"discard-report-modal-cancel-button\", 1, \"bb-button-bar__button\", 3, \"click\"], i18n_70, i18n_72, i18n_74, [1, \"row\", \"bb-inquire-dispute-attachments\"], [\"class\", \"col-md-6 bb-inquire-dispute-attachments__item\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"bb-inquire-dispute-attachments__item\"], [1, \"bb-block\", \"bb-block--md\"], [\"data-role\", \"attachment-file\", 3, \"name\", \"size\", \"fileContent\", \"block\", \"loading\", \"deletable\", \"delete\"], [\"title\", i18n_76, \"data-role\", \"send-report-failed\", \"message\", i18n_78], [\"bbButton\", \"\", \"type\", \"button\", \"color\", \"secondary\", \"data-role\", \"dispute-inquiry-cancel-button\", 1, \"bb-button-bar__button\", 3, \"click\"], i18n_80, [1, \"bb-text-align-left\"], i18n_82, i18n_84, [1, \"bb-input-radio-group__radio-label\"], [1, \"d-inline-block\"], [\"role\", \"tooltip\", \"name\", \"info\", \"size\", \"md\", \"triggers\", \"hover click\", \"placement\", \"right\", \"bbAccessibilityKeyboard\", \"\", 1, \"bb-transactions-list-pending-header__tooltip\", \"bb-transactions-list-pending-header__tooltip--md-top\", 3, \"bbTooltip\"], [\"role\", \"tooltip\", \"name\", \"info\", \"size\", \"md\", \"triggers\", \"hover click\", \"placement\", \"left\", \"bbAccessibilityKeyboard\", \"\", 1, \"bb-transactions-list-pending-header__tooltip\", \"bb-transactions-list-pending-header__tooltip--sm-bottom\", 3, \"bbTooltip\"], [1, \"sr-only\"], i18n_86, [\"role\", \"tooltip\", \"name\", \"info\", \"size\", \"md\", \"triggers\", \"hover click\", \"placement\", \"top\", \"bbAccessibilityKeyboard\", \"\", 1, \"bb-transactions-list-pending-header__tooltip\", \"bb-transactions-list-pending-header__tooltip--sm-bottom\", 3, \"bbTooltip\"], i18n_88];\n  },\n  template: function TransactionsInquiryDisputeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"h5\", 3);\n      i0.ɵɵi18n(4, 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 5);\n      i0.ɵɵi18n(6, 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵelementStart(8, \"bb-input-radio-group-ui\", 8);\n      i0.ɵɵelement(9, \"bb-input-radio-ui\", 9);\n      i0.ɵɵelement(10, \"bb-input-radio-ui\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"bb-input-validation-message-ui\", 11);\n      i0.ɵɵtemplate(12, TransactionsInquiryDisputeComponent_span_12_Template, 2, 0, \"span\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 13);\n      i0.ɵɵelement(14, \"bb-rich-text-editor-ui\", 14);\n      i0.ɵɵelementStart(15, \"bb-input-validation-message-ui\", 11);\n      i0.ɵɵtemplate(16, TransactionsInquiryDisputeComponent_span_16_Template, 2, 0, \"span\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"bb-input-file-ui\", 16);\n      i0.ɵɵlistener(\"change\", function TransactionsInquiryDisputeComponent_Template_bb_input_file_ui_change_18_listener($event) {\n        return ctx.uploadFile($event.target);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, TransactionsInquiryDisputeComponent_div_19_Template, 2, 1, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵtemplate(21, TransactionsInquiryDisputeComponent_ng_container_21_Template, 2, 0, \"ng-container\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 19);\n      i0.ɵɵelementStart(23, \"bb-load-button-ui\", 20);\n      i0.ɵɵlistener(\"click\", function TransactionsInquiryDisputeComponent_Template_bb_load_button_ui_click_23_listener() {\n        return ctx.state !== ctx.loadingStateEnum.loading && ctx.saveReport();\n      });\n      i0.ɵɵi18n(24, 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, TransactionsInquiryDisputeComponent_button_25_Template, 2, 0, \"button\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(26, TransactionsInquiryDisputeComponent_ng_template_26_Template, 3, 0, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(28, TransactionsInquiryDisputeComponent_ng_template_28_Template, 3, 0, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(30, TransactionsInquiryDisputeComponent_ng_template_30_Template, 2, 2, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(32, \"bb-modal-ui\", 26);\n      i0.ɵɵlistener(\"cancel\", function TransactionsInquiryDisputeComponent_Template_bb_modal_ui_cancel_32_listener() {\n        return ctx.closeConfirmationDialog();\n      });\n      i0.ɵɵelementStart(33, \"div\", 27);\n      i0.ɵɵelementStart(34, \"h2\", 28);\n      i0.ɵɵi18n(35, 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 30);\n      i0.ɵɵelementStart(37, \"span\", 31);\n      i0.ɵɵi18n(38, 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 33);\n      i0.ɵɵelementStart(40, \"div\", 19);\n      i0.ɵɵelementStart(41, \"button\", 34);\n      i0.ɵɵlistener(\"click\", function TransactionsInquiryDisputeComponent_Template_button_click_41_listener() {\n        return ctx.closeReportForm();\n      });\n      i0.ɵɵi18n(42, 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 36);\n      i0.ɵɵlistener(\"click\", function TransactionsInquiryDisputeComponent_Template_button_click_43_listener() {\n        return ctx.closeConfirmationDialog();\n      });\n      i0.ɵɵi18n(44, 37);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r9 = i0.ɵɵreference(31);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.transactionReportForm);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"horizontal\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"labelTemplate\", _r9)(\"disabled\", !ctx.enableDispute);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"labelTemplate\", _r9);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"showErrors\", ctx.isInvalidControl(\"topic\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"topic\", \"required\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c90, ctx.isInvalidControl(\"body\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"readonly\", false)(\"required\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"showErrors\", ctx.isInvalidControl(\"body\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"body\", \"required\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.state === ctx.loadingStateEnum.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.message == null ? null : ctx.message.attachments == null ? null : ctx.message.attachments.length);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.state === ctx.loadingStateEnum.error);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"isLoading\", ctx.state === ctx.loadingStateEnum.loading);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.state !== ctx.loadingStateEnum.loading);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"isOpen\", ctx.confirmationDialogActive);\n    }\n  },\n  directives: [i1$4.ɵNgNoValidate, i1$4.NgControlStatusGroup, i1$4.FormGroupDirective, AccessibilityKeyboardDirective, i2$2.InputRadioGroupComponent, i1$4.NgControlStatus, i1$4.FormControlName, i2$2.InputRadioComponent, i3$3.InputValidationMessageComponent, i2.NgIf, i2.NgClass, i4$1.RichTextEditorComponent, i1$4.RequiredValidator, i5$1.InputFileComponent, i8.LoadButtonComponent, i10.ModalComponent, i3$1.ButtonDirective, i2.NgForOf, i6.FileAttachmentComponent, i7.AlertComponent, i1$3.IconComponent, i14.TooltipDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsInquiryDisputeComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transactions-inquiry-dispute',\n      templateUrl: 'transactions-inquiry-dispute.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1$4.FormBuilder\n    }];\n  }, {\n    message: [{\n      type: Input\n    }],\n    enableDispute: [{\n      type: Input\n    }],\n    state: [{\n      type: Input\n    }],\n    inquireAndDisputeTopics: [{\n      type: Input\n    }],\n    submitReport: [{\n      type: Output\n    }],\n    cancelReport: [{\n      type: Output\n    }],\n    messageChange: [{\n      type: Output\n    }],\n    fileChange: [{\n      type: Output\n    }],\n    fileRemoved: [{\n      type: Output\n    }]\n  });\n})();\n\nclass TransactionsDisputeStatusTagComponent {}\n\nTransactionsDisputeStatusTagComponent.ɵfac = function TransactionsDisputeStatusTagComponent_Factory(t) {\n  return new (t || TransactionsDisputeStatusTagComponent)();\n};\n\nTransactionsDisputeStatusTagComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionsDisputeStatusTagComponent,\n  selectors: [[\"bb-dispute-status-tag\"]],\n  inputs: {\n    status: \"status\"\n  },\n  decls: 3,\n  vars: 3,\n  consts: function () {\n    let i18n_91;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Text for pending disputed transaction label\n       * @meaning Dispute pending\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__92 = goog.getMsg(\"Dispute Pending\");\n      i18n_91 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__92;\n    } else {\n      i18n_91 = $localize`:Dispute pending|Text for pending disputed transaction label@@transaction.dispute.status.pending:Dispute Pending`;\n    }\n\n    let i18n_93;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Text for refunded disputed transaction label\n       * @meaning Dispute refunded\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__94 = goog.getMsg(\"Refunded\");\n      i18n_93 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__94;\n    } else {\n      i18n_93 = $localize`:Dispute refunded|Text for refunded disputed transaction label@@transaction.dispute.status.refunded:Refunded`;\n    }\n\n    let i18n_95;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Text for rejected disputed transaction label\n       * @meaning Dispute rejected\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__96 = goog.getMsg(\"Dispute Rejected\");\n      i18n_95 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS__96;\n    } else {\n      i18n_95 = $localize`:Dispute rejected|Text for rejected disputed transaction label@@transaction.dispute.status.rejected:Dispute Rejected`;\n    }\n\n    return [[4, \"ngIf\"], [\"text\", i18n_91, \"color\", \"warning\", \"data-role\", \"dispute-pending-tag\"], [\"text\", i18n_93, \"color\", \"success\", \"data-role\", \"dispute-refunded-tag\"], [\"text\", i18n_95, \"color\", \"danger\", \"data-role\", \"dispute-rejected-tag\"]];\n  },\n  template: function TransactionsDisputeStatusTagComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TransactionsDisputeStatusTagComponent_ng_container_0_Template, 2, 0, \"ng-container\", 0);\n      i0.ɵɵtemplate(1, TransactionsDisputeStatusTagComponent_ng_container_1_Template, 2, 0, \"ng-container\", 0);\n      i0.ɵɵtemplate(2, TransactionsDisputeStatusTagComponent_ng_container_2_Template, 2, 0, \"ng-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.status === \"PENDING\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.status === \"REFUNDED\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.status === \"REJECTED\");\n    }\n  },\n  directives: [i2.NgIf, i1$5.BadgeComponent],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsDisputeStatusTagComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-dispute-status-tag',\n      templateUrl: 'transaction-dispute-status-tag.component.html'\n    }]\n  }], null, {\n    status: [{\n      type: Input\n    }]\n  });\n})();\n\nclass TransactionsDisputeBannerComponent {\n  constructor() {\n    this.disputeStatus = DisputeStatusEnum;\n  }\n\n}\n\nTransactionsDisputeBannerComponent.ɵfac = function TransactionsDisputeBannerComponent_Factory(t) {\n  return new (t || TransactionsDisputeBannerComponent)();\n};\n\nTransactionsDisputeBannerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionsDisputeBannerComponent,\n  selectors: [[\"bb-dispute-banner\"]],\n  inputs: {\n    transaction: \"transaction\"\n  },\n  decls: 4,\n  vars: 3,\n  consts: function () {\n    let i18n_97;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Message for a notification displayed when sending transaction dispute\n       *       report request has succeed\n       * @meaning Send dispute report success notification\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_98 = goog.getMsg(\"You\\u2019ve disputed this transaction\");\n      i18n_97 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_98;\n    } else {\n      i18n_97 = $localize`:Send dispute report success notification|Message for a notification displayed when sending transaction dispute\n      report request has succeed@@transactions.notification.success.send.dispute.title:You’ve disputed this transaction`;\n    }\n\n    let i18n_99;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Send dispute report success notification message\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_100 = goog.getMsg(\"Please go to Messages to view any responses to your request.\");\n      i18n_99 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_100;\n    } else {\n      i18n_99 = $localize`:Send dispute report success notification message@@transactions.notification.success.send.dispute.message:Please go to Messages to view any responses to your request.`;\n    }\n\n    let i18n_101;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Message for a notification displayed when transaction dispute report request\n       *       has refunded\n       * @meaning Dispute report refunded notification\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_102 = goog.getMsg(\"Your dispute was approved\");\n      i18n_101 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_102;\n    } else {\n      i18n_101 = $localize`:Dispute report refunded notification|Message for a notification displayed when transaction dispute report request\n      has refunded@@transactions.notification.dispute.refunded.title:Your dispute was approved`;\n    }\n\n    let i18n_103;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Dispute report reunded notification message\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_104 = goog.getMsg(\"Please go to Messages to view the process of your refund.\");\n      i18n_103 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_104;\n    } else {\n      i18n_103 = $localize`:Dispute report reunded notification message@@transactions.notification.dispute.refunded.message:Please go to Messages to view the process of your refund.`;\n    }\n\n    let i18n_105;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Message for a notification displayed when transaction dispute report request\n       *       has rejected\n       * @meaning Dispute report rejected notification\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_106 = goog.getMsg(\"Your dispute was rejected\");\n      i18n_105 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_106;\n    } else {\n      i18n_105 = $localize`:Dispute report rejected notification|Message for a notification displayed when transaction dispute report request\n      has rejected@@transactions.notification.dispute.rejected.title:Your dispute was rejected`;\n    }\n\n    let i18n_107;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Dispute report rejected notification message\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_108 = goog.getMsg(\"Please go to Messages to view the reason for this rejection.\");\n      i18n_107 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_TRANSACTIONS_COMMON_ANG_FESM2015_BACKBASE_TRANSACTIONS_COMMON_ANG_JS_108;\n    } else {\n      i18n_107 = $localize`:Dispute report rejected notification message@@transactions.notification.dispute.rejected.message:Please go to Messages to view the reason for this rejection.`;\n    }\n\n    return [[\"modifier\", \"info\", \"data-role\", \"dispute-pending-banner\", \"title\", i18n_97, \"message\", i18n_99, 4, \"ngIf\"], [\"modifier\", \"success\", \"data-role\", \"dispute-refunded-banner\", \"title\", i18n_101, \"message\", i18n_103, 4, \"ngIf\"], [\"modifier\", \"error\", \"data-role\", \"dispute-rejected-banner\", \"title\", i18n_105, \"message\", i18n_107, 4, \"ngIf\"], [\"modifier\", \"info\", \"data-role\", \"dispute-pending-banner\", \"title\", i18n_97, \"message\", i18n_99], [\"modifier\", \"success\", \"data-role\", \"dispute-refunded-banner\", \"title\", i18n_101, \"message\", i18n_103], [\"modifier\", \"error\", \"data-role\", \"dispute-rejected-banner\", \"title\", i18n_105, \"message\", i18n_107]];\n  },\n  template: function TransactionsDisputeBannerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵtemplate(1, TransactionsDisputeBannerComponent_bb_alert_ui_1_Template, 1, 0, \"bb-alert-ui\", 0);\n      i0.ɵɵtemplate(2, TransactionsDisputeBannerComponent_bb_alert_ui_2_Template, 1, 0, \"bb-alert-ui\", 1);\n      i0.ɵɵtemplate(3, TransactionsDisputeBannerComponent_bb_alert_ui_3_Template, 1, 0, \"bb-alert-ui\", 2);\n      i0.ɵɵelementContainerEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.transaction == null ? null : ctx.transaction.disputeStatus) === ctx.disputeStatus.Pending);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.transaction == null ? null : ctx.transaction.disputeStatus) === ctx.disputeStatus.Refunded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.transaction == null ? null : ctx.transaction.disputeStatus) === ctx.disputeStatus.Rejected);\n    }\n  },\n  directives: [i2.NgIf, i7.AlertComponent],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsDisputeBannerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-dispute-banner',\n      templateUrl: 'transaction-dispute-banner.component.html'\n    }]\n  }], null, {\n    transaction: [{\n      type: Input\n    }]\n  });\n})();\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsBackendError;\n\n(function (TransactionsBackendError) {\n  const getMessageFromResponse = error => {\n    const responseBody = error.error;\n\n    if (Array.isArray(responseBody === null || responseBody === void 0 ? void 0 : responseBody.errors)) {\n      return responseBody.errors.map(data => {\n        const {\n          context = {}\n        } = data;\n        const message = data.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g, match => {\n          const result = context[match.replace(/[{}']+/g, '')];\n          return result !== undefined ? result : match;\n        });\n        return `Error ${error.status}: ${message}`;\n      });\n    } else {\n      return undefined;\n    }\n  };\n  /* eslint-enable no-redeclare*/\n\n  /**\n   * @name fromHttpErrorResponse\n   * @param errorResponse The error response\n   * @returns An object containing a user-friendly error message\n   *\n   * @description\n   * Parse an HttpErrorResponse and return a TransactionsError object that can be used to display a\n   * user-friendly error message.\n   */\n\n\n  TransactionsBackendError.fromHttpErrorResponse = errorResponse => {\n    if (errorResponse.error instanceof ErrorEvent) {\n      // Client-side or network error.\n      return {\n        message: 'An unexpected error occurred'\n      };\n    } else {\n      const error = getMessageFromResponse(errorResponse) || [];\n      return {\n        message: error[0] || `Error ${errorResponse.status}`\n      };\n    }\n  };\n\n  TransactionsBackendError.fromHttpErrorsResponse = errorResponse => {\n    if (errorResponse.error instanceof ErrorEvent || !errorResponse.status) {\n      // Client-side or network error.\n      return [{\n        message: 'An unexpected error occurred'\n      }];\n    } else {\n      const errors = getMessageFromResponse(errorResponse) || [`Error ${errorResponse.status}`];\n      return errors.map(message => ({\n        message\n      }));\n    }\n  };\n})(TransactionsBackendError || (TransactionsBackendError = {}));\n\nvar TransactionsExportErrorType;\n\n(function (TransactionsExportErrorType) {\n  TransactionsExportErrorType[\"MIXED_PRODUCT_KINDS\"] = \"MIXED_PRODUCT_KINDS\";\n  TransactionsExportErrorType[\"UNSUPPORTED_PRODUCT_KIND\"] = \"UNSUPPORTED_PRODUCT_KIND\";\n  TransactionsExportErrorType[\"TOO_MANY_ITEMS\"] = \"TOO_MANY_ITEMS\";\n  TransactionsExportErrorType[\"MULTIPLE_PRODUCTS\"] = \"MULTIPLE_PRODUCTS\";\n  TransactionsExportErrorType[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n})(TransactionsExportErrorType || (TransactionsExportErrorType = {}));\n\nfunction combineExportTypesConfig(exportConfig) {\n  let exportTypesArr = [];\n  const {\n    availableExportTypesHeader = '',\n    unavailableExportTypesReasonsHeader\n  } = exportConfig;\n  const availableExportTypesArray = availableExportTypesHeader.split(',');\n  const availableTypes = availableExportTypesArray.filter(name => name !== '').map(name => ({\n    name,\n    reason: undefined,\n    isAvailable: true\n  }));\n\n  if (unavailableExportTypesReasonsHeader) {\n    const unavailableTypes = Object.keys(unavailableExportTypesReasonsHeader).map(name => {\n      if (unavailableExportTypesReasonsHeader && Array.isArray(unavailableExportTypesReasonsHeader[name])) {\n        return {\n          name,\n          reason: unavailableExportTypesReasonsHeader[name][0],\n          isAvailable: false\n        };\n      }\n\n      return {\n        name,\n        reason: TransactionsExportErrorType.UNKNOWN_ERROR,\n        isAvailable: false\n      };\n    });\n    exportTypesArr = [...availableTypes, ...unavailableTypes];\n  } else {\n    exportTypesArr = [...availableTypes];\n  }\n\n  return [...exportTypesArr].sort((left, right) => {\n    if (left.name === right.name) {\n      return 0;\n    }\n\n    return left.name > right.name ? 1 : -1;\n  });\n}\n\nclass PendingTransactionsService {\n  constructor(transactionsDataHttpService, accountService, deprecationsService) {\n    this.transactionsDataHttpService = transactionsDataHttpService;\n    this.accountService = accountService;\n    this.deprecationsService = deprecationsService;\n    this.initialListOptions = new ReplaySubject(1);\n    this.selectedAccount = new ReplaySubject(1);\n    this.options = new BehaviorSubject({});\n    this.listOptions = new BehaviorSubject(defaultInitialListOptions);\n    this.listRefresh = new Subject();\n    this.getOrPostEndpoint = new BehaviorSubject(EndpointType.GET_REQUEST);\n    this.transactionsList = merge(this.listOptions.pipe(filter(listOptions => typeof listOptions.account.arrangementId !== 'undefined'), distinctUntilChanged(deepEqual)), this.listRefresh).pipe(cacheRequest(listOptions => {\n      this.loadingState.next(listOptions.onLoad === OnLoadAction.Append ? LoadingState.LoadingMore : listOptions.onLoad === OnLoadAction.ReplacePage ? LoadingState.LoadingPage : LoadingState.Loading);\n      return combineLatest([this.loadTransactions(listOptions).pipe(tap(() => {\n        this.loadingState.next(LoadingState.Loaded);\n      }), map(transactionsList => ({\n        transactionsList,\n        onLoad: OnLoadAction.ReplacePage\n      }))), iif(multipleAccountsPredicate(listOptions), this.accountService.getAllArrangements().pipe(map(accounts => {\n        const accountMap = new Map();\n        accounts.forEach(account => {\n          accountMap.set(account.id, account);\n        });\n        return accountMap;\n      })), of(new Map()))]).pipe(map(([transactions, accountMap]) => {\n        transactions.transactionsList.items = transactions.transactionsList.items.map(transaction => Object.assign(Object.assign({}, transaction), {\n          account: accountMap.get(transaction.arrangementId || '')\n        }));\n        return transactions;\n      }));\n    }), scan(onLoadTransactions, {\n      items: [],\n      totalCount: 0\n    }));\n    this.loadingState = new BehaviorSubject(LoadingState.NotLoaded);\n    this.isFilterApplied = this.listOptions.pipe(map(options => !TransactionsFilterOptions.isEmpty(options.filter || {})));\n    this.isSearchApplied = this.listOptions.pipe(map(options => !TransactionsFilterOptions.isEmpty(options.search || {})));\n    combineLatest([this.selectedAccount, this.initialListOptions]).pipe(map(([selectedAccount, initialListOptions]) => Object.assign({\n      account: {\n        arrangementId: selectedAccount\n      },\n      pagination: {\n        from: 0,\n        size: 250\n      },\n      state: TransactionState.uncompleted\n    }, initialListOptions))).subscribe(this.options); // Base this.listOptions on this.options\n\n    this.options.pipe(scan((acc, curr) => Object.assign({}, acc, curr), defaultInitialListOptions)).subscribe(this.listOptions);\n  }\n\n  loadTransactions(listOptions) {\n    const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n    let transactionsResponse;\n\n    if (this.isUsingPostEndpoints) {\n      transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost({\n        transactionListRequest: transactionPayload\n      }, 'response');\n    } else {\n      this.deprecationsService.logDeprecatedFeature('[PendingTransactionsService: loadTransactions] GET endpoints are deprecated. Please use POST endpoints by changing CXP configuration');\n      transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n    }\n\n    return transactionsResponse.pipe(map(TransactionsList.fromHttpResponse), catchError(err => of({\n      items: [],\n      totalCount: 0,\n      httpResponseError: err\n    })));\n  }\n\n  getTransactionsFrom(selectedAccount, initialListOptions = of({}), getOrPostEndpoint = of(EndpointType.GET_REQUEST)) {\n    selectedAccount.subscribe(this.selectedAccount);\n    initialListOptions.subscribe(this.initialListOptions);\n    getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n  }\n\n  getTransactionsList() {\n    return this.transactionsList;\n  }\n\n  search(query) {\n    const searchOptions = {\n      query\n    };\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), {\n      pagination: paginationOptions,\n      search: searchOptions\n    }));\n  }\n\n  clearSearch() {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), {\n      pagination: paginationOptions\n    }));\n  }\n\n  filter(filterOptions) {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), {\n      pagination: paginationOptions,\n      filter: Object.assign({}, filterOptions)\n    }));\n  }\n\n  clearFilter() {\n    const paginationOptions = Object.assign(Object.assign({}, this.options.getValue().pagination || defaultPaginationOptions.pagination), {\n      from: 0\n    });\n    this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), {\n      pagination: paginationOptions\n    }));\n  }\n\n  sort(sortOptions) {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    this.options.next({\n      sort: Object.assign({}, sortOptions),\n      pagination: Object.assign(Object.assign({}, currentPaginationOptions), {\n        from: 0\n      })\n    });\n  }\n\n  retryFiltering() {\n    this.listRefresh.next(this.listOptions.getValue());\n  }\n\n  refreshTransactions() {\n    const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n    const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), {\n      from: 0\n    });\n    const newOptions = Object.assign(Object.assign({}, this.listOptions.getValue()), {\n      pagination: paginationOptions\n    });\n\n    if (deepEqual(newOptions, this.listOptions.getValue())) {\n      this.listRefresh.next(this.listOptions.getValue());\n    } else {\n      this.options.next({\n        pagination: paginationOptions\n      });\n    }\n  }\n\n  get isUsingPostEndpoints() {\n    return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n  }\n\n  ngOnDestroy() {\n    this.listRefresh.complete();\n    this.selectedAccount.complete();\n    this.initialListOptions.complete();\n    this.options.complete();\n    this.listOptions.complete();\n    this.loadingState.complete();\n    this.getOrPostEndpoint.complete();\n  }\n\n}\n\nPendingTransactionsService.ɵfac = function PendingTransactionsService_Factory(t) {\n  return new (t || PendingTransactionsService)(i0.ɵɵinject(i1$1.TransactionClientHttpService), i0.ɵɵinject(AccountsService), i0.ɵɵinject(i3.DeprecationsService));\n};\n\nPendingTransactionsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PendingTransactionsService,\n  factory: PendingTransactionsService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PendingTransactionsService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.TransactionClientHttpService\n    }, {\n      type: AccountsService\n    }, {\n      type: i3.DeprecationsService\n    }];\n  }, null);\n})();\n\nvar GoogleMapsScriptProtocol;\n\n(function (GoogleMapsScriptProtocol) {\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n})(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n\nclass MapAPILoaderService {\n  constructor() {\n    this.scriptID = 'bbGoogleMapsApiScript';\n    this.callbackName = 'bbMapsAPILoader';\n    this.apiLoadPromiseName = 'bbMapsAPILoaderPromise';\n    this.windowRef = window;\n    this.documentRef = document;\n    this.configValue = {};\n  }\n\n  get config() {\n    return this.configValue;\n  }\n\n  set config(config) {\n    this.configValue = config;\n  }\n\n  get loadAPIPromise() {\n    return this.windowRef[this.apiLoadPromiseName];\n  }\n\n  assignScriptLoadingPromise(scriptElem) {\n    this.windowRef[this.apiLoadPromiseName] = new Promise((resolve, reject) => {\n      this.windowRef[this.callbackName] = () => {\n        resolve();\n      };\n\n      scriptElem.onerror = error => {\n        reject(error);\n      };\n    });\n  }\n\n  getScriptSrc(callbackName) {\n    const protocolType = this.configValue && this.configValue.protocol || GoogleMapsScriptProtocol.HTTPS;\n    let protocol = '';\n\n    switch (protocolType) {\n      case GoogleMapsScriptProtocol.HTTP:\n        protocol = 'http:';\n        break;\n\n      case GoogleMapsScriptProtocol.HTTPS:\n        protocol = 'https:';\n        break;\n    }\n\n    const hostAndPath = this.configValue.hostAndPath || 'maps.googleapis.com/maps/api/js'; // make sure we have places library for search component\n\n    const libraries = this.configValue.libraries || [];\n\n    if (libraries.indexOf('places') === -1) {\n      this.configValue.libraries = [...libraries, 'places'];\n    }\n\n    const queryParams = {\n      v: this.configValue.apiVersion || 'quarterly',\n      callback: callbackName,\n      key: this.configValue.apiKey,\n      client: this.configValue.clientId,\n      channel: this.configValue.channel,\n      libraries: this.configValue.libraries,\n      region: this.configValue.region,\n      language: this.configValue.language\n    };\n    const params = Object.keys(queryParams).filter(key => queryParams[key] !== undefined).filter(key => // remove empty arrays\n    !Array.isArray(queryParams[key]) || Array.isArray(queryParams[key]) && queryParams[key].length > 0).map(key => {\n      let value = queryParams[key];\n\n      if (Array.isArray(value)) {\n        // join arrays as comma seperated strings\n        value = value.join(',');\n      }\n\n      return `${key}=${value}`;\n    }).join('&');\n    return `${protocol}//${hostAndPath}?${params}`;\n  }\n\n  load() {\n    const window = this.windowRef;\n\n    if (window.google && window.google.maps) {\n      // Google maps already loaded on the page.\n      return Promise.resolve();\n    }\n\n    if (this.loadAPIPromise) {\n      return this.loadAPIPromise;\n    }\n\n    const script = this.documentRef.createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.defer = true;\n    script.id = this.scriptID;\n    script.src = this.getScriptSrc(this.callbackName);\n    this.assignScriptLoadingPromise(script);\n    this.documentRef.body.appendChild(script);\n    return this.loadAPIPromise;\n  }\n\n}\n\nMapAPILoaderService.ɵfac = function MapAPILoaderService_Factory(t) {\n  return new (t || MapAPILoaderService)();\n};\n\nMapAPILoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MapAPILoaderService,\n  factory: MapAPILoaderService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapAPILoaderService, [{\n    type: Injectable\n  }], null, null);\n})();\n\nclass PaymentsBatchService {\n  constructor(batchOrdersHttpService) {\n    this.batchOrdersHttpService = batchOrdersHttpService;\n  }\n\n  getBatch(batchOrderId) {\n    return this.batchOrdersHttpService.getBatchOrdersById({\n      batchOrderId\n    });\n  }\n\n}\n\nPaymentsBatchService.ɵfac = function PaymentsBatchService_Factory(t) {\n  return new (t || PaymentsBatchService)(i0.ɵɵinject(i1$6.BatchOrdersHttpService));\n};\n\nPaymentsBatchService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PaymentsBatchService,\n  factory: PaymentsBatchService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentsBatchService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$6.BatchOrdersHttpService\n    }];\n  }, null);\n})();\n\nclass ConfigManager {\n  constructor(config) {\n    this.config = config;\n  }\n\n  isDisputable(transaction) {\n    return this.isBillingStatusApproved(transaction) && !this.isOld(transaction) && this.isOfRestrictedType(transaction);\n  }\n\n  isBillingStatusApproved(transaction) {\n    var _a;\n\n    if (!((_a = this.config) === null || _a === void 0 ? void 0 : _a.byBillingStatus)) {\n      return true;\n    }\n\n    return !(transaction === null || transaction === void 0 ? void 0 : transaction.isPending);\n  }\n\n  isOld(transaction) {\n    var _a;\n\n    if (!(transaction === null || transaction === void 0 ? void 0 : transaction.bookingDate)) {\n      return false;\n    }\n\n    const days = daysDiff(new Date(), transaction.bookingDate);\n    const byEligitibilityDays = ((_a = this.config) === null || _a === void 0 ? void 0 : _a.byEligitibilityDays) || 0;\n    return days > byEligitibilityDays;\n  }\n\n  isOfRestrictedType(transaction) {\n    var _a;\n\n    return (transaction === null || transaction === void 0 ? void 0 : transaction.type) ? (((_a = this.config) === null || _a === void 0 ? void 0 : _a.byTransactionTypes) || []).includes(transaction.type) : false;\n  }\n\n}\n\nclass TransactionDetailsService {\n  constructor(transactionsDataHttpService, mapApiLoader, paymentsBatchService) {\n    this.transactionsDataHttpService = transactionsDataHttpService;\n    this.mapApiLoader = mapApiLoader;\n    this.paymentsBatchService = paymentsBatchService;\n    /**\n     * watches the transaction that is shown in the details\n     */\n\n    this.transactionSelection = new Subject();\n    /**\n     * watches the configuration from CXP that can disable/enable check images\n     */\n\n    this.hasCheckImages = new ReplaySubject();\n    /**\n     * general status of each feature that runs asynchronously\n     */\n\n    this.transactionsDetailsStatus = new ReplaySubject();\n    this.mapsApiKey = new ReplaySubject();\n    this.batchOrder = this.transactionSelection.pipe(tap(() => {\n      this.transactionsDetailsStatus.next({\n        batchOrder: TransactionsDetailsLoadingState.loading\n      });\n    }), mergeMap(transaction => {\n      if (!transaction.batchOrderId) {\n        return of(undefined);\n      }\n\n      return this.paymentsBatchService.getBatch(transaction.batchOrderId).pipe(catchError(() => {\n        this.transactionsDetailsStatus.next({\n          batchOrder: TransactionsDetailsLoadingState.error\n        });\n        return of(undefined);\n      }));\n    }), map(data => {\n      this.transactionsDetailsStatus.next({\n        batchOrder: data ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notStarted\n      });\n      return data;\n    }));\n    this.transactionsDetailsStatus.next({\n      checkImages: TransactionsDetailsLoadingState.notStarted,\n      geolocation: TransactionsDetailsLoadingState.notStarted,\n      enableDisputeAndInquiry: TransactionsDetailsLoadingState.notStarted,\n      disputeOption: TransactionsDetailsLoadingState.notStarted,\n      batchOrder: TransactionsDetailsLoadingState.notStarted\n    });\n  }\n\n  set enableDisputeAndInquiry(value) {\n    this.transactionsDetailsStatus.next({\n      enableDisputeAndInquiry: value ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notLoaded\n    });\n  }\n\n  fromInquiryAndDispute(enableDisputeAndInquiry, disputeByBillingStatus, disputeEligibilityDays, disputeTransactionTypes) {\n    const config = combineLatest([enableDisputeAndInquiry, disputeByBillingStatus, disputeEligibilityDays, disputeTransactionTypes]).pipe(map(([enabled, byBillingStatus, byEligitibilityDays, byTransactionTypes]) => enabled ? {\n      byBillingStatus,\n      byEligitibilityDays,\n      byTransactionTypes\n    } : undefined));\n    combineLatest([this.transactionSelection, config]).subscribe({\n      next: ([transactionSelection, inquiryAndDispute]) => {\n        if (!inquiryAndDispute) {\n          this.transactionsDetailsStatus.next({\n            enableDisputeAndInquiry: TransactionsDetailsLoadingState.notLoaded,\n            disputeOption: TransactionsDetailsLoadingState.notLoaded\n          });\n        } else {\n          const configuration = new ConfigManager(inquiryAndDispute);\n          this.transactionsDetailsStatus.next({\n            enableDisputeAndInquiry: TransactionsDetailsLoadingState.done,\n            disputeOption: configuration.isDisputable(transactionSelection) ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notLoaded\n          });\n        }\n      }\n    });\n  }\n  /**\n   *\n   * @param transactionId\n   * triggers a new action that will cause transcations details reload and change an image\n   */\n\n\n  selectTransaction(transaction) {\n    this.transactionSelection.next(transaction);\n  }\n  /**\n   * Key-value pair that controls the loading status in transactions details\n   */\n\n\n  get loadingState() {\n    return this.transactionsDetailsStatus.pipe(scan((acc, curr) => Object.assign(Object.assign({}, acc), curr), {}));\n  }\n  /**\n   *\n   * @param hasCheckImages\n   * Configuration for check images reactive functionality\n   */\n\n\n  fromCheckImages(hasCheckImages) {\n    hasCheckImages.subscribe(this.hasCheckImages);\n    hasCheckImages.pipe(map(value => ({\n      checkImages: value ? TransactionsDetailsLoadingState.loading : TransactionsDetailsLoadingState.notLoaded\n    }))).subscribe({\n      next: value => {\n        this.transactionsDetailsStatus.next(value);\n      }\n    });\n    return this.setCondition(this.transactionSelection, this.hasCheckImages).pipe(tap(() => {\n      this.transactionsDetailsStatus.next({\n        checkImages: TransactionsDetailsLoadingState.loading\n      });\n    }), filter(transaction => transaction.checkImageAvailability === CheckImagesAvailability.available), switchMap(({\n      id: transactionId = ''\n    }) => this.transactionsDataHttpService.getTransactionCheckImages({\n      transactionId\n    }, 'response').pipe(tap(() => {\n      this.transactionsDetailsStatus.next({\n        checkImages: TransactionsDetailsLoadingState.done\n      });\n    }), catchError(error => {\n      switch (error.status) {\n        case 500:\n          {\n            this.transactionsDetailsStatus.next({\n              checkImages: TransactionsDetailsLoadingState.serverError\n            });\n            break;\n          }\n\n        case 400:\n          {\n            this.transactionsDetailsStatus.next({\n              checkImages: TransactionsDetailsLoadingState.badRequestError\n            });\n            break;\n          }\n\n        case 404:\n          {\n            this.transactionsDetailsStatus.next({\n              checkImages: TransactionsDetailsLoadingState.notFoundError\n            });\n            break;\n          }\n\n        default:\n          {\n            this.transactionsDetailsStatus.next({\n              checkImages: TransactionsDetailsLoadingState.error\n            });\n          }\n      }\n\n      return of(new HttpResponse({\n        body: {\n          images: []\n        }\n      }));\n    }), map(TransactionsCheckImages.fromHttpResponse))));\n  }\n\n  fromGeolocation(mapsApiKey) {\n    mapsApiKey.subscribe(this.mapsApiKey);\n    return combineLatest([this.transactionSelection, this.mapsApiKey]).pipe(map(([transaction, apiKey]) => {\n      this.mapApiLoader.config = {\n        apiKey,\n        libraries: ['geometry']\n      };\n      this.transactionsDetailsStatus.next({\n        geolocation: TransactionsDetailsLoadingState.loading\n      });\n\n      if (!apiKey || !transaction.location || !transaction.location.latitude || !transaction.location.longitude) {\n        this.transactionsDetailsStatus.next({\n          geolocation: TransactionsDetailsLoadingState.notLoaded\n        });\n        return Promise.resolve(false);\n      }\n\n      return this.mapApiLoader.load().then(() => {\n        this.transactionsDetailsStatus.next({\n          geolocation: TransactionsDetailsLoadingState.done\n        });\n        return true;\n      }, () => {\n        this.transactionsDetailsStatus.next({\n          geolocation: TransactionsDetailsLoadingState.error\n        });\n        return false;\n      });\n    }), mergeMap(promise => from(promise)));\n  }\n  /**\n   * destroy lifecycle hook that will release resources\n   */\n\n\n  ngOnDestroy() {\n    this.transactionSelection.complete();\n    this.transactionsDetailsStatus.complete();\n    this.mapsApiKey.complete();\n  }\n  /**\n   *\n   * @param feature\n   * @param toggle\n   *\n   * Prevents from emiting values if the cxp configuration is set as disabled\n   */\n\n\n  setCondition(feature, toggle) {\n    return combineLatest([feature, toggle]).pipe(filter(([, condition]) => condition), map(([value]) => value));\n  }\n\n}\n\nTransactionDetailsService.ɵfac = function TransactionDetailsService_Factory(t) {\n  return new (t || TransactionDetailsService)(i0.ɵɵinject(i1$1.TransactionClientHttpService), i0.ɵɵinject(MapAPILoaderService), i0.ɵɵinject(PaymentsBatchService));\n};\n\nTransactionDetailsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TransactionDetailsService,\n  factory: TransactionDetailsService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionDetailsService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.TransactionClientHttpService\n    }, {\n      type: MapAPILoaderService\n    }, {\n      type: PaymentsBatchService\n    }];\n  }, null);\n})();\n\nclass AvailableFiltersConfigService {\n  constructor(accountsService) {\n    this.accountsService = accountsService;\n    this.availableFiltersConfig$ = new ReplaySubject(1);\n    this.selectedAccounts$ = new ReplaySubject(1);\n    this.productSummary$ = this.getProductSummaryForSelectedAccounts();\n    this.availableFilters$ = this.getAvailableFilters();\n  }\n\n  setFilterConfigurationAndAccount(availableFiltersConfig, selectedAccounts) {\n    availableFiltersConfig.subscribe(this.availableFiltersConfig$);\n    selectedAccounts.subscribe(this.selectedAccounts$);\n  }\n\n  getProductSummaryForSelectedAccounts() {\n    return combineLatest([this.accountsService.getProductSummary(), this.selectedAccounts$]).pipe(map(([productSummaryItems, selectedAccounts]) => productSummaryItems.filter(productSummaryItem => selectedAccounts === null || selectedAccounts === void 0 ? void 0 : selectedAccounts.includes(productSummaryItem.id))));\n  }\n\n  getAvailableFilters() {\n    return combineLatest([this.availableFiltersConfig$, this.productSummary$]).pipe(map(([availableFiltersConfig, productSummaryItems]) => {\n      const availableFilters = productSummaryItems.reduce((filters, productSummaryItem) => filters.concat(this.getFiltersFromConfigs(productSummaryItem, availableFiltersConfig)), []);\n      return Array.from(new Set(availableFilters));\n    }));\n  }\n\n  getFiltersFromConfigs(productSummaryItem, availableFiltersConfig) {\n    var _a;\n\n    const availableFilters = (_a = this.getFiltersFromConfigObject(availableFiltersConfig, productSummaryItem)) !== null && _a !== void 0 ? _a : this.getFiltersFromConfigObject(defaultAvailableFiltersConfig, productSummaryItem);\n    return availableFilters !== null && availableFilters !== void 0 ? availableFilters : defaultAvailableFiltersConfig.defaultFilters;\n  }\n\n  getFiltersFromConfigObject(config, productSummaryItem) {\n    if (productSummaryItem.productKindName !== undefined) {\n      const productKind = config[productSummaryItem.productKindName];\n      if (productKind === undefined) return undefined;\n      if (Array.isArray(productKind)) return productKind;\n      if (productSummaryItem.productTypeName === undefined) return undefined;\n      return productKind[productSummaryItem.productTypeName];\n    }\n\n    return undefined;\n  }\n\n}\n\nAvailableFiltersConfigService.ɵfac = function AvailableFiltersConfigService_Factory(t) {\n  return new (t || AvailableFiltersConfigService)(i0.ɵɵinject(AccountsService));\n};\n\nAvailableFiltersConfigService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AvailableFiltersConfigService,\n  factory: AvailableFiltersConfigService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AvailableFiltersConfigService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: AccountsService\n    }];\n  }, null);\n})(); // eslint-disable-next-line\n\n\nclass BaseTransactionsContainer {\n  constructor(model, widgetProperties, cd, eventBusService, notificationService, pendingTransactionsService, transactionDetailsService, availableFiltersConfigService, showDetailsConfig) {\n    this.model = model;\n    this.widgetProperties = widgetProperties;\n    this.cd = cd;\n    this.eventBusService = eventBusService;\n    this.notificationService = notificationService;\n    this.pendingTransactionsService = pendingTransactionsService;\n    this.transactionDetailsService = transactionDetailsService;\n    this.availableFiltersConfigService = availableFiltersConfigService;\n    this.showDetailsConfig = showDetailsConfig;\n    /**\n     * Reference to instance of customizable component.\n     */\n\n    this.hostRef = this;\n    this.apiKeySubject = new BehaviorSubject(undefined);\n    /**\n     * Observable of options to initialize the filter with.  By default, it is empty.\n     */\n\n    this.initialFilterOptions = of({});\n    /**\n     * Observable of options to initialize the sort options with.  By default, it is empty.\n     */\n\n    this.initialSortOptions = of(undefined);\n    this.transactionSelected = new EventEmitter();\n    this.transactionsLoaded = new EventEmitter();\n    this.pageSizeSubject = new BehaviorSubject(undefined);\n    this.maxNavPagesSubject = new BehaviorSubject(undefined);\n    this.paginationTypeSubject = new BehaviorSubject(undefined);\n    this.showControlsSubject = new BehaviorSubject(undefined);\n    this.showChangeCategorySubject = new BehaviorSubject(undefined);\n    this.showPendingTransactionsOnTopSubject = new BehaviorSubject(undefined);\n    this.showCheckImageSubject = new BehaviorSubject(undefined);\n    this.showManageNotesSubject = new BehaviorSubject(undefined);\n    this.getOrPostEndpointsSubject = new BehaviorSubject(undefined);\n    this.disputeByBillingStatusSubject = new BehaviorSubject(undefined);\n    this.disputeEligibilityDaysSubject = new BehaviorSubject(undefined);\n    this.disputeTransactionTypesSubject = new BehaviorSubject(undefined);\n    this.enableDisputeAndInquirySubject = new BehaviorSubject(false);\n    this.inquireTopicIdSubject = new BehaviorSubject('');\n    this.disputeTopicIdSubject = new BehaviorSubject('');\n    /**\n     * Events registered to transactions widgets\n     */\n\n    this.registeredRefreshTransactionsListEvents = [];\n    this.unsubscribeSubject = new Subject();\n    /**\n     * Subject that listens the transactionsList observable and provides the export types\n     */\n\n    this.exportConfig = new BehaviorSubject({});\n    this.exportErrorMessagesRef = {};\n    this.numberOfResultsFound = new ReplaySubject();\n    this.numberOfResultsDisplayed = new ReplaySubject();\n    this.availableFiltersConfig = new ReplaySubject(1);\n    this.availableFilters = this.availableFiltersConfigService.availableFilters$;\n    this.inquireTopicId = filterInputParameters(this.inquireTopicIdSubject.asObservable(), this.widgetProperties.inquireTopicId);\n    this.disputeTopicId = filterInputParameters(this.disputeTopicIdSubject.asObservable(), this.widgetProperties.disputeTopicId);\n    this.inquireAndDisputeTopics = combineLatest([this.inquireTopicId, this.disputeTopicId]).pipe(map(([inquire, dispute]) => ({\n      inquire,\n      dispute\n    })));\n\n    this.refreshTransactionsListHandler = () => {\n      this.model.refreshTransactions();\n    };\n    /**\n     * @deprecated will be removed in 11.0.0\n     */\n\n\n    this.handleError = errorResponse => {\n      this.errors = TransactionsBackendError.fromHttpErrorsResponse(errorResponse);\n      return of({\n        items: [],\n        totalCount: 0\n      });\n    };\n  }\n  /**\n   * API key needed for the google maps to work.\n   */\n  // eslint-disable-next-line\n\n\n  set googleAPIKey(key) {\n    this.apiKeySubject.next(key);\n  }\n  /**\n   * input parameters that will take the place of model properties--\n   */\n\n\n  set pageSizeValue(value) {\n    this.pageSizeSubject.next(value);\n  }\n\n  set maxNavPagesValue(value) {\n    this.maxNavPagesSubject.next(value);\n  }\n\n  set paginationTypeValue(value) {\n    this.paginationTypeSubject.next(value);\n  }\n\n  set showControlsValue(value) {\n    this.showControlsSubject.next(value);\n  }\n\n  set showChangeCategoryValue(value) {\n    this.showChangeCategorySubject.next(value);\n  }\n\n  set showPendingTransactionsOnTopValue(value) {\n    this.showPendingTransactionsOnTopSubject.next(value);\n  }\n\n  set showCheckImageValue(value) {\n    this.showCheckImageSubject.next(value);\n  }\n\n  set showManageNotesValue(value) {\n    this.showManageNotesSubject.next(value);\n  }\n\n  set getOrPostEndpointsValue(value) {\n    this.getOrPostEndpointsSubject.next(value);\n  }\n\n  set disputeByBillingStatusValue(value) {\n    this.disputeByBillingStatusSubject.next(typeof value === 'boolean' ? value : value === 'true');\n  }\n\n  set disputeEligibilityDaysValue(value) {\n    this.disputeEligibilityDaysSubject.next(value);\n  }\n\n  set disputeTransactionTypesValue(value) {\n    this.disputeTransactionTypesSubject.next((value || '').split(','));\n  }\n\n  set enableDisputeAndInquiryValue(value) {\n    this.enableDisputeAndInquirySubject.next(typeof value === 'boolean' ? value : value === 'true');\n  }\n\n  set availableFiltersValue(availableFiltersConfig) {\n    this.availableFiltersConfig.next(availableFiltersConfig);\n  }\n  /** end input parameters--- */\n\n  /**\n   * Information about the backend error, if it occurs.\n   */\n\n  /**\n   * @deprecated will be removed in 11.0.0\n   */\n\n\n  get error() {\n    return this.errors && this.errors[0];\n  }\n\n  clearRefreshTransactionsListEvents() {\n    this.registeredRefreshTransactionsListEvents.forEach(eventName => {\n      this.eventBusService.unsubscribe(eventName, this.refreshTransactionsListHandler);\n    });\n    this.registeredRefreshTransactionsListEvents = [];\n  }\n\n  retry() {\n    this.model.retryFiltering();\n    this.pendingTransactionsService.retryFiltering();\n  }\n\n  ngOnDestroy() {\n    this.clearRefreshTransactionsListEvents();\n    this.unsubscribeSubject.next();\n    this.unsubscribeSubject.complete();\n  }\n\n  get pageSize() {\n    return filterInputParameters(this.pageSizeSubject.asObservable(), this.widgetProperties.pageSize);\n  }\n\n  get maxNavPages() {\n    return filterInputParameters(this.maxNavPagesSubject.asObservable(), this.widgetProperties.maxNavPages);\n  }\n\n  get showControls() {\n    return filterInputParameters(this.showControlsSubject.asObservable(), this.widgetProperties.showControls);\n  }\n\n  get isFilterApplied() {\n    return this.model.isFilterApplied;\n  }\n\n  get isSearchApplied() {\n    return this.model.isSearchApplied;\n  }\n\n  get paginationType() {\n    return filterInputParameters(this.paginationTypeSubject.asObservable(), this.widgetProperties.paginationType);\n  }\n\n  get showPendingTransactionsOnTop() {\n    return filterInputParameters(this.showPendingTransactionsOnTopSubject.asObservable(), this.widgetProperties.showPendingTransactionsOnTop);\n  }\n\n  get showChangeCategory() {\n    return filterInputParameters(this.showChangeCategorySubject.asObservable(), this.widgetProperties.showChangeCategory);\n  }\n\n  get showCheckImage() {\n    return filterInputParameters(this.showCheckImageSubject.asObservable(), this.widgetProperties.showCheckImage);\n  }\n\n  get showManageNotes() {\n    return filterInputParameters(this.showManageNotesSubject, this.widgetProperties.showManageNotes);\n  }\n\n  get getOrPostEndpoint() {\n    return filterInputParameters(this.getOrPostEndpointsSubject.asObservable(), this.widgetProperties.getOrPostEndpoints);\n  }\n\n  get gmapsAPIKey() {\n    return combineLatest([this.apiKeySubject.asObservable(), this.widgetProperties.gmapsAPIKey]).pipe(map(([inputVal, propVal]) => inputVal || propVal));\n  }\n\n  get enableDisputeAndInquiry() {\n    return filterInputParameters(this.enableDisputeAndInquirySubject.asObservable(), this.widgetProperties.enableDisputeAndInquiry);\n  }\n\n  get disputeByBillingStatus() {\n    return filterInputParameters(this.disputeByBillingStatusSubject.asObservable(), this.widgetProperties.disputeByBillingStatus);\n  }\n\n  get disputeEligibilityDays() {\n    return filterInputParameters(this.disputeEligibilityDaysSubject.asObservable(), this.widgetProperties.disputeEligibilityDays);\n  }\n\n  get disputeTransactionTypes() {\n    return filterInputParameters(this.disputeTransactionTypesSubject.asObservable(), this.widgetProperties.disputeTransactionTypes);\n  }\n\n  onLoadMore() {\n    this.model.loadMore();\n  }\n\n  ngOnInit() {\n    if (typeof this.selectedAccount === 'undefined') {\n      throw new Error(`\"selectedAccount\" input is required in \"${this.constructor.name}\"`);\n    }\n\n    const initialListOptions = combineLatest([this.initialFilterOptions, this.initialSortOptions]).pipe(map(([initialFilterOptions, initialSortOptions]) => ({\n      filter: initialFilterOptions,\n      sort: initialSortOptions\n    })));\n    this.model.getTransactionsFrom(this.selectedAccount.pipe(map(value => value !== null && value !== void 0 ? value : [])), this.pageSize, initialListOptions, this.showPendingTransactionsOnTop, this.getOrPostEndpoint);\n\n    if (this.showDetailsConfig) {\n      this.checkImagesList = this.transactionDetailsService.fromCheckImages(this.showCheckImage);\n      this.transactionDetailsLoadingStatus = this.transactionDetailsService.loadingState;\n      this.transactionDetailsService.fromGeolocation(this.gmapsAPIKey).pipe(takeUntil(this.unsubscribeSubject)).subscribe();\n    }\n\n    this.transactionsList = this.model.getTransactionsList().pipe(publishReplay(1), refCount(), tap(data => {\n      this.errors = data.httpResponseError ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError) : undefined;\n      this.cd.markForCheck();\n    }));\n    this.pendingTransactionsService.getTransactionsFrom(this.selectedAccount.pipe(map(value => value !== null && value !== void 0 ? value : [])), initialListOptions, this.getOrPostEndpoint);\n    this.pendingTransactionsList = this.pendingTransactionsService.getTransactionsList().pipe(publishReplay(1), refCount(), tap(data => {\n      this.errors = data.httpResponseError ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError) : undefined;\n      this.cd.markForCheck();\n    }));\n    this.transactionsList.pipe(takeUntil(this.unsubscribeSubject), map(transactionsList => {\n      if (!transactionsList) {\n        return {};\n      }\n\n      const {\n        availableExportTypesHeader,\n        unavailableExportTypesReasonsHeader\n      } = transactionsList;\n      return combineExportTypesConfig({\n        availableExportTypesHeader,\n        unavailableExportTypesReasonsHeader\n      });\n    })).subscribe(this.exportConfig);\n    const transactionsListCount = this.transactionsList.pipe(map(trans => ({\n      history: trans ? trans.totalCount : 0\n    })));\n    const pendingTransactionsListCount = this.pendingTransactionsList.pipe(map(trans => ({\n      pending: trans ? trans.totalCount : 0\n    })));\n    const transactionsListItemsToDisplay = this.transactionsList.pipe(map(trans => ({\n      history: trans ? trans.items.length : 0\n    })));\n    const pendingTransactionsListItemsToDisplay = this.pendingTransactionsList.pipe(map(trans => ({\n      pending: trans ? trans.items.length : 0\n    })));\n    this.sumTransactionsResults(transactionsListCount, pendingTransactionsListCount).pipe(takeUntil(this.unsubscribeSubject)).subscribe(this.numberOfResultsFound);\n    this.sumTransactionsResults(transactionsListItemsToDisplay, pendingTransactionsListItemsToDisplay).pipe(takeUntil(this.unsubscribeSubject)).subscribe(this.numberOfResultsDisplayed);\n    this.currentPage = this.model.getCurrentPage();\n    this.loadingState = this.model.loadingState;\n    this.loadingPendingState = this.pendingTransactionsService.loadingState;\n    this.widgetProperties.refreshTransactionsListEvents.pipe(takeUntil(this.unsubscribeSubject)).subscribe(events => {\n      this.clearRefreshTransactionsListEvents();\n\n      if (events) {\n        this.registeredRefreshTransactionsListEvents = events.split(',');\n        this.registeredRefreshTransactionsListEvents.forEach(eventName => {\n          this.eventBusService.subscribe(eventName, this.refreshTransactionsListHandler);\n        });\n      }\n    });\n    this.configureTransctionsDetailsOutputBehaviour();\n    this.transactionDetailsService.fromInquiryAndDispute(this.enableDisputeAndInquiry, this.disputeByBillingStatus, this.disputeEligibilityDays, this.disputeTransactionTypes);\n    this.availableFiltersConfigService.setFilterConfigurationAndAccount(this.availableFiltersConfig.asObservable(), this.selectedAccount.pipe(map(value => value !== null && value !== void 0 ? value : [])));\n  }\n\n  configureTransctionsDetailsOutputBehaviour() {\n    if (this.transactionsList && this.pendingTransactionsList && !this.showDetailsConfig) {\n      const pending = this.showPendingTransactionsOnTop.pipe(mergeMap(cond => iif(() => cond, this.pendingTransactionsList, of({\n        items: [],\n        totalCount: 0\n      }))));\n      combineLatest([pending, this.transactionsList]).pipe(takeUntil(this.unsubscribeSubject), map(([pendingTransactionsList, transactionsList]) => {\n        const pendingTransactions = pendingTransactionsList ? pendingTransactionsList.items : [];\n        const transactions = transactionsList ? transactionsList.items : [];\n        const mixed = {\n          items: [...pendingTransactions, ...transactions],\n          totalCount: ((pendingTransactionsList === null || pendingTransactionsList === void 0 ? void 0 : pendingTransactionsList.totalCount) || 0) + ((transactionsList === null || transactionsList === void 0 ? void 0 : transactionsList.totalCount) || 0)\n        };\n        return mixed;\n      })).subscribe(data => {\n        this.transactionsLoaded.emit(data);\n      });\n    }\n  }\n\n  sumTransactionsResults(historyCount, pendingCount) {\n    return this.showPendingTransactionsOnTop.pipe(mergeMap(showPendingTransactionsOnTop => iif(() => showPendingTransactionsOnTop, merge(historyCount, pendingCount), historyCount)), scan((acc, curr) => Object.assign(Object.assign({}, acc), curr), {\n      history: 0,\n      pending: 0\n    }), map(({\n      history = 0,\n      pending = 0\n    }) => history + pending));\n  }\n\n  onPageChange(page) {\n    this.model.pageChange(page);\n  }\n\n  onSearch(query) {\n    // search ui component sends an unexpected event\n    // that is type Event. To avoid calling backend with that event\n    // it has to be string\n    if (typeof query === 'string') {\n      this.model.search(query);\n      this.pendingTransactionsService.search(query);\n    }\n  }\n\n  onFilter(filterOptions) {\n    this.model.filter(filterOptions);\n    this.pendingTransactionsService.filter(filterOptions);\n  }\n\n  onSort(sortOptions) {\n    this.model.sort(sortOptions);\n  }\n\n  onPrint() {\n    window.print();\n  }\n\n  onExport(exportType) {\n    this.storedExportType = Object.assign({}, exportType);\n\n    if (exportType.isAvailable) {\n      this.model.exportToType(exportType.name).pipe(takeUntil(this.unsubscribeSubject)).subscribe(response => {\n        const anchorTag = document.createElement('a');\n        anchorTag.href = URL.createObjectURL(response.body);\n        const fileName = getNameFromContentDispositionHeader(response);\n        const defaultName = exportType.name.toLowerCase() === 'pdf' ? 'Account Activities' : 'transactions';\n        anchorTag.download = fileName !== '' ? fileName : defaultName;\n        anchorTag.click();\n      }, () => {\n        this.notificationService.showNotification({\n          header: this.notificationServerErrorHeader,\n          message: this.notificationServerErrorMessage || '',\n          modifier: 'error'\n        });\n      });\n    } else {\n      this.pushNotification({\n        header: this.notificationErrorUpdateHeaderTemplate,\n        message: this.notificationErrorUpdateMessageTemplate,\n        modifier: 'error'\n      });\n    }\n  }\n\n  onDetailOpen(transaction) {\n    if (!this.showDetailsConfig) {\n      this.transactionSelected.emit(transaction);\n    } else {\n      this.transactionDetailsService.selectTransaction(transaction);\n    }\n  }\n\n  pushNotification(notificationMessage) {\n    this.notificationService.showNotification(Object.assign({\n      dismissible: true,\n      ttl: notificationTtl\n    }, notificationMessage));\n  }\n\n}\n\nBaseTransactionsContainer.ɵfac = function BaseTransactionsContainer_Factory(t) {\n  i0.ɵɵinvalidFactory();\n};\n\nBaseTransactionsContainer.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BaseTransactionsContainer,\n  viewQuery: function BaseTransactionsContainer_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c109, 5);\n      i0.ɵɵviewQuery(_c110, 5);\n      i0.ɵɵviewQuery(_c111, 5);\n      i0.ɵɵviewQuery(_c112, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notificationErrorUpdateHeaderTemplate = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notificationErrorUpdateMessageTemplate = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notificationServerErrorHeader = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notificationServerErrorMessage = _t.first);\n    }\n  },\n  inputs: {\n    googleAPIKey: \"googleAPIKey\",\n    selectedAccount: \"selectedAccount\",\n    initialFilterOptions: \"initialFilterOptions\",\n    initialSortOptions: \"initialSortOptions\",\n    pageSizeValue: [\"pageSize\", \"pageSizeValue\"],\n    maxNavPagesValue: [\"maxNavPages\", \"maxNavPagesValue\"],\n    paginationTypeValue: [\"paginationType\", \"paginationTypeValue\"],\n    showControlsValue: [\"showControls\", \"showControlsValue\"],\n    showChangeCategoryValue: [\"showChangeCategory\", \"showChangeCategoryValue\"],\n    showPendingTransactionsOnTopValue: [\"showPendingTransactionsOnTop\", \"showPendingTransactionsOnTopValue\"],\n    showCheckImageValue: [\"showCheckImage\", \"showCheckImageValue\"],\n    showManageNotesValue: [\"showManageNotes\", \"showManageNotesValue\"],\n    getOrPostEndpointsValue: [\"getOrPostEndpoints\", \"getOrPostEndpointsValue\"],\n    disputeByBillingStatusValue: [\"disputeByBillingStatus\", \"disputeByBillingStatusValue\"],\n    disputeEligibilityDaysValue: [\"disputeEligibilityDays\", \"disputeEligibilityDaysValue\"],\n    disputeTransactionTypesValue: [\"disputeTransactionTypes\", \"disputeTransactionTypesValue\"],\n    enableDisputeAndInquiryValue: [\"enableDisputeAndInquiry\", \"enableDisputeAndInquiryValue\"],\n    availableFiltersValue: [\"availableFiltersConfig\", \"availableFiltersValue\"],\n    inquireTopicIdValue: [\"inquireTopicId\", \"inquireTopicIdValue\"],\n    disputeTopicIdValue: [\"disputeTopicId\", \"disputeTopicIdValue\"]\n  },\n  outputs: {\n    transactionSelected: \"transactionSelected\",\n    transactionsLoaded: \"transactionsLoaded\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BaseTransactionsContainer, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: TransactionsService\n    }, {\n      type: WidgetPropertiesService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: undefined\n    }, {\n      type: i3$4.NotificationService\n    }, {\n      type: PendingTransactionsService\n    }, {\n      type: TransactionDetailsService\n    }, {\n      type: AvailableFiltersConfigService\n    }, {\n      type: undefined\n    }];\n  }, {\n    notificationErrorUpdateHeaderTemplate: [{\n      type: ViewChild,\n      args: ['notificationErrorUpdateHeader']\n    }],\n    notificationErrorUpdateMessageTemplate: [{\n      type: ViewChild,\n      args: ['notificationErrorUpdateMessage']\n    }],\n    notificationServerErrorHeader: [{\n      type: ViewChild,\n      args: ['notificationServerErrorHeader', {\n        static: false\n      }]\n    }],\n    notificationServerErrorMessage: [{\n      type: ViewChild,\n      args: ['notificationServerErrorMessage', {\n        static: false\n      }]\n    }],\n    googleAPIKey: [{\n      type: Input\n    }],\n    selectedAccount: [{\n      type: Input\n    }],\n    initialFilterOptions: [{\n      type: Input\n    }],\n    initialSortOptions: [{\n      type: Input\n    }],\n    pageSizeValue: [{\n      type: Input,\n      args: ['pageSize']\n    }],\n    maxNavPagesValue: [{\n      type: Input,\n      args: ['maxNavPages']\n    }],\n    paginationTypeValue: [{\n      type: Input,\n      args: ['paginationType']\n    }],\n    showControlsValue: [{\n      type: Input,\n      args: ['showControls']\n    }],\n    showChangeCategoryValue: [{\n      type: Input,\n      args: ['showChangeCategory']\n    }],\n    showPendingTransactionsOnTopValue: [{\n      type: Input,\n      args: ['showPendingTransactionsOnTop']\n    }],\n    showCheckImageValue: [{\n      type: Input,\n      args: ['showCheckImage']\n    }],\n    showManageNotesValue: [{\n      type: Input,\n      args: ['showManageNotes']\n    }],\n    getOrPostEndpointsValue: [{\n      type: Input,\n      args: ['getOrPostEndpoints']\n    }],\n    disputeByBillingStatusValue: [{\n      type: Input,\n      args: ['disputeByBillingStatus']\n    }],\n    disputeEligibilityDaysValue: [{\n      type: Input,\n      args: ['disputeEligibilityDays']\n    }],\n    disputeTransactionTypesValue: [{\n      type: Input,\n      args: ['disputeTransactionTypes']\n    }],\n    enableDisputeAndInquiryValue: [{\n      type: Input,\n      args: ['enableDisputeAndInquiry']\n    }],\n    availableFiltersValue: [{\n      type: Input,\n      args: ['availableFiltersConfig']\n    }],\n    inquireTopicIdValue: [{\n      type: Input,\n      args: ['inquireTopicId']\n    }],\n    disputeTopicIdValue: [{\n      type: Input,\n      args: ['disputeTopicId']\n    }],\n    transactionSelected: [{\n      type: Output\n    }],\n    transactionsLoaded: [{\n      type: Output\n    }]\n  });\n})();\n\nclass TransactionsNoAccountSelectedStateCustomizableDirective extends BbTemplate {}\n\nTransactionsNoAccountSelectedStateCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵTransactionsNoAccountSelectedStateCustomizableDirective_BaseFactory;\n  return function TransactionsNoAccountSelectedStateCustomizableDirective_Factory(t) {\n    return (ɵTransactionsNoAccountSelectedStateCustomizableDirective_BaseFactory || (ɵTransactionsNoAccountSelectedStateCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TransactionsNoAccountSelectedStateCustomizableDirective)))(t || TransactionsNoAccountSelectedStateCustomizableDirective);\n  };\n}();\n\nTransactionsNoAccountSelectedStateCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TransactionsNoAccountSelectedStateCustomizableDirective,\n  selectors: [[\"\", \"bbTransactionsNoAccountSelectedStateCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsNoAccountSelectedStateCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbTransactionsNoAccountSelectedStateCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass TransactionsErrorStateCustomizableDirective extends BbTemplate {}\n\nTransactionsErrorStateCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵTransactionsErrorStateCustomizableDirective_BaseFactory;\n  return function TransactionsErrorStateCustomizableDirective_Factory(t) {\n    return (ɵTransactionsErrorStateCustomizableDirective_BaseFactory || (ɵTransactionsErrorStateCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TransactionsErrorStateCustomizableDirective)))(t || TransactionsErrorStateCustomizableDirective);\n  };\n}();\n\nTransactionsErrorStateCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: TransactionsErrorStateCustomizableDirective,\n  selectors: [[\"\", \"bbTransactionsErrorStateCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsErrorStateCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbTransactionsErrorStateCustomizable]'\n    }]\n  }], null, null);\n})();\n\nclass CapitalizePipe {\n  transform(value) {\n    return value[0].toUpperCase() + value.substr(1).toLowerCase();\n  }\n\n}\n\nCapitalizePipe.ɵfac = function CapitalizePipe_Factory(t) {\n  return new (t || CapitalizePipe)();\n};\n\nCapitalizePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"bbCapitalizePipe\",\n  type: CapitalizePipe,\n  pure: true\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CapitalizePipe, [{\n    type: Pipe,\n    args: [{\n      name: 'bbCapitalizePipe'\n    }]\n  }], null, null);\n})();\n\nvar TransactionIconType;\n\n(function (TransactionIconType) {\n  TransactionIconType[TransactionIconType[\"category\"] = 1] = \"category\";\n  TransactionIconType[TransactionIconType[\"type\"] = 2] = \"type\";\n  TransactionIconType[TransactionIconType[\"creditDebit\"] = 3] = \"creditDebit\";\n})(TransactionIconType || (TransactionIconType = {}));\n\nclass BaseTransactionIcon {\n  cleanClassName(text) {\n    const result = text.toLowerCase().replace(/\\W/g, '-').replace(/-{2,}/g, '-');\n\n    if (result.endsWith('-')) {\n      return result.slice(0, -1);\n    } else {\n      return result;\n    }\n  }\n\n  throwIfIncorrect() {\n    if (!this.isValid) {\n      throw new Error(`Invalid transaction provided to ${this.constructor.name}`);\n    }\n  }\n\n  constructor() {\n    this.throwIfIncorrect();\n  }\n\n}\n\nclass TransactionCategoryIcon extends BaseTransactionIcon {\n  constructor(transaction) {\n    super();\n    this.transaction = transaction;\n  }\n\n  get title() {\n    return !this.transaction.isPending ? this.transaction.category || '' : 'pending';\n  }\n\n  get type() {\n    return TransactionIconType.category;\n  }\n\n  isValid() {\n    return this.transaction.isPending || this.transaction !== undefined && this.transaction.category !== undefined;\n  }\n\n  formatClassName() {\n    return `bb-transaction-category-${this.cleanClassName(this.transaction.category || 'pending')}`;\n  }\n\n}\n\nclass TransactionTypeIcon extends BaseTransactionIcon {\n  constructor(transaction) {\n    super();\n    this.transaction = transaction;\n  }\n\n  get title() {\n    return this.transaction.type || '';\n  }\n\n  get type() {\n    return TransactionIconType.type;\n  }\n\n  isValid() {\n    return !!this.transaction && !!this.transaction.type;\n  }\n\n  formatClassName() {\n    return this.transaction.type ? `bb-icon-transaction-type-${this.cleanClassName(this.transaction.type)}` : '';\n  }\n\n}\n\nclass TransactionCreditDebitIcon extends BaseTransactionIcon {\n  constructor(transaction) {\n    super();\n    this.transaction = transaction;\n  }\n\n  get title() {\n    return this.indicator;\n  }\n\n  get type() {\n    return TransactionIconType.creditDebit;\n  }\n\n  formatClassName() {\n    return this.transaction.transactionAmountCurrency ? `bb-icon-credit-debit-indicator-${this.cleanClassName(this.indicator)}` : '';\n  }\n\n  get indicator() {\n    if (this.transaction.transactionAmountCurrency) {\n      return parseInt(this.transaction.transactionAmountCurrency.amount, 10) > 0 ? 'incoming' : 'outgoing';\n    }\n\n    return '';\n  }\n\n  isValid() {\n    return this.transaction !== undefined && this.transaction.transactionAmountCurrency !== undefined;\n  }\n\n}\n\nclass TransactionsIconCategoriesFactoryService {\n  create(transaction) {\n    if (transaction.category || transaction.isPending) {\n      return new TransactionCategoryIcon(transaction);\n    } else if (transaction.type) {\n      return new TransactionTypeIcon(transaction);\n    } else {\n      return new TransactionCreditDebitIcon(transaction);\n    }\n  }\n\n}\n\nTransactionsIconCategoriesFactoryService.ɵfac = function TransactionsIconCategoriesFactoryService_Factory(t) {\n  return new (t || TransactionsIconCategoriesFactoryService)();\n};\n\nTransactionsIconCategoriesFactoryService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TransactionsIconCategoriesFactoryService,\n  factory: TransactionsIconCategoriesFactoryService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsIconCategoriesFactoryService, [{\n    type: Injectable\n  }], null, null);\n})();\n\nclass TransactionCategoryIconComponent {\n  constructor(transactionsIconCategoriesFactory, cd) {\n    this.transactionsIconCategoriesFactory = transactionsIconCategoriesFactory;\n    this.cd = cd;\n    /**\n     * Whether to show the icon in a circle.\n     */\n\n    this.circle = false;\n    /* eslint-enable */\n\n    /**\n     * Determines if the image is done loading.\n     */\n\n    this.hasImageLoaded = false;\n  }\n\n  ngOnInit() {\n    if (this.transaction === undefined) {\n      throw new Error(`\"transaction\" input is required in \"${this.constructor.name}\"`);\n    }\n\n    this.transactionIcon = this.transactionsIconCategoriesFactory.create(this.transaction);\n  }\n\n  ngAfterViewInit() {\n    if (this.categoryImage) {\n      this.categoryImage.nativeElement.onload = () => {\n        this.hasImageLoaded = true;\n        this.cd.markForCheck();\n      };\n    }\n  }\n\n}\n\nTransactionCategoryIconComponent.ɵfac = function TransactionCategoryIconComponent_Factory(t) {\n  return new (t || TransactionCategoryIconComponent)(i0.ɵɵdirectiveInject(TransactionsIconCategoriesFactoryService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nTransactionCategoryIconComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionCategoryIconComponent,\n  selectors: [[\"bb-transaction-category-icon\"]],\n  viewQuery: function TransactionCategoryIconComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c113, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.categoryImage = _t.first);\n    }\n  },\n  inputs: {\n    transaction: \"transaction\",\n    circle: \"circle\",\n    size: \"size\"\n  },\n  decls: 2,\n  vars: 7,\n  consts: [[\"aria-hidden\", \"true\", 1, \"bb-transaction-category\", \"bb-transaction-category--enriched\", 3, \"title\", \"ngClass\"], [\"class\", \"bb-transaction-category__image\", 3, \"hidden\", \"src\", 4, \"ngIf\"], [1, \"bb-transaction-category__image\", 3, \"hidden\", \"src\"], [\"categoryImage\", \"\"]],\n  template: function TransactionCategoryIconComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, TransactionCategoryIconComponent_img_1_Template, 2, 2, \"img\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵpropertyInterpolate(\"title\", (ctx.transaction == null ? null : ctx.transaction.merchant) ? ctx.transaction == null ? null : ctx.transaction.merchant == null ? null : ctx.transaction.merchant.name : ctx.transactionIcon == null ? null : ctx.transactionIcon.title);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(3, _c114, ctx.circle ? \"bb-transaction-category-icon-circle\" : \"bb-transaction-category-icon\", ctx.size ? \"bb-transaction-category--\" + ctx.size : \"\", !(ctx.transaction == null ? null : ctx.transaction.merchant == null ? null : ctx.transaction.merchant.logo) || !ctx.hasImageLoaded ? ctx.transactionIcon == null ? null : ctx.transactionIcon.formatClassName() : \"\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.transaction == null ? null : ctx.transaction.merchant == null ? null : ctx.transaction.merchant.logo);\n    }\n  },\n  directives: [i2.NgClass, i2.NgIf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionCategoryIconComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transaction-category-icon',\n      templateUrl: './transaction-category-icon.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: TransactionsIconCategoriesFactoryService\n    }, {\n      type: i0.ChangeDetectorRef\n    }];\n  }, {\n    transaction: [{\n      type: Input\n    }],\n    circle: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    categoryImage: [{\n      type: ViewChild,\n      args: ['categoryImage']\n    }]\n  });\n})();\n\nclass TransactionUpdateService {\n  constructor(transactionsDataHttpService) {\n    this.transactionsDataHttpService = transactionsDataHttpService;\n  }\n\n  handleError(error) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred.  Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    } // Return an observable with a user-facing error message.\n\n\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  update(transaction, update) {\n    if (typeof transaction.id === 'undefined' || typeof transaction.arrangementId === 'undefined') {\n      return throwError('updateNotes: invalid transaction');\n    }\n\n    return this.transactionsDataHttpService.patchTransactions({\n      transactionsClientPatchRequestBody: [{\n        id: transaction.id,\n        arrangementId: transaction.arrangementId,\n        notes: update.notes,\n        disputeStatus: update.disputeStatus,\n        category: update.category\n      }]\n    }, 'response').pipe(catchError(this.handleError));\n  }\n\n  setDisputeStatus(transaction, disputeStatus) {\n    return this.update(transaction, {\n      disputeStatus\n    });\n  }\n\n  updateNotes(transaction, notes) {\n    return this.update(transaction, {\n      notes\n    });\n  }\n\n}\n\nTransactionUpdateService.ɵfac = function TransactionUpdateService_Factory(t) {\n  return new (t || TransactionUpdateService)(i0.ɵɵinject(i1$1.TransactionClientHttpService));\n};\n\nTransactionUpdateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TransactionUpdateService,\n  factory: TransactionUpdateService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionUpdateService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.TransactionClientHttpService\n    }];\n  }, null);\n})();\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsEnumValue;\n\n(function (TransactionsEnumValue) {\n  // eslint-disable-next-line no-inner-declarations\n  function toTitleCase(text) {\n    if (!text) {\n      return '';\n    }\n\n    return `${text.charAt(0).toUpperCase()}${text.substr(1).toLowerCase()}`;\n  } // Until Angular supports i18n in typescript, this is the way to go\n  // eslint-disable-next-line no-inner-declarations\n\n\n  function processEnumValue(enumValue) {\n    switch (enumValue.value) {\n      case 'CRDT':\n        return Object.assign(Object.assign({}, enumValue), {\n          name: 'Credit'\n        });\n\n      case 'DBIT':\n        return Object.assign(Object.assign({}, enumValue), {\n          name: 'Debit'\n        });\n\n      case 'BILLED':\n      case 'UNBILLED':\n      case 'PENDING':\n        return Object.assign(Object.assign({}, enumValue), {\n          name: enumValue.name || toTitleCase(enumValue.value)\n        });\n\n      default:\n        return Object.assign(Object.assign({}, enumValue), {\n          name: enumValue.name || enumValue.value\n        });\n    }\n  } // eslint-disable-next-line no-inner-declarations\n\n\n  function processEnumValues(enumValues) {\n    return enumValues.map(processEnumValue);\n  }\n\n  function fromHttpResponse(response) {\n    return processEnumValues(response.body || []);\n  }\n\n  TransactionsEnumValue.fromHttpResponse = fromHttpResponse;\n})(TransactionsEnumValue || (TransactionsEnumValue = {}));\n/* eslint-enable no-redeclare*/\n\n\nclass EnumValuesService {\n  constructor(transactionsDataHttpService) {\n    this.transactionsDataHttpService = transactionsDataHttpService;\n    this.enumValues = {};\n  }\n\n  handleError(error) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred.  Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    } // Return an observable with a user-facing error message.\n\n\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  loadEnumValues(attributeName) {\n    return this.transactionsDataHttpService.getEnumValuesByAttributeName({\n      attributeName\n    }, 'response').pipe(map(TransactionsEnumValue.fromHttpResponse), catchError(this.handleError));\n  }\n\n  getEnumValues(attributeName) {\n    if (typeof this.enumValues[attributeName] === 'undefined') {\n      this.enumValues[attributeName] = this.loadEnumValues(attributeName);\n    }\n\n    return this.enumValues[attributeName];\n  }\n\n}\n\nEnumValuesService.ɵfac = function EnumValuesService_Factory(t) {\n  return new (t || EnumValuesService)(i0.ɵɵinject(i1$1.TransactionClientHttpService));\n};\n\nEnumValuesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: EnumValuesService,\n  factory: EnumValuesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(EnumValuesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.TransactionClientHttpService\n    }];\n  }, null);\n})();\n\nfunction categoriesManagementMap(item) {\n  return Object.assign({}, item);\n}\n\nfunction fromCategoriesManagementResponse(response) {\n  return (response.body || []).map(categoriesManagementMap);\n}\n\nclass CategoriesService {\n  constructor(categoriesManagementDataHttpService) {\n    this.categoriesManagementDataHttpService = categoriesManagementDataHttpService;\n  }\n\n  getCategories() {\n    return this.categoriesManagementDataHttpService.getCategories({\n      level: categoryListLevelParam\n    }, 'response').pipe(shareReplay(), map(fromCategoriesManagementResponse));\n  }\n\n}\n\nCategoriesService.ɵfac = function CategoriesService_Factory(t) {\n  return new (t || CategoriesService)(i0.ɵɵinject(i1$7.CategoriesHttpService));\n};\n\nCategoriesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: CategoriesService,\n  factory: CategoriesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CategoriesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$7.CategoriesHttpService\n    }];\n  }, null);\n})();\n\nclass TransactionsMapUiComponent {\n  buildMapOptions(location) {\n    if (location.latitude && location.longitude) {\n      return {\n        center: {\n          lat: location.latitude,\n          lng: location.longitude\n        },\n        zoom: 10,\n        disableDefaultUI: true,\n        zoomControl: false,\n        styles: [{\n          featureType: 'poi',\n          stylers: [{\n            visibility: 'off'\n          }]\n        }]\n      };\n    }\n\n    return undefined;\n  }\n\n  getFullAddress(location) {\n    return encodeURI(`${location.latitude}, ${location.longitude}`);\n  }\n\n  ngAfterViewInit() {\n    if (this.location && this.mapContainer) {\n      const options = this.buildMapOptions(this.location);\n      const map = new google.maps.Map(this.mapContainer.nativeElement, options);\n\n      if (this.location && this.location.latitude && this.location.longitude) {\n        const mapUrl = this.getFullAddress(this.location);\n        const marker = new google.maps.Marker({\n          position: {\n            lat: this.location.latitude,\n            lng: this.location.longitude\n          },\n          map\n        });\n        marker.addListener('click', () => {\n          window.open('https://www.google.com/maps/dir//' + mapUrl, '_blank');\n        });\n      }\n    }\n  }\n\n}\n\nTransactionsMapUiComponent.ɵfac = function TransactionsMapUiComponent_Factory(t) {\n  return new (t || TransactionsMapUiComponent)();\n};\n\nTransactionsMapUiComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionsMapUiComponent,\n  selectors: [[\"bb-transactions-map-ui\"]],\n  viewQuery: function TransactionsMapUiComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c115, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapContainer = _t.first);\n    }\n  },\n  inputs: {\n    location: \"location\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"bb-transcations-geolocation-map\"], [\"bbMapContainer\", \"\"]],\n  template: function TransactionsMapUiComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0, 1);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsMapUiComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transactions-map-ui',\n      templateUrl: 'transactions-map-ui.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    mapContainer: [{\n      type: ViewChild,\n      args: ['bbMapContainer']\n    }],\n    location: [{\n      type: Input\n    }]\n  });\n})();\n\nclass TransactionGeoLocationMapComponent {\n  constructor() {\n    this.loadingStateEnum = TransactionsDetailsLoadingState;\n  }\n\n}\n\nTransactionGeoLocationMapComponent.ɵfac = function TransactionGeoLocationMapComponent_Factory(t) {\n  return new (t || TransactionGeoLocationMapComponent)();\n};\n\nTransactionGeoLocationMapComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TransactionGeoLocationMapComponent,\n  selectors: [[\"bb-transaction-geo-location-map\"]],\n  inputs: {\n    transaction: \"transaction\",\n    loadingStatus: \"loadingStatus\"\n  },\n  decls: 7,\n  vars: 2,\n  consts: [[1, \"bb-transactions-geolocation\"], [\"class\", \"bb-inline-stack bb-block bb-block--sm\", 4, \"ngIf\"], [4, \"ngIf\"], [\"loadingState\", \"\"], [\"errorState\", \"\"], [1, \"bb-inline-stack\", \"bb-block\", \"bb-block--sm\"], [\"name\", \"location-on\", \"size\", \"md\", 1, \"bb-inline-stack__item\"], [1, \"bb-inline-stack__item\", \"bb-transactions-geolocation__address\"], [4, \"ngIf\", \"ngIfElse\"], [3, \"location\"], [\"loaderSize\", \"lg\"]],\n  template: function TransactionGeoLocationMapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, TransactionGeoLocationMapComponent_span_1_Template, 4, 1, \"span\", 1);\n      i0.ɵɵtemplate(2, TransactionGeoLocationMapComponent_ng_container_2_Template, 2, 1, \"ng-container\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, TransactionGeoLocationMapComponent_ng_template_3_Template, 1, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(5, TransactionGeoLocationMapComponent_ng_template_5_Template, 0, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.transaction == null ? null : ctx.transaction.location == null ? null : ctx.transaction.location.address);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loadingStatus !== ctx.loadingStateEnum.notStarted);\n    }\n  },\n  directives: [i2.NgIf, i1$3.IconComponent, TransactionsMapUiComponent, i3$2.LoadingIndicatorComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionGeoLocationMapComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-transaction-geo-location-map',\n      templateUrl: './transaction-geo-location-map.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    transaction: [{\n      type: Input\n    }],\n    loadingStatus: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Utility service for DOM manipulations\n */\n\n\nclass DomAttributesService {\n  constructor() {\n    this.basePrefix = 'bb_transactions';\n    this.idCounter = 0;\n  }\n\n  nextId(prefix) {\n    return `${this.basePrefix}-${prefix ? prefix : 'default'}-${Date.now()}-${this.idCounter++}`;\n  }\n\n}\n\nDomAttributesService.ɵfac = function DomAttributesService_Factory(t) {\n  return new (t || DomAttributesService)();\n};\n\nDomAttributesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: DomAttributesService,\n  factory: DomAttributesService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DomAttributesService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\n\nclass DynamicIdDirective {\n  constructor(_elRef, _renderer, domAttributesService, cd) {\n    this._elRef = _elRef;\n    this._renderer = _renderer;\n    this.domAttributesService = domAttributesService;\n    this.cd = cd;\n  }\n\n  ngAfterContentInit() {\n    setTimeout(() => {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'id', this.domAttributesService.nextId(this.bbDynamicId));\n\n      this.cd.markForCheck();\n    });\n  }\n\n}\n\nDynamicIdDirective.ɵfac = function DynamicIdDirective_Factory(t) {\n  return new (t || DynamicIdDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(DomAttributesService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nDynamicIdDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: DynamicIdDirective,\n  selectors: [[\"\", \"bbDynamicId\", \"\"]],\n  inputs: {\n    bbDynamicId: \"bbDynamicId\"\n  },\n  exportAs: [\"bbDynamicId\"]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DynamicIdDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbDynamicId]',\n      exportAs: 'bbDynamicId'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: DomAttributesService\n    }, {\n      type: i0.ChangeDetectorRef\n    }];\n  }, {\n    bbDynamicId: [{\n      type: Input\n    }]\n  });\n})();\n\nclass MessagesService {\n  constructor(messageCenterHttpService) {\n    this.messageCenterHttpService = messageCenterHttpService; // TODO: default message is out of scope\n\n    this.defaultMessage = of({\n      body: b64Encode('test message'),\n      subject: 'no subject',\n      topic: 'no topic',\n      sender: {\n        name: 'test sender'\n      }\n    });\n  }\n\n  saveMessages(message) {\n    return this.messageCenterHttpService.postMessages({\n      presentationMessagePostRequestBody: message\n    });\n  }\n\n  saveAttachment(attachment) {\n    return this.messageCenterHttpService.postMessageAttachments({\n      attachment\n    }).pipe(map(data => data.id));\n  }\n\n  deleteAttachments(attachmentIds) {\n    return this.messageCenterHttpService.deleteMessageAttachments({\n      ids: attachmentIds\n    }).pipe(map(data => data.deleted));\n  }\n\n  createDefaultBody(transaction) {\n    var _a, _b;\n\n    return `transactionID: ${transaction.id}\nreferenceNumber: ${transaction.reference}\narranagementID: ${transaction.arrangementId}\nbookingDate: ${transaction.bookingDate}\namount: ${(_a = transaction.transactionAmountCurrency) === null || _a === void 0 ? void 0 : _a.amount}\nmerchantName: ${(_b = transaction.merchant) === null || _b === void 0 ? void 0 : _b.name}\ncounterpartyName: ${transaction.counterPartyName}\ndescription: ${transaction.description}\ntype: ${transaction.type}`;\n  }\n\n}\n\nMessagesService.ɵfac = function MessagesService_Factory(t) {\n  return new (t || MessagesService)(i0.ɵɵinject(i1$8.MessagecenterHttpService));\n};\n\nMessagesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MessagesService,\n  factory: MessagesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MessagesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$8.MessagecenterHttpService\n    }];\n  }, null);\n})();\n/* eslint-disable  @typescript-eslint/no-non-null-assertion */\n\n\nclass TransactionsInquireAndDisputeUIService {\n  constructor(messagesService) {\n    this.messagesService = messagesService;\n    this.showReportSubject = new Subject();\n    this.DEFAULT_MESSAGE = {\n      attachments: [],\n      body: '',\n      topic: 'inquire'\n    };\n    this.showReport = this.showReportSubject.asObservable();\n    this.message = Object.assign({}, this.DEFAULT_MESSAGE);\n    this.reportState = TransactionsDetailsLoadingState.notStarted;\n    this.subjectReportMap = {\n      dispute: $localize`:Dispute subject@@transactions.dispute.subject:Transaction dispute raised on`,\n      inquire: $localize`:Inquiry subject@@transactions.inquire.subject:Transaction inquiry raised on`\n    };\n  }\n\n  formatMessage(messageForm, defaultBody, inquireAndDisputeTopics, transaction) {\n    const {\n      topic = 'inquire',\n      body = '',\n      attachments = []\n    } = messageForm;\n    return {\n      body: b64Encode([defaultBody, body].join('\\n')),\n      topic: inquireAndDisputeTopics[topic],\n      attachments: attachments.map(data => data.id || ''),\n      subject: `${this.subjectReportMap[topic]} ${transaction === null || transaction === void 0 ? void 0 : transaction.arrangementId}`\n    };\n  } // TODO: Add unit tests when the functionality is complete\n\n\n  saveReport(message) {\n    this.reportState = TransactionsDetailsLoadingState.loading;\n    return this.messagesService.saveMessages(message).pipe(map(() => {\n      this.message = this.DEFAULT_MESSAGE;\n      this.showReportForm(false);\n      this.reportState = TransactionsDetailsLoadingState.done;\n      return message;\n    }), catchError(() => {\n      this.reportState = TransactionsDetailsLoadingState.error;\n      return of(undefined);\n    }));\n  }\n\n  showReportForm(display) {\n    this.showReportSubject.next(display);\n  }\n\n  cancelReport() {\n    this.removeAllFiles();\n    this.reportState = TransactionsDetailsLoadingState.notStarted;\n    this.message = this.DEFAULT_MESSAGE;\n    this.showReportForm(false);\n  }\n\n  fileChange(file) {\n    let attachment = {\n      name: file.name,\n      size: file.size,\n      content: from(file.arrayBuffer())\n    };\n    const currentAttachments = this.message.attachments || [];\n    this.message.attachments = [...currentAttachments, attachment];\n    const state = this.reportState;\n    this.reportState = TransactionsDetailsLoadingState.loading;\n    return this.messagesService.saveAttachment(file).pipe(map(id => {\n      attachment = Object.assign({\n        id\n      }, attachment);\n      this.reportState = TransactionsDetailsLoadingState.notStarted;\n      this.message.attachments = [...currentAttachments, attachment];\n      return id;\n    }), catchError(() => {\n      this.reportState = state;\n      this.message.attachments = [...currentAttachments];\n      return of(''); //TODO: add error message\n    }));\n  }\n\n  deleteReportForm() {//TODO: this is just a placeholder for now\n  }\n\n  fileRemoved(attachment) {\n    const {\n      id = ''\n    } = attachment;\n    return this.messagesService.deleteAttachments([id]).pipe(tap(() => {\n      this.message.attachments = this.message.attachments.filter(item => item.id !== id);\n    }));\n  }\n\n  removeAllFiles() {\n    if (this.message.attachments.length > 0) {\n      const files = this.message.attachments.map(item => item.id || '');\n      this.messagesService.deleteAttachments(files).subscribe({\n        next: () => {\n          this.message.attachments = [];\n        }\n      });\n    }\n  }\n\n}\n\nTransactionsInquireAndDisputeUIService.ɵfac = function TransactionsInquireAndDisputeUIService_Factory(t) {\n  return new (t || TransactionsInquireAndDisputeUIService)(i0.ɵɵinject(MessagesService));\n};\n\nTransactionsInquireAndDisputeUIService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: TransactionsInquireAndDisputeUIService,\n  factory: TransactionsInquireAndDisputeUIService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsInquireAndDisputeUIService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: MessagesService\n    }];\n  }, null);\n})();\n\nclass TransactionsCommonModule {}\n\nTransactionsCommonModule.ɵfac = function TransactionsCommonModule_Factory(t) {\n  return new (t || TransactionsCommonModule)();\n};\n\nTransactionsCommonModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: TransactionsCommonModule\n});\nTransactionsCommonModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [TransactionUpdateService, EnumValuesService, CategoriesService, AccountsService, TransactionsIconCategoriesFactoryService, MapAPILoaderService, DomAttributesService, MessagesService, TransactionsInquireAndDisputeUIService, PaymentsBatchService, AvailableFiltersConfigService],\n  imports: [[CommonModule, IconModule, ButtonModule, LoadButtonModule, InputRadioGroupModule, TooltipModule, ReactiveFormsModule, LoadingIndicatorModule, EmptyStateModule, DropdownMenuModule, A11yModule, RichTextEditorModule, InputValidationMessageModule, InputFileModule, FileAttachmentModule, AlertModule, ModalModule, BadgeModule], IconModule, A11yModule, EmptyStateModule, LoadingIndicatorModule, DropdownMenuModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TransactionsCommonModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, IconModule, ButtonModule, LoadButtonModule, InputRadioGroupModule, TooltipModule, ReactiveFormsModule, LoadingIndicatorModule, EmptyStateModule, DropdownMenuModule, A11yModule, RichTextEditorModule, InputValidationMessageModule, InputFileModule, FileAttachmentModule, AlertModule, ModalModule, BadgeModule],\n      providers: [TransactionUpdateService, EnumValuesService, CategoriesService, AccountsService, TransactionsIconCategoriesFactoryService, MapAPILoaderService, DomAttributesService, MessagesService, TransactionsInquireAndDisputeUIService, PaymentsBatchService, AvailableFiltersConfigService],\n      declarations: [TransactionsNumberOfResultsFoundComponent, TransactionCheckImageComponent, TransactionGeoLocationMapComponent, TransactionsErrorStateCustomizableDirective, TransactionsNoAccountSelectedStateCustomizableDirective, AccessibilityKeyboardDirective, TransactionsNumberOfResultsFoundCustomizableDirective, TransactionsMapUiComponent, TransactionCategoryIconComponent, TransactionCheckImageItemComponent, CapitalizePipe, DocumentViewerBackdropComponent, DocumentViewerContainerComponent, DocumentViewerHeaderComponent, DocumentViewerInteractorComponent, ImageViewerComponent, TransactionCheckImageDocumentViewerComponent, DynamicIdDirective, TransactionsInquiryDisputeComponent, TransactionsDisputeStatusTagComponent, TransactionsDisputeBannerComponent],\n      exports: [TransactionsNumberOfResultsFoundComponent, TransactionsErrorStateCustomizableDirective, TransactionsNoAccountSelectedStateCustomizableDirective, AccessibilityKeyboardDirective, TransactionCheckImageComponent, TransactionCheckImageItemComponent, TransactionGeoLocationMapComponent, TransactionsNumberOfResultsFoundCustomizableDirective, IconModule, A11yModule, TransactionsMapUiComponent, TransactionCategoryIconComponent, CapitalizePipe, DocumentViewerBackdropComponent, DocumentViewerContainerComponent, DocumentViewerHeaderComponent, DocumentViewerInteractorComponent, ImageViewerComponent, TransactionCheckImageDocumentViewerComponent, EmptyStateModule, LoadingIndicatorModule, DropdownMenuModule, DynamicIdDirective, TransactionsInquiryDisputeComponent, TransactionsDisputeStatusTagComponent, TransactionsDisputeBannerComponent]\n    }]\n  }], null, null);\n})();\n\nclass NavigationService {\n  constructor(routerService) {\n    this.routerService = routerService;\n  }\n\n  view(arrangementId) {\n    return this.routerService.navigate(['/', arrangementId]);\n  }\n\n}\n\nNavigationService.ɵfac = function NavigationService_Factory(t) {\n  return new (t || NavigationService)(i0.ɵɵinject(i3.RouterService));\n};\n\nNavigationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NavigationService,\n  factory: NavigationService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NavigationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i3.RouterService\n    }];\n  }, null);\n})();\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsGetParams;\n\n(function (TransactionsGetParams) {\n  // eslint-disable-next-line complexity\n  TransactionsGetParams.toHttpGetParams = getParams => {\n    const params = Object.assign({}, TransactionsFilterOptions.toHttpGetParams(getParams.filter));\n\n    if (getParams.account && getParams.account.arrangementId) {\n      params['arrangementsIds'] = Array.isArray(getParams.account.arrangementId) ? getParams.account.arrangementId : [getParams.account.arrangementId];\n    }\n\n    if (getParams.search && getParams.search.query) {\n      params['query'] = getParams.search.query;\n    }\n\n    if (getParams.pagination) {\n      params['from'] = getParams.pagination.from;\n      params['size'] = getParams.pagination.size;\n    }\n\n    if (getParams.sort) {\n      params['orderBy'] = getParams.sort.orderBy.toString();\n      params['direction'] = getParams.sort.direction.toString();\n    }\n\n    if (getParams.exportType) {\n      params['exportType'] = getParams.exportType;\n    }\n\n    if (getParams.locale) {\n      params['locale'] = getParams.locale;\n    }\n\n    if (getParams.state) {\n      params['state'] = getParams.state;\n    }\n\n    return params;\n  };\n})(TransactionsGetParams || (TransactionsGetParams = {}));\n/* eslint-enable no-redeclare*/\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\n\nvar TransactionsGroupedByDate;\n\n(function (TransactionsGroupedByDate) {\n  // eslint-disable-next-line no-inner-declarations\n  function getDate(transaction) {\n    const date = transaction.bookingDate ? new Date(transaction.bookingDate) : new Date();\n    return date.toISOString().slice(0, 10);\n  }\n\n  function groupByDate(transactionsList) {\n    const transactions = transactionsList && transactionsList.items !== null ? transactionsList.items : [];\n    return transactions.reduce((transactionsGroupedByDate, transaction) => {\n      const transactionDate = getDate(transaction);\n\n      if (transactionsGroupedByDate[transactionDate]) {\n        transactionsGroupedByDate[transactionDate].push(transaction);\n      } else {\n        transactionsGroupedByDate[transactionDate] = [transaction];\n      }\n\n      return transactionsGroupedByDate;\n    }, {});\n  }\n\n  TransactionsGroupedByDate.groupByDate = groupByDate;\n})(TransactionsGroupedByDate || (TransactionsGroupedByDate = {}));\n/* eslint-enable no-redeclare*/\n\n/* eslint-disable */\n\n\nclass BaseTransactionsWidget {\n  constructor(route, widgetProperties) {\n    this.route = route;\n    this.widgetProperties = widgetProperties;\n    this.enableDisputeAndInquiry = false;\n    this.availableFiltersConfig = defaultAvailableFiltersConfig;\n    this.transactionSelected = new EventEmitter();\n    this.transactionsLoaded = new EventEmitter();\n    this.initialFilterOptionsSubject = new BehaviorSubject(undefined);\n    this.initialSortOptionsSubject = new BehaviorSubject(undefined);\n    this.selectedAccount = this.getRouteParam(this.route, 'selectedAccount').pipe(map(selectedAccount => selectedAccount), map(selectedAccount => typeof selectedAccount !== 'undefined' && selectedAccount.includes(',') ? selectedAccount.split(',') : selectedAccount !== undefined ? [selectedAccount] : undefined));\n  }\n\n  set initialFilterOptionsValue(value) {\n    const deseralizedValue = deserialize(value);\n    this.initialFilterOptionsSubject.next(TransactionsFilterOptions.fromHttpGetParams(deseralizedValue));\n  }\n\n  set initialSortOptionsValue(value) {\n    const options = parseSortOptions(value);\n    this.initialSortOptionsSubject.next(options);\n  }\n\n  getRouteParam(route, param) {\n    const paramValue = route.paramMap.pipe(pluck('params', param));\n\n    if (!route.parent) {\n      return paramValue;\n    } // Ensure that level that has actual value keeps it from being cleared.\n\n\n    return combineLatest([paramValue, this.getRouteParam(route.parent, param)]).pipe(map(params => params[0] || params[1]));\n  }\n\n  get initialFilterOptions() {\n    return filterInputParameters(this.initialFilterOptionsSubject.asObservable(), this.widgetProperties.initialFilterOptions);\n  }\n\n  get initialSortOptions() {\n    return filterInputParameters(this.initialSortOptionsSubject.asObservable(), this.widgetProperties.initialSortOptions);\n  }\n\n  onDetailOpen(transaction) {\n    this.transactionSelected.emit(transaction);\n  }\n\n  onTransactionsLoaded(transactionsList) {\n    this.transactionsLoaded.emit(transactionsList);\n  }\n\n}\n\nBaseTransactionsWidget.ɵfac = function BaseTransactionsWidget_Factory(t) {\n  return new (t || BaseTransactionsWidget)(i0.ɵɵdirectiveInject(i1$9.ActivatedRoute), i0.ɵɵdirectiveInject(WidgetPropertiesService));\n};\n\nBaseTransactionsWidget.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BaseTransactionsWidget,\n  inputs: {\n    googleAPIKey: \"googleAPIKey\",\n    initialFilterOptionsValue: [\"initialFilterOptions\", \"initialFilterOptionsValue\"],\n    initialSortOptionsValue: [\"initialSortOptions\", \"initialSortOptionsValue\"],\n    pageSize: \"pageSize\",\n    maxNavPages: \"maxNavPages\",\n    paginationType: \"paginationType\",\n    showControls: \"showControls\",\n    showChangeCategory: \"showChangeCategory\",\n    showPendingTransactionsOnTop: \"showPendingTransactionsOnTop\",\n    showCheckImage: \"showCheckImage\",\n    showManageNotes: \"showManageNotes\",\n    getOrPostEndpoints: \"getOrPostEndpoints\",\n    enableDisputeAndInquiry: \"enableDisputeAndInquiry\",\n    disputeByBillingStatus: \"disputeByBillingStatus\",\n    disputeEligibilityDays: \"disputeEligibilityDays\",\n    disputeTransactionTypes: \"disputeTransactionTypes\",\n    inquireTopicId: \"inquireTopicId\",\n    disputeTopicId: \"disputeTopicId\",\n    availableFiltersConfig: \"availableFiltersConfig\"\n  },\n  outputs: {\n    transactionSelected: \"transactionSelected\",\n    transactionsLoaded: \"transactionsLoaded\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BaseTransactionsWidget, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i1$9.ActivatedRoute\n    }, {\n      type: WidgetPropertiesService\n    }];\n  }, {\n    googleAPIKey: [{\n      type: Input\n    }],\n    initialFilterOptionsValue: [{\n      type: Input,\n      args: ['initialFilterOptions']\n    }],\n    initialSortOptionsValue: [{\n      type: Input,\n      args: ['initialSortOptions']\n    }],\n    pageSize: [{\n      type: Input\n    }],\n    maxNavPages: [{\n      type: Input\n    }],\n    paginationType: [{\n      type: Input\n    }],\n    showControls: [{\n      type: Input\n    }],\n    showChangeCategory: [{\n      type: Input\n    }],\n    showPendingTransactionsOnTop: [{\n      type: Input\n    }],\n    showCheckImage: [{\n      type: Input\n    }],\n    showManageNotes: [{\n      type: Input\n    }],\n    getOrPostEndpoints: [{\n      type: Input\n    }],\n    enableDisputeAndInquiry: [{\n      type: Input\n    }],\n    disputeByBillingStatus: [{\n      type: Input\n    }],\n    disputeEligibilityDays: [{\n      type: Input\n    }],\n    disputeTransactionTypes: [{\n      type: Input\n    }],\n    inquireTopicId: [{\n      type: Input\n    }],\n    disputeTopicId: [{\n      type: Input\n    }],\n    availableFiltersConfig: [{\n      type: Input\n    }],\n    transactionSelected: [{\n      type: Output\n    }],\n    transactionsLoaded: [{\n      type: Output\n    }]\n  });\n})(); // eslint-disable-next-line\n\n\nclass BaseTransactionsControls {\n  constructor() {\n    /**\n     * Whether a filter is applied on the transactions.\n     */\n    this.isFilterApplied = false;\n    /**\n     * Configurations for exporting transactions.\n     */\n    // eslint-disable-next-line\n\n    this.exportConfig = [{\n      name: 'CSV',\n      isAvailable: true\n    }, {\n      name: 'OFX',\n      isAvailable: true\n    }];\n    /**\n     * Configuration parameter to show/hide filters\n     */\n\n    this.availableFilters = [];\n    /**\n     * EventEmitter for triggering a filter action.\n     */\n\n    this.filter = new EventEmitter();\n    /**\n     * EventEmitter for triggering a search action.\n     */\n\n    this.search = new EventEmitter();\n    /**\n     * EventEmitter for triggering an export action.\n     */\n\n    this.export = new EventEmitter();\n    /**\n     * Whether the filter form is shown.\n     */\n\n    this.isFilterOpen = false;\n  }\n  /**\n   * Search event callback\n   */\n\n\n  onSearch(searchParam) {\n    this.search.emit(searchParam);\n  }\n  /**\n   * Filter event callback\n   */\n\n\n  onFilter(filterParams) {\n    this.filter.emit(filterParams);\n  }\n  /**\n   * Export event callback\n   */\n\n\n  onExport(type) {\n    this.export.emit(type);\n  }\n  /**\n   * Close event callback to hide the filters controls\n   */\n\n\n  onClose() {\n    this.isFilterOpen = false;\n  }\n  /**\n   * Toogle method to hide or show the filter form\n   */\n\n\n  toggleFilter() {\n    this.isFilterOpen = !this.isFilterOpen;\n  }\n\n  ngOnInit() {\n    if (typeof this.exportConfig === 'undefined') {\n      throw new Error(`\"exportConfig\" input is required in \"${this.constructor.name}\"`);\n    }\n  }\n\n}\n\nBaseTransactionsControls.ɵfac = function BaseTransactionsControls_Factory(t) {\n  return new (t || BaseTransactionsControls)();\n};\n\nBaseTransactionsControls.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BaseTransactionsControls,\n  inputs: {\n    isFilterApplied: \"isFilterApplied\",\n    exportConfig: \"exportConfig\",\n    availableFilters: \"availableFilters\"\n  },\n  outputs: {\n    filter: \"filter\",\n    search: \"search\",\n    export: \"export\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BaseTransactionsControls, [{\n    type: Directive\n  }], null, {\n    isFilterApplied: [{\n      type: Input\n    }],\n    exportConfig: [{\n      type: Input\n    }],\n    availableFilters: [{\n      type: Input\n    }],\n    filter: [{\n      type: Output\n    }],\n    search: [{\n      type: Output\n    }],\n    export: [{\n      type: Output\n    }]\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { AccessibilityKeyboardDirective, AccountsService, AvailableFilterEnum, AvailableFiltersConfigService, BaseTransactionIcon, BaseTransactionsContainer, BaseTransactionsControls, BaseTransactionsWidget, BillingStatusEnum, CapitalizePipe, CategoriesService, CheckImagesAvailability, DisputeStatusEnum, DocumentViewerBackdropComponent, DocumentViewerContainerComponent, DocumentViewerHeaderComponent, DocumentViewerInteractorComponent, DomAttributesService, DynamicIdDirective, EndpointType, EnumValuesService, ImageViewerComponent, LoadingState, MapAPILoaderService, MessagesService, NavigationService, OnLoadAction, PaginationType, PaymentsBatchService, PendingTransactionsService, TransactionCategoryIcon, TransactionCategoryIconComponent, TransactionCheckImageComponent, TransactionCheckImageDocumentViewerComponent, TransactionCheckImageItemComponent, TransactionCreditDebitIcon, TransactionDetailsService, TransactionGeoLocationMapComponent, TransactionIconType, TransactionState, TransactionTypeIcon, TransactionUpdateService, TransactionsBackendError, TransactionsCheckImageSide, TransactionsCheckImageType, TransactionsCheckImages, TransactionsCommonModule, TransactionsDetailsLoadingState, TransactionsDisputeBannerComponent, TransactionsDisputeStatusTagComponent, TransactionsEnumValue, TransactionsErrorStateCustomizableDirective, TransactionsExportErrorType, TransactionsFilterOptions, TransactionsGetParams, TransactionsGroupedByDate, TransactionsIconCategoriesFactoryService, TransactionsInquireAndDisputeUIService, TransactionsInquiryDisputeComponent, TransactionsList, TransactionsMapUiComponent, TransactionsNoAccountSelectedStateCustomizableDirective, TransactionsNumberOfResultsFoundComponent, TransactionsNumberOfResultsFoundCustomizableDirective, TransactionsService, WidgetPropertiesService, availableExportTypes, categoriesManagementMap, categoryListLevelParam, combineExportTypesConfig, creditDebitIndicatorEnumValues, defaultAccountOptions, defaultBillingStatusEnumValues, defaultFilterOptions, defaultInitialExportOptions, defaultInitialFilterOptions, defaultInitialListOptions, defaultInitialSortOptions, defaultMaxNavPage, defaultPageSize, defaultPaginationOptions, defaultSearchOptions, defaultSortOptions, defaultTransactionTypeEnumValues, deserialize, filterInputParameters, fromCategoriesManagementResponse, notificationTtl, parseSortOptions, showDetailsConfigToken, sortFieldsDirectionHeader, totalCountHeader, unvailableExportTypesReasons };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/transactions-common-ang/fesm2015/backbase-transactions-common-ang.js"],"names":["i0","Injectable","Optional","InjectionToken","LOCALE_ID","Inject","Component","ChangeDetectionStrategy","Input","Directive","HostListener","EventEmitter","Output","ViewContainerRef","ViewChild","Pipe","NgModule","i1$1","combineLatest","defer","of","ReplaySubject","BehaviorSubject","Subject","merge","iif","timer","from","throwError","map","switchMap","publishReplay","refCount","catchError","filter","distinctUntilChanged","tap","scan","first","finalize","share","takeUntil","mergeMap","shareReplay","pluck","i1","i3","BbTemplate","i2","CommonModule","i1$2","i1$3","IconModule","i2$1","DropdownMenuModule","i3$1","ButtonModule","i3$2","LoadingIndicatorModule","i4","EmptyStateModule","i5","A11yModule","i1$4","ReactiveFormsModule","i2$2","InputRadioGroupModule","i3$3","InputValidationMessageModule","i4$1","RichTextEditorModule","i5$1","InputFileModule","i6","FileAttachmentModule","i7","AlertModule","i8","LoadButtonModule","i10","ModalModule","i14","TooltipModule","i1$5","BadgeModule","HttpResponse","i1$6","i3$4","i1$7","i1$8","i1$9","OnLoadAction","TransactionState","defaultAccountOptions","account","defaultSearchOptions","search","defaultFilterOptions","defaultSortOptions","defaultPaginationOptions","pagination","size","defaultInitialListOptions","Object","assign","onLoad","Replace","defaultInitialExportOptions","exportType","locale","TransactionsFilterOptions","isEmpty","options","values","value","every","formatDate","date","year","getFullYear","toString","month","getMonth","day","getDate","toHttpGetParams","params","setIfExists","paramName","conditionFn","valueFn","option","creditDebitIndicator","undefined","type","Array","isArray","billingStatus","amount","to","keys","length","Date","checkSerialNumber","fromHttpGetParams","types","amountGreaterThan","parseInt","amountLessThan","bookingDateGreaterThan","bookingDateLessThan","fromCheckSerialNumber","toCheckSerialNumber","AvailableFilterEnum","creditDebitIndicatorEnumValues","name","defaultTransactionTypeEnumValues","defaultBillingStatusEnumValues","CheckImagesAvailability","BillingStatusEnum","totalCountHeader","availableExportTypes","unvailableExportTypesReasons","sortFieldsDirectionHeader","notificationTtl","categoryListLevelParam","defaultAvailableFiltersConfig","CreditDebitIndicator","Amount","Types","BillingStatus","CheckSerialNumber","Loan","defaultFilters","deserialize","propertyValue","split","reduce","acc","param","key","val","decodeURIComponent","parseSortOptions","sortOption","trim","replace","orderBy","direction","Error","filterInputParameters","input","prop","pipe","inputVal","propVal","b64Encode","str","btoa","encodeURIComponent","_match","p1","String","fromCharCode","truncateDate","daysDiff","date1","date2","diff","getTime","Math","ceil","TransactionsList","processTransaction","transaction","amountSign","formattedTransaction","isPending","data","result","toUpperCase","pending","unbilled","merchant","id","logo","website","transactionAmountCurrency","amountNumber","parseFloat","unsignedAmount","instructedAmountCurrency","currencyExchangeAvailability","currencyExchangeRate","processTransactions","transactionsList","items","processTotalCountHeader","totalCount","processAvailableExportTypes","availableExports","processUnavailableExportTypesReasons","unavilableExportTypesReasonsValue","JSON","parse","processSortFieldsDirectionHeader","sortFieldsDirection","padValueWithZeros","padStart","safeDate","exec","localDate","console","error","fromHttpResponse","response","headers","get","sort","availableExportTypesHeader","unavailableExportTypesReasonsHeader","body","concat","transactionsList1","transactionsList2","httpResponseError","hasLoadedAll","toHttpRequest","listOptions","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","turnIntoArrayObject","fn","optionalItem","isTransactionListOption","prototype","hasOwnProperty","call","isTransactionExportOptions","arrangementId","query","categories","state","fromArrangementsResponse","item","displayName","alias","bankAlias","IBAN","BBAN","currency","AccountsService","constructor","productSummaryDataHttpService","getAllArrangements","getArrangementsByBusinessFunction","businessFunction","resourceName","privilege","getProductSummary","ɵfac","ProductSummaryHttpService","ɵprov","deepEqual","x","y","ok","tx","ty","cacheRequest","request","source","multipleAccountsPredicate","onLoadTransactions","curr","Append","getNameFromContentDispositionHeader","contentDisposition","fileName","WidgetProperties","pageSize","maxNavPages","paginationType","initialFilterOptions","initialSortOptions","showControls","showChangeCategory","refreshTransactionsListEvents","showPendingTransactionsOnTop","showCheckImage","gmapsAPIKey","showManageNotes","getOrPostEndpoints","disputeByBillingStatus","disputeEligibilityDays","disputeTransactionTypes","enableDisputeAndInquiry","inquireTopicId","disputeTopicId","defaultPageSize","defaultMaxNavPage","defaultInitialFilterOptions","defaultInitialSortOptions","PaginationType","EndpointType","defaultModelObservable","WidgetPropertiesService","itemModel","property","LOAD_MORE","err","warn","POST_REQUEST","ItemModel","decorators","LoadingState","showDetailsConfigToken","TransactionsService","transactionsDataHttpService","accountService","deprecationsService","selectedAccount","initialListOptions","listRefresh","exportOptions","getOrPostEndpoint","GET_REQUEST","loadingState","next","LoadingMore","ReplacePage","LoadingPage","Loading","loadTransactions","Loaded","accounts","accountMap","Map","forEach","set","isFilterApplied","isSearchApplied","transactions","initialRequest","NotLoaded","completed","subscribe","transactionPayload","transactionsResponse","isUsingPostEndpoints","getTransactionsWithPost","transactionListRequest","logDeprecatedFeature","getTransactions","exportTransactions","exportPayload","getTransactionsExportWithPost","getTransactionsExport","searchOptions","paginationOptions","getValue","clearSearch","filterOptions","clearFilter","exportToType","loadMore","currentPaginationOptions","sortOptions","pageChange","page","getTransactionsFrom","getCurrentPage","getTransactionsList","retryFiltering","refreshTransactions","newOptions","ngOnDestroy","complete","TransactionClientHttpService","DeprecationsService","args","TransactionsNumberOfResultsFoundComponent","hostRef","numberOfResultsFound","isLoaded","ɵcmp","TransactionsNumberOfResultsFoundCustomizableDirective","NgIf","NgClass","selector","templateUrl","changeDetection","OnPush","ɵdir","TransactionsCheckImageType","TransactionsCheckImageSide","TransactionsCheckImages","processImages","imageObject","side","mimeType","content","imagesArray","images","mappedImages","TransactionsDetailsLoadingState","DisputeStatusEnum","AccessibilityKeyboardDirective","element","nativeElement","tabIndex","eventListener","event","click","ElementRef","TransactionCheckImageItemComponent","sanitizer","sideText","imageAlt","selectImage","imageFileName","fileType","image","imageCheckNumber","formatedImageSource","createImageSource","bypassSecurityTrustResourceUrl","toggleDocumentViewer","emit","DomSanitizer","IconComponent","DOCUMENT_LOAD_DELAY_MS","DocumentViewerType","isDocumentViewerType","includes","downloadFile","url","link","document","createElement","href","download","KEY_CODES","KEY_CODE_TO_CODE","TAB","UP","DOWN","SPACE","ENTER","DELETE","BACKSPACE","ESCAPE","X","V","browserIsMsie","navigator","userAgent","indexOf","getKeyCode","keyCode","code","DocumentViewerBackdropComponent","containerStyles","container","styles","hasCustomStyles","Boolean","NgStyle","DocumentViewerHeaderComponent","ngZone","isLoading","close","src","revokeObjectURL","documentObjectURL","onOpenDocument","openImage","onPrintDocument","printWindow","onDownloadDocument","filename","Image","newWindow","window","open","write","outerHTML","runOutsideAngular","setTimeout","focus","print","URL","NgZone","ButtonDirective","DropdownMenuComponent","DropdownMenuItemDirective","filetype","DocumentViewerInteractorComponent","navigationState","currIdx","total","canZoomOut","canZoomIn","navigate","zoomIn","zoomOut","navigationStatus","hasNextNavigation","hasPrevNavigation","prev","ZOOM_FACTOR","ZOOM_IN_THRESHOLD","ZOOM_OUT_THRESHOLD","ImageViewerComponent","domSanitizer","imageUiState","scale","revokeObjectURLIfNeeded","imageObjectUrl","imageObjectTrustedUrl","bypassSecurityTrustStyle","DocumentViewerContainerComponent","elemRef","documentRefSrcs","isLoading$","isHttpError$","documentType","activeDocumentRefIdx$","destroy$","activeDocumentRefIdx","idx","viewerScale","ngOnInit","setDocumentRefChangeSources","setFocus","onEscape","closeDialog","onNavigate","documentSrc$","documentFilename$","documentFiletype$","navigationState$","CdkTrapFocus","LoadingIndicatorComponent","EmptyStateComponent","AsyncPipe","viewContainer","static","read","TransactionCheckImageDocumentViewerComponent","position","closeViewer","toDocumentRefSrc","imagesRefsSrc","imageFront","imageBack","closeDocumentViewer","trapKeyEvent","stopPropagation","TransactionCheckImageComponent","loadingStateEnum","index","checkImagesList","find","FRONT","BACK","hasErrors","transactionDetailsLoadingStatus","checkImages","isDone","done","onClose","TransactionsInquiryDisputeComponent","fb","enableDispute","notStarted","submitReport","cancelReport","messageChange","fileChange","fileRemoved","confirmationDialogActive","labels","inquire","$localize","dispute","unsubscribeSubject","transactionReportForm","group","topic","topicRequired","attachment","subject","control","required","getControl","field","controls","setFormValue","patchValue","attachments","emitEvent","hasError","errors","isInvalidControl","touched","invalid","saveReport","valid","message","markAllAsTouched","closeReportForm","closeConfirmationDialog","processLabel","label","arr","last","splice","join","valueChanges","formValue","uploadFile","files","file","removeAttachment","FormBuilder","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","InputRadioGroupComponent","NgControlStatus","FormControlName","InputRadioComponent","InputValidationMessageComponent","RichTextEditorComponent","RequiredValidator","InputFileComponent","LoadButtonComponent","ModalComponent","NgForOf","FileAttachmentComponent","AlertComponent","TooltipDirective","inquireAndDisputeTopics","TransactionsDisputeStatusTagComponent","BadgeComponent","status","TransactionsDisputeBannerComponent","disputeStatus","TransactionsBackendError","getMessageFromResponse","responseBody","context","match","fromHttpErrorResponse","errorResponse","ErrorEvent","fromHttpErrorsResponse","TransactionsExportErrorType","combineExportTypesConfig","exportConfig","exportTypesArr","availableExportTypesArray","availableTypes","reason","isAvailable","unavailableTypes","UNKNOWN_ERROR","left","right","PendingTransactionsService","uncompleted","GoogleMapsScriptProtocol","MapAPILoaderService","scriptID","callbackName","apiLoadPromiseName","windowRef","documentRef","configValue","config","loadAPIPromise","assignScriptLoadingPromise","scriptElem","Promise","resolve","reject","onerror","getScriptSrc","protocolType","protocol","HTTPS","HTTP","hostAndPath","libraries","queryParams","v","apiVersion","callback","apiKey","client","clientId","channel","region","language","load","google","maps","script","async","appendChild","PaymentsBatchService","batchOrdersHttpService","getBatch","batchOrderId","getBatchOrdersById","BatchOrdersHttpService","ConfigManager","isDisputable","isBillingStatusApproved","isOld","isOfRestrictedType","byBillingStatus","bookingDate","days","byEligitibilityDays","byTransactionTypes","TransactionDetailsService","mapApiLoader","paymentsBatchService","transactionSelection","hasCheckImages","transactionsDetailsStatus","mapsApiKey","batchOrder","loading","geolocation","disputeOption","notLoaded","fromInquiryAndDispute","enabled","inquiryAndDispute","configuration","selectTransaction","fromCheckImages","setCondition","checkImageAvailability","available","transactionId","getTransactionCheckImages","serverError","badRequestError","notFoundError","fromGeolocation","location","latitude","longitude","then","promise","feature","toggle","condition","AvailableFiltersConfigService","accountsService","availableFiltersConfig$","selectedAccounts$","productSummary$","getProductSummaryForSelectedAccounts","availableFilters$","getAvailableFilters","setFilterConfigurationAndAccount","availableFiltersConfig","selectedAccounts","productSummaryItems","productSummaryItem","availableFilters","filters","getFiltersFromConfigs","Set","getFiltersFromConfigObject","productKindName","productKind","productTypeName","BaseTransactionsContainer","model","widgetProperties","cd","eventBusService","notificationService","pendingTransactionsService","transactionDetailsService","availableFiltersConfigService","showDetailsConfig","apiKeySubject","transactionSelected","transactionsLoaded","pageSizeSubject","maxNavPagesSubject","paginationTypeSubject","showControlsSubject","showChangeCategorySubject","showPendingTransactionsOnTopSubject","showCheckImageSubject","showManageNotesSubject","getOrPostEndpointsSubject","disputeByBillingStatusSubject","disputeEligibilityDaysSubject","disputeTransactionTypesSubject","enableDisputeAndInquirySubject","inquireTopicIdSubject","disputeTopicIdSubject","registeredRefreshTransactionsListEvents","exportErrorMessagesRef","numberOfResultsDisplayed","asObservable","refreshTransactionsListHandler","handleError","googleAPIKey","pageSizeValue","maxNavPagesValue","paginationTypeValue","showControlsValue","showChangeCategoryValue","showPendingTransactionsOnTopValue","showCheckImageValue","showManageNotesValue","getOrPostEndpointsValue","disputeByBillingStatusValue","disputeEligibilityDaysValue","disputeTransactionTypesValue","enableDisputeAndInquiryValue","availableFiltersValue","clearRefreshTransactionsListEvents","eventName","unsubscribe","retry","onLoadMore","markForCheck","pendingTransactionsList","transactionsListCount","trans","history","pendingTransactionsListCount","transactionsListItemsToDisplay","pendingTransactionsListItemsToDisplay","sumTransactionsResults","currentPage","loadingPendingState","events","configureTransctionsDetailsOutputBehaviour","cond","pendingTransactions","mixed","historyCount","pendingCount","onPageChange","onSearch","onFilter","onSort","onPrint","onExport","storedExportType","anchorTag","createObjectURL","defaultName","toLowerCase","showNotification","header","notificationServerErrorHeader","notificationServerErrorMessage","modifier","pushNotification","notificationErrorUpdateHeaderTemplate","notificationErrorUpdateMessageTemplate","onDetailOpen","notificationMessage","dismissible","ttl","ChangeDetectorRef","NotificationService","inquireTopicIdValue","disputeTopicIdValue","TransactionsNoAccountSelectedStateCustomizableDirective","TransactionsErrorStateCustomizableDirective","CapitalizePipe","transform","substr","ɵpipe","TransactionIconType","BaseTransactionIcon","cleanClassName","text","endsWith","slice","throwIfIncorrect","isValid","TransactionCategoryIcon","title","category","formatClassName","TransactionTypeIcon","TransactionCreditDebitIcon","indicator","creditDebit","TransactionsIconCategoriesFactoryService","create","TransactionCategoryIconComponent","transactionsIconCategoriesFactory","circle","hasImageLoaded","transactionIcon","ngAfterViewInit","categoryImage","onload","TransactionUpdateService","update","patchTransactions","transactionsClientPatchRequestBody","notes","setDisputeStatus","updateNotes","TransactionsEnumValue","toTitleCase","charAt","processEnumValue","enumValue","processEnumValues","enumValues","EnumValuesService","loadEnumValues","attributeName","getEnumValuesByAttributeName","getEnumValues","categoriesManagementMap","fromCategoriesManagementResponse","CategoriesService","categoriesManagementDataHttpService","getCategories","level","CategoriesHttpService","TransactionsMapUiComponent","buildMapOptions","center","lat","lng","zoom","disableDefaultUI","zoomControl","featureType","stylers","visibility","getFullAddress","encodeURI","mapContainer","mapUrl","marker","Marker","addListener","TransactionGeoLocationMapComponent","loadingStatus","DomAttributesService","basePrefix","idCounter","nextId","prefix","now","providedIn","DynamicIdDirective","_elRef","_renderer","domAttributesService","ngAfterContentInit","setAttribute","bbDynamicId","Renderer2","exportAs","MessagesService","messageCenterHttpService","defaultMessage","sender","saveMessages","postMessages","presentationMessagePostRequestBody","saveAttachment","postMessageAttachments","deleteAttachments","attachmentIds","deleteMessageAttachments","ids","deleted","createDefaultBody","reference","counterPartyName","description","MessagecenterHttpService","TransactionsInquireAndDisputeUIService","messagesService","showReportSubject","DEFAULT_MESSAGE","showReport","reportState","subjectReportMap","formatMessage","messageForm","defaultBody","showReportForm","display","removeAllFiles","arrayBuffer","currentAttachments","deleteReportForm","TransactionsCommonModule","ɵmod","ɵinj","imports","providers","declarations","exports","NavigationService","routerService","view","RouterService","TransactionsGetParams","getParams","TransactionsGroupedByDate","toISOString","groupByDate","transactionsGroupedByDate","transactionDate","push","BaseTransactionsWidget","route","initialFilterOptionsSubject","initialSortOptionsSubject","getRouteParam","initialFilterOptionsValue","deseralizedValue","initialSortOptionsValue","paramValue","paramMap","parent","onTransactionsLoaded","ActivatedRoute","BaseTransactionsControls","export","isFilterOpen","searchParam","filterParams","toggleFilter"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Optional, InjectionToken, LOCALE_ID, Inject, Component, ChangeDetectionStrategy, Input, Directive, HostListener, EventEmitter, Output, ViewContainerRef, ViewChild, Pipe, NgModule } from '@angular/core';\nimport * as i1$1 from '@backbase/data-ang/transactions';\nimport { combineLatest, defer, of, ReplaySubject, BehaviorSubject, Subject, merge, iif, timer, from, throwError } from 'rxjs';\nimport { map, switchMap, publishReplay, refCount, catchError, filter, distinctUntilChanged, tap, scan, first, finalize, share, takeUntil, mergeMap, shareReplay, pluck } from 'rxjs/operators';\nimport * as i1 from '@backbase/data-ang/arrangements';\nimport * as i3 from '@backbase/foundation-ang/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$2 from '@angular/platform-browser';\nimport * as i1$3 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i2$1 from '@backbase/ui-ang/dropdown-menu';\nimport { DropdownMenuModule } from '@backbase/ui-ang/dropdown-menu';\nimport * as i3$1 from '@backbase/ui-ang/button';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nimport * as i3$2 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport * as i4 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i5 from '@angular/cdk/a11y';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport * as i1$4 from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport * as i2$2 from '@backbase/ui-ang/input-radio-group';\nimport { InputRadioGroupModule } from '@backbase/ui-ang/input-radio-group';\nimport * as i3$3 from '@backbase/ui-ang/input-validation-message';\nimport { InputValidationMessageModule } from '@backbase/ui-ang/input-validation-message';\nimport * as i4$1 from '@backbase/ui-ang/rich-text-editor';\nimport { RichTextEditorModule } from '@backbase/ui-ang/rich-text-editor';\nimport * as i5$1 from '@backbase/ui-ang/input-file';\nimport { InputFileModule } from '@backbase/ui-ang/input-file';\nimport * as i6 from '@backbase/ui-ang/file-attachment';\nimport { FileAttachmentModule } from '@backbase/ui-ang/file-attachment';\nimport * as i7 from '@backbase/ui-ang/alert';\nimport { AlertModule } from '@backbase/ui-ang/alert';\nimport * as i8 from '@backbase/ui-ang/load-button';\nimport { LoadButtonModule } from '@backbase/ui-ang/load-button';\nimport * as i10 from '@backbase/ui-ang/modal';\nimport { ModalModule } from '@backbase/ui-ang/modal';\nimport * as i14 from '@backbase/ui-ang/tooltip-directive';\nimport { TooltipModule } from '@backbase/ui-ang/tooltip-directive';\nimport * as i1$5 from '@backbase/ui-ang/badge';\nimport { BadgeModule } from '@backbase/ui-ang/badge';\nimport { HttpResponse } from '@angular/common/http';\nimport * as i1$6 from '@backbase/data-ang/payment-batch';\nimport * as i3$4 from '@backbase/ui-ang/notification';\nimport * as i1$7 from '@backbase/data-ang/categories-management';\nimport * as i1$8 from '@backbase/data-ang/messages';\nimport '@angular/localize/init';\nimport * as i1$9 from '@angular/router';\n\nvar OnLoadAction;\n(function (OnLoadAction) {\n    OnLoadAction[OnLoadAction[\"Replace\"] = 0] = \"Replace\";\n    OnLoadAction[OnLoadAction[\"Append\"] = 1] = \"Append\";\n    OnLoadAction[OnLoadAction[\"ReplacePage\"] = 2] = \"ReplacePage\";\n})(OnLoadAction || (OnLoadAction = {}));\nvar TransactionState;\n(function (TransactionState) {\n    TransactionState[\"completed\"] = \"COMPLETED\";\n    TransactionState[\"uncompleted\"] = \"UNCOMPLETED\";\n})(TransactionState || (TransactionState = {}));\nconst defaultAccountOptions = {\n    account: {},\n};\nconst defaultSearchOptions = {\n    search: {},\n};\nconst defaultFilterOptions = {\n    filter: {},\n};\nconst defaultSortOptions = {};\nconst defaultPaginationOptions = {\n    pagination: {\n        from: 0,\n        size: 10,\n    },\n};\nconst defaultInitialListOptions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, defaultAccountOptions), defaultSearchOptions), defaultFilterOptions), defaultSortOptions), defaultPaginationOptions), { onLoad: OnLoadAction.Replace });\nconst defaultInitialExportOptions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, defaultAccountOptions), defaultSearchOptions), defaultFilterOptions), defaultSortOptions), { exportType: 'csv', locale: 'en-US' });\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsFilterOptions;\n(function (TransactionsFilterOptions) {\n    function isEmpty(options) {\n        return Object.values(options)\n            .filter((value) => typeof value !== 'undefined')\n            .every((value) => !value || (typeof value === 'object' && isEmpty(value)));\n    }\n    TransactionsFilterOptions.isEmpty = isEmpty;\n    // converts a Date object to `dddd-MM-yy` string format\n    // eslint-disable-next-line complexity\n    const formatDate = (date) => {\n        const year = date.getFullYear().toString();\n        const month = (date.getMonth() + 1).toString();\n        const day = date.getDate().toString();\n        return `${year}-${month[1] ? month : '0' + month[0]}-${day[1] ? day : '0' + day[0]}`;\n    };\n    function toHttpGetParams(options = {}) {\n        const params = {};\n        const setIfExists = (paramName, conditionFn, valueFn) => {\n            if (conditionFn(options)) {\n                params[paramName] = valueFn(options);\n            }\n        };\n        setIfExists('creditDebitIndicator', (option) => option.creditDebitIndicator !== undefined && option.creditDebitIndicator.value !== undefined, (option) => option.creditDebitIndicator.value);\n        setIfExists('types', (option) => option.type !== undefined && option.type.value !== undefined, (option) => (Array.isArray(option.type.value) ? option.type.value : [option.type.value]));\n        setIfExists('billingStatus', (option) => option.billingStatus !== undefined && option.billingStatus.value !== undefined, (option) => option.billingStatus.value);\n        setIfExists('amountGreaterThan', (option) => option.amount && option.amount.from, (option) => option.amount.from);\n        setIfExists('amountLessThan', (option) => option.amount && option.amount.to, (option) => option.amount.to);\n        setIfExists('bookingDateGreaterThan', (option) => option.date && option.date.from && Object.keys(option.date.from).length, (option) => formatDate(new Date(option.date.from)));\n        setIfExists('bookingDateLessThan', (option) => option.date && option.date.to && Object.keys(option.date.to).length, (option) => formatDate(new Date(option.date.to)));\n        setIfExists('fromCheckSerialNumber', (option) => option.checkSerialNumber && option.checkSerialNumber.from, (option) => option.checkSerialNumber.from);\n        setIfExists('toCheckSerialNumber', (option) => option.checkSerialNumber && option.checkSerialNumber.to, (option) => option.checkSerialNumber.to);\n        return params;\n    }\n    TransactionsFilterOptions.toHttpGetParams = toHttpGetParams;\n    // eslint-disable-next-line complexity\n    function fromHttpGetParams(params) {\n        const options = {};\n        if (params.creditDebitIndicator) {\n            options.creditDebitIndicator = { value: params.creditDebitIndicator };\n        }\n        if (params.type) {\n            if (Array.isArray(params.type)) {\n                options.types = params.type.map((value) => ({ value }));\n            }\n            else {\n                options.types = { value: params.type };\n            }\n        }\n        if (params.billingStatus) {\n            options.billingStatus = { value: params.billingStatus };\n        }\n        if (params.amountGreaterThan) {\n            options.amount = { from: parseInt(params.amountGreaterThan, 10) };\n        }\n        if (params.amountLessThan) {\n            options.amount = Object.assign(Object.assign({}, options.amount), { to: parseInt(params.amountLessThan, 10) });\n        }\n        if (params.bookingDateGreaterThan) {\n            options.date = {\n                from: params.bookingDateGreaterThan,\n            };\n        }\n        if (params.bookingDateLessThan) {\n            options.date = Object.assign(Object.assign({}, options.date), { to: params.bookingDateLessThan });\n        }\n        if (params.fromCheckSerialNumber) {\n            options.checkSerialNumber = {\n                from: parseInt(params.fromCheckSerialNumber, 10),\n            };\n        }\n        if (params.toCheckSerialNumber) {\n            options.checkSerialNumber = Object.assign(Object.assign({}, options.checkSerialNumber), { to: parseInt(params.toCheckSerialNumber, 10) });\n        }\n        return options;\n    }\n    TransactionsFilterOptions.fromHttpGetParams = fromHttpGetParams;\n})(TransactionsFilterOptions || (TransactionsFilterOptions = {}));\n/* eslint-enable no-redeclare*/\n\nvar AvailableFilterEnum;\n(function (AvailableFilterEnum) {\n    AvailableFilterEnum[\"CreditDebitIndicator\"] = \"creditDebitIndicator\";\n    AvailableFilterEnum[\"Types\"] = \"types\";\n    AvailableFilterEnum[\"BillingStatus\"] = \"billingStatus\";\n    AvailableFilterEnum[\"Amount\"] = \"amount\";\n    AvailableFilterEnum[\"Date\"] = \"date\";\n    AvailableFilterEnum[\"Categories\"] = \"categories\";\n    AvailableFilterEnum[\"CheckSerialNumber\"] = \"checkSerialNumber\";\n})(AvailableFilterEnum || (AvailableFilterEnum = {}));\n\n/**\n * Dropdown values for credit/debit indicator filter.\n */\nconst creditDebitIndicatorEnumValues = [\n    {\n        name: 'All',\n    },\n    {\n        value: 'CRDT',\n        name: 'Credit',\n    },\n    {\n        value: 'DBIT',\n        name: 'Debit',\n    },\n];\n/**\n * Fallback dropdown values for transaction type filter.\n */\nconst defaultTransactionTypeEnumValues = [\n    {\n        value: 'ATM',\n        name: 'ATM',\n    },\n    {\n        value: 'ACH',\n        name: 'Ach',\n    },\n    {\n        value: 'Bill Payment',\n        name: 'Bill Payment',\n    },\n    {\n        value: 'Cash',\n        name: 'Cash',\n    },\n    {\n        name: 'Cheques',\n        value: 'Cheques',\n    },\n    {\n        value: 'CreditDebit Card',\n        name: 'Credit/Debit Card',\n    },\n    {\n        value: 'Check',\n        name: 'Check',\n    },\n    {\n        value: 'Deposit',\n        name: 'Deposit',\n    },\n    {\n        value: 'Fee',\n        name: 'Fee',\n    },\n    {\n        value: 'POS',\n        name: 'POS',\n    },\n    {\n        value: 'Withdrawal',\n        name: 'Withdrawal',\n    },\n];\n/**\n * Fallback dropdown values for billing status filter.\n */\nconst defaultBillingStatusEnumValues = [\n    {\n        value: 'PENDING',\n        name: 'Pending',\n    },\n    {\n        value: 'BILLED',\n        name: 'Billed',\n    },\n    {\n        value: 'UNBILLED',\n        name: 'Unbilled',\n    },\n];\n/**\n * Name of different check images status\n */\nvar CheckImagesAvailability;\n(function (CheckImagesAvailability) {\n    CheckImagesAvailability[\"available\"] = \"AVAILABLE\";\n    CheckImagesAvailability[\"unavailable\"] = \"UNAVAILABLE\";\n})(CheckImagesAvailability || (CheckImagesAvailability = {}));\nvar BillingStatusEnum;\n(function (BillingStatusEnum) {\n    BillingStatusEnum[\"billed\"] = \"BILLED\";\n    BillingStatusEnum[\"unbilled\"] = \"UNBILLED\";\n    BillingStatusEnum[\"pending\"] = \"PENDING\";\n})(BillingStatusEnum || (BillingStatusEnum = {}));\n/**\n * Name of response header that contains the total amount of results.\n */\nconst totalCountHeader = 'X-Total-Count';\n/**\n * Name of response header that contains the available export types.\n */\nconst availableExportTypes = 'X-Available-Export-Types';\nconst unvailableExportTypesReasons = 'X-Unavailable-Export-Types-Reasons';\n/**\n * Name of response header that contains the sort configuration.\n */\nconst sortFieldsDirectionHeader = 'X-Sort-Fields-Direction';\n/**\n * Notification time to live in ms.\n */\nconst notificationTtl = 5000;\n/**\n * Which category level should be retrieved for category change modal list.\n */\nconst categoryListLevelParam = 'PARENTS';\nconst defaultAvailableFiltersConfig = {\n    'Current Account': [\n        AvailableFilterEnum.Date,\n        AvailableFilterEnum.CreditDebitIndicator,\n        AvailableFilterEnum.Amount,\n        AvailableFilterEnum.Types,\n        AvailableFilterEnum.BillingStatus,\n        AvailableFilterEnum.CheckSerialNumber,\n    ],\n    'Savings Account': [\n        AvailableFilterEnum.Date,\n        AvailableFilterEnum.CreditDebitIndicator,\n        AvailableFilterEnum.Amount,\n        AvailableFilterEnum.Types,\n        AvailableFilterEnum.BillingStatus,\n        AvailableFilterEnum.CheckSerialNumber,\n    ],\n    'Credit Card': [\n        AvailableFilterEnum.Date,\n        AvailableFilterEnum.CreditDebitIndicator,\n        AvailableFilterEnum.Amount,\n        AvailableFilterEnum.Types,\n        AvailableFilterEnum.BillingStatus,\n    ],\n    Loan: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n    'Term Deposit': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n    'Debit Card': [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n    'Investment Account': [\n        AvailableFilterEnum.Date,\n        AvailableFilterEnum.CreditDebitIndicator,\n        AvailableFilterEnum.Amount,\n    ],\n    defaultFilters: [AvailableFilterEnum.Date, AvailableFilterEnum.CreditDebitIndicator, AvailableFilterEnum.Amount],\n};\nconst deserialize = (propertyValue) => {\n    const params = propertyValue.split('&');\n    return params.reduce((acc, param) => {\n        const [key, val] = param.split('=');\n        return Object.assign(Object.assign({}, acc), { [decodeURIComponent(key)]: decodeURIComponent(val) });\n    }, {});\n};\nconst parseSortOptions = (propertyValue) => {\n    if (!propertyValue.length) {\n        return undefined;\n    }\n    const sortOption = propertyValue\n        .split(',')[0]\n        .trim()\n        .replace(/\\s{2,}/g, ' ');\n    const [orderBy, direction] = sortOption.split(' ');\n    if (!orderBy || (direction !== 'ASC' && direction !== 'DESC')) {\n        throw new Error(`Invalid value for \"initialSortOptions\" property.\n      Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\", or leave it empty.`);\n    }\n    return {\n        orderBy,\n        direction,\n    };\n};\nconst filterInputParameters = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => inputVal !== null && inputVal !== void 0 ? inputVal : propVal));\nconst b64Encode = (str) => btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (_match, p1) {\n    return String.fromCharCode(parseInt(p1, 16));\n}));\nconst truncateDate = (date) => new Date(date.getFullYear(), date.getMonth(), date.getDate());\nconst daysDiff = (date1, date2) => {\n    const diff = truncateDate(new Date(date1)).getTime() - truncateDate(new Date(date2)).getTime();\n    return Math.ceil(diff / (1000 * 3600 * 24));\n};\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsList;\n(function (TransactionsList) {\n    // eslint-disable-next-line complexity\n    const processTransaction = (transaction) => {\n        const amountSign = transaction.creditDebitIndicator === 'DBIT' ? -1 : 1;\n        const formattedTransaction = Object.assign(Object.assign(Object.assign({}, transaction), { isPending: (function isPending(data) {\n                let result = false;\n                if (data && data.billingStatus) {\n                    const billingStatus = data.billingStatus.toUpperCase();\n                    result = billingStatus === BillingStatusEnum.pending || billingStatus === BillingStatusEnum.unbilled;\n                }\n                return result;\n            })(transaction) }), (transaction.merchant\n            ? {\n                merchant: Object.assign(Object.assign({ id: transaction.merchant.id, name: transaction.merchant.name }, (transaction.merchant.logo ? { logo: transaction.merchant.logo } : {})), (transaction.merchant.website ? { website: transaction.merchant.website } : {})),\n            }\n            : {}));\n        if (transaction.transactionAmountCurrency) {\n            const amountNumber = parseFloat(transaction.transactionAmountCurrency.amount);\n            formattedTransaction.transactionAmountCurrency = Object.assign(Object.assign({}, transaction.transactionAmountCurrency), { unsignedAmount: amountNumber, amount: (amountSign * (amountNumber || 0)).toString() });\n        }\n        if (transaction.instructedAmountCurrency) {\n            const amountNumber = parseFloat(transaction.instructedAmountCurrency.amount);\n            formattedTransaction.instructedAmountCurrency = Object.assign(Object.assign({}, transaction.instructedAmountCurrency), { unsignedAmount: amountNumber, amount: (amountSign * (amountNumber || 0)).toString() });\n        }\n        formattedTransaction.currencyExchangeAvailability =\n            !!transaction.instructedAmountCurrency &&\n                !!transaction.transactionAmountCurrency &&\n                !!transaction.currencyExchangeRate;\n        return formattedTransaction;\n    };\n    const processTransactions = (transactionsList) => (Object.assign(Object.assign({}, transactionsList), { items: transactionsList.items.map(processTransaction) }));\n    const processTotalCountHeader = (totalCount) => (totalCount ? parseInt(totalCount, 10) : 0);\n    const processAvailableExportTypes = (availableExports) => availableExports || '';\n    const processUnavailableExportTypesReasons = (unavilableExportTypesReasonsValue) => JSON.parse(unavilableExportTypesReasonsValue || '{}');\n    const processSortFieldsDirectionHeader = (sortFieldsDirection) => {\n        if (sortFieldsDirection === null || !sortFieldsDirection.length) {\n            return undefined;\n        }\n        const sortOption = sortFieldsDirection\n            .split(',')[0]\n            .trim()\n            .replace(/\\s{2,}/g, ' ');\n        const [orderBy, direction] = sortOption.split(' ');\n        if (!orderBy || (direction !== 'ASC' && direction !== 'DESC')) {\n            throw new Error(`Invalid value for \"initialSortOptions\" property.\n        Please use \"<orderBy> <direction>\" format, e.g., \"bookingDate DESC\",\n        or leave it empty.`);\n        }\n        return {\n            orderBy,\n            direction,\n        };\n    };\n    // eslint-disable-next-line no-inner-declarations\n    function padValueWithZeros(value, size = 2) {\n        return (value + '').padStart(size, '0');\n    }\n    // eslint-disable-next-line no-inner-declarations\n    function formatDate(date) {\n        const safeDate = date || '';\n        if (/^[0-9]{4}-[0-9]{2}-[0-9]{2}/.exec(safeDate)) {\n            const localDate = new Date(safeDate);\n            const month = padValueWithZeros(localDate.getMonth() + 1);\n            const day = padValueWithZeros(localDate.getDate());\n            const year = localDate.getFullYear();\n            return `${year}-${month}-${day}`;\n        }\n        else if (date !== undefined) {\n            console.error(`invalid date provided ${date}`);\n        }\n        return undefined;\n    }\n    TransactionsList.fromHttpResponse = (response) => {\n        const totalCount = processTotalCountHeader(response.headers.get(totalCountHeader));\n        const sort = processSortFieldsDirectionHeader(response.headers.get(sortFieldsDirectionHeader));\n        const availableExportTypesHeader = processAvailableExportTypes(response.headers.get(availableExportTypes));\n        const unavailableExportTypesReasonsHeader = processUnavailableExportTypesReasons(response.headers.get(unvailableExportTypesReasons));\n        return processTransactions(Object.assign(Object.assign({ items: response.body || [], totalCount }, (sort ? { sort } : {})), { availableExportTypesHeader,\n            unavailableExportTypesReasonsHeader }));\n    };\n    TransactionsList.concat = (transactionsList1, transactionsList2) => {\n        if (transactionsList2.httpResponseError) {\n            return Object.assign(Object.assign({}, transactionsList1), { items: [...transactionsList1.items], httpResponseError: transactionsList2.httpResponseError });\n        }\n        return Object.assign(Object.assign(Object.assign(Object.assign({ items: [...transactionsList1.items, ...transactionsList2.items], totalCount: transactionsList1.totalCount }, (transactionsList2.sort ? { sort: transactionsList2.sort } : {})), (transactionsList2.availableExportTypesHeader\n            ? {\n                availableExportTypesHeader: transactionsList2.availableExportTypesHeader,\n            }\n            : {})), (transactionsList2.unavailableExportTypesReasonsHeader\n            ? {\n                unavailableExportTypesReasonsHeader: transactionsList2.unavailableExportTypesReasonsHeader,\n            }\n            : {})), { httpResponseError: transactionsList2.httpResponseError });\n    };\n    TransactionsList.hasLoadedAll = (transactionsList) => transactionsList.items.length === transactionsList.totalCount;\n    TransactionsList.toHttpRequest = (listOptions) => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2;\n        const turnIntoArrayObject = (value, name, fn) => {\n            if (!value) {\n                return {};\n            }\n            return Array.isArray(value) ? { [name]: fn(value) } : { [name]: [fn(value)] };\n        };\n        const optionalItem = (name, value) => (value !== undefined ? { [name]: value } : {});\n        const isTransactionListOption = (data) => Object.prototype.hasOwnProperty.call(data, 'pagination');\n        const isTransactionExportOptions = (data) => Object.prototype.hasOwnProperty.call(data, 'exportType');\n        return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, turnIntoArrayObject(listOptions.account.arrangementId, 'arrangementsIds', (value) => value)), optionalItem('query', (_a = listOptions.search) === null || _a === void 0 ? void 0 : _a.query)), optionalItem('amountGreaterThan', (_c = (_b = listOptions.filter) === null || _b === void 0 ? void 0 : _b.amount) === null || _c === void 0 ? void 0 : _c.from)), optionalItem('amountLessThan', (_e = (_d = listOptions.filter) === null || _d === void 0 ? void 0 : _d.amount) === null || _e === void 0 ? void 0 : _e.to)), optionalItem('bookingDateGreaterThan', ((_g = (_f = listOptions.filter) === null || _f === void 0 ? void 0 : _f.date) === null || _g === void 0 ? void 0 : _g.from) === '' ? undefined : formatDate((_j = (_h = listOptions.filter) === null || _h === void 0 ? void 0 : _h.date) === null || _j === void 0 ? void 0 : _j.from))), optionalItem('bookingDateLessThan', ((_l = (_k = listOptions.filter) === null || _k === void 0 ? void 0 : _k.date) === null || _l === void 0 ? void 0 : _l.to) === '' ? undefined : formatDate((_o = (_m = listOptions.filter) === null || _m === void 0 ? void 0 : _m.date) === null || _o === void 0 ? void 0 : _o.to))), optionalItem('categories', (_p = listOptions.filter) === null || _p === void 0 ? void 0 : _p.categories)), optionalItem('fromCheckSerialNumber', (_r = (_q = listOptions.filter) === null || _q === void 0 ? void 0 : _q.checkSerialNumber) === null || _r === void 0 ? void 0 : _r.from)), optionalItem('toCheckSerialNumber', (_t = (_s = listOptions.filter) === null || _s === void 0 ? void 0 : _s.checkSerialNumber) === null || _t === void 0 ? void 0 : _t.to)), optionalItem('orderBy', (_u = listOptions.sort) === null || _u === void 0 ? void 0 : _u.orderBy)), optionalItem('direction', (_v = listOptions.sort) === null || _v === void 0 ? void 0 : _v.direction)), optionalItem('state', isTransactionListOption(listOptions) ? listOptions.state : undefined)), optionalItem('from', isTransactionListOption(listOptions) ? (_w = listOptions.pagination) === null || _w === void 0 ? void 0 : _w.from : undefined)), optionalItem('size', isTransactionListOption(listOptions) ? (_x = listOptions.pagination) === null || _x === void 0 ? void 0 : _x.size : undefined)), optionalItem('billingStatus', (_z = (_y = listOptions.filter) === null || _y === void 0 ? void 0 : _y.billingStatus) === null || _z === void 0 ? void 0 : _z.value)), optionalItem('creditDebitIndicator', (_1 = (_0 = listOptions.filter) === null || _0 === void 0 ? void 0 : _0.creditDebitIndicator) === null || _1 === void 0 ? void 0 : _1.value)), optionalItem('exportType', isTransactionExportOptions(listOptions) ? listOptions.exportType : undefined)), optionalItem('locale', isTransactionExportOptions(listOptions) ? listOptions.locale : undefined)), turnIntoArrayObject((_2 = listOptions.filter) === null || _2 === void 0 ? void 0 : _2.types, 'types', (value) => value.value));\n    };\n})(TransactionsList || (TransactionsList = {}));\n/* eslint-enable no-redeclare*/\n\nfunction fromArrangementsResponse(response) {\n    return (response.body || []).map((item) => ({\n        id: item.id,\n        name: item.name,\n        displayName: item.displayName,\n        alias: item.bankAlias,\n        IBAN: item.IBAN,\n        BBAN: item.BBAN,\n        currency: item.currency,\n    }));\n}\n\nclass AccountsService {\n    constructor(productSummaryDataHttpService) {\n        this.productSummaryDataHttpService = productSummaryDataHttpService;\n    }\n    getAllArrangements() {\n        return this.productSummaryDataHttpService\n            .getArrangementsByBusinessFunction({\n            businessFunction: 'Product Summary',\n            resourceName: 'Product Summary',\n            privilege: 'view',\n            size: 1000000,\n        }, 'response')\n            .pipe(map(fromArrangementsResponse));\n    }\n    getProductSummary() {\n        return this.productSummaryDataHttpService.getArrangementsByBusinessFunction({\n            businessFunction: 'Product Summary',\n            resourceName: 'Product Summary',\n            privilege: 'view',\n            size: 1000000,\n        }, 'body');\n    }\n}\nAccountsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AccountsService, deps: [{ token: i1.ProductSummaryHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nAccountsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AccountsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AccountsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.ProductSummaryHttpService }]; } });\n\nconst deepEqual = (x, y) => {\n    const ok = Object.keys;\n    const tx = typeof x;\n    const ty = typeof y;\n    return x && y && tx === 'object' && tx === ty\n        ? ok(x).length === ok(y).length && ok(x).every((key) => deepEqual(x[key], y[key]))\n        : x === y;\n};\nconst cacheRequest = (request) => (source) => source.pipe(switchMap(request), publishReplay(1), refCount());\nconst multipleAccountsPredicate = (listOptions) => () => Array.isArray(listOptions.account.arrangementId) && listOptions.account.arrangementId.length > 1;\nconst onLoadTransactions = (acc, curr) => curr.onLoad === OnLoadAction.Append ? TransactionsList.concat(acc, curr.transactionsList) : curr.transactionsList;\nconst getNameFromContentDispositionHeader = (response) => {\n    const contentDisposition = response.headers.get('Content-Disposition');\n    let fileName = '';\n    if (contentDisposition) {\n        const result = /filename[^;=\\n]*=(?:(\\\\?['\"])(.*?)\\1|(?:[^\\s]+'.*?')?([^;\\n]*))/i.exec(contentDisposition);\n        fileName = result ? result[2] : '';\n    }\n    return fileName;\n};\n\nconst WidgetProperties = {\n    pageSize: 'bb.transaction.pageSize',\n    maxNavPages: 'bb.transaction.maxNavPages',\n    paginationType: 'bb.transaction.paginationType',\n    initialFilterOptions: 'bb.transaction.initialFilterOptions',\n    initialSortOptions: 'bb.transaction.initialSortOptions',\n    showControls: 'bb.transaction.showControls',\n    showChangeCategory: 'bb.transaction.showChangeCategory',\n    refreshTransactionsListEvents: 'event.refreshTransactionsList',\n    showPendingTransactionsOnTop: 'bb.transaction.showPendingTransactionsOnTop',\n    showCheckImage: 'bb.transaction.showCheckImage',\n    gmapsAPIKey: 'bb.transaction.gmapsAPIKey',\n    showManageNotes: 'bb.transaction.showManageNotes',\n    getOrPostEndpoints: 'bb.transaction.getOrPostEndpoints',\n    disputeByBillingStatus: 'disputeByBillingStatus',\n    disputeEligibilityDays: 'disputeEligibilityDays',\n    disputeTransactionTypes: 'disputeTransactionTypes',\n    enableDisputeAndInquiry: 'enableDisputeAndInquiry',\n    inquireTopicId: 'inquireTopicId',\n    disputeTopicId: 'disputeTopicId',\n};\nconst defaultPageSize = 10;\nconst defaultMaxNavPage = 3;\nconst defaultInitialFilterOptions = '';\nconst defaultInitialSortOptions = '';\nvar PaginationType;\n(function (PaginationType) {\n    PaginationType[\"LOAD_MORE\"] = \"load-more\";\n    PaginationType[\"PAGINATION\"] = \"pagination\";\n    PaginationType[\"INFINITE_SCROLL\"] = \"infinite-scroll\";\n})(PaginationType || (PaginationType = {}));\nvar EndpointType;\n(function (EndpointType) {\n    EndpointType[\"GET_REQUEST\"] = \"get-request\";\n    EndpointType[\"POST_REQUEST\"] = \"post-request\";\n})(EndpointType || (EndpointType = {}));\nconst defaultModelObservable = (value) => defer(() => of(value)).pipe(publishReplay(1), refCount());\nclass WidgetPropertiesService {\n    constructor(itemModel) {\n        this.itemModel = itemModel;\n    }\n    get pageSize() {\n        if (!this.itemModel) {\n            return defaultModelObservable(defaultPageSize);\n        }\n        return this.itemModel.property(WidgetProperties.pageSize).pipe(map((propertyValue) => parseInt(propertyValue, 10)), map((pageSize) => (pageSize > 0 ? pageSize : defaultPageSize)));\n    }\n    get maxNavPages() {\n        if (!this.itemModel) {\n            return defaultModelObservable(defaultMaxNavPage);\n        }\n        return this.itemModel\n            .property(WidgetProperties.maxNavPages)\n            .pipe(map((propertyValue) => parseInt(propertyValue, 10)));\n    }\n    get paginationType() {\n        if (!this.itemModel) {\n            return defaultModelObservable(PaginationType.LOAD_MORE);\n        }\n        return this.itemModel\n            .property(WidgetProperties.paginationType)\n            .pipe(map((propertyValue) => propertyValue));\n    }\n    get initialFilterOptions() {\n        if (!this.itemModel) {\n            return defaultModelObservable({});\n        }\n        return this.itemModel.property(WidgetProperties.initialFilterOptions, defaultInitialFilterOptions).pipe(map(deserialize), map((params) => TransactionsFilterOptions.fromHttpGetParams(params)));\n    }\n    get initialSortOptions() {\n        if (!this.itemModel) {\n            return defaultModelObservable(parseSortOptions(defaultInitialSortOptions));\n        }\n        return this.itemModel.property(WidgetProperties.initialSortOptions, defaultInitialSortOptions).pipe(map(parseSortOptions), catchError((err) => {\n            console.warn(`initialSortOptions property ignored: ${err}`);\n            return of(undefined);\n        }));\n    }\n    get showControls() {\n        if (!this.itemModel) {\n            return defaultModelObservable(true);\n        }\n        return this.itemModel\n            .property(WidgetProperties.showControls)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get showChangeCategory() {\n        if (!this.itemModel) {\n            return defaultModelObservable(true);\n        }\n        return this.itemModel\n            .property(WidgetProperties.showChangeCategory)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get refreshTransactionsListEvents() {\n        if (!this.itemModel) {\n            return defaultModelObservable('');\n        }\n        return this.itemModel\n            .property(WidgetProperties.refreshTransactionsListEvents)\n            .pipe(map((propertyValue) => propertyValue));\n    }\n    get showPendingTransactionsOnTop() {\n        if (!this.itemModel) {\n            return defaultModelObservable(false);\n        }\n        return this.itemModel\n            .property(WidgetProperties.showPendingTransactionsOnTop)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get showCheckImage() {\n        if (!this.itemModel) {\n            return defaultModelObservable(true);\n        }\n        return this.itemModel\n            .property(WidgetProperties.showCheckImage)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get showManageNotes() {\n        if (!this.itemModel) {\n            return defaultModelObservable(true);\n        }\n        return this.itemModel\n            .property(WidgetProperties.showManageNotes)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get getOrPostEndpoints() {\n        if (!this.itemModel) {\n            return defaultModelObservable(EndpointType.POST_REQUEST);\n        }\n        return this.itemModel\n            .property(WidgetProperties.getOrPostEndpoints)\n            .pipe(map((propertyValue) => propertyValue));\n    }\n    get gmapsAPIKey() {\n        if (!this.itemModel) {\n            return defaultModelObservable('');\n        }\n        return this.itemModel.property(WidgetProperties.gmapsAPIKey).pipe(map((propertyValue) => propertyValue));\n    }\n    get disputeByBillingStatus() {\n        if (!this.itemModel) {\n            return defaultModelObservable(true);\n        }\n        return this.itemModel\n            .property(WidgetProperties.disputeByBillingStatus)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get disputeEligibilityDays() {\n        if (!this.itemModel) {\n            return defaultModelObservable(120);\n        }\n        return this.itemModel\n            .property(WidgetProperties.disputeEligibilityDays, '120')\n            .pipe(map((propertyValue) => parseInt(propertyValue, 10)));\n    }\n    get disputeTransactionTypes() {\n        if (!this.itemModel) {\n            return defaultModelObservable(['Credit/Debit Card']);\n        }\n        return this.itemModel\n            .property(WidgetProperties.disputeTransactionTypes, 'Credit/Debit Card')\n            .pipe(map((propertyValue) => propertyValue.split(',')));\n    }\n    get enableDisputeAndInquiry() {\n        if (!this.itemModel) {\n            return defaultModelObservable(false);\n        }\n        return this.itemModel\n            .property(WidgetProperties.enableDisputeAndInquiry)\n            .pipe(map((propertyValue) => (typeof propertyValue === 'boolean' ? propertyValue : propertyValue === 'true')));\n    }\n    get inquireTopicId() {\n        if (!this.itemModel) {\n            return defaultModelObservable('');\n        }\n        return this.itemModel\n            .property(WidgetProperties.inquireTopicId)\n            .pipe(map((propertyValue) => propertyValue));\n    }\n    get disputeTopicId() {\n        if (!this.itemModel) {\n            return defaultModelObservable('');\n        }\n        return this.itemModel\n            .property(WidgetProperties.disputeTopicId)\n            .pipe(map((propertyValue) => propertyValue));\n    }\n}\nWidgetPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService, deps: [{ token: i3.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nWidgetPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WidgetPropertiesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3.ItemModel, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nvar LoadingState;\n(function (LoadingState) {\n    LoadingState[\"NotLoaded\"] = \"NotLoaded\";\n    LoadingState[\"LoadingMore\"] = \"LoadingMore\";\n    LoadingState[\"LoadingPage\"] = \"LoadingPage\";\n    LoadingState[\"Loading\"] = \"Loading\";\n    LoadingState[\"Loaded\"] = \"Loaded\";\n})(LoadingState || (LoadingState = {}));\nconst showDetailsConfigToken = new InjectionToken('shows the transactions details modal');\nclass TransactionsService {\n    constructor(transactionsDataHttpService, accountService, deprecationsService, locale) {\n        this.transactionsDataHttpService = transactionsDataHttpService;\n        this.accountService = accountService;\n        this.deprecationsService = deprecationsService;\n        this.locale = locale;\n        this.selectedAccount = new ReplaySubject(1);\n        this.pageSize = new ReplaySubject(1);\n        this.initialListOptions = new ReplaySubject(1);\n        this.options = new BehaviorSubject({});\n        this.listRefresh = new Subject();\n        this.listOptions = new BehaviorSubject(defaultInitialListOptions);\n        this.exportOptions = new BehaviorSubject(defaultInitialExportOptions);\n        this.showPendingTransactionsOnTop = new ReplaySubject(1);\n        this.getOrPostEndpoint = new BehaviorSubject(EndpointType.GET_REQUEST);\n        this.transactionsList = merge(this.listOptions.pipe(filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'), distinctUntilChanged(deepEqual)), this.listRefresh).pipe(cacheRequest((listOptions) => {\n            this.loadingState.next(listOptions.onLoad === OnLoadAction.Append\n                ? LoadingState.LoadingMore\n                : listOptions.onLoad === OnLoadAction.ReplacePage\n                    ? LoadingState.LoadingPage\n                    : LoadingState.Loading);\n            return combineLatest([\n                this.loadTransactions(listOptions).pipe(tap(() => {\n                    this.loadingState.next(LoadingState.Loaded);\n                }), map((transactionsList) => ({\n                    transactionsList,\n                    onLoad: listOptions.onLoad,\n                }))),\n                iif(multipleAccountsPredicate(listOptions), this.accountService.getAllArrangements().pipe(map((accounts) => {\n                    const accountMap = new Map();\n                    accounts.forEach((account) => {\n                        accountMap.set(account.id, account);\n                    });\n                    return accountMap;\n                })), of(new Map())),\n                this.isFilterApplied,\n                this.isSearchApplied,\n            ]).pipe(map(([transactions, accountMap, isFilterApplied, isSearchApplied]) => {\n                transactions.transactionsList.items = transactions.transactionsList.items.map((transaction) => (Object.assign(Object.assign({}, transaction), { account: accountMap.get(transaction.arrangementId || '') })));\n                transactions.transactionsList.initialRequest = !(isFilterApplied || isSearchApplied);\n                return transactions;\n            }));\n        }), scan(onLoadTransactions, { items: [], totalCount: 0 }));\n        this.loadingState = new BehaviorSubject(LoadingState.NotLoaded);\n        this.isFilterApplied = this.listOptions.pipe(map((options) => !TransactionsFilterOptions.isEmpty(options.filter || {})));\n        this.isSearchApplied = this.listOptions.pipe(map((options) => !TransactionsFilterOptions.isEmpty(options.search || {})));\n        // Base this.options on this.selectedAccount, this.pageSize, this.initialListOptions\n        combineLatest([this.selectedAccount, this.pageSize, this.initialListOptions, this.showPendingTransactionsOnTop])\n            .pipe(map(([selectedAccount, pageSize, initialListOptions, showPendingTransactionsOnTop]) => (Object.assign(Object.assign(Object.assign({}, (showPendingTransactionsOnTop ? { state: TransactionState.completed } : {})), { account: {\n                arrangementId: selectedAccount,\n            }, pagination: {\n                from: 0,\n                size: pageSize,\n            }, onLoad: OnLoadAction.Replace }), initialListOptions))))\n            .subscribe(this.options);\n        // Base this.listOptions on this.options\n        this.options\n            .pipe(scan((acc, curr) => Object.assign({}, acc, curr), defaultInitialListOptions))\n            .subscribe(this.listOptions);\n        // Base this.exportOptions on this.listOptions\n        this.listOptions\n            .pipe(filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'), map((params) => (Object.assign(Object.assign({}, params), { pagination: undefined, state: undefined, exportType: 'csv', locale: 'en-US' }))))\n            .subscribe(this.exportOptions);\n    }\n    loadTransactions(listOptions) {\n        const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n        let transactionsResponse;\n        if (this.isUsingPostEndpoints) {\n            transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost({\n                transactionListRequest: transactionPayload,\n            }, 'response');\n        }\n        else {\n            this.deprecationsService.logDeprecatedFeature('[TransactionsService: loadTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration');\n            transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n        }\n        return transactionsResponse.pipe(map(TransactionsList.fromHttpResponse), catchError((err) => of({\n            items: [],\n            totalCount: 0,\n            httpResponseError: err,\n        })));\n    }\n    exportTransactions(exportOptions) {\n        const exportPayload = TransactionsList.toHttpRequest(Object.assign(Object.assign({}, exportOptions), { locale: this.locale }));\n        if (this.isUsingPostEndpoints) {\n            return this.transactionsDataHttpService.getTransactionsExportWithPost({\n                transactionListRequest: exportPayload,\n            }, 'response');\n        }\n        else {\n            this.deprecationsService.logDeprecatedFeature('[TransactionsService: exportTransactions] GET endpoints deprecated. Please use POST endpoints by changing CXP configuration');\n            return this.transactionsDataHttpService.getTransactionsExport(exportPayload, 'response');\n        }\n    }\n    search(query) {\n        const searchOptions = {\n            query,\n        };\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), { pagination: paginationOptions, search: searchOptions, onLoad: OnLoadAction.Replace }));\n    }\n    clearSearch() {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), { pagination: paginationOptions, onLoad: OnLoadAction.Replace }));\n    }\n    filter(filterOptions) {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), { pagination: paginationOptions, filter: Object.assign({}, filterOptions), onLoad: OnLoadAction.Replace }));\n    }\n    clearFilter() {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), { pagination: paginationOptions, onLoad: OnLoadAction.Replace }));\n    }\n    exportToType(type) {\n        return this.exportOptions.pipe(first(), switchMap((exportOptions) => this.exportTransactions(Object.assign(Object.assign({}, exportOptions), { exportType: type }))));\n    }\n    loadMore() {\n        const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n        const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), { from: currentPaginationOptions.from + 1 });\n        this.options.next({\n            pagination: paginationOptions,\n            onLoad: OnLoadAction.Append,\n        });\n    }\n    sort(sortOptions) {\n        const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n        this.options.next({\n            sort: Object.assign({}, sortOptions),\n            pagination: Object.assign(Object.assign({}, currentPaginationOptions), { from: 0 }),\n            onLoad: OnLoadAction.ReplacePage,\n        });\n    }\n    pageChange(page) {\n        const paginationOptions = Object.assign(Object.assign(Object.assign({}, defaultPaginationOptions.pagination), this.options.getValue().pagination), { from: page });\n        this.options.next({\n            pagination: paginationOptions,\n            onLoad: OnLoadAction.ReplacePage,\n        });\n    }\n    getTransactionsFrom(selectedAccount, pageSize, initialListOptions = of({}), showPendingTransactionsOnTop = of(false), getOrPostEndpoint = of(EndpointType.GET_REQUEST)) {\n        selectedAccount.subscribe(this.selectedAccount);\n        pageSize.subscribe(this.pageSize);\n        initialListOptions.subscribe(this.initialListOptions);\n        showPendingTransactionsOnTop.subscribe(this.showPendingTransactionsOnTop);\n        getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n    }\n    getCurrentPage() {\n        return this.listOptions.pipe(map((options) => (options.pagination || defaultPaginationOptions.pagination).from));\n    }\n    getTransactionsList() {\n        return this.transactionsList;\n    }\n    retryFiltering() {\n        this.listRefresh.next(this.listOptions.getValue());\n    }\n    refreshTransactions() {\n        const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n        const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), { from: 0 });\n        const newOptions = Object.assign(Object.assign({}, this.listOptions.getValue()), { pagination: paginationOptions, onLoad: OnLoadAction.ReplacePage });\n        if (deepEqual(newOptions, this.listOptions.getValue())) {\n            this.listRefresh.next(this.listOptions.getValue());\n        }\n        else {\n            this.options.next({\n                pagination: paginationOptions,\n                onLoad: OnLoadAction.ReplacePage,\n            });\n        }\n    }\n    get isUsingPostEndpoints() {\n        return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n    }\n    ngOnDestroy() {\n        this.listRefresh.complete();\n        this.selectedAccount.complete();\n        this.pageSize.complete();\n        this.initialListOptions.complete();\n        this.options.complete();\n        this.listOptions.complete();\n        this.exportOptions.complete();\n        this.showPendingTransactionsOnTop.complete();\n        this.loadingState.complete();\n        this.getOrPostEndpoint.complete();\n    }\n}\nTransactionsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsService, deps: [{ token: i1$1.TransactionClientHttpService }, { token: AccountsService }, { token: i3.DeprecationsService }, { token: LOCALE_ID }], target: i0.ɵɵFactoryTarget.Injectable });\nTransactionsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.TransactionClientHttpService }, { type: AccountsService }, { type: i3.DeprecationsService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOCALE_ID]\n                }] }]; } });\n\nclass TransactionsNumberOfResultsFoundComponent {\n    constructor() {\n        /**\n         * Reference to instance of customizable component.\n         */\n        this.hostRef = this;\n        /**\n         * Number of results found after filtering or searching.\n         */\n        this.numberOfResultsFound = 0;\n        /**\n         * The loading state of the transactions list.\n         */\n        this.loadingState = LoadingState.NotLoaded;\n        /**\n         * Whether filter is applied or not.\n         */\n        this.isFilterApplied = false;\n        /**\n         * Whether search is applied or not.\n         */\n        this.isSearchApplied = false;\n    }\n    /**\n     * Whether loading has finished or not.\n     */\n    get isLoaded() {\n        return this.loadingState === LoadingState.Loaded;\n    }\n}\nTransactionsNumberOfResultsFoundComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNumberOfResultsFoundComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionsNumberOfResultsFoundComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsNumberOfResultsFoundComponent, selector: \"bb-transactions-number-of-results-found\", inputs: { numberOfResultsFound: \"numberOfResultsFound\", loadingState: \"loadingState\", isFilterApplied: \"isFilterApplied\", isSearchApplied: \"isSearchApplied\" }, ngImport: i0, template: \"<ng-container bbTransactionsNumberOfResultsFoundCustomizable [bbHostRef]=\\\"hostRef\\\"></ng-container>\\n\\n<ng-template bbTransactionsNumberOfResultsFoundCustomizable let-hostRef>\\n  <div\\n    class=\\\"bb-card__header bb-subtitle\\\"\\n    [ngClass]=\\\"{ 'sr-only': hostRef.numberOfResultsFound <= 0 }\\\"\\n    i18n=\\\"Number of results found for the applied filter@@transactions.list.numberOfResultsFound\\\"\\n    *ngIf=\\\"hostRef.isLoaded && (hostRef.isFilterApplied || hostRef.isSearchApplied)\\\"\\n    aria-live=\\\"assertive\\\"\\n  >\\n    {hostRef.numberOfResultsFound, plural, =0 {No results} =1 {1 result} other\\n    {{{ hostRef.numberOfResultsFound }} results}} found\\n  </div>\\n</ng-template>\\n\", directives: [{ type: i0.forwardRef(function () { return TransactionsNumberOfResultsFoundCustomizableDirective; }), selector: \"[bbTransactionsNumberOfResultsFoundCustomizable]\" }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i0.forwardRef(function () { return i2.NgClass; }), selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNumberOfResultsFoundComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transactions-number-of-results-found',\n                    templateUrl: 'transactions-number-of-results-found.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { numberOfResultsFound: [{\n                type: Input\n            }], loadingState: [{\n                type: Input\n            }], isFilterApplied: [{\n                type: Input\n            }], isSearchApplied: [{\n                type: Input\n            }] } });\nclass TransactionsNumberOfResultsFoundCustomizableDirective extends BbTemplate {\n}\nTransactionsNumberOfResultsFoundCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNumberOfResultsFoundCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\nTransactionsNumberOfResultsFoundCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsNumberOfResultsFoundCustomizableDirective, selector: \"[bbTransactionsNumberOfResultsFoundCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNumberOfResultsFoundCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbTransactionsNumberOfResultsFoundCustomizable]',\n                }]\n        }] });\n\nvar TransactionsCheckImageType;\n(function (TransactionsCheckImageType) {\n    TransactionsCheckImageType[\"PNG\"] = \"image/png\";\n    TransactionsCheckImageType[\"JPEG\"] = \"image/jpeg\";\n})(TransactionsCheckImageType || (TransactionsCheckImageType = {}));\nvar TransactionsCheckImageSide;\n(function (TransactionsCheckImageSide) {\n    TransactionsCheckImageSide[\"FRONT\"] = \"FRONT\";\n    TransactionsCheckImageSide[\"BACK\"] = \"BACK\";\n})(TransactionsCheckImageSide || (TransactionsCheckImageSide = {}));\n//eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsCheckImages;\n(function (TransactionsCheckImages) {\n    // eslint-disable-next-line no-inner-declarations\n    function processImages(imageObject) {\n        return {\n            side: imageObject.side,\n            mimeType: imageObject.mimeType,\n            content: imageObject.content,\n        };\n    }\n    function fromHttpResponse(response) {\n        const imagesArray = (response.body && response.body.images) || [];\n        const mappedImages = imagesArray.map(processImages);\n        return {\n            images: mappedImages,\n        };\n    }\n    TransactionsCheckImages.fromHttpResponse = fromHttpResponse;\n})(TransactionsCheckImages || (TransactionsCheckImages = {}));\n\nvar TransactionsDetailsLoadingState;\n(function (TransactionsDetailsLoadingState) {\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"error\"] = -1] = \"error\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"serverError\"] = -2] = \"serverError\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"badRequestError\"] = -3] = \"badRequestError\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notFoundError\"] = -4] = \"notFoundError\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"loading\"] = 0] = \"loading\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"done\"] = 1] = \"done\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notLoaded\"] = 2] = \"notLoaded\";\n    TransactionsDetailsLoadingState[TransactionsDetailsLoadingState[\"notStarted\"] = 3] = \"notStarted\";\n})(TransactionsDetailsLoadingState || (TransactionsDetailsLoadingState = {}));\nvar DisputeStatusEnum;\n(function (DisputeStatusEnum) {\n    DisputeStatusEnum[\"Refunded\"] = \"REFUNDED\";\n    DisputeStatusEnum[\"Undisputed\"] = \"UNDISPUTED\";\n    DisputeStatusEnum[\"Pending\"] = \"PENDING\";\n    DisputeStatusEnum[\"Rejected\"] = \"REJECTED\";\n})(DisputeStatusEnum || (DisputeStatusEnum = {}));\n\nclass AccessibilityKeyboardDirective {\n    constructor(element) {\n        this.element = element;\n        element.nativeElement.tabIndex = 0;\n    }\n    // eslint-disable-next-line\n    eventListener(event) {\n        this.element.nativeElement.click(event);\n    }\n}\nAccessibilityKeyboardDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AccessibilityKeyboardDirective, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\nAccessibilityKeyboardDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: AccessibilityKeyboardDirective, selector: \"[bbAccessibilityKeyboard]\", host: { listeners: { \"keydown.enter\": \"eventListener($event)\", \"keydown.space\": \"eventListener($event)\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AccessibilityKeyboardDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbAccessibilityKeyboard]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { eventListener: [{\n                type: HostListener,\n                args: ['keydown.enter', ['$event']]\n            }, {\n                type: HostListener,\n                args: ['keydown.space', ['$event']]\n            }] } });\n\nclass TransactionCheckImageItemComponent {\n    constructor(sanitizer) {\n        this.sanitizer = sanitizer;\n        this.sideText = '';\n        this.imageAlt = '';\n        this.selectImage = new EventEmitter();\n    }\n    get imageFileName() {\n        const fileType = this.image ? this.image.mimeType.replace('image/', '') : '';\n        const side = this.image ? this.image.side : '';\n        return `${this.imageCheckNumber}-${side}.${fileType}`;\n    }\n    get formatedImageSource() {\n        const mimeType = this.image ? this.image.mimeType : '';\n        const content = this.image ? this.image.content : '';\n        return `data:${mimeType};base64,${content}`;\n    }\n    get imageCheckNumber() {\n        return this.transaction && this.transaction.checkSerialNumber;\n    }\n    createImageSource() {\n        return this.sanitizer.bypassSecurityTrustResourceUrl(this.formatedImageSource);\n    }\n    toggleDocumentViewer() {\n        this.selectImage.emit();\n    }\n}\nTransactionCheckImageItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageItemComponent, deps: [{ token: i1$2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nTransactionCheckImageItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionCheckImageItemComponent, selector: \"bb-transaction-check-image-item\", inputs: { image: \"image\", transaction: \"transaction\", sideText: \"sideText\", imageAlt: \"imageAlt\" }, outputs: { selectImage: \"selectImage\" }, ngImport: i0, template: \"<ng-container>\\n  <span>{{ sideText }}</span>\\n  <div\\n    role=\\\"img\\\"\\n    data-role=\\\"check-image-item\\\"\\n    class=\\\"bb-check-img-container\\\"\\n    (click)=\\\"!!image && toggleDocumentViewer()\\\"\\n    attr.aria-label=\\\"{{ sideText }} image container\\\"\\n    i18n-aria-label=\\\"\\n      Image container for front or back check image@@transaction-check-image-item.aria-label.image-container\\\"\\n    bbAccessibilityKeyboard\\n  >\\n    <ng-container *ngIf=\\\"!!image; else noImage\\\">\\n      <div class=\\\"bb-check-img-container-state\\\">\\n        <div class=\\\"bb-check-img-container-state__container\\\">\\n          <bb-icon-ui\\n            name=\\\"remove-red-eye\\\"\\n            size=\\\"lg\\\"\\n            color=\\\"white\\\"\\n            aria-label=\\\"Expand Image\\\"\\n            i18n-aria-label=\\\"Expand image@@transaction-check-image-item.aria-label.expand-icon\\\"\\n          ></bb-icon-ui>\\n        </div>\\n      </div>\\n      <img class=\\\"bb-check-img-container__img\\\" alt=\\\"{{ imageAlt }}\\\" [src]=\\\"createImageSource()\\\" />\\n    </ng-container>\\n  </div>\\n</ng-container>\\n\\n<ng-template #noImage>\\n  <div class=\\\"bb-check-no-img\\\">\\n    <div class=\\\"bb-check-no-img__icon\\\">\\n      <bb-icon-ui\\n        name=\\\"broken-image\\\"\\n        size=\\\"lg\\\"\\n        aria-label=\\\"No image\\\"\\n        i18n-aria-label=\\\"No image@@transaction-check-image-item.aria-label.no-image-icon\\\"\\n      ></bb-icon-ui>\\n    </div>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }], directives: [{ type: AccessibilityKeyboardDirective, selector: \"[bbAccessibilityKeyboard]\" }, { type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transaction-check-image-item',\n                    templateUrl: 'transaction-check-image-item.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.DomSanitizer }]; }, propDecorators: { image: [{\n                type: Input\n            }], transaction: [{\n                type: Input\n            }], sideText: [{\n                type: Input\n            }], imageAlt: [{\n                type: Input\n            }], selectImage: [{\n                type: Output\n            }] } });\n\nconst DOCUMENT_LOAD_DELAY_MS = 400;\nvar DocumentViewerType;\n(function (DocumentViewerType) {\n    DocumentViewerType[\"JPEG\"] = \"image/jpeg\";\n    DocumentViewerType[\"JPG\"] = \"image/jpg\";\n    DocumentViewerType[\"PNG\"] = \"image/png\";\n    DocumentViewerType[\"WEBP\"] = \"image/webp\";\n    DocumentViewerType[\"GIF\"] = \"image/gif\";\n    DocumentViewerType[\"BMP\"] = \"image/bmp\";\n})(DocumentViewerType || (DocumentViewerType = {}));\nconst isDocumentViewerType = (type) => Object.values(DocumentViewerType).includes(type);\nconst downloadFile = (url, fileName) => {\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${fileName}`;\n    link.click();\n};\nvar KEY_CODES;\n(function (KEY_CODES) {\n    KEY_CODES[\"UP\"] = \"ArrowUp\";\n    KEY_CODES[\"DOWN\"] = \"ArrowDown\";\n    KEY_CODES[\"ENTER\"] = \"Enter\";\n    KEY_CODES[\"SPACE\"] = \" \";\n    KEY_CODES[\"TAB\"] = \"Tab\";\n    KEY_CODES[\"BACKSPACE\"] = \"Backspace\";\n    KEY_CODES[\"DELETE\"] = \"Delete\";\n    KEY_CODES[\"ESCAPE\"] = \"Escape\";\n    KEY_CODES[\"X\"] = \"x\";\n    KEY_CODES[\"V\"] = \"v\";\n    KEY_CODES[\"LEFT\"] = \"ArrowLeft\";\n    KEY_CODES[\"RIGHT\"] = \"ArrowRight\";\n})(KEY_CODES || (KEY_CODES = {}));\nconst KEY_CODE_TO_CODE = {\n    9: KEY_CODES.TAB,\n    38: KEY_CODES.UP,\n    40: KEY_CODES.DOWN,\n    32: KEY_CODES.SPACE,\n    13: KEY_CODES.ENTER,\n    46: KEY_CODES.DELETE,\n    8: KEY_CODES.BACKSPACE,\n    27: KEY_CODES.ESCAPE,\n    88: KEY_CODES.X,\n    86: KEY_CODES.V,\n};\nfunction browserIsMsie() {\n    return navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident/') > -1;\n}\nfunction getKeyCode(event) {\n    // NOTE: detect IE\n    if (browserIsMsie()) {\n        return KEY_CODE_TO_CODE[event.keyCode];\n    }\n    return event.code;\n}\n\nclass DocumentViewerBackdropComponent {\n    get containerStyles() {\n        var _a, _b;\n        return ((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles) || null;\n    }\n    get hasCustomStyles() {\n        var _a, _b;\n        return Boolean((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles);\n    }\n}\nDocumentViewerBackdropComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerBackdropComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nDocumentViewerBackdropComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: DocumentViewerBackdropComponent, selector: \"bb-document-viewer-backdrop\", inputs: { options: \"options\" }, ngImport: i0, template: \"<div\\n  class=\\\"bb-document-viewer-backdrop modal-backdrop show\\\"\\n  aria-hidden=\\\"true\\\"\\n  [class.bb-document-viewer-backdrop-default-off]=\\\"hasCustomStyles\\\"\\n  [ngStyle]=\\\"containerStyles\\\"\\n></div>\\n\", directives: [{ type: i2.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerBackdropComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-document-viewer-backdrop',\n                    templateUrl: './document-viewer-backdrop.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { options: [{\n                type: Input\n            }] } });\n\nclass DocumentViewerHeaderComponent {\n    constructor(ngZone) {\n        this.ngZone = ngZone;\n        this.isLoading = false;\n        //eslint-disable-next-line @angular-eslint/no-output-native\n        this.close = new EventEmitter();\n    }\n    set source(src) {\n        if (src) {\n            this.revokeObjectURL();\n            this.documentObjectURL = src;\n        }\n    }\n    ngOnDestroy() {\n        this.revokeObjectURL();\n    }\n    onOpenDocument() {\n        if (!this.documentObjectURL) {\n            return;\n        }\n        this.openImage(this.documentObjectURL);\n    }\n    onPrintDocument() {\n        if (!this.documentObjectURL) {\n            return;\n        }\n        this.printWindow(this.openImage(this.documentObjectURL));\n    }\n    onDownloadDocument() {\n        if (!this.documentObjectURL) {\n            return;\n        }\n        downloadFile(this.documentObjectURL, this.filename);\n    }\n    openImage(documentObjectURL) {\n        const image = new Image();\n        const newWindow = window.open('about:blank', '_new');\n        image.src = documentObjectURL;\n        newWindow.document.write(image.outerHTML);\n        return newWindow;\n    }\n    printWindow(window) {\n        this.ngZone.runOutsideAngular(() => {\n            setTimeout(() => {\n                window.focus();\n                window.print();\n            }, 0);\n        });\n    }\n    revokeObjectURL() {\n        if (this.documentObjectURL) {\n            window.URL.revokeObjectURL(this.documentObjectURL);\n        }\n    }\n}\nDocumentViewerHeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerHeaderComponent, deps: [{ token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nDocumentViewerHeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: DocumentViewerHeaderComponent, selector: \"bb-document-viewer-header\", inputs: { filename: \"filename\", filetype: \"filetype\", source: \"source\", isLoading: \"isLoading\" }, outputs: { close: \"close\" }, ngImport: i0, template: \"<div class=\\\"bb-document-viewer-header\\\">\\n  <span class=\\\"bb-document-viewer-header__title bb-stack\\\">\\n    <bb-icon-ui\\n      class=\\\"bb-stack__item bb-stack__item--spacing-sm\\\"\\n      data-role=\\\"document-viewer-header-icon\\\"\\n      name=\\\"description\\\"\\n      size=\\\"md\\\"\\n    ></bb-icon-ui>\\n    <span class=\\\"bb-stack__item\\\" data-role=\\\"document-viewer-header-filename\\\">{{ filename }}</span>\\n  </span>\\n  <div class=\\\"bb-stack\\\">\\n    <!-- web view -->\\n    <div\\n      class=\\\"\\n        bb-stack__item bb-stack__item--spacing-none bb-stack__item--push-right\\n        bb-document-viewer-header-controls__web-view\\n      \\\"\\n    >\\n      <button\\n        bbButton\\n        data-role=\\\"print-document-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\\\"\\n        aria-label=\\\"print\\\"\\n        i18n-aria-label=\\\"Print document button@@document-viewer-header.aria-label.print-document-btn\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"!isLoading && onPrintDocument()\\\"\\n      >\\n        <bb-icon-ui name=\\\"local-printshop\\\" size=\\\"md\\\" color=\\\"light\\\"></bb-icon-ui>\\n      </button>\\n\\n      <button\\n        bbButton\\n        data-role=\\\"download-document-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\\\"\\n        aria-label=\\\"download\\\"\\n        i18n-aria-label=\\\"Download document button@document-viewer-header.aria-label.download-document-btn\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"!isLoading && onDownloadDocument()\\\"\\n      >\\n        <bb-icon-ui name=\\\"save-alt\\\" size=\\\"md\\\" color=\\\"light\\\"></bb-icon-ui>\\n      </button>\\n\\n      <button\\n        bbButton\\n        data-role=\\\"open-document-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\\\"\\n        aria-label=\\\"new tab\\\"\\n        i18n-aria-label=\\\"Open document in new tab button@@document-viewer-header.aria-label.open-document-new-tab-btn\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"!isLoading && onOpenDocument()\\\"\\n      >\\n        <bb-icon-ui name=\\\"open-in-new\\\" size=\\\"md\\\" color=\\\"light\\\"></bb-icon-ui>\\n      </button>\\n\\n      <button\\n        bbButton\\n        data-role=\\\"close-document-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\\\"\\n        aria-label=\\\"close\\\"\\n        i18n-aria-label=\\\"Close document button@@document-viewer-header.aria-label.close-btn\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"close.emit()\\\"\\n      >\\n        <bb-icon-ui name=\\\"times\\\" size=\\\"md\\\" color=\\\"light\\\"></bb-icon-ui>\\n      </button>\\n    </div>\\n\\n    <!-- mobile view -->\\n    <div\\n      class=\\\"\\n        bb-stack__item bb-stack__item--spacing-none bb-stack__item--push-right\\n        bb-document-viewer-header-controls__mobile-view\\n      \\\"\\n    >\\n      <div class=\\\"bb-stack\\\">\\n        <bb-dropdown-menu-ui\\n          container=\\\"body\\\"\\n          data-role=\\\"options-menu-dropdown\\\"\\n          class=\\\"bb-stack__item\\\"\\n          icon=\\\"ellipsis-h\\\"\\n          btnColor=\\\"muted\\\"\\n          buttonSize=\\\"sm\\\"\\n          [btnCircle]=\\\"true\\\"\\n          iconSize=\\\"md\\\"\\n          iconColor=\\\"light\\\"\\n          ariaLabel=\\\"Check image export dropdown menu\\\"\\n          i18n-ariaLabel=\\\"Check image export dropdown menu@@document-viewer-header.export-dropdown-menu.ariaLabel\\\"\\n        >\\n          <ng-template bbDropdownMenuItem>\\n            <a\\n              role=\\\"menuitem\\\"\\n              class=\\\"dropdown-item\\\"\\n              data-role=\\\"open-document-item\\\"\\n              (click)=\\\"!isLoading && onOpenDocument()\\\"\\n              href=\\\"javaScript:void(0);\\\"\\n            >\\n              <bb-icon-ui class=\\\"bb-document-viewer-header__dropdown-icon\\\" name=\\\"open-in-new\\\" size=\\\"md\\\"></bb-icon-ui>\\n              <span i18n=\\\"Open image in new tab@@document-viewer-header.controlsList.open-in-new-tab\\\"\\n                >Open in new tab</span\\n              >\\n            </a>\\n            <a\\n              role=\\\"menuitem\\\"\\n              class=\\\"dropdown-item\\\"\\n              data-role=\\\"download-document-item\\\"\\n              (click)=\\\"!isLoading && onDownloadDocument()\\\"\\n              href=\\\"javaScript:void(0);\\\"\\n            >\\n              <bb-icon-ui class=\\\"bb-document-viewer-header__dropdown-icon\\\" name=\\\"save-alt\\\" size=\\\"md\\\"></bb-icon-ui>\\n              <span i18n=\\\"Download image@@document-viewer-header.controlsList.download-image\\\">Download</span>\\n            </a>\\n            <a\\n              role=\\\"menuitem\\\"\\n              class=\\\"dropdown-item\\\"\\n              data-role=\\\"print-document-item\\\"\\n              (click)=\\\"!isLoading && onPrintDocument()\\\"\\n              href=\\\"javaScript:void(0);\\\"\\n            >\\n              <bb-icon-ui\\n                class=\\\"bb-document-viewer-header__dropdown-icon\\\"\\n                name=\\\"local-printshop\\\"\\n                size=\\\"md\\\"\\n              ></bb-icon-ui>\\n              <span i18n=\\\"Print image@@document-viewer-header.controlsList.print-image\\\">Print</span>\\n            </a>\\n          </ng-template>\\n        </bb-dropdown-menu-ui>\\n        <button\\n          bbButton\\n          data-role=\\\"close-document-btn\\\"\\n          class=\\\"bb-stack__item bb-document-viewer-interactor-controls__button bb-document-viewer-header__spacer\\\"\\n          aria-label=\\\"close\\\"\\n          i18n-aria-label=\\\"Close document button@@document-viewer-header.aria-label.close-btn\\\"\\n          buttonSize=\\\"sm\\\"\\n          (click)=\\\"close.emit()\\\"\\n        >\\n          <bb-icon-ui name=\\\"times\\\" size=\\\"md\\\" color=\\\"light\\\"></bb-icon-ui>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i2$1.DropdownMenuComponent, selector: \"bb-dropdown-menu-ui\", inputs: [\"label\", \"disabled\", \"options\", \"icon\", \"iconSize\", \"iconColor\", \"btnColor\", \"btnCircle\", \"optionLabelKey\", \"fullWidth\", \"autoClose\", \"container\", \"position\", \"ariaLabel\", \"dropDownMenuRole\", \"dropDownMenuId\", \"buttonSize\", \"dropDownButtonLabel\", \"visibleElementDependingOnViewport\", \"role\"], outputs: [\"select\"] }], directives: [{ type: i3$1.ButtonDirective, selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }, { type: i2$1.DropdownMenuItemDirective, selector: \"ng-template[bbDropdownMenuItem]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerHeaderComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-document-viewer-header',\n                    templateUrl: './document-viewer-header.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone }]; }, propDecorators: { filename: [{\n                type: Input\n            }], filetype: [{\n                type: Input\n            }], source: [{\n                type: Input\n            }], isLoading: [{\n                type: Input\n            }], close: [{\n                type: Output\n            }] } });\n\nclass DocumentViewerInteractorComponent {\n    constructor() {\n        this.navigationState = { currIdx: 0, total: 0 };\n        this.canZoomOut = true;\n        this.canZoomIn = true;\n        this.navigate = new EventEmitter();\n        this.zoomIn = new EventEmitter();\n        this.zoomOut = new EventEmitter();\n    }\n    get navigationStatus() {\n        return this.navigationState.currIdx + 1 + '/' + this.navigationState.total;\n    }\n    get hasNextNavigation() {\n        return this.navigationState.currIdx + 1 < this.navigationState.total;\n    }\n    get hasPrevNavigation() {\n        return this.navigationState.currIdx > 0;\n    }\n    prev() {\n        this.navigate.emit(this.navigationState.currIdx - 1);\n    }\n    next() {\n        this.navigate.emit(this.navigationState.currIdx + 1);\n    }\n}\nDocumentViewerInteractorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerInteractorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nDocumentViewerInteractorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: DocumentViewerInteractorComponent, selector: \"bb-document-viewer-interactor\", inputs: { navigationState: \"navigationState\", canZoomOut: \"canZoomOut\", canZoomIn: \"canZoomIn\" }, outputs: { navigate: \"navigate\", zoomIn: \"zoomIn\", zoomOut: \"zoomOut\" }, ngImport: i0, template: \"<div class=\\\"bb-document-viewer-interactor\\\">\\n  <div class=\\\"bb-document-viewer-interactor__container\\\" (click)=\\\"$event.stopPropagation()\\\">\\n    <div class=\\\"bb-document-viewer-interactor-controls\\\">\\n      <button\\n        bbButton\\n        data-role=\\\"previous-document-btn\\\"\\n        *ngIf=\\\"hasPrevNavigation\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"prev()\\\"\\n        aria-label=\\\"previous\\\"\\n        i18n-aria-label=\\\"Previous document button@@document-viewer-interactor.aria-label.previous-document-button\\\"\\n      >\\n        <bb-icon-ui name=\\\"angle-left\\\" color=\\\"light\\\" size=\\\"md\\\"></bb-icon-ui>\\n      </button>\\n      <span class=\\\"bb-document-viewer-interactor-controls__spacer\\\">{{ navigationStatus }}</span>\\n      <button\\n        bbButton\\n        data-role=\\\"next-document-btn\\\"\\n        *ngIf=\\\"hasNextNavigation\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"next()\\\"\\n        aria-label=\\\"next\\\"\\n        i18n-aria-label=\\\"Next document button@@document-viewer-interactor.aria-label.next-document-button\\\"\\n      >\\n        <bb-icon-ui name=\\\"angle-right\\\" color=\\\"light\\\" size=\\\"md\\\"></bb-icon-ui>\\n      </button>\\n    </div>\\n    <div class=\\\"bb-document-viewer-interactor-separator\\\"></div>\\n    <div class=\\\"bb-document-viewer-interactor-controls\\\">\\n      <button\\n        bbButton\\n        data-role=\\\"zoom-out-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer\\\"\\n        [disabled]=\\\"!canZoomOut\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"zoomOut.emit()\\\"\\n        aria-label=\\\"zoom out\\\"\\n        i18n-aria-label=\\\"Zoom out document button@@document-viewer-interactor.aria-label.zoomOut-document-button\\\"\\n      >\\n        <bb-icon-ui name=\\\"zoom-out\\\" color=\\\"light\\\" size=\\\"md\\\"></bb-icon-ui>\\n      </button>\\n      <button\\n        bbButton\\n        data-role=\\\"zoom-in-btn\\\"\\n        class=\\\"bb-document-viewer-interactor-controls__button\\\"\\n        [disabled]=\\\"!canZoomIn\\\"\\n        aria-label=\\\"zoom in\\\"\\n        buttonSize=\\\"sm\\\"\\n        (click)=\\\"zoomIn.emit()\\\"\\n        i18n-aria-label=\\\"Zoom in document button@@document-viewer-interactor.aria-label.zoomIn-document-button\\\"\\n      >\\n        <bb-icon-ui name=\\\"zoom-in\\\" color=\\\"light\\\" size=\\\"md\\\"></bb-icon-ui>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.ButtonDirective, selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerInteractorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-document-viewer-interactor',\n                    templateUrl: './document-viewer-interactor.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { navigationState: [{\n                type: Input\n            }], canZoomOut: [{\n                type: Input\n            }], canZoomIn: [{\n                type: Input\n            }], navigate: [{\n                type: Output\n            }], zoomIn: [{\n                type: Output\n            }], zoomOut: [{\n                type: Output\n            }] } });\n\nconst ZOOM_FACTOR = 1.1;\nconst ZOOM_IN_THRESHOLD = 4;\nconst ZOOM_OUT_THRESHOLD = 0.1;\nclass ImageViewerComponent {\n    constructor(domSanitizer) {\n        this.domSanitizer = domSanitizer;\n        this.navigationState = { currIdx: 0, total: 0 };\n        this.navigate = new EventEmitter();\n        this.imageUiState = { scale: 1 };\n    }\n    set source(src) {\n        if (src) {\n            this.revokeObjectURLIfNeeded();\n            this.imageObjectUrl = src;\n            this.imageObjectTrustedUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(this.imageObjectUrl);\n        }\n    }\n    get canZoomOut() {\n        return this.imageUiState.scale >= ZOOM_OUT_THRESHOLD;\n    }\n    get canZoomIn() {\n        return this.imageUiState.scale <= ZOOM_IN_THRESHOLD;\n    }\n    get scale() {\n        return this.domSanitizer.bypassSecurityTrustStyle(`scale(${this.imageUiState.scale})`);\n    }\n    ngOnDestroy() {\n        this.revokeObjectURLIfNeeded();\n    }\n    zoomIn() {\n        if (this.canZoomIn) {\n            this.imageUiState.scale *= ZOOM_FACTOR;\n        }\n    }\n    zoomOut() {\n        if (this.canZoomOut) {\n            this.imageUiState.scale /= ZOOM_FACTOR;\n        }\n    }\n    revokeObjectURLIfNeeded() {\n        if (this.imageObjectUrl) {\n            window.URL.revokeObjectURL(this.imageObjectUrl);\n        }\n    }\n}\nImageViewerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ImageViewerComponent, deps: [{ token: i1$2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nImageViewerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: ImageViewerComponent, selector: \"bb-image-viewer\", inputs: { source: \"source\", navigationState: \"navigationState\" }, outputs: { navigate: \"navigate\" }, ngImport: i0, template: \"<div class=\\\"bb-img-viewer-container bb-stack bb-stack--center\\\">\\n  <img\\n    #imgRef\\n    class=\\\"bb-img-viewer-container__img\\\"\\n    [style.transform]=\\\"scale\\\"\\n    [src]=\\\"imageObjectTrustedUrl\\\"\\n    alt=\\\"Transaction check image\\\"\\n    (click)=\\\"$event.stopPropagation()\\\"\\n  />\\n</div>\\n<bb-document-viewer-interactor\\n  [navigationState]=\\\"navigationState\\\"\\n  [canZoomOut]=\\\"canZoomOut\\\"\\n  [canZoomIn]=\\\"canZoomIn\\\"\\n  (navigate)=\\\"navigate.emit($event)\\\"\\n  (zoomIn)=\\\"zoomIn()\\\"\\n  (zoomOut)=\\\"zoomOut()\\\"\\n></bb-document-viewer-interactor>\\n\", components: [{ type: DocumentViewerInteractorComponent, selector: \"bb-document-viewer-interactor\", inputs: [\"navigationState\", \"canZoomOut\", \"canZoomIn\"], outputs: [\"navigate\", \"zoomIn\", \"zoomOut\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ImageViewerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-image-viewer',\n                    templateUrl: './image-viewer.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.DomSanitizer }]; }, propDecorators: { source: [{\n                type: Input\n            }], navigationState: [{\n                type: Input\n            }], navigate: [{\n                type: Output\n            }] } });\n\nclass DocumentViewerContainerComponent {\n    constructor(elemRef) {\n        this.elemRef = elemRef;\n        this.documentRefSrcs = [];\n        // eslint-disable-next-line\n        this.close = new EventEmitter();\n        this.isLoading$ = new BehaviorSubject(false);\n        this.isHttpError$ = new BehaviorSubject(false);\n        this.documentType = DocumentViewerType;\n        /**\n         * Internal\n         */\n        this.activeDocumentRefIdx$ = new ReplaySubject(1);\n        this.destroy$ = new Subject();\n    }\n    set activeDocumentRefIdx(idx) {\n        this.activeDocumentRefIdx$.next(idx);\n    }\n    get containerStyles() {\n        var _a, _b;\n        return ((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.container) === null || _b === void 0 ? void 0 : _b.styles) || null;\n    }\n    get viewerScale() {\n        var _a;\n        return (_a = this.options) === null || _a === void 0 ? void 0 : _a.scale;\n    }\n    ngOnInit() {\n        this.setDocumentRefChangeSources();\n        this.setFocus();\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    onEscape() {\n        this.close.emit();\n    }\n    closeDialog() {\n        this.close.emit();\n    }\n    onNavigate(idx) {\n        this.activeDocumentRefIdx$.next(idx);\n    }\n    setDocumentRefChangeSources() {\n        this.documentSrc$ = this.activeDocumentRefIdx$.pipe(distinctUntilChanged(), tap(() => {\n            this.isLoading$.next(true);\n            this.isHttpError$.next(false);\n        }), switchMap((idx) => combineLatest([this.documentRefSrcs[idx].src, timer(DOCUMENT_LOAD_DELAY_MS)]).pipe(map(([src]) => src), finalize(() => {\n            this.isLoading$.next(false);\n        }))), catchError((error) => {\n            this.isHttpError$.next(true);\n            throw error;\n        }), share());\n        this.documentFilename$ = this.activeDocumentRefIdx$.pipe(map((idx) => this.documentRefSrcs[idx].filename));\n        this.documentFiletype$ = this.activeDocumentRefIdx$.pipe(map((idx) => this.documentRefSrcs[idx].filetype));\n        this.navigationState$ = this.activeDocumentRefIdx$.pipe(map((idx) => ({ currIdx: idx, total: this.documentRefSrcs.length })));\n    }\n    setFocus() {\n        this.elemRef.nativeElement.focus();\n    }\n}\nDocumentViewerContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerContainerComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nDocumentViewerContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: DocumentViewerContainerComponent, selector: \"bb-document-viewer-container\", inputs: { documentRefSrcs: \"documentRefSrcs\", activeDocumentRefIdx: \"activeDocumentRefIdx\", options: \"options\" }, outputs: { close: \"close\" }, host: { listeners: { \"document:keydown.escape\": \"onEscape()\" } }, viewQueries: [{ propertyName: \"viewContainer\", first: true, predicate: [\"viewerContainer\"], descendants: true, read: ViewContainerRef, static: true }], ngImport: i0, template: \"<div\\n  class=\\\"bb-document-viewer-container show\\\"\\n  role=\\\"dialog\\\"\\n  aria-modal=\\\"true\\\"\\n  tabindex=\\\"-1\\\"\\n  [ngStyle]=\\\"containerStyles\\\"\\n  cdkTrapFocus\\n  cdkTrapFocusAutoCapture=\\\"true\\\"\\n>\\n  <div class=\\\"bb-document-viewer-container__wrapper\\\">\\n    <bb-document-viewer-header\\n      data-role=\\\"document-viewer-header\\\"\\n      [filename]=\\\"(documentFilename$ | async)!\\\"\\n      [source]=\\\"(documentSrc$ | async)!\\\"\\n      [filetype]=\\\"(documentFiletype$ | async)!\\\"\\n      [isLoading]=\\\"(isLoading$ | async)!\\\"\\n      (close)=\\\"close.emit()\\\"\\n    ></bb-document-viewer-header>\\n\\n    <ng-container *ngIf=\\\"documentSrc$ | async as source\\\">\\n      <ng-container *ngIf=\\\"!(isLoading$ | async) && !(isHttpError$ | async)\\\">\\n        <div\\n          class=\\\"bb-document-viewer-container-image\\\"\\n          *ngIf=\\\"documentFiletype$ | async as documentFiletype\\\"\\n          (click)=\\\"closeDialog()\\\"\\n        >\\n          <bb-image-viewer\\n            data-role=\\\"document-viewer-image\\\"\\n            [source]=\\\"source\\\"\\n            [navigationState]=\\\"(navigationState$ | async)!\\\"\\n            (navigate)=\\\"onNavigate($event)\\\"\\n          ></bb-image-viewer>\\n        </div>\\n      </ng-container>\\n    </ng-container>\\n\\n    <bb-loading-indicator-ui\\n      *ngIf=\\\"isLoading$ | async\\\"\\n      class=\\\"bb-document-viewer-container__state\\\"\\n      data-role=\\\"document-viewer-loading-state\\\"\\n      loaderSize=\\\"lg\\\"\\n    >\\n    </bb-loading-indicator-ui>\\n\\n    <bb-empty-state-ui\\n      *ngIf=\\\"!(isLoading$ | async) && (isHttpError$ | async)\\\"\\n      data-role=\\\"document-viewer-error-state\\\"\\n      class=\\\"bb-document-viewer-container__state\\\"\\n      iconColor=\\\"white\\\"\\n      iconModifier=\\\"error-outline\\\"\\n      iconSize=\\\"xxl\\\"\\n      title=\\\"Unknown Error\\\"\\n      i18n-title=\\\"Unknown http error title@@document-viewer-component.uknown-error-title\\\"\\n      subtitle=\\\"Try to reload the page or contact the system administrator\\\"\\n      i18n-subtitle=\\\"\\n        Try to reload the page or contact the system administrator@@document-viewer-component.uknown-error-subtitle\\\"\\n    ></bb-empty-state-ui>\\n  </div>\\n</div>\\n\", components: [{ type: DocumentViewerHeaderComponent, selector: \"bb-document-viewer-header\", inputs: [\"filename\", \"filetype\", \"source\", \"isLoading\"], outputs: [\"close\"] }, { type: ImageViewerComponent, selector: \"bb-image-viewer\", inputs: [\"source\", \"navigationState\"], outputs: [\"navigate\"] }, { type: i3$2.LoadingIndicatorComponent, selector: \"bb-loading-indicator-ui\", inputs: [\"text\", \"loaderSize\", \"showDelay\", \"hasBackground\", \"inline\"] }, { type: i4.EmptyStateComponent, selector: \"bb-empty-state-ui\", inputs: [\"title\", \"subtitle\", \"showIcon\", \"iconClasses\", \"iconModifier\", \"iconSize\", \"iconColor\"] }], directives: [{ type: i5.CdkTrapFocus, selector: \"[cdkTrapFocus]\", inputs: [\"cdkTrapFocus\", \"cdkTrapFocusAutoCapture\"], exportAs: [\"cdkTrapFocus\"] }, { type: i2.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i2.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DocumentViewerContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-document-viewer-container',\n                    templateUrl: './document-viewer-container.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { documentRefSrcs: [{\n                type: Input\n            }], activeDocumentRefIdx: [{\n                type: Input\n            }], options: [{\n                type: Input\n            }], close: [{\n                type: Output\n            }], viewContainer: [{\n                type: ViewChild,\n                args: ['viewerContainer', { static: true, read: ViewContainerRef }]\n            }], onEscape: [{\n                type: HostListener,\n                args: ['document:keydown.escape']\n            }] } });\n\nclass TransactionCheckImageDocumentViewerComponent {\n    constructor() {\n        this.position = 0;\n        this.closeViewer = new EventEmitter();\n    }\n    toDocumentRefSrc(...images) {\n        return images\n            .filter((item) => !!item)\n            .map((image) => {\n            const { mimeType, content, side } = image;\n            const fileType = image === null || image === void 0 ? void 0 : image.mimeType.replace('image/', '');\n            const filename = `${this.imageCheckNumber}-${side}.${fileType}`;\n            return {\n                filename,\n                filetype: image === null || image === void 0 ? void 0 : image.mimeType,\n                src: of(`data:${mimeType};base64,${content}`),\n            };\n        });\n    }\n    get imagesRefsSrc() {\n        return this.toDocumentRefSrc(this.imageFront, this.imageBack);\n    }\n    closeDocumentViewer() {\n        this.closeViewer.emit();\n    }\n    trapKeyEvent(event) {\n        if (getKeyCode(event) !== KEY_CODES.ESCAPE) {\n            event.stopPropagation();\n        }\n    }\n}\nTransactionCheckImageDocumentViewerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageDocumentViewerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionCheckImageDocumentViewerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionCheckImageDocumentViewerComponent, selector: \"bb-transaction-check-image-document-viewer\", inputs: { imageCheckNumber: \"imageCheckNumber\", imageFront: \"imageFront\", imageBack: \"imageBack\", position: \"position\" }, outputs: { closeViewer: \"closeViewer\" }, ngImport: i0, template: \"<div (keydown)=\\\"trapKeyEvent($event)\\\" (keyup)=\\\"trapKeyEvent($event)\\\">\\n  <bb-document-viewer-backdrop></bb-document-viewer-backdrop>\\n  <bb-document-viewer-container\\n    [documentRefSrcs]=\\\"imagesRefsSrc\\\"\\n    [activeDocumentRefIdx]=\\\"position\\\"\\n    cdkTrapFocus\\n    (close)=\\\"closeDocumentViewer()\\\"\\n  ></bb-document-viewer-container>\\n</div>\\n\", components: [{ type: DocumentViewerBackdropComponent, selector: \"bb-document-viewer-backdrop\", inputs: [\"options\"] }, { type: DocumentViewerContainerComponent, selector: \"bb-document-viewer-container\", inputs: [\"documentRefSrcs\", \"activeDocumentRefIdx\", \"options\"], outputs: [\"close\"] }], directives: [{ type: i5.CdkTrapFocus, selector: \"[cdkTrapFocus]\", inputs: [\"cdkTrapFocus\", \"cdkTrapFocusAutoCapture\"], exportAs: [\"cdkTrapFocus\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageDocumentViewerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transaction-check-image-document-viewer',\n                    templateUrl: 'transaction-check-image-document-viewer.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { imageCheckNumber: [{\n                type: Input\n            }], imageFront: [{\n                type: Input\n            }], imageBack: [{\n                type: Input\n            }], position: [{\n                type: Input\n            }], closeViewer: [{\n                type: Output\n            }] } });\n\nclass TransactionCheckImageComponent {\n    constructor() {\n        this.loadingStateEnum = TransactionsDetailsLoadingState;\n        /**\n         * Index to display in the document viewer. For the purpose of hidding and showing\n         * the viewer this will be base 1\n         * when the value is 0 the document viewer will not be visible\n         */\n        this.index = 0;\n    }\n    /**\n     * The check image object.\n     */\n    // eslint-disable-next-line\n    set checkImagesList(value) {\n        this.imageFront = value && value.images.find((data) => data.side === TransactionsCheckImageSide.FRONT);\n        this.imageBack = value && value.images.find((data) => data.side === TransactionsCheckImageSide.BACK);\n    }\n    get hasErrors() {\n        return (this.transactionDetailsLoadingStatus &&\n            this.transactionDetailsLoadingStatus.checkImages &&\n            this.transactionDetailsLoadingStatus.checkImages < 0);\n    }\n    get isDone() {\n        return (this.transactionDetailsLoadingStatus &&\n            this.transactionDetailsLoadingStatus.checkImages === TransactionsDetailsLoadingState.done);\n    }\n    onClose() {\n        this.index = 0;\n    }\n    selectImage(index) {\n        this.index = index;\n    }\n}\nTransactionCheckImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionCheckImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionCheckImageComponent, selector: \"bb-transaction-check-image\", inputs: { transaction: \"transaction\", checkImagesList: \"checkImagesList\", transactionDetailsLoadingStatus: \"transactionDetailsLoadingStatus\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"isDone || hasErrors; else loadingState\\\">\\n  <div class=\\\"bb-stack bb-stack--wrap\\\">\\n    <div class=\\\"bb-stack__item\\\">\\n      <bb-transaction-check-image-item\\n        *ngIf=\\\"!!imageFront || hasErrors\\\"\\n        [image]=\\\"imageFront\\\"\\n        data-role=\\\"check-image-item-front\\\"\\n        (selectImage)=\\\"selectImage(1)\\\"\\n        [transaction]=\\\"transaction\\\"\\n        sideText=\\\"Front\\\"\\n        imageAlt=\\\"Front check image\\\"\\n        i18n-sideText=\\\"Front side title of check image@@transactions.detail.check-image.front.title\\\"\\n        i18n-imageAlt=\\\"Front side alt of check image@@transactions.detail.check-image.front.alt-image\\\"\\n      ></bb-transaction-check-image-item>\\n    </div>\\n\\n    <div class=\\\"bb-stack__item\\\">\\n      <bb-transaction-check-image-item\\n        *ngIf=\\\"!!imageBack || hasErrors\\\"\\n        data-role=\\\"check-image-item-back\\\"\\n        (selectImage)=\\\"selectImage(imageFront ? 2 : 1)\\\"\\n        [image]=\\\"imageBack\\\"\\n        [transaction]=\\\"transaction\\\"\\n        sideText=\\\"Back\\\"\\n        imageAlt=\\\"Back check image\\\"\\n        i18n-sideText=\\\"Back side title of check image@@transactions.detail.check-image.back.title\\\"\\n        i18n-imageAlt=\\\"Back side alt of check image@@transactions.detail.check-image.back.alt-image\\\"\\n      ></bb-transaction-check-image-item>\\n    </div>\\n  </div>\\n\\n  <bb-transaction-check-image-document-viewer\\n    *ngIf=\\\"index > 0\\\"\\n    data-role=\\\"check-image-document-viewer\\\"\\n    [imageCheckNumber]=\\\"transaction?.checkSerialNumber\\\"\\n    [imageFront]=\\\"imageFront\\\"\\n    [imageBack]=\\\"imageBack\\\"\\n    [position]=\\\"index - 1\\\"\\n    (closeViewer)=\\\"onClose()\\\"\\n  ></bb-transaction-check-image-document-viewer>\\n\\n  <ng-container *ngIf=\\\"hasErrors\\\">\\n    <span\\n      i18n=\\\"Something went wrong@@transactions.detail.check-image.server-error\\\"\\n      class=\\\"bb-input-validation-message\\\"\\n      data-role=\\\"check-image-server-error-state\\\"\\n      *ngIf=\\\"transactionDetailsLoadingStatus?.checkImages === loadingStateEnum?.serverError\\\"\\n    >\\n      Something went wrong. Please try again later.\\n    </span>\\n\\n    <span\\n      i18n=\\\"Check images cannot be viewed at the moment@@transactions.detail.check-image.bad-request-error\\\"\\n      class=\\\"bb-input-validation-message\\\"\\n      data-role=\\\"check-image-bad-request-error-state\\\"\\n      *ngIf=\\\"transactionDetailsLoadingStatus?.checkImages === loadingStateEnum?.badRequestError\\\"\\n    >\\n      Check images cannot be viewed at the moment, please try again later or contact your financial institution.\\n    </span>\\n\\n    <span\\n      i18n=\\\"Check images cannot be viewed at the moment@@transactions.detail.check-image.not-found-error\\\"\\n      class=\\\"bb-input-validation-message\\\"\\n      data-role=\\\"check-image-not-found-error-state\\\"\\n      *ngIf=\\\"transactionDetailsLoadingStatus?.checkImages === loadingStateEnum?.notFoundError\\\"\\n    >\\n      Check images cannot be viewed at the moment, please try again later or contact your financial institution.\\n    </span>\\n  </ng-container>\\n</ng-container>\\n\\n<ng-template #loadingState>\\n  <bb-loading-indicator-ui loaderSize=\\\"lg\\\"></bb-loading-indicator-ui>\\n</ng-template>\\n\", components: [{ type: TransactionCheckImageItemComponent, selector: \"bb-transaction-check-image-item\", inputs: [\"image\", \"transaction\", \"sideText\", \"imageAlt\"], outputs: [\"selectImage\"] }, { type: TransactionCheckImageDocumentViewerComponent, selector: \"bb-transaction-check-image-document-viewer\", inputs: [\"imageCheckNumber\", \"imageFront\", \"imageBack\", \"position\"], outputs: [\"closeViewer\"] }, { type: i3$2.LoadingIndicatorComponent, selector: \"bb-loading-indicator-ui\", inputs: [\"text\", \"loaderSize\", \"showDelay\", \"hasBackground\", \"inline\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCheckImageComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transaction-check-image',\n                    templateUrl: './transaction-check-image.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { transaction: [{\n                type: Input\n            }], checkImagesList: [{\n                type: Input\n            }], transactionDetailsLoadingStatus: [{\n                type: Input\n            }] } });\n\nclass TransactionsInquiryDisputeComponent {\n    constructor(fb) {\n        this.fb = fb;\n        this.enableDispute = false;\n        /**\n         * Whether the dispute & inquiry form is sending or not.\n         */\n        this.state = TransactionsDetailsLoadingState.notStarted;\n        this.submitReport = new EventEmitter();\n        this.cancelReport = new EventEmitter();\n        this.messageChange = new EventEmitter();\n        this.fileChange = new EventEmitter();\n        this.fileRemoved = new EventEmitter();\n        this.confirmationDialogActive = false;\n        this.labels = {\n            inquire: $localize `:Inquire tooltip@@transactions.dispute.inquire.inquireLabel:Inquire for more information`,\n            dispute: $localize `:Dispute tooltip@@transactions.dispute.inquire.disputeLabel:Dispute this transaction`,\n        };\n        this.loadingStateEnum = TransactionsDetailsLoadingState;\n        this.unsubscribeSubject = new Subject();\n        this.transactionReportForm = this.fb.group({\n            topic: [{ value: '' }, this.topicRequired],\n            attachment: [undefined],\n            subject: [{ name: '' }],\n            body: [''],\n        });\n    }\n    topicRequired(control) {\n        var _a;\n        return ((_a = control.value) === null || _a === void 0 ? void 0 : _a.value) === '' ? { required: 'value is required' } : null;\n    }\n    getControl(field) {\n        return this.transactionReportForm.controls[field];\n    }\n    setFormValue(values) {\n        this.transactionReportForm.patchValue({\n            body: values.body,\n            attachments: values.attachments,\n        }, { emitEvent: false });\n    }\n    hasError(field, type) {\n        const control = this.getControl(field);\n        return control && control.errors && control.errors[type];\n    }\n    isInvalidControl(field) {\n        const control = this.getControl(field);\n        return !!control && control.touched && control.invalid;\n    }\n    saveReport() {\n        if (this.transactionReportForm.valid) {\n            this.submitReport.emit(this.message);\n        }\n        else {\n            this.transactionReportForm.markAllAsTouched();\n        }\n    }\n    closeReportForm() {\n        this.cancelReport.emit();\n        this.closeConfirmationDialog();\n    }\n    closeConfirmationDialog() {\n        this.confirmationDialogActive = false;\n    }\n    processLabel(label) {\n        const arr = label.split(' ');\n        const last = arr.splice(arr.length - 1, 1);\n        return [arr.join(' ') + ' ', ...last];\n    }\n    ngOnInit() {\n        if (this.message) {\n            this.setFormValue(this.message);\n        }\n        this.transactionReportForm.valueChanges.pipe(takeUntil(this.unsubscribeSubject)).subscribe({\n            next: (formValue) => {\n                this.messageChange.emit(Object.assign(Object.assign({}, this.message), formValue));\n            },\n        });\n    }\n    uploadFile(input) {\n        if (input.files && input.files[0]) {\n            const file = input.files[0];\n            this.fileChange.emit(file);\n            input.value = '';\n        }\n    }\n    removeAttachment(attachment) {\n        this.fileRemoved.emit(attachment);\n    }\n    ngOnDestroy() {\n        this.unsubscribeSubject.next();\n        this.unsubscribeSubject.complete();\n    }\n}\nTransactionsInquiryDisputeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsInquiryDisputeComponent, deps: [{ token: i1$4.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });\nTransactionsInquiryDisputeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsInquiryDisputeComponent, selector: \"bb-transactions-inquiry-dispute\", inputs: { message: \"message\", enableDispute: \"enableDispute\", state: \"state\", inquireAndDisputeTopics: \"inquireAndDisputeTopics\" }, outputs: { submitReport: \"submitReport\", cancelReport: \"cancelReport\", messageChange: \"messageChange\", fileChange: \"fileChange\", fileRemoved: \"fileRemoved\" }, ngImport: i0, template: \"<div class=\\\"bb-transaction-list-item-detail-additional-info\\\">\\n  <form [formGroup]=\\\"transactionReportForm\\\">\\n    <div class=\\\"bb-block bb-block--lg\\\" bbAccessibilityKeyboard>\\n      <h5\\n        class=\\\"bb-transaction-list-item-detail-additional-info__title\\\"\\n        data-role=\\\"dispute-inquiry-header\\\"\\n        i18n=\\\"dispute and inquiry form header@@transactions.dispute.inquiry.header\\\"\\n      >\\n        Does this transaction seem suspicious or incorrect?\\n      </h5>\\n      <p\\n        class=\\\"bb-text-support text-small\\\"\\n        data-role=\\\"dispute-inquiry-subHeader\\\"\\n        i18n=\\\"dispute and inquiry form subHeader@@transactions.dispute.inquiry.subHeader\\\"\\n      >\\n        It\\u2019s important to provide as much detail as possible for the bank employee to quickly and accurately review your\\n        issue.\\n      </p>\\n    </div>\\n\\n    <div class=\\\"form-group bb-block bb-block--lg\\\">\\n      <bb-input-radio-group-ui\\n        aria-labelledby=\\\"'label-transaction-dispute'\\\"\\n        [horizontal]=\\\"false\\\"\\n        formControlName=\\\"topic\\\"\\n        verticalAlign=\\\"top\\\"\\n      >\\n        <bb-input-radio-ui\\n          value=\\\"dispute\\\"\\n          [labelTemplate]=\\\"optionsLabel\\\"\\n          labelTemplateContext=\\\"dispute\\\"\\n          [disabled]=\\\"!enableDispute\\\"\\n        ></bb-input-radio-ui>\\n        <bb-input-radio-ui\\n          value=\\\"inquire\\\"\\n          [labelTemplate]=\\\"optionsLabel\\\"\\n          labelTemplateContext=\\\"inquire\\\"\\n        ></bb-input-radio-ui>\\n      </bb-input-radio-group-ui>\\n      <bb-input-validation-message-ui [showErrors]=\\\"isInvalidControl('topic')\\\">\\n        <span\\n          *ngIf=\\\"hasError('topic', 'required')\\\"\\n          i18n=\\\"Error message if field is required@@transactions.dispute.errors.operationRequired\\\"\\n        >\\n          Required field\\n        </span>\\n      </bb-input-validation-message-ui>\\n    </div>\\n\\n    <div class=\\\"form-group bb-block\\\" [ngClass]=\\\"{ 'bb-block--sm': isInvalidControl('body') }\\\">\\n      <bb-rich-text-editor-ui\\n        aria-label=\\\"Report body\\\"\\n        formControlName=\\\"body\\\"\\n        placeholder=\\\"Please tell us more about this transaction...\\\"\\n        i18n-aria-label=\\\"label report body body@@transactions.dispute.inquiry.body.label\\\"\\n        i18n-placeholder=\\\"Place holder for messages body@@transactions.dispute.inquiry.body.message\\\"\\n        [readonly]=\\\"false\\\"\\n        [required]=\\\"true\\\"\\n      ></bb-rich-text-editor-ui>\\n\\n      <bb-input-validation-message-ui [showErrors]=\\\"isInvalidControl('body')\\\">\\n        <span\\n          *ngIf=\\\"hasError('body', 'required')\\\"\\n          i18n=\\\"Error message if field is required@@transactions.dispute.errors.bodyRequired\\\"\\n        >\\n          Required field\\n        </span>\\n      </bb-input-validation-message-ui>\\n    </div>\\n\\n    <div class=\\\"form-group bb-block bb-block--sm\\\">\\n      <bb-input-file-ui\\n        label=\\\"Default file input\\\"\\n        data-role=\\\"attachment-file-input\\\"\\n        [disabled]=\\\"state === loadingStateEnum.loading\\\"\\n        (change)=\\\"uploadFile($any($event.target))\\\"\\n      ></bb-input-file-ui>\\n    </div>\\n\\n    <div class=\\\"row bb-inquire-dispute-attachments\\\" *ngIf=\\\"message?.attachments?.length\\\">\\n      <div *ngFor=\\\"let attachment of message?.attachments\\\" class=\\\"col-md-6 bb-inquire-dispute-attachments__item\\\">\\n        <div class=\\\"bb-block bb-block--md\\\">\\n          <bb-file-attachment-ui\\n            data-role=\\\"attachment-file\\\"\\n            [name]=\\\"attachment.name\\\"\\n            [size]=\\\"attachment.size\\\"\\n            [fileContent]=\\\"attachment.content\\\"\\n            [block]=\\\"true\\\"\\n            [loading]=\\\"attachment.id === undefined\\\"\\n            [deletable]=\\\"attachment.id !== undefined\\\"\\n            (delete)=\\\"removeAttachment(attachment)\\\"\\n          ></bb-file-attachment-ui>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"bb-block bb-block--xl bb-text-align-left\\\">\\n      <ng-container *ngIf=\\\"state === loadingStateEnum.error\\\">\\n        <bb-alert-ui\\n          title=\\\"Couldn\\u2019t send your message\\\"\\n          data-role=\\\"send-report-failed\\\"\\n          message=\\\"Something went wrong. Please try again.\\\"\\n          i18n-title=\\\"\\n            Send report failed notification|Message for a notification displayed when sending transaction report request\\n            has failed@@transactions.notification.error.send.title\\\"\\n          i18n-message=\\\"Send report failed notification message@@transactions.notification.error.send.message\\\"\\n        ></bb-alert-ui>\\n      </ng-container>\\n    </div>\\n\\n    <div class=\\\"bb-button-bar\\\">\\n      <bb-load-button-ui\\n        bbButton\\n        color=\\\"primary\\\"\\n        class=\\\"bb-button-bar__button\\\"\\n        data-role=\\\"dispute-inquiry-send-button\\\"\\n        [isLoading]=\\\"state === loadingStateEnum.loading\\\"\\n        (click)=\\\"state !== loadingStateEnum.loading && saveReport()\\\"\\n        i18n=\\\"Send button@@transactions.dispute.inquiry.button.send\\\"\\n      >\\n        Send\\n      </bb-load-button-ui>\\n      <button\\n        *ngIf=\\\"state !== loadingStateEnum.loading\\\"\\n        bbButton\\n        type=\\\"button\\\"\\n        color=\\\"secondary\\\"\\n        data-role=\\\"dispute-inquiry-cancel-button\\\"\\n        class=\\\"bb-button-bar__button\\\"\\n        (click)=\\\"confirmationDialogActive = true\\\"\\n        i18n=\\\"Cancel button@@transactions.dispute.inquiry.button.cancel\\\"\\n      >\\n        Cancel\\n      </button>\\n    </div>\\n  </form>\\n</div>\\n\\n<ng-template #disputeTipContent>\\n  <div class=\\\"bb-text-align-left\\\">\\n    <span i18n=\\\"Description inside a tooltip@@transactions.dispute.inquiry.tooltip.description\\\">\\n      If this transaction is incorrect, you can raise a claim for a refund.\\n    </span>\\n  </div>\\n</ng-template>\\n\\n<ng-template #inqueryTipContent>\\n  <div class=\\\"bb-text-align-left\\\">\\n    <span i18n=\\\"Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.description\\\">\\n      If you are suspicious about this transaction, you can ask the bank to gather more information about it.\\n    </span>\\n  </div>\\n</ng-template>\\n\\n<ng-template #optionsLabel let-context=\\\"labelTemplateContext\\\">\\n  <ng-container *ngIf=\\\"context === 'dispute'\\\">\\n    <span class=\\\"bb-input-radio-group__radio-label\\\">\\n      {{ processLabel(labels.dispute)[0] }}\\n    </span>\\n    <span class=\\\"d-inline-block\\\">\\n      <span class=\\\"bb-input-radio-group__radio-label\\\">\\n        {{ processLabel(labels.dispute)[1] }}\\n      </span>\\n      <bb-icon-ui\\n        class=\\\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--md-top\\\"\\n        role=\\\"tooltip\\\"\\n        name=\\\"info\\\"\\n        size=\\\"md\\\"\\n        [bbTooltip]=\\\"disputeTipContent\\\"\\n        triggers=\\\"hover click\\\"\\n        placement=\\\"right\\\"\\n        bbAccessibilityKeyboard\\n      ></bb-icon-ui>\\n      <bb-icon-ui\\n        class=\\\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--sm-bottom\\\"\\n        role=\\\"tooltip\\\"\\n        name=\\\"info\\\"\\n        size=\\\"md\\\"\\n        [bbTooltip]=\\\"disputeTipContent\\\"\\n        triggers=\\\"hover click\\\"\\n        placement=\\\"left\\\"\\n        bbAccessibilityKeyboard\\n      ></bb-icon-ui>\\n      <span\\n        class=\\\"sr-only\\\"\\n        i18n=\\\"Description inside a tooltip@@transactions.dispute.inquiry.tooltip.hidden.description\\\"\\n      >\\n        If this transaction is incorrect, you can raise a claim for a refund.\\n      </span>\\n    </span>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"context === 'inquire'\\\">\\n    <span class=\\\"bb-input-radio-group__radio-label\\\">\\n      {{ processLabel(labels.inquire)[0] }}\\n    </span>\\n    <span class=\\\"d-inline-block\\\">\\n      <span class=\\\"bb-input-radio-group__radio-label\\\">\\n        {{ processLabel(labels.inquire)[1] }}\\n      </span>\\n      <bb-icon-ui\\n        class=\\\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--md-top\\\"\\n        role=\\\"tooltip\\\"\\n        name=\\\"info\\\"\\n        size=\\\"md\\\"\\n        [bbTooltip]=\\\"inqueryTipContent\\\"\\n        triggers=\\\"hover click\\\"\\n        placement=\\\"right\\\"\\n        bbAccessibilityKeyboard\\n      ></bb-icon-ui>\\n      <bb-icon-ui\\n        class=\\\"bb-transactions-list-pending-header__tooltip bb-transactions-list-pending-header__tooltip--sm-bottom\\\"\\n        role=\\\"tooltip\\\"\\n        name=\\\"info\\\"\\n        size=\\\"md\\\"\\n        [bbTooltip]=\\\"inqueryTipContent\\\"\\n        triggers=\\\"hover click\\\"\\n        placement=\\\"top\\\"\\n        bbAccessibilityKeyboard\\n      ></bb-icon-ui>\\n      <span\\n        class=\\\"sr-only\\\"\\n        i18n=\\\"Description inside inquery tooltip@@transactions.dispute.inquiry.tooltip.hidden.description\\\"\\n      >\\n        If you are suspicious about this transaction, you can ask the bank to gather more information about it.\\n      </span>\\n    </span>\\n  </ng-container>\\n</ng-template>\\n\\n<!-- Cancel Dispute or Inquiry -->\\n<bb-modal-ui [isOpen]=\\\"confirmationDialogActive\\\" (cancel)=\\\"closeConfirmationDialog()\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h2\\n      id=\\\"modal-basic-title\\\"\\n      class=\\\"modal-title\\\"\\n      data-role=\\\"discard-report-modal-header\\\"\\n      i18n=\\\"Discard your report?|Discard report modal title@@transactions.dispute.inquiry.discard.report.modal.title\\\"\\n    >\\n      Discard your report?\\n    </h2>\\n  </div>\\n\\n  <div class=\\\"modal-body\\\">\\n    <span\\n      data-role=\\\"discard-report-modal-subHeader\\\"\\n      i18n=\\\"All entered data will be lost.|Discard report info@@transactions.dispute.inquiry.discard.report.modal.info\\\"\\n    >\\n      All entered data will be lost.\\n    </span>\\n  </div>\\n\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"bb-button-bar\\\">\\n      <button\\n        bbButton\\n        color=\\\"danger\\\"\\n        class=\\\"bb-button-bar__button\\\"\\n        data-role=\\\"discard-report-modal-discard-button\\\"\\n        (click)=\\\"closeReportForm()\\\"\\n        i18n=\\\"Discard|Discard report button label@@transactions.dispute.inquiry.discard.report.modal.discard.button\\\"\\n      >\\n        Discard\\n      </button>\\n\\n      <button\\n        bbButton\\n        color=\\\"secondary\\\"\\n        class=\\\"bb-button-bar__button\\\"\\n        data-role=\\\"discard-report-modal-cancel-button\\\"\\n        (click)=\\\"closeConfirmationDialog()\\\"\\n        i18n=\\\"Cancel|Cancel button label@@transactions.dispute.inquiry.discard.report.modal.cancel.button\\\"\\n      >\\n        Cancel\\n      </button>\\n    </div>\\n  </div>\\n</bb-modal-ui>\\n\", components: [{ type: i2$2.InputRadioGroupComponent, selector: \"bb-input-radio-group-ui\", inputs: [\"horizontal\", \"preselect\", \"name\", \"verticalAlign\"] }, { type: i2$2.InputRadioComponent, selector: \"bb-input-radio-ui\", inputs: [\"labelTemplate\", \"labelTemplateContext\", \"value\", \"label\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"role\", \"aria-activedescendant\", \"aria-expanded\", \"aria-invalid\", \"aria-owns\", \"disabled\"] }, { type: i3$3.InputValidationMessageComponent, selector: \"bb-input-validation-message-ui\", inputs: [\"showErrors\", \"messageId\"] }, { type: i4$1.RichTextEditorComponent, selector: \"bb-rich-text-editor-ui\", inputs: [\"maxLength\", \"minLength\", \"placeholder\", \"counter\", \"readonly\", \"actionsTooltipPlacement\"] }, { type: i5$1.InputFileComponent, selector: \"bb-input-file-ui\", inputs: [\"accept\", \"maxSizeInMb\", \"multiple\", \"color\", \"autofocus\", \"buttonText\", \"buttonSize\", \"iconName\"] }, { type: i6.FileAttachmentComponent, selector: \"bb-file-attachment-ui\", inputs: [\"name\", \"size\", \"fileContent\", \"loading\", \"deletable\", \"disabled\", \"block\"], outputs: [\"delete\"] }, { type: i7.AlertComponent, selector: \"bb-alert-ui\", inputs: [\"modifier\", \"dismissible\", \"title\", \"message\"], outputs: [\"close\"] }, { type: i8.LoadButtonComponent, selector: \"bb-load-button-ui\", inputs: [\"isLoading\", \"from\", \"size\", \"circle\", \"totalCount\"], outputs: [\"paramChange\"] }, { type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i10.ModalComponent, selector: \"bb-modal-ui\", inputs: [\"isOpen\", \"aria-labelledby\", \"aria-describedby\", \"modalOptions\"], outputs: [\"confirm\", \"cancel\", \"isOpenChange\"] }], directives: [{ type: i1$4.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i1$4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i1$4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: AccessibilityKeyboardDirective, selector: \"[bbAccessibilityKeyboard]\" }, { type: i1$4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i1$4.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1$4.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3$1.ButtonDirective, selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }, { type: i14.TooltipDirective, selector: \"[bbTooltip]\", inputs: [\"bbTooltip\", \"triggers\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsInquiryDisputeComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transactions-inquiry-dispute',\n                    templateUrl: 'transactions-inquiry-dispute.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.FormBuilder }]; }, propDecorators: { message: [{\n                type: Input\n            }], enableDispute: [{\n                type: Input\n            }], state: [{\n                type: Input\n            }], inquireAndDisputeTopics: [{\n                type: Input\n            }], submitReport: [{\n                type: Output\n            }], cancelReport: [{\n                type: Output\n            }], messageChange: [{\n                type: Output\n            }], fileChange: [{\n                type: Output\n            }], fileRemoved: [{\n                type: Output\n            }] } });\n\nclass TransactionsDisputeStatusTagComponent {\n}\nTransactionsDisputeStatusTagComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsDisputeStatusTagComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionsDisputeStatusTagComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsDisputeStatusTagComponent, selector: \"bb-dispute-status-tag\", inputs: { status: \"status\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"status === 'PENDING'\\\">\\n  <bb-badge-ui\\n    text=\\\"Dispute Pending\\\"\\n    i18n-text=\\\"Dispute pending|Text for pending disputed transaction label@@transaction.dispute.status.pending\\\"\\n    color=\\\"warning\\\"\\n    data-role=\\\"dispute-pending-tag\\\"\\n  ></bb-badge-ui>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"status === 'REFUNDED'\\\">\\n  <bb-badge-ui\\n    text=\\\"Refunded\\\"\\n    i18n-text=\\\"Dispute refunded|Text for refunded disputed transaction label@@transaction.dispute.status.refunded\\\"\\n    color=\\\"success\\\"\\n    data-role=\\\"dispute-refunded-tag\\\"\\n  ></bb-badge-ui>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"status === 'REJECTED'\\\">\\n  <bb-badge-ui\\n    text=\\\"Dispute Rejected\\\"\\n    i18n-text=\\\"Dispute rejected|Text for rejected disputed transaction label@@transaction.dispute.status.rejected\\\"\\n    color=\\\"danger\\\"\\n    data-role=\\\"dispute-rejected-tag\\\"\\n  ></bb-badge-ui>\\n</ng-container>\\n\", components: [{ type: i1$5.BadgeComponent, selector: \"bb-badge-ui\", inputs: [\"color\", \"text\", \"abbr\", \"circle\", \"wrap\", \"ariaLabel\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsDisputeStatusTagComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-dispute-status-tag',\n                    templateUrl: 'transaction-dispute-status-tag.component.html',\n                }]\n        }], propDecorators: { status: [{\n                type: Input\n            }] } });\n\nclass TransactionsDisputeBannerComponent {\n    constructor() {\n        this.disputeStatus = DisputeStatusEnum;\n    }\n}\nTransactionsDisputeBannerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsDisputeBannerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionsDisputeBannerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsDisputeBannerComponent, selector: \"bb-dispute-banner\", inputs: { transaction: \"transaction\" }, ngImport: i0, template: \"<ng-container>\\n  <bb-alert-ui\\n    *ngIf=\\\"transaction?.disputeStatus === disputeStatus.Pending\\\"\\n    modifier=\\\"info\\\"\\n    data-role=\\\"dispute-pending-banner\\\"\\n    title=\\\"You\\u2019ve disputed this transaction\\\"\\n    i18n-title=\\\"\\n      Send dispute report success notification|Message for a notification displayed when sending transaction dispute\\n      report request has succeed@@transactions.notification.success.send.dispute.title\\\"\\n    message=\\\"Please go to Messages to view any responses to your request.\\\"\\n    i18n-message=\\\"\\n      Send dispute report success notification message@@transactions.notification.success.send.dispute.message\\\"\\n  ></bb-alert-ui>\\n\\n  <bb-alert-ui\\n    *ngIf=\\\"transaction?.disputeStatus === disputeStatus.Refunded\\\"\\n    modifier=\\\"success\\\"\\n    data-role=\\\"dispute-refunded-banner\\\"\\n    title=\\\"Your dispute was approved\\\"\\n    i18n-title=\\\"\\n      Dispute report refunded notification|Message for a notification displayed when transaction dispute report request\\n      has refunded@@transactions.notification.dispute.refunded.title\\\"\\n    message=\\\"Please go to Messages to view the process of your refund.\\\"\\n    i18n-message=\\\"Dispute report reunded notification message@@transactions.notification.dispute.refunded.message\\\"\\n  ></bb-alert-ui>\\n\\n  <bb-alert-ui\\n    *ngIf=\\\"transaction?.disputeStatus === disputeStatus.Rejected\\\"\\n    modifier=\\\"error\\\"\\n    data-role=\\\"dispute-rejected-banner\\\"\\n    title=\\\"Your dispute was rejected\\\"\\n    i18n-title=\\\"\\n      Dispute report rejected notification|Message for a notification displayed when transaction dispute report request\\n      has rejected@@transactions.notification.dispute.rejected.title\\\"\\n    message=\\\"Please go to Messages to view the reason for this rejection.\\\"\\n    i18n-message=\\\"Dispute report rejected notification message@@transactions.notification.dispute.rejected.message\\\"\\n  ></bb-alert-ui>\\n</ng-container>\\n\", components: [{ type: i7.AlertComponent, selector: \"bb-alert-ui\", inputs: [\"modifier\", \"dismissible\", \"title\", \"message\"], outputs: [\"close\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsDisputeBannerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-dispute-banner',\n                    templateUrl: 'transaction-dispute-banner.component.html',\n                }]\n        }], propDecorators: { transaction: [{\n                type: Input\n            }] } });\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsBackendError;\n(function (TransactionsBackendError) {\n    const getMessageFromResponse = (error) => {\n        const responseBody = error.error;\n        if (Array.isArray(responseBody === null || responseBody === void 0 ? void 0 : responseBody.errors)) {\n            return responseBody.errors.map((data) => {\n                const { context = {} } = data;\n                const message = data.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g, (match) => {\n                    const result = context[match.replace(/[{}']+/g, '')];\n                    return result !== undefined ? result : match;\n                });\n                return `Error ${error.status}: ${message}`;\n            });\n        }\n        else {\n            return undefined;\n        }\n    };\n    /* eslint-enable no-redeclare*/\n    /**\n     * @name fromHttpErrorResponse\n     * @param errorResponse The error response\n     * @returns An object containing a user-friendly error message\n     *\n     * @description\n     * Parse an HttpErrorResponse and return a TransactionsError object that can be used to display a\n     * user-friendly error message.\n     */\n    TransactionsBackendError.fromHttpErrorResponse = (errorResponse) => {\n        if (errorResponse.error instanceof ErrorEvent) {\n            // Client-side or network error.\n            return {\n                message: 'An unexpected error occurred',\n            };\n        }\n        else {\n            const error = getMessageFromResponse(errorResponse) || [];\n            return {\n                message: error[0] || `Error ${errorResponse.status}`,\n            };\n        }\n    };\n    TransactionsBackendError.fromHttpErrorsResponse = (errorResponse) => {\n        if (errorResponse.error instanceof ErrorEvent || !errorResponse.status) {\n            // Client-side or network error.\n            return [\n                {\n                    message: 'An unexpected error occurred',\n                },\n            ];\n        }\n        else {\n            const errors = getMessageFromResponse(errorResponse) || [`Error ${errorResponse.status}`];\n            return errors.map((message) => ({ message }));\n        }\n    };\n})(TransactionsBackendError || (TransactionsBackendError = {}));\n\nvar TransactionsExportErrorType;\n(function (TransactionsExportErrorType) {\n    TransactionsExportErrorType[\"MIXED_PRODUCT_KINDS\"] = \"MIXED_PRODUCT_KINDS\";\n    TransactionsExportErrorType[\"UNSUPPORTED_PRODUCT_KIND\"] = \"UNSUPPORTED_PRODUCT_KIND\";\n    TransactionsExportErrorType[\"TOO_MANY_ITEMS\"] = \"TOO_MANY_ITEMS\";\n    TransactionsExportErrorType[\"MULTIPLE_PRODUCTS\"] = \"MULTIPLE_PRODUCTS\";\n    TransactionsExportErrorType[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n})(TransactionsExportErrorType || (TransactionsExportErrorType = {}));\nfunction combineExportTypesConfig(exportConfig) {\n    let exportTypesArr = [];\n    const { availableExportTypesHeader = '', unavailableExportTypesReasonsHeader } = exportConfig;\n    const availableExportTypesArray = availableExportTypesHeader.split(',');\n    const availableTypes = availableExportTypesArray\n        .filter((name) => name !== '')\n        .map((name) => ({\n        name,\n        reason: undefined,\n        isAvailable: true,\n    }));\n    if (unavailableExportTypesReasonsHeader) {\n        const unavailableTypes = Object.keys(unavailableExportTypesReasonsHeader).map((name) => {\n            if (unavailableExportTypesReasonsHeader && Array.isArray(unavailableExportTypesReasonsHeader[name])) {\n                return {\n                    name,\n                    reason: unavailableExportTypesReasonsHeader[name][0],\n                    isAvailable: false,\n                };\n            }\n            return {\n                name,\n                reason: TransactionsExportErrorType.UNKNOWN_ERROR,\n                isAvailable: false,\n            };\n        });\n        exportTypesArr = [...availableTypes, ...unavailableTypes];\n    }\n    else {\n        exportTypesArr = [...availableTypes];\n    }\n    return [...exportTypesArr].sort((left, right) => {\n        if (left.name === right.name) {\n            return 0;\n        }\n        return left.name > right.name ? 1 : -1;\n    });\n}\n\nclass PendingTransactionsService {\n    constructor(transactionsDataHttpService, accountService, deprecationsService) {\n        this.transactionsDataHttpService = transactionsDataHttpService;\n        this.accountService = accountService;\n        this.deprecationsService = deprecationsService;\n        this.initialListOptions = new ReplaySubject(1);\n        this.selectedAccount = new ReplaySubject(1);\n        this.options = new BehaviorSubject({});\n        this.listOptions = new BehaviorSubject(defaultInitialListOptions);\n        this.listRefresh = new Subject();\n        this.getOrPostEndpoint = new BehaviorSubject(EndpointType.GET_REQUEST);\n        this.transactionsList = merge(this.listOptions.pipe(filter((listOptions) => typeof listOptions.account.arrangementId !== 'undefined'), distinctUntilChanged(deepEqual)), this.listRefresh).pipe(cacheRequest((listOptions) => {\n            this.loadingState.next(listOptions.onLoad === OnLoadAction.Append\n                ? LoadingState.LoadingMore\n                : listOptions.onLoad === OnLoadAction.ReplacePage\n                    ? LoadingState.LoadingPage\n                    : LoadingState.Loading);\n            return combineLatest([\n                this.loadTransactions(listOptions).pipe(tap(() => {\n                    this.loadingState.next(LoadingState.Loaded);\n                }), map((transactionsList) => ({\n                    transactionsList,\n                    onLoad: OnLoadAction.ReplacePage,\n                }))),\n                iif(multipleAccountsPredicate(listOptions), this.accountService.getAllArrangements().pipe(map((accounts) => {\n                    const accountMap = new Map();\n                    accounts.forEach((account) => {\n                        accountMap.set(account.id, account);\n                    });\n                    return accountMap;\n                })), of(new Map())),\n            ]).pipe(map(([transactions, accountMap]) => {\n                transactions.transactionsList.items = transactions.transactionsList.items.map((transaction) => (Object.assign(Object.assign({}, transaction), { account: accountMap.get(transaction.arrangementId || '') })));\n                return transactions;\n            }));\n        }), scan(onLoadTransactions, { items: [], totalCount: 0 }));\n        this.loadingState = new BehaviorSubject(LoadingState.NotLoaded);\n        this.isFilterApplied = this.listOptions.pipe(map((options) => !TransactionsFilterOptions.isEmpty(options.filter || {})));\n        this.isSearchApplied = this.listOptions.pipe(map((options) => !TransactionsFilterOptions.isEmpty(options.search || {})));\n        combineLatest([this.selectedAccount, this.initialListOptions])\n            .pipe(map(([selectedAccount, initialListOptions]) => (Object.assign({ account: {\n                arrangementId: selectedAccount,\n            }, pagination: {\n                from: 0,\n                size: 250,\n            }, state: TransactionState.uncompleted }, initialListOptions))))\n            .subscribe(this.options);\n        // Base this.listOptions on this.options\n        this.options\n            .pipe(scan((acc, curr) => Object.assign({}, acc, curr), defaultInitialListOptions))\n            .subscribe(this.listOptions);\n    }\n    loadTransactions(listOptions) {\n        const transactionPayload = TransactionsList.toHttpRequest(listOptions);\n        let transactionsResponse;\n        if (this.isUsingPostEndpoints) {\n            transactionsResponse = this.transactionsDataHttpService.getTransactionsWithPost({\n                transactionListRequest: transactionPayload,\n            }, 'response');\n        }\n        else {\n            this.deprecationsService.logDeprecatedFeature('[PendingTransactionsService: loadTransactions] GET endpoints are deprecated. Please use POST endpoints by changing CXP configuration');\n            transactionsResponse = this.transactionsDataHttpService.getTransactions(transactionPayload, 'response');\n        }\n        return transactionsResponse.pipe(map(TransactionsList.fromHttpResponse), catchError((err) => of({\n            items: [],\n            totalCount: 0,\n            httpResponseError: err,\n        })));\n    }\n    getTransactionsFrom(selectedAccount, initialListOptions = of({}), getOrPostEndpoint = of(EndpointType.GET_REQUEST)) {\n        selectedAccount.subscribe(this.selectedAccount);\n        initialListOptions.subscribe(this.initialListOptions);\n        getOrPostEndpoint.subscribe(this.getOrPostEndpoint);\n    }\n    getTransactionsList() {\n        return this.transactionsList;\n    }\n    search(query) {\n        const searchOptions = {\n            query,\n        };\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), { pagination: paginationOptions, search: searchOptions }));\n    }\n    clearSearch() {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultSearchOptions), { pagination: paginationOptions }));\n    }\n    filter(filterOptions) {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), { pagination: paginationOptions, filter: Object.assign({}, filterOptions) }));\n    }\n    clearFilter() {\n        const paginationOptions = Object.assign(Object.assign({}, (this.options.getValue().pagination || defaultPaginationOptions.pagination)), { from: 0 });\n        this.options.next(Object.assign(Object.assign(Object.assign({}, this.options.getValue()), defaultFilterOptions), { pagination: paginationOptions }));\n    }\n    sort(sortOptions) {\n        const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n        this.options.next({\n            sort: Object.assign({}, sortOptions),\n            pagination: Object.assign(Object.assign({}, currentPaginationOptions), { from: 0 }),\n        });\n    }\n    retryFiltering() {\n        this.listRefresh.next(this.listOptions.getValue());\n    }\n    refreshTransactions() {\n        const currentPaginationOptions = this.options.getValue().pagination || defaultPaginationOptions.pagination;\n        const paginationOptions = Object.assign(Object.assign({}, currentPaginationOptions), { from: 0 });\n        const newOptions = Object.assign(Object.assign({}, this.listOptions.getValue()), { pagination: paginationOptions });\n        if (deepEqual(newOptions, this.listOptions.getValue())) {\n            this.listRefresh.next(this.listOptions.getValue());\n        }\n        else {\n            this.options.next({\n                pagination: paginationOptions,\n            });\n        }\n    }\n    get isUsingPostEndpoints() {\n        return this.getOrPostEndpoint.getValue() === EndpointType.POST_REQUEST;\n    }\n    ngOnDestroy() {\n        this.listRefresh.complete();\n        this.selectedAccount.complete();\n        this.initialListOptions.complete();\n        this.options.complete();\n        this.listOptions.complete();\n        this.loadingState.complete();\n        this.getOrPostEndpoint.complete();\n    }\n}\nPendingTransactionsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PendingTransactionsService, deps: [{ token: i1$1.TransactionClientHttpService }, { token: AccountsService }, { token: i3.DeprecationsService }], target: i0.ɵɵFactoryTarget.Injectable });\nPendingTransactionsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PendingTransactionsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PendingTransactionsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.TransactionClientHttpService }, { type: AccountsService }, { type: i3.DeprecationsService }]; } });\n\nvar GoogleMapsScriptProtocol;\n(function (GoogleMapsScriptProtocol) {\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n})(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n\nclass MapAPILoaderService {\n    constructor() {\n        this.scriptID = 'bbGoogleMapsApiScript';\n        this.callbackName = 'bbMapsAPILoader';\n        this.apiLoadPromiseName = 'bbMapsAPILoaderPromise';\n        this.windowRef = window;\n        this.documentRef = document;\n        this.configValue = {};\n    }\n    get config() {\n        return this.configValue;\n    }\n    set config(config) {\n        this.configValue = config;\n    }\n    get loadAPIPromise() {\n        return this.windowRef[this.apiLoadPromiseName];\n    }\n    assignScriptLoadingPromise(scriptElem) {\n        this.windowRef[this.apiLoadPromiseName] = new Promise((resolve, reject) => {\n            this.windowRef[this.callbackName] = () => {\n                resolve();\n            };\n            scriptElem.onerror = (error) => {\n                reject(error);\n            };\n        });\n    }\n    getScriptSrc(callbackName) {\n        const protocolType = (this.configValue && this.configValue.protocol) || GoogleMapsScriptProtocol.HTTPS;\n        let protocol = '';\n        switch (protocolType) {\n            case GoogleMapsScriptProtocol.HTTP:\n                protocol = 'http:';\n                break;\n            case GoogleMapsScriptProtocol.HTTPS:\n                protocol = 'https:';\n                break;\n        }\n        const hostAndPath = this.configValue.hostAndPath || 'maps.googleapis.com/maps/api/js';\n        // make sure we have places library for search component\n        const libraries = this.configValue.libraries || [];\n        if (libraries.indexOf('places') === -1) {\n            this.configValue.libraries = [...libraries, 'places'];\n        }\n        const queryParams = {\n            v: this.configValue.apiVersion || 'quarterly',\n            callback: callbackName,\n            key: this.configValue.apiKey,\n            client: this.configValue.clientId,\n            channel: this.configValue.channel,\n            libraries: this.configValue.libraries,\n            region: this.configValue.region,\n            language: this.configValue.language,\n        };\n        const params = Object.keys(queryParams)\n            .filter((key) => queryParams[key] !== undefined)\n            .filter((key) => \n        // remove empty arrays\n        !Array.isArray(queryParams[key]) ||\n            (Array.isArray(queryParams[key]) && queryParams[key].length > 0))\n            .map((key) => {\n            let value = queryParams[key];\n            if (Array.isArray(value)) {\n                // join arrays as comma seperated strings\n                value = value.join(',');\n            }\n            return `${key}=${value}`;\n        })\n            .join('&');\n        return `${protocol}//${hostAndPath}?${params}`;\n    }\n    load() {\n        const window = this.windowRef;\n        if (window.google && window.google.maps) {\n            // Google maps already loaded on the page.\n            return Promise.resolve();\n        }\n        if (this.loadAPIPromise) {\n            return this.loadAPIPromise;\n        }\n        const script = this.documentRef.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.defer = true;\n        script.id = this.scriptID;\n        script.src = this.getScriptSrc(this.callbackName);\n        this.assignScriptLoadingPromise(script);\n        this.documentRef.body.appendChild(script);\n        return this.loadAPIPromise;\n    }\n}\nMapAPILoaderService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nMapAPILoaderService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService, decorators: [{\n            type: Injectable\n        }] });\n\nclass PaymentsBatchService {\n    constructor(batchOrdersHttpService) {\n        this.batchOrdersHttpService = batchOrdersHttpService;\n    }\n    getBatch(batchOrderId) {\n        return this.batchOrdersHttpService.getBatchOrdersById({ batchOrderId });\n    }\n}\nPaymentsBatchService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentsBatchService, deps: [{ token: i1$6.BatchOrdersHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nPaymentsBatchService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentsBatchService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentsBatchService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$6.BatchOrdersHttpService }]; } });\n\nclass ConfigManager {\n    constructor(config) {\n        this.config = config;\n    }\n    isDisputable(transaction) {\n        return (this.isBillingStatusApproved(transaction) && !this.isOld(transaction) && this.isOfRestrictedType(transaction));\n    }\n    isBillingStatusApproved(transaction) {\n        var _a;\n        if (!((_a = this.config) === null || _a === void 0 ? void 0 : _a.byBillingStatus)) {\n            return true;\n        }\n        return !(transaction === null || transaction === void 0 ? void 0 : transaction.isPending);\n    }\n    isOld(transaction) {\n        var _a;\n        if (!(transaction === null || transaction === void 0 ? void 0 : transaction.bookingDate)) {\n            return false;\n        }\n        const days = daysDiff(new Date(), transaction.bookingDate);\n        const byEligitibilityDays = ((_a = this.config) === null || _a === void 0 ? void 0 : _a.byEligitibilityDays) || 0;\n        return days > byEligitibilityDays;\n    }\n    isOfRestrictedType(transaction) {\n        var _a;\n        return (transaction === null || transaction === void 0 ? void 0 : transaction.type) ? (((_a = this.config) === null || _a === void 0 ? void 0 : _a.byTransactionTypes) || []).includes(transaction.type) : false;\n    }\n}\nclass TransactionDetailsService {\n    constructor(transactionsDataHttpService, mapApiLoader, paymentsBatchService) {\n        this.transactionsDataHttpService = transactionsDataHttpService;\n        this.mapApiLoader = mapApiLoader;\n        this.paymentsBatchService = paymentsBatchService;\n        /**\n         * watches the transaction that is shown in the details\n         */\n        this.transactionSelection = new Subject();\n        /**\n         * watches the configuration from CXP that can disable/enable check images\n         */\n        this.hasCheckImages = new ReplaySubject();\n        /**\n         * general status of each feature that runs asynchronously\n         */\n        this.transactionsDetailsStatus = new ReplaySubject();\n        this.mapsApiKey = new ReplaySubject();\n        this.batchOrder = this.transactionSelection.pipe(tap(() => {\n            this.transactionsDetailsStatus.next({\n                batchOrder: TransactionsDetailsLoadingState.loading,\n            });\n        }), mergeMap((transaction) => {\n            if (!transaction.batchOrderId) {\n                return of(undefined);\n            }\n            return this.paymentsBatchService.getBatch(transaction.batchOrderId).pipe(catchError(() => {\n                this.transactionsDetailsStatus.next({\n                    batchOrder: TransactionsDetailsLoadingState.error,\n                });\n                return of(undefined);\n            }));\n        }), map((data) => {\n            this.transactionsDetailsStatus.next({\n                batchOrder: data ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notStarted,\n            });\n            return data;\n        }));\n        this.transactionsDetailsStatus.next({\n            checkImages: TransactionsDetailsLoadingState.notStarted,\n            geolocation: TransactionsDetailsLoadingState.notStarted,\n            enableDisputeAndInquiry: TransactionsDetailsLoadingState.notStarted,\n            disputeOption: TransactionsDetailsLoadingState.notStarted,\n            batchOrder: TransactionsDetailsLoadingState.notStarted,\n        });\n    }\n    set enableDisputeAndInquiry(value) {\n        this.transactionsDetailsStatus.next({\n            enableDisputeAndInquiry: value ? TransactionsDetailsLoadingState.done : TransactionsDetailsLoadingState.notLoaded,\n        });\n    }\n    fromInquiryAndDispute(enableDisputeAndInquiry, disputeByBillingStatus, disputeEligibilityDays, disputeTransactionTypes) {\n        const config = combineLatest([\n            enableDisputeAndInquiry,\n            disputeByBillingStatus,\n            disputeEligibilityDays,\n            disputeTransactionTypes,\n        ]).pipe(map(([enabled, byBillingStatus, byEligitibilityDays, byTransactionTypes]) => enabled ? { byBillingStatus, byEligitibilityDays, byTransactionTypes } : undefined));\n        combineLatest([this.transactionSelection, config]).subscribe({\n            next: ([transactionSelection, inquiryAndDispute]) => {\n                if (!inquiryAndDispute) {\n                    this.transactionsDetailsStatus.next({\n                        enableDisputeAndInquiry: TransactionsDetailsLoadingState.notLoaded,\n                        disputeOption: TransactionsDetailsLoadingState.notLoaded,\n                    });\n                }\n                else {\n                    const configuration = new ConfigManager(inquiryAndDispute);\n                    this.transactionsDetailsStatus.next({\n                        enableDisputeAndInquiry: TransactionsDetailsLoadingState.done,\n                        disputeOption: configuration.isDisputable(transactionSelection)\n                            ? TransactionsDetailsLoadingState.done\n                            : TransactionsDetailsLoadingState.notLoaded,\n                    });\n                }\n            },\n        });\n    }\n    /**\n     *\n     * @param transactionId\n     * triggers a new action that will cause transcations details reload and change an image\n     */\n    selectTransaction(transaction) {\n        this.transactionSelection.next(transaction);\n    }\n    /**\n     * Key-value pair that controls the loading status in transactions details\n     */\n    get loadingState() {\n        return this.transactionsDetailsStatus.pipe(scan((acc, curr) => (Object.assign(Object.assign({}, acc), curr)), {}));\n    }\n    /**\n     *\n     * @param hasCheckImages\n     * Configuration for check images reactive functionality\n     */\n    fromCheckImages(hasCheckImages) {\n        hasCheckImages.subscribe(this.hasCheckImages);\n        hasCheckImages\n            .pipe(map((value) => ({\n            checkImages: value ? TransactionsDetailsLoadingState.loading : TransactionsDetailsLoadingState.notLoaded,\n        })))\n            .subscribe({\n            next: (value) => {\n                this.transactionsDetailsStatus.next(value);\n            },\n        });\n        return this.setCondition(this.transactionSelection, this.hasCheckImages).pipe(tap(() => {\n            this.transactionsDetailsStatus.next({\n                checkImages: TransactionsDetailsLoadingState.loading,\n            });\n        }), filter((transaction) => transaction.checkImageAvailability === CheckImagesAvailability.available), switchMap(({ id: transactionId = '' }) => this.transactionsDataHttpService.getTransactionCheckImages({ transactionId }, 'response').pipe(tap(() => {\n            this.transactionsDetailsStatus.next({\n                checkImages: TransactionsDetailsLoadingState.done,\n            });\n        }), catchError((error) => {\n            switch (error.status) {\n                case 500: {\n                    this.transactionsDetailsStatus.next({\n                        checkImages: TransactionsDetailsLoadingState.serverError,\n                    });\n                    break;\n                }\n                case 400: {\n                    this.transactionsDetailsStatus.next({\n                        checkImages: TransactionsDetailsLoadingState.badRequestError,\n                    });\n                    break;\n                }\n                case 404: {\n                    this.transactionsDetailsStatus.next({\n                        checkImages: TransactionsDetailsLoadingState.notFoundError,\n                    });\n                    break;\n                }\n                default: {\n                    this.transactionsDetailsStatus.next({\n                        checkImages: TransactionsDetailsLoadingState.error,\n                    });\n                }\n            }\n            return of(new HttpResponse({\n                body: {\n                    images: [],\n                },\n            }));\n        }), map(TransactionsCheckImages.fromHttpResponse))));\n    }\n    fromGeolocation(mapsApiKey) {\n        mapsApiKey.subscribe(this.mapsApiKey);\n        return combineLatest([this.transactionSelection, this.mapsApiKey]).pipe(map(([transaction, apiKey]) => {\n            this.mapApiLoader.config = {\n                apiKey,\n                libraries: ['geometry'],\n            };\n            this.transactionsDetailsStatus.next({\n                geolocation: TransactionsDetailsLoadingState.loading,\n            });\n            if (!apiKey || !transaction.location || !transaction.location.latitude || !transaction.location.longitude) {\n                this.transactionsDetailsStatus.next({\n                    geolocation: TransactionsDetailsLoadingState.notLoaded,\n                });\n                return Promise.resolve(false);\n            }\n            return this.mapApiLoader.load().then(() => {\n                this.transactionsDetailsStatus.next({\n                    geolocation: TransactionsDetailsLoadingState.done,\n                });\n                return true;\n            }, () => {\n                this.transactionsDetailsStatus.next({\n                    geolocation: TransactionsDetailsLoadingState.error,\n                });\n                return false;\n            });\n        }), mergeMap((promise) => from(promise)));\n    }\n    /**\n     * destroy lifecycle hook that will release resources\n     */\n    ngOnDestroy() {\n        this.transactionSelection.complete();\n        this.transactionsDetailsStatus.complete();\n        this.mapsApiKey.complete();\n    }\n    /**\n     *\n     * @param feature\n     * @param toggle\n     *\n     * Prevents from emiting values if the cxp configuration is set as disabled\n     */\n    setCondition(feature, toggle) {\n        return combineLatest([feature, toggle]).pipe(filter(([, condition]) => condition), map(([value]) => value));\n    }\n}\nTransactionDetailsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionDetailsService, deps: [{ token: i1$1.TransactionClientHttpService }, { token: MapAPILoaderService }, { token: PaymentsBatchService }], target: i0.ɵɵFactoryTarget.Injectable });\nTransactionDetailsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionDetailsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionDetailsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.TransactionClientHttpService }, { type: MapAPILoaderService }, { type: PaymentsBatchService }]; } });\n\nclass AvailableFiltersConfigService {\n    constructor(accountsService) {\n        this.accountsService = accountsService;\n        this.availableFiltersConfig$ = new ReplaySubject(1);\n        this.selectedAccounts$ = new ReplaySubject(1);\n        this.productSummary$ = this.getProductSummaryForSelectedAccounts();\n        this.availableFilters$ = this.getAvailableFilters();\n    }\n    setFilterConfigurationAndAccount(availableFiltersConfig, selectedAccounts) {\n        availableFiltersConfig.subscribe(this.availableFiltersConfig$);\n        selectedAccounts.subscribe(this.selectedAccounts$);\n    }\n    getProductSummaryForSelectedAccounts() {\n        return combineLatest([this.accountsService.getProductSummary(), this.selectedAccounts$]).pipe(map(([productSummaryItems, selectedAccounts]) => productSummaryItems.filter((productSummaryItem) => selectedAccounts === null || selectedAccounts === void 0 ? void 0 : selectedAccounts.includes(productSummaryItem.id))));\n    }\n    getAvailableFilters() {\n        return combineLatest([this.availableFiltersConfig$, this.productSummary$]).pipe(map(([availableFiltersConfig, productSummaryItems]) => {\n            const availableFilters = productSummaryItems.reduce((filters, productSummaryItem) => filters.concat(this.getFiltersFromConfigs(productSummaryItem, availableFiltersConfig)), []);\n            return Array.from(new Set(availableFilters));\n        }));\n    }\n    getFiltersFromConfigs(productSummaryItem, availableFiltersConfig) {\n        var _a;\n        const availableFilters = (_a = this.getFiltersFromConfigObject(availableFiltersConfig, productSummaryItem)) !== null && _a !== void 0 ? _a : this.getFiltersFromConfigObject(defaultAvailableFiltersConfig, productSummaryItem);\n        return availableFilters !== null && availableFilters !== void 0 ? availableFilters : defaultAvailableFiltersConfig.defaultFilters;\n    }\n    getFiltersFromConfigObject(config, productSummaryItem) {\n        if (productSummaryItem.productKindName !== undefined) {\n            const productKind = config[productSummaryItem.productKindName];\n            if (productKind === undefined)\n                return undefined;\n            if (Array.isArray(productKind))\n                return productKind;\n            if (productSummaryItem.productTypeName === undefined)\n                return undefined;\n            return productKind[productSummaryItem.productTypeName];\n        }\n        return undefined;\n    }\n}\nAvailableFiltersConfigService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AvailableFiltersConfigService, deps: [{ token: AccountsService }], target: i0.ɵɵFactoryTarget.Injectable });\nAvailableFiltersConfigService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AvailableFiltersConfigService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AvailableFiltersConfigService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: AccountsService }]; } });\n\n// eslint-disable-next-line\nclass BaseTransactionsContainer {\n    constructor(model, widgetProperties, cd, eventBusService, notificationService, pendingTransactionsService, transactionDetailsService, availableFiltersConfigService, showDetailsConfig) {\n        this.model = model;\n        this.widgetProperties = widgetProperties;\n        this.cd = cd;\n        this.eventBusService = eventBusService;\n        this.notificationService = notificationService;\n        this.pendingTransactionsService = pendingTransactionsService;\n        this.transactionDetailsService = transactionDetailsService;\n        this.availableFiltersConfigService = availableFiltersConfigService;\n        this.showDetailsConfig = showDetailsConfig;\n        /**\n         * Reference to instance of customizable component.\n         */\n        this.hostRef = this;\n        this.apiKeySubject = new BehaviorSubject(undefined);\n        /**\n         * Observable of options to initialize the filter with.  By default, it is empty.\n         */\n        this.initialFilterOptions = of({});\n        /**\n         * Observable of options to initialize the sort options with.  By default, it is empty.\n         */\n        this.initialSortOptions = of(undefined);\n        this.transactionSelected = new EventEmitter();\n        this.transactionsLoaded = new EventEmitter();\n        this.pageSizeSubject = new BehaviorSubject(undefined);\n        this.maxNavPagesSubject = new BehaviorSubject(undefined);\n        this.paginationTypeSubject = new BehaviorSubject(undefined);\n        this.showControlsSubject = new BehaviorSubject(undefined);\n        this.showChangeCategorySubject = new BehaviorSubject(undefined);\n        this.showPendingTransactionsOnTopSubject = new BehaviorSubject(undefined);\n        this.showCheckImageSubject = new BehaviorSubject(undefined);\n        this.showManageNotesSubject = new BehaviorSubject(undefined);\n        this.getOrPostEndpointsSubject = new BehaviorSubject(undefined);\n        this.disputeByBillingStatusSubject = new BehaviorSubject(undefined);\n        this.disputeEligibilityDaysSubject = new BehaviorSubject(undefined);\n        this.disputeTransactionTypesSubject = new BehaviorSubject(undefined);\n        this.enableDisputeAndInquirySubject = new BehaviorSubject(false);\n        this.inquireTopicIdSubject = new BehaviorSubject('');\n        this.disputeTopicIdSubject = new BehaviorSubject('');\n        /**\n         * Events registered to transactions widgets\n         */\n        this.registeredRefreshTransactionsListEvents = [];\n        this.unsubscribeSubject = new Subject();\n        /**\n         * Subject that listens the transactionsList observable and provides the export types\n         */\n        this.exportConfig = new BehaviorSubject({});\n        this.exportErrorMessagesRef = {};\n        this.numberOfResultsFound = new ReplaySubject();\n        this.numberOfResultsDisplayed = new ReplaySubject();\n        this.availableFiltersConfig = new ReplaySubject(1);\n        this.availableFilters = this.availableFiltersConfigService.availableFilters$;\n        this.inquireTopicId = filterInputParameters(this.inquireTopicIdSubject.asObservable(), this.widgetProperties.inquireTopicId);\n        this.disputeTopicId = filterInputParameters(this.disputeTopicIdSubject.asObservable(), this.widgetProperties.disputeTopicId);\n        this.inquireAndDisputeTopics = combineLatest([\n            this.inquireTopicId,\n            this.disputeTopicId,\n        ]).pipe(map(([inquire, dispute]) => ({ inquire, dispute })));\n        this.refreshTransactionsListHandler = () => {\n            this.model.refreshTransactions();\n        };\n        /**\n         * @deprecated will be removed in 11.0.0\n         */\n        this.handleError = (errorResponse) => {\n            this.errors = TransactionsBackendError.fromHttpErrorsResponse(errorResponse);\n            return of({\n                items: [],\n                totalCount: 0,\n            });\n        };\n    }\n    /**\n     * API key needed for the google maps to work.\n     */\n    // eslint-disable-next-line\n    set googleAPIKey(key) {\n        this.apiKeySubject.next(key);\n    }\n    /**\n     * input parameters that will take the place of model properties--\n     */\n    set pageSizeValue(value) {\n        this.pageSizeSubject.next(value);\n    }\n    set maxNavPagesValue(value) {\n        this.maxNavPagesSubject.next(value);\n    }\n    set paginationTypeValue(value) {\n        this.paginationTypeSubject.next(value);\n    }\n    set showControlsValue(value) {\n        this.showControlsSubject.next(value);\n    }\n    set showChangeCategoryValue(value) {\n        this.showChangeCategorySubject.next(value);\n    }\n    set showPendingTransactionsOnTopValue(value) {\n        this.showPendingTransactionsOnTopSubject.next(value);\n    }\n    set showCheckImageValue(value) {\n        this.showCheckImageSubject.next(value);\n    }\n    set showManageNotesValue(value) {\n        this.showManageNotesSubject.next(value);\n    }\n    set getOrPostEndpointsValue(value) {\n        this.getOrPostEndpointsSubject.next(value);\n    }\n    set disputeByBillingStatusValue(value) {\n        this.disputeByBillingStatusSubject.next(typeof value === 'boolean' ? value : value === 'true');\n    }\n    set disputeEligibilityDaysValue(value) {\n        this.disputeEligibilityDaysSubject.next(value);\n    }\n    set disputeTransactionTypesValue(value) {\n        this.disputeTransactionTypesSubject.next((value || '').split(','));\n    }\n    set enableDisputeAndInquiryValue(value) {\n        this.enableDisputeAndInquirySubject.next(typeof value === 'boolean' ? value : value === 'true');\n    }\n    set availableFiltersValue(availableFiltersConfig) {\n        this.availableFiltersConfig.next(availableFiltersConfig);\n    }\n    /** end input parameters--- */\n    /**\n     * Information about the backend error, if it occurs.\n     */\n    /**\n     * @deprecated will be removed in 11.0.0\n     */\n    get error() {\n        return this.errors && this.errors[0];\n    }\n    clearRefreshTransactionsListEvents() {\n        this.registeredRefreshTransactionsListEvents.forEach((eventName) => {\n            this.eventBusService.unsubscribe(eventName, this.refreshTransactionsListHandler);\n        });\n        this.registeredRefreshTransactionsListEvents = [];\n    }\n    retry() {\n        this.model.retryFiltering();\n        this.pendingTransactionsService.retryFiltering();\n    }\n    ngOnDestroy() {\n        this.clearRefreshTransactionsListEvents();\n        this.unsubscribeSubject.next();\n        this.unsubscribeSubject.complete();\n    }\n    get pageSize() {\n        return filterInputParameters(this.pageSizeSubject.asObservable(), this.widgetProperties.pageSize);\n    }\n    get maxNavPages() {\n        return filterInputParameters(this.maxNavPagesSubject.asObservable(), this.widgetProperties.maxNavPages);\n    }\n    get showControls() {\n        return filterInputParameters(this.showControlsSubject.asObservable(), this.widgetProperties.showControls);\n    }\n    get isFilterApplied() {\n        return this.model.isFilterApplied;\n    }\n    get isSearchApplied() {\n        return this.model.isSearchApplied;\n    }\n    get paginationType() {\n        return filterInputParameters(this.paginationTypeSubject.asObservable(), this.widgetProperties.paginationType);\n    }\n    get showPendingTransactionsOnTop() {\n        return filterInputParameters(this.showPendingTransactionsOnTopSubject.asObservable(), this.widgetProperties.showPendingTransactionsOnTop);\n    }\n    get showChangeCategory() {\n        return filterInputParameters(this.showChangeCategorySubject.asObservable(), this.widgetProperties.showChangeCategory);\n    }\n    get showCheckImage() {\n        return filterInputParameters(this.showCheckImageSubject.asObservable(), this.widgetProperties.showCheckImage);\n    }\n    get showManageNotes() {\n        return filterInputParameters(this.showManageNotesSubject, this.widgetProperties.showManageNotes);\n    }\n    get getOrPostEndpoint() {\n        return filterInputParameters(this.getOrPostEndpointsSubject.asObservable(), this.widgetProperties.getOrPostEndpoints);\n    }\n    get gmapsAPIKey() {\n        return combineLatest([this.apiKeySubject.asObservable(), this.widgetProperties.gmapsAPIKey]).pipe(map(([inputVal, propVal]) => inputVal || propVal));\n    }\n    get enableDisputeAndInquiry() {\n        return filterInputParameters(this.enableDisputeAndInquirySubject.asObservable(), this.widgetProperties.enableDisputeAndInquiry);\n    }\n    get disputeByBillingStatus() {\n        return filterInputParameters(this.disputeByBillingStatusSubject.asObservable(), this.widgetProperties.disputeByBillingStatus);\n    }\n    get disputeEligibilityDays() {\n        return filterInputParameters(this.disputeEligibilityDaysSubject.asObservable(), this.widgetProperties.disputeEligibilityDays);\n    }\n    get disputeTransactionTypes() {\n        return filterInputParameters(this.disputeTransactionTypesSubject.asObservable(), this.widgetProperties.disputeTransactionTypes);\n    }\n    onLoadMore() {\n        this.model.loadMore();\n    }\n    ngOnInit() {\n        if (typeof this.selectedAccount === 'undefined') {\n            throw new Error(`\"selectedAccount\" input is required in \"${this.constructor.name}\"`);\n        }\n        const initialListOptions = combineLatest([\n            this.initialFilterOptions,\n            this.initialSortOptions,\n        ]).pipe(map(([initialFilterOptions, initialSortOptions]) => ({\n            filter: initialFilterOptions,\n            sort: initialSortOptions,\n        })));\n        this.model.getTransactionsFrom(this.selectedAccount.pipe(map((value) => value !== null && value !== void 0 ? value : [])), this.pageSize, initialListOptions, this.showPendingTransactionsOnTop, this.getOrPostEndpoint);\n        if (this.showDetailsConfig) {\n            this.checkImagesList = this.transactionDetailsService.fromCheckImages(this.showCheckImage);\n            this.transactionDetailsLoadingStatus = this.transactionDetailsService.loadingState;\n            this.transactionDetailsService\n                .fromGeolocation(this.gmapsAPIKey)\n                .pipe(takeUntil(this.unsubscribeSubject))\n                .subscribe();\n        }\n        this.transactionsList = this.model.getTransactionsList().pipe(publishReplay(1), refCount(), tap((data) => {\n            this.errors = data.httpResponseError\n                ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError)\n                : undefined;\n            this.cd.markForCheck();\n        }));\n        this.pendingTransactionsService.getTransactionsFrom(this.selectedAccount.pipe(map((value) => value !== null && value !== void 0 ? value : [])), initialListOptions, this.getOrPostEndpoint);\n        this.pendingTransactionsList = this.pendingTransactionsService.getTransactionsList().pipe(publishReplay(1), refCount(), tap((data) => {\n            this.errors = data.httpResponseError\n                ? TransactionsBackendError.fromHttpErrorsResponse(data.httpResponseError)\n                : undefined;\n            this.cd.markForCheck();\n        }));\n        this.transactionsList\n            .pipe(takeUntil(this.unsubscribeSubject), map((transactionsList) => {\n            if (!transactionsList) {\n                return {};\n            }\n            const { availableExportTypesHeader, unavailableExportTypesReasonsHeader } = transactionsList;\n            return combineExportTypesConfig({\n                availableExportTypesHeader,\n                unavailableExportTypesReasonsHeader,\n            });\n        }))\n            .subscribe(this.exportConfig);\n        const transactionsListCount = this.transactionsList.pipe(map((trans) => ({ history: trans ? trans.totalCount : 0 })));\n        const pendingTransactionsListCount = this.pendingTransactionsList.pipe(map((trans) => ({ pending: trans ? trans.totalCount : 0 })));\n        const transactionsListItemsToDisplay = this.transactionsList.pipe(map((trans) => ({ history: trans ? trans.items.length : 0 })));\n        const pendingTransactionsListItemsToDisplay = this.pendingTransactionsList.pipe(map((trans) => ({ pending: trans ? trans.items.length : 0 })));\n        this.sumTransactionsResults(transactionsListCount, pendingTransactionsListCount)\n            .pipe(takeUntil(this.unsubscribeSubject))\n            .subscribe(this.numberOfResultsFound);\n        this.sumTransactionsResults(transactionsListItemsToDisplay, pendingTransactionsListItemsToDisplay)\n            .pipe(takeUntil(this.unsubscribeSubject))\n            .subscribe(this.numberOfResultsDisplayed);\n        this.currentPage = this.model.getCurrentPage();\n        this.loadingState = this.model.loadingState;\n        this.loadingPendingState = this.pendingTransactionsService.loadingState;\n        this.widgetProperties.refreshTransactionsListEvents.pipe(takeUntil(this.unsubscribeSubject)).subscribe((events) => {\n            this.clearRefreshTransactionsListEvents();\n            if (events) {\n                this.registeredRefreshTransactionsListEvents = events.split(',');\n                this.registeredRefreshTransactionsListEvents.forEach((eventName) => {\n                    this.eventBusService.subscribe(eventName, this.refreshTransactionsListHandler);\n                });\n            }\n        });\n        this.configureTransctionsDetailsOutputBehaviour();\n        this.transactionDetailsService.fromInquiryAndDispute(this.enableDisputeAndInquiry, this.disputeByBillingStatus, this.disputeEligibilityDays, this.disputeTransactionTypes);\n        this.availableFiltersConfigService.setFilterConfigurationAndAccount(this.availableFiltersConfig.asObservable(), this.selectedAccount.pipe(map((value) => value !== null && value !== void 0 ? value : [])));\n    }\n    configureTransctionsDetailsOutputBehaviour() {\n        if (this.transactionsList && this.pendingTransactionsList && !this.showDetailsConfig) {\n            const pending = this.showPendingTransactionsOnTop.pipe(mergeMap((cond) => iif(() => cond, this.pendingTransactionsList, of({ items: [], totalCount: 0 }))));\n            combineLatest([pending, this.transactionsList])\n                .pipe(takeUntil(this.unsubscribeSubject), map(([pendingTransactionsList, transactionsList]) => {\n                const pendingTransactions = pendingTransactionsList ? pendingTransactionsList.items : [];\n                const transactions = transactionsList ? transactionsList.items : [];\n                const mixed = {\n                    items: [...pendingTransactions, ...transactions],\n                    totalCount: ((pendingTransactionsList === null || pendingTransactionsList === void 0 ? void 0 : pendingTransactionsList.totalCount) || 0) + ((transactionsList === null || transactionsList === void 0 ? void 0 : transactionsList.totalCount) || 0),\n                };\n                return mixed;\n            }))\n                .subscribe((data) => {\n                this.transactionsLoaded.emit(data);\n            });\n        }\n    }\n    sumTransactionsResults(historyCount, pendingCount) {\n        return this.showPendingTransactionsOnTop.pipe(mergeMap((showPendingTransactionsOnTop) => iif(() => showPendingTransactionsOnTop, merge(historyCount, pendingCount), historyCount)), scan((acc, curr) => (Object.assign(Object.assign({}, acc), curr)), { history: 0, pending: 0 }), map(({ history = 0, pending = 0 }) => history + pending));\n    }\n    onPageChange(page) {\n        this.model.pageChange(page);\n    }\n    onSearch(query) {\n        // search ui component sends an unexpected event\n        // that is type Event. To avoid calling backend with that event\n        // it has to be string\n        if (typeof query === 'string') {\n            this.model.search(query);\n            this.pendingTransactionsService.search(query);\n        }\n    }\n    onFilter(filterOptions) {\n        this.model.filter(filterOptions);\n        this.pendingTransactionsService.filter(filterOptions);\n    }\n    onSort(sortOptions) {\n        this.model.sort(sortOptions);\n    }\n    onPrint() {\n        window.print();\n    }\n    onExport(exportType) {\n        this.storedExportType = Object.assign({}, exportType);\n        if (exportType.isAvailable) {\n            this.model\n                .exportToType(exportType.name)\n                .pipe(takeUntil(this.unsubscribeSubject))\n                .subscribe((response) => {\n                const anchorTag = document.createElement('a');\n                anchorTag.href = URL.createObjectURL(response.body);\n                const fileName = getNameFromContentDispositionHeader(response);\n                const defaultName = exportType.name.toLowerCase() === 'pdf' ? 'Account Activities' : 'transactions';\n                anchorTag.download = fileName !== '' ? fileName : defaultName;\n                anchorTag.click();\n            }, () => {\n                this.notificationService.showNotification({\n                    header: this.notificationServerErrorHeader,\n                    message: this.notificationServerErrorMessage || '',\n                    modifier: 'error',\n                });\n            });\n        }\n        else {\n            this.pushNotification({\n                header: this.notificationErrorUpdateHeaderTemplate,\n                message: this.notificationErrorUpdateMessageTemplate,\n                modifier: 'error',\n            });\n        }\n    }\n    onDetailOpen(transaction) {\n        if (!this.showDetailsConfig) {\n            this.transactionSelected.emit(transaction);\n        }\n        else {\n            this.transactionDetailsService.selectTransaction(transaction);\n        }\n    }\n    pushNotification(notificationMessage) {\n        this.notificationService.showNotification(Object.assign({ dismissible: true, ttl: notificationTtl }, notificationMessage));\n    }\n}\nBaseTransactionsContainer.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsContainer, deps: \"invalid\", target: i0.ɵɵFactoryTarget.Directive });\nBaseTransactionsContainer.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: BaseTransactionsContainer, inputs: { googleAPIKey: \"googleAPIKey\", selectedAccount: \"selectedAccount\", initialFilterOptions: \"initialFilterOptions\", initialSortOptions: \"initialSortOptions\", pageSizeValue: [\"pageSize\", \"pageSizeValue\"], maxNavPagesValue: [\"maxNavPages\", \"maxNavPagesValue\"], paginationTypeValue: [\"paginationType\", \"paginationTypeValue\"], showControlsValue: [\"showControls\", \"showControlsValue\"], showChangeCategoryValue: [\"showChangeCategory\", \"showChangeCategoryValue\"], showPendingTransactionsOnTopValue: [\"showPendingTransactionsOnTop\", \"showPendingTransactionsOnTopValue\"], showCheckImageValue: [\"showCheckImage\", \"showCheckImageValue\"], showManageNotesValue: [\"showManageNotes\", \"showManageNotesValue\"], getOrPostEndpointsValue: [\"getOrPostEndpoints\", \"getOrPostEndpointsValue\"], disputeByBillingStatusValue: [\"disputeByBillingStatus\", \"disputeByBillingStatusValue\"], disputeEligibilityDaysValue: [\"disputeEligibilityDays\", \"disputeEligibilityDaysValue\"], disputeTransactionTypesValue: [\"disputeTransactionTypes\", \"disputeTransactionTypesValue\"], enableDisputeAndInquiryValue: [\"enableDisputeAndInquiry\", \"enableDisputeAndInquiryValue\"], availableFiltersValue: [\"availableFiltersConfig\", \"availableFiltersValue\"], inquireTopicIdValue: [\"inquireTopicId\", \"inquireTopicIdValue\"], disputeTopicIdValue: [\"disputeTopicId\", \"disputeTopicIdValue\"] }, outputs: { transactionSelected: \"transactionSelected\", transactionsLoaded: \"transactionsLoaded\" }, viewQueries: [{ propertyName: \"notificationErrorUpdateHeaderTemplate\", first: true, predicate: [\"notificationErrorUpdateHeader\"], descendants: true }, { propertyName: \"notificationErrorUpdateMessageTemplate\", first: true, predicate: [\"notificationErrorUpdateMessage\"], descendants: true }, { propertyName: \"notificationServerErrorHeader\", first: true, predicate: [\"notificationServerErrorHeader\"], descendants: true }, { propertyName: \"notificationServerErrorMessage\", first: true, predicate: [\"notificationServerErrorMessage\"], descendants: true }], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsContainer, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: TransactionsService }, { type: WidgetPropertiesService }, { type: i0.ChangeDetectorRef }, { type: undefined }, { type: i3$4.NotificationService }, { type: PendingTransactionsService }, { type: TransactionDetailsService }, { type: AvailableFiltersConfigService }, { type: undefined }]; }, propDecorators: { notificationErrorUpdateHeaderTemplate: [{\n                type: ViewChild,\n                args: ['notificationErrorUpdateHeader']\n            }], notificationErrorUpdateMessageTemplate: [{\n                type: ViewChild,\n                args: ['notificationErrorUpdateMessage']\n            }], notificationServerErrorHeader: [{\n                type: ViewChild,\n                args: ['notificationServerErrorHeader', { static: false }]\n            }], notificationServerErrorMessage: [{\n                type: ViewChild,\n                args: ['notificationServerErrorMessage', { static: false }]\n            }], googleAPIKey: [{\n                type: Input\n            }], selectedAccount: [{\n                type: Input\n            }], initialFilterOptions: [{\n                type: Input\n            }], initialSortOptions: [{\n                type: Input\n            }], pageSizeValue: [{\n                type: Input,\n                args: ['pageSize']\n            }], maxNavPagesValue: [{\n                type: Input,\n                args: ['maxNavPages']\n            }], paginationTypeValue: [{\n                type: Input,\n                args: ['paginationType']\n            }], showControlsValue: [{\n                type: Input,\n                args: ['showControls']\n            }], showChangeCategoryValue: [{\n                type: Input,\n                args: ['showChangeCategory']\n            }], showPendingTransactionsOnTopValue: [{\n                type: Input,\n                args: ['showPendingTransactionsOnTop']\n            }], showCheckImageValue: [{\n                type: Input,\n                args: ['showCheckImage']\n            }], showManageNotesValue: [{\n                type: Input,\n                args: ['showManageNotes']\n            }], getOrPostEndpointsValue: [{\n                type: Input,\n                args: ['getOrPostEndpoints']\n            }], disputeByBillingStatusValue: [{\n                type: Input,\n                args: ['disputeByBillingStatus']\n            }], disputeEligibilityDaysValue: [{\n                type: Input,\n                args: ['disputeEligibilityDays']\n            }], disputeTransactionTypesValue: [{\n                type: Input,\n                args: ['disputeTransactionTypes']\n            }], enableDisputeAndInquiryValue: [{\n                type: Input,\n                args: ['enableDisputeAndInquiry']\n            }], availableFiltersValue: [{\n                type: Input,\n                args: ['availableFiltersConfig']\n            }], inquireTopicIdValue: [{\n                type: Input,\n                args: ['inquireTopicId']\n            }], disputeTopicIdValue: [{\n                type: Input,\n                args: ['disputeTopicId']\n            }], transactionSelected: [{\n                type: Output\n            }], transactionsLoaded: [{\n                type: Output\n            }] } });\nclass TransactionsNoAccountSelectedStateCustomizableDirective extends BbTemplate {\n}\nTransactionsNoAccountSelectedStateCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNoAccountSelectedStateCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\nTransactionsNoAccountSelectedStateCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsNoAccountSelectedStateCustomizableDirective, selector: \"[bbTransactionsNoAccountSelectedStateCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsNoAccountSelectedStateCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbTransactionsNoAccountSelectedStateCustomizable]',\n                }]\n        }] });\nclass TransactionsErrorStateCustomizableDirective extends BbTemplate {\n}\nTransactionsErrorStateCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsErrorStateCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\nTransactionsErrorStateCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsErrorStateCustomizableDirective, selector: \"[bbTransactionsErrorStateCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsErrorStateCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbTransactionsErrorStateCustomizable]',\n                }]\n        }] });\n\nclass CapitalizePipe {\n    transform(value) {\n        return value[0].toUpperCase() + value.substr(1).toLowerCase();\n    }\n}\nCapitalizePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CapitalizePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\nCapitalizePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CapitalizePipe, name: \"bbCapitalizePipe\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CapitalizePipe, decorators: [{\n            type: Pipe,\n            args: [{ name: 'bbCapitalizePipe' }]\n        }] });\n\nvar TransactionIconType;\n(function (TransactionIconType) {\n    TransactionIconType[TransactionIconType[\"category\"] = 1] = \"category\";\n    TransactionIconType[TransactionIconType[\"type\"] = 2] = \"type\";\n    TransactionIconType[TransactionIconType[\"creditDebit\"] = 3] = \"creditDebit\";\n})(TransactionIconType || (TransactionIconType = {}));\nclass BaseTransactionIcon {\n    cleanClassName(text) {\n        const result = text.toLowerCase().replace(/\\W/g, '-').replace(/-{2,}/g, '-');\n        if (result.endsWith('-')) {\n            return result.slice(0, -1);\n        }\n        else {\n            return result;\n        }\n    }\n    throwIfIncorrect() {\n        if (!this.isValid) {\n            throw new Error(`Invalid transaction provided to ${this.constructor.name}`);\n        }\n    }\n    constructor() {\n        this.throwIfIncorrect();\n    }\n}\nclass TransactionCategoryIcon extends BaseTransactionIcon {\n    constructor(transaction) {\n        super();\n        this.transaction = transaction;\n    }\n    get title() {\n        return !this.transaction.isPending ? this.transaction.category || '' : 'pending';\n    }\n    get type() {\n        return TransactionIconType.category;\n    }\n    isValid() {\n        return this.transaction.isPending || (this.transaction !== undefined && this.transaction.category !== undefined);\n    }\n    formatClassName() {\n        return `bb-transaction-category-${this.cleanClassName(this.transaction.category || 'pending')}`;\n    }\n}\nclass TransactionTypeIcon extends BaseTransactionIcon {\n    constructor(transaction) {\n        super();\n        this.transaction = transaction;\n    }\n    get title() {\n        return this.transaction.type || '';\n    }\n    get type() {\n        return TransactionIconType.type;\n    }\n    isValid() {\n        return !!this.transaction && !!this.transaction.type;\n    }\n    formatClassName() {\n        return this.transaction.type ? `bb-icon-transaction-type-${this.cleanClassName(this.transaction.type)}` : '';\n    }\n}\nclass TransactionCreditDebitIcon extends BaseTransactionIcon {\n    constructor(transaction) {\n        super();\n        this.transaction = transaction;\n    }\n    get title() {\n        return this.indicator;\n    }\n    get type() {\n        return TransactionIconType.creditDebit;\n    }\n    formatClassName() {\n        return this.transaction.transactionAmountCurrency\n            ? `bb-icon-credit-debit-indicator-${this.cleanClassName(this.indicator)}`\n            : '';\n    }\n    get indicator() {\n        if (this.transaction.transactionAmountCurrency) {\n            return parseInt(this.transaction.transactionAmountCurrency.amount, 10) > 0 ? 'incoming' : 'outgoing';\n        }\n        return '';\n    }\n    isValid() {\n        return this.transaction !== undefined && this.transaction.transactionAmountCurrency !== undefined;\n    }\n}\n\nclass TransactionsIconCategoriesFactoryService {\n    create(transaction) {\n        if (transaction.category || transaction.isPending) {\n            return new TransactionCategoryIcon(transaction);\n        }\n        else if (transaction.type) {\n            return new TransactionTypeIcon(transaction);\n        }\n        else {\n            return new TransactionCreditDebitIcon(transaction);\n        }\n    }\n}\nTransactionsIconCategoriesFactoryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsIconCategoriesFactoryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nTransactionsIconCategoriesFactoryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsIconCategoriesFactoryService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsIconCategoriesFactoryService, decorators: [{\n            type: Injectable\n        }] });\n\nclass TransactionCategoryIconComponent {\n    constructor(transactionsIconCategoriesFactory, cd) {\n        this.transactionsIconCategoriesFactory = transactionsIconCategoriesFactory;\n        this.cd = cd;\n        /**\n         * Whether to show the icon in a circle.\n         */\n        this.circle = false;\n        /* eslint-enable */\n        /**\n         * Determines if the image is done loading.\n         */\n        this.hasImageLoaded = false;\n    }\n    ngOnInit() {\n        if (this.transaction === undefined) {\n            throw new Error(`\"transaction\" input is required in \"${this.constructor.name}\"`);\n        }\n        this.transactionIcon = this.transactionsIconCategoriesFactory.create(this.transaction);\n    }\n    ngAfterViewInit() {\n        if (this.categoryImage) {\n            this.categoryImage.nativeElement.onload = () => {\n                this.hasImageLoaded = true;\n                this.cd.markForCheck();\n            };\n        }\n    }\n}\nTransactionCategoryIconComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCategoryIconComponent, deps: [{ token: TransactionsIconCategoriesFactoryService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\nTransactionCategoryIconComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionCategoryIconComponent, selector: \"bb-transaction-category-icon\", inputs: { transaction: \"transaction\", circle: \"circle\", size: \"size\" }, viewQueries: [{ propertyName: \"categoryImage\", first: true, predicate: [\"categoryImage\"], descendants: true }], ngImport: i0, template: \"<div\\n  aria-hidden=\\\"true\\\"\\n  class=\\\"bb-transaction-category bb-transaction-category--enriched\\\"\\n  title=\\\"{{ transaction?.merchant ? transaction?.merchant?.name : transactionIcon?.title }}\\\"\\n  [ngClass]=\\\"[\\n    circle ? 'bb-transaction-category-icon-circle' : 'bb-transaction-category-icon',\\n    size ? 'bb-transaction-category--' + size : '',\\n    !transaction?.merchant?.logo || !hasImageLoaded ? transactionIcon?.formatClassName() : ''\\n  ]\\\"\\n>\\n  <img\\n    class=\\\"bb-transaction-category__image\\\"\\n    *ngIf=\\\"transaction?.merchant?.logo\\\"\\n    [hidden]=\\\"!hasImageLoaded\\\"\\n    [src]=\\\"transaction?.merchant?.logo\\\"\\n    #categoryImage\\n  />\\n</div>\\n\", directives: [{ type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionCategoryIconComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transaction-category-icon',\n                    templateUrl: './transaction-category-icon.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: TransactionsIconCategoriesFactoryService }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { transaction: [{\n                type: Input\n            }], circle: [{\n                type: Input\n            }], size: [{\n                type: Input\n            }], categoryImage: [{\n                type: ViewChild,\n                args: ['categoryImage']\n            }] } });\n\nclass TransactionUpdateService {\n    constructor(transactionsDataHttpService) {\n        this.transactionsDataHttpService = transactionsDataHttpService;\n    }\n    handleError(error) {\n        if (error.error instanceof ErrorEvent) {\n            // A client-side or network error occurred.  Handle it accordingly.\n            console.error('An error occurred:', error.error.message);\n        }\n        else {\n            // The backend returned an unsuccessful response code.\n            // The response body may contain clues as to what went wrong.\n            console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n        }\n        // Return an observable with a user-facing error message.\n        return throwError('Something bad happened; please try again later.');\n    }\n    update(transaction, update) {\n        if (typeof transaction.id === 'undefined' || typeof transaction.arrangementId === 'undefined') {\n            return throwError('updateNotes: invalid transaction');\n        }\n        return this.transactionsDataHttpService\n            .patchTransactions({\n            transactionsClientPatchRequestBody: [\n                {\n                    id: transaction.id,\n                    arrangementId: transaction.arrangementId,\n                    notes: update.notes,\n                    disputeStatus: update.disputeStatus,\n                    category: update.category,\n                },\n            ],\n        }, 'response')\n            .pipe(catchError(this.handleError));\n    }\n    setDisputeStatus(transaction, disputeStatus) {\n        return this.update(transaction, { disputeStatus });\n    }\n    updateNotes(transaction, notes) {\n        return this.update(transaction, { notes });\n    }\n}\nTransactionUpdateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionUpdateService, deps: [{ token: i1$1.TransactionClientHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nTransactionUpdateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionUpdateService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionUpdateService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.TransactionClientHttpService }]; } });\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsEnumValue;\n(function (TransactionsEnumValue) {\n    // eslint-disable-next-line no-inner-declarations\n    function toTitleCase(text) {\n        if (!text) {\n            return '';\n        }\n        return `${text.charAt(0).toUpperCase()}${text.substr(1).toLowerCase()}`;\n    }\n    // Until Angular supports i18n in typescript, this is the way to go\n    // eslint-disable-next-line no-inner-declarations\n    function processEnumValue(enumValue) {\n        switch (enumValue.value) {\n            case 'CRDT':\n                return Object.assign(Object.assign({}, enumValue), { name: 'Credit' });\n            case 'DBIT':\n                return Object.assign(Object.assign({}, enumValue), { name: 'Debit' });\n            case 'BILLED':\n            case 'UNBILLED':\n            case 'PENDING':\n                return Object.assign(Object.assign({}, enumValue), { name: enumValue.name || toTitleCase(enumValue.value) });\n            default:\n                return Object.assign(Object.assign({}, enumValue), { name: enumValue.name || enumValue.value });\n        }\n    }\n    // eslint-disable-next-line no-inner-declarations\n    function processEnumValues(enumValues) {\n        return enumValues.map(processEnumValue);\n    }\n    function fromHttpResponse(response) {\n        return processEnumValues(response.body || []);\n    }\n    TransactionsEnumValue.fromHttpResponse = fromHttpResponse;\n})(TransactionsEnumValue || (TransactionsEnumValue = {}));\n/* eslint-enable no-redeclare*/\n\nclass EnumValuesService {\n    constructor(transactionsDataHttpService) {\n        this.transactionsDataHttpService = transactionsDataHttpService;\n        this.enumValues = {};\n    }\n    handleError(error) {\n        if (error.error instanceof ErrorEvent) {\n            // A client-side or network error occurred.  Handle it accordingly.\n            console.error('An error occurred:', error.error.message);\n        }\n        else {\n            // The backend returned an unsuccessful response code.\n            // The response body may contain clues as to what went wrong.\n            console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n        }\n        // Return an observable with a user-facing error message.\n        return throwError('Something bad happened; please try again later.');\n    }\n    loadEnumValues(attributeName) {\n        return this.transactionsDataHttpService\n            .getEnumValuesByAttributeName({ attributeName }, 'response')\n            .pipe(map(TransactionsEnumValue.fromHttpResponse), catchError(this.handleError));\n    }\n    getEnumValues(attributeName) {\n        if (typeof this.enumValues[attributeName] === 'undefined') {\n            this.enumValues[attributeName] = this.loadEnumValues(attributeName);\n        }\n        return this.enumValues[attributeName];\n    }\n}\nEnumValuesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: EnumValuesService, deps: [{ token: i1$1.TransactionClientHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nEnumValuesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: EnumValuesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: EnumValuesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.TransactionClientHttpService }]; } });\n\nfunction categoriesManagementMap(item) {\n    return Object.assign({}, item);\n}\nfunction fromCategoriesManagementResponse(response) {\n    return (response.body || []).map(categoriesManagementMap);\n}\n\nclass CategoriesService {\n    constructor(categoriesManagementDataHttpService) {\n        this.categoriesManagementDataHttpService = categoriesManagementDataHttpService;\n    }\n    getCategories() {\n        return this.categoriesManagementDataHttpService\n            .getCategories({\n            level: categoryListLevelParam,\n        }, 'response')\n            .pipe(shareReplay(), map(fromCategoriesManagementResponse));\n    }\n}\nCategoriesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CategoriesService, deps: [{ token: i1$7.CategoriesHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nCategoriesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CategoriesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: CategoriesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$7.CategoriesHttpService }]; } });\n\nclass TransactionsMapUiComponent {\n    buildMapOptions(location) {\n        if (location.latitude && location.longitude) {\n            return {\n                center: {\n                    lat: location.latitude,\n                    lng: location.longitude,\n                },\n                zoom: 10,\n                disableDefaultUI: true,\n                zoomControl: false,\n                styles: [\n                    {\n                        featureType: 'poi',\n                        stylers: [{ visibility: 'off' }],\n                    },\n                ],\n            };\n        }\n        return undefined;\n    }\n    getFullAddress(location) {\n        return encodeURI(`${location.latitude}, ${location.longitude}`);\n    }\n    ngAfterViewInit() {\n        if (this.location && this.mapContainer) {\n            const options = this.buildMapOptions(this.location);\n            const map = new google.maps.Map(this.mapContainer.nativeElement, options);\n            if (this.location && this.location.latitude && this.location.longitude) {\n                const mapUrl = this.getFullAddress(this.location);\n                const marker = new google.maps.Marker({\n                    position: {\n                        lat: this.location.latitude,\n                        lng: this.location.longitude,\n                    },\n                    map,\n                });\n                marker.addListener('click', () => {\n                    window.open('https://www.google.com/maps/dir//' + mapUrl, '_blank');\n                });\n            }\n        }\n    }\n}\nTransactionsMapUiComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsMapUiComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionsMapUiComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionsMapUiComponent, selector: \"bb-transactions-map-ui\", inputs: { location: \"location\" }, viewQueries: [{ propertyName: \"mapContainer\", first: true, predicate: [\"bbMapContainer\"], descendants: true }], ngImport: i0, template: \"<div class=\\\"bb-transcations-geolocation-map\\\" #bbMapContainer></div>\\n\", changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsMapUiComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transactions-map-ui',\n                    templateUrl: 'transactions-map-ui.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { mapContainer: [{\n                type: ViewChild,\n                args: ['bbMapContainer']\n            }], location: [{\n                type: Input\n            }] } });\n\nclass TransactionGeoLocationMapComponent {\n    constructor() {\n        this.loadingStateEnum = TransactionsDetailsLoadingState;\n    }\n}\nTransactionGeoLocationMapComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionGeoLocationMapComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTransactionGeoLocationMapComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: TransactionGeoLocationMapComponent, selector: \"bb-transaction-geo-location-map\", inputs: { transaction: \"transaction\", loadingStatus: \"loadingStatus\" }, ngImport: i0, template: \"<div class=\\\"bb-transactions-geolocation\\\">\\n  <span class=\\\"bb-inline-stack bb-block bb-block--sm\\\" *ngIf=\\\"transaction?.location?.address\\\">\\n    <bb-icon-ui class=\\\"bb-inline-stack__item\\\" name=\\\"location-on\\\" size=\\\"md\\\"></bb-icon-ui>\\n    <span class=\\\"bb-inline-stack__item bb-transactions-geolocation__address\\\">{{ transaction?.location?.address }}</span>\\n  </span>\\n  <ng-container *ngIf=\\\"loadingStatus !== loadingStateEnum.notStarted\\\">\\n    <ng-container *ngIf=\\\"loadingStatus !== loadingStateEnum.notLoaded\\\">\\n      <ng-container *ngIf=\\\"loadingStatus !== loadingStateEnum.error; else errorState\\\">\\n        <ng-container *ngIf=\\\"loadingStatus !== loadingStateEnum.loading; else loadingState\\\">\\n          <bb-transactions-map-ui [location]=\\\"transaction?.location\\\"></bb-transactions-map-ui>\\n        </ng-container>\\n      </ng-container>\\n    </ng-container>\\n  </ng-container>\\n</div>\\n\\n<ng-template #loadingState>\\n  <bb-loading-indicator-ui loaderSize=\\\"lg\\\"></bb-loading-indicator-ui>\\n</ng-template>\\n\\n<ng-template #errorState>\\n  <!-- Error state is not defined yet -->\\n</ng-template>\\n\", components: [{ type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: TransactionsMapUiComponent, selector: \"bb-transactions-map-ui\", inputs: [\"location\"] }, { type: i3$2.LoadingIndicatorComponent, selector: \"bb-loading-indicator-ui\", inputs: [\"text\", \"loaderSize\", \"showDelay\", \"hasBackground\", \"inline\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionGeoLocationMapComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-transaction-geo-location-map',\n                    templateUrl: './transaction-geo-location-map.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { transaction: [{\n                type: Input\n            }], loadingStatus: [{\n                type: Input\n            }] } });\n\n/**\n * Utility service for DOM manipulations\n */\nclass DomAttributesService {\n    constructor() {\n        this.basePrefix = 'bb_transactions';\n        this.idCounter = 0;\n    }\n    nextId(prefix) {\n        return `${this.basePrefix}-${prefix ? prefix : 'default'}-${Date.now()}-${this.idCounter++}`;\n    }\n}\nDomAttributesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DomAttributesService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nDomAttributesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DomAttributesService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DomAttributesService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass DynamicIdDirective {\n    constructor(_elRef, _renderer, domAttributesService, cd) {\n        this._elRef = _elRef;\n        this._renderer = _renderer;\n        this.domAttributesService = domAttributesService;\n        this.cd = cd;\n    }\n    ngAfterContentInit() {\n        setTimeout(() => {\n            this._renderer.setAttribute(this._elRef.nativeElement, 'id', this.domAttributesService.nextId(this.bbDynamicId));\n            this.cd.markForCheck();\n        });\n    }\n}\nDynamicIdDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DynamicIdDirective, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: DomAttributesService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Directive });\nDynamicIdDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: DynamicIdDirective, selector: \"[bbDynamicId]\", inputs: { bbDynamicId: \"bbDynamicId\" }, exportAs: [\"bbDynamicId\"], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DynamicIdDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbDynamicId]',\n                    exportAs: 'bbDynamicId',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: DomAttributesService }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { bbDynamicId: [{\n                type: Input\n            }] } });\n\nclass MessagesService {\n    constructor(messageCenterHttpService) {\n        this.messageCenterHttpService = messageCenterHttpService;\n        // TODO: default message is out of scope\n        this.defaultMessage = of({\n            body: b64Encode('test message'),\n            subject: 'no subject',\n            topic: 'no topic',\n            sender: {\n                name: 'test sender',\n            },\n        });\n    }\n    saveMessages(message) {\n        return this.messageCenterHttpService.postMessages({\n            presentationMessagePostRequestBody: message,\n        });\n    }\n    saveAttachment(attachment) {\n        return this.messageCenterHttpService.postMessageAttachments({ attachment }).pipe(map((data) => data.id));\n    }\n    deleteAttachments(attachmentIds) {\n        return this.messageCenterHttpService\n            .deleteMessageAttachments({ ids: attachmentIds })\n            .pipe(map((data) => data.deleted));\n    }\n    createDefaultBody(transaction) {\n        var _a, _b;\n        return `transactionID: ${transaction.id}\nreferenceNumber: ${transaction.reference}\narranagementID: ${transaction.arrangementId}\nbookingDate: ${transaction.bookingDate}\namount: ${(_a = transaction.transactionAmountCurrency) === null || _a === void 0 ? void 0 : _a.amount}\nmerchantName: ${(_b = transaction.merchant) === null || _b === void 0 ? void 0 : _b.name}\ncounterpartyName: ${transaction.counterPartyName}\ndescription: ${transaction.description}\ntype: ${transaction.type}`;\n    }\n}\nMessagesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MessagesService, deps: [{ token: i1$8.MessagecenterHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nMessagesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MessagesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MessagesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$8.MessagecenterHttpService }]; } });\n\n/* eslint-disable  @typescript-eslint/no-non-null-assertion */\nclass TransactionsInquireAndDisputeUIService {\n    constructor(messagesService) {\n        this.messagesService = messagesService;\n        this.showReportSubject = new Subject();\n        this.DEFAULT_MESSAGE = {\n            attachments: [],\n            body: '',\n            topic: 'inquire',\n        };\n        this.showReport = this.showReportSubject.asObservable();\n        this.message = Object.assign({}, this.DEFAULT_MESSAGE);\n        this.reportState = TransactionsDetailsLoadingState.notStarted;\n        this.subjectReportMap = {\n            dispute: $localize `:Dispute subject@@transactions.dispute.subject:Transaction dispute raised on`,\n            inquire: $localize `:Inquiry subject@@transactions.inquire.subject:Transaction inquiry raised on`,\n        };\n    }\n    formatMessage(messageForm, defaultBody, inquireAndDisputeTopics, transaction) {\n        const { topic = 'inquire', body = '', attachments = [] } = messageForm;\n        return {\n            body: b64Encode([defaultBody, body].join('\\n')),\n            topic: inquireAndDisputeTopics[topic],\n            attachments: attachments.map((data) => data.id || ''),\n            subject: `${this.subjectReportMap[topic]} ${transaction === null || transaction === void 0 ? void 0 : transaction.arrangementId}`,\n        };\n    }\n    // TODO: Add unit tests when the functionality is complete\n    saveReport(message) {\n        this.reportState = TransactionsDetailsLoadingState.loading;\n        return this.messagesService.saveMessages(message).pipe(map(() => {\n            this.message = this.DEFAULT_MESSAGE;\n            this.showReportForm(false);\n            this.reportState = TransactionsDetailsLoadingState.done;\n            return message;\n        }), catchError(() => {\n            this.reportState = TransactionsDetailsLoadingState.error;\n            return of(undefined);\n        }));\n    }\n    showReportForm(display) {\n        this.showReportSubject.next(display);\n    }\n    cancelReport() {\n        this.removeAllFiles();\n        this.reportState = TransactionsDetailsLoadingState.notStarted;\n        this.message = this.DEFAULT_MESSAGE;\n        this.showReportForm(false);\n    }\n    fileChange(file) {\n        let attachment = {\n            name: file.name,\n            size: file.size,\n            content: from(file.arrayBuffer()),\n        };\n        const currentAttachments = this.message.attachments || [];\n        this.message.attachments = [...currentAttachments, attachment];\n        const state = this.reportState;\n        this.reportState = TransactionsDetailsLoadingState.loading;\n        return this.messagesService.saveAttachment(file).pipe(map((id) => {\n            attachment = Object.assign({ id }, attachment);\n            this.reportState = TransactionsDetailsLoadingState.notStarted;\n            this.message.attachments = [...currentAttachments, attachment];\n            return id;\n        }), catchError(() => {\n            this.reportState = state;\n            this.message.attachments = [...currentAttachments];\n            return of('');\n            //TODO: add error message\n        }));\n    }\n    deleteReportForm() {\n        //TODO: this is just a placeholder for now\n    }\n    fileRemoved(attachment) {\n        const { id = '' } = attachment;\n        return this.messagesService.deleteAttachments([id]).pipe(tap(() => {\n            this.message.attachments = this.message.attachments.filter((item) => item.id !== id);\n        }));\n    }\n    removeAllFiles() {\n        if (this.message.attachments.length > 0) {\n            const files = this.message.attachments.map((item) => item.id || '');\n            this.messagesService.deleteAttachments(files).subscribe({\n                next: () => {\n                    this.message.attachments = [];\n                },\n            });\n        }\n    }\n}\nTransactionsInquireAndDisputeUIService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsInquireAndDisputeUIService, deps: [{ token: MessagesService }], target: i0.ɵɵFactoryTarget.Injectable });\nTransactionsInquireAndDisputeUIService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsInquireAndDisputeUIService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsInquireAndDisputeUIService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: MessagesService }]; } });\n\nclass TransactionsCommonModule {\n}\nTransactionsCommonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsCommonModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTransactionsCommonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsCommonModule, declarations: [TransactionsNumberOfResultsFoundComponent,\n        TransactionCheckImageComponent,\n        TransactionGeoLocationMapComponent,\n        TransactionsErrorStateCustomizableDirective,\n        TransactionsNoAccountSelectedStateCustomizableDirective,\n        AccessibilityKeyboardDirective,\n        TransactionsNumberOfResultsFoundCustomizableDirective,\n        TransactionsMapUiComponent,\n        TransactionCategoryIconComponent,\n        TransactionCheckImageItemComponent,\n        CapitalizePipe,\n        DocumentViewerBackdropComponent,\n        DocumentViewerContainerComponent,\n        DocumentViewerHeaderComponent,\n        DocumentViewerInteractorComponent,\n        ImageViewerComponent,\n        TransactionCheckImageDocumentViewerComponent,\n        DynamicIdDirective,\n        TransactionsInquiryDisputeComponent,\n        TransactionsDisputeStatusTagComponent,\n        TransactionsDisputeBannerComponent], imports: [CommonModule,\n        IconModule,\n        ButtonModule,\n        LoadButtonModule,\n        InputRadioGroupModule,\n        TooltipModule,\n        ReactiveFormsModule,\n        LoadingIndicatorModule,\n        EmptyStateModule,\n        DropdownMenuModule,\n        A11yModule,\n        RichTextEditorModule,\n        InputValidationMessageModule,\n        InputFileModule,\n        FileAttachmentModule,\n        AlertModule,\n        ModalModule,\n        BadgeModule], exports: [TransactionsNumberOfResultsFoundComponent,\n        TransactionsErrorStateCustomizableDirective,\n        TransactionsNoAccountSelectedStateCustomizableDirective,\n        AccessibilityKeyboardDirective,\n        TransactionCheckImageComponent,\n        TransactionCheckImageItemComponent,\n        TransactionGeoLocationMapComponent,\n        TransactionsNumberOfResultsFoundCustomizableDirective,\n        IconModule,\n        A11yModule,\n        TransactionsMapUiComponent,\n        TransactionCategoryIconComponent,\n        CapitalizePipe,\n        DocumentViewerBackdropComponent,\n        DocumentViewerContainerComponent,\n        DocumentViewerHeaderComponent,\n        DocumentViewerInteractorComponent,\n        ImageViewerComponent,\n        TransactionCheckImageDocumentViewerComponent,\n        EmptyStateModule,\n        LoadingIndicatorModule,\n        DropdownMenuModule,\n        DynamicIdDirective,\n        TransactionsInquiryDisputeComponent,\n        TransactionsDisputeStatusTagComponent,\n        TransactionsDisputeBannerComponent] });\nTransactionsCommonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsCommonModule, providers: [\n        TransactionUpdateService,\n        EnumValuesService,\n        CategoriesService,\n        AccountsService,\n        TransactionsIconCategoriesFactoryService,\n        MapAPILoaderService,\n        DomAttributesService,\n        MessagesService,\n        TransactionsInquireAndDisputeUIService,\n        PaymentsBatchService,\n        AvailableFiltersConfigService,\n    ], imports: [[\n            CommonModule,\n            IconModule,\n            ButtonModule,\n            LoadButtonModule,\n            InputRadioGroupModule,\n            TooltipModule,\n            ReactiveFormsModule,\n            LoadingIndicatorModule,\n            EmptyStateModule,\n            DropdownMenuModule,\n            A11yModule,\n            RichTextEditorModule,\n            InputValidationMessageModule,\n            InputFileModule,\n            FileAttachmentModule,\n            AlertModule,\n            ModalModule,\n            BadgeModule,\n        ], IconModule,\n        A11yModule,\n        EmptyStateModule,\n        LoadingIndicatorModule,\n        DropdownMenuModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: TransactionsCommonModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        IconModule,\n                        ButtonModule,\n                        LoadButtonModule,\n                        InputRadioGroupModule,\n                        TooltipModule,\n                        ReactiveFormsModule,\n                        LoadingIndicatorModule,\n                        EmptyStateModule,\n                        DropdownMenuModule,\n                        A11yModule,\n                        RichTextEditorModule,\n                        InputValidationMessageModule,\n                        InputFileModule,\n                        FileAttachmentModule,\n                        AlertModule,\n                        ModalModule,\n                        BadgeModule,\n                    ],\n                    providers: [\n                        TransactionUpdateService,\n                        EnumValuesService,\n                        CategoriesService,\n                        AccountsService,\n                        TransactionsIconCategoriesFactoryService,\n                        MapAPILoaderService,\n                        DomAttributesService,\n                        MessagesService,\n                        TransactionsInquireAndDisputeUIService,\n                        PaymentsBatchService,\n                        AvailableFiltersConfigService,\n                    ],\n                    declarations: [\n                        TransactionsNumberOfResultsFoundComponent,\n                        TransactionCheckImageComponent,\n                        TransactionGeoLocationMapComponent,\n                        TransactionsErrorStateCustomizableDirective,\n                        TransactionsNoAccountSelectedStateCustomizableDirective,\n                        AccessibilityKeyboardDirective,\n                        TransactionsNumberOfResultsFoundCustomizableDirective,\n                        TransactionsMapUiComponent,\n                        TransactionCategoryIconComponent,\n                        TransactionCheckImageItemComponent,\n                        CapitalizePipe,\n                        DocumentViewerBackdropComponent,\n                        DocumentViewerContainerComponent,\n                        DocumentViewerHeaderComponent,\n                        DocumentViewerInteractorComponent,\n                        ImageViewerComponent,\n                        TransactionCheckImageDocumentViewerComponent,\n                        DynamicIdDirective,\n                        TransactionsInquiryDisputeComponent,\n                        TransactionsDisputeStatusTagComponent,\n                        TransactionsDisputeBannerComponent,\n                    ],\n                    exports: [\n                        TransactionsNumberOfResultsFoundComponent,\n                        TransactionsErrorStateCustomizableDirective,\n                        TransactionsNoAccountSelectedStateCustomizableDirective,\n                        AccessibilityKeyboardDirective,\n                        TransactionCheckImageComponent,\n                        TransactionCheckImageItemComponent,\n                        TransactionGeoLocationMapComponent,\n                        TransactionsNumberOfResultsFoundCustomizableDirective,\n                        IconModule,\n                        A11yModule,\n                        TransactionsMapUiComponent,\n                        TransactionCategoryIconComponent,\n                        CapitalizePipe,\n                        DocumentViewerBackdropComponent,\n                        DocumentViewerContainerComponent,\n                        DocumentViewerHeaderComponent,\n                        DocumentViewerInteractorComponent,\n                        ImageViewerComponent,\n                        TransactionCheckImageDocumentViewerComponent,\n                        EmptyStateModule,\n                        LoadingIndicatorModule,\n                        DropdownMenuModule,\n                        DynamicIdDirective,\n                        TransactionsInquiryDisputeComponent,\n                        TransactionsDisputeStatusTagComponent,\n                        TransactionsDisputeBannerComponent,\n                    ],\n                }]\n        }] });\n\nclass NavigationService {\n    constructor(routerService) {\n        this.routerService = routerService;\n    }\n    view(arrangementId) {\n        return this.routerService.navigate(['/', arrangementId]);\n    }\n}\nNavigationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NavigationService, deps: [{ token: i3.RouterService }], target: i0.ɵɵFactoryTarget.Injectable });\nNavigationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NavigationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NavigationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3.RouterService }]; } });\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsGetParams;\n(function (TransactionsGetParams) {\n    // eslint-disable-next-line complexity\n    TransactionsGetParams.toHttpGetParams = (getParams) => {\n        const params = Object.assign({}, TransactionsFilterOptions.toHttpGetParams(getParams.filter));\n        if (getParams.account && getParams.account.arrangementId) {\n            params['arrangementsIds'] = Array.isArray(getParams.account.arrangementId)\n                ? getParams.account.arrangementId\n                : [getParams.account.arrangementId];\n        }\n        if (getParams.search && getParams.search.query) {\n            params['query'] = getParams.search.query;\n        }\n        if (getParams.pagination) {\n            params['from'] = getParams.pagination.from;\n            params['size'] = getParams.pagination.size;\n        }\n        if (getParams.sort) {\n            params['orderBy'] = getParams.sort.orderBy.toString();\n            params['direction'] = getParams.sort.direction.toString();\n        }\n        if (getParams.exportType) {\n            params['exportType'] = getParams.exportType;\n        }\n        if (getParams.locale) {\n            params['locale'] = getParams.locale;\n        }\n        if (getParams.state) {\n            params['state'] = getParams.state;\n        }\n        return params;\n    };\n})(TransactionsGetParams || (TransactionsGetParams = {}));\n/* eslint-enable no-redeclare*/\n\n/* eslint-disable no-redeclare*/\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TransactionsGroupedByDate;\n(function (TransactionsGroupedByDate) {\n    // eslint-disable-next-line no-inner-declarations\n    function getDate(transaction) {\n        const date = transaction.bookingDate ? new Date(transaction.bookingDate) : new Date();\n        return date.toISOString().slice(0, 10);\n    }\n    function groupByDate(transactionsList) {\n        const transactions = transactionsList && transactionsList.items !== null ? transactionsList.items : [];\n        return transactions.reduce((transactionsGroupedByDate, transaction) => {\n            const transactionDate = getDate(transaction);\n            if (transactionsGroupedByDate[transactionDate]) {\n                transactionsGroupedByDate[transactionDate].push(transaction);\n            }\n            else {\n                transactionsGroupedByDate[transactionDate] = [transaction];\n            }\n            return transactionsGroupedByDate;\n        }, {});\n    }\n    TransactionsGroupedByDate.groupByDate = groupByDate;\n})(TransactionsGroupedByDate || (TransactionsGroupedByDate = {}));\n/* eslint-enable no-redeclare*/\n\n/* eslint-disable */\nclass BaseTransactionsWidget {\n    constructor(route, widgetProperties) {\n        this.route = route;\n        this.widgetProperties = widgetProperties;\n        this.enableDisputeAndInquiry = false;\n        this.availableFiltersConfig = defaultAvailableFiltersConfig;\n        this.transactionSelected = new EventEmitter();\n        this.transactionsLoaded = new EventEmitter();\n        this.initialFilterOptionsSubject = new BehaviorSubject(undefined);\n        this.initialSortOptionsSubject = new BehaviorSubject(undefined);\n        this.selectedAccount = this.getRouteParam(this.route, 'selectedAccount').pipe(map((selectedAccount) => selectedAccount), map((selectedAccount) => typeof selectedAccount !== 'undefined' && selectedAccount.includes(',')\n            ? selectedAccount.split(',')\n            : selectedAccount !== undefined\n                ? [selectedAccount]\n                : undefined));\n    }\n    set initialFilterOptionsValue(value) {\n        const deseralizedValue = deserialize(value);\n        this.initialFilterOptionsSubject.next(TransactionsFilterOptions.fromHttpGetParams(deseralizedValue));\n    }\n    set initialSortOptionsValue(value) {\n        const options = parseSortOptions(value);\n        this.initialSortOptionsSubject.next(options);\n    }\n    getRouteParam(route, param) {\n        const paramValue = route.paramMap.pipe(pluck('params', param));\n        if (!route.parent) {\n            return paramValue;\n        }\n        // Ensure that level that has actual value keeps it from being cleared.\n        return combineLatest([paramValue, this.getRouteParam(route.parent, param)]).pipe(map((params) => params[0] || params[1]));\n    }\n    get initialFilterOptions() {\n        return filterInputParameters(this.initialFilterOptionsSubject.asObservable(), this.widgetProperties.initialFilterOptions);\n    }\n    get initialSortOptions() {\n        return filterInputParameters(this.initialSortOptionsSubject.asObservable(), this.widgetProperties.initialSortOptions);\n    }\n    onDetailOpen(transaction) {\n        this.transactionSelected.emit(transaction);\n    }\n    onTransactionsLoaded(transactionsList) {\n        this.transactionsLoaded.emit(transactionsList);\n    }\n}\nBaseTransactionsWidget.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsWidget, deps: [{ token: i1$9.ActivatedRoute }, { token: WidgetPropertiesService }], target: i0.ɵɵFactoryTarget.Directive });\nBaseTransactionsWidget.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: BaseTransactionsWidget, inputs: { googleAPIKey: \"googleAPIKey\", initialFilterOptionsValue: [\"initialFilterOptions\", \"initialFilterOptionsValue\"], initialSortOptionsValue: [\"initialSortOptions\", \"initialSortOptionsValue\"], pageSize: \"pageSize\", maxNavPages: \"maxNavPages\", paginationType: \"paginationType\", showControls: \"showControls\", showChangeCategory: \"showChangeCategory\", showPendingTransactionsOnTop: \"showPendingTransactionsOnTop\", showCheckImage: \"showCheckImage\", showManageNotes: \"showManageNotes\", getOrPostEndpoints: \"getOrPostEndpoints\", enableDisputeAndInquiry: \"enableDisputeAndInquiry\", disputeByBillingStatus: \"disputeByBillingStatus\", disputeEligibilityDays: \"disputeEligibilityDays\", disputeTransactionTypes: \"disputeTransactionTypes\", inquireTopicId: \"inquireTopicId\", disputeTopicId: \"disputeTopicId\", availableFiltersConfig: \"availableFiltersConfig\" }, outputs: { transactionSelected: \"transactionSelected\", transactionsLoaded: \"transactionsLoaded\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsWidget, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: i1$9.ActivatedRoute }, { type: WidgetPropertiesService }]; }, propDecorators: { googleAPIKey: [{\n                type: Input\n            }], initialFilterOptionsValue: [{\n                type: Input,\n                args: ['initialFilterOptions']\n            }], initialSortOptionsValue: [{\n                type: Input,\n                args: ['initialSortOptions']\n            }], pageSize: [{\n                type: Input\n            }], maxNavPages: [{\n                type: Input\n            }], paginationType: [{\n                type: Input\n            }], showControls: [{\n                type: Input\n            }], showChangeCategory: [{\n                type: Input\n            }], showPendingTransactionsOnTop: [{\n                type: Input\n            }], showCheckImage: [{\n                type: Input\n            }], showManageNotes: [{\n                type: Input\n            }], getOrPostEndpoints: [{\n                type: Input\n            }], enableDisputeAndInquiry: [{\n                type: Input\n            }], disputeByBillingStatus: [{\n                type: Input\n            }], disputeEligibilityDays: [{\n                type: Input\n            }], disputeTransactionTypes: [{\n                type: Input\n            }], inquireTopicId: [{\n                type: Input\n            }], disputeTopicId: [{\n                type: Input\n            }], availableFiltersConfig: [{\n                type: Input\n            }], transactionSelected: [{\n                type: Output\n            }], transactionsLoaded: [{\n                type: Output\n            }] } });\n\n// eslint-disable-next-line\nclass BaseTransactionsControls {\n    constructor() {\n        /**\n         * Whether a filter is applied on the transactions.\n         */\n        this.isFilterApplied = false;\n        /**\n         * Configurations for exporting transactions.\n         */\n        // eslint-disable-next-line\n        this.exportConfig = [\n            {\n                name: 'CSV',\n                isAvailable: true,\n            },\n            {\n                name: 'OFX',\n                isAvailable: true,\n            },\n        ];\n        /**\n         * Configuration parameter to show/hide filters\n         */\n        this.availableFilters = [];\n        /**\n         * EventEmitter for triggering a filter action.\n         */\n        this.filter = new EventEmitter();\n        /**\n         * EventEmitter for triggering a search action.\n         */\n        this.search = new EventEmitter();\n        /**\n         * EventEmitter for triggering an export action.\n         */\n        this.export = new EventEmitter();\n        /**\n         * Whether the filter form is shown.\n         */\n        this.isFilterOpen = false;\n    }\n    /**\n     * Search event callback\n     */\n    onSearch(searchParam) {\n        this.search.emit(searchParam);\n    }\n    /**\n     * Filter event callback\n     */\n    onFilter(filterParams) {\n        this.filter.emit(filterParams);\n    }\n    /**\n     * Export event callback\n     */\n    onExport(type) {\n        this.export.emit(type);\n    }\n    /**\n     * Close event callback to hide the filters controls\n     */\n    onClose() {\n        this.isFilterOpen = false;\n    }\n    /**\n     * Toogle method to hide or show the filter form\n     */\n    toggleFilter() {\n        this.isFilterOpen = !this.isFilterOpen;\n    }\n    ngOnInit() {\n        if (typeof this.exportConfig === 'undefined') {\n            throw new Error(`\"exportConfig\" input is required in \"${this.constructor.name}\"`);\n        }\n    }\n}\nBaseTransactionsControls.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsControls, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nBaseTransactionsControls.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: BaseTransactionsControls, inputs: { isFilterApplied: \"isFilterApplied\", exportConfig: \"exportConfig\", availableFilters: \"availableFilters\" }, outputs: { filter: \"filter\", search: \"search\", export: \"export\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseTransactionsControls, decorators: [{\n            type: Directive\n        }], propDecorators: { isFilterApplied: [{\n                type: Input\n            }], exportConfig: [{\n                type: Input\n            }], availableFilters: [{\n                type: Input\n            }], filter: [{\n                type: Output\n            }], search: [{\n                type: Output\n            }], export: [{\n                type: Output\n            }] } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AccessibilityKeyboardDirective, AccountsService, AvailableFilterEnum, AvailableFiltersConfigService, BaseTransactionIcon, BaseTransactionsContainer, BaseTransactionsControls, BaseTransactionsWidget, BillingStatusEnum, CapitalizePipe, CategoriesService, CheckImagesAvailability, DisputeStatusEnum, DocumentViewerBackdropComponent, DocumentViewerContainerComponent, DocumentViewerHeaderComponent, DocumentViewerInteractorComponent, DomAttributesService, DynamicIdDirective, EndpointType, EnumValuesService, ImageViewerComponent, LoadingState, MapAPILoaderService, MessagesService, NavigationService, OnLoadAction, PaginationType, PaymentsBatchService, PendingTransactionsService, TransactionCategoryIcon, TransactionCategoryIconComponent, TransactionCheckImageComponent, TransactionCheckImageDocumentViewerComponent, TransactionCheckImageItemComponent, TransactionCreditDebitIcon, TransactionDetailsService, TransactionGeoLocationMapComponent, TransactionIconType, TransactionState, TransactionTypeIcon, TransactionUpdateService, TransactionsBackendError, TransactionsCheckImageSide, TransactionsCheckImageType, TransactionsCheckImages, TransactionsCommonModule, TransactionsDetailsLoadingState, TransactionsDisputeBannerComponent, TransactionsDisputeStatusTagComponent, TransactionsEnumValue, TransactionsErrorStateCustomizableDirective, TransactionsExportErrorType, TransactionsFilterOptions, TransactionsGetParams, TransactionsGroupedByDate, TransactionsIconCategoriesFactoryService, TransactionsInquireAndDisputeUIService, TransactionsInquiryDisputeComponent, TransactionsList, TransactionsMapUiComponent, TransactionsNoAccountSelectedStateCustomizableDirective, TransactionsNumberOfResultsFoundComponent, TransactionsNumberOfResultsFoundCustomizableDirective, TransactionsService, WidgetPropertiesService, availableExportTypes, categoriesManagementMap, categoryListLevelParam, combineExportTypesConfig, creditDebitIndicatorEnumValues, defaultAccountOptions, defaultBillingStatusEnumValues, defaultFilterOptions, defaultInitialExportOptions, defaultInitialFilterOptions, defaultInitialListOptions, defaultInitialSortOptions, defaultMaxNavPage, defaultPageSize, defaultPaginationOptions, defaultSearchOptions, defaultSortOptions, defaultTransactionTypeEnumValues, deserialize, filterInputParameters, fromCategoriesManagementResponse, notificationTtl, parseSortOptions, showDetailsConfigToken, sortFieldsDirectionHeader, totalCountHeader, unvailableExportTypesReasons };\n"]},"metadata":{},"sourceType":"module"}