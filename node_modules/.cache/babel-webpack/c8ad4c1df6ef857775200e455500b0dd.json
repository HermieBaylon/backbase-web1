{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { LOCALE_ID, Pipe, Inject, Component, Input, Directive, NgModule, Injectable, Optional } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$1 from '@backbase/foundation-ang/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport * as i1 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { combineLatest, BehaviorSubject, defer, of } from 'rxjs';\nimport { map, shareReplay, first, publishReplay, refCount } from 'rxjs/operators';\n\nfunction NotificationsCapabilityIconComponent_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"bb-icon-ui\", 4);\n    i0.ɵɵelementStart(2, \"span\", 5);\n    i0.ɵɵi18n(3, 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    const host_r2 = ctx_r4.$implicit;\n    const origin_r1 = ctx_r4.context.origin;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", host_r2.originIcons[origin_r1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵi18nExp(origin_r1);\n    i0.ɵɵi18nApply(3);\n  }\n}\n\nfunction NotificationsCapabilityIconComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, NotificationsCapabilityIconComponent_ng_template_1_div_0_Template, 4, 2, \"div\", 2);\n  }\n\n  if (rf & 2) {\n    const origin_r1 = ctx.context.origin;\n    const host_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngIf\", host_r2.originIcons[origin_r1]);\n  }\n}\n\nconst _c4 = function (a0) {\n  return {\n    origin: a0\n  };\n};\n\nclass NotificationLocalizationPipe {\n  constructor(locale) {\n    this.locale = locale;\n  }\n\n  transform(notification, property) {\n    return ((notification.translations || {})[this.locale] || notification)[property] || '';\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationLocalizationPipe.ɵfac = function NotificationLocalizationPipe_Factory(t) {\n  return new (t || NotificationLocalizationPipe)(i0.ɵɵdirectiveInject(LOCALE_ID, 16));\n};\n/** @nocollapse */\n\n\nNotificationLocalizationPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"notificationLocalization\",\n  type: NotificationLocalizationPipe,\n  pure: true\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationLocalizationPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'notificationLocalization'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCALE_ID]\n      }]\n    }];\n  }, null);\n})();\n\nconst linkRegexp = /{{(.*)}}/;\n\nclass InterpolateLinkPipe {\n  transform(template, value, focusableLink = true, classLink = '') {\n    return template.replace(linkRegexp, (_, linkText) => `<a${classLink && ' class=\"' + classLink + '\"'} href=\"${value.link}\" target=\"_blank\" rel=\"noopener noreferrer\" tabindex=\"${focusableLink ? '0' : '-1'}\">${linkText || value.link}</a>`);\n  }\n\n}\n/** @nocollapse */\n\n\nInterpolateLinkPipe.ɵfac = function InterpolateLinkPipe_Factory(t) {\n  return new (t || InterpolateLinkPipe)();\n};\n/** @nocollapse */\n\n\nInterpolateLinkPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"interpolateLink\",\n  type: InterpolateLinkPipe,\n  pure: true\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InterpolateLinkPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'interpolateLink'\n    }]\n  }], null, null);\n})();\n\nvar NotificationOrigins;\n\n(function (NotificationOrigins) {\n  NotificationOrigins[\"Accounts\"] = \"Accounts\";\n  NotificationOrigins[\"Transactions\"] = \"Transaction\";\n  NotificationOrigins[\"Messages\"] = \"MessageCenter\";\n  NotificationOrigins[\"Payments\"] = \"Payment\";\n  NotificationOrigins[\"Limits\"] = \"Limits\";\n  NotificationOrigins[\"Contact\"] = \"Contact\";\n  NotificationOrigins[\"SavingGoals\"] = \"PFM\";\n  NotificationOrigins[\"AccountStatement\"] = \"AccountStatement\";\n  NotificationOrigins[\"FinancialInsights\"] = \"FinancialInsights\";\n})(NotificationOrigins || (NotificationOrigins = {}));\n\nconst NOTIFICAION_ORIGIN_ICONS = {\n  [NotificationOrigins.Accounts]: 'current-accounts',\n  [NotificationOrigins.Transactions]: 'swap-horiz',\n  [NotificationOrigins.Messages]: 'mail-outline',\n  [NotificationOrigins.SavingGoals]: 'donut-large',\n  [NotificationOrigins.Contact]: 'contacts',\n  [NotificationOrigins.Payments]: 'payments',\n  [NotificationOrigins.AccountStatement]: 'description',\n  [NotificationOrigins.Limits]: 'how-to-reg',\n  [NotificationOrigins.FinancialInsights]: 'pie_chart_outline'\n};\n\nclass NotificationsCapabilityIconComponent {\n  constructor() {\n    /**\n     * Notification origin types\n     */\n    this.originTypes = NotificationOrigins;\n    /**\n     * Notification origin icons\n     */\n\n    this.originIcons = NOTIFICAION_ORIGIN_ICONS;\n  }\n\n}\n/** @nocollapse */\n\n\nNotificationsCapabilityIconComponent.ɵfac = function NotificationsCapabilityIconComponent_Factory(t) {\n  return new (t || NotificationsCapabilityIconComponent)();\n};\n/** @nocollapse */\n\n\nNotificationsCapabilityIconComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NotificationsCapabilityIconComponent,\n  selectors: [[\"bb-notifications-capability-icon\"]],\n  inputs: {\n    origin: \"origin\"\n  },\n  decls: 2,\n  vars: 4,\n  consts: function () {\n    let i18n_1;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_COMMON_ANG_FESM2015_BACKBASE_NOTIFICATIONS_COMMON_ANG_JS___2 = goog.getMsg(\"{VAR_SELECT, select, Accounts {Accounts} Transaction {Transactions} MessageCenter {Messages} Limits {Limits} Payment {Payments} AccountStatement {Account Statement} Contact {Contact} PFM {Saving Goals} FinancialInsights {Financial\\n      Insights}}\");\n      i18n_1 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_COMMON_ANG_FESM2015_BACKBASE_NOTIFICATIONS_COMMON_ANG_JS___2;\n    } else {\n      i18n_1 = $localize`{VAR_SELECT, select, Accounts {Accounts} Transaction {Transactions} MessageCenter {Messages} Limits {Limits} Payment {Payments} AccountStatement {Account Statement} Contact {Contact} PFM {Saving Goals} FinancialInsights {Financial\n      Insights}}`;\n    }\n\n    i18n_1 = i0.ɵɵi18nPostprocess(i18n_1, {\n      \"VAR_SELECT\": \"\\uFFFD0\\uFFFD\"\n    });\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Notification origin label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_COMMON_ANG_FESM2015_BACKBASE_NOTIFICATIONS_COMMON_ANG_JS___3 = goog.getMsg(\" {$icu} \", {\n        \"icu\": i18n_1\n      });\n      i18n_0 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_NOTIFICATIONS_COMMON_ANG_FESM2015_BACKBASE_NOTIFICATIONS_COMMON_ANG_JS___3;\n    } else {\n      i18n_0 = $localize`:Notification origin label@@notifications-capability-icon.origin.label: ${i18n_1}:ICU: `;\n    }\n\n    return [[\"bbNotificationsCapabilityIconCustomizable\", \"\", 3, \"bbHostRef\", \"bbTemplateContext\"], [\"bbNotificationsCapabilityIconCustomizable\", \"\"], [\"class\", \"bb-stack bb-stack--align-center bb-text-support\", 4, \"ngIf\"], [1, \"bb-stack\", \"bb-stack--align-center\", \"bb-text-support\"], [\"size\", \"sm\", \"data-role\", \"notifications-capability-icon\", 1, \"bb-stack__item\", \"bb-stack__item--spacing-sm\", 3, \"name\"], [\"data-role\", \"notifications-capability-icon-label\", 1, \"bb-stack__item\", \"bb-subheader\", \"bb-subheader--regular\"], i18n_0];\n  },\n  template: function NotificationsCapabilityIconComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n      i0.ɵɵtemplate(1, NotificationsCapabilityIconComponent_ng_template_1_Template, 1, 1, \"ng-template\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"bbHostRef\", ctx)(\"bbTemplateContext\", i0.ɵɵpureFunction1(2, _c4, ctx.origin));\n    }\n  },\n  directives: function () {\n    return [NotificationsCapabilityIconCustomizableDirective, i2.NgIf, i1.IconComponent];\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsCapabilityIconComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-notifications-capability-icon',\n      templateUrl: './notifications-capability-icon.component.html'\n    }]\n  }], null, {\n    origin: [{\n      type: Input\n    }]\n  });\n})();\n\nclass NotificationsCapabilityIconCustomizableDirective extends BbTemplate {}\n/** @nocollapse */\n\n\nNotificationsCapabilityIconCustomizableDirective.ɵfac = /* @__PURE__ */function () {\n  let ɵNotificationsCapabilityIconCustomizableDirective_BaseFactory;\n  return function NotificationsCapabilityIconCustomizableDirective_Factory(t) {\n    return (ɵNotificationsCapabilityIconCustomizableDirective_BaseFactory || (ɵNotificationsCapabilityIconCustomizableDirective_BaseFactory = i0.ɵɵgetInheritedFactory(NotificationsCapabilityIconCustomizableDirective)))(t || NotificationsCapabilityIconCustomizableDirective);\n  };\n}();\n/** @nocollapse */\n\n\nNotificationsCapabilityIconCustomizableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NotificationsCapabilityIconCustomizableDirective,\n  selectors: [[\"\", \"bbNotificationsCapabilityIconCustomizable\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsCapabilityIconCustomizableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbNotificationsCapabilityIconCustomizable]'\n    }]\n  }], null, null);\n})();\n/**\n * Check if element is truncated with overflow:ellipsis\n */\n\n\nfunction isElementContentTruncated({\n  offsetHeight,\n  scrollHeight\n}) {\n  return offsetHeight < scrollHeight;\n}\n\nclass IsElementContentTruncatedDirective {\n  constructor(elementRef, cd) {\n    this.elementRef = elementRef;\n    this.cd = cd;\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.setIsContentTruncatedInParentComponent();\n    });\n  }\n\n  setIsContentTruncatedInParentComponent() {\n    const isContentTruncated = isElementContentTruncated(this.elementRef.nativeElement);\n    this.hostRef.setIsContentTruncated(isContentTruncated);\n    this.cd.markForCheck();\n  }\n\n}\n/** @nocollapse */\n\n\nIsElementContentTruncatedDirective.ɵfac = function IsElementContentTruncatedDirective_Factory(t) {\n  return new (t || IsElementContentTruncatedDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n/** @nocollapse */\n\n\nIsElementContentTruncatedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: IsElementContentTruncatedDirective,\n  selectors: [[\"\", \"bbIsElementContentTruncated\", \"\"]],\n  inputs: {\n    hostRef: \"hostRef\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IsElementContentTruncatedDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbIsElementContentTruncated]'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }];\n  }, {\n    hostRef: [{\n      type: Input\n    }]\n  });\n})();\n\nconst pipes = [NotificationLocalizationPipe, InterpolateLinkPipe];\nconst components = [NotificationsCapabilityIconComponent];\nconst directives = [NotificationsCapabilityIconCustomizableDirective, IsElementContentTruncatedDirective];\nconst uiModules = [IconModule];\n\nclass NotificationsCommonModule {}\n/** @nocollapse */\n\n\nNotificationsCommonModule.ɵfac = function NotificationsCommonModule_Factory(t) {\n  return new (t || NotificationsCommonModule)();\n};\n/** @nocollapse */\n\n\nNotificationsCommonModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NotificationsCommonModule\n});\n/** @nocollapse */\n\nNotificationsCommonModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, ...uiModules], IconModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NotificationsCommonModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, ...uiModules],\n      declarations: [...pipes, ...components, ...directives],\n      exports: [...pipes, ...components, ...directives, ...uiModules]\n    }]\n  }], null, null);\n})();\n\nconst NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT = 'bb.event.notifications-badge.force-update';\nconst NOTIFICATIONS_CREATE_LOCAL_EVENT = 'bb.event.notifications-popups.notify';\n\nconst getPropertyValue = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => inputVal !== undefined ? inputVal : propVal));\n\nfunction propertiesListToArray() {\n  return source$ => source$.pipe(map(properties => properties.replace(/\\s/g, '').split(',')), map(properties => properties.filter(Boolean)));\n}\n\nconst shareReplayOnce = () => function (source) {\n  // use refCount: true to prevent memory leaks issue with shareReplay\n  return source.pipe(shareReplay({\n    refCount: true,\n    bufferSize: 1\n  }));\n};\n\nconst modelItemToBoolean = value => {\n  if (typeof value === 'boolean') {\n    return value;\n  }\n\n  return value.trim() === 'true';\n};\n\nconst modelItemToArray = value => value.replace(/\\s/g, '').split(',');\n\nconst secondsToMilliseconds = seconds => seconds * 1000;\n\nconst DefaultBaseWidgetProperties = {\n  allowedRoutes: [],\n  origins: [],\n  severityLevels: []\n};\n\nclass BaseWidgetPropertiesService {\n  constructor(itemModel) {\n    this.itemModel = itemModel;\n    this.allowedRoutes$$ = new BehaviorSubject(undefined);\n    this.origins$$ = new BehaviorSubject(undefined);\n    this.severityLevels$$ = new BehaviorSubject(undefined);\n    this.allowedRoutes$ = getPropertyValue(this.allowedRoutes$$, this.allowedRoutes);\n    this.origins$ = getPropertyValue(this.origins$$, this.origins);\n    this.severityLevels$ = getPropertyValue(this.severityLevels$$, this.severityLevels);\n  }\n\n  get allowedRoutes() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.allowedRoutes);\n    }\n\n    return this.itemModel.property('allowedRoutes', '').pipe(first(), propertiesListToArray());\n  }\n\n  get origins() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.origins);\n    }\n\n    return this.itemModel.property('origins', '').pipe(propertiesListToArray());\n  }\n\n  get severityLevels() {\n    if (!this.itemModel) {\n      return this.defaultModelObservable(DefaultBaseWidgetProperties.severityLevels);\n    }\n\n    return this.itemModel.property('severityLevels', '').pipe(propertiesListToArray());\n  }\n\n  setAllowedRoutes(value) {\n    this.allowedRoutes$$.next(modelItemToArray(value));\n  }\n\n  setOrigins(value) {\n    this.origins$$.next(modelItemToArray(value));\n  }\n\n  setSeverityLevels(value) {\n    this.severityLevels$$.next(modelItemToArray(value));\n  }\n\n  defaultModelObservable(value) {\n    return defer(() => of(value)).pipe(publishReplay(1), refCount());\n  }\n\n}\n/** @nocollapse */\n\n\nBaseWidgetPropertiesService.ɵfac = function BaseWidgetPropertiesService_Factory(t) {\n  return new (t || BaseWidgetPropertiesService)(i0.ɵɵinject(i1$1.ItemModel, 8));\n};\n/** @nocollapse */\n\n\nBaseWidgetPropertiesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: BaseWidgetPropertiesService,\n  factory: BaseWidgetPropertiesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BaseWidgetPropertiesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$1.ItemModel,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nfunction toISOExtendedFormat(value) {\n  // eslint-disable-next-line max-len\n  // The date's format `2020-04-09T10:55:03.576+0000` from BE doesn't support in IE, Safari. Prevent `Invalid Date` result\n  const offsetSign = value.slice(-5, -4);\n  return offsetSign === '+' || '-' === offsetSign ? `${value.slice(0, -2)}:${value.slice(-2)}` : value;\n}\n\nclass LeaveZoneScheduler {\n  constructor(zone, scheduler) {\n    this.zone = zone;\n    this.scheduler = scheduler;\n  }\n\n  schedule(...args) {\n    // eslint-disable-next-line prefer-spread\n    return this.zone.runOutsideAngular(() => this.scheduler.schedule.apply(this.scheduler, args));\n  }\n\n  now() {\n    return this.scheduler.now();\n  }\n\n}\n\nclass EnterZoneScheduler {\n  constructor(zone, scheduler) {\n    this.zone = zone;\n    this.scheduler = scheduler;\n  }\n\n  schedule(...args) {\n    // eslint-disable-next-line prefer-spread\n    return this.zone.run(() => this.scheduler.schedule.apply(this.scheduler, args));\n  }\n\n  now() {\n    return this.scheduler.now();\n  }\n\n}\n\nfunction leaveZone(zone, scheduler) {\n  return new LeaveZoneScheduler(zone, scheduler);\n}\n\nfunction enterZone(zone, scheduler) {\n  return new EnterZoneScheduler(zone, scheduler);\n}\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { BaseWidgetPropertiesService, NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, NOTIFICATIONS_CREATE_LOCAL_EVENT, NotificationOrigins, NotificationsCapabilityIconComponent, NotificationsCapabilityIconCustomizableDirective, NotificationsCommonModule, enterZone, getPropertyValue, isElementContentTruncated, leaveZone, modelItemToArray, modelItemToBoolean, propertiesListToArray, secondsToMilliseconds, shareReplayOnce, toISOExtendedFormat, InterpolateLinkPipe as ӨInterpolateLinkPipe, IsElementContentTruncatedDirective as ӨIsElementContentTruncatedDirective, NotificationLocalizationPipe as ӨNotificationLocalizationPipe };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/notifications-common-ang/fesm2015/backbase-notifications-common-ang.js"],"names":["i0","LOCALE_ID","Pipe","Inject","Component","Input","Directive","NgModule","Injectable","Optional","i2","CommonModule","i1$1","BbTemplate","i1","IconModule","combineLatest","BehaviorSubject","defer","of","map","shareReplay","first","publishReplay","refCount","NotificationLocalizationPipe","constructor","locale","transform","notification","property","translations","ɵfac","ɵpipe","type","args","name","undefined","decorators","linkRegexp","InterpolateLinkPipe","template","value","focusableLink","classLink","replace","_","linkText","link","NotificationOrigins","NOTIFICAION_ORIGIN_ICONS","Accounts","Transactions","Messages","SavingGoals","Contact","Payments","AccountStatement","Limits","FinancialInsights","NotificationsCapabilityIconComponent","originTypes","originIcons","ɵcmp","NotificationsCapabilityIconCustomizableDirective","NgIf","IconComponent","selector","templateUrl","origin","ɵdir","isElementContentTruncated","offsetHeight","scrollHeight","IsElementContentTruncatedDirective","elementRef","cd","ngAfterViewInit","setTimeout","setIsContentTruncatedInParentComponent","isContentTruncated","nativeElement","hostRef","setIsContentTruncated","markForCheck","ElementRef","ChangeDetectorRef","pipes","components","directives","uiModules","NotificationsCommonModule","ɵmod","ɵinj","imports","declarations","exports","NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT","NOTIFICATIONS_CREATE_LOCAL_EVENT","getPropertyValue","input","prop","pipe","inputVal","propVal","propertiesListToArray","source$","properties","split","filter","Boolean","shareReplayOnce","source","bufferSize","modelItemToBoolean","trim","modelItemToArray","secondsToMilliseconds","seconds","DefaultBaseWidgetProperties","allowedRoutes","origins","severityLevels","BaseWidgetPropertiesService","itemModel","allowedRoutes$$","origins$$","severityLevels$$","allowedRoutes$","origins$","severityLevels$","defaultModelObservable","setAllowedRoutes","next","setOrigins","setSeverityLevels","ItemModel","ɵprov","toISOExtendedFormat","offsetSign","slice","LeaveZoneScheduler","zone","scheduler","schedule","runOutsideAngular","apply","now","EnterZoneScheduler","run","leaveZone","enterZone","ӨInterpolateLinkPipe","ӨIsElementContentTruncatedDirective","ӨNotificationLocalizationPipe"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,MAA1B,EAAkCC,SAAlC,EAA6CC,KAA7C,EAAoDC,SAApD,EAA+DC,QAA/D,EAAyEC,UAAzE,EAAqFC,QAArF,QAAqG,eAArG;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAO,KAAKC,IAAZ,MAAsB,+BAAtB;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,OAAO,KAAKC,EAAZ,MAAoB,uBAApB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,aAAT,EAAwBC,eAAxB,EAAyCC,KAAzC,EAAgDC,EAAhD,QAA0D,MAA1D;AACA,SAASC,GAAT,EAAcC,WAAd,EAA2BC,KAA3B,EAAkCC,aAAlC,EAAiDC,QAAjD,QAAiE,gBAAjE;;;;AAUmIxB,IAAAA,EAiEiZ,4B;AAjEjZA,IAAAA,EAiEyf,8B;AAjEzfA,IAAAA,EAiE0sB,6B;AAjE1sBA,IAAAA,EAiE0sB,a;AAjE1sBA,IAAAA,EAiEmrC,e;AAjEnrCA,IAAAA,EAiE8rC,e;;;;mBAjE9rCA,E;;;AAAAA,IAAAA,EAiE0lB,a;AAjE1lBA,IAAAA,EAiE0lB,mD;AAjE1lBA,IAAAA,EAiEmrC,a;AAjEnrCA,IAAAA,EAiEmrC,qB;AAjEnrCA,IAAAA,EAiEmrC,e;;;;;;AAjEnrCA,IAAAA,EAiEiZ,iG;;;;;;AAjEjZA,IAAAA,EAiEuZ,mD;;;;;;;;;;AAzE1hB,MAAMyB,4BAAN,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKA,MAAL,GAAcA,MAAd;AACH;;AACDC,EAAAA,SAAS,CAACC,YAAD,EAAeC,QAAf,EAAyB;AAC9B,WAAQ,CAAC,CAACD,YAAY,CAACE,YAAb,IAA6B,EAA9B,EAAkC,KAAKJ,MAAvC,KAAkDE,YAAnD,EAAiEC,QAAjE,KAA8E,EAAtF;AACH;;AAN8B;AAQnC;;;AAAmBL,4BAA4B,CAACO,IAA7B;AAAA,mBAA0HP,4BAA1H,EAAgHzB,EAAhH,mBAAwKC,SAAxK;AAAA;AACnB;;;AAAmBwB,4BAA4B,CAACQ,KAA7B,kBADgHjC,EAChH;AAAA;AAAA,QAAwHyB,4BAAxH;AAAA;AAAA;;AACnB;AAAA,qDAFmIzB,EAEnI,mBAA4FyB,4BAA5F,EAAsI,CAAC;AAC3HS,IAAAA,IAAI,EAAEhC,IADqH;AAE3HiC,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,IAAI,EAAE;AADP,KAAD;AAFqH,GAAD,CAAtI,EAK4B,YAAY;AAAE,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEG,SAAR;AAAmBC,MAAAA,UAAU,EAAE,CAAC;AAC9DJ,QAAAA,IAAI,EAAE/B,MADwD;AAE9DgC,QAAAA,IAAI,EAAE,CAAClC,SAAD;AAFwD,OAAD;AAA/B,KAAD,CAAP;AAGlB,GARxB;AAAA;;AAUA,MAAMsC,UAAU,GAAG,UAAnB;;AACA,MAAMC,mBAAN,CAA0B;AACtBZ,EAAAA,SAAS,CAACa,QAAD,EAAWC,KAAX,EAAkBC,aAAa,GAAG,IAAlC,EAAwCC,SAAS,GAAG,EAApD,EAAwD;AAC7D,WAAOH,QAAQ,CAACI,OAAT,CAAiBN,UAAjB,EAA6B,CAACO,CAAD,EAAIC,QAAJ,KAAkB,KAAIH,SAAS,IAAI,aAAaA,SAAb,GAAyB,GAAI,UAASF,KAAK,CAACM,IAAK,yDAAwDL,aAAa,GAAG,GAAH,GAAS,IAAK,KAAII,QAAQ,IAAIL,KAAK,CAACM,IAAK,MAA/N,CAAP;AACH;;AAHqB;AAK1B;;;AAAmBR,mBAAmB,CAACR,IAApB;AAAA,mBAAiHQ,mBAAjH;AAAA;AACnB;;;AAAmBA,mBAAmB,CAACP,KAApB,kBAnBgHjC,EAmBhH;AAAA;AAAA,QAA+GwC,mBAA/G;AAAA;AAAA;;AACnB;AAAA,qDApBmIxC,EAoBnI,mBAA4FwC,mBAA5F,EAA6H,CAAC;AAClHN,IAAAA,IAAI,EAAEhC,IAD4G;AAElHiC,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,IAAI,EAAE;AADP,KAAD;AAF4G,GAAD,CAA7H;AAAA;;AAOA,IAAIa,mBAAJ;;AACA,CAAC,UAAUA,mBAAV,EAA+B;AAC5BA,EAAAA,mBAAmB,CAAC,UAAD,CAAnB,GAAkC,UAAlC;AACAA,EAAAA,mBAAmB,CAAC,cAAD,CAAnB,GAAsC,aAAtC;AACAA,EAAAA,mBAAmB,CAAC,UAAD,CAAnB,GAAkC,eAAlC;AACAA,EAAAA,mBAAmB,CAAC,UAAD,CAAnB,GAAkC,SAAlC;AACAA,EAAAA,mBAAmB,CAAC,QAAD,CAAnB,GAAgC,QAAhC;AACAA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAiC,SAAjC;AACAA,EAAAA,mBAAmB,CAAC,aAAD,CAAnB,GAAqC,KAArC;AACAA,EAAAA,mBAAmB,CAAC,kBAAD,CAAnB,GAA0C,kBAA1C;AACAA,EAAAA,mBAAmB,CAAC,mBAAD,CAAnB,GAA2C,mBAA3C;AACH,CAVD,EAUGA,mBAAmB,KAAKA,mBAAmB,GAAG,EAA3B,CAVtB;;AAYA,MAAMC,wBAAwB,GAAG;AAC7B,GAACD,mBAAmB,CAACE,QAArB,GAAgC,kBADH;AAE7B,GAACF,mBAAmB,CAACG,YAArB,GAAoC,YAFP;AAG7B,GAACH,mBAAmB,CAACI,QAArB,GAAgC,cAHH;AAI7B,GAACJ,mBAAmB,CAACK,WAArB,GAAmC,aAJN;AAK7B,GAACL,mBAAmB,CAACM,OAArB,GAA+B,UALF;AAM7B,GAACN,mBAAmB,CAACO,QAArB,GAAgC,UANH;AAO7B,GAACP,mBAAmB,CAACQ,gBAArB,GAAwC,aAPX;AAQ7B,GAACR,mBAAmB,CAACS,MAArB,GAA8B,YARD;AAS7B,GAACT,mBAAmB,CAACU,iBAArB,GAAyC;AATZ,CAAjC;;AAYA,MAAMC,oCAAN,CAA2C;AACvClC,EAAAA,WAAW,GAAG;AACV;AACR;AACA;AACQ,SAAKmC,WAAL,GAAmBZ,mBAAnB;AACA;AACR;AACA;;AACQ,SAAKa,WAAL,GAAmBZ,wBAAnB;AACH;;AAVsC;AAY3C;;;AAAmBU,oCAAoC,CAAC5B,IAArC;AAAA,mBAAkI4B,oCAAlI;AAAA;AACnB;;;AAAmBA,oCAAoC,CAACG,IAArC,kBAjEgH/D,EAiEhH;AAAA,QAAsH4D,oCAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,eAAgiC;AACnjC,iBADmB;AAAA;;AAAA,aAjEgH5D,EAiEhH;AAAA;AAAA;AAAA;;AAAA;AAAA;AACnB;AACA;AAFmB;AAAA;AAAA;AAAA;AAAA;AAAA,eAAwhC,oFAAQ,MAA6P,QAA7xC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAjEgHA,MAAAA,EAiEiJ,yBAAjQ;AAjEgHA,MAAAA,EAiE+S,mGAA/Z;AAAA;;AAAA;AAjEgHA,MAAAA,EAiE+M,mDAjE/MA,EAiE+M,qCAA/T;AAAA;AAAA;AAAA;AAAA,YAA8kDgE,gDAA9kD,EAA0uDtD,EAAE,CAACuD,IAA7uD,EAAi4CnD,EAAE,CAACoD,aAAp4C;AAAA;AAAA;AAAA;;AACnB;AAAA,qDAlEmIlE,EAkEnI,mBAA4F4D,oCAA5F,EAA8I,CAAC;AACnI1B,IAAAA,IAAI,EAAE9B,SAD6H;AAEnI+B,IAAAA,IAAI,EAAE,CAAC;AACCgC,MAAAA,QAAQ,EAAE,kCADX;AAECC,MAAAA,WAAW,EAAE;AAFd,KAAD;AAF6H,GAAD,CAA9I,QAM4B;AAAEC,IAAAA,MAAM,EAAE,CAAC;AACvBnC,MAAAA,IAAI,EAAE7B;AADiB,KAAD;AAAV,GAN5B;AAAA;;AASA,MAAM2D,gDAAN,SAA+DnD,UAA/D,CAA0E;AAE1E;;;AAAmBmD,gDAAgD,CAAChC,IAAjD;AAAA;AAAA;AAAA,8IA7EgHhC,EA6EhH,uBAA8IgE,gDAA9I,SAA8IA,gDAA9I;AAAA;AAAA;AACnB;;;AAAmBA,gDAAgD,CAACM,IAAjD,kBA9EgHtE,EA8EhH;AAAA,QAAkIgE,gDAAlI;AAAA;AAAA,aA9EgHhE,EA8EhH;AAAA;;AACnB;AAAA,qDA/EmIA,EA+EnI,mBAA4FgE,gDAA5F,EAA0J,CAAC;AAC/I9B,IAAAA,IAAI,EAAE5B,SADyI;AAE/I6B,IAAAA,IAAI,EAAE,CAAC;AACCgC,MAAAA,QAAQ,EAAE;AADX,KAAD;AAFyI,GAAD,CAA1J;AAAA;AAOA;AACA;AACA;;;AACA,SAASI,yBAAT,CAAmC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAnC,EAAmE;AAC/D,SAAOD,YAAY,GAAGC,YAAtB;AACH;;AAED,MAAMC,kCAAN,CAAyC;AACrChD,EAAAA,WAAW,CAACiD,UAAD,EAAaC,EAAb,EAAiB;AACxB,SAAKD,UAAL,GAAkBA,UAAlB;AACA,SAAKC,EAAL,GAAUA,EAAV;AACH;;AACDC,EAAAA,eAAe,GAAG;AACdC,IAAAA,UAAU,CAAC,MAAM;AACb,WAAKC,sCAAL;AACH,KAFS,CAAV;AAGH;;AACDA,EAAAA,sCAAsC,GAAG;AACrC,UAAMC,kBAAkB,GAAGT,yBAAyB,CAAC,KAAKI,UAAL,CAAgBM,aAAjB,CAApD;AACA,SAAKC,OAAL,CAAaC,qBAAb,CAAmCH,kBAAnC;AACA,SAAKJ,EAAL,CAAQQ,YAAR;AACH;;AAdoC;AAgBzC;;;AAAmBV,kCAAkC,CAAC1C,IAAnC;AAAA,mBAAgI0C,kCAAhI,EA7GgH1E,EA6GhH,mBAAoLA,EAAE,CAACqF,UAAvL,GA7GgHrF,EA6GhH,mBAA8MA,EAAE,CAACsF,iBAAjN;AAAA;AACnB;;;AAAmBZ,kCAAkC,CAACJ,IAAnC,kBA9GgHtE,EA8GhH;AAAA,QAAoH0E,kCAApH;AAAA;AAAA;AAAA;AAAA;AAAA;;AACnB;AAAA,qDA/GmI1E,EA+GnI,mBAA4F0E,kCAA5F,EAA4I,CAAC;AACjIxC,IAAAA,IAAI,EAAE5B,SAD2H;AAEjI6B,IAAAA,IAAI,EAAE,CAAC;AACCgC,MAAAA,QAAQ,EAAE;AADX,KAAD;AAF2H,GAAD,CAA5I,EAK4B,YAAY;AAAE,WAAO,CAAC;AAAEjC,MAAAA,IAAI,EAAElC,EAAE,CAACqF;AAAX,KAAD,EAA0B;AAAEnD,MAAAA,IAAI,EAAElC,EAAE,CAACsF;AAAX,KAA1B,CAAP;AAAmE,GAL7G,EAK+H;AAAEJ,IAAAA,OAAO,EAAE,CAAC;AAC3HhD,MAAAA,IAAI,EAAE7B;AADqH,KAAD;AAAX,GAL/H;AAAA;;AASA,MAAMkF,KAAK,GAAG,CAAC9D,4BAAD,EAA+Be,mBAA/B,CAAd;AACA,MAAMgD,UAAU,GAAG,CAAC5B,oCAAD,CAAnB;AACA,MAAM6B,UAAU,GAAG,CAACzB,gDAAD,EAAmDU,kCAAnD,CAAnB;AACA,MAAMgB,SAAS,GAAG,CAAC3E,UAAD,CAAlB;;AACA,MAAM4E,yBAAN,CAAgC;AAEhC;;;AAAmBA,yBAAyB,CAAC3D,IAA1B;AAAA,mBAAuH2D,yBAAvH;AAAA;AACnB;;;AAAmBA,yBAAyB,CAACC,IAA1B,kBA/HgH5F,EA+HhH;AAAA,QAAwH2F;AAAxH;AACnB;;AAAmBA,yBAAyB,CAACE,IAA1B,kBAhIgH7F,EAgIhH;AAAA,YAA6J,CAACW,YAAD,EAAe,GAAG+E,SAAlB,CAA7J,EAA2L3E,UAA3L;AAAA;;AACnB;AAAA,qDAjImIf,EAiInI,mBAA4F2F,yBAA5F,EAAmI,CAAC;AACxHzD,IAAAA,IAAI,EAAE3B,QADkH;AAExH4B,IAAAA,IAAI,EAAE,CAAC;AACC2D,MAAAA,OAAO,EAAE,CAACnF,YAAD,EAAe,GAAG+E,SAAlB,CADV;AAECK,MAAAA,YAAY,EAAE,CAAC,GAAGR,KAAJ,EAAW,GAAGC,UAAd,EAA0B,GAAGC,UAA7B,CAFf;AAGCO,MAAAA,OAAO,EAAE,CAAC,GAAGT,KAAJ,EAAW,GAAGC,UAAd,EAA0B,GAAGC,UAA7B,EAAyC,GAAGC,SAA5C;AAHV,KAAD;AAFkH,GAAD,CAAnI;AAAA;;AASA,MAAMO,sCAAsC,GAAG,2CAA/C;AACA,MAAMC,gCAAgC,GAAG,sCAAzC;;AAEA,MAAMC,gBAAgB,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiBrF,aAAa,CAAC,CAACoF,KAAD,EAAQC,IAAR,CAAD,CAAb,CAA6BC,IAA7B,CAAkClF,GAAG,CAAC,CAAC,CAACmF,QAAD,EAAWC,OAAX,CAAD,KAA0BD,QAAQ,KAAKlE,SAAb,GAAyBkE,QAAzB,GAAoCC,OAA/D,CAArC,CAA1C;;AAEA,SAASC,qBAAT,GAAiC;AAC7B,SAAOC,OAAO,IAAIA,OAAO,CAACJ,IAAR,CAAalF,GAAG,CAACuF,UAAU,IAAIA,UAAU,CAAC9D,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,EAA8B+D,KAA9B,CAAoC,GAApC,CAAf,CAAhB,EAA0ExF,GAAG,CAACuF,UAAU,IAAIA,UAAU,CAACE,MAAX,CAAkBC,OAAlB,CAAf,CAA7E,CAAlB;AACH;;AACD,MAAMC,eAAe,GAAG,MAAM,UAAUC,MAAV,EAAkB;AAC5C;AACA,SAAOA,MAAM,CAACV,IAAP,CAAYjF,WAAW,CAAC;AAAEG,IAAAA,QAAQ,EAAE,IAAZ;AAAkByF,IAAAA,UAAU,EAAE;AAA9B,GAAD,CAAvB,CAAP;AACH,CAHD;;AAKA,MAAMC,kBAAkB,GAAIxE,KAAD,IAAW;AAClC,MAAI,OAAOA,KAAP,KAAiB,SAArB,EAAgC;AAC5B,WAAOA,KAAP;AACH;;AACD,SAAOA,KAAK,CAACyE,IAAN,OAAiB,MAAxB;AACH,CALD;;AAMA,MAAMC,gBAAgB,GAAI1E,KAAD,IAAWA,KAAK,CAACG,OAAN,CAAc,KAAd,EAAqB,EAArB,EAAyB+D,KAAzB,CAA+B,GAA/B,CAApC;;AACA,MAAMS,qBAAqB,GAAIC,OAAD,IAAaA,OAAO,GAAG,IAArD;;AAEA,MAAMC,2BAA2B,GAAG;AAChCC,EAAAA,aAAa,EAAE,EADiB;AAEhCC,EAAAA,OAAO,EAAE,EAFuB;AAGhCC,EAAAA,cAAc,EAAE;AAHgB,CAApC;;AAKA,MAAMC,2BAAN,CAAkC;AAC9BjG,EAAAA,WAAW,CAACkG,SAAD,EAAY;AACnB,SAAKA,SAAL,GAAiBA,SAAjB;AACA,SAAKC,eAAL,GAAuB,IAAI5G,eAAJ,CAAoBoB,SAApB,CAAvB;AACA,SAAKyF,SAAL,GAAiB,IAAI7G,eAAJ,CAAoBoB,SAApB,CAAjB;AACA,SAAK0F,gBAAL,GAAwB,IAAI9G,eAAJ,CAAoBoB,SAApB,CAAxB;AACA,SAAK2F,cAAL,GAAsB7B,gBAAgB,CAAC,KAAK0B,eAAN,EAAuB,KAAKL,aAA5B,CAAtC;AACA,SAAKS,QAAL,GAAgB9B,gBAAgB,CAAC,KAAK2B,SAAN,EAAiB,KAAKL,OAAtB,CAAhC;AACA,SAAKS,eAAL,GAAuB/B,gBAAgB,CAAC,KAAK4B,gBAAN,EAAwB,KAAKL,cAA7B,CAAvC;AACH;;AACgB,MAAbF,aAAa,GAAG;AAChB,QAAI,CAAC,KAAKI,SAAV,EAAqB;AACjB,aAAO,KAAKO,sBAAL,CAA4BZ,2BAA2B,CAACC,aAAxD,CAAP;AACH;;AACD,WAAO,KAAKI,SAAL,CAAe9F,QAAf,CAAwB,eAAxB,EAAyC,EAAzC,EAA6CwE,IAA7C,CAAkDhF,KAAK,EAAvD,EAA2DmF,qBAAqB,EAAhF,CAAP;AACH;;AACU,MAAPgB,OAAO,GAAG;AACV,QAAI,CAAC,KAAKG,SAAV,EAAqB;AACjB,aAAO,KAAKO,sBAAL,CAA4BZ,2BAA2B,CAACE,OAAxD,CAAP;AACH;;AACD,WAAO,KAAKG,SAAL,CAAe9F,QAAf,CAAwB,SAAxB,EAAmC,EAAnC,EAAuCwE,IAAvC,CAA4CG,qBAAqB,EAAjE,CAAP;AACH;;AACiB,MAAdiB,cAAc,GAAG;AACjB,QAAI,CAAC,KAAKE,SAAV,EAAqB;AACjB,aAAO,KAAKO,sBAAL,CAA4BZ,2BAA2B,CAACG,cAAxD,CAAP;AACH;;AACD,WAAO,KAAKE,SAAL,CAAe9F,QAAf,CAAwB,gBAAxB,EAA0C,EAA1C,EAA8CwE,IAA9C,CAAmDG,qBAAqB,EAAxE,CAAP;AACH;;AACD2B,EAAAA,gBAAgB,CAAC1F,KAAD,EAAQ;AACpB,SAAKmF,eAAL,CAAqBQ,IAArB,CAA0BjB,gBAAgB,CAAC1E,KAAD,CAA1C;AACH;;AACD4F,EAAAA,UAAU,CAAC5F,KAAD,EAAQ;AACd,SAAKoF,SAAL,CAAeO,IAAf,CAAoBjB,gBAAgB,CAAC1E,KAAD,CAApC;AACH;;AACD6F,EAAAA,iBAAiB,CAAC7F,KAAD,EAAQ;AACrB,SAAKqF,gBAAL,CAAsBM,IAAtB,CAA2BjB,gBAAgB,CAAC1E,KAAD,CAA3C;AACH;;AACDyF,EAAAA,sBAAsB,CAACzF,KAAD,EAAQ;AAC1B,WAAOxB,KAAK,CAAC,MAAMC,EAAE,CAACuB,KAAD,CAAT,CAAL,CAAuB4D,IAAvB,CAA4B/E,aAAa,CAAC,CAAD,CAAzC,EAA8CC,QAAQ,EAAtD,CAAP;AACH;;AAvC6B;AAyClC;;;AAAmBmG,2BAA2B,CAAC3F,IAA5B;AAAA,mBAAyH2F,2BAAzH,EA9MgH3H,EA8MhH,UAAsKY,IAAI,CAAC4H,SAA3K;AAAA;AACnB;;;AAAmBb,2BAA2B,CAACc,KAA5B,kBA/MgHzI,EA+MhH;AAAA,SAA6H2H,2BAA7H;AAAA,WAA6HA,2BAA7H;AAAA;;AACnB;AAAA,qDAhNmI3H,EAgNnI,mBAA4F2H,2BAA5F,EAAqI,CAAC;AAC1HzF,IAAAA,IAAI,EAAE1B;AADoH,GAAD,CAArI,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAE0B,MAAAA,IAAI,EAAEtB,IAAI,CAAC4H,SAAb;AAAwBlG,MAAAA,UAAU,EAAE,CAAC;AACnEJ,QAAAA,IAAI,EAAEzB;AAD6D,OAAD;AAApC,KAAD,CAAP;AAElB,GAJxB;AAAA;;AAMA,SAASiI,mBAAT,CAA6BhG,KAA7B,EAAoC;AAChC;AACA;AACA,QAAMiG,UAAU,GAAGjG,KAAK,CAACkG,KAAN,CAAY,CAAC,CAAb,EAAgB,CAAC,CAAjB,CAAnB;AACA,SAAOD,UAAU,KAAK,GAAf,IAAsB,QAAQA,UAA9B,GAA4C,GAAEjG,KAAK,CAACkG,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAmB,IAAGlG,KAAK,CAACkG,KAAN,CAAY,CAAC,CAAb,CAAgB,EAApF,GAAwFlG,KAA/F;AACH;;AAED,MAAMmG,kBAAN,CAAyB;AACrBnH,EAAAA,WAAW,CAACoH,IAAD,EAAOC,SAAP,EAAkB;AACzB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACH;;AACDC,EAAAA,QAAQ,CAAC,GAAG7G,IAAJ,EAAU;AACd;AACA,WAAO,KAAK2G,IAAL,CAAUG,iBAAV,CAA4B,MAAM,KAAKF,SAAL,CAAeC,QAAf,CAAwBE,KAAxB,CAA8B,KAAKH,SAAnC,EAA8C5G,IAA9C,CAAlC,CAAP;AACH;;AACDgH,EAAAA,GAAG,GAAG;AACF,WAAO,KAAKJ,SAAL,CAAeI,GAAf,EAAP;AACH;;AAXoB;;AAazB,MAAMC,kBAAN,CAAyB;AACrB1H,EAAAA,WAAW,CAACoH,IAAD,EAAOC,SAAP,EAAkB;AACzB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACH;;AACDC,EAAAA,QAAQ,CAAC,GAAG7G,IAAJ,EAAU;AACd;AACA,WAAO,KAAK2G,IAAL,CAAUO,GAAV,CAAc,MAAM,KAAKN,SAAL,CAAeC,QAAf,CAAwBE,KAAxB,CAA8B,KAAKH,SAAnC,EAA8C5G,IAA9C,CAApB,CAAP;AACH;;AACDgH,EAAAA,GAAG,GAAG;AACF,WAAO,KAAKJ,SAAL,CAAeI,GAAf,EAAP;AACH;;AAXoB;;AAazB,SAASG,SAAT,CAAmBR,IAAnB,EAAyBC,SAAzB,EAAoC;AAChC,SAAO,IAAIF,kBAAJ,CAAuBC,IAAvB,EAA6BC,SAA7B,CAAP;AACH;;AACD,SAASQ,SAAT,CAAmBT,IAAnB,EAAyBC,SAAzB,EAAoC;AAChC,SAAO,IAAIK,kBAAJ,CAAuBN,IAAvB,EAA6BC,SAA7B,CAAP;AACH;AAED;AACA;AACA;;;AAEA,SAASpB,2BAAT,EAAsC1B,sCAAtC,EAA8EC,gCAA9E,EAAgHjD,mBAAhH,EAAqIW,oCAArI,EAA2KI,gDAA3K,EAA6N2B,yBAA7N,EAAwP4D,SAAxP,EAAmQpD,gBAAnQ,EAAqR5B,yBAArR,EAAgT+E,SAAhT,EAA2TlC,gBAA3T,EAA6UF,kBAA7U,EAAiWT,qBAAjW,EAAwXY,qBAAxX,EAA+YN,eAA/Y,EAAga2B,mBAAha,EAAqblG,mBAAmB,IAAIgH,oBAA5c,EAAke9E,kCAAkC,IAAI+E,mCAAxgB,EAA6iBhI,4BAA4B,IAAIiI,6BAA7kB","sourcesContent":["import * as i0 from '@angular/core';\nimport { LOCALE_ID, Pipe, Inject, Component, Input, Directive, NgModule, Injectable, Optional } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$1 from '@backbase/foundation-ang/core';\nimport { BbTemplate } from '@backbase/foundation-ang/core';\nimport * as i1 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport { combineLatest, BehaviorSubject, defer, of } from 'rxjs';\nimport { map, shareReplay, first, publishReplay, refCount } from 'rxjs/operators';\n\nclass NotificationLocalizationPipe {\n    constructor(locale) {\n        this.locale = locale;\n    }\n    transform(notification, property) {\n        return (((notification.translations || {})[this.locale] || notification)[property] || '');\n    }\n}\n/** @nocollapse */ NotificationLocalizationPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationLocalizationPipe, deps: [{ token: LOCALE_ID }], target: i0.ɵɵFactoryTarget.Pipe });\n/** @nocollapse */ NotificationLocalizationPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationLocalizationPipe, name: \"notificationLocalization\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationLocalizationPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'notificationLocalization',\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOCALE_ID]\n                }] }]; } });\n\nconst linkRegexp = /{{(.*)}}/;\nclass InterpolateLinkPipe {\n    transform(template, value, focusableLink = true, classLink = '') {\n        return template.replace(linkRegexp, (_, linkText) => `<a${classLink && ' class=\"' + classLink + '\"'} href=\"${value.link}\" target=\"_blank\" rel=\"noopener noreferrer\" tabindex=\"${focusableLink ? '0' : '-1'}\">${linkText || value.link}</a>`);\n    }\n}\n/** @nocollapse */ InterpolateLinkPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InterpolateLinkPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\n/** @nocollapse */ InterpolateLinkPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InterpolateLinkPipe, name: \"interpolateLink\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InterpolateLinkPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'interpolateLink',\n                }]\n        }] });\n\nvar NotificationOrigins;\n(function (NotificationOrigins) {\n    NotificationOrigins[\"Accounts\"] = \"Accounts\";\n    NotificationOrigins[\"Transactions\"] = \"Transaction\";\n    NotificationOrigins[\"Messages\"] = \"MessageCenter\";\n    NotificationOrigins[\"Payments\"] = \"Payment\";\n    NotificationOrigins[\"Limits\"] = \"Limits\";\n    NotificationOrigins[\"Contact\"] = \"Contact\";\n    NotificationOrigins[\"SavingGoals\"] = \"PFM\";\n    NotificationOrigins[\"AccountStatement\"] = \"AccountStatement\";\n    NotificationOrigins[\"FinancialInsights\"] = \"FinancialInsights\";\n})(NotificationOrigins || (NotificationOrigins = {}));\n\nconst NOTIFICAION_ORIGIN_ICONS = {\n    [NotificationOrigins.Accounts]: 'current-accounts',\n    [NotificationOrigins.Transactions]: 'swap-horiz',\n    [NotificationOrigins.Messages]: 'mail-outline',\n    [NotificationOrigins.SavingGoals]: 'donut-large',\n    [NotificationOrigins.Contact]: 'contacts',\n    [NotificationOrigins.Payments]: 'payments',\n    [NotificationOrigins.AccountStatement]: 'description',\n    [NotificationOrigins.Limits]: 'how-to-reg',\n    [NotificationOrigins.FinancialInsights]: 'pie_chart_outline',\n};\n\nclass NotificationsCapabilityIconComponent {\n    constructor() {\n        /**\n         * Notification origin types\n         */\n        this.originTypes = NotificationOrigins;\n        /**\n         * Notification origin icons\n         */\n        this.originIcons = NOTIFICAION_ORIGIN_ICONS;\n    }\n}\n/** @nocollapse */ NotificationsCapabilityIconComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCapabilityIconComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ NotificationsCapabilityIconComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsCapabilityIconComponent, selector: \"bb-notifications-capability-icon\", inputs: { origin: \"origin\" }, ngImport: i0, template: \"<ng-container\\n  bbNotificationsCapabilityIconCustomizable\\n  [bbHostRef]=\\\"this\\\"\\n  [bbTemplateContext]=\\\"{\\n    origin: origin\\n  }\\\"\\n></ng-container>\\n\\n<ng-template bbNotificationsCapabilityIconCustomizable let-origin=\\\"context.origin\\\" let-host>\\n  <div *ngIf=\\\"host.originIcons[origin]\\\" class=\\\"bb-stack bb-stack--align-center bb-text-support\\\">\\n    <bb-icon-ui\\n      size=\\\"sm\\\"\\n      class=\\\"bb-stack__item bb-stack__item--spacing-sm\\\"\\n      [name]=\\\"host.originIcons[origin]\\\"\\n      data-role=\\\"notifications-capability-icon\\\"\\n    ></bb-icon-ui>\\n    <span\\n      class=\\\"bb-stack__item bb-subheader bb-subheader--regular\\\"\\n      data-role=\\\"notifications-capability-icon-label\\\"\\n      i18n=\\\"Notification origin label@@notifications-capability-icon.origin.label\\\"\\n    >\\n      { origin, select, Accounts {Accounts} Transaction {Transactions} MessageCenter {Messages} Limits {Limits} Payment\\n      {Payments} AccountStatement {Account Statement} Contact {Contact} PFM {Saving Goals} FinancialInsights {Financial\\n      Insights} }\\n    </span>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i0.forwardRef(function () { return i1.IconComponent; }), selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }], directives: [{ type: i0.forwardRef(function () { return NotificationsCapabilityIconCustomizableDirective; }), selector: \"[bbNotificationsCapabilityIconCustomizable]\" }, { type: i0.forwardRef(function () { return i2.NgIf; }), selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCapabilityIconComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-notifications-capability-icon',\n                    templateUrl: './notifications-capability-icon.component.html',\n                }]\n        }], propDecorators: { origin: [{\n                type: Input\n            }] } });\nclass NotificationsCapabilityIconCustomizableDirective extends BbTemplate {\n}\n/** @nocollapse */ NotificationsCapabilityIconCustomizableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCapabilityIconCustomizableDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ NotificationsCapabilityIconCustomizableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: NotificationsCapabilityIconCustomizableDirective, selector: \"[bbNotificationsCapabilityIconCustomizable]\", usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCapabilityIconCustomizableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbNotificationsCapabilityIconCustomizable]',\n                }]\n        }] });\n\n/**\n * Check if element is truncated with overflow:ellipsis\n */\nfunction isElementContentTruncated({ offsetHeight, scrollHeight }) {\n    return offsetHeight < scrollHeight;\n}\n\nclass IsElementContentTruncatedDirective {\n    constructor(elementRef, cd) {\n        this.elementRef = elementRef;\n        this.cd = cd;\n    }\n    ngAfterViewInit() {\n        setTimeout(() => {\n            this.setIsContentTruncatedInParentComponent();\n        });\n    }\n    setIsContentTruncatedInParentComponent() {\n        const isContentTruncated = isElementContentTruncated(this.elementRef.nativeElement);\n        this.hostRef.setIsContentTruncated(isContentTruncated);\n        this.cd.markForCheck();\n    }\n}\n/** @nocollapse */ IsElementContentTruncatedDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: IsElementContentTruncatedDirective, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ IsElementContentTruncatedDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: IsElementContentTruncatedDirective, selector: \"[bbIsElementContentTruncated]\", inputs: { hostRef: \"hostRef\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: IsElementContentTruncatedDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbIsElementContentTruncated]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { hostRef: [{\n                type: Input\n            }] } });\n\nconst pipes = [NotificationLocalizationPipe, InterpolateLinkPipe];\nconst components = [NotificationsCapabilityIconComponent];\nconst directives = [NotificationsCapabilityIconCustomizableDirective, IsElementContentTruncatedDirective];\nconst uiModules = [IconModule];\nclass NotificationsCommonModule {\n}\n/** @nocollapse */ NotificationsCommonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCommonModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ NotificationsCommonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCommonModule, declarations: [NotificationLocalizationPipe, InterpolateLinkPipe, NotificationsCapabilityIconComponent, NotificationsCapabilityIconCustomizableDirective, IsElementContentTruncatedDirective], imports: [CommonModule, IconModule], exports: [NotificationLocalizationPipe, InterpolateLinkPipe, NotificationsCapabilityIconComponent, NotificationsCapabilityIconCustomizableDirective, IsElementContentTruncatedDirective, IconModule] });\n/** @nocollapse */ NotificationsCommonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCommonModule, imports: [[CommonModule, ...uiModules], IconModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: NotificationsCommonModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ...uiModules],\n                    declarations: [...pipes, ...components, ...directives],\n                    exports: [...pipes, ...components, ...directives, ...uiModules],\n                }]\n        }] });\n\nconst NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT = 'bb.event.notifications-badge.force-update';\nconst NOTIFICATIONS_CREATE_LOCAL_EVENT = 'bb.event.notifications-popups.notify';\n\nconst getPropertyValue = (input, prop) => combineLatest([input, prop]).pipe(map(([inputVal, propVal]) => (inputVal !== undefined ? inputVal : propVal)));\n\nfunction propertiesListToArray() {\n    return source$ => source$.pipe(map(properties => properties.replace(/\\s/g, '').split(',')), map(properties => properties.filter(Boolean)));\n}\nconst shareReplayOnce = () => function (source) {\n    // use refCount: true to prevent memory leaks issue with shareReplay\n    return source.pipe(shareReplay({ refCount: true, bufferSize: 1 }));\n};\n\nconst modelItemToBoolean = (value) => {\n    if (typeof value === 'boolean') {\n        return value;\n    }\n    return value.trim() === 'true';\n};\nconst modelItemToArray = (value) => value.replace(/\\s/g, '').split(',');\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n\nconst DefaultBaseWidgetProperties = {\n    allowedRoutes: [],\n    origins: [],\n    severityLevels: [],\n};\nclass BaseWidgetPropertiesService {\n    constructor(itemModel) {\n        this.itemModel = itemModel;\n        this.allowedRoutes$$ = new BehaviorSubject(undefined);\n        this.origins$$ = new BehaviorSubject(undefined);\n        this.severityLevels$$ = new BehaviorSubject(undefined);\n        this.allowedRoutes$ = getPropertyValue(this.allowedRoutes$$, this.allowedRoutes);\n        this.origins$ = getPropertyValue(this.origins$$, this.origins);\n        this.severityLevels$ = getPropertyValue(this.severityLevels$$, this.severityLevels);\n    }\n    get allowedRoutes() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultBaseWidgetProperties.allowedRoutes);\n        }\n        return this.itemModel.property('allowedRoutes', '').pipe(first(), propertiesListToArray());\n    }\n    get origins() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultBaseWidgetProperties.origins);\n        }\n        return this.itemModel.property('origins', '').pipe(propertiesListToArray());\n    }\n    get severityLevels() {\n        if (!this.itemModel) {\n            return this.defaultModelObservable(DefaultBaseWidgetProperties.severityLevels);\n        }\n        return this.itemModel.property('severityLevels', '').pipe(propertiesListToArray());\n    }\n    setAllowedRoutes(value) {\n        this.allowedRoutes$$.next(modelItemToArray(value));\n    }\n    setOrigins(value) {\n        this.origins$$.next(modelItemToArray(value));\n    }\n    setSeverityLevels(value) {\n        this.severityLevels$$.next(modelItemToArray(value));\n    }\n    defaultModelObservable(value) {\n        return defer(() => of(value)).pipe(publishReplay(1), refCount());\n    }\n}\n/** @nocollapse */ BaseWidgetPropertiesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseWidgetPropertiesService, deps: [{ token: i1$1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ BaseWidgetPropertiesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseWidgetPropertiesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: BaseWidgetPropertiesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.ItemModel, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nfunction toISOExtendedFormat(value) {\n    // eslint-disable-next-line max-len\n    // The date's format `2020-04-09T10:55:03.576+0000` from BE doesn't support in IE, Safari. Prevent `Invalid Date` result\n    const offsetSign = value.slice(-5, -4);\n    return offsetSign === '+' || '-' === offsetSign ? `${value.slice(0, -2)}:${value.slice(-2)}` : value;\n}\n\nclass LeaveZoneScheduler {\n    constructor(zone, scheduler) {\n        this.zone = zone;\n        this.scheduler = scheduler;\n    }\n    schedule(...args) {\n        // eslint-disable-next-line prefer-spread\n        return this.zone.runOutsideAngular(() => this.scheduler.schedule.apply(this.scheduler, args));\n    }\n    now() {\n        return this.scheduler.now();\n    }\n}\nclass EnterZoneScheduler {\n    constructor(zone, scheduler) {\n        this.zone = zone;\n        this.scheduler = scheduler;\n    }\n    schedule(...args) {\n        // eslint-disable-next-line prefer-spread\n        return this.zone.run(() => this.scheduler.schedule.apply(this.scheduler, args));\n    }\n    now() {\n        return this.scheduler.now();\n    }\n}\nfunction leaveZone(zone, scheduler) {\n    return new LeaveZoneScheduler(zone, scheduler);\n}\nfunction enterZone(zone, scheduler) {\n    return new EnterZoneScheduler(zone, scheduler);\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BaseWidgetPropertiesService, NOTIFICATIONS_BADGE_FORCE_UPDATE_EVENT, NOTIFICATIONS_CREATE_LOCAL_EVENT, NotificationOrigins, NotificationsCapabilityIconComponent, NotificationsCapabilityIconCustomizableDirective, NotificationsCommonModule, enterZone, getPropertyValue, isElementContentTruncated, leaveZone, modelItemToArray, modelItemToBoolean, propertiesListToArray, secondsToMilliseconds, shareReplayOnce, toISOExtendedFormat, InterpolateLinkPipe as ӨInterpolateLinkPipe, IsElementContentTruncatedDirective as ӨIsElementContentTruncatedDirective, NotificationLocalizationPipe as ӨNotificationLocalizationPipe };\n"]},"metadata":{},"sourceType":"module"}