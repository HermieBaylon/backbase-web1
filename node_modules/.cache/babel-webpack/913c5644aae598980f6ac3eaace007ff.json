{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, Output, Input, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { debounceTime, map, filter, takeUntil } from 'rxjs/operators';\n/**\n * @name InfiniteScrollComponent\n *\n * @description\n * Component that displays an infinite scroll.\n */\n\nconst _c0 = [\"*\"];\n\nclass InfiniteScrollComponent {\n  constructor(elRef) {\n    this.elRef = elRef;\n    /**\n     * Event that will be triggered when user has scrolled to\n     * bottom of the element\n     */\n\n    this.scrollEnd = new EventEmitter();\n    /**\n     * An offset from the bottom of the element to trigger\n     * `scrollEnd` event\n     */\n\n    this.offset = 0;\n    /**\n     * Specify debounce duration in ms\n     */\n\n    this.debounce = 100;\n    /**\n     * If true then `scrollEnd` event should NOT be emitted\n     */\n\n    this.disableScrollEnd = false;\n    /**\n     * Emits a new value on element scroll event\n     */\n\n    this.scroll$ = new Subject();\n    /**\n     * Completes on component destroy lifecycle event\n     * used to unsubscribe from infinite observables\n     */\n\n    this.ngUnsubscribe$ = new Subject();\n  }\n  /**\n   * Subscribe to `scroll$` observable and emit `scrollEnd` event\n   * when element scroll position is at the end of the element\n   */\n\n\n  ngAfterViewInit() {\n    this.scroll$.pipe(debounceTime(this.debounce), map(scroll => {\n      const y = scroll.y + this.offset;\n      return {\n        y,\n        height: scroll.height\n      };\n    }), filter(() => !this.disableScrollEnd), filter(scroll => scroll.y >= scroll.height), takeUntil(this.ngUnsubscribe$)).subscribe(() => this.scrollEnd.emit());\n  }\n\n  onScroll(scrollTop, scrollheight, offsetHeight) {\n    const height = scrollheight;\n    const y = scrollTop + offsetHeight;\n    this.scroll$.next({\n      y,\n      height\n    });\n  }\n\n  onMouseOver(evTarget) {\n    const hasScroll = this.elRef.nativeElement.scrollHeight > this.elRef.nativeElement.clientHeight;\n    const firstElementChild = this.elRef.nativeElement.firstElementChild;\n    const lastElementChild = firstElementChild && firstElementChild.lastElementChild;\n    const isLastElement = evTarget && (lastElementChild === evTarget.parentElement || lastElementChild === evTarget);\n\n    if (!this.disableScrollEnd && !hasScroll && isLastElement) {\n      this.scroll$.next({\n        height: 0,\n        y: 0\n      });\n    }\n  }\n  /**\n   * trigger `ngUnsubscribe` complete on\n   * component destroy lifecycle hook\n   */\n\n\n  ngOnDestroy() {\n    this.ngUnsubscribe$.next();\n    this.ngUnsubscribe$.complete();\n  }\n\n}\n\nInfiniteScrollComponent.ɵfac = function InfiniteScrollComponent_Factory(t) {\n  return new (t || InfiniteScrollComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nInfiniteScrollComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: InfiniteScrollComponent,\n  selectors: [[\"bb-infinite-scroll-ui\"]],\n  hostBindings: function InfiniteScrollComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"scroll\", function InfiniteScrollComponent_scroll_HostBindingHandler($event) {\n        return ctx.onScroll($event.target.scrollTop, $event.target.scrollHeight, $event.target.offsetHeight);\n      })(\"mouseover\", function InfiniteScrollComponent_mouseover_HostBindingHandler($event) {\n        return ctx.onMouseOver($event.target);\n      })(\"touchmove\", function InfiniteScrollComponent_touchmove_HostBindingHandler() {\n        return ctx.onMouseOver();\n      });\n    }\n  },\n  inputs: {\n    offset: \"offset\",\n    debounce: \"debounce\",\n    disableScrollEnd: \"disableScrollEnd\"\n  },\n  outputs: {\n    scrollEnd: \"scrollEnd\"\n  },\n  ngContentSelectors: _c0,\n  decls: 1,\n  vars: 0,\n  template: function InfiniteScrollComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InfiniteScrollComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-infinite-scroll-ui',\n      templateUrl: './infinite-scroll.component.html'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    scrollEnd: [{\n      type: Output\n    }],\n    offset: [{\n      type: Input\n    }],\n    debounce: [{\n      type: Input\n    }],\n    disableScrollEnd: [{\n      type: Input\n    }],\n    onScroll: [{\n      type: HostListener,\n      args: ['scroll', ['$event.target.scrollTop', '$event.target.scrollHeight', '$event.target.offsetHeight']]\n    }],\n    onMouseOver: [{\n      type: HostListener,\n      args: ['mouseover', ['$event.target']]\n    }, {\n      type: HostListener,\n      args: ['touchmove']\n    }]\n  });\n})();\n\nclass InfiniteScrollModule {}\n\nInfiniteScrollModule.ɵfac = function InfiniteScrollModule_Factory(t) {\n  return new (t || InfiniteScrollModule)();\n};\n\nInfiniteScrollModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: InfiniteScrollModule\n});\nInfiniteScrollModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InfiniteScrollModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [InfiniteScrollComponent],\n      exports: [InfiniteScrollComponent]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { InfiniteScrollComponent, InfiniteScrollModule };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/ui-ang/fesm2015/backbase-ui-ang-infinite-scroll.js"],"names":["i0","EventEmitter","Component","Output","Input","HostListener","NgModule","CommonModule","Subject","debounceTime","map","filter","takeUntil","InfiniteScrollComponent","constructor","elRef","scrollEnd","offset","debounce","disableScrollEnd","scroll$","ngUnsubscribe$","ngAfterViewInit","pipe","scroll","y","height","subscribe","emit","onScroll","scrollTop","scrollheight","offsetHeight","next","onMouseOver","evTarget","hasScroll","nativeElement","scrollHeight","clientHeight","firstElementChild","lastElementChild","isLastElement","parentElement","ngOnDestroy","complete","ɵfac","ElementRef","ɵcmp","type","args","selector","templateUrl","InfiniteScrollModule","ɵmod","ɵinj","imports","declarations","exports"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, Output, Input, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { debounceTime, map, filter, takeUntil } from 'rxjs/operators';\n\n/**\n * @name InfiniteScrollComponent\n *\n * @description\n * Component that displays an infinite scroll.\n */\nclass InfiniteScrollComponent {\n    constructor(elRef) {\n        this.elRef = elRef;\n        /**\n         * Event that will be triggered when user has scrolled to\n         * bottom of the element\n         */\n        this.scrollEnd = new EventEmitter();\n        /**\n         * An offset from the bottom of the element to trigger\n         * `scrollEnd` event\n         */\n        this.offset = 0;\n        /**\n         * Specify debounce duration in ms\n         */\n        this.debounce = 100;\n        /**\n         * If true then `scrollEnd` event should NOT be emitted\n         */\n        this.disableScrollEnd = false;\n        /**\n         * Emits a new value on element scroll event\n         */\n        this.scroll$ = new Subject();\n        /**\n         * Completes on component destroy lifecycle event\n         * used to unsubscribe from infinite observables\n         */\n        this.ngUnsubscribe$ = new Subject();\n    }\n    /**\n     * Subscribe to `scroll$` observable and emit `scrollEnd` event\n     * when element scroll position is at the end of the element\n     */\n    ngAfterViewInit() {\n        this.scroll$\n            .pipe(debounceTime(this.debounce), map((scroll) => {\n            const y = scroll.y + this.offset;\n            return { y, height: scroll.height };\n        }), filter(() => !this.disableScrollEnd), filter((scroll) => scroll.y >= scroll.height), takeUntil(this.ngUnsubscribe$))\n            .subscribe(() => this.scrollEnd.emit());\n    }\n    onScroll(scrollTop, scrollheight, offsetHeight) {\n        const height = scrollheight;\n        const y = scrollTop + offsetHeight;\n        this.scroll$.next({ y, height });\n    }\n    onMouseOver(evTarget) {\n        const hasScroll = this.elRef.nativeElement.scrollHeight > this.elRef.nativeElement.clientHeight;\n        const firstElementChild = this.elRef.nativeElement.firstElementChild;\n        const lastElementChild = firstElementChild && firstElementChild.lastElementChild;\n        const isLastElement = evTarget && (lastElementChild === evTarget.parentElement || lastElementChild === evTarget);\n        if (!this.disableScrollEnd && !hasScroll && isLastElement) {\n            this.scroll$.next({ height: 0, y: 0 });\n        }\n    }\n    /**\n     * trigger `ngUnsubscribe` complete on\n     * component destroy lifecycle hook\n     */\n    ngOnDestroy() {\n        this.ngUnsubscribe$.next();\n        this.ngUnsubscribe$.complete();\n    }\n}\nInfiniteScrollComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nInfiniteScrollComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: InfiniteScrollComponent, selector: \"bb-infinite-scroll-ui\", inputs: { offset: \"offset\", debounce: \"debounce\", disableScrollEnd: \"disableScrollEnd\" }, outputs: { scrollEnd: \"scrollEnd\" }, host: { listeners: { \"scroll\": \"onScroll($event.target.scrollTop,$event.target.scrollHeight,$event.target.offsetHeight)\", \"mouseover\": \"onMouseOver($event.target)\", \"touchmove\": \"onMouseOver()\" } }, ngImport: i0, template: \"<ng-content></ng-content>\\n\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-infinite-scroll-ui',\n                    templateUrl: './infinite-scroll.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { scrollEnd: [{\n                type: Output\n            }], offset: [{\n                type: Input\n            }], debounce: [{\n                type: Input\n            }], disableScrollEnd: [{\n                type: Input\n            }], onScroll: [{\n                type: HostListener,\n                args: ['scroll', ['$event.target.scrollTop', '$event.target.scrollHeight', '$event.target.offsetHeight']]\n            }], onMouseOver: [{\n                type: HostListener,\n                args: ['mouseover', ['$event.target']]\n            }, {\n                type: HostListener,\n                args: ['touchmove']\n            }] } });\n\nclass InfiniteScrollModule {\n}\nInfiniteScrollModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nInfiniteScrollModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollModule, declarations: [InfiniteScrollComponent], imports: [CommonModule], exports: [InfiniteScrollComponent] });\nInfiniteScrollModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: InfiniteScrollModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [InfiniteScrollComponent],\n                    exports: [InfiniteScrollComponent],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { InfiniteScrollComponent, InfiniteScrollModule };\n"]},"metadata":{},"sourceType":"module"}