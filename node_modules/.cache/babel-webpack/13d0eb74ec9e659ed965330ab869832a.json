{"ast":null,"code":"import * as i1$2 from '@angular/router';\nimport { provideRoutes, RouterModule } from '@angular/router';\nimport * as i3 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Directive, Component, ChangeDetectionStrategy, Input, EventEmitter, Output, NgModule } from '@angular/core';\nimport { CONDITIONS, EntitlementsModule } from '@backbase/foundation-ang/entitlements';\nimport * as i1$1 from '@backbase/loans-collection-ui-ang';\nimport { LoanDefaultViewType, LoanInfoItemType, LoanInfoDocumentsSectionComponent, LoanInfoTermItemComponent, LoanInfoCollateralSectionComponent, LoanInfoEscrowSectionComponent, LoanInfoComponent, getLoanAlias, LoanSummaryFormulaViewType, LoanPaymentInfoType, PaymentOptions, DestroyableComponent, LoanInfoPrintButtonModule, LoanItemNameModule, LoanInfoItemModule, LoansHeadingModule, LoansCollectionUiAngModule } from '@backbase/loans-collection-ui-ang';\nimport { AccountStatementBusinessWidgetModule } from '@backbase/account-statement-business-widget-ang';\nimport '@angular/localize/init';\nimport { PaginationType as PaginationType$1 } from '@backbase/account-statement-common-ang';\nimport { PaginationType } from '@backbase/transactions-common-ang';\nimport { map, pluck, filter, takeUntil, catchError, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport * as i1 from '@ngrx/store';\nimport { createAction, props, createReducer, on, createFeatureSelector, createSelector, StoreModule } from '@ngrx/store';\nimport { InputInlineEditState } from '@backbase/ui-ang/input-inline-edit';\nimport * as i2 from '@backbase/ui-ang/header';\nimport * as i5 from '@backbase/product-summary-common-ang';\nimport { AccountAliasDisplayingLevel, ACCOUNT_ALIAS_DISPLAYING_LEVEL } from '@backbase/product-summary-common-ang';\nimport BigNumber from 'bignumber.js';\nimport * as i2$1 from '@backbase/remote-config-ang';\nimport * as i2$2 from '@backbase/transactions-list-widget-ang';\nimport { TransactionsListWidgetModule } from '@backbase/transactions-list-widget-ang';\nimport { combineLatest, of } from 'rxjs';\nimport * as i3$1 from '@backbase/ui-ang/media-query-lib';\nimport * as i7 from '@backbase/ui-ang/load-button';\nimport * as i8 from '@backbase/ui-ang/empty-state';\nimport * as i5$1 from '@backbase/ui-ang/modal';\nimport * as i1$3 from '@backbase/ui-ang/icon';\nimport * as i2$3 from '@backbase/ui-ang/button';\nimport * as i1$6 from '@ngrx/effects';\nimport { createEffect, ofType, EffectsModule } from '@ngrx/effects';\nimport * as i5$2 from '@backbase/ui-ang/notification';\nimport * as i1$4 from '@backbase/data-ang/arrangements';\nimport * as i1$5 from '@backbase/data-ang/loans';\nimport { setLoan } from '@backbase/loans-payment-config-ang';\n/** Enum represents different possible loading states of ajax call */\n\nfunction LoanInfoRetailComponent_section_5_div_3_ng_container_1_bb_loan_info_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loan-info-item\", 13);\n  }\n\n  if (rf & 2) {\n    const dataItem_r8 = ctx.ngIf;\n    const ctx_r7 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"value\", ctx_r7.loan[dataItem_r8.fieldKey])(\"title\", dataItem_r8.title)(\"type\", dataItem_r8.fieldType)(\"currencyCode\", ctx_r7.loan.currencyCode)(\"isCurrencySymbolUsed\", !!ctx_r7.isCurrencySymbolUsed);\n  }\n}\n\nfunction LoanInfoRetailComponent_section_5_div_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, LoanInfoRetailComponent_section_5_div_3_ng_container_1_bb_loan_info_item_1_Template, 1, 5, \"bb-loan-info-item\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.getTypedDataItem(item_r3));\n  }\n}\n\nfunction LoanInfoRetailComponent_section_5_div_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 14);\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"componentRef\", ctx_r6.getItemComponentRef(item_r3))(\"loan\", ctx_r6.loan);\n  }\n}\n\nfunction LoanInfoRetailComponent_section_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, LoanInfoRetailComponent_section_5_div_3_ng_container_1_Template, 2, 1, \"ng-container\", 10);\n    i0.ɵɵtemplate(2, LoanInfoRetailComponent_section_5_div_3_ng_template_2_Template, 1, 2, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n\n    const _r5 = i0.ɵɵreference(3);\n\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", item_r3.cssClasses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.getTypedDataItem(item_r3).fieldKey)(\"ngIfElse\", _r5);\n  }\n}\n\nfunction LoanInfoRetailComponent_section_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 5);\n    i0.ɵɵelement(1, \"bb-header-ui\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵtemplate(3, LoanInfoRetailComponent_section_5_div_3_Template, 4, 3, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const section_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"heading\", section_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", section_r1.items);\n  }\n}\n\nfunction LoanInfoWrapperComponent_bb_loan_info_retail_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loan-info-retail\", 2);\n  }\n\n  if (rf & 2) {\n    const loan_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"loan\", loan_r1)(\"dataConfig\", ctx_r0.getDataConfig(loan_r1))(\"isCurrencySymbolUsed\", true);\n  }\n}\n\nfunction LoanSummaryComponent_bb_retail_loan_summary_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-retail-loan-summary-container\", 2);\n    i0.ɵɵlistener(\"updateAlias\", function LoanSummaryComponent_bb_retail_loan_summary_container_3_Template_bb_retail_loan_summary_container_updateAlias_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onUpdateAlias($event);\n    })(\"cancelAliasUpdate\", function LoanSummaryComponent_bb_retail_loan_summary_container_3_Template_bb_retail_loan_summary_container_cancelAliasUpdate_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onCancelAliasUpdate();\n    })(\"drawAmount\", function LoanSummaryComponent_bb_retail_loan_summary_container_3_Template_bb_retail_loan_summary_container_drawAmount_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onDrawAmount();\n    })(\"payDown\", function LoanSummaryComponent_bb_retail_loan_summary_container_3_Template_bb_retail_loan_summary_container_payDown_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onPayDown();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const loan_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"loan\", loan_r1)(\"dataConfig\", ctx_r0.getDataConfig(loan_r1))(\"showPayDownButton\", ctx_r0.getAllowedPaymentOption(ctx_r0.PaymentOptions.LoanPayment, loan_r1.paymentOptions))(\"showDrawAmountButton\", ctx_r0.getAllowedPaymentOption(ctx_r0.PaymentOptions.LoanAdvance, loan_r1.paymentOptions))(\"showFormula\", false)(\"showInterestRateOnTop\", loan_r1.loanType === ctx_r0.LoanDefaultViewType.Mortgage)(\"owedAmountFocus\", ctx_r0.owedAmountFocus);\n  }\n}\n\nfunction LoanDetailsWrapperComponent_bb_loan_summary_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loan-summary\", 10);\n  }\n\n  if (rf & 2) {\n    const accountId_r1 = ctx.ngIf;\n    i0.ɵɵproperty(\"loanId\", accountId_r1);\n  }\n}\n\nfunction PaymentScheduleWrapperComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"bb-loan-amortized-payment-schedule-list\", 7);\n    i0.ɵɵlistener(\"selectItem\", function PaymentScheduleWrapperComponent_ng_container_6_Template_bb_loan_amortized_payment_schedule_list_selectItem_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onItemSelect($event);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(2, 1, ctx_r0.amortizedPayments$));\n  }\n}\n\nfunction PaymentScheduleWrapperComponent_bb_load_button_ui_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-load-button-ui\", 8);\n    i0.ɵɵlistener(\"paramChange\", function PaymentScheduleWrapperComponent_bb_load_button_ui_8_Template_bb_load_button_ui_paramChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.onLoadMore($event);\n    });\n    i0.ɵɵi18n(1, 9);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"from\", i0.ɵɵpipeBind1(2, 4, ctx_r1.amortizedPaymentsCurrentPage$))(\"size\", ctx_r1.scheduleConfig.itemsPerPage)(\"totalCount\", i0.ɵɵpipeBind1(3, 6, ctx_r1.amortizedPaymentsTotalCount$))(\"isLoading\", i0.ɵɵpipeBind1(4, 8, ctx_r1.isButtonLoading$));\n  }\n}\n\nfunction PaymentScheduleWrapperComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-loan-amortized-payment-schedule-table\", 10);\n    i0.ɵɵlistener(\"selectItem\", function PaymentScheduleWrapperComponent_ng_template_10_Template_bb_loan_amortized_payment_schedule_table_selectItem_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onItemSelect($event);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(1, 2, ctx_r3.amortizedPayments$))(\"showPaymentStatus\", ctx_r3.showPaymentStatus);\n  }\n}\n\nfunction PaymentScheduleWrapperComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"bb-empty-state-ui\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentScheduleDetailsWrapperComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-payment-schedule-details-modal-header\", 3);\n    i0.ɵɵlistener(\"closeModal\", function PaymentScheduleDetailsWrapperComponent_ng_template_2_Template_bb_payment_schedule_details_modal_header_closeModal_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onCloseModal();\n    })(\"printModal\", function PaymentScheduleDetailsWrapperComponent_ng_template_2_Template_bb_payment_schedule_details_modal_header_printModal_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onPrint();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentScheduleDetailsWrapperComponent_ng_template_4_bb_loan_amortized_payment_schedule_details_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loan-amortized-payment-schedule-details\", 6);\n    i0.ɵɵpipe(1, \"async\");\n  }\n\n  if (rf & 2) {\n    const amortizedPayment_r6 = ctx.ngIf;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"amortizationPayment\", amortizedPayment_r6)(\"loan\", i0.ɵɵpipeBind1(1, 4, ctx_r5.loan$))(\"id\", ctx_r5.modalOptions.ariaDescribedBy)(\"showStatus\", ctx_r5.showPaymentStatus);\n  }\n}\n\nfunction PaymentScheduleDetailsWrapperComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"bb-loans-main-container\", 4);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, PaymentScheduleDetailsWrapperComponent_ng_template_4_bb_loan_amortized_payment_schedule_details_3_Template, 2, 6, \"bb-loan-amortized-payment-schedule-details\", 5);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isLoadingState\", i0.ɵɵpipeBind1(1, 4, ctx_r1.isLoading$))(\"isErrorState\", i0.ɵɵpipeBind1(2, 6, ctx_r1.isErrorState$))(\"containerHeightFitToContent\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 8, ctx_r1.amortizedPayment$));\n  }\n}\n\nvar LoadingState;\n\n(function (LoadingState) {\n  LoadingState[\"Init\"] = \"Init\";\n  LoadingState[\"Loading\"] = \"Loading\";\n  LoadingState[\"Loaded\"] = \"Loaded\";\n})(LoadingState || (LoadingState = {}));\n\nconst loansConfigurationDefault = {\n  transaction: {\n    showCheckImages: true,\n    showChangeCategory: true,\n    showManageNotes: true,\n    showControls: true,\n    paginationType: PaginationType.PAGINATION,\n    itemsPerPage: 10,\n    maxNavPages: 3,\n    enableDisputeAndInquiry: true,\n    disputeEligibilityDays: 120,\n    disputeTransactionTypes: 'Credit/Debit Card',\n    disputeByBillingStatus: true,\n    disputeTopicId: '',\n    inquireTopicId: ''\n  },\n  accountStatement: {\n    notificationDismissTime: 5,\n    itemsPerPage: 10,\n    paginationType: PaginationType$1.Pagination,\n    sortingOrder: 'date',\n    sortingDirection: 'DESC'\n  },\n  loanTypeMapping: {\n    LineOfCredit: {\n      viewType: LoanDefaultViewType.LineOfCredit,\n      typeAlias: $localize`:Loan line of credit loan type alias@@loans.type.line-of-credit.alias:Line Of Credit`\n    },\n    Mortgage: {\n      viewType: LoanDefaultViewType.Mortgage,\n      typeAlias: $localize`:Loan mortgage loan type alias@@loans.type.mortgage.alias:Mortgage Loan`\n    },\n    TermLoan: {\n      viewType: LoanDefaultViewType.TermLoan,\n      typeAlias: $localize`:Loan term loan type alias@@loans.type.term.alias:Term Loan`\n    }\n  },\n  loansList: {\n    itemsPerPage: 10,\n    maxNavPages: 3\n  },\n  paymentSchedule: {\n    itemsPerPage: 10,\n    maxNavPages: 3\n  }\n};\nconst LoansJourneyConfigurationToken = new InjectionToken('LoansJourneyConfiguration injection token');\n/**\n * @dynamic\n */\n\nclass LoansJourneyConfigurationService {\n  constructor(config) {\n    this.configuration = Object.assign(Object.assign({}, loansConfigurationDefault), config);\n  }\n\n  get transactionConfig() {\n    return this.configuration.transaction;\n  }\n\n  get accountStatementConfig() {\n    return this.configuration.accountStatement;\n  }\n\n  get loanTypeMapping() {\n    return this.configuration.loanTypeMapping;\n  }\n\n  get loanList() {\n    return this.configuration.loansList;\n  }\n\n  get paymentSchedule() {\n    return this.configuration.paymentSchedule;\n  }\n\n}\n/** @nocollapse */\n\n\nLoansJourneyConfigurationService.ɵfac = function LoansJourneyConfigurationService_Factory(t) {\n  return new (t || LoansJourneyConfigurationService)(i0.ɵɵinject(LoansJourneyConfigurationToken, 8));\n};\n/** @nocollapse */\n\n\nLoansJourneyConfigurationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoansJourneyConfigurationService,\n  factory: LoansJourneyConfigurationService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansJourneyConfigurationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [LoansJourneyConfigurationToken]\n      }]\n    }];\n  }, null);\n})();\n\nconst titles = {\n  sections: {\n    general: $localize`:Loan info general section title@@loans.loan-info.section.general.title:General`,\n    status: $localize`:Loan info status section title@@loans.loan-info.section.status.title:Status`,\n    financialDetails: $localize`:Loan info financial details section title@@loans.loan-info.section.financial-details.title:Financial details`,\n    documents: $localize`:Loan info documents section title@@loans.loan-info.section.documents.title:Documents`,\n    collateral: $localize`:Loan info collateral section title@@loans.loan-info.section.collateral.title:Collateral`,\n    escrow: $localize`:Loan info escrow section title@@loans.loan-info.section.escrow.title:Amount set aside for escrow`\n  },\n  items: {\n    name: $localize`:Loan info name item title@@loans.loan-info.item.name.title:Product name`,\n    contractNumber: $localize`:Loan info contract number item title@@loans.loan-info.item.contract-number.title:Contract number`,\n    branchCode: $localize`:Loan info branch code item title@@loans.loan-info.item.branch-code.title:Branch code`,\n    currency: $localize`:Loan info branch currency item title@@loans.loan-info.item.currency.title:Currency`,\n    defaultSettlementAccountName: $localize`:Loan info branch default settlement account name item title@@loans.loan-info.item.default-settlement-account-name.title:Default settlement account name`,\n    defaultSettlementAccountNumber: $localize`:Loan info branch default settlement account number item title@@loans.loan-info.item.default-settlement-account-number.title:Default settlement account number`,\n    startDate: $localize`:Loan info start date item title@@loans.loan-info.item.start-date.title:Start date`,\n    maturityDate: $localize`:Loan info maturity date item title@@loans.loan-info.item.maturity-date.title:Maturity date`,\n    type: $localize`:Loan info type item title@@loans.loan-info.item.type.title:Type`,\n    accountNumber: $localize`:Loan info account number item title@@loans.loan-info.item.account-number.title:Account number`,\n    borrowers: $localize`:Loan info borrowers item title@@loans.loan-info.item.borrowers.title:Borrower/s`,\n    status: $localize`:Loan info status item title@@loans.loan-info.item.status.title:Loan status`,\n    creditLimit: $localize`:Loan info credit limit item title@@loans.loan-info.item.credit-limit.title:Credit limit`,\n    drawnAmount: $localize`:Loan info drawn amount item title@@loans.loan-info.item.drawn-amount.title:Drawn amount`,\n    endDate: $localize`:Loan info end date item title@@loans.loan-info.item.end-date.title:End date`,\n    availableBalance: $localize`:Loan info available balance item title@@loans.loan-info.item.available-balance.title:Available balance`,\n    availableAmount: $localize`:Loan info available amount item title@@loans.loan-info.item.available-amount.title:Available amount`,\n    outstandingAmount: $localize`:Loan info outstanding amount item title@@loans.loan-info.item.outstanding-amount.title:Outstanding amount`,\n    paidAmount: $localize`:Loan info paid amount item title@@loans.loan-info.item.paid-amount.title:Paid amount`,\n    owedAmount: $localize`:Loan info owed amount item title@@loans.loan-info.item.owed-amount.title:Owed amount`,\n    feesDue: $localize`:Loan info fees due item title@@loans.loan-info.item.fees-due.title:Fees due`,\n    interestDue: $localize`:Loan info interest due title@@loans.loan-info.interest-due.title:Interest due`,\n    interestRate: $localize`:Loan info interest rate item title@@loans.loan-info.item.interest-rate.title:Interest rate`,\n    overdueAmount: $localize`:Loan info overdue amount item title@@loans.loan-info.item.overdue-amount.title:Overdue amount`,\n    accruedInterestAmount: $localize`:Loan info accrued interest amount item title@@loans.loan-info.item.accrued-interest-amount.title:Accrued interest amount`,\n    originalPrincipal: $localize`:Loan info original principal title@@loans.loan-info.original-principal.title:Original principal`,\n    remainingPrincipal: $localize`:Loan info remaining principal title@@loans.loan-info.remaining-principal.title:Remaining principal`,\n    amountRepaid: $localize`:Loan info amount repaid title@@loans.loan-info.amount-repaid.title:Amount repaid`,\n    totalOutstandingAmount: $localize`:Loan info total outstanding amount title@@loans.loan-info.total-outstanding-amount.title:Total outstanding amount`,\n    principalPaymentFrequency: $localize`:Loan info principal payment frequency title@@loans.loan-info.principal-payment-frequency.title:Principal payment frequency`,\n    interestPaymentFrequency: $localize`:Loan info interest payment frequency title@@loans.loan-info.interest-payment-frequency.title:Interest payment frequency`\n  }\n};\n\nconst showAmountItem = amountKey => loan => Boolean(loan.currencyCode && loan[amountKey]);\n\nconst showCollaterals = item => {\n  var _a;\n\n  return Boolean((_a = item.collateral) === null || _a === void 0 ? void 0 : _a.some(collateralItem => Object.values(collateralItem).some(Boolean)));\n};\n\nconst showBorrowers = item => {\n  var _a;\n\n  return Boolean((_a = item.borrower) === null || _a === void 0 ? void 0 : _a.length);\n};\n\nconst showDocuments = item => {\n  var _a;\n\n  return Boolean((_a = item.documents) === null || _a === void 0 ? void 0 : _a.some(({\n    documentId\n  }) => documentId));\n};\n\nconst showTerm = item => Boolean(item.termUnit && item.termCount);\n\nconst showDefaultSettlementAccountName = item => Boolean(item.defaultSettlementAccountName && item.defaultSettlementAccountNumber);\n\nconst showEscrowSection = item => Boolean(item.currencyCode && item.escrow && Object.values(item.escrow).some(Boolean));\n\nconst cssClasses = 'col-sm-6 col-12';\nconst generalSection = {\n  title: titles.sections.general,\n  items: [{\n    cssClasses,\n    title: titles.items.name,\n    fieldKey: 'name',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.type,\n    fieldKey: 'loanTypeAlias',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.contractNumber,\n    fieldKey: 'contractNumber',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.accountNumber,\n    fieldKey: 'accountNumber',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.branchCode,\n    fieldKey: 'branchCode',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.currency,\n    fieldKey: 'currencyCode',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.defaultSettlementAccountName,\n    fieldKey: 'defaultSettlementAccountName',\n    fieldType: LoanInfoItemType.String,\n    showItem: showDefaultSettlementAccountName\n  }, {\n    cssClasses,\n    title: titles.items.defaultSettlementAccountNumber,\n    fieldKey: 'defaultSettlementAccountNumber',\n    fieldType: LoanInfoItemType.String\n  }, {\n    cssClasses,\n    title: titles.items.borrowers,\n    fieldKey: 'borrower',\n    fieldType: LoanInfoItemType.StringArray,\n    showItem: showBorrowers\n  }]\n};\nconst statusSectionBaseItems = [{\n  cssClasses,\n  title: titles.items.status,\n  fieldKey: 'loanStatus',\n  fieldType: LoanInfoItemType.String\n}, {\n  cssClasses,\n  title: titles.items.startDate,\n  fieldKey: 'startDate',\n  fieldType: LoanInfoItemType.Date\n}];\nconst paymentInterestsSectionBaseItems = [{\n  cssClasses,\n  title: titles.items.feesDue,\n  fieldKey: 'feesDue',\n  fieldType: LoanInfoItemType.Amount,\n  showItem: showAmountItem('feesDue')\n}, {\n  cssClasses,\n  title: titles.items.accruedInterestAmount,\n  fieldKey: 'interestDue',\n  fieldType: LoanInfoItemType.Amount,\n  showItem: showAmountItem('interestDue')\n}, {\n  cssClasses,\n  title: titles.items.interestRate,\n  fieldKey: 'interestRate',\n  fieldType: LoanInfoItemType.Percent\n}, {\n  cssClasses,\n  title: titles.items.principalPaymentFrequency,\n  fieldKey: 'paymentFrequency',\n  fieldType: LoanInfoItemType.PaymentFrequency\n}, {\n  cssClasses,\n  title: titles.items.interestPaymentFrequency,\n  fieldKey: 'interestPaymentFrequency',\n  fieldType: LoanInfoItemType.PaymentFrequency\n}];\nconst outstandingAmountItem = {\n  cssClasses,\n  title: titles.items.outstandingAmount,\n  fieldKey: 'outstandingAmount',\n  fieldType: LoanInfoItemType.Amount,\n  showItem: showAmountItem('outstandingAmount')\n};\nconst overdueAmountItem = {\n  cssClasses,\n  title: titles.items.overdueAmount,\n  fieldKey: 'inArrearsAmount',\n  fieldType: LoanInfoItemType.Amount,\n  showItem: showAmountItem('inArrearsAmount')\n};\nconst documentsSection = {\n  title: titles.sections.documents,\n  items: [{\n    cssClasses: 'col-sm-10 col-12',\n    componentRef: LoanInfoDocumentsSectionComponent,\n    showItem: showDocuments\n  }]\n};\nconst statusMortgageTermSection = {\n  title: titles.sections.status,\n  items: [...statusSectionBaseItems, {\n    cssClasses,\n    title: titles.items.maturityDate,\n    fieldKey: 'endDate',\n    fieldType: LoanInfoItemType.Date\n  }, {\n    cssClasses: 'col-6',\n    componentRef: LoanInfoTermItemComponent,\n    showItem: showTerm\n  }]\n};\nconst financialDetailsMortgageTermSection = {\n  title: titles.sections.financialDetails,\n  items: [outstandingAmountItem, {\n    cssClasses,\n    title: titles.items.remainingPrincipal,\n    fieldKey: 'drawnAmount',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('drawnAmount')\n  }, {\n    cssClasses,\n    title: titles.items.amountRepaid,\n    fieldKey: 'paidAmount',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('paidAmount')\n  }, overdueAmountItem, {\n    cssClasses,\n    title: titles.items.originalPrincipal,\n    fieldKey: 'creditLimit',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('creditLimit')\n  }, ...paymentInterestsSectionBaseItems]\n};\nconst colleteralSection = {\n  title: titles.sections.collateral,\n  items: [{\n    cssClasses: 'col-12',\n    componentRef: LoanInfoCollateralSectionComponent,\n    showItem: showCollaterals\n  }]\n};\n/**\n * Loan info config for LineOfCredit type\n */\n\nconst loanInfoLineOfCreditDataConfig = [generalSection, {\n  title: titles.sections.status,\n  items: [...statusSectionBaseItems, {\n    cssClasses,\n    title: titles.items.endDate,\n    fieldKey: 'endDate',\n    fieldType: LoanInfoItemType.Date\n  }]\n}, {\n  title: titles.sections.financialDetails,\n  items: [outstandingAmountItem, overdueAmountItem, {\n    cssClasses,\n    title: titles.items.availableBalance,\n    fieldKey: 'availableBalance',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('availableBalance')\n  }, {\n    cssClasses,\n    title: titles.items.creditLimit,\n    fieldKey: 'creditLimit',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('creditLimit')\n  }, {\n    cssClasses,\n    title: titles.items.drawnAmount,\n    fieldKey: 'drawnAmount',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('drawnAmount')\n  }, ...paymentInterestsSectionBaseItems]\n}, documentsSection];\n/**\n * Loan info config for Mortgage loan\n */\n\nconst loanInfoMortgageDataConfig = [generalSection, statusMortgageTermSection, financialDetailsMortgageTermSection, {\n  title: titles.sections.escrow,\n  items: [{\n    cssClasses: 'col-12',\n    componentRef: LoanInfoEscrowSectionComponent,\n    showItem: showEscrowSection\n  }]\n}, colleteralSection, documentsSection];\n/**\n * Loan info config for Term loan\n */\n\nconst loanInfoTermDataConfig = [generalSection, statusMortgageTermSection, financialDetailsMortgageTermSection, colleteralSection, documentsSection];\n\nfunction getLoanInfoDataConfig(viewType) {\n  switch (viewType) {\n    case LoanDefaultViewType.LineOfCredit:\n      return loanInfoLineOfCreditDataConfig;\n\n    case LoanDefaultViewType.TermLoan:\n      return loanInfoTermDataConfig;\n\n    case LoanDefaultViewType.Mortgage:\n      return loanInfoMortgageDataConfig;\n\n    default:\n      throw new Error(`[bb-loans]: \"${viewType}\" view type is not configured`);\n  }\n}\n/**\n * Helper function to extract error, if there is one.\n *\n * @param callState - call sate\n */\n\n\nfunction getCallStateError(callState) {\n  if (callState.error !== undefined) {\n    return callState.error;\n  }\n\n  return null;\n}\n/**\n * Checks for initial state\n *\n * @param callStates - call states\n */\n\n\nfunction isInitialState(...callStates) {\n  return callStates.some(state => state === LoadingState.Init);\n}\n/**\n * Checks for loading state\n *\n * @param callStates - call states\n */\n\n\nfunction isLoadingState(...callStates) {\n  return callStates.some(state => state === LoadingState.Loading);\n}\n/**\n * Checks for error state\n *\n * @param callStates - call states\n */\n\n\nfunction isErrorState(...callStates) {\n  return callStates.some(state => Object.prototype.hasOwnProperty.call(state, 'error'));\n}\n/**\n * Checks for loaded state\n *\n * @param callStates - call states\n */\n\n\nfunction isLoadedState(...callStates) {\n  return callStates.every(state => state === LoadingState.Loaded);\n}\n/**\n * Operator state map operator\n *\n * @param fn - state mapper function\n */\n\n\nfunction stateMap(fn) {\n  return source => source.pipe(map(state => fn.call(null, ...(Array.isArray(state) ? state : [state]))));\n} // Fetch loans\n\n\nconst loadLoans = createAction('[Loans API] fetch loans', props());\nconst loadLoansSuccess = createAction('[Loans API] fetch loans succeed', props());\nconst loadLoansError = createAction('[Loans API] fetch loans error', props()); // Fetch loan by id\n\nconst fetchLoanById = createAction('[Loans API] fetch loan by id', props());\nconst fetchLoanByIdSuccess = createAction('[Loans API] fetch loan by id succeed', props());\nconst fetchLoanByIdError = createAction('[Loans API] fetch loan by id error', props()); // Fetch amount of loans\n\nconst fetchAmountOfLoans = createAction('[Loans API] fetch amount of loans');\nconst fetchAmountOfLoansSuccess = createAction('[Loans API] fetch amount of loans succeed', props());\nconst fetchAmountOfLoansError = createAction('[Loans API] fetch amount of loans error'); // Update loan alias\n\nconst updateLoanAlias = createAction('[Product Summary API] Update alias', props());\nconst updateLoanAliasSuccess = createAction('[Product Summary API] Update alias succeed', props());\nconst updateLoanAliasError = createAction('[Product Summary API] Update alias error', props());\nconst updateLoanAliasCancel = createAction('[Effect] Cancel update alias request');\nconst storeKey = 'loansJourneyBase';\nconst initialState$1 = {\n  loans: [],\n  loansCurrentPage: 0,\n  loansTotalCount: undefined,\n  loansCallState: LoadingState.Init,\n  loan: undefined,\n  loanCallState: LoadingState.Init,\n  aliasUpdateCallState: LoadingState.Init\n};\n\nconst _loansReducer = createReducer(initialState$1, on(loadLoans, (state, {\n  page\n}) => Object.assign(Object.assign({}, state), {\n  loansCallState: LoadingState.Loading,\n  loansCurrentPage: page\n})), on(loadLoansSuccess, (state, {\n  append,\n  response: {\n    items: loans,\n    totalCount\n  }\n}) => Object.assign(Object.assign({}, state), {\n  loans: append ? [...state.loans, ...loans] : loans,\n  loansTotalCount: totalCount,\n  loansCallState: LoadingState.Loaded\n})), on(loadLoansError, (state, {\n  error\n}) => Object.assign(Object.assign({}, state), {\n  loansCallState: {\n    error\n  }\n})), on(fetchLoanById, state => Object.assign(Object.assign({}, state), {\n  loanCallState: LoadingState.Loading\n})), on(fetchLoanByIdSuccess, (state, {\n  loan\n}) => Object.assign(Object.assign({}, state), {\n  loan,\n  loanCallState: LoadingState.Loaded\n})), on(fetchLoanByIdError, (state, {\n  error\n}) => Object.assign(Object.assign({}, state), {\n  loanCallState: {\n    error\n  }\n})), on(fetchAmountOfLoansSuccess, (state, {\n  totalCount\n}) => Object.assign(Object.assign({}, state), {\n  loansTotalCount: totalCount\n})), on(fetchAmountOfLoansError, state => Object.assign(Object.assign({}, state), {\n  loansTotalCount: undefined\n})), on(updateLoanAlias, state => Object.assign(Object.assign({}, state), {\n  aliasUpdateCallState: LoadingState.Loading\n})), on(updateLoanAliasSuccess, state => Object.assign(Object.assign({}, state), {\n  aliasUpdateCallState: LoadingState.Loaded\n})), on(updateLoanAliasError, (state, {\n  error\n}) => Object.assign(Object.assign({}, state), {\n  aliasUpdateCallState: {\n    error\n  }\n})));\n\nfunction loansReducer(state, action) {\n  return _loansReducer(state, action);\n}\n\nconst getLoansState = createFeatureSelector(storeKey);\nconst selectLoans = createSelector(getLoansState, ({\n  loans\n}) => loans);\nconst selectLoansCallState = createSelector(getLoansState, ({\n  loansCallState\n}) => loansCallState);\nconst selectLoan = createSelector(getLoansState, ({\n  loan\n}) => loan);\nconst selectLoanCallState = createSelector(getLoansState, ({\n  loanCallState\n}) => loanCallState);\nconst selectShowNavigateToOverview = createSelector(getLoansState, ({\n  loansTotalCount\n}) => Boolean(loansTotalCount && loansTotalCount > 1));\nconst selectLoansCurrentPage = createSelector(getLoansState, ({\n  loansCurrentPage\n}) => loansCurrentPage);\nconst selectLoansTotalCount = createSelector(getLoansState, ({\n  loansTotalCount\n}) => loansTotalCount);\nconst selectAliasUpdateCallState = createSelector(getLoansState, ({\n  aliasUpdateCallState\n}) => aliasUpdateCallState);\n\nclass LoansStoreService {\n  constructor(store) {\n    this.store = store;\n    /**\n     * Stream of api call state for fetching loans\n     */\n\n    this.loansCallState$ = this.store.select(selectLoansCallState);\n    /**\n     * Stream of loans\n     */\n\n    this.loans$ = this.store.select(selectLoans);\n    /**\n     * Stream of api call state for fetching loan item\n     */\n\n    this.loanCallState$ = this.store.select(selectLoanCallState);\n    /**\n     * Stream of loan item\n     */\n\n    this.loan$ = this.store.select(selectLoan);\n    /**\n     * Stream indicates whether to show/hide navigate to overview button\n     */\n\n    this.showNavigateToOverview$ = this.store.select(selectShowNavigateToOverview);\n    /**\n     * Stream represents current loaded page for loan list\n     */\n\n    this.loansCurrentPage$ = this.store.select(selectLoansCurrentPage);\n    /**\n     * Stream represents total pages count for loan list\n     */\n\n    this.loansTotalCount$ = this.store.select(selectLoansTotalCount);\n    /**\n     * Stream of alias edit states (mapped from call state)\n     */\n\n    this.aliasEditState$ = this.store.select(selectAliasUpdateCallState).pipe(map(callState => isLoadingState(callState) ? InputInlineEditState.LOADING : InputInlineEditState.IDLE));\n  }\n  /**\n   * Fetch loans\n   */\n\n\n  fetchLoans(page, append = false) {\n    this.store.dispatch(loadLoans({\n      page,\n      append\n    }));\n  }\n  /**\n   * Fetch loan by id\n   */\n\n\n  fetchLoanById(id) {\n    this.store.dispatch(fetchLoanById({\n      id\n    }));\n  }\n  /**\n   * Fetch amount of loans\n   */\n\n\n  fetchAmountOfLoans() {\n    this.store.dispatch(fetchAmountOfLoans());\n  }\n  /**\n   * Update alias\n   *\n   * @param alias\n   */\n\n\n  updateAlias(alias) {\n    this.store.dispatch(updateLoanAlias({\n      alias\n    }));\n  }\n  /**\n   * Cancel alias update\n   */\n\n\n  cancelAliasUpdate() {\n    this.store.dispatch(updateLoanAliasCancel());\n  }\n\n}\n/** @nocollapse */\n\n\nLoansStoreService.ɵfac = function LoansStoreService_Factory(t) {\n  return new (t || LoansStoreService)(i0.ɵɵinject(i1.Store));\n};\n/** @nocollapse */\n\n\nLoansStoreService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoansStoreService,\n  factory: LoansStoreService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansStoreService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.Store\n    }];\n  }, null);\n})(); // eslint-disable-next-line @angular-eslint/directive-class-suffix\n\n\nclass LoanDetailsBaseComponent {\n  constructor(storeService) {\n    this.storeService = storeService;\n    /**\n     * Loan details steam\n     */\n\n    this.loan$ = this.storeService.loan$;\n    /**\n     * Flag represents loading state\n     */\n\n    this.isLoading$ = this.storeService.loanCallState$.pipe(stateMap(isLoadingState));\n    /**\n     * Flag represents error state\n     */\n\n    this.isErrorState$ = this.storeService.loanCallState$.pipe(stateMap(isErrorState));\n  }\n\n}\n/** @nocollapse */\n\n\nLoanDetailsBaseComponent.ɵfac = function LoanDetailsBaseComponent_Factory(t) {\n  return new (t || LoanDetailsBaseComponent)(i0.ɵɵdirectiveInject(LoansStoreService));\n};\n/** @nocollapse */\n\n\nLoanDetailsBaseComponent.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LoanDetailsBaseComponent\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanDetailsBaseComponent, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: LoansStoreService\n    }];\n  }, null);\n})();\n\nclass LoanInfoRetailComponent extends LoanInfoComponent {\n  ngOnChanges() {\n    super.ngOnChanges();\n    this.loanAlias = getLoanAlias(this.loan);\n  }\n\n}\n/** @nocollapse */\n\n\nLoanInfoRetailComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵLoanInfoRetailComponent_BaseFactory;\n  return function LoanInfoRetailComponent_Factory(t) {\n    return (ɵLoanInfoRetailComponent_BaseFactory || (ɵLoanInfoRetailComponent_BaseFactory = i0.ɵɵgetInheritedFactory(LoanInfoRetailComponent)))(t || LoanInfoRetailComponent);\n  };\n}();\n/** @nocollapse */\n\n\nLoanInfoRetailComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoanInfoRetailComponent,\n  selectors: [[\"bb-loan-info-retail\"]],\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"bb-loans-loan-info\"], [1, \"bb-block\", \"bb-block--xl\", \"bb-stack\", \"justify-content-between\"], [3, \"headingLevel\", \"loanName\"], [1, \"bb-list\"], [\"class\", \"bb-list__item bb-card card-body\", \"data-role\", \"loan-info-section\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"data-role\", \"loan-info-section\", 1, \"bb-list__item\", \"bb-card\", \"card-body\"], [\"headingType\", \"h3\", \"headingClasses\", \"bb-block bb-block--lg\", \"data-role\", \"loan-info-section__header\", 3, \"heading\"], [1, \"row\", \"bb-loans-loan-info__section\"], [\"class\", \"bb-block bb-block--lg\", \"data-role\", \"loan-info-section__item-wrapper\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"data-role\", \"loan-info-section__item-wrapper\", 1, \"bb-block\", \"bb-block--lg\", 3, \"ngClass\"], [4, \"ngIf\", \"ngIfElse\"], [\"customItemRef\", \"\"], [\"data-role\", \"loan-info-section__data-item\", 3, \"value\", \"title\", \"type\", \"currencyCode\", \"isCurrencySymbolUsed\", 4, \"ngIf\"], [\"data-role\", \"loan-info-section__data-item\", 3, \"value\", \"title\", \"type\", \"currencyCode\", \"isCurrencySymbolUsed\"], [\"bbLoanInfoCustomSection\", \"\", 3, \"componentRef\", \"loan\"]],\n  template: function LoanInfoRetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"bb-loan-item-name\", 2);\n      i0.ɵɵelement(3, \"bb-loan-info-print-button\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, LoanInfoRetailComponent_section_5_Template, 4, 2, \"section\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"headingLevel\", 3)(\"loanName\", ctx.loanAlias);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.sections)(\"ngForTrackBy\", ctx.trackByTitle);\n    }\n  },\n  directives: [i1$1.LoanItemNameComponent, i1$1.LoanInfoPrintButtonComponent, i3.NgForOf, i2.HeaderComponent, i3.NgClass, i3.NgIf, i1$1.LoanInfoItemComponent, i1$1.LoanInfoCustomSectionDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanInfoRetailComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-loan-info-retail',\n      templateUrl: 'loan-info-retail.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, null);\n})();\n\nclass LoanInfoWrapperComponent extends LoanDetailsBaseComponent {\n  /**\n   * Configuration for loan info container\n   */\n  getDataConfig({\n    viewType\n  }) {\n    return getLoanInfoDataConfig(viewType);\n  }\n\n}\n/** @nocollapse */\n\n\nLoanInfoWrapperComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵLoanInfoWrapperComponent_BaseFactory;\n  return function LoanInfoWrapperComponent_Factory(t) {\n    return (ɵLoanInfoWrapperComponent_BaseFactory || (ɵLoanInfoWrapperComponent_BaseFactory = i0.ɵɵgetInheritedFactory(LoanInfoWrapperComponent)))(t || LoanInfoWrapperComponent);\n  };\n}();\n/** @nocollapse */\n\n\nLoanInfoWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoanInfoWrapperComponent,\n  selectors: [[\"bb-loan-info-wrapper\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 9,\n  consts: [[\"rootWrapperClasses\", \"\", \"contentWrapperClasses\", \"\", 3, \"isLoadingState\", \"isErrorState\"], [3, \"loan\", \"dataConfig\", \"isCurrencySymbolUsed\", 4, \"ngIf\"], [3, \"loan\", \"dataConfig\", \"isCurrencySymbolUsed\"]],\n  template: function LoanInfoWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-loans-main-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵtemplate(3, LoanInfoWrapperComponent_bb_loan_info_retail_3_Template, 1, 3, \"bb-loan-info-retail\", 1);\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"isLoadingState\", i0.ɵɵpipeBind1(1, 3, ctx.isLoading$))(\"isErrorState\", i0.ɵɵpipeBind1(2, 5, ctx.isErrorState$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 7, ctx.loan$));\n    }\n  },\n  directives: [i1$1.LoansMainContainerComponent, i3.NgIf, LoanInfoRetailComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanInfoWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-loan-info-wrapper',\n      templateUrl: './loan-info-wrapper.component.html'\n    }]\n  }], null, null);\n})();\n\nconst LOAN_JOURNEY_COMMUNICATOR = new InjectionToken('bb-loans-journey-communication');\nconst iconsConfig = {\n  [LoanDefaultViewType.LineOfCredit]: 'payments',\n  [LoanDefaultViewType.Mortgage]: 'loans',\n  [LoanDefaultViewType.TermLoan]: 'home'\n};\nconst accountEditEntitlementsConfig = {\n  [AccountAliasDisplayingLevel.USER]: 'ProductSummary.ProductSummary.edit',\n  [AccountAliasDisplayingLevel.ACCOUNT]: 'ProductSummary.ManageArrangementAlias.edit'\n};\n\nfunction getFormulaViewType({\n  value: totalValue\n}, amounts) {\n  const amountValues = amounts.reduce((accum, {\n    value\n  }) => {\n    if (value) {\n      accum.push(new BigNumber(value));\n    }\n\n    return accum;\n  }, []);\n  const moreThanThreeAmounts = amountValues.length > 3;\n\n  if (totalValue) {\n    const totalAmount = new BigNumber(totalValue);\n    const amountValuesSum = amountValues.reduce((accum, val) => accum.plus(val), new BigNumber(0));\n\n    if (totalAmount.isEqualTo(amountValuesSum)) {\n      return moreThanThreeAmounts ? LoanSummaryFormulaViewType.CollapsibleList : LoanSummaryFormulaViewType.Equation;\n    } else {\n      return LoanSummaryFormulaViewType.OnlyTotal;\n    }\n  } else {\n    return moreThanThreeAmounts ? LoanSummaryFormulaViewType.AmountsInRows : LoanSummaryFormulaViewType.AmountsInColumns;\n  }\n}\n\nconst getLoanSummaryFormulaDataConfig = isLineOfCreditType => ({\n  outstandingAmount,\n  drawnAmount,\n  interestDue,\n  feesDue,\n  currencyCode,\n  inArrearsAmount\n}) => {\n  const totalAmount = {\n    value: outstandingAmount,\n    title: titles.items.totalOutstandingAmount\n  };\n  const amounts = [{\n    value: drawnAmount,\n    title: isLineOfCreditType ? titles.items.drawnAmount : titles.items.remainingPrincipal\n  }, {\n    value: inArrearsAmount,\n    title: titles.items.overdueAmount\n  }, {\n    value: interestDue,\n    title: titles.items.interestDue\n  }, {\n    value: feesDue,\n    title: titles.items.feesDue\n  }].filter(({\n    value\n  }) => value);\n  const shouldShow = Boolean(currencyCode && (totalAmount.value || amounts.length));\n  const viewType = getFormulaViewType(totalAmount, amounts);\n  return {\n    totalAmount,\n    amounts,\n    shouldShow,\n    viewType\n  };\n};\n\nconst detailsPaymentInfoFn = ({\n  isFullyRepaid,\n  nextRepaymentDate,\n  nextRepaymentAmount\n}) => {\n  if (isFullyRepaid) {\n    return {\n      paymentType: LoanPaymentInfoType.FullyPaid\n    };\n  }\n\n  const isOverdueDate = Boolean(nextRepaymentDate && Date.parse(nextRepaymentDate) - new Date().setHours(0, 0, 0, 0) < 0);\n  return {\n    date: nextRepaymentDate,\n    amount: nextRepaymentAmount,\n    paymentType: isOverdueDate ? LoanPaymentInfoType.ScheduledLast : LoanPaymentInfoType.ScheduledNext\n  };\n};\n\nconst isProgressBarDataShown = (owedAmount, availableAmount, totalAmount) => owedAmount.isGreaterThanOrEqualTo(0) && availableAmount.isGreaterThanOrEqualTo(0) && totalAmount.isGreaterThan(0) && totalAmount.isEqualTo(owedAmount.plus(availableAmount));\n\nconst isAmountShown = amount => amount ? amount.isGreaterThanOrEqualTo(0) : false;\n\nconst retailLoanSummaryTermLoanProgressDataConfig = {\n  activeAmount: {\n    fieldKey: 'drawnAmount',\n    title: titles.items.owedAmount\n  },\n  availableAmount: {\n    fieldKey: 'paidAmount',\n    title: titles.items.paidAmount\n  },\n  totalAmount: {\n    fieldKey: 'creditLimit',\n    title: titles.items.creditLimit\n  },\n  showData: ({\n    creditLimit,\n    paidAmount,\n    drawnAmount\n  }) => {\n    return creditLimit && paidAmount && drawnAmount ? isProgressBarDataShown(new BigNumber(drawnAmount), new BigNumber(paidAmount), new BigNumber(creditLimit)) : false;\n  }\n};\nconst retailLoanSummaryLineOfCreditProgressDataConfig = {\n  activeAmount: {\n    fieldKey: 'drawnAmount',\n    title: titles.items.owedAmount\n  },\n  availableAmount: {\n    fieldKey: 'availableBalance',\n    title: titles.items.availableAmount\n  },\n  totalAmount: {\n    fieldKey: 'creditLimit',\n    title: titles.items.creditLimit\n  },\n  showData: ({\n    creditLimit,\n    availableBalance,\n    drawnAmount\n  }) => {\n    return creditLimit && availableBalance && drawnAmount ? isProgressBarDataShown(new BigNumber(drawnAmount), new BigNumber(availableBalance), new BigNumber(creditLimit)) : false;\n  }\n};\n\nconst isMortgageTotalAmountShown = (totalAmount, owedAmount, availableAmount) => totalAmount.isGreaterThan(0) && owedAmount.isGreaterThanOrEqualTo(0) && availableAmount.isGreaterThanOrEqualTo(0) && totalAmount.isEqualTo(owedAmount.plus(availableAmount));\n\nconst retailLoanSummaryMortgageTermProgressDataConfig = {\n  activeAmount: {\n    fieldKey: 'drawnAmount',\n    title: titles.items.owedAmount\n  },\n  availableAmount: {\n    fieldKey: 'paidAmount',\n    title: titles.items.paidAmount\n  },\n  totalAmount: {\n    fieldKey: 'creditLimit',\n    title: titles.items.creditLimit\n  },\n  showProgressBar: () => false,\n  showActiveAmount: ({\n    drawnAmount\n  }) => {\n    const amount = drawnAmount && new BigNumber(drawnAmount);\n    return amount ? isAmountShown(amount) : false;\n  },\n  showAvailableAmount: ({\n    paidAmount\n  }) => {\n    const amount = paidAmount && new BigNumber(paidAmount);\n    return amount ? isAmountShown(amount) : false;\n  },\n  showTotalAmount: ({\n    creditLimit,\n    paidAmount,\n    drawnAmount\n  }) => {\n    return creditLimit && drawnAmount && paidAmount ? isMortgageTotalAmountShown(new BigNumber(creditLimit), new BigNumber(drawnAmount), new BigNumber(paidAmount)) : false;\n  }\n};\n\nconst getChangedAmountFocus = dataConfig => {\n  const {\n    activeAmount,\n    availableAmount,\n    showActiveAmount,\n    showAvailableAmount\n  } = dataConfig;\n  return Object.assign({}, dataConfig, {\n    activeAmount: availableAmount,\n    availableAmount: activeAmount,\n    showActiveAmount: showAvailableAmount,\n    showAvailableAmount: showActiveAmount\n  });\n};\n\nconst retailLoanSummaryTermLoanDataConfig = {\n  progressBar: retailLoanSummaryTermLoanProgressDataConfig,\n  paymentInfo: detailsPaymentInfoFn,\n  formula: getLoanSummaryFormulaDataConfig(false),\n  icons: iconsConfig\n};\nconst retailLoanSummaryLineOfCreditDataConfig = {\n  progressBar: retailLoanSummaryLineOfCreditProgressDataConfig,\n  paymentInfo: detailsPaymentInfoFn,\n  formula: getLoanSummaryFormulaDataConfig(true),\n  icons: iconsConfig\n};\nconst retailLoanSummaryMortgageTermDataConfig = {\n  progressBar: retailLoanSummaryMortgageTermProgressDataConfig,\n  paymentInfo: detailsPaymentInfoFn,\n  formula: getLoanSummaryFormulaDataConfig(false),\n  icons: iconsConfig\n};\n\nfunction getRetailLoanSummaryDataConfig(viewType, owedAmountFocus) {\n  if (viewType === LoanDefaultViewType.TermLoan) {\n    return owedAmountFocus ? retailLoanSummaryTermLoanDataConfig : Object.assign({}, retailLoanSummaryTermLoanDataConfig, {\n      progressBar: getChangedAmountFocus(retailLoanSummaryTermLoanDataConfig.progressBar)\n    });\n  }\n\n  if (viewType === LoanDefaultViewType.LineOfCredit) {\n    return owedAmountFocus ? retailLoanSummaryLineOfCreditDataConfig : Object.assign({}, retailLoanSummaryLineOfCreditDataConfig, {\n      progressBar: getChangedAmountFocus(retailLoanSummaryLineOfCreditDataConfig.progressBar)\n    });\n  }\n\n  return retailLoanSummaryMortgageTermDataConfig;\n}\n\nclass LoanSummaryComponent extends LoanDetailsBaseComponent {\n  constructor(storeService, conditions, accountAliasDisplayingLevel, loanCommunication, remoteConfig) {\n    super(storeService);\n    this.conditions = conditions;\n    this.accountAliasDisplayingLevel = accountAliasDisplayingLevel;\n    this.loanCommunication = loanCommunication;\n    this.remoteConfig = remoteConfig;\n    /**\n     * Stream represents edit states for loan alias\n     */\n\n    this.aliasEditState$ = this.storeService.aliasEditState$;\n    this.PaymentOptions = PaymentOptions;\n    this.LoanDefaultViewType = LoanDefaultViewType;\n    this.accountAliasDisplayingLevel = accountAliasDisplayingLevel || AccountAliasDisplayingLevel.USER;\n    this.canEditAlias = this.conditions.resolveEntitlements(accountEditEntitlementsConfig[this.accountAliasDisplayingLevel]);\n  }\n  /**\n   * Loan id\n   */\n\n\n  set loanId(id) {\n    this.storeService.fetchLoanById(id);\n  }\n  /**\n   * Configuration for loan summary container\n   */\n\n\n  getDataConfig({\n    viewType\n  }) {\n    const owedAmountFocus = this.remoteConfig.getValue('owed_amount_focus');\n    return getRetailLoanSummaryDataConfig(viewType, owedAmountFocus);\n  }\n  /**\n   * Updates a loan alias\n   *\n   * @param name\n   */\n\n\n  onUpdateAlias(name) {\n    this.storeService.updateAlias(name);\n  }\n  /**\n   * Cancel(discard) current loan alias update\n   */\n\n\n  onCancelAliasUpdate() {\n    this.storeService.cancelAliasUpdate();\n  }\n\n  onDrawAmount() {\n    if (this.loanCommunication) {\n      this.loanCommunication.navigateToLoanAdvance();\n    } else {\n      throw new Error('[bb-loans]: Communication service is missing');\n    }\n  }\n\n  onPayDown() {\n    if (this.loanCommunication) {\n      this.loanCommunication.navigateToLoanPayment();\n    } else {\n      throw new Error('[bb-loans]: Communication service is missing');\n    }\n  }\n\n  getAllowedPaymentOption(paymentOptionName, options) {\n    var _a;\n\n    return !!((_a = options === null || options === void 0 ? void 0 : options.paymentOptions.find(option => option.name === paymentOptionName)) === null || _a === void 0 ? void 0 : _a.allowed) && !!this.loanCommunication;\n  }\n\n}\n/** @nocollapse */\n\n\nLoanSummaryComponent.ɵfac = function LoanSummaryComponent_Factory(t) {\n  return new (t || LoanSummaryComponent)(i0.ɵɵdirectiveInject(LoansStoreService), i0.ɵɵdirectiveInject(CONDITIONS), i0.ɵɵdirectiveInject(ACCOUNT_ALIAS_DISPLAYING_LEVEL, 8), i0.ɵɵdirectiveInject(LOAN_JOURNEY_COMMUNICATOR, 8), i0.ɵɵdirectiveInject(i2$1.RemoteConfigService));\n};\n/** @nocollapse */\n\n\nLoanSummaryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoanSummaryComponent,\n  selectors: [[\"bb-loan-summary\"]],\n  inputs: {\n    loanId: \"loanId\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 9,\n  consts: [[3, \"isLoadingState\", \"isErrorState\"], [3, \"loan\", \"dataConfig\", \"showPayDownButton\", \"showDrawAmountButton\", \"showFormula\", \"showInterestRateOnTop\", \"owedAmountFocus\", \"updateAlias\", \"cancelAliasUpdate\", \"drawAmount\", \"payDown\", 4, \"ngIf\"], [3, \"loan\", \"dataConfig\", \"showPayDownButton\", \"showDrawAmountButton\", \"showFormula\", \"showInterestRateOnTop\", \"owedAmountFocus\", \"updateAlias\", \"cancelAliasUpdate\", \"drawAmount\", \"payDown\"]],\n  template: function LoanSummaryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-loans-main-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵtemplate(3, LoanSummaryComponent_bb_retail_loan_summary_container_3_Template, 1, 7, \"bb-retail-loan-summary-container\", 1);\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"isLoadingState\", i0.ɵɵpipeBind1(1, 3, ctx.isLoading$))(\"isErrorState\", i0.ɵɵpipeBind1(2, 5, ctx.isErrorState$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 7, ctx.loan$));\n    }\n  },\n  directives: [i1$1.LoansMainContainerComponent, i3.NgIf, i1$1.RetailLoanSummaryContainerComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanSummaryComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-loan-summary',\n      templateUrl: './loan-summary.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: LoansStoreService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [CONDITIONS]\n      }]\n    }, {\n      type: i5.AccountAliasDisplayingLevel,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [ACCOUNT_ALIAS_DISPLAYING_LEVEL]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [LOAN_JOURNEY_COMMUNICATOR]\n      }]\n    }, {\n      type: i2$1.RemoteConfigService\n    }];\n  }, {\n    loanId: [{\n      type: Input\n    }]\n  });\n})();\n\nclass LoanDetailsWrapperComponent {\n  constructor(router, activatedRoute, storeService) {\n    var _a, _b;\n\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.storeService = storeService;\n    /**\n     * Stream of account ids from router params\n     */\n\n    this.accountId$ = this.activatedRoute.params.pipe(map(({\n      selectedAccount\n    }) => selectedAccount));\n    /**\n     * Whether to show / hide navigate to overview btn\n     */\n\n    this.showNavigationButton$ = this.storeService.showNavigateToOverview$;\n    /**\n     * Array of tabs to be displayed\n     */\n\n    this.tabs = this.createRouteTabs(((_b = (_a = this.activatedRoute.snapshot) === null || _a === void 0 ? void 0 : _a.routeConfig) === null || _b === void 0 ? void 0 : _b.children) || []);\n    this.storeService.fetchAmountOfLoans();\n  }\n  /**\n   * Navigates to the list overview view\n   *\n   * TODO: set up relative routing\n   */\n\n\n  navigateToAccounts() {\n    this.router.navigate(['my-accounts/list']);\n  }\n\n  createRouteTabs(routes) {\n    return routes.filter(({\n      path,\n      data\n    }) => path && (data === null || data === void 0 ? void 0 : data.titleFn)).map(({\n      path,\n      data\n    }) => ({\n      title: data.titleFn(),\n      route: path\n    }));\n  }\n\n}\n/** @nocollapse */\n\n\nLoanDetailsWrapperComponent.ɵfac = function LoanDetailsWrapperComponent_Factory(t) {\n  return new (t || LoanDetailsWrapperComponent)(i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(i1$2.ActivatedRoute), i0.ɵɵdirectiveInject(LoansStoreService));\n};\n/** @nocollapse */\n\n\nLoanDetailsWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoanDetailsWrapperComponent,\n  selectors: [[\"bb-loan-details-wrapper\"]],\n  decls: 15,\n  vars: 4,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Loans details a11y section heading\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_1 = goog.getMsg(\"Loan details\");\n      i18n_0 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_1;\n    } else {\n      i18n_0 = $localize`:Loans details a11y section heading@@loans.details.section.a11y.heading:Loan details`;\n    }\n\n    return [[1, \"bb-layout__container\", \"d-block\", \"bb-block--xl\", \"mt-5\", \"container-fluid\", \"container\"], [1, \"bb-block\", \"bb-block--xl\"], [\"data-role\", \"loans-heading-button__navigation\", 1, \"bb-stack\", \"justify-content-start\", \"bb-stack--density-sm\", \"btn-link-text\", \"btn-md\", \"btn\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"bb-icon\", \"bb-icon-arrow-back\", \"bb-icon--sm\"], [1, \"bb-block\", \"bb-block--xl\", \"p--4\"], [1, \"sr-only\"], i18n_0, [3, \"loanId\", 4, \"ngIf\"], [1, \"bb-card__body\"], [\"data-role\", \"loan-details__tabs\", 3, \"tabs\"], [3, \"loanId\"]];\n  },\n  template: function LoanDetailsWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function LoanDetailsWrapperComponent_Template_button_click_2_listener() {\n        return ctx.navigateToAccounts();\n      });\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵelementStart(4, \"span\");\n      i0.ɵɵtext(5, \"Back to My Accounts\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"section\", 4);\n      i0.ɵɵelementStart(7, \"h2\", 5);\n      i0.ɵɵi18n(8, 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, LoanDetailsWrapperComponent_bb_loan_summary_9_Template, 1, 1, \"bb-loan-summary\", 7);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\");\n      i0.ɵɵelementStart(12, \"div\");\n      i0.ɵɵelementStart(13, \"div\", 8);\n      i0.ɵɵelement(14, \"bb-loans-tabs\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 2, ctx.accountId$));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"tabs\", ctx.tabs);\n    }\n  },\n  directives: [i3.NgIf, i1$1.LoansTabsComponent, LoanSummaryComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanDetailsWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-loan-details-wrapper',\n      templateUrl: './loan-details-wrapper.component.html'\n    }]\n  }], function () {\n    return [{\n      type: i1$2.Router\n    }, {\n      type: i1$2.ActivatedRoute\n    }, {\n      type: LoansStoreService\n    }];\n  }, null);\n})();\n\nfunction safeStringify(value) {\n  try {\n    return JSON.stringify(value) || '';\n  } catch (e) {\n    console.warn(e);\n    return '';\n  }\n}\n\nclass LoanTransactionsWrapperComponent {\n  constructor(configurationService) {\n    this.configurationService = configurationService;\n    /**\n     * Transaction table config\n     */\n\n    this.transactionConfig = this.configurationService.transactionConfig;\n    /**\n     * Transaction table initial filter options\n     */\n\n    this.initialFilterOptions = safeStringify(this.transactionConfig.initialFilterOptions);\n    /**\n     * Transaction table initial sort options\n     */\n\n    this.initialSortOptions = safeStringify(this.transactionConfig.initialSortOptions);\n  }\n\n}\n/** @nocollapse */\n\n\nLoanTransactionsWrapperComponent.ɵfac = function LoanTransactionsWrapperComponent_Factory(t) {\n  return new (t || LoanTransactionsWrapperComponent)(i0.ɵɵdirectiveInject(LoansJourneyConfigurationService));\n};\n/** @nocollapse */\n\n\nLoanTransactionsWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoanTransactionsWrapperComponent,\n  selectors: [[\"bb-loan-transactions-wrapper\"]],\n  decls: 1,\n  vars: 18,\n  consts: [[3, \"pageSize\", \"maxNavPages\", \"showControls\", \"showManageNotes\", \"showCheckImage\", \"showChangeCategory\", \"showPendingTransactionsOnTop\", \"paginationType\", \"getOrPostEndpoints\", \"googleAPIKey\", \"initialFilterOptions\", \"initialSortOptions\", \"disputeByBillingStatus\", \"disputeEligibilityDays\", \"disputeTopicId\", \"disputeTransactionTypes\", \"enableDisputeAndInquiry\", \"inquireTopicId\"]],\n  template: function LoanTransactionsWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"bb-transactions-list-widget\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"pageSize\", ctx.transactionConfig.itemsPerPage)(\"maxNavPages\", ctx.transactionConfig.maxNavPages)(\"showControls\", ctx.transactionConfig.showControls)(\"showManageNotes\", ctx.transactionConfig.showManageNotes)(\"showCheckImage\", ctx.transactionConfig.showCheckImages)(\"showChangeCategory\", ctx.transactionConfig.showChangeCategory)(\"showPendingTransactionsOnTop\", ctx.transactionConfig.showPendingOnTop)(\"paginationType\", ctx.transactionConfig.paginationType)(\"getOrPostEndpoints\", ctx.transactionConfig.endpointType)(\"googleAPIKey\", ctx.transactionConfig.apiKey)(\"initialFilterOptions\", ctx.initialFilterOptions)(\"initialSortOptions\", ctx.initialSortOptions)(\"disputeByBillingStatus\", ctx.transactionConfig.disputeByBillingStatus)(\"disputeEligibilityDays\", ctx.transactionConfig.disputeEligibilityDays)(\"disputeTopicId\", ctx.transactionConfig.disputeTopicId)(\"disputeTransactionTypes\", ctx.transactionConfig.disputeTransactionTypes)(\"enableDisputeAndInquiry\", ctx.transactionConfig.enableDisputeAndInquiry)(\"inquireTopicId\", ctx.transactionConfig.inquireTopicId);\n    }\n  },\n  directives: [i2$2.TransactionsListWidgetComponent],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanTransactionsWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-loan-transactions-wrapper',\n      templateUrl: './loan-transactions-wrapper.component.html'\n    }]\n  }], function () {\n    return [{\n      type: LoansJourneyConfigurationService\n    }];\n  }, null);\n})();\n\nconst loanIdParamKey = 'selectedAccount';\nconst scheduleIdParam = 'paymentScheduleId'; // Fetch amortized schedule\n\nconst fetchAmortizationSchedule = createAction('[Loans API] fetch amortization schedule', props());\nconst fetchAmortizationScheduleSuccess = createAction('[Loans API] fetch amortization schedule succeed', props());\nconst fetchAmortizationScheduleError = createAction('[Loans API] fetch amortization schedule ', props()); // Fetch amortized schedule payment by id\n\nconst fetchAmortizationPayment = createAction('[Loans API] fetch amortization schedule payment by id', props());\nconst fetchAmortizationPaymentSuccess = createAction('[Loans API] fetch amortization schedule payment succeed', props());\nconst fetchAmortizationPaymentError = createAction('[Loans API] fetch  amortization schedule payment failures', props());\nconst paymentScheduleStoreKey = 'loansJourneyPaymentSchedule';\nconst initialState = {\n  amortizedPayments: [],\n  amortizedPaymentsTotalCount: 0,\n  amortizedPaymentsCurrenPage: 0,\n  amortizedPaymentsCallState: LoadingState.Init,\n  amortizedPayment: undefined,\n  amortizedPaymentCallState: LoadingState.Init\n};\nconst reducer = createReducer(initialState, on(fetchAmortizationSchedule, (state, {\n  params: {\n    from\n  }\n}) => Object.assign(Object.assign({}, state), {\n  amortizedPaymentsCallState: LoadingState.Loading,\n  amortizedPaymentsCurrenPage: from\n})), on(fetchAmortizationScheduleSuccess, (state, {\n  append,\n  response: {\n    items,\n    totalCount\n  }\n}) => Object.assign(Object.assign({}, state), {\n  amortizedPayments: append ? [...state.amortizedPayments, ...items] : items,\n  amortizedPaymentsTotalCount: totalCount,\n  amortizedPaymentsCallState: LoadingState.Loaded\n})), on(fetchAmortizationScheduleError, (state, {\n  error\n}) => Object.assign(Object.assign({}, state), {\n  amortizedPaymentsCallState: {\n    error\n  }\n})), on(fetchAmortizationPayment, state => Object.assign(Object.assign({}, state), {\n  amortizedPaymentCallState: LoadingState.Loading\n})), on(fetchAmortizationPaymentSuccess, (state, {\n  amortizedPayment\n}) => Object.assign(Object.assign({}, state), {\n  amortizedPayment,\n  amortizedPaymentCallState: LoadingState.Loaded\n})), on(fetchAmortizationPaymentError, (state, {\n  error\n}) => Object.assign(Object.assign({}, state), {\n  amortizedPaymentCallState: {\n    error\n  }\n})));\n\nfunction paymentScheduleReducer(state, action) {\n  return reducer(state, action);\n}\n\nconst createPaymentScheduleSelector = projector => // eslint-disable-next-line @typescript-eslint/ban-types\ncreateSelector(createFeatureSelector(paymentScheduleStoreKey), projector);\n\nconst selectAmortizedPayments = createPaymentScheduleSelector(({\n  amortizedPayments\n}) => amortizedPayments);\nconst selectAmortizedPaymentsCallState = createPaymentScheduleSelector(({\n  amortizedPaymentsCallState\n}) => amortizedPaymentsCallState);\nconst selectAmortizedPaymentsTotalCount = createPaymentScheduleSelector(({\n  amortizedPaymentsTotalCount\n}) => amortizedPaymentsTotalCount);\nconst selectAmortizedPaymentsCurrentPage = createPaymentScheduleSelector(({\n  amortizedPaymentsCurrenPage\n}) => amortizedPaymentsCurrenPage);\nconst selectAmortizedPayment = createPaymentScheduleSelector(({\n  amortizedPayment\n}) => amortizedPayment);\nconst selectAmortizedPaymentCallState = createPaymentScheduleSelector(({\n  amortizedPaymentCallState\n}) => amortizedPaymentCallState);\n\nclass PaymentScheduleStoreService {\n  constructor(store) {\n    this.store = store;\n    /**\n     * Stream of api call state for fetching scheduled amortized payments\n     */\n\n    this.amortizedPaymentsCallState$ = this.store.select(selectAmortizedPaymentsCallState);\n    /**\n     * Stream of scheduled amortized payments\n     */\n\n    this.amortizedPayments$ = this.store.select(selectAmortizedPayments);\n    /**\n     * Stream of api call state for fetching scheduled amortized payment\n     */\n\n    this.amortizedPaymentCallState$ = this.store.select(selectAmortizedPaymentCallState);\n    /**\n     * Stream of scheduled amortized payment\n     */\n\n    this.amortizedPayment$ = this.store.select(selectAmortizedPayment);\n    /**\n     * Stream represents total pages count for scheduled amortized payments\n     */\n\n    this.amortizedPaymentsTotalCount$ = this.store.select(selectAmortizedPaymentsTotalCount);\n    /**\n     * Stream represents current loaded page for payment schedule table/list\n     */\n\n    this.amortizedPaymentsCurrentPage$ = this.store.select(selectAmortizedPaymentsCurrentPage);\n  }\n  /**\n   * Fetch amortized payment schedule\n   */\n\n\n  fetchAmortizationSchedule(params) {\n    this.store.dispatch(fetchAmortizationSchedule({\n      params\n    }));\n  }\n  /**\n   * Fetch amortized payment\n   */\n\n\n  fetchAmortizationPayment(params) {\n    this.store.dispatch(fetchAmortizationPayment({\n      params\n    }));\n  }\n\n}\n/** @nocollapse */\n\n\nPaymentScheduleStoreService.ɵfac = function PaymentScheduleStoreService_Factory(t) {\n  return new (t || PaymentScheduleStoreService)(i0.ɵɵinject(i1.Store));\n};\n/** @nocollapse */\n\n\nPaymentScheduleStoreService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PaymentScheduleStoreService,\n  factory: PaymentScheduleStoreService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleStoreService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.Store\n    }];\n  }, null);\n})(); // TODO: move to separate and reorganize the flow\n\n\nclass PaymentScheduleWrapperComponent {\n  constructor(configurationService, storeService, mediaQueryService, activatedRoute, router, remoteConfig) {\n    this.configurationService = configurationService;\n    this.storeService = storeService;\n    this.mediaQueryService = mediaQueryService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.remoteConfig = remoteConfig;\n    /**\n     * Stream of Amortized Payments\n     */\n\n    this.amortizedPayments$ = this.storeService.amortizedPayments$;\n    /**\n     * Payment schedule configuration\n     */\n\n    this.scheduleConfig = this.configurationService.paymentSchedule;\n    /**\n     * Hide or show payment status in the table\n     */\n\n    this.showPaymentStatus = this.remoteConfig.getValue('show_payment_status_retail_loans');\n    /**\n     * Flag represents error state\n     */\n\n    this.isErrorState$ = this.storeService.amortizedPaymentsCallState$.pipe(stateMap(isErrorState));\n    /**\n     * Stream represents total amount of the pages\n     */\n\n    this.amortizedPaymentsTotalCount$ = this.storeService.amortizedPaymentsTotalCount$;\n    /**\n     * Stream represent current loaded page number\n     */\n\n    this.amortizedPaymentsCurrentPage$ = this.storeService.amortizedPaymentsCurrentPage$;\n    /**\n     * Flag represents the tablet screen resolution\n     */\n\n    this.isTabletResolution$ = this.mediaQueryService.isMediaBreakpointMatches('max-width', 'lg');\n    this._isLoading$ = combineLatest([this.isTabletResolution$, this.storeService.amortizedPaymentsCallState$, this.amortizedPaymentsCurrentPage$]);\n    /**\n     * Flag represents page loading state\n     */\n\n    this.isPageLoading$ = this._isLoading$.pipe(map(([isTabletResolution, callState, currentPage]) => isLoadingState(callState) && !(isTabletResolution && currentPage > 0)));\n    /**\n     * Flag represents load more button loading state\n     */\n\n    this.isButtonLoading$ = this._isLoading$.pipe(map(([isTabletResolution, callState, currentPage]) => isLoadingState(callState) && isTabletResolution && currentPage > 0));\n    /**\n     * Flag represents visibility of load more button\n     */\n\n    this.isLoadMoreVisible$ = combineLatest([this.amortizedPaymentsCurrentPage$, this.amortizedPaymentsTotalCount$, this.amortizedPayments$]).pipe(map(([page, total, {\n      length\n    }]) => !(page === 0 && length === total)));\n    /**\n     * Flag represents empty state\n     */\n\n    this.isEmptyState$ = this.storeService.amortizedPaymentsTotalCount$.pipe(map(totalCount => totalCount === 0));\n    this.baseReqParams = {\n      loanId: this.activatedRoute.snapshot.parent.params[loanIdParamKey],\n      size: this.scheduleConfig.itemsPerPage,\n      from: 0,\n      append: false\n    };\n    this.storeService.fetchAmortizationSchedule(this.baseReqParams);\n  }\n  /**\n   * Load loans on pagination page changes\n   *\n   * @param page\n   */\n\n\n  onPageChange(page) {\n    this.storeService.fetchAmortizationSchedule(Object.assign(Object.assign({}, this.baseReqParams), {\n      from: page\n    }));\n  }\n  /**\n   * Load loans on load more button click\n   *\n   * @param from\n   */\n\n\n  onLoadMore({\n    from\n  }) {\n    this.storeService.fetchAmortizationSchedule(Object.assign(Object.assign({}, this.baseReqParams), {\n      from,\n      append: true\n    }));\n  }\n  /**\n   * Emits in item select\n   */\n\n\n  onItemSelect({\n    id\n  }) {\n    this.router.navigate([id], {\n      relativeTo: this.activatedRoute\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nPaymentScheduleWrapperComponent.ɵfac = function PaymentScheduleWrapperComponent_Factory(t) {\n  return new (t || PaymentScheduleWrapperComponent)(i0.ɵɵdirectiveInject(LoansJourneyConfigurationService), i0.ɵɵdirectiveInject(PaymentScheduleStoreService), i0.ɵɵdirectiveInject(i3$1.MediaQueryService), i0.ɵɵdirectiveInject(i1$2.ActivatedRoute), i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(i2$1.RemoteConfigService));\n};\n/** @nocollapse */\n\n\nPaymentScheduleWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PaymentScheduleWrapperComponent,\n  selectors: [[\"bb-payment-schedule-wrapper\"]],\n  decls: 15,\n  vars: 17,\n  consts: function () {\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Load more button\\@loans.payment-schedule.load-more.btn\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__3 = goog.getMsg(\" Load more \");\n      i18n_2 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__3;\n    } else {\n      i18n_2 = $localize`:Load more button@loans.payment-schedule.load-more.btn: Load more `;\n    }\n\n    let i18n_4;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Payment schedule empty state title\\@loans.payment-schedule.empty-state.title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__5 = goog.getMsg(\"No Upcoming Payments\");\n      i18n_4 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__5;\n    } else {\n      i18n_4 = $localize`:Payment schedule empty state title@loans.payment-schedule.empty-state.title:No Upcoming Payments`;\n    }\n\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Payment schedule empty state subtitle\\@loans.payment-schedule.empty-state.subtitle\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__7 = goog.getMsg(\"You don't have any upcoming payments to be displayed.\");\n      i18n_6 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS__7;\n    } else {\n      i18n_6 = $localize`:Payment schedule empty state subtitle@loans.payment-schedule.empty-state.subtitle:You don't have any upcoming payments to be displayed.`;\n    }\n\n    return [[\"rootWrapperClasses\", \"\", \"contentWrapperClasses\", \"\", 3, \"isLoadingState\", \"isErrorState\", \"isEmptyState\", \"customEmptyState\"], [1, \"bb-card\"], [1, \"bb-card__body\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"bb-stack bb-stack--center\", \"color\", \"link\", \"data-role\", \"payment-schedule-wrapper__load-more-btn\", 3, \"from\", \"size\", \"totalCount\", \"isLoading\", \"paramChange\", 4, \"ngIf\"], [\"desktop\", \"\"], [\"customEmptyState\", \"\"], [3, \"items\", \"selectItem\"], [\"color\", \"link\", \"data-role\", \"payment-schedule-wrapper__load-more-btn\", 1, \"bb-stack\", \"bb-stack--center\", 3, \"from\", \"size\", \"totalCount\", \"isLoading\", \"paramChange\"], i18n_2, [3, \"items\", \"showPaymentStatus\", \"selectItem\"], [\"data-role\", \"payment-schedule-wrapper__empty-state\", 1, \"bb-state-container\", \"bb-state-container--min-height\"], [\"title\", i18n_4, \"subtitle\", i18n_6, \"iconModifier\", \"loans\", \"iconSize\", \"xxl\"]];\n  },\n  template: function PaymentScheduleWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-loans-main-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\", 2);\n      i0.ɵɵtemplate(6, PaymentScheduleWrapperComponent_ng_container_6_Template, 3, 3, \"ng-container\", 3);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵtemplate(8, PaymentScheduleWrapperComponent_bb_load_button_ui_8_Template, 5, 10, \"bb-load-button-ui\", 4);\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵtemplate(10, PaymentScheduleWrapperComponent_ng_template_10_Template, 2, 4, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"router-outlet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, PaymentScheduleWrapperComponent_ng_template_13_Template, 2, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(11);\n\n      const _r4 = i0.ɵɵreference(14);\n\n      i0.ɵɵproperty(\"isLoadingState\", i0.ɵɵpipeBind1(1, 7, ctx.isPageLoading$))(\"isErrorState\", i0.ɵɵpipeBind1(2, 9, ctx.isErrorState$))(\"isEmptyState\", i0.ɵɵpipeBind1(3, 11, ctx.isEmptyState$))(\"customEmptyState\", _r4);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 13, ctx.isTabletResolution$))(\"ngIfElse\", _r2);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 15, ctx.isLoadMoreVisible$));\n    }\n  },\n  directives: [i1$1.LoansMainContainerComponent, i3.NgIf, i1$2.RouterOutlet, i1$1.LoanAmortizedPaymentScheduleListComponent, i7.LoadButtonComponent, i1$1.LoanAmortizedPaymentScheduleTableComponent, i8.EmptyStateComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-payment-schedule-wrapper',\n      templateUrl: './payment-schedule-wrapper.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: LoansJourneyConfigurationService\n    }, {\n      type: PaymentScheduleStoreService\n    }, {\n      type: i3$1.MediaQueryService\n    }, {\n      type: i1$2.ActivatedRoute\n    }, {\n      type: i1$2.Router\n    }, {\n      type: i2$1.RemoteConfigService\n    }];\n  }, null);\n})();\n\nclass PaymentScheduleDetailsModalHeaderComponent {\n  constructor() {\n    /**\n     * Emits on print button click\n     */\n    this.printModal = new EventEmitter();\n    /**\n     * Emits on close modal\n     */\n\n    this.closeModal = new EventEmitter();\n  }\n\n}\n/** @nocollapse */\n\n\nPaymentScheduleDetailsModalHeaderComponent.ɵfac = function PaymentScheduleDetailsModalHeaderComponent_Factory(t) {\n  return new (t || PaymentScheduleDetailsModalHeaderComponent)();\n};\n/** @nocollapse */\n\n\nPaymentScheduleDetailsModalHeaderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PaymentScheduleDetailsModalHeaderComponent,\n  selectors: [[\"bb-payment-schedule-details-modal-header\"]],\n  outputs: {\n    printModal: \"printModal\",\n    closeModal: \"closeModal\"\n  },\n  decls: 6,\n  vars: 0,\n  consts: function () {\n    let i18n_8;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Payment schedule details modal header title\\@loans.payment-schedule-details.modal.header.title\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_9 = goog.getMsg(\" Automatic loan payment\\n\");\n      i18n_8 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_9;\n    } else {\n      i18n_8 = $localize`:Payment schedule details modal header title@loans.payment-schedule-details.modal.header.title: Automatic loan payment\n`;\n    }\n\n    let i18n_10;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Payment schedule details modal header print button aria\n       *     label\\@loans.payment-schedule-details.modal.header.print-btn.aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_11 = goog.getMsg(\"Print\");\n      i18n_10 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_11;\n    } else {\n      i18n_10 = $localize`:Payment schedule details modal header print button aria\n    label@loans.payment-schedule-details.modal.header.print-btn.aria-label:Print`;\n    }\n\n    let i18n_12;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Payment schedule details modal header close button aria\n       *     label\\@loans.payment-schedule-details.modal.header.close-btn.aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_13 = goog.getMsg(\"Close\");\n      i18n_12 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_RETAIL_LOANS_JOURNEY_ANG_FESM2015_BACKBASE_RETAIL_LOANS_JOURNEY_ANG_JS_13;\n    } else {\n      i18n_12 = $localize`:Payment schedule details modal header close button aria\n    label@loans.payment-schedule-details.modal.header.close-btn.aria-label:Close`;\n    }\n\n    return [[1, \"modal-title\", \"bb-stack__item\", \"bb-stack__item--fill\"], i18n_8, [\"bbButton\", \"\", \"type\", \"button\", \"color\", \"unstyled\", \"aria-label\", i18n_10, \"data-role\", \"bb-loan-payment-schedule-details-modal-header__print-btn\", 1, \"bb-stack__item\", \"bb-stack__item--spacing-lg\", 3, \"click\"], [\"name\", \"print\"], [\"bbButton\", \"\", \"type\", \"button\", \"color\", \"unstyled\", \"aria-label\", i18n_12, \"data-role\", \"bb-loan-payment-schedule-details-modal-header__close-btn\", 1, \"bb-stack__item\", 3, \"click\"], [\"name\", \"clear\"]];\n  },\n  template: function PaymentScheduleDetailsModalHeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵi18n(1, 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function PaymentScheduleDetailsModalHeaderComponent_Template_button_click_2_listener() {\n        return ctx.printModal.emit();\n      });\n      i0.ɵɵelement(3, \"bb-icon-ui\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function PaymentScheduleDetailsModalHeaderComponent_Template_button_click_4_listener() {\n        return ctx.closeModal.emit();\n      });\n      i0.ɵɵelement(5, \"bb-icon-ui\", 5);\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i2$3.ButtonDirective, i1$3.IconComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleDetailsModalHeaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-payment-schedule-details-modal-header',\n      templateUrl: './payment-schedule-details-modal-header.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    printModal: [{\n      type: Output\n    }],\n    closeModal: [{\n      type: Output\n    }]\n  });\n})();\n/**\n * @dynamic\n */\n\n\nclass PaymentScheduleDetailsWrapperComponent extends DestroyableComponent {\n  constructor(activatedRoute, router, paymentScheduleStoreService, loansStoreService, document, remoteConfig) {\n    super();\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.paymentScheduleStoreService = paymentScheduleStoreService;\n    this.loansStoreService = loansStoreService;\n    this.document = document;\n    this.remoteConfig = remoteConfig;\n    this.callStates$ = combineLatest([this.paymentScheduleStoreService.amortizedPaymentCallState$, this.loansStoreService.loanCallState$]);\n    /**\n     *  Stream of payment id param\n     */\n\n    this.paymentId$ = this.activatedRoute.params.pipe(pluck(scheduleIdParam));\n    /**\n     * Stream of scheduled amortized payment\n     */\n\n    this.amortizedPayment$ = this.paymentScheduleStoreService.amortizedPayment$;\n    /**\n     * Flag represents loading state\n     */\n\n    this.isLoading$ = this.callStates$.pipe(stateMap(isLoadingState));\n    /**\n     * Flag represents error state\n     */\n\n    this.isErrorState$ = this.callStates$.pipe(stateMap(isErrorState));\n    /**\n     * Stream of loan\n     */\n\n    this.loan$ = this.loansStoreService.loan$;\n    /**\n     * Hide or show payment status\n     */\n\n    this.showPaymentStatus = this.remoteConfig.getValue('show_payment_status_retail_loans');\n    /**\n     * Modal options\n     */\n\n    this.modalOptions = {\n      backdrop: 'static',\n      keyboard: true,\n      centered: true,\n      ariaDescribedBy: 'bb-payment-schedule-details-modal-body'\n    };\n    combineLatest([this.paymentId$, this.loan$]).pipe(filter(([, loan]) => Boolean(loan)), takeUntil(this.componentDestroyed$)).subscribe(([amortizationPaymentId, loan]) => {\n      this.paymentScheduleStoreService.fetchAmortizationPayment({\n        loanId: loan.id,\n        amortizationPaymentId\n      });\n    });\n  }\n\n  onCloseModal() {\n    this.router.navigate(['..'], {\n      relativeTo: this.activatedRoute\n    });\n  }\n\n  onPrint() {\n    var _a;\n\n    (_a = this.document.defaultView) === null || _a === void 0 ? void 0 : _a.print();\n  }\n\n}\n/** @nocollapse */\n\n\nPaymentScheduleDetailsWrapperComponent.ɵfac = function PaymentScheduleDetailsWrapperComponent_Factory(t) {\n  return new (t || PaymentScheduleDetailsWrapperComponent)(i0.ɵɵdirectiveInject(i1$2.ActivatedRoute), i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(PaymentScheduleStoreService), i0.ɵɵdirectiveInject(LoansStoreService), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i2$1.RemoteConfigService));\n};\n/** @nocollapse */\n\n\nPaymentScheduleDetailsWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PaymentScheduleDetailsWrapperComponent,\n  selectors: [[\"bb-payment-schedule-details-wrapper\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 2,\n  consts: [[\"data-role\", \"bb-loan-payment-schedule-details-modal\", 3, \"modalOptions\", \"isOpen\", \"isOpenChange\"], [\"bbCustomModalHeader\", \"\"], [\"bbCustomModalBody\", \"\"], [\"data-role\", \"bb-loan-payment-schedule-details-modal__header\", 1, \"bb-stack\", 3, \"closeModal\", \"printModal\"], [\"rootWrapperClasses\", \"\", \"contentWrapperClasses\", \"\", 3, \"isLoadingState\", \"isErrorState\", \"containerHeightFitToContent\"], [\"data-role\", \"bb-loan-payment-schedule-details-modal__body\", 3, \"amortizationPayment\", \"loan\", \"id\", \"showStatus\", 4, \"ngIf\"], [\"data-role\", \"bb-loan-payment-schedule-details-modal__body\", 3, \"amortizationPayment\", \"loan\", \"id\", \"showStatus\"]],\n  template: function PaymentScheduleDetailsWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-modal-ui\", 0);\n      i0.ɵɵlistener(\"isOpenChange\", function PaymentScheduleDetailsWrapperComponent_Template_bb_modal_ui_isOpenChange_0_listener() {\n        return ctx.onCloseModal();\n      });\n      i0.ɵɵelementStart(1, \"bb-modal-header-ui\");\n      i0.ɵɵtemplate(2, PaymentScheduleDetailsWrapperComponent_ng_template_2_Template, 1, 0, \"ng-template\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"bb-modal-body-ui\");\n      i0.ɵɵtemplate(4, PaymentScheduleDetailsWrapperComponent_ng_template_4_Template, 5, 10, \"ng-template\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"modalOptions\", ctx.modalOptions)(\"isOpen\", true);\n    }\n  },\n  directives: [i5$1.ModalComponent, i5$1.ModalHeaderComponent, i5$1.CustomModalHeaderDirective, i5$1.ModalBodyComponent, i5$1.CustomModalBodyDirective, PaymentScheduleDetailsModalHeaderComponent, i1$1.LoansMainContainerComponent, i3.NgIf, i1$1.LoanAmortizedPaymentScheduleDetailsComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleDetailsWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-payment-schedule-details-wrapper',\n      templateUrl: './payment-schedule-details-wrapper.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1$2.ActivatedRoute\n    }, {\n      type: i1$2.Router\n    }, {\n      type: PaymentScheduleStoreService\n    }, {\n      type: LoansStoreService\n    }, {\n      type: Document,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i2$1.RemoteConfigService\n    }];\n  }, null);\n})(); // To prevent error on package:apps process\n\n\nconst tabs = {\n  transactions: () => $localize`:Loan details transactions tab title@@loans.details.tab.transactions.title:Transactions`,\n  statements: () => $localize`:Loan details account statements tab title@@loans.details.tab.statements.title:Statements`,\n  loanInfo: () => $localize`:Loan details info tab title@@loans.details.tab.loan-info.title:Loan info`,\n  paymentSchedule: () => $localize`:Loan details payment schedule tab title@@loans.details.tab.payment-schedule.title:Payment schedule`\n};\nconst loansRoutes = [{\n  path: `:${loanIdParamKey}`,\n  component: LoanDetailsWrapperComponent,\n  children: [{\n    path: '',\n    redirectTo: 'transactions',\n    pathMatch: 'full'\n  }, {\n    path: 'transactions',\n    component: LoanTransactionsWrapperComponent,\n    data: {\n      titleFn: tabs.transactions\n    }\n  }, {\n    path: 'info',\n    component: LoanInfoWrapperComponent,\n    data: {\n      titleFn: tabs.loanInfo\n    }\n  }, {\n    path: 'payment-schedule',\n    component: PaymentScheduleWrapperComponent,\n    data: {\n      titleFn: tabs.paymentSchedule\n    },\n    children: [{\n      path: `:${scheduleIdParam}`,\n      component: PaymentScheduleDetailsWrapperComponent\n    }]\n  }]\n}];\n/**\n * catchError with error logging operator\n *\n * @param fn - callback function\n */\n\nfunction catchErrorWithLog(fn) {\n  return source => source.pipe(catchError(state => {\n    console.error(state);\n    return fn(state);\n  }));\n}\n\nclass ArrangementsService {\n  constructor(arrangementsHttpService) {\n    this.arrangementsHttpService = arrangementsHttpService;\n  }\n\n  updateUserPreferences(arrangementId, alias) {\n    return this.arrangementsHttpService.updateUserPreferences({\n      accountUserPreferences: {\n        alias,\n        arrangementId\n      }\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nArrangementsService.ɵfac = function ArrangementsService_Factory(t) {\n  return new (t || ArrangementsService)(i0.ɵɵinject(i1$4.ArrangementsHttpService));\n};\n/** @nocollapse */\n\n\nArrangementsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ArrangementsService,\n  factory: ArrangementsService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ArrangementsService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$4.ArrangementsHttpService\n    }];\n  }, null);\n})();\n\nclass LoanMapperService {\n  constructor(configuration) {\n    this.configuration = configuration;\n    /**\n     * Loan mapper func\n     */\n\n    this.toLoanModel = this._toLoanModel.bind(this);\n  }\n\n  _toLoanModel(loan) {\n    const loanType = loan.loanType;\n    const config = this.configuration.loanTypeMapping[loanType];\n\n    if (!config) {\n      throw new Error(`[bb-loans]: \"${loanType}\" type was not configured for loans journey`);\n    }\n\n    return Object.assign(Object.assign({}, loan), {\n      viewType: config.viewType,\n      loanTypeAlias: config.typeAlias || loanType\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nLoanMapperService.ɵfac = function LoanMapperService_Factory(t) {\n  return new (t || LoanMapperService)(i0.ɵɵinject(LoansJourneyConfigurationService));\n};\n/** @nocollapse */\n\n\nLoanMapperService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoanMapperService,\n  factory: LoanMapperService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoanMapperService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: LoansJourneyConfigurationService\n    }];\n  }, null);\n})();\n\nclass LoansService {\n  constructor(loansHttpService, loanMapper, configurationService) {\n    this.loansHttpService = loansHttpService;\n    this.loanMapper = loanMapper;\n    this.configurationService = configurationService;\n  }\n\n  getLoans(from) {\n    const size = this.configurationService.loanList.itemsPerPage;\n    return this.loansHttpService.getLoans({\n      from,\n      size\n    }, 'response').pipe(map(response => ({\n      items: response.body.loans.map(this.loanMapper.toLoanModel),\n      totalCount: this.getTotalCount(response)\n    })));\n  }\n\n  getLoanById(loanId) {\n    return this.loansHttpService.getLoanById({\n      loanId\n    }).pipe(map(this.loanMapper.toLoanModel));\n  }\n\n  getLoansAmount() {\n    return this.loansHttpService.headLoans('response').pipe(map(this.getTotalCount));\n  }\n\n  getAmortizationSchedule(params) {\n    return this.loansHttpService.getAmortizationSchedule(params, 'response').pipe(map(response => ({\n      items: response.body.payments,\n      totalCount: this.getTotalCount(response)\n    })));\n  }\n\n  getAmortizationPayment(params) {\n    return this.loansHttpService.getAmortizationPayment(params);\n  }\n\n  getTotalCount({\n    headers\n  }) {\n    const totalCount = headers.get('x-total-count');\n\n    if (!totalCount) {\n      throw new Error('[bb-loans]: Invalid `x-total-count` header param');\n    }\n\n    return parseInt(totalCount, 10);\n  }\n\n}\n/** @nocollapse */\n\n\nLoansService.ɵfac = function LoansService_Factory(t) {\n  return new (t || LoansService)(i0.ɵɵinject(i1$5.LoansHttpService), i0.ɵɵinject(LoanMapperService), i0.ɵɵinject(LoansJourneyConfigurationService));\n};\n/** @nocollapse */\n\n\nLoansService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoansService,\n  factory: LoansService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$5.LoansHttpService\n    }, {\n      type: LoanMapperService\n    }, {\n      type: LoansJourneyConfigurationService\n    }];\n  }, null);\n})();\n\nconst notificationsTitlesConfig = {\n  updateAliasSuccess: $localize`:Loan update alias success notification title@@loans.notifications.alias-update.success.title:Account Alias updated successfully`,\n  updateAliasToDefaultSuccess: $localize`:Loan update alias to product name success notification title@@loans.notifications.alias-update-to-product-name.success.title:Account Alias reset to default product name`,\n  updateAliasError: $localize`:Loan update alias error notification title@@loans.notifications.alias-update.error.title:An unexpected error occurred while performing this action`\n};\n\nclass LoansEffects {\n  constructor(actions$, store, loansService, arrangementsService, notificationService, router) {\n    this.actions$ = actions$;\n    this.store = store;\n    this.loansService = loansService;\n    this.arrangementsService = arrangementsService;\n    this.notificationService = notificationService;\n    this.router = router;\n    this.fetchLoans$ = createEffect(() => this.actions$.pipe(ofType(loadLoans), switchMap(({\n      page,\n      append\n    }) => this.loansService.getLoans(page).pipe(map(response => loadLoansSuccess({\n      response,\n      append\n    })), catchErrorWithLog(error => of(loadLoansError({\n      error: error.message || 'Loans fetch error'\n    })))))));\n    this.redirectToDetailsFromList$ = createEffect(() => this.actions$.pipe(ofType(loadLoansSuccess), tap(({\n      response: {\n        totalCount,\n        items\n      }\n    }) => {\n      if (totalCount === 1) {\n        this.router.navigateByUrl('loans/details/' + items[0].id);\n      }\n    })), {\n      dispatch: false\n    });\n    this.fetchLoanById$ = createEffect(() => this.actions$.pipe(ofType(fetchLoanById), switchMap(({\n      id\n    }) => this.loansService.getLoanById(id).pipe(map(loan => {\n      setLoan(loan);\n      return fetchLoanByIdSuccess({\n        loan\n      });\n    }), catchErrorWithLog(error => of(fetchLoanByIdError({\n      error: error.message || 'Loan fetch error'\n    })))))));\n    this.fetchAmountOfLoans$ = createEffect(() => this.actions$.pipe(ofType(fetchAmountOfLoans), withLatestFrom(this.store.select(selectLoansTotalCount)), switchMap(([, totalCountFromStore]) => {\n      if (totalCountFromStore !== undefined) {\n        return of(fetchAmountOfLoansSuccess({\n          totalCount: totalCountFromStore\n        }));\n      }\n\n      return this.loansService.getLoansAmount().pipe(map(totalCount => fetchAmountOfLoansSuccess({\n        totalCount\n      })), catchError(() => this.loansService.getLoans(0).pipe(map(({\n        totalCount\n      }) => fetchAmountOfLoansSuccess({\n        totalCount\n      })), catchErrorWithLog(() => of(fetchAmountOfLoansError())))));\n    })));\n    this.updateLoanAlias$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAlias), withLatestFrom(this.store.select(selectLoan)), switchMap(([{\n      alias\n    }, loan]) => {\n      const id = loan.id;\n      return this.arrangementsService.updateUserPreferences(id, alias).pipe(map(() => updateLoanAliasSuccess({\n        alias,\n        id\n      })), catchError(error => of(updateLoanAliasError({\n        error: error.message || 'Update alias error'\n      }))), takeUntil(this.actions$.pipe(ofType(updateLoanAliasCancel))));\n    })));\n    this.updateLoanAfterAliasUpdate$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasSuccess), map(({\n      id\n    }) => fetchLoanById({\n      id\n    }))));\n    this.notifyAliasUpdateSuccess$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasSuccess), tap(({\n      alias\n    }) => this.notificationService.showNotification({\n      header: alias ? notificationsTitlesConfig.updateAliasSuccess : notificationsTitlesConfig.updateAliasToDefaultSuccess,\n      message: '',\n      modifier: 'success'\n    }))), {\n      dispatch: false\n    });\n    this.notifyAliasUpdateError$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasError), tap(() => this.notificationService.showNotification({\n      header: notificationsTitlesConfig.updateAliasError,\n      message: '',\n      modifier: 'error'\n    }))), {\n      dispatch: false\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nLoansEffects.ɵfac = function LoansEffects_Factory(t) {\n  return new (t || LoansEffects)(i0.ɵɵinject(i1$6.Actions), i0.ɵɵinject(i1.Store), i0.ɵɵinject(LoansService), i0.ɵɵinject(ArrangementsService), i0.ɵɵinject(i5$2.NotificationService), i0.ɵɵinject(i1$2.Router));\n};\n/** @nocollapse */\n\n\nLoansEffects.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoansEffects,\n  factory: LoansEffects.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansEffects, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$6.Actions\n    }, {\n      type: i1.Store\n    }, {\n      type: LoansService\n    }, {\n      type: ArrangementsService\n    }, {\n      type: i5$2.NotificationService\n    }, {\n      type: i1$2.Router\n    }];\n  }, null);\n})();\n\nclass LoansStoreModule {}\n/** @nocollapse */\n\n\nLoansStoreModule.ɵfac = function LoansStoreModule_Factory(t) {\n  return new (t || LoansStoreModule)();\n};\n/** @nocollapse */\n\n\nLoansStoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: LoansStoreModule\n});\n/** @nocollapse */\n\nLoansStoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [LoansStoreService],\n  imports: [[StoreModule.forFeature(storeKey, loansReducer), EffectsModule.forFeature([LoansEffects])]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansStoreModule, [{\n    type: NgModule,\n    args: [{\n      imports: [StoreModule.forFeature(storeKey, loansReducer), EffectsModule.forFeature([LoansEffects])],\n      providers: [LoansStoreService]\n    }]\n  }], null, null);\n})();\n\nclass PaymentScheduleEffects {\n  constructor(actions$, loansService) {\n    this.actions$ = actions$;\n    this.loansService = loansService;\n    this.fetchAmortizationSchedule$ = createEffect(() => this.actions$.pipe(ofType(fetchAmortizationSchedule), switchMap(({\n      params: {\n        loanId,\n        from,\n        append,\n        size\n      }\n    }) => this.loansService.getAmortizationSchedule({\n      from,\n      size,\n      loanId\n    }).pipe(map(response => fetchAmortizationScheduleSuccess({\n      response,\n      append\n    })), catchErrorWithLog(error => of(fetchAmortizationScheduleError({\n      error: error.message || 'Amortization schedule fetch error'\n    })))))));\n    this.fetchAmortizationPayment$ = createEffect(() => this.actions$.pipe(ofType(fetchAmortizationPayment), switchMap(({\n      params\n    }) => this.loansService.getAmortizationPayment(params).pipe(map(amortizedPayment => fetchAmortizationPaymentSuccess({\n      amortizedPayment\n    })), catchErrorWithLog(error => of(fetchAmortizationPaymentError({\n      error: error.message || 'Amortization payment fetch error'\n    })))))));\n  }\n\n}\n/** @nocollapse */\n\n\nPaymentScheduleEffects.ɵfac = function PaymentScheduleEffects_Factory(t) {\n  return new (t || PaymentScheduleEffects)(i0.ɵɵinject(i1$6.Actions), i0.ɵɵinject(LoansService));\n};\n/** @nocollapse */\n\n\nPaymentScheduleEffects.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PaymentScheduleEffects,\n  factory: PaymentScheduleEffects.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleEffects, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$6.Actions\n    }, {\n      type: LoansService\n    }];\n  }, null);\n})();\n\nclass PaymentScheduleStoreModule {}\n/** @nocollapse */\n\n\nPaymentScheduleStoreModule.ɵfac = function PaymentScheduleStoreModule_Factory(t) {\n  return new (t || PaymentScheduleStoreModule)();\n};\n/** @nocollapse */\n\n\nPaymentScheduleStoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PaymentScheduleStoreModule\n});\n/** @nocollapse */\n\nPaymentScheduleStoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [PaymentScheduleStoreService],\n  imports: [[StoreModule.forFeature(paymentScheduleStoreKey, paymentScheduleReducer), EffectsModule.forFeature([PaymentScheduleEffects])]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PaymentScheduleStoreModule, [{\n    type: NgModule,\n    args: [{\n      imports: [StoreModule.forFeature(paymentScheduleStoreKey, paymentScheduleReducer), EffectsModule.forFeature([PaymentScheduleEffects])],\n      providers: [PaymentScheduleStoreService]\n    }]\n  }], null, null);\n})();\n\nconst components = [LoanDetailsWrapperComponent, LoanSummaryComponent, LoanTransactionsWrapperComponent, LoanInfoWrapperComponent, PaymentScheduleWrapperComponent, PaymentScheduleDetailsWrapperComponent, PaymentScheduleDetailsModalHeaderComponent, LoanInfoRetailComponent];\nconst modules = [LoanInfoPrintButtonModule, LoanItemNameModule, TransactionsListWidgetModule, LoanInfoItemModule, LoansHeadingModule, LoansCollectionUiAngModule, AccountStatementBusinessWidgetModule];\n\nclass LoansJourneyModule {\n  static forRoot(data = {\n    routes: loansRoutes\n  }) {\n    return {\n      ngModule: LoansJourneyModule,\n      providers: [provideRoutes(data.routes)]\n    };\n  }\n\n}\n/** @nocollapse */\n\n\nLoansJourneyModule.ɵfac = function LoansJourneyModule_Factory(t) {\n  return new (t || LoansJourneyModule)();\n};\n/** @nocollapse */\n\n\nLoansJourneyModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: LoansJourneyModule\n});\n/** @nocollapse */\n\nLoansJourneyModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [LoansJourneyConfigurationService, LoanMapperService, LoansService, ArrangementsService],\n  imports: [[CommonModule, RouterModule, LoansStoreModule, PaymentScheduleStoreModule, EntitlementsModule, ...modules], LoanInfoPrintButtonModule, LoanItemNameModule, TransactionsListWidgetModule, LoanInfoItemModule, LoansHeadingModule, LoansCollectionUiAngModule, AccountStatementBusinessWidgetModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoansJourneyModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [...components],\n      imports: [CommonModule, RouterModule, LoansStoreModule, PaymentScheduleStoreModule, EntitlementsModule, ...modules],\n      exports: [...components, ...modules],\n      providers: [LoansJourneyConfigurationService, LoanMapperService, LoansService, ArrangementsService]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { LOAN_JOURNEY_COMMUNICATOR, LoadingState, LoanDetailsBaseComponent, LoanDetailsWrapperComponent, LoanInfoRetailComponent, LoanInfoWrapperComponent, LoanSummaryComponent, LoanTransactionsWrapperComponent, LoansJourneyConfigurationService, LoansJourneyConfigurationToken, LoansJourneyModule, LoansStoreService, PaymentScheduleDetailsModalHeaderComponent, PaymentScheduleDetailsWrapperComponent, PaymentScheduleStoreService, PaymentScheduleWrapperComponent, loansConfigurationDefault, loansRoutes };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/retail-loans-journey-ang/fesm2015/backbase-retail-loans-journey-ang.js"],"names":["i1$2","provideRoutes","RouterModule","i3","DOCUMENT","CommonModule","i0","InjectionToken","Injectable","Optional","Inject","Directive","Component","ChangeDetectionStrategy","Input","EventEmitter","Output","NgModule","CONDITIONS","EntitlementsModule","i1$1","LoanDefaultViewType","LoanInfoItemType","LoanInfoDocumentsSectionComponent","LoanInfoTermItemComponent","LoanInfoCollateralSectionComponent","LoanInfoEscrowSectionComponent","LoanInfoComponent","getLoanAlias","LoanSummaryFormulaViewType","LoanPaymentInfoType","PaymentOptions","DestroyableComponent","LoanInfoPrintButtonModule","LoanItemNameModule","LoanInfoItemModule","LoansHeadingModule","LoansCollectionUiAngModule","AccountStatementBusinessWidgetModule","PaginationType","PaginationType$1","map","pluck","filter","takeUntil","catchError","switchMap","tap","withLatestFrom","i1","createAction","props","createReducer","on","createFeatureSelector","createSelector","StoreModule","InputInlineEditState","i2","i5","AccountAliasDisplayingLevel","ACCOUNT_ALIAS_DISPLAYING_LEVEL","BigNumber","i2$1","i2$2","TransactionsListWidgetModule","combineLatest","of","i3$1","i7","i8","i5$1","i1$3","i2$3","i1$6","createEffect","ofType","EffectsModule","i5$2","i1$4","i1$5","setLoan","LoadingState","loansConfigurationDefault","transaction","showCheckImages","showChangeCategory","showManageNotes","showControls","paginationType","PAGINATION","itemsPerPage","maxNavPages","enableDisputeAndInquiry","disputeEligibilityDays","disputeTransactionTypes","disputeByBillingStatus","disputeTopicId","inquireTopicId","accountStatement","notificationDismissTime","Pagination","sortingOrder","sortingDirection","loanTypeMapping","LineOfCredit","viewType","typeAlias","$localize","Mortgage","TermLoan","loansList","paymentSchedule","LoansJourneyConfigurationToken","LoansJourneyConfigurationService","constructor","config","configuration","Object","assign","transactionConfig","accountStatementConfig","loanList","ɵfac","ɵprov","type","undefined","decorators","args","titles","sections","general","status","financialDetails","documents","collateral","escrow","items","name","contractNumber","branchCode","currency","defaultSettlementAccountName","defaultSettlementAccountNumber","startDate","maturityDate","accountNumber","borrowers","creditLimit","drawnAmount","endDate","availableBalance","availableAmount","outstandingAmount","paidAmount","owedAmount","feesDue","interestDue","interestRate","overdueAmount","accruedInterestAmount","originalPrincipal","remainingPrincipal","amountRepaid","totalOutstandingAmount","principalPaymentFrequency","interestPaymentFrequency","showAmountItem","amountKey","loan","Boolean","currencyCode","showCollaterals","item","_a","some","collateralItem","values","showBorrowers","borrower","length","showDocuments","documentId","showTerm","termUnit","termCount","showDefaultSettlementAccountName","showEscrowSection","cssClasses","generalSection","title","fieldKey","fieldType","String","showItem","StringArray","statusSectionBaseItems","Date","paymentInterestsSectionBaseItems","Amount","Percent","PaymentFrequency","outstandingAmountItem","overdueAmountItem","documentsSection","componentRef","statusMortgageTermSection","financialDetailsMortgageTermSection","colleteralSection","loanInfoLineOfCreditDataConfig","loanInfoMortgageDataConfig","loanInfoTermDataConfig","getLoanInfoDataConfig","Error","getCallStateError","callState","error","isInitialState","callStates","state","Init","isLoadingState","Loading","isErrorState","prototype","hasOwnProperty","call","isLoadedState","every","Loaded","stateMap","fn","source","pipe","Array","isArray","loadLoans","loadLoansSuccess","loadLoansError","fetchLoanById","fetchLoanByIdSuccess","fetchLoanByIdError","fetchAmountOfLoans","fetchAmountOfLoansSuccess","fetchAmountOfLoansError","updateLoanAlias","updateLoanAliasSuccess","updateLoanAliasError","updateLoanAliasCancel","storeKey","initialState$1","loans","loansCurrentPage","loansTotalCount","loansCallState","loanCallState","aliasUpdateCallState","_loansReducer","page","append","response","totalCount","loansReducer","action","getLoansState","selectLoans","selectLoansCallState","selectLoan","selectLoanCallState","selectShowNavigateToOverview","selectLoansCurrentPage","selectLoansTotalCount","selectAliasUpdateCallState","LoansStoreService","store","loansCallState$","select","loans$","loanCallState$","loan$","showNavigateToOverview$","loansCurrentPage$","loansTotalCount$","aliasEditState$","LOADING","IDLE","fetchLoans","dispatch","id","updateAlias","alias","cancelAliasUpdate","Store","LoanDetailsBaseComponent","storeService","isLoading$","isErrorState$","ɵdir","LoanInfoRetailComponent","ngOnChanges","loanAlias","ɵcmp","LoanItemNameComponent","LoanInfoPrintButtonComponent","NgForOf","HeaderComponent","NgClass","NgIf","LoanInfoItemComponent","LoanInfoCustomSectionDirective","selector","templateUrl","changeDetection","OnPush","LoanInfoWrapperComponent","getDataConfig","LoansMainContainerComponent","AsyncPipe","LOAN_JOURNEY_COMMUNICATOR","iconsConfig","accountEditEntitlementsConfig","USER","ACCOUNT","getFormulaViewType","value","totalValue","amounts","amountValues","reduce","accum","push","moreThanThreeAmounts","totalAmount","amountValuesSum","val","plus","isEqualTo","CollapsibleList","Equation","OnlyTotal","AmountsInRows","AmountsInColumns","getLoanSummaryFormulaDataConfig","isLineOfCreditType","inArrearsAmount","shouldShow","detailsPaymentInfoFn","isFullyRepaid","nextRepaymentDate","nextRepaymentAmount","paymentType","FullyPaid","isOverdueDate","parse","setHours","date","amount","ScheduledLast","ScheduledNext","isProgressBarDataShown","isGreaterThanOrEqualTo","isGreaterThan","isAmountShown","retailLoanSummaryTermLoanProgressDataConfig","activeAmount","showData","retailLoanSummaryLineOfCreditProgressDataConfig","isMortgageTotalAmountShown","retailLoanSummaryMortgageTermProgressDataConfig","showProgressBar","showActiveAmount","showAvailableAmount","showTotalAmount","getChangedAmountFocus","dataConfig","retailLoanSummaryTermLoanDataConfig","progressBar","paymentInfo","formula","icons","retailLoanSummaryLineOfCreditDataConfig","retailLoanSummaryMortgageTermDataConfig","getRetailLoanSummaryDataConfig","owedAmountFocus","LoanSummaryComponent","conditions","accountAliasDisplayingLevel","loanCommunication","remoteConfig","canEditAlias","resolveEntitlements","loanId","getValue","onUpdateAlias","onCancelAliasUpdate","onDrawAmount","navigateToLoanAdvance","onPayDown","navigateToLoanPayment","getAllowedPaymentOption","paymentOptionName","options","paymentOptions","find","option","allowed","RemoteConfigService","RetailLoanSummaryContainerComponent","LoanDetailsWrapperComponent","router","activatedRoute","_b","accountId$","params","selectedAccount","showNavigationButton$","tabs","createRouteTabs","snapshot","routeConfig","children","navigateToAccounts","navigate","routes","path","data","titleFn","route","Router","ActivatedRoute","LoansTabsComponent","safeStringify","JSON","stringify","e","console","warn","LoanTransactionsWrapperComponent","configurationService","initialFilterOptions","initialSortOptions","TransactionsListWidgetComponent","loanIdParamKey","scheduleIdParam","fetchAmortizationSchedule","fetchAmortizationScheduleSuccess","fetchAmortizationScheduleError","fetchAmortizationPayment","fetchAmortizationPaymentSuccess","fetchAmortizationPaymentError","paymentScheduleStoreKey","initialState","amortizedPayments","amortizedPaymentsTotalCount","amortizedPaymentsCurrenPage","amortizedPaymentsCallState","amortizedPayment","amortizedPaymentCallState","reducer","from","paymentScheduleReducer","createPaymentScheduleSelector","projector","selectAmortizedPayments","selectAmortizedPaymentsCallState","selectAmortizedPaymentsTotalCount","selectAmortizedPaymentsCurrentPage","selectAmortizedPayment","selectAmortizedPaymentCallState","PaymentScheduleStoreService","amortizedPaymentsCallState$","amortizedPayments$","amortizedPaymentCallState$","amortizedPayment$","amortizedPaymentsTotalCount$","amortizedPaymentsCurrentPage$","PaymentScheduleWrapperComponent","mediaQueryService","scheduleConfig","showPaymentStatus","isTabletResolution$","isMediaBreakpointMatches","_isLoading$","isPageLoading$","isTabletResolution","currentPage","isButtonLoading$","isLoadMoreVisible$","total","isEmptyState$","baseReqParams","parent","size","onPageChange","onLoadMore","onItemSelect","relativeTo","MediaQueryService","RouterOutlet","LoanAmortizedPaymentScheduleListComponent","LoadButtonComponent","LoanAmortizedPaymentScheduleTableComponent","EmptyStateComponent","PaymentScheduleDetailsModalHeaderComponent","printModal","closeModal","ButtonDirective","IconComponent","PaymentScheduleDetailsWrapperComponent","paymentScheduleStoreService","loansStoreService","document","callStates$","paymentId$","modalOptions","backdrop","keyboard","centered","ariaDescribedBy","componentDestroyed$","subscribe","amortizationPaymentId","onCloseModal","onPrint","defaultView","print","ModalComponent","ModalHeaderComponent","CustomModalHeaderDirective","ModalBodyComponent","CustomModalBodyDirective","LoanAmortizedPaymentScheduleDetailsComponent","Document","transactions","statements","loanInfo","loansRoutes","component","redirectTo","pathMatch","catchErrorWithLog","ArrangementsService","arrangementsHttpService","updateUserPreferences","arrangementId","accountUserPreferences","ArrangementsHttpService","LoanMapperService","toLoanModel","_toLoanModel","bind","loanType","loanTypeAlias","LoansService","loansHttpService","loanMapper","getLoans","body","getTotalCount","getLoanById","getLoansAmount","headLoans","getAmortizationSchedule","payments","getAmortizationPayment","headers","get","parseInt","LoansHttpService","notificationsTitlesConfig","updateAliasSuccess","updateAliasToDefaultSuccess","updateAliasError","LoansEffects","actions$","loansService","arrangementsService","notificationService","fetchLoans$","message","redirectToDetailsFromList$","navigateByUrl","fetchLoanById$","fetchAmountOfLoans$","totalCountFromStore","updateLoanAlias$","updateLoanAfterAliasUpdate$","notifyAliasUpdateSuccess$","showNotification","header","modifier","notifyAliasUpdateError$","Actions","NotificationService","LoansStoreModule","ɵmod","ɵinj","forFeature","imports","providers","PaymentScheduleEffects","fetchAmortizationSchedule$","fetchAmortizationPayment$","PaymentScheduleStoreModule","components","modules","LoansJourneyModule","forRoot","ngModule","declarations","exports"],"mappings":"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","sourcesContent":["import * as i1$2 from '@angular/router';\nimport { provideRoutes, RouterModule } from '@angular/router';\nimport * as i3 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Directive, Component, ChangeDetectionStrategy, Input, EventEmitter, Output, NgModule } from '@angular/core';\nimport { CONDITIONS, EntitlementsModule } from '@backbase/foundation-ang/entitlements';\nimport * as i1$1 from '@backbase/loans-collection-ui-ang';\nimport { LoanDefaultViewType, LoanInfoItemType, LoanInfoDocumentsSectionComponent, LoanInfoTermItemComponent, LoanInfoCollateralSectionComponent, LoanInfoEscrowSectionComponent, LoanInfoComponent, getLoanAlias, LoanSummaryFormulaViewType, LoanPaymentInfoType, PaymentOptions, DestroyableComponent, LoanInfoPrintButtonModule, LoanItemNameModule, LoanInfoItemModule, LoansHeadingModule, LoansCollectionUiAngModule } from '@backbase/loans-collection-ui-ang';\nimport { AccountStatementBusinessWidgetModule } from '@backbase/account-statement-business-widget-ang';\nimport '@angular/localize/init';\nimport { PaginationType as PaginationType$1 } from '@backbase/account-statement-common-ang';\nimport { PaginationType } from '@backbase/transactions-common-ang';\nimport { map, pluck, filter, takeUntil, catchError, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport * as i1 from '@ngrx/store';\nimport { createAction, props, createReducer, on, createFeatureSelector, createSelector, StoreModule } from '@ngrx/store';\nimport { InputInlineEditState } from '@backbase/ui-ang/input-inline-edit';\nimport * as i2 from '@backbase/ui-ang/header';\nimport * as i5 from '@backbase/product-summary-common-ang';\nimport { AccountAliasDisplayingLevel, ACCOUNT_ALIAS_DISPLAYING_LEVEL } from '@backbase/product-summary-common-ang';\nimport BigNumber from 'bignumber.js';\nimport * as i2$1 from '@backbase/remote-config-ang';\nimport * as i2$2 from '@backbase/transactions-list-widget-ang';\nimport { TransactionsListWidgetModule } from '@backbase/transactions-list-widget-ang';\nimport { combineLatest, of } from 'rxjs';\nimport * as i3$1 from '@backbase/ui-ang/media-query-lib';\nimport * as i7 from '@backbase/ui-ang/load-button';\nimport * as i8 from '@backbase/ui-ang/empty-state';\nimport * as i5$1 from '@backbase/ui-ang/modal';\nimport * as i1$3 from '@backbase/ui-ang/icon';\nimport * as i2$3 from '@backbase/ui-ang/button';\nimport * as i1$6 from '@ngrx/effects';\nimport { createEffect, ofType, EffectsModule } from '@ngrx/effects';\nimport * as i5$2 from '@backbase/ui-ang/notification';\nimport * as i1$4 from '@backbase/data-ang/arrangements';\nimport * as i1$5 from '@backbase/data-ang/loans';\nimport { setLoan } from '@backbase/loans-payment-config-ang';\n\n/** Enum represents different possible loading states of ajax call */\nvar LoadingState;\n(function (LoadingState) {\n    LoadingState[\"Init\"] = \"Init\";\n    LoadingState[\"Loading\"] = \"Loading\";\n    LoadingState[\"Loaded\"] = \"Loaded\";\n})(LoadingState || (LoadingState = {}));\n\nconst loansConfigurationDefault = {\n    transaction: {\n        showCheckImages: true,\n        showChangeCategory: true,\n        showManageNotes: true,\n        showControls: true,\n        paginationType: PaginationType.PAGINATION,\n        itemsPerPage: 10,\n        maxNavPages: 3,\n        enableDisputeAndInquiry: true,\n        disputeEligibilityDays: 120,\n        disputeTransactionTypes: 'Credit/Debit Card',\n        disputeByBillingStatus: true,\n        disputeTopicId: '',\n        inquireTopicId: '',\n    },\n    accountStatement: {\n        notificationDismissTime: 5,\n        itemsPerPage: 10,\n        paginationType: PaginationType$1.Pagination,\n        sortingOrder: 'date',\n        sortingDirection: 'DESC',\n    },\n    loanTypeMapping: {\n        LineOfCredit: {\n            viewType: LoanDefaultViewType.LineOfCredit,\n            typeAlias: $localize `:Loan line of credit loan type alias@@loans.type.line-of-credit.alias:Line Of Credit`,\n        },\n        Mortgage: {\n            viewType: LoanDefaultViewType.Mortgage,\n            typeAlias: $localize `:Loan mortgage loan type alias@@loans.type.mortgage.alias:Mortgage Loan`,\n        },\n        TermLoan: {\n            viewType: LoanDefaultViewType.TermLoan,\n            typeAlias: $localize `:Loan term loan type alias@@loans.type.term.alias:Term Loan`,\n        },\n    },\n    loansList: {\n        itemsPerPage: 10,\n        maxNavPages: 3,\n    },\n    paymentSchedule: {\n        itemsPerPage: 10,\n        maxNavPages: 3,\n    },\n};\nconst LoansJourneyConfigurationToken = new InjectionToken('LoansJourneyConfiguration injection token');\n/**\n * @dynamic\n */\nclass LoansJourneyConfigurationService {\n    constructor(config) {\n        this.configuration = Object.assign(Object.assign({}, loansConfigurationDefault), config);\n    }\n    get transactionConfig() {\n        return this.configuration.transaction;\n    }\n    get accountStatementConfig() {\n        return this.configuration.accountStatement;\n    }\n    get loanTypeMapping() {\n        return this.configuration.loanTypeMapping;\n    }\n    get loanList() {\n        return this.configuration.loansList;\n    }\n    get paymentSchedule() {\n        return this.configuration.paymentSchedule;\n    }\n}\n/** @nocollapse */ LoansJourneyConfigurationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyConfigurationService, deps: [{ token: LoansJourneyConfigurationToken, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ LoansJourneyConfigurationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyConfigurationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyConfigurationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [LoansJourneyConfigurationToken]\n                }] }]; } });\n\nconst titles = {\n    sections: {\n        general: $localize `:Loan info general section title@@loans.loan-info.section.general.title:General`,\n        status: $localize `:Loan info status section title@@loans.loan-info.section.status.title:Status`,\n        financialDetails: $localize `:Loan info financial details section title@@loans.loan-info.section.financial-details.title:Financial details`,\n        documents: $localize `:Loan info documents section title@@loans.loan-info.section.documents.title:Documents`,\n        collateral: $localize `:Loan info collateral section title@@loans.loan-info.section.collateral.title:Collateral`,\n        escrow: $localize `:Loan info escrow section title@@loans.loan-info.section.escrow.title:Amount set aside for escrow`,\n    },\n    items: {\n        name: $localize `:Loan info name item title@@loans.loan-info.item.name.title:Product name`,\n        contractNumber: $localize `:Loan info contract number item title@@loans.loan-info.item.contract-number.title:Contract number`,\n        branchCode: $localize `:Loan info branch code item title@@loans.loan-info.item.branch-code.title:Branch code`,\n        currency: $localize `:Loan info branch currency item title@@loans.loan-info.item.currency.title:Currency`,\n        defaultSettlementAccountName: $localize `:Loan info branch default settlement account name item title@@loans.loan-info.item.default-settlement-account-name.title:Default settlement account name`,\n        defaultSettlementAccountNumber: $localize `:Loan info branch default settlement account number item title@@loans.loan-info.item.default-settlement-account-number.title:Default settlement account number`,\n        startDate: $localize `:Loan info start date item title@@loans.loan-info.item.start-date.title:Start date`,\n        maturityDate: $localize `:Loan info maturity date item title@@loans.loan-info.item.maturity-date.title:Maturity date`,\n        type: $localize `:Loan info type item title@@loans.loan-info.item.type.title:Type`,\n        accountNumber: $localize `:Loan info account number item title@@loans.loan-info.item.account-number.title:Account number`,\n        borrowers: $localize `:Loan info borrowers item title@@loans.loan-info.item.borrowers.title:Borrower/s`,\n        status: $localize `:Loan info status item title@@loans.loan-info.item.status.title:Loan status`,\n        creditLimit: $localize `:Loan info credit limit item title@@loans.loan-info.item.credit-limit.title:Credit limit`,\n        drawnAmount: $localize `:Loan info drawn amount item title@@loans.loan-info.item.drawn-amount.title:Drawn amount`,\n        endDate: $localize `:Loan info end date item title@@loans.loan-info.item.end-date.title:End date`,\n        availableBalance: $localize `:Loan info available balance item title@@loans.loan-info.item.available-balance.title:Available balance`,\n        availableAmount: $localize `:Loan info available amount item title@@loans.loan-info.item.available-amount.title:Available amount`,\n        outstandingAmount: $localize `:Loan info outstanding amount item title@@loans.loan-info.item.outstanding-amount.title:Outstanding amount`,\n        paidAmount: $localize `:Loan info paid amount item title@@loans.loan-info.item.paid-amount.title:Paid amount`,\n        owedAmount: $localize `:Loan info owed amount item title@@loans.loan-info.item.owed-amount.title:Owed amount`,\n        feesDue: $localize `:Loan info fees due item title@@loans.loan-info.item.fees-due.title:Fees due`,\n        interestDue: $localize `:Loan info interest due title@@loans.loan-info.interest-due.title:Interest due`,\n        interestRate: $localize `:Loan info interest rate item title@@loans.loan-info.item.interest-rate.title:Interest rate`,\n        overdueAmount: $localize `:Loan info overdue amount item title@@loans.loan-info.item.overdue-amount.title:Overdue amount`,\n        accruedInterestAmount: $localize `:Loan info accrued interest amount item title@@loans.loan-info.item.accrued-interest-amount.title:Accrued interest amount`,\n        originalPrincipal: $localize `:Loan info original principal title@@loans.loan-info.original-principal.title:Original principal`,\n        remainingPrincipal: $localize `:Loan info remaining principal title@@loans.loan-info.remaining-principal.title:Remaining principal`,\n        amountRepaid: $localize `:Loan info amount repaid title@@loans.loan-info.amount-repaid.title:Amount repaid`,\n        totalOutstandingAmount: $localize `:Loan info total outstanding amount title@@loans.loan-info.total-outstanding-amount.title:Total outstanding amount`,\n        principalPaymentFrequency: $localize `:Loan info principal payment frequency title@@loans.loan-info.principal-payment-frequency.title:Principal payment frequency`,\n        interestPaymentFrequency: $localize `:Loan info interest payment frequency title@@loans.loan-info.interest-payment-frequency.title:Interest payment frequency`,\n    },\n};\n\nconst showAmountItem = (amountKey) => (loan) => Boolean(loan.currencyCode && loan[amountKey]);\nconst showCollaterals = (item) => { var _a; return Boolean((_a = item.collateral) === null || _a === void 0 ? void 0 : _a.some((collateralItem) => Object.values(collateralItem).some(Boolean))); };\nconst showBorrowers = (item) => { var _a; return Boolean((_a = item.borrower) === null || _a === void 0 ? void 0 : _a.length); };\nconst showDocuments = (item) => { var _a; return Boolean((_a = item.documents) === null || _a === void 0 ? void 0 : _a.some(({ documentId }) => documentId)); };\nconst showTerm = (item) => Boolean(item.termUnit && item.termCount);\nconst showDefaultSettlementAccountName = (item) => Boolean(item.defaultSettlementAccountName && item.defaultSettlementAccountNumber);\nconst showEscrowSection = (item) => Boolean(item.currencyCode && item.escrow && Object.values(item.escrow).some(Boolean));\nconst cssClasses = 'col-sm-6 col-12';\nconst generalSection = {\n    title: titles.sections.general,\n    items: [\n        {\n            cssClasses,\n            title: titles.items.name,\n            fieldKey: 'name',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.type,\n            fieldKey: 'loanTypeAlias',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.contractNumber,\n            fieldKey: 'contractNumber',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.accountNumber,\n            fieldKey: 'accountNumber',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.branchCode,\n            fieldKey: 'branchCode',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.currency,\n            fieldKey: 'currencyCode',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.defaultSettlementAccountName,\n            fieldKey: 'defaultSettlementAccountName',\n            fieldType: LoanInfoItemType.String,\n            showItem: showDefaultSettlementAccountName,\n        },\n        {\n            cssClasses,\n            title: titles.items.defaultSettlementAccountNumber,\n            fieldKey: 'defaultSettlementAccountNumber',\n            fieldType: LoanInfoItemType.String,\n        },\n        {\n            cssClasses,\n            title: titles.items.borrowers,\n            fieldKey: 'borrower',\n            fieldType: LoanInfoItemType.StringArray,\n            showItem: showBorrowers,\n        },\n    ],\n};\nconst statusSectionBaseItems = [\n    {\n        cssClasses,\n        title: titles.items.status,\n        fieldKey: 'loanStatus',\n        fieldType: LoanInfoItemType.String,\n    },\n    {\n        cssClasses,\n        title: titles.items.startDate,\n        fieldKey: 'startDate',\n        fieldType: LoanInfoItemType.Date,\n    },\n];\nconst paymentInterestsSectionBaseItems = [\n    {\n        cssClasses,\n        title: titles.items.feesDue,\n        fieldKey: 'feesDue',\n        fieldType: LoanInfoItemType.Amount,\n        showItem: showAmountItem('feesDue'),\n    },\n    {\n        cssClasses,\n        title: titles.items.accruedInterestAmount,\n        fieldKey: 'interestDue',\n        fieldType: LoanInfoItemType.Amount,\n        showItem: showAmountItem('interestDue'),\n    },\n    {\n        cssClasses,\n        title: titles.items.interestRate,\n        fieldKey: 'interestRate',\n        fieldType: LoanInfoItemType.Percent,\n    },\n    {\n        cssClasses,\n        title: titles.items.principalPaymentFrequency,\n        fieldKey: 'paymentFrequency',\n        fieldType: LoanInfoItemType.PaymentFrequency,\n    },\n    {\n        cssClasses,\n        title: titles.items.interestPaymentFrequency,\n        fieldKey: 'interestPaymentFrequency',\n        fieldType: LoanInfoItemType.PaymentFrequency,\n    },\n];\nconst outstandingAmountItem = {\n    cssClasses,\n    title: titles.items.outstandingAmount,\n    fieldKey: 'outstandingAmount',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('outstandingAmount'),\n};\nconst overdueAmountItem = {\n    cssClasses,\n    title: titles.items.overdueAmount,\n    fieldKey: 'inArrearsAmount',\n    fieldType: LoanInfoItemType.Amount,\n    showItem: showAmountItem('inArrearsAmount'),\n};\nconst documentsSection = {\n    title: titles.sections.documents,\n    items: [\n        {\n            cssClasses: 'col-sm-10 col-12',\n            componentRef: LoanInfoDocumentsSectionComponent,\n            showItem: showDocuments,\n        },\n    ],\n};\nconst statusMortgageTermSection = {\n    title: titles.sections.status,\n    items: [\n        ...statusSectionBaseItems,\n        {\n            cssClasses,\n            title: titles.items.maturityDate,\n            fieldKey: 'endDate',\n            fieldType: LoanInfoItemType.Date,\n        },\n        {\n            cssClasses: 'col-6',\n            componentRef: LoanInfoTermItemComponent,\n            showItem: showTerm,\n        },\n    ],\n};\nconst financialDetailsMortgageTermSection = {\n    title: titles.sections.financialDetails,\n    items: [\n        outstandingAmountItem,\n        {\n            cssClasses,\n            title: titles.items.remainingPrincipal,\n            fieldKey: 'drawnAmount',\n            fieldType: LoanInfoItemType.Amount,\n            showItem: showAmountItem('drawnAmount'),\n        },\n        {\n            cssClasses,\n            title: titles.items.amountRepaid,\n            fieldKey: 'paidAmount',\n            fieldType: LoanInfoItemType.Amount,\n            showItem: showAmountItem('paidAmount'),\n        },\n        overdueAmountItem,\n        {\n            cssClasses,\n            title: titles.items.originalPrincipal,\n            fieldKey: 'creditLimit',\n            fieldType: LoanInfoItemType.Amount,\n            showItem: showAmountItem('creditLimit'),\n        },\n        ...paymentInterestsSectionBaseItems,\n    ],\n};\nconst colleteralSection = {\n    title: titles.sections.collateral,\n    items: [\n        {\n            cssClasses: 'col-12',\n            componentRef: LoanInfoCollateralSectionComponent,\n            showItem: showCollaterals,\n        },\n    ],\n};\n/**\n * Loan info config for LineOfCredit type\n */\nconst loanInfoLineOfCreditDataConfig = [\n    generalSection,\n    {\n        title: titles.sections.status,\n        items: [\n            ...statusSectionBaseItems,\n            {\n                cssClasses,\n                title: titles.items.endDate,\n                fieldKey: 'endDate',\n                fieldType: LoanInfoItemType.Date,\n            },\n        ],\n    },\n    {\n        title: titles.sections.financialDetails,\n        items: [\n            outstandingAmountItem,\n            overdueAmountItem,\n            {\n                cssClasses,\n                title: titles.items.availableBalance,\n                fieldKey: 'availableBalance',\n                fieldType: LoanInfoItemType.Amount,\n                showItem: showAmountItem('availableBalance'),\n            },\n            {\n                cssClasses,\n                title: titles.items.creditLimit,\n                fieldKey: 'creditLimit',\n                fieldType: LoanInfoItemType.Amount,\n                showItem: showAmountItem('creditLimit'),\n            },\n            {\n                cssClasses,\n                title: titles.items.drawnAmount,\n                fieldKey: 'drawnAmount',\n                fieldType: LoanInfoItemType.Amount,\n                showItem: showAmountItem('drawnAmount'),\n            },\n            ...paymentInterestsSectionBaseItems,\n        ],\n    },\n    documentsSection,\n];\n/**\n * Loan info config for Mortgage loan\n */\nconst loanInfoMortgageDataConfig = [\n    generalSection,\n    statusMortgageTermSection,\n    financialDetailsMortgageTermSection,\n    {\n        title: titles.sections.escrow,\n        items: [\n            {\n                cssClasses: 'col-12',\n                componentRef: LoanInfoEscrowSectionComponent,\n                showItem: showEscrowSection,\n            },\n        ],\n    },\n    colleteralSection,\n    documentsSection,\n];\n/**\n * Loan info config for Term loan\n */\nconst loanInfoTermDataConfig = [\n    generalSection,\n    statusMortgageTermSection,\n    financialDetailsMortgageTermSection,\n    colleteralSection,\n    documentsSection,\n];\nfunction getLoanInfoDataConfig(viewType) {\n    switch (viewType) {\n        case LoanDefaultViewType.LineOfCredit:\n            return loanInfoLineOfCreditDataConfig;\n        case LoanDefaultViewType.TermLoan:\n            return loanInfoTermDataConfig;\n        case LoanDefaultViewType.Mortgage:\n            return loanInfoMortgageDataConfig;\n        default:\n            throw new Error(`[bb-loans]: \"${viewType}\" view type is not configured`);\n    }\n}\n\n/**\n * Helper function to extract error, if there is one.\n *\n * @param callState - call sate\n */\nfunction getCallStateError(callState) {\n    if (callState.error !== undefined) {\n        return callState.error;\n    }\n    return null;\n}\n/**\n * Checks for initial state\n *\n * @param callStates - call states\n */\nfunction isInitialState(...callStates) {\n    return callStates.some((state) => state === LoadingState.Init);\n}\n/**\n * Checks for loading state\n *\n * @param callStates - call states\n */\nfunction isLoadingState(...callStates) {\n    return callStates.some((state) => state === LoadingState.Loading);\n}\n/**\n * Checks for error state\n *\n * @param callStates - call states\n */\nfunction isErrorState(...callStates) {\n    return callStates.some((state) => Object.prototype.hasOwnProperty.call(state, 'error'));\n}\n/**\n * Checks for loaded state\n *\n * @param callStates - call states\n */\nfunction isLoadedState(...callStates) {\n    return callStates.every((state) => state === LoadingState.Loaded);\n}\n/**\n * Operator state map operator\n *\n * @param fn - state mapper function\n */\nfunction stateMap(fn) {\n    return (source) => source.pipe(map((state) => fn.call(null, ...(Array.isArray(state) ? state : [state]))));\n}\n\n// Fetch loans\nconst loadLoans = createAction('[Loans API] fetch loans', props());\nconst loadLoansSuccess = createAction('[Loans API] fetch loans succeed', props());\nconst loadLoansError = createAction('[Loans API] fetch loans error', props());\n// Fetch loan by id\nconst fetchLoanById = createAction('[Loans API] fetch loan by id', props());\nconst fetchLoanByIdSuccess = createAction('[Loans API] fetch loan by id succeed', props());\nconst fetchLoanByIdError = createAction('[Loans API] fetch loan by id error', props());\n// Fetch amount of loans\nconst fetchAmountOfLoans = createAction('[Loans API] fetch amount of loans');\nconst fetchAmountOfLoansSuccess = createAction('[Loans API] fetch amount of loans succeed', props());\nconst fetchAmountOfLoansError = createAction('[Loans API] fetch amount of loans error');\n// Update loan alias\nconst updateLoanAlias = createAction('[Product Summary API] Update alias', props());\nconst updateLoanAliasSuccess = createAction('[Product Summary API] Update alias succeed', props());\nconst updateLoanAliasError = createAction('[Product Summary API] Update alias error', props());\nconst updateLoanAliasCancel = createAction('[Effect] Cancel update alias request');\n\nconst storeKey = 'loansJourneyBase';\nconst initialState$1 = {\n    loans: [],\n    loansCurrentPage: 0,\n    loansTotalCount: undefined,\n    loansCallState: LoadingState.Init,\n    loan: undefined,\n    loanCallState: LoadingState.Init,\n    aliasUpdateCallState: LoadingState.Init,\n};\nconst _loansReducer = createReducer(initialState$1, on(loadLoans, (state, { page }) => (Object.assign(Object.assign({}, state), { loansCallState: LoadingState.Loading, loansCurrentPage: page }))), on(loadLoansSuccess, (state, { append, response: { items: loans, totalCount } }) => (Object.assign(Object.assign({}, state), { loans: append ? [...state.loans, ...loans] : loans, loansTotalCount: totalCount, loansCallState: LoadingState.Loaded }))), on(loadLoansError, (state, { error }) => (Object.assign(Object.assign({}, state), { loansCallState: { error } }))), on(fetchLoanById, (state) => (Object.assign(Object.assign({}, state), { loanCallState: LoadingState.Loading }))), on(fetchLoanByIdSuccess, (state, { loan }) => (Object.assign(Object.assign({}, state), { loan, loanCallState: LoadingState.Loaded }))), on(fetchLoanByIdError, (state, { error }) => (Object.assign(Object.assign({}, state), { loanCallState: { error } }))), on(fetchAmountOfLoansSuccess, (state, { totalCount }) => (Object.assign(Object.assign({}, state), { loansTotalCount: totalCount }))), on(fetchAmountOfLoansError, (state) => (Object.assign(Object.assign({}, state), { loansTotalCount: undefined }))), on(updateLoanAlias, (state) => (Object.assign(Object.assign({}, state), { aliasUpdateCallState: LoadingState.Loading }))), on(updateLoanAliasSuccess, (state) => (Object.assign(Object.assign({}, state), { aliasUpdateCallState: LoadingState.Loaded }))), on(updateLoanAliasError, (state, { error }) => (Object.assign(Object.assign({}, state), { aliasUpdateCallState: { error } }))));\nfunction loansReducer(state, action) {\n    return _loansReducer(state, action);\n}\n\nconst getLoansState = createFeatureSelector(storeKey);\nconst selectLoans = createSelector(getLoansState, ({ loans }) => loans);\nconst selectLoansCallState = createSelector(getLoansState, ({ loansCallState }) => loansCallState);\nconst selectLoan = createSelector(getLoansState, ({ loan }) => loan);\nconst selectLoanCallState = createSelector(getLoansState, ({ loanCallState }) => loanCallState);\nconst selectShowNavigateToOverview = createSelector(getLoansState, ({ loansTotalCount }) => Boolean(loansTotalCount && loansTotalCount > 1));\nconst selectLoansCurrentPage = createSelector(getLoansState, ({ loansCurrentPage }) => loansCurrentPage);\nconst selectLoansTotalCount = createSelector(getLoansState, ({ loansTotalCount }) => loansTotalCount);\nconst selectAliasUpdateCallState = createSelector(getLoansState, ({ aliasUpdateCallState }) => aliasUpdateCallState);\n\nclass LoansStoreService {\n    constructor(store) {\n        this.store = store;\n        /**\n         * Stream of api call state for fetching loans\n         */\n        this.loansCallState$ = this.store.select(selectLoansCallState);\n        /**\n         * Stream of loans\n         */\n        this.loans$ = this.store.select(selectLoans);\n        /**\n         * Stream of api call state for fetching loan item\n         */\n        this.loanCallState$ = this.store.select(selectLoanCallState);\n        /**\n         * Stream of loan item\n         */\n        this.loan$ = this.store.select(selectLoan);\n        /**\n         * Stream indicates whether to show/hide navigate to overview button\n         */\n        this.showNavigateToOverview$ = this.store.select(selectShowNavigateToOverview);\n        /**\n         * Stream represents current loaded page for loan list\n         */\n        this.loansCurrentPage$ = this.store.select(selectLoansCurrentPage);\n        /**\n         * Stream represents total pages count for loan list\n         */\n        this.loansTotalCount$ = this.store.select(selectLoansTotalCount);\n        /**\n         * Stream of alias edit states (mapped from call state)\n         */\n        this.aliasEditState$ = this.store\n            .select(selectAliasUpdateCallState)\n            .pipe(map((callState) => (isLoadingState(callState) ? InputInlineEditState.LOADING : InputInlineEditState.IDLE)));\n    }\n    /**\n     * Fetch loans\n     */\n    fetchLoans(page, append = false) {\n        this.store.dispatch(loadLoans({ page, append }));\n    }\n    /**\n     * Fetch loan by id\n     */\n    fetchLoanById(id) {\n        this.store.dispatch(fetchLoanById({ id }));\n    }\n    /**\n     * Fetch amount of loans\n     */\n    fetchAmountOfLoans() {\n        this.store.dispatch(fetchAmountOfLoans());\n    }\n    /**\n     * Update alias\n     *\n     * @param alias\n     */\n    updateAlias(alias) {\n        this.store.dispatch(updateLoanAlias({ alias }));\n    }\n    /**\n     * Cancel alias update\n     */\n    cancelAliasUpdate() {\n        this.store.dispatch(updateLoanAliasCancel());\n    }\n}\n/** @nocollapse */ LoansStoreService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreService, deps: [{ token: i1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ LoansStoreService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.Store }]; } });\n\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\nclass LoanDetailsBaseComponent {\n    constructor(storeService) {\n        this.storeService = storeService;\n        /**\n         * Loan details steam\n         */\n        this.loan$ = this.storeService.loan$;\n        /**\n         * Flag represents loading state\n         */\n        this.isLoading$ = this.storeService.loanCallState$.pipe(stateMap(isLoadingState));\n        /**\n         * Flag represents error state\n         */\n        this.isErrorState$ = this.storeService.loanCallState$.pipe(stateMap(isErrorState));\n    }\n}\n/** @nocollapse */ LoanDetailsBaseComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanDetailsBaseComponent, deps: [{ token: LoansStoreService }], target: i0.ɵɵFactoryTarget.Directive });\n/** @nocollapse */ LoanDetailsBaseComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanDetailsBaseComponent, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanDetailsBaseComponent, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: LoansStoreService }]; } });\n\nclass LoanInfoRetailComponent extends LoanInfoComponent {\n    ngOnChanges() {\n        super.ngOnChanges();\n        this.loanAlias = getLoanAlias(this.loan);\n    }\n}\n/** @nocollapse */ LoanInfoRetailComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanInfoRetailComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ LoanInfoRetailComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanInfoRetailComponent, selector: \"bb-loan-info-retail\", usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"bb-loans-loan-info\\\">\\n  <div class=\\\"bb-block bb-block--xl bb-stack justify-content-between\\\">\\n    <bb-loan-item-name [headingLevel]=\\\"3\\\" [loanName]=\\\"loanAlias\\\"></bb-loan-item-name>\\n    <bb-loan-info-print-button class=\\\"bb-loans-loan-info\\\"></bb-loan-info-print-button>\\n  </div>\\n\\n  <div class=\\\"bb-list\\\">\\n    <section\\n      *ngFor=\\\"let section of sections; trackBy: trackByTitle\\\"\\n      class=\\\"bb-list__item bb-card card-body\\\"\\n      data-role=\\\"loan-info-section\\\"\\n    >\\n      <bb-header-ui\\n        [heading]=\\\"section.title\\\"\\n        headingType=\\\"h3\\\"\\n        headingClasses=\\\"bb-block bb-block--lg\\\"\\n        data-role=\\\"loan-info-section__header\\\"\\n      ></bb-header-ui>\\n\\n      <div class=\\\"row bb-loans-loan-info__section\\\">\\n        <div\\n          *ngFor=\\\"let item of section.items\\\"\\n          [ngClass]=\\\"item.cssClasses\\\"\\n          class=\\\"bb-block bb-block--lg\\\"\\n          data-role=\\\"loan-info-section__item-wrapper\\\"\\n        >\\n          <ng-container *ngIf=\\\"getTypedDataItem(item).fieldKey; else customItemRef\\\">\\n            <bb-loan-info-item\\n              data-role=\\\"loan-info-section__data-item\\\"\\n              *ngIf=\\\"getTypedDataItem(item) as dataItem\\\"\\n              [value]=\\\"loan[dataItem.fieldKey]\\\"\\n              [title]=\\\"dataItem.title\\\"\\n              [type]=\\\"dataItem.fieldType\\\"\\n              [currencyCode]=\\\"loan.currencyCode\\\"\\n              [isCurrencySymbolUsed]=\\\"!!isCurrencySymbolUsed\\\"\\n            >\\n            </bb-loan-info-item>\\n          </ng-container>\\n\\n          <ng-template #customItemRef>\\n            <ng-container\\n              bbLoanInfoCustomSection\\n              [componentRef]=\\\"getItemComponentRef(item)\\\"\\n              [loan]=\\\"loan\\\"\\n            ></ng-container>\\n          </ng-template>\\n        </div>\\n      </div>\\n    </section>\\n  </div>\\n</div>\\n\", components: [{ type: i1$1.LoanItemNameComponent, selector: \"bb-loan-item-name\", inputs: [\"loanName\", \"headingLevel\"] }, { type: i1$1.LoanInfoPrintButtonComponent, selector: \"bb-loan-info-print-button\" }, { type: i2.HeaderComponent, selector: \"bb-header-ui\", inputs: [\"headingClasses\", \"headingType\", \"heading\"] }, { type: i1$1.LoanInfoItemComponent, selector: \"bb-loan-info-item\", inputs: [\"title\", \"value\", \"type\", \"currencyCode\", \"isCurrencySymbolUsed\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.LoanInfoCustomSectionDirective, selector: \"[bbLoanInfoCustomSection]\", inputs: [\"componentRef\", \"loan\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanInfoRetailComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-loan-info-retail',\n                    templateUrl: 'loan-info-retail.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }] });\n\nclass LoanInfoWrapperComponent extends LoanDetailsBaseComponent {\n    /**\n     * Configuration for loan info container\n     */\n    getDataConfig({ viewType }) {\n        return getLoanInfoDataConfig(viewType);\n    }\n}\n/** @nocollapse */ LoanInfoWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanInfoWrapperComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ LoanInfoWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanInfoWrapperComponent, selector: \"bb-loan-info-wrapper\", usesInheritance: true, ngImport: i0, template: \"<bb-loans-main-container\\n  [isLoadingState]=\\\"isLoading$ | async\\\"\\n  [isErrorState]=\\\"isErrorState$ | async\\\"\\n  rootWrapperClasses=\\\"\\\"\\n  contentWrapperClasses=\\\"\\\"\\n>\\n  <bb-loan-info-retail\\n    *ngIf=\\\"loan$ | async as loan\\\"\\n    [loan]=\\\"loan\\\"\\n    [dataConfig]=\\\"getDataConfig(loan)\\\"\\n    [isCurrencySymbolUsed]=\\\"true\\\"\\n  ></bb-loan-info-retail>\\n</bb-loans-main-container>\\n\", components: [{ type: i1$1.LoansMainContainerComponent, selector: \"bb-loans-main-container\", inputs: [\"isErrorState\", \"isLoadingState\", \"isEmptyState\", \"containerHeightFitToContent\", \"contentWrapperClasses\", \"rootWrapperClasses\", \"customErrorState\", \"customLoadingState\", \"customEmptyState\"] }, { type: LoanInfoRetailComponent, selector: \"bb-loan-info-retail\" }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanInfoWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-loan-info-wrapper',\n                    templateUrl: './loan-info-wrapper.component.html',\n                }]\n        }] });\n\nconst LOAN_JOURNEY_COMMUNICATOR = new InjectionToken('bb-loans-journey-communication');\n\nconst iconsConfig = {\n    [LoanDefaultViewType.LineOfCredit]: 'payments',\n    [LoanDefaultViewType.Mortgage]: 'loans',\n    [LoanDefaultViewType.TermLoan]: 'home',\n};\nconst accountEditEntitlementsConfig = {\n    [AccountAliasDisplayingLevel.USER]: 'ProductSummary.ProductSummary.edit',\n    [AccountAliasDisplayingLevel.ACCOUNT]: 'ProductSummary.ManageArrangementAlias.edit',\n};\nfunction getFormulaViewType({ value: totalValue }, amounts) {\n    const amountValues = amounts.reduce((accum, { value }) => {\n        if (value) {\n            accum.push(new BigNumber(value));\n        }\n        return accum;\n    }, []);\n    const moreThanThreeAmounts = amountValues.length > 3;\n    if (totalValue) {\n        const totalAmount = new BigNumber(totalValue);\n        const amountValuesSum = amountValues.reduce((accum, val) => accum.plus(val), new BigNumber(0));\n        if (totalAmount.isEqualTo(amountValuesSum)) {\n            return moreThanThreeAmounts ? LoanSummaryFormulaViewType.CollapsibleList : LoanSummaryFormulaViewType.Equation;\n        }\n        else {\n            return LoanSummaryFormulaViewType.OnlyTotal;\n        }\n    }\n    else {\n        return moreThanThreeAmounts\n            ? LoanSummaryFormulaViewType.AmountsInRows\n            : LoanSummaryFormulaViewType.AmountsInColumns;\n    }\n}\nconst getLoanSummaryFormulaDataConfig = (isLineOfCreditType) => ({ outstandingAmount, drawnAmount, interestDue, feesDue, currencyCode, inArrearsAmount }) => {\n    const totalAmount = {\n        value: outstandingAmount,\n        title: titles.items.totalOutstandingAmount,\n    };\n    const amounts = [\n        {\n            value: drawnAmount,\n            title: isLineOfCreditType ? titles.items.drawnAmount : titles.items.remainingPrincipal,\n        },\n        {\n            value: inArrearsAmount,\n            title: titles.items.overdueAmount,\n        },\n        {\n            value: interestDue,\n            title: titles.items.interestDue,\n        },\n        {\n            value: feesDue,\n            title: titles.items.feesDue,\n        },\n    ].filter(({ value }) => value);\n    const shouldShow = Boolean(currencyCode && (totalAmount.value || amounts.length));\n    const viewType = getFormulaViewType(totalAmount, amounts);\n    return { totalAmount, amounts, shouldShow, viewType };\n};\nconst detailsPaymentInfoFn = ({ isFullyRepaid, nextRepaymentDate, nextRepaymentAmount, }) => {\n    if (isFullyRepaid) {\n        return { paymentType: LoanPaymentInfoType.FullyPaid };\n    }\n    const isOverdueDate = Boolean(nextRepaymentDate && Date.parse(nextRepaymentDate) - new Date().setHours(0, 0, 0, 0) < 0);\n    return {\n        date: nextRepaymentDate,\n        amount: nextRepaymentAmount,\n        paymentType: isOverdueDate ? LoanPaymentInfoType.ScheduledLast : LoanPaymentInfoType.ScheduledNext,\n    };\n};\nconst isProgressBarDataShown = (owedAmount, availableAmount, totalAmount) => owedAmount.isGreaterThanOrEqualTo(0) &&\n    availableAmount.isGreaterThanOrEqualTo(0) &&\n    totalAmount.isGreaterThan(0) &&\n    totalAmount.isEqualTo(owedAmount.plus(availableAmount));\nconst isAmountShown = (amount) => (amount ? amount.isGreaterThanOrEqualTo(0) : false);\nconst retailLoanSummaryTermLoanProgressDataConfig = {\n    activeAmount: {\n        fieldKey: 'drawnAmount',\n        title: titles.items.owedAmount,\n    },\n    availableAmount: {\n        fieldKey: 'paidAmount',\n        title: titles.items.paidAmount,\n    },\n    totalAmount: {\n        fieldKey: 'creditLimit',\n        title: titles.items.creditLimit,\n    },\n    showData: ({ creditLimit, paidAmount, drawnAmount }) => {\n        return creditLimit && paidAmount && drawnAmount\n            ? isProgressBarDataShown(new BigNumber(drawnAmount), new BigNumber(paidAmount), new BigNumber(creditLimit))\n            : false;\n    },\n};\nconst retailLoanSummaryLineOfCreditProgressDataConfig = {\n    activeAmount: {\n        fieldKey: 'drawnAmount',\n        title: titles.items.owedAmount,\n    },\n    availableAmount: {\n        fieldKey: 'availableBalance',\n        title: titles.items.availableAmount,\n    },\n    totalAmount: {\n        fieldKey: 'creditLimit',\n        title: titles.items.creditLimit,\n    },\n    showData: ({ creditLimit, availableBalance, drawnAmount }) => {\n        return creditLimit && availableBalance && drawnAmount\n            ? isProgressBarDataShown(new BigNumber(drawnAmount), new BigNumber(availableBalance), new BigNumber(creditLimit))\n            : false;\n    },\n};\nconst isMortgageTotalAmountShown = (totalAmount, owedAmount, availableAmount) => totalAmount.isGreaterThan(0) &&\n    owedAmount.isGreaterThanOrEqualTo(0) &&\n    availableAmount.isGreaterThanOrEqualTo(0) &&\n    totalAmount.isEqualTo(owedAmount.plus(availableAmount));\nconst retailLoanSummaryMortgageTermProgressDataConfig = {\n    activeAmount: {\n        fieldKey: 'drawnAmount',\n        title: titles.items.owedAmount,\n    },\n    availableAmount: {\n        fieldKey: 'paidAmount',\n        title: titles.items.paidAmount,\n    },\n    totalAmount: {\n        fieldKey: 'creditLimit',\n        title: titles.items.creditLimit,\n    },\n    showProgressBar: () => false,\n    showActiveAmount: ({ drawnAmount }) => {\n        const amount = drawnAmount && new BigNumber(drawnAmount);\n        return amount ? isAmountShown(amount) : false;\n    },\n    showAvailableAmount: ({ paidAmount }) => {\n        const amount = paidAmount && new BigNumber(paidAmount);\n        return amount ? isAmountShown(amount) : false;\n    },\n    showTotalAmount: ({ creditLimit, paidAmount, drawnAmount }) => {\n        return creditLimit && drawnAmount && paidAmount\n            ? isMortgageTotalAmountShown(new BigNumber(creditLimit), new BigNumber(drawnAmount), new BigNumber(paidAmount))\n            : false;\n    },\n};\nconst getChangedAmountFocus = (dataConfig) => {\n    const { activeAmount, availableAmount, showActiveAmount, showAvailableAmount } = dataConfig;\n    return Object.assign({}, dataConfig, {\n        activeAmount: availableAmount,\n        availableAmount: activeAmount,\n        showActiveAmount: showAvailableAmount,\n        showAvailableAmount: showActiveAmount,\n    });\n};\nconst retailLoanSummaryTermLoanDataConfig = {\n    progressBar: retailLoanSummaryTermLoanProgressDataConfig,\n    paymentInfo: detailsPaymentInfoFn,\n    formula: getLoanSummaryFormulaDataConfig(false),\n    icons: iconsConfig,\n};\nconst retailLoanSummaryLineOfCreditDataConfig = {\n    progressBar: retailLoanSummaryLineOfCreditProgressDataConfig,\n    paymentInfo: detailsPaymentInfoFn,\n    formula: getLoanSummaryFormulaDataConfig(true),\n    icons: iconsConfig,\n};\nconst retailLoanSummaryMortgageTermDataConfig = {\n    progressBar: retailLoanSummaryMortgageTermProgressDataConfig,\n    paymentInfo: detailsPaymentInfoFn,\n    formula: getLoanSummaryFormulaDataConfig(false),\n    icons: iconsConfig,\n};\nfunction getRetailLoanSummaryDataConfig(viewType, owedAmountFocus) {\n    if (viewType === LoanDefaultViewType.TermLoan) {\n        return owedAmountFocus\n            ? retailLoanSummaryTermLoanDataConfig\n            : Object.assign({}, retailLoanSummaryTermLoanDataConfig, {\n                progressBar: getChangedAmountFocus(retailLoanSummaryTermLoanDataConfig.progressBar),\n            });\n    }\n    if (viewType === LoanDefaultViewType.LineOfCredit) {\n        return owedAmountFocus\n            ? retailLoanSummaryLineOfCreditDataConfig\n            : Object.assign({}, retailLoanSummaryLineOfCreditDataConfig, {\n                progressBar: getChangedAmountFocus(retailLoanSummaryLineOfCreditDataConfig.progressBar),\n            });\n    }\n    return retailLoanSummaryMortgageTermDataConfig;\n}\n\nclass LoanSummaryComponent extends LoanDetailsBaseComponent {\n    constructor(storeService, conditions, accountAliasDisplayingLevel, loanCommunication, remoteConfig) {\n        super(storeService);\n        this.conditions = conditions;\n        this.accountAliasDisplayingLevel = accountAliasDisplayingLevel;\n        this.loanCommunication = loanCommunication;\n        this.remoteConfig = remoteConfig;\n        /**\n         * Stream represents edit states for loan alias\n         */\n        this.aliasEditState$ = this.storeService.aliasEditState$;\n        this.PaymentOptions = PaymentOptions;\n        this.LoanDefaultViewType = LoanDefaultViewType;\n        this.accountAliasDisplayingLevel = accountAliasDisplayingLevel || AccountAliasDisplayingLevel.USER;\n        this.canEditAlias = this.conditions.resolveEntitlements(accountEditEntitlementsConfig[this.accountAliasDisplayingLevel]);\n    }\n    /**\n     * Loan id\n     */\n    set loanId(id) {\n        this.storeService.fetchLoanById(id);\n    }\n    /**\n     * Configuration for loan summary container\n     */\n    getDataConfig({ viewType }) {\n        const owedAmountFocus = this.remoteConfig.getValue('owed_amount_focus');\n        return getRetailLoanSummaryDataConfig(viewType, owedAmountFocus);\n    }\n    /**\n     * Updates a loan alias\n     *\n     * @param name\n     */\n    onUpdateAlias(name) {\n        this.storeService.updateAlias(name);\n    }\n    /**\n     * Cancel(discard) current loan alias update\n     */\n    onCancelAliasUpdate() {\n        this.storeService.cancelAliasUpdate();\n    }\n    onDrawAmount() {\n        if (this.loanCommunication) {\n            this.loanCommunication.navigateToLoanAdvance();\n        }\n        else {\n            throw new Error('[bb-loans]: Communication service is missing');\n        }\n    }\n    onPayDown() {\n        if (this.loanCommunication) {\n            this.loanCommunication.navigateToLoanPayment();\n        }\n        else {\n            throw new Error('[bb-loans]: Communication service is missing');\n        }\n    }\n    getAllowedPaymentOption(paymentOptionName, options) {\n        var _a;\n        return (!!((_a = options === null || options === void 0 ? void 0 : options.paymentOptions.find((option) => option.name === paymentOptionName)) === null || _a === void 0 ? void 0 : _a.allowed) && !!this.loanCommunication);\n    }\n}\n/** @nocollapse */ LoanSummaryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanSummaryComponent, deps: [{ token: LoansStoreService }, { token: CONDITIONS }, { token: ACCOUNT_ALIAS_DISPLAYING_LEVEL, optional: true }, { token: LOAN_JOURNEY_COMMUNICATOR, optional: true }, { token: i2$1.RemoteConfigService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ LoanSummaryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanSummaryComponent, selector: \"bb-loan-summary\", inputs: { loanId: \"loanId\" }, usesInheritance: true, ngImport: i0, template: \"<bb-loans-main-container [isLoadingState]=\\\"isLoading$ | async\\\" [isErrorState]=\\\"isErrorState$ | async\\\">\\n  <bb-retail-loan-summary-container\\n    *ngIf=\\\"loan$ | async as loan\\\"\\n    [loan]=\\\"loan\\\"\\n    [dataConfig]=\\\"getDataConfig(loan)\\\"\\n    [showPayDownButton]=\\\"getAllowedPaymentOption(PaymentOptions.LoanPayment, loan.paymentOptions)\\\"\\n    [showDrawAmountButton]=\\\"getAllowedPaymentOption(PaymentOptions.LoanAdvance, loan.paymentOptions)\\\"\\n    [showFormula]=\\\"false\\\"\\n    [showInterestRateOnTop]=\\\"loan.loanType === LoanDefaultViewType.Mortgage\\\"\\n    [owedAmountFocus]=\\\"owedAmountFocus\\\"\\n    (updateAlias)=\\\"onUpdateAlias($event)\\\"\\n    (cancelAliasUpdate)=\\\"onCancelAliasUpdate()\\\"\\n    (drawAmount)=\\\"onDrawAmount()\\\"\\n    (payDown)=\\\"onPayDown()\\\"\\n  ></bb-retail-loan-summary-container>\\n</bb-loans-main-container>\\n\", components: [{ type: i1$1.LoansMainContainerComponent, selector: \"bb-loans-main-container\", inputs: [\"isErrorState\", \"isLoadingState\", \"isEmptyState\", \"containerHeightFitToContent\", \"contentWrapperClasses\", \"rootWrapperClasses\", \"customErrorState\", \"customLoadingState\", \"customEmptyState\"] }, { type: i1$1.RetailLoanSummaryContainerComponent, selector: \"bb-retail-loan-summary-container\", inputs: [\"showPayDownButton\", \"showDrawAmountButton\", \"showFormula\", \"showInterestRateOnTop\", \"owedAmountFocus\"], outputs: [\"drawAmount\", \"payDown\", \"updateAlias\", \"cancelAliasUpdate\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanSummaryComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-loan-summary',\n                    templateUrl: './loan-summary.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: LoansStoreService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CONDITIONS]\n                }] }, { type: i5.AccountAliasDisplayingLevel, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ACCOUNT_ALIAS_DISPLAYING_LEVEL]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [LOAN_JOURNEY_COMMUNICATOR]\n                }] }, { type: i2$1.RemoteConfigService }]; }, propDecorators: { loanId: [{\n                type: Input\n            }] } });\n\nclass LoanDetailsWrapperComponent {\n    constructor(router, activatedRoute, storeService) {\n        var _a, _b;\n        this.router = router;\n        this.activatedRoute = activatedRoute;\n        this.storeService = storeService;\n        /**\n         * Stream of account ids from router params\n         */\n        this.accountId$ = this.activatedRoute.params.pipe(map(({ selectedAccount }) => selectedAccount));\n        /**\n         * Whether to show / hide navigate to overview btn\n         */\n        this.showNavigationButton$ = this.storeService.showNavigateToOverview$;\n        /**\n         * Array of tabs to be displayed\n         */\n        this.tabs = this.createRouteTabs(((_b = (_a = this.activatedRoute.snapshot) === null || _a === void 0 ? void 0 : _a.routeConfig) === null || _b === void 0 ? void 0 : _b.children) || []);\n        this.storeService.fetchAmountOfLoans();\n    }\n    /**\n     * Navigates to the list overview view\n     *\n     * TODO: set up relative routing\n     */\n    navigateToAccounts() {\n        this.router.navigate(['my-accounts/list']);\n    }\n    createRouteTabs(routes) {\n        return routes\n            .filter(({ path, data }) => path && (data === null || data === void 0 ? void 0 : data.titleFn))\n            .map(({ path, data }) => ({\n            title: data.titleFn(),\n            route: path,\n        }));\n    }\n}\n/** @nocollapse */ LoanDetailsWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanDetailsWrapperComponent, deps: [{ token: i1$2.Router }, { token: i1$2.ActivatedRoute }, { token: LoansStoreService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ LoanDetailsWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanDetailsWrapperComponent, selector: \"bb-loan-details-wrapper\", ngImport: i0, template: \"<div class=\\\"bb-layout__container d-block bb-block--xl mt-5 container-fluid container\\\">\\n  <div class=\\\"bb-block bb-block--xl\\\">\\n    <button\\n      data-role=\\\"loans-heading-button__navigation\\\"\\n      (click)=\\\"navigateToAccounts()\\\"\\n      class=\\\"bb-stack justify-content-start bb-stack--density-sm btn-link-text btn-md btn\\\"\\n    >\\n      <i aria-hidden=\\\"true\\\" class=\\\"bb-icon bb-icon-arrow-back bb-icon--sm\\\"></i>\\n      <span i18n-navigationButtonTitle=\\\"Loan details heading nav button title@@loans.details.heading.nav-button.title\\\"\\n        >Back to My Accounts</span\\n      >\\n    </button>\\n  </div>\\n\\n  <section class=\\\"bb-block bb-block--xl p--4\\\">\\n    <h2 class=\\\"sr-only\\\" i18n=\\\"Loans details a11y section heading@@loans.details.section.a11y.heading\\\">Loan details</h2>\\n    <bb-loan-summary *ngIf=\\\"accountId$ | async as accountId\\\" [loanId]=\\\"accountId\\\"></bb-loan-summary>\\n  </section>\\n\\n  <div>\\n    <div>\\n      <div class=\\\"bb-card__body\\\">\\n        <bb-loans-tabs data-role=\\\"loan-details__tabs\\\" [tabs]=\\\"tabs\\\"></bb-loans-tabs>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: LoanSummaryComponent, selector: \"bb-loan-summary\", inputs: [\"loanId\"] }, { type: i1$1.LoansTabsComponent, selector: \"bb-loans-tabs\", inputs: [\"tabs\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanDetailsWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-loan-details-wrapper',\n                    templateUrl: './loan-details-wrapper.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.Router }, { type: i1$2.ActivatedRoute }, { type: LoansStoreService }]; } });\n\nfunction safeStringify(value) {\n    try {\n        return JSON.stringify(value) || '';\n    }\n    catch (e) {\n        console.warn(e);\n        return '';\n    }\n}\n\nclass LoanTransactionsWrapperComponent {\n    constructor(configurationService) {\n        this.configurationService = configurationService;\n        /**\n         * Transaction table config\n         */\n        this.transactionConfig = this.configurationService.transactionConfig;\n        /**\n         * Transaction table initial filter options\n         */\n        this.initialFilterOptions = safeStringify(this.transactionConfig.initialFilterOptions);\n        /**\n         * Transaction table initial sort options\n         */\n        this.initialSortOptions = safeStringify(this.transactionConfig.initialSortOptions);\n    }\n}\n/** @nocollapse */ LoanTransactionsWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanTransactionsWrapperComponent, deps: [{ token: LoansJourneyConfigurationService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ LoanTransactionsWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: LoanTransactionsWrapperComponent, selector: \"bb-loan-transactions-wrapper\", ngImport: i0, template: \"<bb-transactions-list-widget\\n  [pageSize]=\\\"transactionConfig.itemsPerPage\\\"\\n  [maxNavPages]=\\\"transactionConfig.maxNavPages\\\"\\n  [showControls]=\\\"transactionConfig.showControls\\\"\\n  [showManageNotes]=\\\"transactionConfig.showManageNotes\\\"\\n  [showCheckImage]=\\\"transactionConfig.showCheckImages\\\"\\n  [showChangeCategory]=\\\"transactionConfig.showChangeCategory\\\"\\n  [showPendingTransactionsOnTop]=\\\"transactionConfig.showPendingOnTop\\\"\\n  [paginationType]=\\\"transactionConfig.paginationType\\\"\\n  [getOrPostEndpoints]=\\\"transactionConfig.endpointType\\\"\\n  [googleAPIKey]=\\\"transactionConfig.apiKey\\\"\\n  [initialFilterOptions]=\\\"initialFilterOptions\\\"\\n  [initialSortOptions]=\\\"initialSortOptions\\\"\\n  [disputeByBillingStatus]=\\\"transactionConfig.disputeByBillingStatus\\\"\\n  [disputeEligibilityDays]=\\\"transactionConfig.disputeEligibilityDays\\\"\\n  [disputeTopicId]=\\\"transactionConfig.disputeTopicId\\\"\\n  [disputeTransactionTypes]=\\\"transactionConfig.disputeTransactionTypes\\\"\\n  [enableDisputeAndInquiry]=\\\"$any(transactionConfig.enableDisputeAndInquiry)\\\"\\n  [inquireTopicId]=\\\"transactionConfig.inquireTopicId\\\"\\n>\\n</bb-transactions-list-widget>\\n\", components: [{ type: i2$2.TransactionsListWidgetComponent, selector: \"bb-transactions-list-widget\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanTransactionsWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-loan-transactions-wrapper',\n                    templateUrl: './loan-transactions-wrapper.component.html',\n                }]\n        }], ctorParameters: function () { return [{ type: LoansJourneyConfigurationService }]; } });\n\nconst loanIdParamKey = 'selectedAccount';\nconst scheduleIdParam = 'paymentScheduleId';\n\n// Fetch amortized schedule\nconst fetchAmortizationSchedule = createAction('[Loans API] fetch amortization schedule', props());\nconst fetchAmortizationScheduleSuccess = createAction('[Loans API] fetch amortization schedule succeed', props());\nconst fetchAmortizationScheduleError = createAction('[Loans API] fetch amortization schedule ', props());\n// Fetch amortized schedule payment by id\nconst fetchAmortizationPayment = createAction('[Loans API] fetch amortization schedule payment by id', props());\nconst fetchAmortizationPaymentSuccess = createAction('[Loans API] fetch amortization schedule payment succeed', props());\nconst fetchAmortizationPaymentError = createAction('[Loans API] fetch  amortization schedule payment failures', props());\n\nconst paymentScheduleStoreKey = 'loansJourneyPaymentSchedule';\nconst initialState = {\n    amortizedPayments: [],\n    amortizedPaymentsTotalCount: 0,\n    amortizedPaymentsCurrenPage: 0,\n    amortizedPaymentsCallState: LoadingState.Init,\n    amortizedPayment: undefined,\n    amortizedPaymentCallState: LoadingState.Init,\n};\nconst reducer = createReducer(initialState, on(fetchAmortizationSchedule, (state, { params: { from } }) => (Object.assign(Object.assign({}, state), { amortizedPaymentsCallState: LoadingState.Loading, amortizedPaymentsCurrenPage: from }))), on(fetchAmortizationScheduleSuccess, (state, { append, response: { items, totalCount } }) => (Object.assign(Object.assign({}, state), { amortizedPayments: append ? [...state.amortizedPayments, ...items] : items, amortizedPaymentsTotalCount: totalCount, amortizedPaymentsCallState: LoadingState.Loaded }))), on(fetchAmortizationScheduleError, (state, { error }) => (Object.assign(Object.assign({}, state), { amortizedPaymentsCallState: { error } }))), on(fetchAmortizationPayment, (state) => (Object.assign(Object.assign({}, state), { amortizedPaymentCallState: LoadingState.Loading }))), on(fetchAmortizationPaymentSuccess, (state, { amortizedPayment }) => (Object.assign(Object.assign({}, state), { amortizedPayment, amortizedPaymentCallState: LoadingState.Loaded }))), on(fetchAmortizationPaymentError, (state, { error }) => (Object.assign(Object.assign({}, state), { amortizedPaymentCallState: { error } }))));\nfunction paymentScheduleReducer(state, action) {\n    return reducer(state, action);\n}\n\nconst createPaymentScheduleSelector = (projector) => \n// eslint-disable-next-line @typescript-eslint/ban-types\ncreateSelector(createFeatureSelector(paymentScheduleStoreKey), projector);\nconst selectAmortizedPayments = createPaymentScheduleSelector(({ amortizedPayments }) => amortizedPayments);\nconst selectAmortizedPaymentsCallState = createPaymentScheduleSelector(({ amortizedPaymentsCallState }) => amortizedPaymentsCallState);\nconst selectAmortizedPaymentsTotalCount = createPaymentScheduleSelector(({ amortizedPaymentsTotalCount }) => amortizedPaymentsTotalCount);\nconst selectAmortizedPaymentsCurrentPage = createPaymentScheduleSelector(({ amortizedPaymentsCurrenPage }) => amortizedPaymentsCurrenPage);\nconst selectAmortizedPayment = createPaymentScheduleSelector(({ amortizedPayment }) => amortizedPayment);\nconst selectAmortizedPaymentCallState = createPaymentScheduleSelector(({ amortizedPaymentCallState }) => amortizedPaymentCallState);\n\nclass PaymentScheduleStoreService {\n    constructor(store) {\n        this.store = store;\n        /**\n         * Stream of api call state for fetching scheduled amortized payments\n         */\n        this.amortizedPaymentsCallState$ = this.store.select(selectAmortizedPaymentsCallState);\n        /**\n         * Stream of scheduled amortized payments\n         */\n        this.amortizedPayments$ = this.store.select(selectAmortizedPayments);\n        /**\n         * Stream of api call state for fetching scheduled amortized payment\n         */\n        this.amortizedPaymentCallState$ = this.store.select(selectAmortizedPaymentCallState);\n        /**\n         * Stream of scheduled amortized payment\n         */\n        this.amortizedPayment$ = this.store.select(selectAmortizedPayment);\n        /**\n         * Stream represents total pages count for scheduled amortized payments\n         */\n        this.amortizedPaymentsTotalCount$ = this.store.select(selectAmortizedPaymentsTotalCount);\n        /**\n         * Stream represents current loaded page for payment schedule table/list\n         */\n        this.amortizedPaymentsCurrentPage$ = this.store.select(selectAmortizedPaymentsCurrentPage);\n    }\n    /**\n     * Fetch amortized payment schedule\n     */\n    fetchAmortizationSchedule(params) {\n        this.store.dispatch(fetchAmortizationSchedule({ params }));\n    }\n    /**\n     * Fetch amortized payment\n     */\n    fetchAmortizationPayment(params) {\n        this.store.dispatch(fetchAmortizationPayment({ params }));\n    }\n}\n/** @nocollapse */ PaymentScheduleStoreService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreService, deps: [{ token: i1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ PaymentScheduleStoreService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.Store }]; } });\n\n// TODO: move to separate and reorganize the flow\nclass PaymentScheduleWrapperComponent {\n    constructor(configurationService, storeService, mediaQueryService, activatedRoute, router, remoteConfig) {\n        this.configurationService = configurationService;\n        this.storeService = storeService;\n        this.mediaQueryService = mediaQueryService;\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.remoteConfig = remoteConfig;\n        /**\n         * Stream of Amortized Payments\n         */\n        this.amortizedPayments$ = this.storeService.amortizedPayments$;\n        /**\n         * Payment schedule configuration\n         */\n        this.scheduleConfig = this.configurationService.paymentSchedule;\n        /**\n         * Hide or show payment status in the table\n         */\n        this.showPaymentStatus = this.remoteConfig.getValue('show_payment_status_retail_loans');\n        /**\n         * Flag represents error state\n         */\n        this.isErrorState$ = this.storeService.amortizedPaymentsCallState$.pipe(stateMap(isErrorState));\n        /**\n         * Stream represents total amount of the pages\n         */\n        this.amortizedPaymentsTotalCount$ = this.storeService.amortizedPaymentsTotalCount$;\n        /**\n         * Stream represent current loaded page number\n         */\n        this.amortizedPaymentsCurrentPage$ = this.storeService.amortizedPaymentsCurrentPage$;\n        /**\n         * Flag represents the tablet screen resolution\n         */\n        this.isTabletResolution$ = this.mediaQueryService.isMediaBreakpointMatches('max-width', 'lg');\n        this._isLoading$ = combineLatest([\n            this.isTabletResolution$,\n            this.storeService.amortizedPaymentsCallState$,\n            this.amortizedPaymentsCurrentPage$,\n        ]);\n        /**\n         * Flag represents page loading state\n         */\n        this.isPageLoading$ = this._isLoading$.pipe(map(([isTabletResolution, callState, currentPage]) => isLoadingState(callState) && !(isTabletResolution && currentPage > 0)));\n        /**\n         * Flag represents load more button loading state\n         */\n        this.isButtonLoading$ = this._isLoading$.pipe(map(([isTabletResolution, callState, currentPage]) => isLoadingState(callState) && isTabletResolution && currentPage > 0));\n        /**\n         * Flag represents visibility of load more button\n         */\n        this.isLoadMoreVisible$ = combineLatest([\n            this.amortizedPaymentsCurrentPage$,\n            this.amortizedPaymentsTotalCount$,\n            this.amortizedPayments$,\n        ]).pipe(map(([page, total, { length }]) => !(page === 0 && length === total)));\n        /**\n         * Flag represents empty state\n         */\n        this.isEmptyState$ = this.storeService.amortizedPaymentsTotalCount$.pipe(map((totalCount) => totalCount === 0));\n        this.baseReqParams = {\n            loanId: this.activatedRoute.snapshot.parent.params[loanIdParamKey],\n            size: this.scheduleConfig.itemsPerPage,\n            from: 0,\n            append: false,\n        };\n        this.storeService.fetchAmortizationSchedule(this.baseReqParams);\n    }\n    /**\n     * Load loans on pagination page changes\n     *\n     * @param page\n     */\n    onPageChange(page) {\n        this.storeService.fetchAmortizationSchedule(Object.assign(Object.assign({}, this.baseReqParams), { from: page }));\n    }\n    /**\n     * Load loans on load more button click\n     *\n     * @param from\n     */\n    onLoadMore({ from }) {\n        this.storeService.fetchAmortizationSchedule(Object.assign(Object.assign({}, this.baseReqParams), { from, append: true }));\n    }\n    /**\n     * Emits in item select\n     */\n    onItemSelect({ id }) {\n        this.router.navigate([id], { relativeTo: this.activatedRoute });\n    }\n}\n/** @nocollapse */ PaymentScheduleWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleWrapperComponent, deps: [{ token: LoansJourneyConfigurationService }, { token: PaymentScheduleStoreService }, { token: i3$1.MediaQueryService }, { token: i1$2.ActivatedRoute }, { token: i1$2.Router }, { token: i2$1.RemoteConfigService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ PaymentScheduleWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PaymentScheduleWrapperComponent, selector: \"bb-payment-schedule-wrapper\", ngImport: i0, template: \"<bb-loans-main-container\\n  [isLoadingState]=\\\"isPageLoading$ | async\\\"\\n  [isErrorState]=\\\"isErrorState$ | async\\\"\\n  [isEmptyState]=\\\"isEmptyState$ | async\\\"\\n  [customEmptyState]=\\\"customEmptyState\\\"\\n  rootWrapperClasses=\\\"\\\"\\n  contentWrapperClasses=\\\"\\\"\\n>\\n  <div class=\\\"bb-card\\\">\\n    <div class=\\\"bb-card__body\\\">\\n      <ng-container *ngIf=\\\"isTabletResolution$ | async; else desktop\\\">\\n        <bb-loan-amortized-payment-schedule-list\\n          [items]=\\\"(amortizedPayments$ | async)!\\\"\\n          (selectItem)=\\\"onItemSelect($event)\\\"\\n        ></bb-loan-amortized-payment-schedule-list>\\n      </ng-container>\\n\\n      <bb-load-button-ui\\n        *ngIf=\\\"isLoadMoreVisible$ | async\\\"\\n        [from]=\\\"(amortizedPaymentsCurrentPage$ | async)!\\\"\\n        [size]=\\\"scheduleConfig.itemsPerPage\\\"\\n        [totalCount]=\\\"(amortizedPaymentsTotalCount$ | async)!\\\"\\n        [isLoading]=\\\"(isButtonLoading$ | async)!\\\"\\n        (paramChange)=\\\"onLoadMore($event)\\\"\\n        class=\\\"bb-stack bb-stack--center\\\"\\n        i18n=\\\"Load more button@loans.payment-schedule.load-more.btn\\\"\\n        color=\\\"link\\\"\\n        data-role=\\\"payment-schedule-wrapper__load-more-btn\\\"\\n      >\\n        Load more\\n      </bb-load-button-ui>\\n\\n      <ng-template #desktop>\\n        <bb-loan-amortized-payment-schedule-table\\n          [items]=\\\"(amortizedPayments$ | async)!\\\"\\n          (selectItem)=\\\"onItemSelect($event)\\\"\\n          [showPaymentStatus]=\\\"showPaymentStatus\\\"\\n        >\\n        </bb-loan-amortized-payment-schedule-table>\\n      </ng-template>\\n    </div>\\n  </div>\\n  <router-outlet></router-outlet>\\n</bb-loans-main-container>\\n\\n<ng-template #customEmptyState>\\n  <div class=\\\"bb-state-container bb-state-container--min-height\\\" data-role=\\\"payment-schedule-wrapper__empty-state\\\">\\n    <bb-empty-state-ui\\n      title=\\\"No Upcoming Payments\\\"\\n      i18n-title=\\\"Payment schedule empty state title@loans.payment-schedule.empty-state.title\\\"\\n      subtitle=\\\"You don't have any upcoming payments to be displayed.\\\"\\n      i18n-subtitle=\\\"Payment schedule empty state subtitle@loans.payment-schedule.empty-state.subtitle\\\"\\n      iconModifier=\\\"loans\\\"\\n      iconSize=\\\"xxl\\\"\\n    >\\n    </bb-empty-state-ui>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i1$1.LoansMainContainerComponent, selector: \"bb-loans-main-container\", inputs: [\"isErrorState\", \"isLoadingState\", \"isEmptyState\", \"containerHeightFitToContent\", \"contentWrapperClasses\", \"rootWrapperClasses\", \"customErrorState\", \"customLoadingState\", \"customEmptyState\"] }, { type: i1$1.LoanAmortizedPaymentScheduleListComponent, selector: \"bb-loan-amortized-payment-schedule-list\" }, { type: i7.LoadButtonComponent, selector: \"bb-load-button-ui\", inputs: [\"isLoading\", \"from\", \"size\", \"circle\", \"totalCount\"], outputs: [\"paramChange\"] }, { type: i1$1.LoanAmortizedPaymentScheduleTableComponent, selector: \"bb-loan-amortized-payment-schedule-table\", inputs: [\"showPaymentStatus\"] }, { type: i8.EmptyStateComponent, selector: \"bb-empty-state-ui\", inputs: [\"title\", \"subtitle\", \"showIcon\", \"iconClasses\", \"iconModifier\", \"iconSize\", \"iconColor\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$2.RouterOutlet, selector: \"router-outlet\", outputs: [\"activate\", \"deactivate\"], exportAs: [\"outlet\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-payment-schedule-wrapper',\n                    templateUrl: './payment-schedule-wrapper.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: LoansJourneyConfigurationService }, { type: PaymentScheduleStoreService }, { type: i3$1.MediaQueryService }, { type: i1$2.ActivatedRoute }, { type: i1$2.Router }, { type: i2$1.RemoteConfigService }]; } });\n\nclass PaymentScheduleDetailsModalHeaderComponent {\n    constructor() {\n        /**\n         * Emits on print button click\n         */\n        this.printModal = new EventEmitter();\n        /**\n         * Emits on close modal\n         */\n        this.closeModal = new EventEmitter();\n    }\n}\n/** @nocollapse */ PaymentScheduleDetailsModalHeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleDetailsModalHeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ PaymentScheduleDetailsModalHeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PaymentScheduleDetailsModalHeaderComponent, selector: \"bb-payment-schedule-details-modal-header\", outputs: { printModal: \"printModal\", closeModal: \"closeModal\" }, ngImport: i0, template: \"<h3\\n  class=\\\"modal-title bb-stack__item bb-stack__item--fill\\\"\\n  i18n=\\\"Payment schedule details modal header title@loans.payment-schedule-details.modal.header.title\\\"\\n>\\n  Automatic loan payment\\n</h3>\\n\\n<button\\n  bbButton\\n  type=\\\"button\\\"\\n  color=\\\"unstyled\\\"\\n  class=\\\"bb-stack__item bb-stack__item--spacing-lg\\\"\\n  aria-label=\\\"Print\\\"\\n  i18n-aria-label=\\\"\\n    Payment schedule details modal header print button aria\\n    label@loans.payment-schedule-details.modal.header.print-btn.aria-label\\n  \\\"\\n  data-role=\\\"bb-loan-payment-schedule-details-modal-header__print-btn\\\"\\n  (click)=\\\"printModal.emit()\\\"\\n>\\n  <bb-icon-ui name=\\\"print\\\"></bb-icon-ui>\\n</button>\\n<button\\n  bbButton\\n  type=\\\"button\\\"\\n  color=\\\"unstyled\\\"\\n  class=\\\"bb-stack__item\\\"\\n  aria-label=\\\"Close\\\"\\n  i18n-aria-label=\\\"\\n    Payment schedule details modal header close button aria\\n    label@loans.payment-schedule-details.modal.header.close-btn.aria-label\\n  \\\"\\n  data-role=\\\"bb-loan-payment-schedule-details-modal-header__close-btn\\\"\\n  (click)=\\\"closeModal.emit()\\\"\\n>\\n  <bb-icon-ui name=\\\"clear\\\"></bb-icon-ui>\\n</button>\\n\", components: [{ type: i1$3.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }], directives: [{ type: i2$3.ButtonDirective, selector: \"button[bbButton]\", inputs: [\"type\", \"color\", \"buttonSize\", \"block\", \"circle\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleDetailsModalHeaderComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-payment-schedule-details-modal-header',\n                    templateUrl: './payment-schedule-details-modal-header.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { printModal: [{\n                type: Output\n            }], closeModal: [{\n                type: Output\n            }] } });\n\n/**\n * @dynamic\n */\nclass PaymentScheduleDetailsWrapperComponent extends DestroyableComponent {\n    constructor(activatedRoute, router, paymentScheduleStoreService, loansStoreService, document, remoteConfig) {\n        super();\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.paymentScheduleStoreService = paymentScheduleStoreService;\n        this.loansStoreService = loansStoreService;\n        this.document = document;\n        this.remoteConfig = remoteConfig;\n        this.callStates$ = combineLatest([\n            this.paymentScheduleStoreService.amortizedPaymentCallState$,\n            this.loansStoreService.loanCallState$,\n        ]);\n        /**\n         *  Stream of payment id param\n         */\n        this.paymentId$ = this.activatedRoute.params.pipe(pluck(scheduleIdParam));\n        /**\n         * Stream of scheduled amortized payment\n         */\n        this.amortizedPayment$ = this.paymentScheduleStoreService.amortizedPayment$;\n        /**\n         * Flag represents loading state\n         */\n        this.isLoading$ = this.callStates$.pipe(stateMap(isLoadingState));\n        /**\n         * Flag represents error state\n         */\n        this.isErrorState$ = this.callStates$.pipe(stateMap(isErrorState));\n        /**\n         * Stream of loan\n         */\n        this.loan$ = this.loansStoreService.loan$;\n        /**\n         * Hide or show payment status\n         */\n        this.showPaymentStatus = this.remoteConfig.getValue('show_payment_status_retail_loans');\n        /**\n         * Modal options\n         */\n        this.modalOptions = {\n            backdrop: 'static',\n            keyboard: true,\n            centered: true,\n            ariaDescribedBy: 'bb-payment-schedule-details-modal-body',\n        };\n        combineLatest([this.paymentId$, this.loan$])\n            .pipe(filter(([, loan]) => Boolean(loan)), takeUntil(this.componentDestroyed$))\n            .subscribe(([amortizationPaymentId, loan]) => {\n            this.paymentScheduleStoreService.fetchAmortizationPayment({ loanId: loan.id, amortizationPaymentId });\n        });\n    }\n    onCloseModal() {\n        this.router.navigate(['..'], { relativeTo: this.activatedRoute });\n    }\n    onPrint() {\n        var _a;\n        (_a = this.document.defaultView) === null || _a === void 0 ? void 0 : _a.print();\n    }\n}\n/** @nocollapse */ PaymentScheduleDetailsWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleDetailsWrapperComponent, deps: [{ token: i1$2.ActivatedRoute }, { token: i1$2.Router }, { token: PaymentScheduleStoreService }, { token: LoansStoreService }, { token: DOCUMENT }, { token: i2$1.RemoteConfigService }], target: i0.ɵɵFactoryTarget.Component });\n/** @nocollapse */ PaymentScheduleDetailsWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PaymentScheduleDetailsWrapperComponent, selector: \"bb-payment-schedule-details-wrapper\", usesInheritance: true, ngImport: i0, template: \"<bb-modal-ui\\n  [modalOptions]=\\\"modalOptions\\\"\\n  [isOpen]=\\\"true\\\"\\n  (isOpenChange)=\\\"onCloseModal()\\\"\\n  data-role=\\\"bb-loan-payment-schedule-details-modal\\\"\\n>\\n  <bb-modal-header-ui>\\n    <ng-template bbCustomModalHeader>\\n      <bb-payment-schedule-details-modal-header\\n        class=\\\"bb-stack\\\"\\n        data-role=\\\"bb-loan-payment-schedule-details-modal__header\\\"\\n        (closeModal)=\\\"onCloseModal()\\\"\\n        (printModal)=\\\"onPrint()\\\"\\n      ></bb-payment-schedule-details-modal-header>\\n    </ng-template>\\n  </bb-modal-header-ui>\\n  <bb-modal-body-ui>\\n    <ng-template bbCustomModalBody>\\n      <bb-loans-main-container\\n        [isLoadingState]=\\\"isLoading$ | async\\\"\\n        [isErrorState]=\\\"isErrorState$ | async\\\"\\n        [containerHeightFitToContent]=\\\"true\\\"\\n        rootWrapperClasses=\\\"\\\"\\n        contentWrapperClasses=\\\"\\\"\\n      >\\n        <bb-loan-amortized-payment-schedule-details\\n          data-role=\\\"bb-loan-payment-schedule-details-modal__body\\\"\\n          *ngIf=\\\"amortizedPayment$ | async as amortizedPayment\\\"\\n          [amortizationPayment]=\\\"amortizedPayment\\\"\\n          [loan]=\\\"(loan$ | async)!\\\"\\n          [id]=\\\"modalOptions.ariaDescribedBy\\\"\\n          [showStatus]=\\\"showPaymentStatus\\\"\\n        ></bb-loan-amortized-payment-schedule-details>\\n      </bb-loans-main-container>\\n    </ng-template>\\n  </bb-modal-body-ui>\\n</bb-modal-ui>\\n\", components: [{ type: i5$1.ModalComponent, selector: \"bb-modal-ui\", inputs: [\"isOpen\", \"aria-labelledby\", \"aria-describedby\", \"modalOptions\"], outputs: [\"confirm\", \"cancel\", \"isOpenChange\"] }, { type: i5$1.ModalHeaderComponent, selector: \"bb-modal-header-ui\", inputs: [\"title\"], outputs: [\"close\"] }, { type: PaymentScheduleDetailsModalHeaderComponent, selector: \"bb-payment-schedule-details-modal-header\", outputs: [\"printModal\", \"closeModal\"] }, { type: i5$1.ModalBodyComponent, selector: \"bb-modal-body-ui\" }, { type: i1$1.LoansMainContainerComponent, selector: \"bb-loans-main-container\", inputs: [\"isErrorState\", \"isLoadingState\", \"isEmptyState\", \"containerHeightFitToContent\", \"contentWrapperClasses\", \"rootWrapperClasses\", \"customErrorState\", \"customLoadingState\", \"customEmptyState\"] }, { type: i1$1.LoanAmortizedPaymentScheduleDetailsComponent, selector: \"bb-loan-amortized-payment-schedule-details\", inputs: [\"amortizationPayment\", \"loan\", \"showStatus\"] }], directives: [{ type: i5$1.CustomModalHeaderDirective, selector: \"ng-template[bbCustomModalHeader]\" }, { type: i5$1.CustomModalBodyDirective, selector: \"ng-template[bbCustomModalBody]\" }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleDetailsWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-payment-schedule-details-wrapper',\n                    templateUrl: './payment-schedule-details-wrapper.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.ActivatedRoute }, { type: i1$2.Router }, { type: PaymentScheduleStoreService }, { type: LoansStoreService }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i2$1.RemoteConfigService }]; } });\n\n// To prevent error on package:apps process\nconst tabs = {\n    transactions: () => $localize `:Loan details transactions tab title@@loans.details.tab.transactions.title:Transactions`,\n    statements: () => $localize `:Loan details account statements tab title@@loans.details.tab.statements.title:Statements`,\n    loanInfo: () => $localize `:Loan details info tab title@@loans.details.tab.loan-info.title:Loan info`,\n    paymentSchedule: () => $localize `:Loan details payment schedule tab title@@loans.details.tab.payment-schedule.title:Payment schedule`,\n};\nconst loansRoutes = [\n    {\n        path: `:${loanIdParamKey}`,\n        component: LoanDetailsWrapperComponent,\n        children: [\n            {\n                path: '',\n                redirectTo: 'transactions',\n                pathMatch: 'full',\n            },\n            {\n                path: 'transactions',\n                component: LoanTransactionsWrapperComponent,\n                data: { titleFn: tabs.transactions },\n            },\n            {\n                path: 'info',\n                component: LoanInfoWrapperComponent,\n                data: { titleFn: tabs.loanInfo },\n            },\n            {\n                path: 'payment-schedule',\n                component: PaymentScheduleWrapperComponent,\n                data: { titleFn: tabs.paymentSchedule },\n                children: [{ path: `:${scheduleIdParam}`, component: PaymentScheduleDetailsWrapperComponent }],\n            },\n        ],\n    },\n];\n\n/**\n * catchError with error logging operator\n *\n * @param fn - callback function\n */\nfunction catchErrorWithLog(fn) {\n    return (source) => source.pipe(catchError((state) => {\n        console.error(state);\n        return fn(state);\n    }));\n}\n\nclass ArrangementsService {\n    constructor(arrangementsHttpService) {\n        this.arrangementsHttpService = arrangementsHttpService;\n    }\n    updateUserPreferences(arrangementId, alias) {\n        return this.arrangementsHttpService.updateUserPreferences({ accountUserPreferences: { alias, arrangementId } });\n    }\n}\n/** @nocollapse */ ArrangementsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ArrangementsService, deps: [{ token: i1$4.ArrangementsHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ ArrangementsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ArrangementsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ArrangementsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.ArrangementsHttpService }]; } });\n\nclass LoanMapperService {\n    constructor(configuration) {\n        this.configuration = configuration;\n        /**\n         * Loan mapper func\n         */\n        this.toLoanModel = this._toLoanModel.bind(this);\n    }\n    _toLoanModel(loan) {\n        const loanType = loan.loanType;\n        const config = this.configuration.loanTypeMapping[loanType];\n        if (!config) {\n            throw new Error(`[bb-loans]: \"${loanType}\" type was not configured for loans journey`);\n        }\n        return Object.assign(Object.assign({}, loan), { viewType: config.viewType, loanTypeAlias: config.typeAlias || loanType });\n    }\n}\n/** @nocollapse */ LoanMapperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanMapperService, deps: [{ token: LoansJourneyConfigurationService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ LoanMapperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanMapperService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoanMapperService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: LoansJourneyConfigurationService }]; } });\n\nclass LoansService {\n    constructor(loansHttpService, loanMapper, configurationService) {\n        this.loansHttpService = loansHttpService;\n        this.loanMapper = loanMapper;\n        this.configurationService = configurationService;\n    }\n    getLoans(from) {\n        const size = this.configurationService.loanList.itemsPerPage;\n        return this.loansHttpService.getLoans({ from, size }, 'response').pipe(map((response) => ({\n            items: response.body.loans.map(this.loanMapper.toLoanModel),\n            totalCount: this.getTotalCount(response),\n        })));\n    }\n    getLoanById(loanId) {\n        return this.loansHttpService.getLoanById({ loanId }).pipe(map(this.loanMapper.toLoanModel));\n    }\n    getLoansAmount() {\n        return this.loansHttpService.headLoans('response').pipe(map(this.getTotalCount));\n    }\n    getAmortizationSchedule(params) {\n        return this.loansHttpService.getAmortizationSchedule(params, 'response').pipe(map((response) => ({\n            items: response.body.payments,\n            totalCount: this.getTotalCount(response),\n        })));\n    }\n    getAmortizationPayment(params) {\n        return this.loansHttpService.getAmortizationPayment(params);\n    }\n    getTotalCount({ headers }) {\n        const totalCount = headers.get('x-total-count');\n        if (!totalCount) {\n            throw new Error('[bb-loans]: Invalid `x-total-count` header param');\n        }\n        return parseInt(totalCount, 10);\n    }\n}\n/** @nocollapse */ LoansService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansService, deps: [{ token: i1$5.LoansHttpService }, { token: LoanMapperService }, { token: LoansJourneyConfigurationService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ LoansService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$5.LoansHttpService }, { type: LoanMapperService }, { type: LoansJourneyConfigurationService }]; } });\n\nconst notificationsTitlesConfig = {\n    updateAliasSuccess: $localize `:Loan update alias success notification title@@loans.notifications.alias-update.success.title:Account Alias updated successfully`,\n    updateAliasToDefaultSuccess: $localize `:Loan update alias to product name success notification title@@loans.notifications.alias-update-to-product-name.success.title:Account Alias reset to default product name`,\n    updateAliasError: $localize `:Loan update alias error notification title@@loans.notifications.alias-update.error.title:An unexpected error occurred while performing this action`,\n};\n\nclass LoansEffects {\n    constructor(actions$, store, loansService, arrangementsService, notificationService, router) {\n        this.actions$ = actions$;\n        this.store = store;\n        this.loansService = loansService;\n        this.arrangementsService = arrangementsService;\n        this.notificationService = notificationService;\n        this.router = router;\n        this.fetchLoans$ = createEffect(() => this.actions$.pipe(ofType(loadLoans), switchMap(({ page, append }) => this.loansService.getLoans(page).pipe(map((response) => loadLoansSuccess({ response, append })), catchErrorWithLog((error) => of(loadLoansError({ error: error.message || 'Loans fetch error' })))))));\n        this.redirectToDetailsFromList$ = createEffect(() => this.actions$.pipe(ofType(loadLoansSuccess), tap(({ response: { totalCount, items } }) => {\n            if (totalCount === 1) {\n                this.router.navigateByUrl('loans/details/' + items[0].id);\n            }\n        })), { dispatch: false });\n        this.fetchLoanById$ = createEffect(() => this.actions$.pipe(ofType(fetchLoanById), switchMap(({ id }) => this.loansService.getLoanById(id).pipe(map((loan) => {\n            setLoan(loan);\n            return fetchLoanByIdSuccess({ loan });\n        }), catchErrorWithLog((error) => of(fetchLoanByIdError({ error: error.message || 'Loan fetch error' })))))));\n        this.fetchAmountOfLoans$ = createEffect(() => this.actions$.pipe(ofType(fetchAmountOfLoans), withLatestFrom(this.store.select(selectLoansTotalCount)), switchMap(([, totalCountFromStore]) => {\n            if (totalCountFromStore !== undefined) {\n                return of(fetchAmountOfLoansSuccess({ totalCount: totalCountFromStore }));\n            }\n            return this.loansService.getLoansAmount().pipe(map((totalCount) => fetchAmountOfLoansSuccess({ totalCount })), catchError(() => this.loansService.getLoans(0).pipe(map(({ totalCount }) => fetchAmountOfLoansSuccess({ totalCount })), catchErrorWithLog(() => of(fetchAmountOfLoansError())))));\n        })));\n        this.updateLoanAlias$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAlias), withLatestFrom(this.store.select(selectLoan)), switchMap(([{ alias }, loan]) => {\n            const id = loan.id;\n            return this.arrangementsService.updateUserPreferences(id, alias).pipe(map(() => updateLoanAliasSuccess({ alias, id })), catchError((error) => of(updateLoanAliasError({ error: error.message || 'Update alias error' }))), takeUntil(this.actions$.pipe(ofType(updateLoanAliasCancel))));\n        })));\n        this.updateLoanAfterAliasUpdate$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasSuccess), map(({ id }) => fetchLoanById({ id }))));\n        this.notifyAliasUpdateSuccess$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasSuccess), tap(({ alias }) => this.notificationService.showNotification({\n            header: alias\n                ? notificationsTitlesConfig.updateAliasSuccess\n                : notificationsTitlesConfig.updateAliasToDefaultSuccess,\n            message: '',\n            modifier: 'success',\n        }))), { dispatch: false });\n        this.notifyAliasUpdateError$ = createEffect(() => this.actions$.pipe(ofType(updateLoanAliasError), tap(() => this.notificationService.showNotification({\n            header: notificationsTitlesConfig.updateAliasError,\n            message: '',\n            modifier: 'error',\n        }))), { dispatch: false });\n    }\n}\n/** @nocollapse */ LoansEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansEffects, deps: [{ token: i1$6.Actions }, { token: i1.Store }, { token: LoansService }, { token: ArrangementsService }, { token: i5$2.NotificationService }, { token: i1$2.Router }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ LoansEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansEffects });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansEffects, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$6.Actions }, { type: i1.Store }, { type: LoansService }, { type: ArrangementsService }, { type: i5$2.NotificationService }, { type: i1$2.Router }]; } });\n\nclass LoansStoreModule {\n}\n/** @nocollapse */ LoansStoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ LoansStoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreModule, imports: [i1.StoreFeatureModule, i1$6.EffectsFeatureModule] });\n/** @nocollapse */ LoansStoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreModule, providers: [LoansStoreService], imports: [[StoreModule.forFeature(storeKey, loansReducer), EffectsModule.forFeature([LoansEffects])]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansStoreModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [StoreModule.forFeature(storeKey, loansReducer), EffectsModule.forFeature([LoansEffects])],\n                    providers: [LoansStoreService],\n                }]\n        }] });\n\nclass PaymentScheduleEffects {\n    constructor(actions$, loansService) {\n        this.actions$ = actions$;\n        this.loansService = loansService;\n        this.fetchAmortizationSchedule$ = createEffect(() => this.actions$.pipe(ofType(fetchAmortizationSchedule), switchMap(({ params: { loanId, from, append, size } }) => this.loansService.getAmortizationSchedule({ from, size, loanId }).pipe(map((response) => fetchAmortizationScheduleSuccess({ response, append })), catchErrorWithLog((error) => of(fetchAmortizationScheduleError({ error: error.message || 'Amortization schedule fetch error' })))))));\n        this.fetchAmortizationPayment$ = createEffect(() => this.actions$.pipe(ofType(fetchAmortizationPayment), switchMap(({ params }) => this.loansService.getAmortizationPayment(params).pipe(map((amortizedPayment) => fetchAmortizationPaymentSuccess({ amortizedPayment })), catchErrorWithLog((error) => of(fetchAmortizationPaymentError({ error: error.message || 'Amortization payment fetch error' })))))));\n    }\n}\n/** @nocollapse */ PaymentScheduleEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleEffects, deps: [{ token: i1$6.Actions }, { token: LoansService }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ PaymentScheduleEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleEffects });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleEffects, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$6.Actions }, { type: LoansService }]; } });\n\nclass PaymentScheduleStoreModule {\n}\n/** @nocollapse */ PaymentScheduleStoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ PaymentScheduleStoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreModule, imports: [i1.StoreFeatureModule, i1$6.EffectsFeatureModule] });\n/** @nocollapse */ PaymentScheduleStoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreModule, providers: [PaymentScheduleStoreService], imports: [[\n            StoreModule.forFeature(paymentScheduleStoreKey, paymentScheduleReducer),\n            EffectsModule.forFeature([PaymentScheduleEffects]),\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PaymentScheduleStoreModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        StoreModule.forFeature(paymentScheduleStoreKey, paymentScheduleReducer),\n                        EffectsModule.forFeature([PaymentScheduleEffects]),\n                    ],\n                    providers: [PaymentScheduleStoreService],\n                }]\n        }] });\n\nconst components = [\n    LoanDetailsWrapperComponent,\n    LoanSummaryComponent,\n    LoanTransactionsWrapperComponent,\n    LoanInfoWrapperComponent,\n    PaymentScheduleWrapperComponent,\n    PaymentScheduleDetailsWrapperComponent,\n    PaymentScheduleDetailsModalHeaderComponent,\n    LoanInfoRetailComponent,\n];\nconst modules = [\n    LoanInfoPrintButtonModule,\n    LoanItemNameModule,\n    TransactionsListWidgetModule,\n    LoanInfoItemModule,\n    LoansHeadingModule,\n    LoansCollectionUiAngModule,\n    AccountStatementBusinessWidgetModule,\n];\nclass LoansJourneyModule {\n    static forRoot(data = { routes: loansRoutes }) {\n        return {\n            ngModule: LoansJourneyModule,\n            providers: [provideRoutes(data.routes)],\n        };\n    }\n}\n/** @nocollapse */ LoansJourneyModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ LoansJourneyModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyModule, declarations: [LoanDetailsWrapperComponent,\n        LoanSummaryComponent,\n        LoanTransactionsWrapperComponent,\n        LoanInfoWrapperComponent,\n        PaymentScheduleWrapperComponent,\n        PaymentScheduleDetailsWrapperComponent,\n        PaymentScheduleDetailsModalHeaderComponent,\n        LoanInfoRetailComponent], imports: [CommonModule, RouterModule, LoansStoreModule, PaymentScheduleStoreModule, EntitlementsModule, LoanInfoPrintButtonModule,\n        LoanItemNameModule,\n        TransactionsListWidgetModule,\n        LoanInfoItemModule,\n        LoansHeadingModule,\n        LoansCollectionUiAngModule,\n        AccountStatementBusinessWidgetModule], exports: [LoanDetailsWrapperComponent,\n        LoanSummaryComponent,\n        LoanTransactionsWrapperComponent,\n        LoanInfoWrapperComponent,\n        PaymentScheduleWrapperComponent,\n        PaymentScheduleDetailsWrapperComponent,\n        PaymentScheduleDetailsModalHeaderComponent,\n        LoanInfoRetailComponent, LoanInfoPrintButtonModule,\n        LoanItemNameModule,\n        TransactionsListWidgetModule,\n        LoanInfoItemModule,\n        LoansHeadingModule,\n        LoansCollectionUiAngModule,\n        AccountStatementBusinessWidgetModule] });\n/** @nocollapse */ LoansJourneyModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyModule, providers: [LoansJourneyConfigurationService, LoanMapperService, LoansService, ArrangementsService], imports: [[CommonModule, RouterModule, LoansStoreModule, PaymentScheduleStoreModule, EntitlementsModule, ...modules], LoanInfoPrintButtonModule,\n        LoanItemNameModule,\n        TransactionsListWidgetModule,\n        LoanInfoItemModule,\n        LoansHeadingModule,\n        LoansCollectionUiAngModule,\n        AccountStatementBusinessWidgetModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: LoansJourneyModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [...components],\n                    imports: [CommonModule, RouterModule, LoansStoreModule, PaymentScheduleStoreModule, EntitlementsModule, ...modules],\n                    exports: [...components, ...modules],\n                    providers: [LoansJourneyConfigurationService, LoanMapperService, LoansService, ArrangementsService],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { LOAN_JOURNEY_COMMUNICATOR, LoadingState, LoanDetailsBaseComponent, LoanDetailsWrapperComponent, LoanInfoRetailComponent, LoanInfoWrapperComponent, LoanSummaryComponent, LoanTransactionsWrapperComponent, LoansJourneyConfigurationService, LoansJourneyConfigurationToken, LoansJourneyModule, LoansStoreService, PaymentScheduleDetailsModalHeaderComponent, PaymentScheduleDetailsWrapperComponent, PaymentScheduleStoreService, PaymentScheduleWrapperComponent, loansConfigurationDefault, loansRoutes };\n"]},"metadata":{},"sourceType":"module"}