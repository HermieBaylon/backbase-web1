{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Component, EventEmitter, ChangeDetectionStrategy, Input, Output, ViewChild, Directive, HostListener, NgModule } from '@angular/core';\nimport * as i1$3 from '@angular/common';\nimport { DatePipe, CommonModule } from '@angular/common';\nimport * as i1$1 from '@angular/router';\nimport { provideRoutes, RouterModule } from '@angular/router';\nimport * as i1 from '@backbase/foundation-ang/core';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { Subject, of, combineLatest } from 'rxjs';\nimport { map, filter, switchMap, catchError } from 'rxjs/operators';\nimport * as i1$2 from '@backbase/data-ang/places';\nimport * as i5 from '@backbase/ui-ang/header';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport * as i2 from '@backbase/ui-ang/search-box';\nimport { SearchBoxModule } from '@backbase/ui-ang/search-box';\nimport * as i1$4 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i8 from '@backbase/ui-ang/input-checkbox';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport * as i2$1 from '@backbase/ui-ang/collapsible-accordion';\nimport { CollapsibleAccordionModule } from '@backbase/ui-ang/collapsible-accordion';\nimport * as i3 from '@backbase/ui-ang/collapsible';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport * as i11 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i12 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport * as i13 from '@backbase/ui-ang/common-error-state';\nimport { ErrorCommonStateModule } from '@backbase/ui-ang/common-error-state';\nimport * as i15 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonModule } from '@backbase/ui-ang/button';\nconst _c0 = [\"bbMapsearch\"];\n\nfunction WorkTimesComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const workHour_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.toLocaleTime(workHour_r4.open), \" - \", ctx_r3.toLocaleTime(workHour_r4.close), \"\");\n  }\n}\n\nfunction WorkTimesComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, WorkTimesComponent_ng_container_4_ng_container_1_Template, 3, 2, \"ng-container\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.hours);\n  }\n}\n\nfunction WorkTimesComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵi18n(1, 7);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c11 = function (a0, a1) {\n  return {\n    \"bb-text-semi-bold\": a0,\n    \"bb-text-support\": a1\n  };\n};\n\nconst _c20 = function () {\n  return [];\n};\n\nfunction PlaceDetailsComponent_div_5_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"bb-work-times\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"day\", day_r3)(\"hours\", ctx_r2.getWorkTimes(day_r3, (ctx_r2.place == null ? null : ctx_r2.place.hours) || i0.ɵɵpureFunction0(2, _c20)));\n  }\n}\n\nfunction PlaceDetailsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"bb-icon-ui\", 9);\n    i0.ɵɵelementStart(3, \"span\", 10);\n    i0.ɵɵi18n(4, 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ul\", 12);\n    i0.ɵɵtemplate(6, PlaceDetailsComponent_div_5_li_6_Template, 2, 3, \"li\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.weekDay);\n  }\n}\n\nfunction PlaceDetailsComponent_div_6_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const service_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, service_r5), \" \");\n  }\n}\n\nfunction PlaceDetailsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"bb-icon-ui\", 15);\n    i0.ɵɵelementStart(3, \"span\", 10);\n    i0.ɵɵi18n(4, 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵtemplate(6, PlaceDetailsComponent_div_6_div_6_Template, 3, 3, \"div\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.place == null ? null : ctx_r1.place.services);\n  }\n}\n\nconst _c25 = [\"transM\"];\nconst _c26 = [\"transKm\"];\nconst _c27 = [\"transFt\"];\nconst _c28 = [\"transMi\"];\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \", \");\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(place_r5.address.addressLine2);\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", place_r5.address.postalCode, \" \");\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_span_3_Template, 4, 1, \"span\", 21);\n    i0.ɵɵtemplate(4, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_div_4_Template, 2, 1, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(place_r5.address.addressLine1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", place_r5.address.addressLine2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", place_r5.address.postalCode);\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"bb-icon-ui\", 25);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r11.formatDistance(place_r5.distance));\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵi18n(2, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hour_r19 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(hour_r19);\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵlistener(\"click\", function PlacesListComponent_bb_collapsible_ui_1_ng_template_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const isOpen_r9 = restoredCtx.isOpen;\n      const place_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.onListItemClick(isOpen_r9, place_r5);\n    });\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16);\n    i0.ɵɵelement(3, \"bb-icon-ui\", 17);\n    i0.ɵɵelementStart(4, \"span\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"bb-icon-ui\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 20);\n    i0.ɵɵtemplate(8, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_8_Template, 5, 3, \"div\", 21);\n    i0.ɵɵtemplate(9, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_9_Template, 4, 1, \"div\", 22);\n    i0.ɵɵtemplate(10, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_div_10_Template, 5, 1, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const isOpen_r9 = ctx.isOpen;\n    const place_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"bb-block--md\", isOpen_r9);\n    i0.ɵɵattribute(\"aria-expanded\", isOpen_r9);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"name\", ctx_r7.getPlaceTypeIcon(place_r5.placeType));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(place_r5.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", isOpen_r9 ? \"toggle-up\" : \"toggle-down\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", place_r5.address);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", place_r5.distance !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.getClosingHour(place_r5.hours));\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-place-details\", 28);\n  }\n\n  if (rf & 2) {\n    const place_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"place\", place_r5);\n  }\n}\n\nfunction PlacesListComponent_bb_collapsible_ui_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"bb-collapsible-ui\", 11);\n    i0.ɵɵtemplate(1, PlacesListComponent_bb_collapsible_ui_1_ng_template_1_Template, 11, 9, \"ng-template\", 12);\n    i0.ɵɵtemplate(2, PlacesListComponent_bb_collapsible_ui_1_ng_template_2_Template, 1, 1, \"ng-template\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r5 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isOpen\", place_r5.id === ctx_r0.selectedPlaceId);\n  }\n}\n\nconst _c39 = [\"bbMapContainer\"];\nconst _c40 = [[[\"\", \"bbMapHeader\", \"\"]], [[\"\", \"bbMapFooter\", \"\"]]];\nconst _c41 = [\"[bbMapHeader]\", \"[bbMapFooter]\"];\nconst _c42 = [\"bbMapInfoWindowContent\"];\n\nfunction MapWrapperComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r2 = ctx.$implicit;\n    i0.ɵɵattribute(\"data-place-id\", place_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(place_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" \", place_r2.address == null ? null : place_r2.address.addressLine1, \", \", place_r2.address == null ? null : place_r2.address.postalCode, \" \", place_r2.address == null ? null : place_r2.address.addressLine2, \" \");\n  }\n}\n\nconst _c43 = [\"groupBtns\"];\n\nfunction PlacesViewComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelement(1, \"bb-icon-ui\", 27);\n    i0.ɵɵelementStart(2, \"span\", 28);\n    i0.ɵɵi18n(3, 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵi18nExp(ctx_r11.currentLocation);\n    i0.ɵɵi18nApply(3);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_form_4_bb_input_checkbox_ui_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"bb-input-checkbox-ui\", 33);\n    i0.ɵɵlistener(\"change\", function PlacesViewComponent_ng_template_6_ng_container_3_form_4_bb_input_checkbox_ui_2_Template_bb_input_checkbox_ui_change_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      i0.ɵɵnextContext();\n\n      const _r15 = i0.ɵɵreference(1);\n\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return ctx_r19.handleTypeSearch(ctx_r19.filterTypes(_r15.value));\n    });\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵi18n(2, 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const type_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"name\", type_r17);\n    i0.ɵɵadvance(2);\n    i0.ɵɵi18nExp(type_r17);\n    i0.ɵɵi18nApply(2);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_form_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 30, 31);\n    i0.ɵɵtemplate(2, PlacesViewComponent_ng_template_6_ng_container_3_form_4_bb_input_checkbox_ui_2_Template, 3, 2, \"bb-input-checkbox-ui\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.placeTypes);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_ng_container_14_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"bb-places-list\", 35);\n    i0.ɵɵlistener(\"selected\", function PlacesViewComponent_ng_template_6_ng_container_3_ng_container_14_ng_container_1_Template_bb_places_list_selected_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(4);\n      return ctx_r22.updatePlaceSelection($event);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const places_r9 = i0.ɵɵnextContext(3).places;\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"radius\", ctx_r21.config.radius)(\"locations\", places_r9)(\"selectedPlaceId\", i0.ɵɵpipeBind1(2, 6, ctx_r21.selectedPlaceId) || undefined)(\"currentPosition\", ctx_r21.currentPosition)(\"isMetric\", ctx_r21.isMetric)(\"placeTypes\", ctx_r21.config.placeTypes);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PlacesViewComponent_ng_template_6_ng_container_3_ng_container_14_ng_container_1_Template, 3, 8, \"ng-container\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const places_r9 = i0.ɵɵnextContext(2).places;\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(9);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", places_r9.length)(\"ngIfElse\", _r3);\n  }\n}\n\nconst _c54 = function (a0) {\n  return {\n    active: a0\n  };\n};\n\nfunction PlacesViewComponent_ng_template_6_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵelementStart(2, \"bb-map-search-ui\", 12);\n    i0.ɵɵlistener(\"mapSearch\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_bb_map_search_ui_mapSearch_2_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.handleMapSearch($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PlacesViewComponent_ng_template_6_ng_container_3_div_3_Template, 4, 1, \"div\", 13);\n    i0.ɵɵtemplate(4, PlacesViewComponent_ng_template_6_ng_container_3_form_4_Template, 3, 1, \"form\", 14);\n    i0.ɵɵelementStart(5, \"div\", 15, 16);\n    i0.ɵɵelementStart(7, \"div\", 17);\n    i0.ɵɵelementStart(8, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return ctx_r28.selectedView = \"list\";\n    });\n    i0.ɵɵi18n(9, 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.selectedView = \"map\";\n    });\n    i0.ɵɵi18n(11, 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 22);\n    i0.ɵɵelementStart(13, \"div\", 23);\n    i0.ɵɵtemplate(14, PlacesViewComponent_ng_template_6_ng_container_3_ng_container_14_Template, 2, 2, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 24);\n    i0.ɵɵelementStart(16, \"bb-map-wrapper\", 25);\n    i0.ɵɵlistener(\"update\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_bb_map_wrapper_update_16_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return ctx_r30.locationUpdate($event);\n    })(\"selected\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_bb_map_wrapper_selected_16_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return ctx_r31.updatePlaceSelection($event);\n    })(\"mapReady\", function PlacesViewComponent_ng_template_6_ng_container_3_Template_bb_map_wrapper_mapReady_16_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return ctx_r32.onMapReady();\n    });\n    i0.ɵɵpipe(17, \"async\");\n    i0.ɵɵpipe(18, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const places_r9 = i0.ɵɵnextContext().places;\n    const ctx_r10 = i0.ɵɵnextContext();\n\n    const _r5 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"config\", ctx_r10.mapConfig);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.currentLocation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", places_r9 && places_r9.length);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c54, ctx_r10.selectedView === \"list\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c54, ctx_r10.selectedView === \"map\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", ctx_r10.selectedView === \"map\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", places_r9 && places_r9.length ? \"\" : \"bb-places-list--empty\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", places_r9)(\"ngIfElse\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", ctx_r10.selectedView === \"list\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"apiKey\", ctx_r10.config.apiKey)(\"config\", ctx_r10.mapConfig)(\"mapZoom\", ctx_r10.config.mapZoom)(\"latitude\", ctx_r10.latitude)(\"longitude\", ctx_r10.longitude)(\"icons\", i0.ɵɵpipeBind1(17, 19, ctx_r10.icons))(\"locations\", places_r9)(\"enableInfoWindow\", !!ctx_r10.smallScreen)(\"selectedPlaceId\", i0.ɵɵpipeBind1(18, 21, ctx_r10.selectedPlaceId) || undefined);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵtemplate(3, PlacesViewComponent_ng_template_6_ng_container_3_Template, 19, 27, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n\n    const _r7 = i0.ɵɵreference(13);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"bb-stack--center\", ctx_r2.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.error)(\"ngIfElse\", _r7);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-empty-state-ui\", 36);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-loading-indicator-ui\");\n  }\n}\n\nfunction PlacesViewComponent_ng_template_12_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"bb-empty-state-ui\", 39);\n  }\n}\n\nfunction PlacesViewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"bb-common-error-state-ui\", 37);\n    i0.ɵɵtemplate(1, PlacesViewComponent_ng_template_12_ng_template_1_Template, 1, 0, \"ng-template\", null, 38, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r34 = i0.ɵɵreference(2);\n\n    i0.ɵɵproperty(\"error\", _r34);\n  }\n}\n\nconst _c63 = function (a0) {\n  return {\n    \"bb-heading-widget bb-heading-widget--de-elevated\": a0\n  };\n};\n\nconst _c64 = function (a0) {\n  return {\n    \"container--drag-up container-fluid\": a0\n  };\n};\n\nconst _c65 = function (a0) {\n  return {\n    places: a0\n  };\n};\n\nconst _c66 = [\"*\"];\nconst PlacesJourneyConfigurationToken = new InjectionToken('PlacesJourneyConfiguration injection token');\nvar PlacesMeasurementSystem;\n\n(function (PlacesMeasurementSystem) {\n  PlacesMeasurementSystem[\"METRIC\"] = \"metric\";\n  PlacesMeasurementSystem[\"US_IMPERIAL\"] = \"imperial\";\n})(PlacesMeasurementSystem || (PlacesMeasurementSystem = {}));\n\nconst configDefaults = {\n  apiKey: '',\n  placeTypes: {},\n  mapZoom: 15,\n  latitude: 52.3760992,\n  longitude: 4.900779,\n  radius: 2,\n  limitList: 100,\n  measurementSystem: PlacesMeasurementSystem.METRIC,\n  deElevatedHeader: false\n};\n\nclass PlacesJourneyConfigService {\n  constructor(config, itemModel) {\n    this.itemModel = itemModel;\n    config = config || {};\n    this._config = Object.assign(Object.assign({}, configDefaults), config); // update the API key from ItemModel if it was not provided from a static config\n\n    if (this.itemModel && config.apiKey === undefined) {\n      this.itemModel.property('apiKey', this._config.apiKey).subscribe({\n        next: key => {\n          this._config.apiKey = key;\n        }\n      }).unsubscribe();\n    }\n  }\n\n  get defaults() {\n    return configDefaults;\n  }\n  /**\n   * API key for Google Maps\n   */\n\n\n  get apiKey() {\n    return this._config.apiKey;\n  }\n  /**\n   * Place types configuration. Used to set up marker image and the filter label for any place type available in the service\n   */\n\n\n  get placeTypes() {\n    return this._config.placeTypes;\n  }\n  /**\n   * Default zoom value for a map\n   */\n\n\n  get mapZoom() {\n    return this._config.mapZoom;\n  }\n  /**\n   * Default map latitude\n   */\n\n\n  get latitude() {\n    return this._config.latitude;\n  }\n  /**\n   * Default map longitude\n   */\n\n\n  get longitude() {\n    return this._config.longitude;\n  }\n  /**\n   * Default radius in which the locations are being searched while map is not loaded\n   */\n\n\n  get radius() {\n    return this._config.radius;\n  }\n  /**\n   * Maximum amount of locations to display\n   */\n\n\n  get limitList() {\n    return this._config.limitList;\n  }\n  /**\n   * Measurement system\n   */\n\n\n  get measurementSystem() {\n    return this._config.measurementSystem;\n  }\n  /**\n   * Dev config to enable de-elevated header\n   */\n\n\n  get deElevatedHeader() {\n    return this._config.deElevatedHeader;\n  }\n\n}\n\nPlacesJourneyConfigService.ɵfac = function PlacesJourneyConfigService_Factory(t) {\n  return new (t || PlacesJourneyConfigService)(i0.ɵɵinject(PlacesJourneyConfigurationToken, 8), i0.ɵɵinject(i1.ItemModel, 8));\n};\n\nPlacesJourneyConfigService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PlacesJourneyConfigService,\n  factory: PlacesJourneyConfigService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesJourneyConfigService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [PlacesJourneyConfigurationToken]\n      }]\n    }, {\n      type: i1.ItemModel,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nclass PlacesJourneyComponent {}\n\nPlacesJourneyComponent.ɵfac = function PlacesJourneyComponent_Factory(t) {\n  return new (t || PlacesJourneyComponent)();\n};\n\nPlacesJourneyComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PlacesJourneyComponent,\n  selectors: [[\"bb-places-journey\"]],\n  features: [i0.ɵɵProvidersFeature([PlacesJourneyConfigService])],\n  decls: 1,\n  vars: 0,\n  template: function PlacesJourneyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"router-outlet\");\n    }\n  },\n  directives: [i1$1.RouterOutlet],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesJourneyComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-places-journey',\n      template: '<router-outlet></router-outlet>',\n      providers: [PlacesJourneyConfigService]\n    }]\n  }], null, null);\n})();\n/**\n * Default place type that will be used as fallback in case types are not configured in the app\n */\n\n\nconst defaultPlaceType = 'bbDefaultPlaceType';\n/**\n * Marker icon for default place type\n */\n\nconst defaultPlaceTypeMarkerURI = 'bb-default-marker.svg';\n/**\n * List icon name for default place type\n */\n\nconst defaultPlaceTypeIcon = 'map';\n/**\n * Ratio between foot and meter\n */\n\nconst footInMeter = 3.28084;\n/**\n * Ratio between meter and kilometer\n */\n\nconst meterInKM = 1000;\n/**\n * Ratio between foot and mile\n */\n\nconst footInMile = 5280;\n\nconst getMessageFromResponse = error => {\n  const responseBody = error.error;\n\n  if (responseBody && responseBody.errors && responseBody.errors[0] && responseBody.errors[0].message) {\n    return responseBody.errors[0].message;\n  } else {\n    return undefined;\n  }\n};\n\nconst parseError = error => {\n  // TODO: should have more user-friendly messages\n  if (error.error instanceof ErrorEvent) {\n    // Client-side or network error.\n    return {\n      message: 'An unexpected error occurred'\n    };\n  } else if (error.status && `${error.status}`.startsWith('4')) {\n    // Backend returns unsuccessful response code.  In case of 400, try to get a message from the\n    // response.\n    return {\n      message: getMessageFromResponse(error) || `Error ${error.status}`\n    };\n  } else {\n    // Backend returns 5xx\n    return {\n      message: 'An unexpected server error occurred'\n    };\n  }\n};\n\nvar GoogleMapsScriptProtocol;\n\n(function (GoogleMapsScriptProtocol) {\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n  GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n})(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n\nclass MapAPILoaderService {\n  constructor() {\n    this.scriptID = 'bbGoogleMapsApiScript';\n    this.callbackName = 'bbMapsAPILoader';\n    this.apiLoadPromiseName = 'bbMapsAPILoaderPromise';\n    this.windowRef = window;\n    this.documentRef = document;\n    this.configValue = {};\n  }\n\n  get config() {\n    return this.configValue;\n  }\n\n  set config(config) {\n    this.configValue = config;\n  }\n\n  get loadAPIPromise() {\n    return this.windowRef[this.apiLoadPromiseName];\n  }\n\n  assignScriptLoadingPromise(scriptElem) {\n    this.windowRef[this.apiLoadPromiseName] = new Promise((resolve, reject) => {\n      this.windowRef[this.callbackName] = () => {\n        resolve();\n      };\n\n      scriptElem.onerror = error => {\n        reject(error);\n      };\n    });\n  }\n\n  getScriptSrc(callbackName) {\n    const protocolType = this.configValue && this.configValue.protocol || GoogleMapsScriptProtocol.HTTPS;\n    let protocol = '';\n\n    switch (protocolType) {\n      case GoogleMapsScriptProtocol.HTTP:\n        protocol = 'http:';\n        break;\n\n      case GoogleMapsScriptProtocol.HTTPS:\n        protocol = 'https:';\n        break;\n    }\n\n    const hostAndPath = this.configValue.hostAndPath || 'maps.googleapis.com/maps/api/js'; // make sure we have places library for search component\n\n    const libraries = this.configValue.libraries || [];\n\n    if (libraries.indexOf('places') === -1) {\n      this.configValue.libraries = [...libraries, 'places'];\n    }\n\n    const queryParams = {\n      v: this.configValue.apiVersion || 'quarterly',\n      callback: callbackName,\n      key: this.configValue.apiKey,\n      client: this.configValue.clientId,\n      channel: this.configValue.channel,\n      libraries: this.configValue.libraries,\n      region: this.configValue.region,\n      language: this.configValue.language\n    };\n    const params = Object.keys(queryParams).filter(key => queryParams[key] !== undefined).filter(key => {\n      // remove empty arrays\n      return !Array.isArray(queryParams[key]) || Array.isArray(queryParams[key]) && queryParams[key].length > 0;\n    }).map(key => {\n      let value = queryParams[key];\n\n      if (Array.isArray(value)) {\n        // join arrays as comma seperated strings\n        value = value.join(',');\n      }\n\n      return `${key}=${value}`;\n    }).join('&');\n    return `${protocol}//${hostAndPath}?${params}`;\n  }\n\n  load() {\n    const window = this.windowRef;\n\n    if (window.google && window.google.maps) {\n      // Google maps already loaded on the page.\n      return Promise.resolve();\n    }\n\n    if (this.loadAPIPromise) {\n      return this.loadAPIPromise;\n    }\n\n    const script = this.documentRef.createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.defer = true;\n    script.id = this.scriptID;\n    script.src = this.getScriptSrc(this.callbackName);\n    this.assignScriptLoadingPromise(script);\n    this.documentRef.body.appendChild(script);\n    return this.loadAPIPromise;\n  }\n\n}\n\nMapAPILoaderService.ɵfac = function MapAPILoaderService_Factory(t) {\n  return new (t || MapAPILoaderService)();\n};\n\nMapAPILoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MapAPILoaderService,\n  factory: MapAPILoaderService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapAPILoaderService, [{\n    type: Injectable\n  }], null, null);\n})();\n\nclass PlacesService {\n  constructor(placesDataHttpService) {\n    this.placesDataHttpService = placesDataHttpService;\n  }\n\n  getPlaces(params) {\n    return this.placesDataHttpService.getPlaces(params).pipe(map(data => data || []));\n  }\n\n}\n\nPlacesService.ɵfac = function PlacesService_Factory(t) {\n  return new (t || PlacesService)(i0.ɵɵinject(i1$2.PlacesHttpService));\n};\n\nPlacesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PlacesService,\n  factory: PlacesService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1$2.PlacesHttpService\n    }];\n  }, null);\n})();\n\nclass MapSearchComponent {\n  constructor(loader) {\n    this.loader = loader;\n    /**\n     * Map autocomplete options object.\n     */\n\n    this.options = {};\n    /**\n     * Map API configuration.\n     */\n\n    this.config = {};\n    /**\n     * EventEmitter for triggering a mapSearch event.\n     */\n\n    this.mapSearch = new EventEmitter();\n  }\n\n  onSearchButtonClick() {\n    const input = this.searchBox.inputField;\n\n    if (!input) {\n      return;\n    } // select first result and do the search\n\n\n    google.maps.event.trigger(input.nativeElement, 'focus', {});\n    google.maps.event.trigger(input.nativeElement, 'keydown', {\n      keyCode: 40,\n      stopPropagation: () => undefined,\n      preventDefault: () => undefined\n    });\n    google.maps.event.trigger(input.nativeElement, 'keydown', {\n      keyCode: 13\n    }); // enter\n  }\n\n  ngOnInit() {\n    this.loader.config = this.config;\n    this.loader.load().then(() => {\n      const input = this.searchBox.inputField;\n\n      if (!input) {\n        return;\n      }\n\n      const autocomplete = new google.maps.places.Autocomplete(input.nativeElement, this.options);\n      autocomplete.addListener('place_changed', () => {\n        const place = autocomplete.getPlace();\n\n        if (place.geometry) {\n          this.mapSearch.emit(place);\n        }\n      });\n    });\n  }\n\n}\n\nMapSearchComponent.ɵfac = function MapSearchComponent_Factory(t) {\n  return new (t || MapSearchComponent)(i0.ɵɵdirectiveInject(MapAPILoaderService));\n};\n\nMapSearchComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MapSearchComponent,\n  selectors: [[\"bb-map-search-ui\"]],\n  viewQuery: function MapSearchComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchBox = _t.first);\n    }\n  },\n  inputs: {\n    options: \"options\",\n    config: \"config\"\n  },\n  outputs: {\n    mapSearch: \"mapSearch\"\n  },\n  decls: 3,\n  vars: 1,\n  consts: function () {\n    let i18n_1;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Search for Location\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_2 = goog.getMsg(\"Search Branch and Street Names\");\n      i18n_1 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_2;\n    } else {\n      i18n_1 = $localize`:Search for Location@@map-ui.search.placeholder:Search Branch and Street Names`;\n    }\n\n    let i18n_3;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Search Branch and Street Name aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_4 = goog.getMsg(\"Search Branch and Street Name\");\n      i18n_3 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_4;\n    } else {\n      i18n_3 = $localize`:Search Branch and Street Name aria-label@@map.search.ui.aria-label:Search Branch and Street Name`;\n    }\n\n    return [[1, \"bb-block\", \"bb-block--md\"], [\"placeholder\", i18n_1, \"aria-label\", i18n_3, 3, \"showSearch\", \"submit\"], [\"bbMapsearch\", \"\"]];\n  },\n  template: function MapSearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"bb-search-box-ui\", 1, 2);\n      i0.ɵɵlistener(\"submit\", function MapSearchComponent_Template_bb_search_box_ui_submit_1_listener() {\n        return ctx.onSearchButtonClick();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"showSearch\", true);\n    }\n  },\n  directives: [i2.SearchBoxComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapSearchComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-map-search-ui',\n      templateUrl: './map-search.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapAPILoaderService\n    }];\n  }, {\n    options: [{\n      type: Input\n    }],\n    config: [{\n      type: Input\n    }],\n    mapSearch: [{\n      type: Output\n    }],\n    searchBox: [{\n      type: ViewChild,\n      args: ['bbMapsearch', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nvar WeekDay;\n\n(function (WeekDay) {\n  WeekDay[WeekDay[\"Monday\"] = 1] = \"Monday\";\n  WeekDay[WeekDay[\"Tuesday\"] = 2] = \"Tuesday\";\n  WeekDay[WeekDay[\"Wednesday\"] = 3] = \"Wednesday\";\n  WeekDay[WeekDay[\"Thursday\"] = 4] = \"Thursday\";\n  WeekDay[WeekDay[\"Friday\"] = 5] = \"Friday\";\n  WeekDay[WeekDay[\"Saturday\"] = 6] = \"Saturday\";\n  WeekDay[WeekDay[\"Sunday\"] = 7] = \"Sunday\";\n})(WeekDay || (WeekDay = {}));\n\nclass WorkTimesComponent {\n  constructor(datePipe) {\n    this.datePipe = datePipe;\n    /**\n     * The day number based on WeekDay enum\n     */\n\n    this.day = 0;\n    /**\n     * Hours related to this day\n     */\n\n    this.hours = [];\n  }\n\n  toLocaleTime(hour) {\n    return this.datePipe.transform(new Date('2000-01-01T' + hour), 'shortTime') || hour;\n  }\n\n  isToday(day, today = new Date().getDay()) {\n    today = today || 7;\n    return day === today;\n  }\n\n}\n\nWorkTimesComponent.ɵfac = function WorkTimesComponent_Factory(t) {\n  return new (t || WorkTimesComponent)(i0.ɵɵdirectiveInject(i1$3.DatePipe));\n};\n\nWorkTimesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: WorkTimesComponent,\n  selectors: [[\"bb-work-times\"]],\n  inputs: {\n    day: \"day\",\n    hours: \"hours\"\n  },\n  features: [i0.ɵɵProvidersFeature([DatePipe])],\n  decls: 7,\n  vars: 7,\n  consts: function () {\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_7 = goog.getMsg(\"{VAR_SELECT, select, 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday} 7 {Sunday}}\");\n      i18n_6 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_7;\n    } else {\n      i18n_6 = $localize`{VAR_SELECT, select, 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday} 7 {Sunday}}`;\n    }\n\n    i18n_6 = i0.ɵɵi18nPostprocess(i18n_6, {\n      \"VAR_SELECT\": \"\\uFFFD0\\uFFFD\"\n    });\n    let i18n_5;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label for week day name based on work\n       *       times\n       * @meaning Week day name\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_8 = goog.getMsg(\" {$icu} \", {\n        \"icu\": i18n_6\n      });\n      i18n_5 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_8;\n    } else {\n      i18n_5 = $localize`:Week day name|label for week day name based on work\n      times@@places.workTimes.dayName: ${i18n_6}:ICU: `;\n    }\n\n    let i18n_9;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label for closed day\n       * @meaning Closed\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__10 = goog.getMsg(\"Closed\");\n      i18n_9 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__10;\n    } else {\n      i18n_9 = $localize`:Closed|label for closed day@@places.workTimes.closed:Closed`;\n    }\n\n    return [[1, \"row\", \"bb-place-timetable\", 3, \"ngClass\"], [1, \"col-md-5\"], i18n_5, [1, \"col-md-7\"], [4, \"ngIf\", \"ngIfElse\"], [\"closed\", \"\"], [4, \"ngFor\", \"ngForOf\"], i18n_9];\n  },\n  template: function WorkTimesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"span\", 1);\n      i0.ɵɵi18n(2, 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"span\", 3);\n      i0.ɵɵtemplate(4, WorkTimesComponent_ng_container_4_Template, 2, 1, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, WorkTimesComponent_ng_template_5_Template, 2, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(6);\n\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c11, ctx.isToday(ctx.day), !ctx.isToday(ctx.day)));\n      i0.ɵɵadvance(2);\n      i0.ɵɵi18nExp(ctx.day);\n      i0.ɵɵi18nApply(2);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.hours.length)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [i1$3.NgClass, i1$3.NgIf, i1$3.NgForOf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(WorkTimesComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-work-times',\n      templateUrl: './work-times.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [DatePipe]\n    }]\n  }], function () {\n    return [{\n      type: i1$3.DatePipe\n    }];\n  }, {\n    day: [{\n      type: Input\n    }],\n    hours: [{\n      type: Input\n    }]\n  });\n})();\n\nclass PlaceDetailsComponent {\n  // This returns array of weekDay numbers based on the WeekDay enum\n  get weekDay() {\n    const days = Object.keys(WeekDay);\n    return days.slice(0, days.length / 2).map(day => +day);\n  }\n\n  getWorkTimes(day, hours) {\n    return hours.filter(time => time.day === day);\n  }\n\n  getFullAddress(address) {\n    return address ? encodeURI(`${address.postalCode} ${address.addressLine1}`) : '';\n  }\n\n}\n\nPlaceDetailsComponent.ɵfac = function PlaceDetailsComponent_Factory(t) {\n  return new (t || PlaceDetailsComponent)();\n};\n\nPlaceDetailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PlaceDetailsComponent,\n  selectors: [[\"bb-place-details\"]],\n  inputs: {\n    place: \"place\"\n  },\n  features: [i0.ɵɵProvidersFeature([DatePipe])],\n  decls: 7,\n  vars: 3,\n  consts: function () {\n    let i18n_12;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Get Directions button\n       *       aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_13 = goog.getMsg(\"Get Directions on google maps\");\n      i18n_12 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_13;\n    } else {\n      i18n_12 = $localize`:Get Directions button\n      aria-label@@place.details.get.direction.button.aria-label:Get Directions on google maps`;\n    }\n\n    let i18n_14;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Get Directions redirect link\n       * @meaning Get Directions\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_15 = goog.getMsg(\"{$startTagBbIconUi}{$closeTagBbIconUi} Get Directions \", {\n        \"startTagBbIconUi\": \"\\uFFFD#4\\uFFFD\",\n        \"closeTagBbIconUi\": \"\\uFFFD/#4\\uFFFD\"\n      });\n      i18n_14 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_15;\n    } else {\n      i18n_14 = $localize`:Get Directions|Get Directions redirect link@@places.directions.get:${\"\\uFFFD#4\\uFFFD\"}:START_TAG_BB_ICON_UI:${\"\\uFFFD/#4\\uFFFD\"}:CLOSE_TAG_BB_ICON_UI: Get Directions `;\n    }\n\n    let i18n_16;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label for Opening Hours\n       * @meaning Opening Hours\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__17 = goog.getMsg(\" Opening Hours \");\n      i18n_16 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__17;\n    } else {\n      i18n_16 = $localize`:Opening Hours|label for Opening Hours@@places.label.openingHours: Opening Hours `;\n    }\n\n    let i18n_18;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Opening Hours list\n       *         aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__19 = goog.getMsg(\"Opening Hours\");\n      i18n_18 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__19;\n    } else {\n      i18n_18 = $localize`:Opening Hours list\n        aria-label@@place.details.opening.hours.list.aria-label:Opening Hours`;\n    }\n\n    let i18n_21;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label for Available\n       *           Services\n       * @meaning Available Services\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__22 = goog.getMsg(\" Available Services \");\n      i18n_21 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__22;\n    } else {\n      i18n_21 = $localize`:Available Services|label for Available\n          Services@@places.label.availableServices: Available Services `;\n    }\n\n    let i18n_23;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Available Services list\n       *         aria-label\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__24 = goog.getMsg(\"Available Services\");\n      i18n_23 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__24;\n    } else {\n      i18n_23 = $localize`:Available Services list\n        aria-label@@place.details.available.services.list.aria-label:Available Services`;\n    }\n\n    return [[1, \"bb-place-details\"], [\"aria-label\", i18n_12, 1, \"bb-block\", \"bb-block--md\"], [\"target\", \"_blank\", \"rel\", \"noopener\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"href\"], i18n_14, [\"name\", \"navigation\", \"size\", \"md\"], [\"class\", \"bb-block bb-block--md\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"bb-block\", \"bb-block--md\"], [1, \"bb-stack\", \"bb-stack--density-sm\"], [\"name\", \"access-time\", 1, \"bb-stack__item\"], [1, \"bb-stack__item\", \"bb-text-semi-bold\"], i18n_16, [\"aria-label\", i18n_18, \"tabindex\", \"0\", 1, \"bb-list\", \"bb-list--density-none\"], [4, \"ngFor\", \"ngForOf\"], [3, \"day\", \"hours\"], [\"name\", \"supervisor-account\", 1, \"bb-stack__item\"], i18n_21, [\"aria-label\", i18n_23, \"tabindex\", \"0\"], [\"class\", \"bb-place-services bb-text-support\", 4, \"ngFor\", \"ngForOf\"], [1, \"bb-place-services\", \"bb-text-support\"]];\n  },\n  template: function PlaceDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"a\", 2);\n      i0.ɵɵi18nStart(3, 3);\n      i0.ɵɵelement(4, \"bb-icon-ui\", 4);\n      i0.ɵɵi18nEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, PlaceDetailsComponent_div_5_Template, 7, 1, \"div\", 5);\n      i0.ɵɵtemplate(6, PlaceDetailsComponent_div_6_Template, 7, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"href\", \"https://www.google.com/maps/dir//\" + ctx.getFullAddress(ctx.place && ctx.place.address), i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.place == null ? null : ctx.place.hours);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.place == null ? null : ctx.place.services == null ? null : ctx.place.services.length);\n    }\n  },\n  directives: [i1$4.IconComponent, i1$3.NgIf, i1$3.NgForOf, WorkTimesComponent],\n  pipes: [i1$3.TitleCasePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlaceDetailsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-place-details',\n      templateUrl: './place-details.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [DatePipe]\n    }]\n  }], null, {\n    place: [{\n      type: Input\n    }]\n  });\n})();\n\nclass KeyboardAccessibilityDirective {\n  constructor(element) {\n    this.element = element;\n    element.nativeElement.tabIndex = 0;\n  } // eslint-disable-next-line\n\n\n  eventListener(event) {\n    this.element.nativeElement.click(event);\n  }\n\n}\n\nKeyboardAccessibilityDirective.ɵfac = function KeyboardAccessibilityDirective_Factory(t) {\n  return new (t || KeyboardAccessibilityDirective)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nKeyboardAccessibilityDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: KeyboardAccessibilityDirective,\n  selectors: [[\"\", \"bbKeyboardAccessibility\", \"\"]],\n  hostBindings: function KeyboardAccessibilityDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.enter\", function KeyboardAccessibilityDirective_keydown_enter_HostBindingHandler($event) {\n        return ctx.eventListener($event);\n      })(\"keydown.space\", function KeyboardAccessibilityDirective_keydown_space_HostBindingHandler($event) {\n        return ctx.eventListener($event);\n      });\n    }\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(KeyboardAccessibilityDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bbKeyboardAccessibility]'\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    eventListener: [{\n      type: HostListener,\n      args: ['keydown.enter', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['keydown.space', ['$event']]\n    }]\n  });\n})();\n\nclass PlacesListComponent {\n  constructor(datePipe) {\n    this.datePipe = datePipe;\n    /**\n     * Map radius.\n     */\n\n    this.radius = 1;\n    /**\n     * Use metric system for displaying distances.\n     */\n\n    this.isMetric = true;\n    /**\n     * Provide Place Types\n     */\n\n    this.placeTypes = {};\n    /**\n     * EventEmitter for triggering a place selection update event.\n     */\n\n    this.selected = new EventEmitter();\n    this.places = [];\n  }\n  /**\n   * List of locations to be rendered.\n   */\n\n\n  set locations(locations) {\n    this.places = locations.map(place => Object.assign(Object.assign({}, place), {\n      distance: this.calculateDistance(place)\n    })).sort((a, b) => (a.distance || 0) - (b.distance || 0));\n  }\n  /**\n   * Uses Google geometry library to calculate distance between two points\n   * Returns undefined if google library or current position is undefined\n   * Returns distance in meters or feet, depending on measurment system property in the widget\n   */\n\n\n  calculateDistance(place) {\n    if (typeof google === 'undefined' || this.currentPosition === undefined) {\n      return undefined;\n    }\n\n    const centerCoords = new google.maps.LatLng(this.currentPosition.lat, this.currentPosition.lng);\n    const itemCoords = new google.maps.LatLng(place.latitude, place.longitude);\n    const distance = google.maps.geometry.spherical.computeDistanceBetween(centerCoords, itemCoords);\n    return this.isMetric ? distance : distance * footInMeter;\n  }\n\n  isStillOpen(hour, currentDate = new Date()) {\n    const [closeHour, closeMinute] = hour.split(':').map(timePart => +timePart);\n    const currentHour = currentDate.getHours();\n    const currentMinute = currentDate.getMinutes();\n    return currentHour < closeHour || currentHour === closeHour && currentMinute < closeMinute;\n  }\n\n  getDistanceUnits() {\n    if (this.isMetric) {\n      return [this.transM.nativeElement.textContent, this.transKm.nativeElement.textContent];\n    }\n\n    return [this.transFt.nativeElement.textContent, this.transMi.nativeElement.textContent];\n  }\n\n  onListItemClick(isOpen, place) {\n    this.selected.emit(!isOpen ? place : {\n      id: '',\n      latitude: 0,\n      longitude: 0\n    });\n    return;\n  }\n\n  getClosingHour(hours, currentDate = new Date()) {\n    if (!hours) {\n      return;\n    } // in specs, Sunday is 7 and in JS it is 0, rest of the days match\n\n\n    const currentDay = currentDate.getDay() || 7;\n    const todayHours = hours.find(time => time.day === currentDay);\n\n    if (!todayHours) {\n      return;\n    }\n\n    return this.isStillOpen(todayHours.close, currentDate) && this.datePipe.transform(new Date('2000-01-01T' + todayHours.close), 'shortTime') || undefined;\n  }\n\n  getPlaceTypeIcon(type) {\n    return type && this.placeTypes[type] && this.placeTypes[type].iconName ? this.placeTypes[type].iconName : defaultPlaceTypeIcon;\n  }\n\n  formatDistance(distance) {\n    const distanceUnit = this.getDistanceUnits();\n    const distanceUnitRatio = this.isMetric ? meterInKM : footInMile;\n    let convertedDistance = Math.round(distance);\n    let unit = distanceUnit[0];\n\n    if (distance >= distanceUnitRatio) {\n      unit = distanceUnit[1];\n      convertedDistance /= distanceUnitRatio;\n\n      if (convertedDistance >= 10) {\n        // for distance over 10 km/mi show only integers\n        convertedDistance = Math.round(convertedDistance);\n      } else {\n        // for distance more than 1 km/mi but smaller than 10 km/mi use one decimal point\n        convertedDistance = Math.round(convertedDistance * 10) / 10;\n      }\n    }\n\n    return `${convertedDistance} ${unit}`;\n  }\n\n}\n\nPlacesListComponent.ɵfac = function PlacesListComponent_Factory(t) {\n  return new (t || PlacesListComponent)(i0.ɵɵdirectiveInject(i1$3.DatePipe));\n};\n\nPlacesListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PlacesListComponent,\n  selectors: [[\"bb-places-list\"]],\n  viewQuery: function PlacesListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c25, 7);\n      i0.ɵɵviewQuery(_c26, 7);\n      i0.ɵɵviewQuery(_c27, 7);\n      i0.ɵɵviewQuery(_c28, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.transM = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.transKm = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.transFt = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.transMi = _t.first);\n    }\n  },\n  inputs: {\n    radius: \"radius\",\n    locations: \"locations\",\n    selectedPlaceId: \"selectedPlaceId\",\n    currentPosition: \"currentPosition\",\n    isMetric: \"isMetric\",\n    placeTypes: \"placeTypes\"\n  },\n  outputs: {\n    selected: \"selected\"\n  },\n  features: [i0.ɵɵProvidersFeature([DatePipe])],\n  decls: 14,\n  vars: 2,\n  consts: function () {\n    let i18n_29;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for meters\n       * @meaning m\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_30 = goog.getMsg(\"m\");\n      i18n_29 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_30;\n    } else {\n      i18n_29 = $localize`:m|Label for meters@@places.distance.meter:m`;\n    }\n\n    let i18n_31;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for kilometers\n       * @meaning km\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_32 = goog.getMsg(\"km\");\n      i18n_31 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_32;\n    } else {\n      i18n_31 = $localize`:km|Label for kilometers@@places.distance.kilometer:km`;\n    }\n\n    let i18n_33;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for feet\n       * @meaning ft\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_34 = goog.getMsg(\"ft\");\n      i18n_33 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_34;\n    } else {\n      i18n_33 = $localize`:ft|Label for feet@@places.distance.foot:ft`;\n    }\n\n    let i18n_35;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Label for miles\n       * @meaning mi\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_36 = goog.getMsg(\"mi\");\n      i18n_35 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_36;\n    } else {\n      i18n_35 = $localize`:mi|Label for miles@@places.distance.mile:mi`;\n    }\n\n    let i18n_37;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc label for open today\n       *                 until\n       * @meaning Open Today until\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS____38 = goog.getMsg(\"Open Today until \");\n      i18n_37 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS____38;\n    } else {\n      i18n_37 = $localize`:Open Today until|label for open today\n                until@@places.openToday.until:Open Today until `;\n    }\n\n    return [[1, \"bb-list\", \"bb-list--density-md\", 3, \"closeOthers\"], [\"class\", \"bb-list__item d-block\", \"role\", \"tree\", 3, \"isOpen\", 4, \"ngFor\", \"ngForOf\"], [1, \"ng-cloak\"], [\"transM\", \"\"], i18n_29, [\"transKm\", \"\"], i18n_31, [\"transFt\", \"\"], i18n_33, [\"transMi\", \"\"], i18n_35, [\"role\", \"tree\", 1, \"bb-list__item\", \"d-block\", 3, \"isOpen\"], [\"bbCollapsibleHeader\", \"\"], [\"bbCollapsibleBody\", \"\"], [\"role\", \"treeitem\", \"bbKeyboardAccessibility\", \"\", 1, \"bb-block\", 3, \"click\"], [1, \"bb-stack\", \"bb-place-info\"], [1, \"bb-inline-stack\", \"bb-inline-stack--density-sm\"], [\"size\", \"md\", 1, \"bb-inline-stack__item\", 3, \"name\"], [1, \"bb-text-semi-bold\"], [\"size\", \"md\", 1, \"bb-stack__item\", \"bb-stack__item--push-right\", 3, \"name\"], [1, \"bb-place-info__subtitle\", \"bb-subtitle\"], [4, \"ngIf\"], [\"class\", \"bb-text-support bb-inline-stack\", 4, \"ngIf\"], [\"class\", \"bb-text-support\", 4, \"ngIf\"], [1, \"bb-text-support\", \"bb-inline-stack\"], [\"name\", \"near-me\", \"size\", \"sm\", 1, \"bb-inline-stack__item\"], [1, \"bb-text-support\"], i18n_37, [3, \"place\"]];\n  },\n  template: function PlacesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-collapsible-accordion-ui\", 0);\n      i0.ɵɵtemplate(1, PlacesListComponent_bb_collapsible_ui_1_Template, 3, 1, \"bb-collapsible-ui\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"span\", 2, 3);\n      i0.ɵɵi18n(4, 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"span\", 2, 5);\n      i0.ɵɵi18n(7, 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"span\", 2, 7);\n      i0.ɵɵi18n(10, 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"span\", 2, 9);\n      i0.ɵɵi18n(13, 10);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"closeOthers\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.places);\n    }\n  },\n  directives: [i2$1.CollapsibleAccordionComponent, i1$3.NgForOf, i3.CollapsibleComponent, i3.CollapsibleHeaderDirective, i3.CollapsibleBodyDirective, KeyboardAccessibilityDirective, i1$4.IconComponent, i1$3.NgIf, PlaceDetailsComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesListComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-places-list',\n      templateUrl: './places-list.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [DatePipe]\n    }]\n  }], function () {\n    return [{\n      type: i1$3.DatePipe\n    }];\n  }, {\n    radius: [{\n      type: Input\n    }],\n    locations: [{\n      type: Input\n    }],\n    selectedPlaceId: [{\n      type: Input\n    }],\n    currentPosition: [{\n      type: Input\n    }],\n    isMetric: [{\n      type: Input\n    }],\n    placeTypes: [{\n      type: Input\n    }],\n    selected: [{\n      type: Output\n    }],\n    transM: [{\n      type: ViewChild,\n      args: ['transM', {\n        static: true\n      }]\n    }],\n    transKm: [{\n      type: ViewChild,\n      args: ['transKm', {\n        static: true\n      }]\n    }],\n    transFt: [{\n      type: ViewChild,\n      args: ['transFt', {\n        static: true\n      }]\n    }],\n    transMi: [{\n      type: ViewChild,\n      args: ['transMi', {\n        static: true\n      }]\n    }]\n  });\n})();\n/**\n * Handles the communication with the Google Maps Javascript\n * API v3\n */\n\n\nclass MapHelpersService {\n  constructor(loader) {\n    this.loader = loader;\n  }\n\n  createMap(el, mapOptions, mapConfig = {}) {\n    this.loader.config = mapConfig;\n    return this.loader.load().then(() => {\n      this.map = new google.maps.Map(el, mapOptions);\n    });\n  }\n\n  setMapOptions(options) {\n    this.map.setOptions(options);\n  }\n  /**\n   * Creates a google map marker with the map context\n   */\n\n\n  createMarker(options = {}, addToMap = true) {\n    if (addToMap) {\n      options.map = this.map;\n    }\n\n    return new google.maps.Marker(options);\n  }\n\n  createInfoWindow(options) {\n    return new google.maps.InfoWindow(options);\n  }\n\n  openInfoWindow(infoWindow, marker) {\n    return infoWindow.open(this.map, marker);\n  }\n\n  onMapEvent(eventName, callback) {\n    this.map.addListener(eventName, arg => callback(arg));\n  }\n\n  setCenter(latLng) {\n    return this.map.setCenter(latLng);\n  }\n\n  getZoom() {\n    return this.map.getZoom();\n  }\n\n  getBounds() {\n    return this.map.getBounds();\n  }\n\n  getMapTypeId() {\n    return this.map.getMapTypeId();\n  }\n\n  setZoom(zoom) {\n    return this.map.setZoom(zoom);\n  }\n\n  getCenter() {\n    return this.map.getCenter();\n  }\n\n  panTo(latLng) {\n    return this.map.panTo(latLng);\n  }\n\n  panBy(x, y) {\n    return this.map.panBy(x, y);\n  }\n\n  fitBounds(latLng) {\n    return this.map.fitBounds(latLng);\n  }\n\n  panToBounds(latLng) {\n    return this.map.panToBounds(latLng);\n  }\n  /**\n   * Triggers the given event name on the map instance.\n   */\n\n\n  triggerMapEvent(eventName) {\n    return google.maps.event.trigger(this.map, eventName);\n  }\n\n}\n\nMapHelpersService.ɵfac = function MapHelpersService_Factory(t) {\n  return new (t || MapHelpersService)(i0.ɵɵinject(MapAPILoaderService));\n};\n\nMapHelpersService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MapHelpersService,\n  factory: MapHelpersService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapHelpersService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: MapAPILoaderService\n    }];\n  }, null);\n})();\n\nclass MapComponent {\n  constructor(helpers) {\n    this.helpers = helpers;\n    /**\n     * Map options object.\n     */\n\n    this.options = {};\n    /**\n     * Map API configuration.\n     */\n\n    this.config = {};\n    /**\n     * EventEmitter for triggering a mapReady event.\n     */\n\n    this.mapReady = new EventEmitter();\n  }\n\n  get mapHelpers() {\n    return this.helpers;\n  }\n\n  ngOnInit() {\n    this.helpers.createMap(this.mapContainer.nativeElement, this.options, this.config).then(() => this.mapReady.emit(this));\n  }\n\n}\n\nMapComponent.ɵfac = function MapComponent_Factory(t) {\n  return new (t || MapComponent)(i0.ɵɵdirectiveInject(MapHelpersService));\n};\n\nMapComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MapComponent,\n  selectors: [[\"bb-map-ui\"]],\n  viewQuery: function MapComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c39, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapContainer = _t.first);\n    }\n  },\n  inputs: {\n    options: \"options\",\n    config: \"config\"\n  },\n  outputs: {\n    mapReady: \"mapReady\"\n  },\n  ngContentSelectors: _c41,\n  decls: 4,\n  vars: 0,\n  consts: [[1, \"bb-map\"], [\"bbMapContainer\", \"\"]],\n  template: function MapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef(_c40);\n      i0.ɵɵprojection(0);\n      i0.ɵɵelement(1, \"div\", 0, 1);\n      i0.ɵɵprojection(3, 1);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-map-ui',\n      templateUrl: './map.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapHelpersService\n    }];\n  }, {\n    options: [{\n      type: Input\n    }],\n    config: [{\n      type: Input\n    }],\n    mapReady: [{\n      type: Output\n    }],\n    mapContainer: [{\n      type: ViewChild,\n      args: ['bbMapContainer', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nclass MapWrapperComponent {\n  constructor() {\n    /**\n     * API key need for the google maps to work.\n     */\n    this.apiKey = '';\n    /**\n     * Map config.\n     */\n\n    this.config = {};\n    /**\n     * Map zoom.\n     */\n\n    this.mapZoom = 0;\n    /**\n     * Latitude for the coordinates.\n     */\n\n    this.latitude = 0;\n    /**\n     * Longitude for the coordinates.\n     */\n\n    this.longitude = 0;\n    /**\n     * Info window should be displayed after clicking on marker.\n     */\n\n    this.enableInfoWindow = false;\n    /**\n     * Object to describe the map marker icon.\n     */\n\n    this.icons = {};\n    /**\n     * EventEmitter for triggering a update event.\n     */\n\n    this.update = new EventEmitter();\n    /**\n     * EventEmitter for place selection update event.\n     */\n\n    this.selected = new EventEmitter();\n    /**\n     * EventEmitter for triggering a locate event.\n     */\n\n    this.locate = new EventEmitter();\n    /**\n     * EventEmitter for triggering a mapReady event.\n     */\n\n    this.mapReady = new EventEmitter();\n    this.markers = [];\n  }\n\n  set locations(locations) {\n    this.places = locations;\n\n    if (this.mapHelpers) {\n      this.drawMarkers();\n    }\n  }\n\n  set selectedPlaceId(id) {\n    this.selectedId = id;\n\n    if (this.mapHelpers) {\n      this.drawMarkers();\n    }\n  }\n\n  getInfoWindowContent(placeId) {\n    const wrapperElement = this.template.nativeElement;\n    const template = wrapperElement.querySelector(`div[data-place-id='${placeId}']`);\n    return template ? template.innerHTML : '';\n  }\n\n  getDistance(bounds) {\n    if (!bounds) {\n      return 0;\n    }\n\n    return google.maps.geometry.spherical.computeDistanceBetween(bounds.getNorthEast(), bounds.getSouthWest()) / 1000;\n  }\n\n  emitMapUpdate() {\n    if (!this.mapHelpers) {\n      return;\n    }\n\n    const center = this.mapHelpers.getCenter();\n    this.update.emit({\n      latitude: center.lat(),\n      longitude: center.lng(),\n      radius: Math.ceil(this.getDistance(this.mapHelpers.getBounds()) / 2)\n    });\n  }\n\n  setCurrentLocationMarker(location) {\n    if (!this.mapHelpers) {\n      return;\n    }\n\n    this.mapHelpers.createMarker({\n      position: location,\n      clickable: false,\n      icon: this.currentLocationIconOptions,\n      locationId: ''\n    });\n  }\n\n  markerClicklistener(marker, place) {\n    const helpers = this.mapHelpers;\n\n    if (this.enableInfoWindow) {\n      if (this.infoWindow) {\n        this.infoWindow.close();\n      }\n\n      const content = this.getInfoWindowContent(place.id);\n      this.infoWindow = helpers.createInfoWindow({\n        content\n      });\n      helpers.openInfoWindow(this.infoWindow, marker);\n    }\n\n    if (this.mapHelpers) {\n      if (marker.locationId === this.selectedId) {\n        this.selected.emit({\n          id: '',\n          latitude: 0,\n          longitude: 0\n        });\n      } else {\n        this.selected.emit(this.places.find(location => location.id === marker.locationId));\n      }\n    }\n  }\n\n  drawMarkers() {\n    if (!Array.isArray(this.places)) {\n      return;\n    } // markers that are not needed anymore, should be cleared\n\n\n    const placeIds = this.places.map(place => place.id);\n    const newMarkerList = [];\n    this.markers.forEach(marker => {\n      if (placeIds.includes(marker.locationId)) {\n        newMarkerList.push(marker);\n      } else {\n        // eslint-disable-next-line\n        marker.setMap(null);\n      }\n    });\n    this.markers = newMarkerList; // places markers on map\n\n    this.places.forEach(place => {\n      let marker = this.markers.find(item => item.locationId === place.id);\n\n      if (marker === undefined) {\n        marker = this.createMarker(place);\n        this.markers.push(marker);\n        marker.addListener('click', () => this.markerClicklistener(marker, place));\n      }\n\n      if (this.selectedId && placeIds.includes(this.selectedId)) {\n        if (place.id === this.selectedId) {\n          marker.setOpacity(1);\n          marker.setIcon({\n            url: marker.getIcon().url,\n            scaledSize: new google.maps.Size(60, 60)\n          });\n        } else {\n          marker.setOpacity(0.5);\n          marker.setIcon({\n            url: marker.getIcon().url\n          });\n        }\n      } else {\n        marker.setOpacity(1);\n        marker.setIcon({\n          url: marker.getIcon().url\n        });\n      }\n    });\n  }\n\n  createMarker(place) {\n    const helpers = this.mapHelpers;\n    const position = {\n      lat: place.latitude,\n      lng: place.longitude\n    }; // try to find place type icon or try to use fallback icon\n\n    const defaultIcon = this.icons && Object.keys(this.icons).length ? this.icons[Object.keys(this.icons)[0]] : undefined;\n    const iconUrl = place.placeType && this.icons && this.icons[place.placeType] ? this.icons[place.placeType] : defaultIcon;\n    let marker = {\n      position,\n      locationId: place.id,\n      title: $localize`:@@places.map.marker.title:map marker`\n    }; // if there is no icon at all, use maps default pin\n\n    if (iconUrl) {\n      marker = Object.assign(Object.assign({}, marker), {\n        icon: {\n          url: iconUrl\n        }\n      });\n    }\n\n    return helpers.createMarker(marker);\n  }\n  /**\n   * List of locations to be rendered.\n   */\n\n\n  get locations() {\n    return this.places || [];\n  }\n  /**\n   * Selected place id.\n   */\n\n\n  get selectedPlaceId() {\n    return this.selectedId;\n  }\n\n  get options() {\n    return {\n      center: {\n        lat: this.latitude,\n        lng: this.longitude\n      },\n      zoom: this.mapZoom,\n      disableDefaultUI: true,\n      zoomControl: true,\n      styles: [{\n        featureType: 'poi',\n        stylers: [{\n          visibility: 'off'\n        }]\n      }]\n    };\n  }\n\n  setMapOptions(component) {\n    this.mapHelpers = component.mapHelpers;\n    this.mapHelpers.setMapOptions({\n      mapTypeControlOptions: {\n        mapTypeIds: [google.maps.MapTypeId.ROADMAP]\n      }\n    });\n    this.mapHelpers.onMapEvent('idle', () => this.emitMapUpdate());\n    this.currentLocationIconOptions = {\n      path: google.maps.SymbolPath.CIRCLE,\n      fillColor: '#4285F4',\n      fillOpacity: 1,\n      scale: 6,\n      strokeColor: 'white',\n      strokeWeight: 2\n    };\n\n    if ('geolocation' in navigator) {\n      const helpers = this.mapHelpers;\n      navigator.geolocation.getCurrentPosition(location => {\n        const position = {\n          lat: location.coords.latitude,\n          lng: location.coords.longitude\n        };\n        helpers.setCenter(position);\n        this.setCurrentLocationMarker(position);\n        this.locate.emit(position);\n      });\n    } // Everything set, emit that map is ready\n\n\n    this.mapReady.emit();\n  }\n\n  ngOnChanges(changes) {\n    if (!this.mapHelpers) {\n      return;\n    }\n\n    if (changes.latitude || changes.longitude) {\n      this.mapHelpers.setCenter({\n        lat: changes.latitude ? changes.latitude.currentValue : this.latitude,\n        lng: changes.longitude ? changes.longitude.currentValue : this.longitude\n      });\n    }\n  }\n\n}\n\nMapWrapperComponent.ɵfac = function MapWrapperComponent_Factory(t) {\n  return new (t || MapWrapperComponent)();\n};\n\nMapWrapperComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MapWrapperComponent,\n  selectors: [[\"bb-map-wrapper\"]],\n  viewQuery: function MapWrapperComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c42, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n    }\n  },\n  inputs: {\n    apiKey: \"apiKey\",\n    config: \"config\",\n    mapZoom: \"mapZoom\",\n    latitude: \"latitude\",\n    longitude: \"longitude\",\n    enableInfoWindow: \"enableInfoWindow\",\n    icons: \"icons\",\n    locations: \"locations\",\n    selectedPlaceId: \"selectedPlaceId\"\n  },\n  outputs: {\n    update: \"update\",\n    selected: \"selected\",\n    locate: \"locate\",\n    mapReady: \"mapReady\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 4,\n  vars: 3,\n  consts: [[3, \"options\", \"config\", \"mapReady\"], [\"hidden\", \"\"], [\"bbMapInfoWindowContent\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bb-text-semi-bold\"]],\n  template: function MapWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"bb-map-ui\", 0);\n      i0.ɵɵlistener(\"mapReady\", function MapWrapperComponent_Template_bb_map_ui_mapReady_0_listener($event) {\n        return ctx.setMapOptions($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(1, \"div\", 1, 2);\n      i0.ɵɵtemplate(3, MapWrapperComponent_div_3_Template, 5, 5, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"options\", ctx.options)(\"config\", ctx.config);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.places);\n    }\n  },\n  directives: [MapComponent, i1$3.NgForOf],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapWrapperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-map-wrapper',\n      templateUrl: './map-wrapper.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, {\n    apiKey: [{\n      type: Input\n    }],\n    config: [{\n      type: Input\n    }],\n    mapZoom: [{\n      type: Input\n    }],\n    latitude: [{\n      type: Input\n    }],\n    longitude: [{\n      type: Input\n    }],\n    enableInfoWindow: [{\n      type: Input\n    }],\n    icons: [{\n      type: Input\n    }],\n    locations: [{\n      type: Input\n    }],\n    selectedPlaceId: [{\n      type: Input\n    }],\n    update: [{\n      type: Output\n    }],\n    selected: [{\n      type: Output\n    }],\n    locate: [{\n      type: Output\n    }],\n    mapReady: [{\n      type: Output\n    }],\n    template: [{\n      type: ViewChild,\n      args: ['bbMapInfoWindowContent']\n    }]\n  });\n})();\n\nclass PlacesViewComponent {\n  constructor(config, service, assetsService, cd, loader) {\n    this.config = config;\n    this.service = service;\n    this.assetsService = assetsService;\n    this.cd = cd;\n    this.loader = loader;\n    this.mapParamsSubject = new Subject();\n    this.mapParams = this.mapParamsSubject.asObservable();\n    this.selectedPlaceId = new Subject();\n    this.resolveAsset = this.assetsService.createAssetsResolver({\n      widgetName: 'bb-places-journey-ang',\n      getURIFromAssetID: placeType => {\n        const found = this.placeTypes.find(type => type === placeType);\n        return found ? this.config.placeTypes[found].markerUrl || defaultPlaceTypeMarkerURI : defaultPlaceTypeMarkerURI;\n      }\n    });\n    this.mapConfigObject = {};\n    this.locations = this.mapParams.pipe(filter(params => params !== undefined), switchMap(params => this.service.getPlaces(params)), map(data => this.config.limitList ? data.slice(0, this.config.limitList) : data), catchError(error => {\n      this.handleError(error);\n      return of([]);\n    }));\n    this.selectedView = 'list';\n    this.latitude = 0;\n    this.longitude = 0;\n    this.radius = 1;\n    this.types = [];\n    this.latitude = this.config.latitude;\n    this.longitude = this.config.longitude;\n    this.radius = this.config.radius;\n    this.limitList = this.config.limitList;\n  } // This is required to show info window only on mobile screen\n\n\n  set groupBtns(elRef) {\n    this.groupBtnRef = elRef;\n    setTimeout(() => {\n      if (!this.groupBtnRef) {\n        return;\n      }\n\n      this.smallScreen = window.getComputedStyle(this.groupBtnRef.nativeElement).display !== 'none';\n    }, 0);\n  }\n\n  loadApi(mapConfig = {}) {\n    this.loader.config = mapConfig;\n    return this.loader.load().then(() => {\n      this.geocoder = new google.maps.Geocoder();\n      return;\n    });\n  }\n\n  getCurrentLocation() {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(location => {\n        this.currentPosition = {\n          lat: location.coords.latitude,\n          lng: location.coords.longitude\n        };\n\n        if (!this.geocoder) {\n          return;\n        }\n\n        this.geocoder.geocode({\n          location: this.currentPosition\n        }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK && results[0]) {\n            const route = results[0].address_components.filter(item => item.types.find(type => type === 'route'));\n            this.currentLocation = route[0].long_name || results[0].formatted_address;\n          }\n        });\n      });\n    }\n  }\n\n  handleError(error) {\n    this.error = parseError(error);\n  }\n\n  get groupBtns() {\n    return this.groupBtnRef;\n  }\n\n  get mapConfig() {\n    return this.mapConfigObject;\n  }\n\n  get placeTypes() {\n    return Object.keys(this.config.placeTypes);\n  }\n\n  get icons() {\n    const types = [defaultPlaceType].concat(this.placeTypes);\n    return combineLatest(types.map(type => this.resolveAsset(type))).pipe(map(assets => {\n      const icons = {};\n\n      for (let i = 0; i < assets.length; i++) {\n        icons[types[i]] = assets[i];\n      }\n\n      return icons;\n    }));\n  }\n\n  get isMetric() {\n    return this.config.measurementSystem !== PlacesMeasurementSystem.METRIC;\n  }\n\n  filterTypes(values) {\n    const types = [];\n    Object.keys(values).forEach(key => {\n      if (values[key]) {\n        types.push(key);\n      }\n    });\n    return types;\n  }\n\n  locationUpdate(params) {\n    this.latitude = params.latitude;\n    this.longitude = params.longitude;\n    this.radius = params.radius || this.config.radius;\n    this.types = params.types || this.types;\n    this.cd.detectChanges();\n    this.mapParamsSubject.next(Object.assign(Object.assign({}, params), {\n      radius: this.config.radius,\n      types: this.types\n    }));\n  }\n\n  handleTypeSearch(types) {\n    this.locationUpdate({\n      latitude: this.latitude,\n      longitude: this.longitude,\n      radius: this.radius,\n      types\n    });\n  }\n\n  handleMapSearch(place) {\n    if (!place.geometry) {\n      return;\n    }\n\n    this.locationUpdate({\n      latitude: place.geometry.location.lat(),\n      longitude: place.geometry.location.lng(),\n      radius: this.config.radius,\n      types: this.types\n    });\n  }\n\n  updatePlaceSelection(place) {\n    this.selectedPlaceId.next(place.id);\n  }\n\n  onMapReady() {\n    // Map is there, so we don't use list limit property to determine list size. Map's zoom and radius parameter are driving it from now on\n    this.limitList = undefined;\n    this.locationUpdate({\n      latitude: this.latitude,\n      longitude: this.longitude,\n      radius: this.radius,\n      types: this.types\n    });\n  }\n\n  ngOnInit() {\n    this.mapConfigObject = {\n      apiKey: this.config.apiKey,\n      libraries: ['geometry']\n    };\n    this.loadApi(this.mapConfigObject).then(() => {\n      this.getCurrentLocation();\n    });\n    this.locationUpdate({\n      latitude: this.config.latitude,\n      longitude: this.config.longitude,\n      radius: this.config.radius\n    });\n  }\n\n}\n\nPlacesViewComponent.ɵfac = function PlacesViewComponent_Factory(t) {\n  return new (t || PlacesViewComponent)(i0.ɵɵdirectiveInject(PlacesJourneyConfigService), i0.ɵɵdirectiveInject(PlacesService), i0.ɵɵdirectiveInject(i1.AssetsService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(MapAPILoaderService));\n};\n\nPlacesViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PlacesViewComponent,\n  selectors: [[\"bb-places-view\"]],\n  viewQuery: function PlacesViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c43, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.groupBtns = _t.first);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([MapAPILoaderService])],\n  ngContentSelectors: _c66,\n  decls: 14,\n  vars: 13,\n  consts: function () {\n    let i18n_44;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Heading for the Places\n       *       journey\n       * @meaning Find Branches and ATMs\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_45 = goog.getMsg(\"Find Branches and ATMs\");\n      i18n_44 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_45;\n    } else {\n      i18n_44 = $localize`:Find Branches and ATMs|Heading for the Places\n      journey@@places.journey.heading.text:Find Branches and ATMs`;\n    }\n\n    let i18n_46;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc List view \n       * @meaning List view button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___47 = goog.getMsg(\" List \");\n      i18n_46 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___47;\n    } else {\n      i18n_46 = $localize`:List view button|List view @@places.toggle.view.list: List `;\n    }\n\n    let i18n_48;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Map view \n       * @meaning Map view Button\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___49 = goog.getMsg(\" Map \");\n      i18n_48 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___49;\n    } else {\n      i18n_48 = $localize`:Map view Button|Map view @@places.toggle.view.map: Map `;\n    }\n\n    let i18n_50;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc current location message for\n       *                   places\n       * @meaning Current Location\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS____51 = goog.getMsg(\"Current Location - {$interpolation}\", {\n        \"interpolation\": \"\\uFFFD0\\uFFFD\"\n      });\n      i18n_50 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS____51;\n    } else {\n      i18n_50 = $localize`:Current Location|current location message for\n                  places@@places.state.currentLocation:Current Location - ${\"\\uFFFD0\\uFFFD\"}:INTERPOLATION:`;\n    }\n\n    let i18n_52;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc filters for types\n       * @meaning filters\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_____53 = goog.getMsg(\"{VAR_SELECT, select, atm {ATM's} branch {Branches}}\");\n      i18n_52 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS_____53;\n    } else {\n      i18n_52 = $localize`:filters|filters for types@@places.filter.types:{VAR_SELECT, select, atm {ATM's} branch {Branches}}`;\n    }\n\n    i18n_52 = i0.ɵɵi18nPostprocess(i18n_52, {\n      \"VAR_SELECT\": \"\\uFFFD0\\uFFFD\"\n    });\n    let i18n_55;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Title of a message that is shown when there are no\n       *       places\n       * @meaning No locations found\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__56 = goog.getMsg(\"No Locations Found\");\n      i18n_55 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__56;\n    } else {\n      i18n_55 = $localize`:No locations found|Title of a message that is shown when there are no\n      places@@places.state.noResultsFound.title:No Locations Found`;\n    }\n\n    let i18n_57;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Subtitle of a message that is shown when there are no\n       *       places\n       * @meaning We could not find any items in this area. Try moving the map or searching\n       *       for a city or branch\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__58 = goog.getMsg(\"We couldn\\u2019t find any branches or ATMs in this region. Try moving the map or searching for a city or branch.\");\n      i18n_57 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS__58;\n    } else {\n      i18n_57 = $localize`:We could not find any items in this area. Try moving the map or searching\n      for a city or branch|Subtitle of a message that is shown when there are no\n      places@@places.state.noResultsFound.subtitle:We couldn’t find any branches or ATMs in this region. Try moving the map or searching for a city or branch.`;\n    }\n\n    let i18n_59;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Title of a message that is shown when page couldn't\n       *           load\n       * @meaning Page couldn’t load\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___60 = goog.getMsg(\"Page couldn\\u2019t load\");\n      i18n_59 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___60;\n    } else {\n      i18n_59 = $localize`:Page couldn’t load|Title of a message that is shown when page couldn't\n          load@@places.state.pageCouldnotLoad.title:Page couldn’t load`;\n    }\n\n    let i18n_61;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      /**\n       * @desc Subtitle\n       *           of a message that is shown when page could not\n       *           load\n       * @meaning Try to reload the page or contact the system administrator.\n       */\n      const MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___62 = goog.getMsg(\"Try to reload the page or contact the system administrator.\");\n      i18n_61 = MSG_C__USERS_HBAYLON_DOCUMENTS_WEST_MONROE_PROJECTS_BACKBASE2_WEB_RETAIL_USA_WEB_NODE_MODULES__BACKBASE_PLACES_JOURNEY_ANG_FESM2015_BACKBASE_PLACES_JOURNEY_ANG_JS___62;\n    } else {\n      i18n_61 = $localize`:Try to reload the page or contact the system administrator.|Subtitle\n          of a message that is shown when page could not\n          load@@places.state.pageCouldnotLoad.subtitle:Try to reload the page or contact the system administrator.`;\n    }\n\n    return [[3, \"ngClass\"], [\"headingType\", \"h1\", \"heading\", i18n_44, 3, \"headingClasses\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"placesContainer\", \"\"], [\"emptyState\", \"\"], [\"loadingState\", \"\"], [\"errorState\", \"\"], [1, \"card\"], [1, \"card-body\"], [1, \"row\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"col-md-6\"], [3, \"config\", \"mapSearch\"], [\"class\", \"bb-inline-stack bb-text-support bb-block bb-block--md\", 4, \"ngIf\"], [\"class\", \"bb-block bb-block--md bb-stack bb-stack--density-xl\", 4, \"ngIf\"], [1, \"bb-text-align-center\", \"bb-block\", \"bb-block--md\", \"d-md-none\"], [\"groupBtns\", \"\"], [1, \"btn-group\", \"btn-group-toggle\", \"bb-block\", \"bb-block--full-width\"], [\"name\", \"list\", 1, \"btn\", \"btn-secondary\", 3, \"ngClass\", \"click\"], i18n_46, [1, \"btn\", \"btn-secondary\", 3, \"ngClass\", \"click\"], i18n_48, [1, \"d-md-block\", 3, \"hidden\"], [1, \"bb-places-list\", 3, \"ngClass\"], [1, \"col-md-6\", \"d-md-block\", 3, \"hidden\"], [3, \"apiKey\", \"config\", \"mapZoom\", \"latitude\", \"longitude\", \"icons\", \"locations\", \"enableInfoWindow\", \"selectedPlaceId\", \"update\", \"selected\", \"mapReady\"], [1, \"bb-inline-stack\", \"bb-text-support\", \"bb-block\", \"bb-block--md\"], [\"name\", \"my-location\", 1, \"bb-inline-stack__item\"], [1, \"bb-inline-stack__item\"], i18n_50, [1, \"bb-block\", \"bb-block--md\", \"bb-stack\", \"bb-stack--density-xl\"], [\"placeTypeFilterForm\", \"ngForm\"], [\"ngModel\", \"\", \"class\", \"bb-stack__item\", 3, \"name\", \"change\", 4, \"ngFor\", \"ngForOf\"], [\"ngModel\", \"\", 1, \"bb-stack__item\", 3, \"name\", \"change\"], i18n_52, [3, \"radius\", \"locations\", \"selectedPlaceId\", \"currentPosition\", \"isMetric\", \"placeTypes\", \"selected\"], [\"title\", i18n_55, \"subtitle\", i18n_57, \"iconSize\", \"xxl\", \"iconModifier\", \"place\", 1, \"bb-text-align-center\"], [3, \"error\"], [\"errorCustomTemplate\", \"\"], [\"title\", i18n_59, \"subtitle\", i18n_61, \"iconSize\", \"xxl\", \"iconModifier\", \"error\", 1, \"bb-text-align-center\"]];\n  },\n  template: function PlacesViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"bb-header-ui\", 1);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 0);\n      i0.ɵɵtemplate(4, PlacesViewComponent_ng_container_4_Template, 1, 0, \"ng-container\", 2);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, PlacesViewComponent_ng_template_6_Template, 4, 4, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(8, PlacesViewComponent_ng_template_8_Template, 1, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(10, PlacesViewComponent_ng_template_10_Template, 1, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(12, PlacesViewComponent_ng_template_12_Template, 3, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(7);\n\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c63, ctx.config.deElevatedHeader));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"headingClasses\", ctx.config.deElevatedHeader ? \"bb-heading-widget__heading\" : \"bb-heading-widget__heading px-0 pb-5\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c64, ctx.config.deElevatedHeader));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", _r1)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(11, _c65, i0.ɵɵpipeBind1(5, 5, ctx.locations)));\n    }\n  },\n  directives: [i1$3.NgClass, i5.HeaderComponent, i1$3.NgTemplateOutlet, i1$3.NgIf, MapSearchComponent, MapWrapperComponent, i1$4.IconComponent, i15.ɵNgNoValidate, i15.NgControlStatusGroup, i15.NgForm, i1$3.NgForOf, i8.InputCheckboxComponent, i15.NgControlStatus, i15.NgModel, PlacesListComponent, i11.EmptyStateComponent, i12.LoadingIndicatorComponent, i13.ErrorCommonStateComponent],\n  pipes: [i1$3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesViewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bb-places-view',\n      templateUrl: './places-view.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [MapAPILoaderService]\n    }]\n  }], function () {\n    return [{\n      type: PlacesJourneyConfigService\n    }, {\n      type: PlacesService\n    }, {\n      type: i1.AssetsService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: MapAPILoaderService\n    }];\n  }, {\n    groupBtns: [{\n      type: ViewChild,\n      args: ['groupBtns']\n    }]\n  });\n})();\n\nclass MapModule {}\n\nMapModule.ɵfac = function MapModule_Factory(t) {\n  return new (t || MapModule)();\n};\n\nMapModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: MapModule\n});\nMapModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [MapAPILoaderService, MapHelpersService],\n  imports: [[CommonModule, SearchBoxModule, ButtonModule, IconModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, SearchBoxModule, ButtonModule, IconModule],\n      declarations: [MapComponent, MapSearchComponent],\n      exports: [MapComponent, MapSearchComponent],\n      providers: [MapAPILoaderService, MapHelpersService]\n    }]\n  }], null, null);\n})();\n\nconst defaultRoute = {\n  path: '',\n  component: PlacesJourneyComponent,\n  children: [{\n    path: '',\n    component: PlacesViewComponent,\n    data: {\n      title: 'Places'\n    }\n  }]\n};\nconst components = [PlacesListComponent, MapWrapperComponent, PlaceDetailsComponent, WorkTimesComponent, KeyboardAccessibilityDirective];\nconst modules = [HeaderModule, EmptyStateModule, ErrorCommonStateModule, LoadingIndicatorModule, IconModule, ButtonModule, MapModule, CollapsibleModule, CollapsibleAccordionModule, InputCheckboxModule];\n\nclass PlacesJourneyModule {\n  static forRoot(data = {\n    route: defaultRoute\n  }) {\n    return {\n      ngModule: PlacesJourneyModule,\n      providers: [provideRoutes([data.route])]\n    };\n  }\n\n}\n\nPlacesJourneyModule.ɵfac = function PlacesJourneyModule_Factory(t) {\n  return new (t || PlacesJourneyModule)();\n};\n\nPlacesJourneyModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PlacesJourneyModule\n});\nPlacesJourneyModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [PlacesService],\n  imports: [[CommonModule, FormsModule, BackbaseCoreModule.withConfig({\n    classMap: {\n      PlacesJourneyComponent\n    }\n  }), RouterModule, ...modules]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PlacesJourneyModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [PlacesJourneyComponent, PlacesViewComponent, ...components],\n      imports: [CommonModule, FormsModule, BackbaseCoreModule.withConfig({\n        classMap: {\n          PlacesJourneyComponent\n        }\n      }), RouterModule, ...modules],\n      providers: [PlacesService]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { PlacesJourneyComponent, PlacesJourneyConfigService, PlacesJourneyConfigurationToken, PlacesJourneyModule, PlacesMeasurementSystem, PlacesService, PlacesViewComponent };","map":{"version":3,"sources":["C:/Users/hbaylon/Documents/West Monroe/Projects/Backbase2/web/retail-usa-web/node_modules/@backbase/places-journey-ang/fesm2015/backbase-places-journey-ang.js"],"names":["i0","InjectionToken","Injectable","Optional","Inject","Component","EventEmitter","ChangeDetectionStrategy","Input","Output","ViewChild","Directive","HostListener","NgModule","i1$3","DatePipe","CommonModule","i1$1","provideRoutes","RouterModule","i1","BackbaseCoreModule","Subject","of","combineLatest","map","filter","switchMap","catchError","i1$2","i5","HeaderModule","i2","SearchBoxModule","i1$4","IconModule","i8","InputCheckboxModule","i2$1","CollapsibleAccordionModule","i3","CollapsibleModule","i11","EmptyStateModule","i12","LoadingIndicatorModule","i13","ErrorCommonStateModule","i15","FormsModule","ButtonModule","PlacesJourneyConfigurationToken","PlacesMeasurementSystem","configDefaults","apiKey","placeTypes","mapZoom","latitude","longitude","radius","limitList","measurementSystem","METRIC","deElevatedHeader","PlacesJourneyConfigService","constructor","config","itemModel","_config","Object","assign","undefined","property","subscribe","next","key","unsubscribe","defaults","ɵfac","ItemModel","ɵprov","type","decorators","args","PlacesJourneyComponent","ɵcmp","RouterOutlet","selector","template","providers","defaultPlaceType","defaultPlaceTypeMarkerURI","defaultPlaceTypeIcon","footInMeter","meterInKM","footInMile","getMessageFromResponse","error","responseBody","errors","message","parseError","ErrorEvent","status","startsWith","GoogleMapsScriptProtocol","MapAPILoaderService","scriptID","callbackName","apiLoadPromiseName","windowRef","window","documentRef","document","configValue","loadAPIPromise","assignScriptLoadingPromise","scriptElem","Promise","resolve","reject","onerror","getScriptSrc","protocolType","protocol","HTTPS","HTTP","hostAndPath","libraries","indexOf","queryParams","v","apiVersion","callback","client","clientId","channel","region","language","params","keys","Array","isArray","length","value","join","load","google","maps","script","createElement","async","defer","id","src","body","appendChild","PlacesService","placesDataHttpService","getPlaces","pipe","data","PlacesHttpService","MapSearchComponent","loader","options","mapSearch","onSearchButtonClick","input","searchBox","inputField","event","trigger","nativeElement","keyCode","stopPropagation","preventDefault","ngOnInit","then","autocomplete","places","Autocomplete","addListener","place","getPlace","geometry","emit","SearchBoxComponent","templateUrl","changeDetection","OnPush","static","WeekDay","WorkTimesComponent","datePipe","day","hours","toLocaleTime","hour","transform","Date","isToday","today","getDay","NgClass","NgIf","NgForOf","PlaceDetailsComponent","weekDay","days","slice","getWorkTimes","time","getFullAddress","address","encodeURI","postalCode","addressLine1","IconComponent","TitleCasePipe","KeyboardAccessibilityDirective","element","tabIndex","eventListener","click","ElementRef","ɵdir","PlacesListComponent","isMetric","selected","locations","distance","calculateDistance","sort","a","b","currentPosition","centerCoords","LatLng","lat","lng","itemCoords","spherical","computeDistanceBetween","isStillOpen","currentDate","closeHour","closeMinute","split","timePart","currentHour","getHours","currentMinute","getMinutes","getDistanceUnits","transM","textContent","transKm","transFt","transMi","onListItemClick","isOpen","getClosingHour","currentDay","todayHours","find","close","getPlaceTypeIcon","iconName","formatDistance","distanceUnit","distanceUnitRatio","convertedDistance","Math","round","unit","CollapsibleAccordionComponent","CollapsibleComponent","CollapsibleHeaderDirective","CollapsibleBodyDirective","selectedPlaceId","MapHelpersService","createMap","el","mapOptions","mapConfig","Map","setMapOptions","setOptions","createMarker","addToMap","Marker","createInfoWindow","InfoWindow","openInfoWindow","infoWindow","marker","open","onMapEvent","eventName","arg","setCenter","latLng","getZoom","getBounds","getMapTypeId","setZoom","zoom","getCenter","panTo","panBy","x","y","fitBounds","panToBounds","triggerMapEvent","MapComponent","helpers","mapReady","mapHelpers","mapContainer","MapWrapperComponent","enableInfoWindow","icons","update","locate","markers","drawMarkers","selectedId","getInfoWindowContent","placeId","wrapperElement","querySelector","innerHTML","getDistance","bounds","getNorthEast","getSouthWest","emitMapUpdate","center","ceil","setCurrentLocationMarker","location","position","clickable","icon","currentLocationIconOptions","locationId","markerClicklistener","content","placeIds","newMarkerList","forEach","includes","push","setMap","item","setOpacity","setIcon","url","getIcon","scaledSize","Size","defaultIcon","iconUrl","placeType","title","$localize","disableDefaultUI","zoomControl","styles","featureType","stylers","visibility","component","mapTypeControlOptions","mapTypeIds","MapTypeId","ROADMAP","path","SymbolPath","CIRCLE","fillColor","fillOpacity","scale","strokeColor","strokeWeight","navigator","geolocation","getCurrentPosition","coords","ngOnChanges","changes","currentValue","PlacesViewComponent","service","assetsService","cd","mapParamsSubject","mapParams","asObservable","resolveAsset","createAssetsResolver","widgetName","getURIFromAssetID","found","markerUrl","mapConfigObject","handleError","selectedView","types","groupBtns","elRef","groupBtnRef","setTimeout","smallScreen","getComputedStyle","display","loadApi","geocoder","Geocoder","getCurrentLocation","geocode","results","GeocoderStatus","OK","route","address_components","currentLocation","long_name","formatted_address","concat","assets","i","filterTypes","values","locationUpdate","detectChanges","handleTypeSearch","handleMapSearch","updatePlaceSelection","onMapReady","AssetsService","ChangeDetectorRef","HeaderComponent","NgTemplateOutlet","ɵNgNoValidate","NgControlStatusGroup","NgForm","InputCheckboxComponent","NgControlStatus","NgModel","EmptyStateComponent","LoadingIndicatorComponent","ErrorCommonStateComponent","AsyncPipe","MapModule","ɵmod","ɵinj","imports","declarations","exports","defaultRoute","children","components","modules","PlacesJourneyModule","forRoot","ngModule","withConfig","classMap"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Component, EventEmitter, ChangeDetectionStrategy, Input, Output, ViewChild, Directive, HostListener, NgModule } from '@angular/core';\nimport * as i1$3 from '@angular/common';\nimport { DatePipe, CommonModule } from '@angular/common';\nimport * as i1$1 from '@angular/router';\nimport { provideRoutes, RouterModule } from '@angular/router';\nimport * as i1 from '@backbase/foundation-ang/core';\nimport { BackbaseCoreModule } from '@backbase/foundation-ang/core';\nimport { Subject, of, combineLatest } from 'rxjs';\nimport { map, filter, switchMap, catchError } from 'rxjs/operators';\nimport * as i1$2 from '@backbase/data-ang/places';\nimport * as i5 from '@backbase/ui-ang/header';\nimport { HeaderModule } from '@backbase/ui-ang/header';\nimport * as i2 from '@backbase/ui-ang/search-box';\nimport { SearchBoxModule } from '@backbase/ui-ang/search-box';\nimport * as i1$4 from '@backbase/ui-ang/icon';\nimport { IconModule } from '@backbase/ui-ang/icon';\nimport * as i8 from '@backbase/ui-ang/input-checkbox';\nimport { InputCheckboxModule } from '@backbase/ui-ang/input-checkbox';\nimport * as i2$1 from '@backbase/ui-ang/collapsible-accordion';\nimport { CollapsibleAccordionModule } from '@backbase/ui-ang/collapsible-accordion';\nimport * as i3 from '@backbase/ui-ang/collapsible';\nimport { CollapsibleModule } from '@backbase/ui-ang/collapsible';\nimport * as i11 from '@backbase/ui-ang/empty-state';\nimport { EmptyStateModule } from '@backbase/ui-ang/empty-state';\nimport * as i12 from '@backbase/ui-ang/loading-indicator';\nimport { LoadingIndicatorModule } from '@backbase/ui-ang/loading-indicator';\nimport * as i13 from '@backbase/ui-ang/common-error-state';\nimport { ErrorCommonStateModule } from '@backbase/ui-ang/common-error-state';\nimport * as i15 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonModule } from '@backbase/ui-ang/button';\n\nconst PlacesJourneyConfigurationToken = new InjectionToken('PlacesJourneyConfiguration injection token');\nvar PlacesMeasurementSystem;\n(function (PlacesMeasurementSystem) {\n    PlacesMeasurementSystem[\"METRIC\"] = \"metric\";\n    PlacesMeasurementSystem[\"US_IMPERIAL\"] = \"imperial\";\n})(PlacesMeasurementSystem || (PlacesMeasurementSystem = {}));\nconst configDefaults = {\n    apiKey: '',\n    placeTypes: {},\n    mapZoom: 15,\n    latitude: 52.3760992,\n    longitude: 4.900779,\n    radius: 2,\n    limitList: 100,\n    measurementSystem: PlacesMeasurementSystem.METRIC,\n    deElevatedHeader: false,\n};\nclass PlacesJourneyConfigService {\n    constructor(config, itemModel) {\n        this.itemModel = itemModel;\n        config = config || {};\n        this._config = Object.assign(Object.assign({}, configDefaults), config);\n        // update the API key from ItemModel if it was not provided from a static config\n        if (this.itemModel && config.apiKey === undefined) {\n            this.itemModel\n                .property('apiKey', this._config.apiKey)\n                .subscribe({\n                next: (key) => {\n                    this._config.apiKey = key;\n                },\n            })\n                .unsubscribe();\n        }\n    }\n    get defaults() {\n        return configDefaults;\n    }\n    /**\n     * API key for Google Maps\n     */\n    get apiKey() {\n        return this._config.apiKey;\n    }\n    /**\n     * Place types configuration. Used to set up marker image and the filter label for any place type available in the service\n     */\n    get placeTypes() {\n        return this._config.placeTypes;\n    }\n    /**\n     * Default zoom value for a map\n     */\n    get mapZoom() {\n        return this._config.mapZoom;\n    }\n    /**\n     * Default map latitude\n     */\n    get latitude() {\n        return this._config.latitude;\n    }\n    /**\n     * Default map longitude\n     */\n    get longitude() {\n        return this._config.longitude;\n    }\n    /**\n     * Default radius in which the locations are being searched while map is not loaded\n     */\n    get radius() {\n        return this._config.radius;\n    }\n    /**\n     * Maximum amount of locations to display\n     */\n    get limitList() {\n        return this._config.limitList;\n    }\n    /**\n     * Measurement system\n     */\n    get measurementSystem() {\n        return this._config.measurementSystem;\n    }\n    /**\n     * Dev config to enable de-elevated header\n     */\n    get deElevatedHeader() {\n        return this._config.deElevatedHeader;\n    }\n}\nPlacesJourneyConfigService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyConfigService, deps: [{ token: PlacesJourneyConfigurationToken, optional: true }, { token: i1.ItemModel, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPlacesJourneyConfigService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyConfigService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyConfigService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [PlacesJourneyConfigurationToken]\n                }] }, { type: i1.ItemModel, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nclass PlacesJourneyComponent {\n}\nPlacesJourneyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nPlacesJourneyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PlacesJourneyComponent, selector: \"bb-places-journey\", providers: [PlacesJourneyConfigService], ngImport: i0, template: '<router-outlet></router-outlet>', isInline: true, directives: [{ type: i1$1.RouterOutlet, selector: \"router-outlet\", outputs: [\"activate\", \"deactivate\"], exportAs: [\"outlet\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-places-journey',\n                    template: '<router-outlet></router-outlet>',\n                    providers: [PlacesJourneyConfigService],\n                }]\n        }] });\n\n/**\n * Default place type that will be used as fallback in case types are not configured in the app\n */\nconst defaultPlaceType = 'bbDefaultPlaceType';\n/**\n * Marker icon for default place type\n */\nconst defaultPlaceTypeMarkerURI = 'bb-default-marker.svg';\n/**\n * List icon name for default place type\n */\nconst defaultPlaceTypeIcon = 'map';\n/**\n * Ratio between foot and meter\n */\nconst footInMeter = 3.28084;\n/**\n * Ratio between meter and kilometer\n */\nconst meterInKM = 1000;\n/**\n * Ratio between foot and mile\n */\nconst footInMile = 5280;\n\nconst getMessageFromResponse = (error) => {\n    const responseBody = error.error;\n    if (responseBody &&\n        responseBody.errors &&\n        responseBody.errors[0] &&\n        responseBody.errors[0].message) {\n        return responseBody.errors[0].message;\n    }\n    else {\n        return undefined;\n    }\n};\nconst parseError = (error) => {\n    // TODO: should have more user-friendly messages\n    if (error.error instanceof ErrorEvent) {\n        // Client-side or network error.\n        return {\n            message: 'An unexpected error occurred',\n        };\n    }\n    else if (error.status && `${error.status}`.startsWith('4')) {\n        // Backend returns unsuccessful response code.  In case of 400, try to get a message from the\n        // response.\n        return {\n            message: getMessageFromResponse(error) || `Error ${error.status}`,\n        };\n    }\n    else {\n        // Backend returns 5xx\n        return {\n            message: 'An unexpected server error occurred',\n        };\n    }\n};\n\nvar GoogleMapsScriptProtocol;\n(function (GoogleMapsScriptProtocol) {\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n})(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\nclass MapAPILoaderService {\n    constructor() {\n        this.scriptID = 'bbGoogleMapsApiScript';\n        this.callbackName = 'bbMapsAPILoader';\n        this.apiLoadPromiseName = 'bbMapsAPILoaderPromise';\n        this.windowRef = window;\n        this.documentRef = document;\n        this.configValue = {};\n    }\n    get config() {\n        return this.configValue;\n    }\n    set config(config) {\n        this.configValue = config;\n    }\n    get loadAPIPromise() {\n        return this.windowRef[this.apiLoadPromiseName];\n    }\n    assignScriptLoadingPromise(scriptElem) {\n        this.windowRef[this.apiLoadPromiseName] = new Promise((resolve, reject) => {\n            this.windowRef[this.callbackName] = () => {\n                resolve();\n            };\n            scriptElem.onerror = (error) => {\n                reject(error);\n            };\n        });\n    }\n    getScriptSrc(callbackName) {\n        const protocolType = (this.configValue && this.configValue.protocol) ||\n            GoogleMapsScriptProtocol.HTTPS;\n        let protocol = '';\n        switch (protocolType) {\n            case GoogleMapsScriptProtocol.HTTP:\n                protocol = 'http:';\n                break;\n            case GoogleMapsScriptProtocol.HTTPS:\n                protocol = 'https:';\n                break;\n        }\n        const hostAndPath = this.configValue.hostAndPath || 'maps.googleapis.com/maps/api/js';\n        // make sure we have places library for search component\n        const libraries = this.configValue.libraries || [];\n        if (libraries.indexOf('places') === -1) {\n            this.configValue.libraries = [...libraries, 'places'];\n        }\n        const queryParams = {\n            v: this.configValue.apiVersion || 'quarterly',\n            callback: callbackName,\n            key: this.configValue.apiKey,\n            client: this.configValue.clientId,\n            channel: this.configValue.channel,\n            libraries: this.configValue.libraries,\n            region: this.configValue.region,\n            language: this.configValue.language,\n        };\n        const params = Object.keys(queryParams)\n            .filter((key) => queryParams[key] !== undefined)\n            .filter((key) => {\n            // remove empty arrays\n            return (!Array.isArray(queryParams[key]) ||\n                (Array.isArray(queryParams[key]) &&\n                    queryParams[key].length > 0));\n        })\n            .map((key) => {\n            let value = queryParams[key];\n            if (Array.isArray(value)) {\n                // join arrays as comma seperated strings\n                value = value.join(',');\n            }\n            return `${key}=${value}`;\n        })\n            .join('&');\n        return `${protocol}//${hostAndPath}?${params}`;\n    }\n    load() {\n        const window = this.windowRef;\n        if (window.google && window.google.maps) {\n            // Google maps already loaded on the page.\n            return Promise.resolve();\n        }\n        if (this.loadAPIPromise) {\n            return this.loadAPIPromise;\n        }\n        const script = this.documentRef.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.defer = true;\n        script.id = this.scriptID;\n        script.src = this.getScriptSrc(this.callbackName);\n        this.assignScriptLoadingPromise(script);\n        this.documentRef.body.appendChild(script);\n        return this.loadAPIPromise;\n    }\n}\nMapAPILoaderService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nMapAPILoaderService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapAPILoaderService, decorators: [{\n            type: Injectable\n        }] });\n\nclass PlacesService {\n    constructor(placesDataHttpService) {\n        this.placesDataHttpService = placesDataHttpService;\n    }\n    getPlaces(params) {\n        return this.placesDataHttpService\n            .getPlaces(params)\n            .pipe(map((data) => data || []));\n    }\n}\nPlacesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesService, deps: [{ token: i1$2.PlacesHttpService }], target: i0.ɵɵFactoryTarget.Injectable });\nPlacesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$2.PlacesHttpService }]; } });\n\nclass MapSearchComponent {\n    constructor(loader) {\n        this.loader = loader;\n        /**\n         * Map autocomplete options object.\n         */\n        this.options = {};\n        /**\n         * Map API configuration.\n         */\n        this.config = {};\n        /**\n         * EventEmitter for triggering a mapSearch event.\n         */\n        this.mapSearch = new EventEmitter();\n    }\n    onSearchButtonClick() {\n        const input = this.searchBox.inputField;\n        if (!input) {\n            return;\n        }\n        // select first result and do the search\n        google.maps.event.trigger(input.nativeElement, 'focus', {});\n        google.maps.event.trigger(input.nativeElement, 'keydown', {\n            keyCode: 40,\n            stopPropagation: () => undefined,\n            preventDefault: () => undefined,\n        });\n        google.maps.event.trigger(input.nativeElement, 'keydown', { keyCode: 13 }); // enter\n    }\n    ngOnInit() {\n        this.loader.config = this.config;\n        this.loader.load().then(() => {\n            const input = this.searchBox.inputField;\n            if (!input) {\n                return;\n            }\n            const autocomplete = new google.maps.places.Autocomplete(input.nativeElement, this.options);\n            autocomplete.addListener('place_changed', () => {\n                const place = autocomplete.getPlace();\n                if (place.geometry) {\n                    this.mapSearch.emit(place);\n                }\n            });\n        });\n    }\n}\nMapSearchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapSearchComponent, deps: [{ token: MapAPILoaderService }], target: i0.ɵɵFactoryTarget.Component });\nMapSearchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: MapSearchComponent, selector: \"bb-map-search-ui\", inputs: { options: \"options\", config: \"config\" }, outputs: { mapSearch: \"mapSearch\" }, viewQueries: [{ propertyName: \"searchBox\", first: true, predicate: [\"bbMapsearch\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"bb-block bb-block--md\\\">\\n  <bb-search-box-ui\\n    placeholder=\\\"Search Branch and Street Names\\\"\\n    i18n-placeholder=\\\"Search for Location@@map-ui.search.placeholder\\\"\\n    aria-label=\\\"Search Branch and Street Name\\\"\\n    i18n-aria-label=\\\"\\n      Search Branch and Street Name aria-label@@map.search.ui.aria-label\\\"\\n    [showSearch]=\\\"true\\\"\\n    (submit)=\\\"onSearchButtonClick()\\\"\\n    #bbMapsearch\\n  >\\n  </bb-search-box-ui>\\n</div>\\n\", components: [{ type: i2.SearchBoxComponent, selector: \"bb-search-box-ui\", inputs: [\"placeholder\", \"maxLength\", \"squareBorder\", \"typeaheadOptions\", \"showSearch\", \"showClear\", \"searchLabel\", \"clearLabel\", \"autocomplete\"], outputs: [\"submit\", \"clear\", \"valueChange\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapSearchComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-map-search-ui',\n                    templateUrl: './map-search.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapAPILoaderService }]; }, propDecorators: { options: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], mapSearch: [{\n                type: Output\n            }], searchBox: [{\n                type: ViewChild,\n                args: ['bbMapsearch', { static: true }]\n            }] } });\n\nvar WeekDay;\n(function (WeekDay) {\n    WeekDay[WeekDay[\"Monday\"] = 1] = \"Monday\";\n    WeekDay[WeekDay[\"Tuesday\"] = 2] = \"Tuesday\";\n    WeekDay[WeekDay[\"Wednesday\"] = 3] = \"Wednesday\";\n    WeekDay[WeekDay[\"Thursday\"] = 4] = \"Thursday\";\n    WeekDay[WeekDay[\"Friday\"] = 5] = \"Friday\";\n    WeekDay[WeekDay[\"Saturday\"] = 6] = \"Saturday\";\n    WeekDay[WeekDay[\"Sunday\"] = 7] = \"Sunday\";\n})(WeekDay || (WeekDay = {}));\n\nclass WorkTimesComponent {\n    constructor(datePipe) {\n        this.datePipe = datePipe;\n        /**\n         * The day number based on WeekDay enum\n         */\n        this.day = 0;\n        /**\n         * Hours related to this day\n         */\n        this.hours = [];\n    }\n    toLocaleTime(hour) {\n        return (this.datePipe.transform(new Date('2000-01-01T' + hour), 'shortTime') ||\n            hour);\n    }\n    isToday(day, today = new Date().getDay()) {\n        today = today || 7;\n        return day === today;\n    }\n}\nWorkTimesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WorkTimesComponent, deps: [{ token: i1$3.DatePipe }], target: i0.ɵɵFactoryTarget.Component });\nWorkTimesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: WorkTimesComponent, selector: \"bb-work-times\", inputs: { day: \"day\", hours: \"hours\" }, providers: [DatePipe], ngImport: i0, template: \"<div\\n  class=\\\"row bb-place-timetable\\\"\\n  [ngClass]=\\\"{\\n    'bb-text-semi-bold': this.isToday(day),\\n    'bb-text-support': !this.isToday(day)\\n  }\\\"\\n>\\n  <span\\n    class=\\\"col-md-5\\\"\\n    i18n=\\\"\\n      Week day name|label for week day name based on work\\n      times@@places.workTimes.dayName\\\"\\n  >\\n    { day, select, 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday}\\n    6 {Saturday} 7 {Sunday} }\\n  </span>\\n  <span class=\\\"col-md-7\\\">\\n    <ng-container *ngIf=\\\"this.hours.length; else closed\\\">\\n      <ng-container *ngFor=\\\"let workHour of this.hours; let i = index\\\"\\n        >{{ this.toLocaleTime(workHour.open) }} -\\n        {{ this.toLocaleTime(workHour.close) }}<br\\n      /></ng-container>\\n    </ng-container>\\n  </span>\\n</div>\\n\\n<ng-template #closed>\\n  <span i18n=\\\"Closed|label for closed day@@places.workTimes.closed\\\"\\n    >Closed</span\\n  >\\n</ng-template>\\n\", directives: [{ type: i1$3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: WorkTimesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-work-times',\n                    templateUrl: './work-times.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [DatePipe],\n                }]\n        }], ctorParameters: function () { return [{ type: i1$3.DatePipe }]; }, propDecorators: { day: [{\n                type: Input\n            }], hours: [{\n                type: Input\n            }] } });\n\nclass PlaceDetailsComponent {\n    // This returns array of weekDay numbers based on the WeekDay enum\n    get weekDay() {\n        const days = Object.keys(WeekDay);\n        return days.slice(0, days.length / 2).map((day) => +day);\n    }\n    getWorkTimes(day, hours) {\n        return hours.filter((time) => time.day === day);\n    }\n    getFullAddress(address) {\n        return address\n            ? encodeURI(`${address.postalCode} ${address.addressLine1}`)\n            : '';\n    }\n}\nPlaceDetailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlaceDetailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nPlaceDetailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PlaceDetailsComponent, selector: \"bb-place-details\", inputs: { place: \"place\" }, providers: [DatePipe], ngImport: i0, template: \"<div class=\\\"bb-place-details\\\">\\n  <div\\n    class=\\\"bb-block bb-block--md\\\"\\n    aria-label=\\\"Get Directions on google maps\\\"\\n    i18n-aria-label=\\\"\\n      Get Directions button\\n      aria-label@@place.details.get.direction.button.aria-label\\\"\\n  >\\n    <a\\n      class=\\\"btn btn-sm btn-outline-primary\\\"\\n      [href]=\\\"\\n        'https://www.google.com/maps/dir//' +\\n        this.getFullAddress(place && place.address)\\n      \\\"\\n      target=\\\"_blank\\\"\\n      i18n=\\\"Get Directions|Get Directions redirect link@@places.directions.get\\\"\\n      rel=\\\"noopener\\\"\\n    >\\n      <bb-icon-ui name=\\\"navigation\\\" size=\\\"md\\\"></bb-icon-ui>\\n      Get Directions\\n    </a>\\n  </div>\\n\\n  <div class=\\\"bb-block bb-block--md\\\" *ngIf=\\\"place?.hours\\\">\\n    <div class=\\\"bb-stack bb-stack--density-sm\\\">\\n      <bb-icon-ui name=\\\"access-time\\\" class=\\\"bb-stack__item\\\"></bb-icon-ui>\\n      <span\\n        class=\\\"bb-stack__item bb-text-semi-bold\\\"\\n        i18n=\\\"Opening Hours|label for Opening Hours@@places.label.openingHours\\\"\\n      >\\n        Opening Hours\\n      </span>\\n    </div>\\n    <ul\\n      class=\\\"bb-list bb-list--density-none\\\"\\n      aria-label=\\\"Opening Hours\\\"\\n      i18n-aria-label=\\\"\\n        Opening Hours list\\n        aria-label@@place.details.opening.hours.list.aria-label\\\"\\n      tabindex=\\\"0\\\"\\n    >\\n      <li *ngFor=\\\"let day of weekDay\\\">\\n        <bb-work-times\\n          [day]=\\\"day\\\"\\n          [hours]=\\\"this.getWorkTimes(day, place?.hours || [])\\\"\\n        ></bb-work-times>\\n      </li>\\n    </ul>\\n  </div>\\n  <div *ngIf=\\\"place?.services?.length\\\">\\n    <div class=\\\"bb-stack bb-stack--density-sm\\\">\\n      <bb-icon-ui name=\\\"supervisor-account\\\" class=\\\"bb-stack__item\\\"></bb-icon-ui>\\n      <span\\n        class=\\\"bb-stack__item bb-text-semi-bold\\\"\\n        i18n=\\\"\\n          Available Services|label for Available\\n          Services@@places.label.availableServices\\\"\\n      >\\n        Available Services\\n      </span>\\n    </div>\\n    <div\\n      aria-label=\\\"Available Services\\\"\\n      i18n-aria-label=\\\"\\n        Available Services list\\n        aria-label@@place.details.available.services.list.aria-label\\\"\\n      tabindex=\\\"0\\\"\\n    >\\n      <div\\n        class=\\\"bb-place-services bb-text-support\\\"\\n        *ngFor=\\\"let service of place?.services\\\"\\n      >\\n        {{ service | titlecase }}\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1$4.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: WorkTimesComponent, selector: \"bb-work-times\", inputs: [\"day\", \"hours\"] }], directives: [{ type: i1$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"titlecase\": i1$3.TitleCasePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlaceDetailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-place-details',\n                    templateUrl: './place-details.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [DatePipe],\n                }]\n        }], propDecorators: { place: [{\n                type: Input\n            }] } });\n\nclass KeyboardAccessibilityDirective {\n    constructor(element) {\n        this.element = element;\n        element.nativeElement.tabIndex = 0;\n    }\n    // eslint-disable-next-line\n    eventListener(event) {\n        this.element.nativeElement.click(event);\n    }\n}\nKeyboardAccessibilityDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: KeyboardAccessibilityDirective, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\nKeyboardAccessibilityDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.16\", type: KeyboardAccessibilityDirective, selector: \"[bbKeyboardAccessibility]\", host: { listeners: { \"keydown.enter\": \"eventListener($event)\", \"keydown.space\": \"eventListener($event)\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: KeyboardAccessibilityDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[bbKeyboardAccessibility]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { eventListener: [{\n                type: HostListener,\n                args: ['keydown.enter', ['$event']]\n            }, {\n                type: HostListener,\n                args: ['keydown.space', ['$event']]\n            }] } });\n\nclass PlacesListComponent {\n    constructor(datePipe) {\n        this.datePipe = datePipe;\n        /**\n         * Map radius.\n         */\n        this.radius = 1;\n        /**\n         * Use metric system for displaying distances.\n         */\n        this.isMetric = true;\n        /**\n         * Provide Place Types\n         */\n        this.placeTypes = {};\n        /**\n         * EventEmitter for triggering a place selection update event.\n         */\n        this.selected = new EventEmitter();\n        this.places = [];\n    }\n    /**\n     * List of locations to be rendered.\n     */\n    set locations(locations) {\n        this.places = locations\n            .map((place) => (Object.assign(Object.assign({}, place), { distance: this.calculateDistance(place) })))\n            .sort((a, b) => (a.distance || 0) - (b.distance || 0));\n    }\n    /**\n     * Uses Google geometry library to calculate distance between two points\n     * Returns undefined if google library or current position is undefined\n     * Returns distance in meters or feet, depending on measurment system property in the widget\n     */\n    calculateDistance(place) {\n        if (typeof google === 'undefined' || this.currentPosition === undefined) {\n            return undefined;\n        }\n        const centerCoords = new google.maps.LatLng(this.currentPosition.lat, this.currentPosition.lng);\n        const itemCoords = new google.maps.LatLng(place.latitude, place.longitude);\n        const distance = google.maps.geometry.spherical.computeDistanceBetween(centerCoords, itemCoords);\n        return this.isMetric ? distance : distance * footInMeter;\n    }\n    isStillOpen(hour, currentDate = new Date()) {\n        const [closeHour, closeMinute] = hour\n            .split(':')\n            .map((timePart) => +timePart);\n        const currentHour = currentDate.getHours();\n        const currentMinute = currentDate.getMinutes();\n        return (currentHour < closeHour ||\n            (currentHour === closeHour && currentMinute < closeMinute));\n    }\n    getDistanceUnits() {\n        if (this.isMetric) {\n            return [\n                this.transM.nativeElement.textContent,\n                this.transKm.nativeElement.textContent,\n            ];\n        }\n        return [\n            this.transFt.nativeElement.textContent,\n            this.transMi.nativeElement.textContent,\n        ];\n    }\n    onListItemClick(isOpen, place) {\n        this.selected.emit(!isOpen\n            ? place\n            : {\n                id: '',\n                latitude: 0,\n                longitude: 0,\n            });\n        return;\n    }\n    getClosingHour(hours, currentDate = new Date()) {\n        if (!hours) {\n            return;\n        }\n        // in specs, Sunday is 7 and in JS it is 0, rest of the days match\n        const currentDay = currentDate.getDay() || 7;\n        const todayHours = hours.find((time) => time.day === currentDay);\n        if (!todayHours) {\n            return;\n        }\n        return ((this.isStillOpen(todayHours.close, currentDate) &&\n            this.datePipe.transform(new Date('2000-01-01T' + todayHours.close), 'shortTime')) ||\n            undefined);\n    }\n    getPlaceTypeIcon(type) {\n        return type && this.placeTypes[type] && this.placeTypes[type].iconName\n            ? this.placeTypes[type].iconName\n            : defaultPlaceTypeIcon;\n    }\n    formatDistance(distance) {\n        const distanceUnit = this.getDistanceUnits();\n        const distanceUnitRatio = this.isMetric ? meterInKM : footInMile;\n        let convertedDistance = Math.round(distance);\n        let unit = distanceUnit[0];\n        if (distance >= distanceUnitRatio) {\n            unit = distanceUnit[1];\n            convertedDistance /= distanceUnitRatio;\n            if (convertedDistance >= 10) {\n                // for distance over 10 km/mi show only integers\n                convertedDistance = Math.round(convertedDistance);\n            }\n            else {\n                // for distance more than 1 km/mi but smaller than 10 km/mi use one decimal point\n                convertedDistance = Math.round(convertedDistance * 10) / 10;\n            }\n        }\n        return `${convertedDistance} ${unit}`;\n    }\n}\nPlacesListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesListComponent, deps: [{ token: i1$3.DatePipe }], target: i0.ɵɵFactoryTarget.Component });\nPlacesListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PlacesListComponent, selector: \"bb-places-list\", inputs: { radius: \"radius\", locations: \"locations\", selectedPlaceId: \"selectedPlaceId\", currentPosition: \"currentPosition\", isMetric: \"isMetric\", placeTypes: \"placeTypes\" }, outputs: { selected: \"selected\" }, providers: [DatePipe], viewQueries: [{ propertyName: \"transM\", first: true, predicate: [\"transM\"], descendants: true, static: true }, { propertyName: \"transKm\", first: true, predicate: [\"transKm\"], descendants: true, static: true }, { propertyName: \"transFt\", first: true, predicate: [\"transFt\"], descendants: true, static: true }, { propertyName: \"transMi\", first: true, predicate: [\"transMi\"], descendants: true, static: true }], ngImport: i0, template: \"<!-- Places List -->\\n<bb-collapsible-accordion-ui\\n  [closeOthers]=\\\"true\\\"\\n  class=\\\"bb-list bb-list--density-md\\\"\\n>\\n  <bb-collapsible-ui\\n    [isOpen]=\\\"place.id === selectedPlaceId\\\"\\n    class=\\\"bb-list__item d-block\\\"\\n    role=\\\"tree\\\"\\n    *ngFor=\\\"let place of places; let i = index\\\"\\n  >\\n    <ng-template bbCollapsibleHeader let-isOpen=\\\"isOpen\\\">\\n      <div\\n        role=\\\"treeitem\\\"\\n        bbKeyboardAccessibility\\n        [attr.aria-expanded]=\\\"isOpen\\\"\\n        (click)=\\\"this.onListItemClick(isOpen, place)\\\"\\n        class=\\\"bb-block\\\"\\n        [class.bb-block--md]=\\\"isOpen\\\"\\n      >\\n        <div class=\\\"bb-stack bb-place-info\\\">\\n          <div class=\\\"bb-inline-stack bb-inline-stack--density-sm\\\">\\n            <bb-icon-ui\\n              [name]=\\\"this.getPlaceTypeIcon(place.placeType)\\\"\\n              size=\\\"md\\\"\\n              class=\\\"bb-inline-stack__item\\\"\\n            ></bb-icon-ui>\\n            <span class=\\\"bb-text-semi-bold\\\">{{ place.name }}</span>\\n          </div>\\n          <bb-icon-ui\\n            class=\\\"bb-stack__item bb-stack__item--push-right\\\"\\n            [name]=\\\"isOpen ? 'toggle-up' : 'toggle-down'\\\"\\n            size=\\\"md\\\"\\n          >\\n          </bb-icon-ui>\\n        </div>\\n        <div class=\\\"bb-place-info__subtitle bb-subtitle\\\">\\n          <div *ngIf=\\\"place.address\\\">\\n            <span>{{ place.address.addressLine1 }}</span>\\n            <span *ngIf=\\\"place.address.addressLine2\\\"\\n              >,\\n              <span>{{ place.address.addressLine2 }}</span>\\n            </span>\\n            <div *ngIf=\\\"place.address.postalCode\\\">\\n              {{ place.address.postalCode }}\\n            </div>\\n          </div>\\n          <div\\n            class=\\\"bb-text-support bb-inline-stack\\\"\\n            *ngIf=\\\"place.distance !== undefined\\\"\\n          >\\n            <bb-icon-ui\\n              name=\\\"near-me\\\"\\n              size=\\\"sm\\\"\\n              class=\\\"bb-inline-stack__item\\\"\\n            ></bb-icon-ui>\\n            <span>{{ this.formatDistance(place.distance) }}</span>\\n          </div>\\n          <div\\n            class=\\\"bb-text-support\\\"\\n            *ngIf=\\\"this.getClosingHour(place.hours) as hour\\\"\\n          >\\n            <span\\n              i18n=\\\"\\n                Open Today until|label for open today\\n                until@@places.openToday.until\\\"\\n              >Open Today until\\n            </span>\\n            <span>{{ hour }}</span>\\n          </div>\\n        </div>\\n      </div>\\n    </ng-template>\\n\\n    <ng-template bbCollapsibleBody>\\n      <bb-place-details [place]=\\\"place\\\"></bb-place-details>\\n    </ng-template>\\n  </bb-collapsible-ui>\\n</bb-collapsible-accordion-ui>\\n\\n<span #transM class=\\\"ng-cloak\\\" i18n=\\\"m|Label for meters@@places.distance.meter\\\"\\n  >m</span\\n>\\n<span\\n  #transKm\\n  class=\\\"ng-cloak\\\"\\n  i18n=\\\"km|Label for kilometers@@places.distance.kilometer\\\"\\n  >km</span\\n>\\n<span #transFt class=\\\"ng-cloak\\\" i18n=\\\"ft|Label for feet@@places.distance.foot\\\"\\n  >ft</span\\n>\\n<span #transMi class=\\\"ng-cloak\\\" i18n=\\\"mi|Label for miles@@places.distance.mile\\\"\\n  >mi</span\\n>\\n\", components: [{ type: i2$1.CollapsibleAccordionComponent, selector: \"bb-collapsible-accordion-ui\", inputs: [\"closeOthers\", \"openFirst\", \"obeyParentAccordion\"] }, { type: i3.CollapsibleComponent, selector: \"bb-collapsible-ui\", inputs: [\"recreateBodyContent\", \"hasChevron\", \"isOpen\"], outputs: [\"isOpenChange\"] }, { type: i1$4.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: PlaceDetailsComponent, selector: \"bb-place-details\", inputs: [\"place\"] }], directives: [{ type: i1$3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.CollapsibleHeaderDirective, selector: \"ng-template[bbCollapsibleHeader]\" }, { type: KeyboardAccessibilityDirective, selector: \"[bbKeyboardAccessibility]\" }, { type: i1$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.CollapsibleBodyDirective, selector: \"ng-template[bbCollapsibleBody]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesListComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-places-list',\n                    templateUrl: './places-list.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [DatePipe],\n                }]\n        }], ctorParameters: function () { return [{ type: i1$3.DatePipe }]; }, propDecorators: { radius: [{\n                type: Input\n            }], locations: [{\n                type: Input\n            }], selectedPlaceId: [{\n                type: Input\n            }], currentPosition: [{\n                type: Input\n            }], isMetric: [{\n                type: Input\n            }], placeTypes: [{\n                type: Input\n            }], selected: [{\n                type: Output\n            }], transM: [{\n                type: ViewChild,\n                args: ['transM', { static: true }]\n            }], transKm: [{\n                type: ViewChild,\n                args: ['transKm', { static: true }]\n            }], transFt: [{\n                type: ViewChild,\n                args: ['transFt', { static: true }]\n            }], transMi: [{\n                type: ViewChild,\n                args: ['transMi', { static: true }]\n            }] } });\n\n/**\n * Handles the communication with the Google Maps Javascript\n * API v3\n */\nclass MapHelpersService {\n    constructor(loader) {\n        this.loader = loader;\n    }\n    createMap(el, mapOptions, mapConfig = {}) {\n        this.loader.config = mapConfig;\n        return this.loader.load().then(() => {\n            this.map = new google.maps.Map(el, mapOptions);\n        });\n    }\n    setMapOptions(options) {\n        this.map.setOptions(options);\n    }\n    /**\n     * Creates a google map marker with the map context\n     */\n    createMarker(options = {}, addToMap = true) {\n        if (addToMap) {\n            options.map = this.map;\n        }\n        return new google.maps.Marker(options);\n    }\n    createInfoWindow(options) {\n        return new google.maps.InfoWindow(options);\n    }\n    openInfoWindow(infoWindow, marker) {\n        return infoWindow.open(this.map, marker);\n    }\n    onMapEvent(eventName, callback) {\n        this.map.addListener(eventName, (arg) => callback(arg));\n    }\n    setCenter(latLng) {\n        return this.map.setCenter(latLng);\n    }\n    getZoom() {\n        return this.map.getZoom();\n    }\n    getBounds() {\n        return this.map.getBounds();\n    }\n    getMapTypeId() {\n        return this.map.getMapTypeId();\n    }\n    setZoom(zoom) {\n        return this.map.setZoom(zoom);\n    }\n    getCenter() {\n        return this.map.getCenter();\n    }\n    panTo(latLng) {\n        return this.map.panTo(latLng);\n    }\n    panBy(x, y) {\n        return this.map.panBy(x, y);\n    }\n    fitBounds(latLng) {\n        return this.map.fitBounds(latLng);\n    }\n    panToBounds(latLng) {\n        return this.map.panToBounds(latLng);\n    }\n    /**\n     * Triggers the given event name on the map instance.\n     */\n    triggerMapEvent(eventName) {\n        return google.maps.event.trigger(this.map, eventName);\n    }\n}\nMapHelpersService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapHelpersService, deps: [{ token: MapAPILoaderService }], target: i0.ɵɵFactoryTarget.Injectable });\nMapHelpersService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapHelpersService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapHelpersService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: MapAPILoaderService }]; } });\n\nclass MapComponent {\n    constructor(helpers) {\n        this.helpers = helpers;\n        /**\n         * Map options object.\n         */\n        this.options = {};\n        /**\n         * Map API configuration.\n         */\n        this.config = {};\n        /**\n         * EventEmitter for triggering a mapReady event.\n         */\n        this.mapReady = new EventEmitter();\n    }\n    get mapHelpers() {\n        return this.helpers;\n    }\n    ngOnInit() {\n        this.helpers\n            .createMap(this.mapContainer.nativeElement, this.options, this.config)\n            .then(() => this.mapReady.emit(this));\n    }\n}\nMapComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapComponent, deps: [{ token: MapHelpersService }], target: i0.ɵɵFactoryTarget.Component });\nMapComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: MapComponent, selector: \"bb-map-ui\", inputs: { options: \"options\", config: \"config\" }, outputs: { mapReady: \"mapReady\" }, viewQueries: [{ propertyName: \"mapContainer\", first: true, predicate: [\"bbMapContainer\"], descendants: true, static: true }], ngImport: i0, template: \"<ng-content select=\\\"[bbMapHeader]\\\"></ng-content>\\n<div #bbMapContainer class=\\\"bb-map\\\"></div>\\n<ng-content select=\\\"[bbMapFooter]\\\"></ng-content>\\n\", changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-map-ui',\n                    templateUrl: './map.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapHelpersService }]; }, propDecorators: { options: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], mapReady: [{\n                type: Output\n            }], mapContainer: [{\n                type: ViewChild,\n                args: ['bbMapContainer', { static: true }]\n            }] } });\n\nclass MapWrapperComponent {\n    constructor() {\n        /**\n         * API key need for the google maps to work.\n         */\n        this.apiKey = '';\n        /**\n         * Map config.\n         */\n        this.config = {};\n        /**\n         * Map zoom.\n         */\n        this.mapZoom = 0;\n        /**\n         * Latitude for the coordinates.\n         */\n        this.latitude = 0;\n        /**\n         * Longitude for the coordinates.\n         */\n        this.longitude = 0;\n        /**\n         * Info window should be displayed after clicking on marker.\n         */\n        this.enableInfoWindow = false;\n        /**\n         * Object to describe the map marker icon.\n         */\n        this.icons = {};\n        /**\n         * EventEmitter for triggering a update event.\n         */\n        this.update = new EventEmitter();\n        /**\n         * EventEmitter for place selection update event.\n         */\n        this.selected = new EventEmitter();\n        /**\n         * EventEmitter for triggering a locate event.\n         */\n        this.locate = new EventEmitter();\n        /**\n         * EventEmitter for triggering a mapReady event.\n         */\n        this.mapReady = new EventEmitter();\n        this.markers = [];\n    }\n    set locations(locations) {\n        this.places = locations;\n        if (this.mapHelpers) {\n            this.drawMarkers();\n        }\n    }\n    set selectedPlaceId(id) {\n        this.selectedId = id;\n        if (this.mapHelpers) {\n            this.drawMarkers();\n        }\n    }\n    getInfoWindowContent(placeId) {\n        const wrapperElement = this.template\n            .nativeElement;\n        const template = wrapperElement.querySelector(`div[data-place-id='${placeId}']`);\n        return template ? template.innerHTML : '';\n    }\n    getDistance(bounds) {\n        if (!bounds) {\n            return 0;\n        }\n        return (google.maps.geometry.spherical.computeDistanceBetween(bounds.getNorthEast(), bounds.getSouthWest()) / 1000);\n    }\n    emitMapUpdate() {\n        if (!this.mapHelpers) {\n            return;\n        }\n        const center = this.mapHelpers.getCenter();\n        this.update.emit({\n            latitude: center.lat(),\n            longitude: center.lng(),\n            radius: Math.ceil(this.getDistance(this.mapHelpers.getBounds()) / 2),\n        });\n    }\n    setCurrentLocationMarker(location) {\n        if (!this.mapHelpers) {\n            return;\n        }\n        this.mapHelpers.createMarker({\n            position: location,\n            clickable: false,\n            icon: this.currentLocationIconOptions,\n            locationId: '',\n        });\n    }\n    markerClicklistener(marker, place) {\n        const helpers = this.mapHelpers;\n        if (this.enableInfoWindow) {\n            if (this.infoWindow) {\n                this.infoWindow.close();\n            }\n            const content = this.getInfoWindowContent(place.id);\n            this.infoWindow = helpers.createInfoWindow({ content });\n            helpers.openInfoWindow(this.infoWindow, marker);\n        }\n        if (this.mapHelpers) {\n            if (marker.locationId === this.selectedId) {\n                this.selected.emit({\n                    id: '',\n                    latitude: 0,\n                    longitude: 0,\n                });\n            }\n            else {\n                this.selected.emit(this.places.find((location) => location.id === marker.locationId));\n            }\n        }\n    }\n    drawMarkers() {\n        if (!Array.isArray(this.places)) {\n            return;\n        }\n        // markers that are not needed anymore, should be cleared\n        const placeIds = this.places.map((place) => place.id);\n        const newMarkerList = [];\n        this.markers.forEach((marker) => {\n            if (placeIds.includes(marker.locationId)) {\n                newMarkerList.push(marker);\n            }\n            else {\n                // eslint-disable-next-line\n                marker.setMap(null);\n            }\n        });\n        this.markers = newMarkerList;\n        // places markers on map\n        this.places.forEach((place) => {\n            let marker = this.markers.find((item) => item.locationId === place.id);\n            if (marker === undefined) {\n                marker = this.createMarker(place);\n                this.markers.push(marker);\n                marker.addListener('click', () => this.markerClicklistener(marker, place));\n            }\n            if (this.selectedId && placeIds.includes(this.selectedId)) {\n                if (place.id === this.selectedId) {\n                    marker.setOpacity(1);\n                    marker.setIcon({\n                        url: marker.getIcon().url,\n                        scaledSize: new google.maps.Size(60, 60),\n                    });\n                }\n                else {\n                    marker.setOpacity(0.5);\n                    marker.setIcon({\n                        url: marker.getIcon().url,\n                    });\n                }\n            }\n            else {\n                marker.setOpacity(1);\n                marker.setIcon({\n                    url: marker.getIcon().url,\n                });\n            }\n        });\n    }\n    createMarker(place) {\n        const helpers = this.mapHelpers;\n        const position = {\n            lat: place.latitude,\n            lng: place.longitude,\n        };\n        // try to find place type icon or try to use fallback icon\n        const defaultIcon = this.icons && Object.keys(this.icons).length\n            ? this.icons[Object.keys(this.icons)[0]]\n            : undefined;\n        const iconUrl = place.placeType && this.icons && this.icons[place.placeType]\n            ? this.icons[place.placeType]\n            : defaultIcon;\n        let marker = {\n            position,\n            locationId: place.id,\n            title: $localize `:@@places.map.marker.title:map marker`,\n        };\n        // if there is no icon at all, use maps default pin\n        if (iconUrl) {\n            marker = Object.assign(Object.assign({}, marker), {\n                icon: {\n                    url: iconUrl,\n                },\n            });\n        }\n        return helpers.createMarker(marker);\n    }\n    /**\n     * List of locations to be rendered.\n     */\n    get locations() {\n        return this.places || [];\n    }\n    /**\n     * Selected place id.\n     */\n    get selectedPlaceId() {\n        return this.selectedId;\n    }\n    get options() {\n        return {\n            center: {\n                lat: this.latitude,\n                lng: this.longitude,\n            },\n            zoom: this.mapZoom,\n            disableDefaultUI: true,\n            zoomControl: true,\n            styles: [\n                {\n                    featureType: 'poi',\n                    stylers: [{ visibility: 'off' }],\n                },\n            ],\n        };\n    }\n    setMapOptions(component) {\n        this.mapHelpers = component.mapHelpers;\n        this.mapHelpers.setMapOptions({\n            mapTypeControlOptions: {\n                mapTypeIds: [google.maps.MapTypeId.ROADMAP],\n            },\n        });\n        this.mapHelpers.onMapEvent('idle', () => this.emitMapUpdate());\n        this.currentLocationIconOptions = {\n            path: google.maps.SymbolPath.CIRCLE,\n            fillColor: '#4285F4',\n            fillOpacity: 1,\n            scale: 6,\n            strokeColor: 'white',\n            strokeWeight: 2,\n        };\n        if ('geolocation' in navigator) {\n            const helpers = this.mapHelpers;\n            navigator.geolocation.getCurrentPosition((location) => {\n                const position = {\n                    lat: location.coords.latitude,\n                    lng: location.coords.longitude,\n                };\n                helpers.setCenter(position);\n                this.setCurrentLocationMarker(position);\n                this.locate.emit(position);\n            });\n        }\n        // Everything set, emit that map is ready\n        this.mapReady.emit();\n    }\n    ngOnChanges(changes) {\n        if (!this.mapHelpers) {\n            return;\n        }\n        if (changes.latitude || changes.longitude) {\n            this.mapHelpers.setCenter({\n                lat: changes.latitude ? changes.latitude.currentValue : this.latitude,\n                lng: changes.longitude\n                    ? changes.longitude.currentValue\n                    : this.longitude,\n            });\n        }\n    }\n}\nMapWrapperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapWrapperComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nMapWrapperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: MapWrapperComponent, selector: \"bb-map-wrapper\", inputs: { apiKey: \"apiKey\", config: \"config\", mapZoom: \"mapZoom\", latitude: \"latitude\", longitude: \"longitude\", enableInfoWindow: \"enableInfoWindow\", icons: \"icons\", locations: \"locations\", selectedPlaceId: \"selectedPlaceId\" }, outputs: { update: \"update\", selected: \"selected\", locate: \"locate\", mapReady: \"mapReady\" }, viewQueries: [{ propertyName: \"template\", first: true, predicate: [\"bbMapInfoWindowContent\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<bb-map-ui\\n  [options]=\\\"this.options\\\"\\n  [config]=\\\"this.config\\\"\\n  (mapReady)=\\\"this.setMapOptions($event)\\\"\\n></bb-map-ui>\\n\\n<div hidden #bbMapInfoWindowContent>\\n  <div [attr.data-place-id]=\\\"place.id\\\" *ngFor=\\\"let place of this.places\\\">\\n    <p class=\\\"bb-text-semi-bold\\\">{{ place.name }}</p>\\n    <div>\\n      {{ place.address?.addressLine1 }}, {{ place.address?.postalCode }}\\n      {{ place.address?.addressLine2 }}\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: MapComponent, selector: \"bb-map-ui\", inputs: [\"options\", \"config\"], outputs: [\"mapReady\"] }], directives: [{ type: i1$3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapWrapperComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-map-wrapper',\n                    templateUrl: './map-wrapper.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { apiKey: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], mapZoom: [{\n                type: Input\n            }], latitude: [{\n                type: Input\n            }], longitude: [{\n                type: Input\n            }], enableInfoWindow: [{\n                type: Input\n            }], icons: [{\n                type: Input\n            }], locations: [{\n                type: Input\n            }], selectedPlaceId: [{\n                type: Input\n            }], update: [{\n                type: Output\n            }], selected: [{\n                type: Output\n            }], locate: [{\n                type: Output\n            }], mapReady: [{\n                type: Output\n            }], template: [{\n                type: ViewChild,\n                args: ['bbMapInfoWindowContent']\n            }] } });\n\nclass PlacesViewComponent {\n    constructor(config, service, assetsService, cd, loader) {\n        this.config = config;\n        this.service = service;\n        this.assetsService = assetsService;\n        this.cd = cd;\n        this.loader = loader;\n        this.mapParamsSubject = new Subject();\n        this.mapParams = this.mapParamsSubject.asObservable();\n        this.selectedPlaceId = new Subject();\n        this.resolveAsset = this.assetsService.createAssetsResolver({\n            widgetName: 'bb-places-journey-ang',\n            getURIFromAssetID: (placeType) => {\n                const found = this.placeTypes.find((type) => type === placeType);\n                return found\n                    ? this.config.placeTypes[found].markerUrl || defaultPlaceTypeMarkerURI\n                    : defaultPlaceTypeMarkerURI;\n            },\n        });\n        this.mapConfigObject = {};\n        this.locations = this.mapParams.pipe(filter((params) => params !== undefined), switchMap((params) => this.service.getPlaces(params)), map((data) => this.config.limitList ? data.slice(0, this.config.limitList) : data), catchError((error) => {\n            this.handleError(error);\n            return of([]);\n        }));\n        this.selectedView = 'list';\n        this.latitude = 0;\n        this.longitude = 0;\n        this.radius = 1;\n        this.types = [];\n        this.latitude = this.config.latitude;\n        this.longitude = this.config.longitude;\n        this.radius = this.config.radius;\n        this.limitList = this.config.limitList;\n    }\n    // This is required to show info window only on mobile screen\n    set groupBtns(elRef) {\n        this.groupBtnRef = elRef;\n        setTimeout(() => {\n            if (!this.groupBtnRef) {\n                return;\n            }\n            this.smallScreen =\n                window.getComputedStyle(this.groupBtnRef.nativeElement).display !==\n                    'none';\n        }, 0);\n    }\n    loadApi(mapConfig = {}) {\n        this.loader.config = mapConfig;\n        return this.loader.load().then(() => {\n            this.geocoder = new google.maps.Geocoder();\n            return;\n        });\n    }\n    getCurrentLocation() {\n        if ('geolocation' in navigator) {\n            navigator.geolocation.getCurrentPosition((location) => {\n                this.currentPosition = {\n                    lat: location.coords.latitude,\n                    lng: location.coords.longitude,\n                };\n                if (!this.geocoder) {\n                    return;\n                }\n                this.geocoder.geocode({ location: this.currentPosition }, (results, status) => {\n                    if (status === google.maps.GeocoderStatus.OK && results[0]) {\n                        const route = results[0].address_components.filter((item) => item.types.find((type) => type === 'route'));\n                        this.currentLocation =\n                            route[0].long_name || results[0].formatted_address;\n                    }\n                });\n            });\n        }\n    }\n    handleError(error) {\n        this.error = parseError(error);\n    }\n    get groupBtns() {\n        return this.groupBtnRef;\n    }\n    get mapConfig() {\n        return this.mapConfigObject;\n    }\n    get placeTypes() {\n        return Object.keys(this.config.placeTypes);\n    }\n    get icons() {\n        const types = [defaultPlaceType].concat(this.placeTypes);\n        return combineLatest(types.map((type) => this.resolveAsset(type))).pipe(map((assets) => {\n            const icons = {};\n            for (let i = 0; i < assets.length; i++) {\n                icons[types[i]] = assets[i];\n            }\n            return icons;\n        }));\n    }\n    get isMetric() {\n        return this.config.measurementSystem !== PlacesMeasurementSystem.METRIC;\n    }\n    filterTypes(values) {\n        const types = [];\n        Object.keys(values).forEach((key) => {\n            if (values[key]) {\n                types.push(key);\n            }\n        });\n        return types;\n    }\n    locationUpdate(params) {\n        this.latitude = params.latitude;\n        this.longitude = params.longitude;\n        this.radius = params.radius || this.config.radius;\n        this.types = params.types || this.types;\n        this.cd.detectChanges();\n        this.mapParamsSubject.next(Object.assign(Object.assign({}, params), { radius: this.config.radius, types: this.types }));\n    }\n    handleTypeSearch(types) {\n        this.locationUpdate({\n            latitude: this.latitude,\n            longitude: this.longitude,\n            radius: this.radius,\n            types,\n        });\n    }\n    handleMapSearch(place) {\n        if (!place.geometry) {\n            return;\n        }\n        this.locationUpdate({\n            latitude: place.geometry.location.lat(),\n            longitude: place.geometry.location.lng(),\n            radius: this.config.radius,\n            types: this.types,\n        });\n    }\n    updatePlaceSelection(place) {\n        this.selectedPlaceId.next(place.id);\n    }\n    onMapReady() {\n        // Map is there, so we don't use list limit property to determine list size. Map's zoom and radius parameter are driving it from now on\n        this.limitList = undefined;\n        this.locationUpdate({\n            latitude: this.latitude,\n            longitude: this.longitude,\n            radius: this.radius,\n            types: this.types,\n        });\n    }\n    ngOnInit() {\n        this.mapConfigObject = {\n            apiKey: this.config.apiKey,\n            libraries: ['geometry'],\n        };\n        this.loadApi(this.mapConfigObject).then(() => {\n            this.getCurrentLocation();\n        });\n        this.locationUpdate({\n            latitude: this.config.latitude,\n            longitude: this.config.longitude,\n            radius: this.config.radius,\n        });\n    }\n}\nPlacesViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesViewComponent, deps: [{ token: PlacesJourneyConfigService }, { token: PlacesService }, { token: i1.AssetsService }, { token: i0.ChangeDetectorRef }, { token: MapAPILoaderService }], target: i0.ɵɵFactoryTarget.Component });\nPlacesViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PlacesViewComponent, selector: \"bb-places-view\", providers: [MapAPILoaderService], viewQueries: [{ propertyName: \"groupBtns\", first: true, predicate: [\"groupBtns\"], descendants: true }], ngImport: i0, template: \"<div\\n  [ngClass]=\\\"{\\n    'bb-heading-widget bb-heading-widget--de-elevated': config.deElevatedHeader\\n  }\\\"\\n>\\n  <bb-header-ui\\n    headingType=\\\"h1\\\"\\n    [headingClasses]=\\\"\\n      config.deElevatedHeader\\n        ? 'bb-heading-widget__heading'\\n        : 'bb-heading-widget__heading px-0 pb-5'\\n    \\\"\\n    heading=\\\"Find Branches and ATMs\\\"\\n    i18n-heading=\\\"\\n      Find Branches and ATMs|Heading for the Places\\n      journey@@places.journey.heading.text\\\"\\n  ></bb-header-ui>\\n  <ng-content></ng-content>\\n</div>\\n\\n<div\\n  [ngClass]=\\\"{ 'container--drag-up container-fluid': config.deElevatedHeader }\\\"\\n>\\n  <ng-container\\n    *ngTemplateOutlet=\\\"placesContainer; context: { places: locations | async }\\\"\\n  ></ng-container>\\n</div>\\n\\n<ng-template #placesContainer let-places=\\\"places\\\">\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-body\\\">\\n      <div class=\\\"row\\\" [class.bb-stack--center]=\\\"this.error\\\">\\n        <ng-container *ngIf=\\\"!this.error; else errorState\\\">\\n          <div class=\\\"col-md-6\\\">\\n            <bb-map-search-ui\\n              [config]=\\\"this.mapConfig\\\"\\n              (mapSearch)=\\\"this.handleMapSearch($event)\\\"\\n            ></bb-map-search-ui>\\n\\n            <div\\n              class=\\\"bb-inline-stack bb-text-support bb-block bb-block--md\\\"\\n              *ngIf=\\\"this.currentLocation\\\"\\n            >\\n              <bb-icon-ui\\n                name=\\\"my-location\\\"\\n                class=\\\"bb-inline-stack__item\\\"\\n              ></bb-icon-ui>\\n              <span\\n                class=\\\"bb-inline-stack__item\\\"\\n                i18n=\\\"\\n                  Current Location|current location message for\\n                  places@@places.state.currentLocation\\\"\\n                >Current Location - {{ this.currentLocation }}</span\\n              >\\n            </div>\\n\\n            <form\\n              #placeTypeFilterForm=\\\"ngForm\\\"\\n              class=\\\"bb-block bb-block--md bb-stack bb-stack--density-xl\\\"\\n              *ngIf=\\\"places && places.length\\\"\\n            >\\n              <bb-input-checkbox-ui\\n                *ngFor=\\\"let type of this.placeTypes; let i = index\\\"\\n                ngModel\\n                [name]=\\\"type\\\"\\n                class=\\\"bb-stack__item\\\"\\n                (change)=\\\"\\n                  this.handleTypeSearch(\\n                    this.filterTypes(placeTypeFilterForm.value)\\n                  )\\n                \\\"\\n              >\\n                <span i18n=\\\"filters|filters for types@@places.filter.types\\\"\\n                  >{type, select, atm {ATM's} branch {Branches}}</span\\n                >\\n              </bb-input-checkbox-ui>\\n            </form>\\n\\n            <div\\n              class=\\\"bb-text-align-center bb-block bb-block--md d-md-none\\\"\\n              #groupBtns\\n            >\\n              <div\\n                class=\\\"btn-group btn-group-toggle bb-block bb-block--full-width\\\"\\n              >\\n                <button\\n                  class=\\\"btn btn-secondary\\\"\\n                  [ngClass]=\\\"{ active: this.selectedView === 'list' }\\\"\\n                  name=\\\"list\\\"\\n                  (click)=\\\"this.selectedView = 'list'\\\"\\n                  i18n=\\\"List view button|List view @@places.toggle.view.list\\\"\\n                >\\n                  List\\n                </button>\\n                <button\\n                  class=\\\"btn btn-secondary\\\"\\n                  [ngClass]=\\\"{ active: this.selectedView === 'map' }\\\"\\n                  (click)=\\\"this.selectedView = 'map'\\\"\\n                  i18n=\\\"Map view Button|Map view @@places.toggle.view.map\\\"\\n                >\\n                  Map\\n                </button>\\n              </div>\\n            </div>\\n\\n            <div [hidden]=\\\"this.selectedView === 'map'\\\" class=\\\"d-md-block\\\">\\n              <div\\n                class=\\\"bb-places-list\\\"\\n                [ngClass]=\\\"\\n                  places && places.length ? '' : 'bb-places-list--empty'\\n                \\\"\\n              >\\n                <ng-container *ngIf=\\\"places; else loadingState\\\">\\n                  <ng-container *ngIf=\\\"places.length; else emptyState\\\">\\n                    <bb-places-list\\n                      [radius]=\\\"this.config.radius\\\"\\n                      [locations]=\\\"places\\\"\\n                      [selectedPlaceId]=\\\"\\n                        (this.selectedPlaceId | async) || undefined\\n                      \\\"\\n                      [currentPosition]=\\\"this.currentPosition\\\"\\n                      [isMetric]=\\\"this.isMetric\\\"\\n                      [placeTypes]=\\\"this.config.placeTypes\\\"\\n                      (selected)=\\\"this.updatePlaceSelection($event)\\\"\\n                    ></bb-places-list>\\n                  </ng-container>\\n                </ng-container>\\n              </div>\\n            </div>\\n          </div>\\n          <div\\n            class=\\\"col-md-6 d-md-block\\\"\\n            [hidden]=\\\"this.selectedView === 'list'\\\"\\n          >\\n            <bb-map-wrapper\\n              [apiKey]=\\\"this.config.apiKey\\\"\\n              [config]=\\\"this.mapConfig\\\"\\n              [mapZoom]=\\\"this.config.mapZoom\\\"\\n              [latitude]=\\\"this.latitude\\\"\\n              [longitude]=\\\"this.longitude\\\"\\n              [icons]=\\\"this.icons | async\\\"\\n              [locations]=\\\"places\\\"\\n              [enableInfoWindow]=\\\"!!this.smallScreen\\\"\\n              [selectedPlaceId]=\\\"(this.selectedPlaceId | async) || undefined\\\"\\n              (update)=\\\"this.locationUpdate($event)\\\"\\n              (selected)=\\\"this.updatePlaceSelection($event)\\\"\\n              (mapReady)=\\\"this.onMapReady()\\\"\\n            ></bb-map-wrapper>\\n          </div>\\n        </ng-container>\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<!-- Empty List -->\\n<ng-template #emptyState>\\n  <bb-empty-state-ui\\n    class=\\\"bb-text-align-center\\\"\\n    i18n-title=\\\"\\n      No locations found|Title of a message that is shown when there are no\\n      places@@places.state.noResultsFound.title\\\"\\n    i18n-subtitle=\\\"\\n      We could not find any items in this area. Try moving the map or searching\\n      for a city or branch|Subtitle of a message that is shown when there are no\\n      places@@places.state.noResultsFound.subtitle\\\"\\n    title=\\\"No Locations Found\\\"\\n    subtitle=\\\"We couldn\\u2019t find any branches or ATMs in this region. Try moving the map or searching for a city or branch.\\\"\\n    iconSize=\\\"xxl\\\"\\n    iconModifier=\\\"place\\\"\\n  ></bb-empty-state-ui>\\n</ng-template>\\n\\n<!-- Loading State -->\\n<ng-template #loadingState>\\n  <bb-loading-indicator-ui\\n    i18n-text=\\\"\\n      Loading places data|Text to display while loading\\n      places@@places.state.loadingPlaces\\\"\\n  ></bb-loading-indicator-ui>\\n</ng-template>\\n\\n<!-- Error State -->\\n<ng-template #errorState>\\n  <bb-common-error-state-ui [error]=\\\"errorCustomTemplate\\\">\\n    <ng-template #errorCustomTemplate>\\n      <bb-empty-state-ui\\n        class=\\\"bb-text-align-center\\\"\\n        i18n-title=\\\"\\n          Page couldn\\u2019t load|Title of a message that is shown when page couldn't\\n          load@@places.state.pageCouldnotLoad.title\\\"\\n        i18n-subtitle=\\\"\\n          Try to reload the page or contact the system administrator.|Subtitle\\n          of a message that is shown when page could not\\n          load@@places.state.pageCouldnotLoad.subtitle\\\"\\n        title=\\\"Page couldn\\u2019t load\\\"\\n        subtitle=\\\"Try to reload the page or contact the system administrator.\\\"\\n        iconSize=\\\"xxl\\\"\\n        iconModifier=\\\"error\\\"\\n      ></bb-empty-state-ui>\\n    </ng-template>\\n  </bb-common-error-state-ui>\\n</ng-template>\\n\", components: [{ type: i5.HeaderComponent, selector: \"bb-header-ui\", inputs: [\"headingClasses\", \"headingType\", \"heading\"] }, { type: MapSearchComponent, selector: \"bb-map-search-ui\", inputs: [\"options\", \"config\"], outputs: [\"mapSearch\"] }, { type: i1$4.IconComponent, selector: \"bb-icon-ui\", inputs: [\"name\", \"inverse\", \"size\", \"color\", \"animate\", \"aria-label\", \"cropped\", \"backgroundType\"] }, { type: i8.InputCheckboxComponent, selector: \"bb-input-checkbox-ui\", inputs: [\"indeterminate\"], outputs: [\"indeterminateChange\"] }, { type: PlacesListComponent, selector: \"bb-places-list\", inputs: [\"radius\", \"locations\", \"selectedPlaceId\", \"currentPosition\", \"isMetric\", \"placeTypes\"], outputs: [\"selected\"] }, { type: MapWrapperComponent, selector: \"bb-map-wrapper\", inputs: [\"apiKey\", \"config\", \"mapZoom\", \"latitude\", \"longitude\", \"enableInfoWindow\", \"icons\", \"locations\", \"selectedPlaceId\"], outputs: [\"update\", \"selected\", \"locate\", \"mapReady\"] }, { type: i11.EmptyStateComponent, selector: \"bb-empty-state-ui\", inputs: [\"title\", \"subtitle\", \"showIcon\", \"iconClasses\", \"iconModifier\", \"iconSize\", \"iconColor\"] }, { type: i12.LoadingIndicatorComponent, selector: \"bb-loading-indicator-ui\", inputs: [\"text\", \"loaderSize\", \"showDelay\", \"hasBackground\", \"inline\"] }, { type: i13.ErrorCommonStateComponent, selector: \"bb-common-error-state-ui\", inputs: [\"error\"] }], directives: [{ type: i1$3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1$3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i1$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i15.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i15.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i15.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i15.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i15.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i1$3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesViewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'bb-places-view',\n                    templateUrl: './places-view.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [MapAPILoaderService],\n                }]\n        }], ctorParameters: function () { return [{ type: PlacesJourneyConfigService }, { type: PlacesService }, { type: i1.AssetsService }, { type: i0.ChangeDetectorRef }, { type: MapAPILoaderService }]; }, propDecorators: { groupBtns: [{\n                type: ViewChild,\n                args: ['groupBtns']\n            }] } });\n\nclass MapModule {\n}\nMapModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nMapModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapModule, declarations: [MapComponent, MapSearchComponent], imports: [CommonModule, SearchBoxModule, ButtonModule, IconModule], exports: [MapComponent, MapSearchComponent] });\nMapModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapModule, providers: [MapAPILoaderService, MapHelpersService], imports: [[CommonModule, SearchBoxModule, ButtonModule, IconModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: MapModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, SearchBoxModule, ButtonModule, IconModule],\n                    declarations: [MapComponent, MapSearchComponent],\n                    exports: [MapComponent, MapSearchComponent],\n                    providers: [MapAPILoaderService, MapHelpersService],\n                }]\n        }] });\n\nconst defaultRoute = {\n    path: '',\n    component: PlacesJourneyComponent,\n    children: [\n        {\n            path: '',\n            component: PlacesViewComponent,\n            data: { title: 'Places' },\n        },\n    ],\n};\nconst components = [\n    PlacesListComponent,\n    MapWrapperComponent,\n    PlaceDetailsComponent,\n    WorkTimesComponent,\n    KeyboardAccessibilityDirective,\n];\nconst modules = [\n    HeaderModule,\n    EmptyStateModule,\n    ErrorCommonStateModule,\n    LoadingIndicatorModule,\n    IconModule,\n    ButtonModule,\n    MapModule,\n    CollapsibleModule,\n    CollapsibleAccordionModule,\n    InputCheckboxModule,\n];\nclass PlacesJourneyModule {\n    static forRoot(data = { route: defaultRoute }) {\n        return {\n            ngModule: PlacesJourneyModule,\n            providers: [provideRoutes([data.route])],\n        };\n    }\n}\nPlacesJourneyModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPlacesJourneyModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyModule, declarations: [PlacesJourneyComponent, PlacesViewComponent, PlacesListComponent,\n        MapWrapperComponent,\n        PlaceDetailsComponent,\n        WorkTimesComponent,\n        KeyboardAccessibilityDirective], imports: [CommonModule,\n        FormsModule, i1.BackbaseCoreModule, RouterModule, HeaderModule,\n        EmptyStateModule,\n        ErrorCommonStateModule,\n        LoadingIndicatorModule,\n        IconModule,\n        ButtonModule,\n        MapModule,\n        CollapsibleModule,\n        CollapsibleAccordionModule,\n        InputCheckboxModule] });\nPlacesJourneyModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyModule, providers: [PlacesService], imports: [[\n            CommonModule,\n            FormsModule,\n            BackbaseCoreModule.withConfig({\n                classMap: { PlacesJourneyComponent },\n            }),\n            RouterModule,\n            ...modules,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PlacesJourneyModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [PlacesJourneyComponent, PlacesViewComponent, ...components],\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        BackbaseCoreModule.withConfig({\n                            classMap: { PlacesJourneyComponent },\n                        }),\n                        RouterModule,\n                        ...modules,\n                    ],\n                    providers: [PlacesService],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { PlacesJourneyComponent, PlacesJourneyConfigService, PlacesJourneyConfigurationToken, PlacesJourneyModule, PlacesMeasurementSystem, PlacesService, PlacesViewComponent };\n"]},"metadata":{},"sourceType":"module"}